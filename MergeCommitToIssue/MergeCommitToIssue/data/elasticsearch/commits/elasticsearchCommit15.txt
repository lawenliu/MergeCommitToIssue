time:
2015-10-03T14:40:27Z
class:
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
comments:
Merge pull request #13828 from ywelsch/fix-snapshot-restore-throttling

Snapshot restore operations throttle more than specified

time:
2015-10-03T14:39:00Z
class:
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
comments:
Snapshot restore operations throttle more than specified

Lucene's RateLimiter can do too much sleeping on small values (see also #6018).
The issue here is that calls to "pause" are not properly guarded in "restoreFile".

Instead of simply adding the guard, this commit uses the RateLimitingInputStream similar as for "snapshotFile".

Closes #13828

time:
2015-10-03T09:09:07Z
class:
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerTests.java
comments:
a start

time:
2015-10-02T20:58:14Z
class:
comments:
Forbid use of com.google.common.io.Resources

time:
2015-10-02T19:49:07Z
class:
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
comments:
Verify Checksum once it has been fully written to fail as soon as possible

Today we are relying on calling Store.verify on the closed stream to validate the
checksum. This is still necessary to catch file truncation but for an actually corrupted
file or checksum we can fail early and check the checksum against the actual metadata
once it's been fully written to the VerifyingIndexOutput.

time:
2015-10-02T19:18:34Z
class:
core/src/main/java/org/elasticsearch/index/similarity/Similarities.java
core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java
comments:
Merge pull request #13909 from jasontedor/immutable-collections-be-gone

Remove and forbid use of com.google.common.collect.ImmutableCollection

time:
2015-10-02T18:09:34Z
class:
core/src/test/java/org/elasticsearch/search/suggest/SuggestSearchIT.java
comments:
Merge remote-tracking branch 'origin/master'

time:
2015-10-02T17:25:27Z
class:
comments:
Update `cat allocation` doc

time:
2015-10-02T16:27:30Z
class:
core/src/main/java/org/elasticsearch/index/similarity/Similarities.java
core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java
comments:
Remove and forbid use of com.google.common.collect.ImmutableCollection

This commit removes and now forbids all uses of
com.google.common.collect.ImmutableCollection across the codebase. This
is one of the final steps in the eventual removal of Guava as a
dependency.

Relates #13224

time:
2015-10-02T16:11:54Z
class:
comments:
Merge pull request #13890 from veatch/patch-1

Clarify that aliases and indices can't share names

time:
2015-10-02T16:09:00Z
class:
core/src/test/java/org/elasticsearch/search/suggest/SuggestSearchIT.java
comments:
Merge pull request #13908 from jasontedor/resources-be-gone

Remove and forbid use of com.google.common.io.Resources

time:
2015-10-02T15:42:40Z
class:
core/src/test/java/org/elasticsearch/search/suggest/SuggestSearchIT.java
comments:
Remove and forbid use of com.google.common.o.Resources

This commit removes and now forbids all uses of
com.google.common.io.Resources across the codebase. This is one of the
few remaining steps in the eventual removal of Guava as a dependency.

Relates #13224

time:
2015-10-02T14:46:45Z
class:
comments:
Update get-settings.asciidoc

Fixed docs for filtering index settings in get-settings APICloses #13872

time:
2015-10-02T14:29:13Z
class:
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/Ec2Module.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/discovery/ec2/Ec2Discovery.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/plugin/discovery/ec2/Ec2DiscoveryPlugin.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoverySettingsTests.java
comments:
Merge branch 'pr/ec2-start-if-discovery-type'

time:
2015-10-02T14:24:05Z
class:
comments:
Merge pull request #13868 from hafkensite/patch-1

Update example with parameters

time:
2015-10-02T13:43:26Z
class:
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/index/analysis/Analysis.java
core/src/main/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapper.java
core/src/main/java/org/elasticsearch/percolator/MultiDocumentPercolatorIndex.java
core/src/main/java/org/elasticsearch/percolator/SingleDocumentPercolatorIndex.java
core/src/main/java/org/elasticsearch/search/highlight/PlainHighlighter.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestUtils.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionTokenStream.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
core/src/test/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapperTests.java
comments:
Merge pull request #13870 from mikemccand/close_tokenstream

Close TokenStream in finally clause

time:
2015-10-02T11:22:05Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsAction.java
core/src/main/java/org/elasticsearch/client/node/NodeClient.java
core/src/main/java/org/elasticsearch/cluster/RestoreInProgress.java
core/src/main/java/org/elasticsearch/common/collect/MapBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/gateway/DanglingIndicesState.java
core/src/main/java/org/elasticsearch/http/HttpServer.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/similarity/DFRSimilarityProvider.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshots.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/query/IndicesQueriesRegistry.java
core/src/main/java/org/elasticsearch/node/service/NodeService.java
core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java
core/src/main/java/org/elasticsearch/script/ScriptModes.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
comments:
Remove ImmutableMap#copyOf from core/src/main

Mostly favoring unmodifiableMap and making sure to only wrap maps that aren't
otherwise returned and so cannot be copied.

MapMaker#immutableMap has to go next.

time:
2015-10-02T10:54:07Z
class:
comments:
Get field mapping documented fields as field

time:
2015-10-02T10:30:40Z
class:
comments:
 indices.close takes a list of indices

 not single index

time:
2015-10-02T10:28:53Z
class:
comments:
indices.open takes a list of indices

not single index

time:
2015-10-02T09:55:36Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
comments:
Correct condition for when time is needed

time:
2015-10-02T02:01:40Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
core/src/main/java/org/elasticsearch/search/fetch/explain/ExplainFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/version/VersionFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
core/src/main/java/org/elasticsearch/search/lookup/LeafFieldsLookup.java
core/src/test/java/org/elasticsearch/benchmark/cluster/ClusterAllocationRerouteBenchmark.java
core/src/test/java/org/elasticsearch/cluster/node/DiscoveryNodeFiltersTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AwarenessAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FilterRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferLocalPrimariesToRelocatingPrimariesTests.java
core/src/test/java/org/elasticsearch/cluster/structure/RoutingIteratorTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/XContentMapValuesTests.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/search/query/ExistsMissingIT.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TransformOnIndexMapperTests.java
comments:
Remove multi-arg ImmutableMap#of variants

time:
2015-10-02T00:44:28Z
class:
core/src/test/java/org/elasticsearch/cluster/node/DiscoveryNodeFiltersTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SameShardRoutingTests.java
core/src/test/java/org/elasticsearch/common/collect/CopyOnWriteHashMapTests.java
core/src/test/java/org/elasticsearch/discovery/ZenFaultDetectionTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
core/src/test/java/org/elasticsearch/search/query/ExistsMissingIT.java
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTestCase.java
core/src/test/java/org/elasticsearch/transport/netty/NettyScheduledPingTests.java
comments:
Finish removing ImmutableMap#of from tests

time:
2015-10-01T23:35:32Z
class:
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchHelper.java
core/src/main/java/org/elasticsearch/indices/flush/ShardsSyncedFlushResult.java
core/src/main/java/org/elasticsearch/repositories/RepositoriesService.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationStreams.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/BucketStreams.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorStreams.java
core/src/main/java/org/elasticsearch/search/lookup/SourceLookup.java
comments:
Finish removing ImmutableMap#of

We'll need to be more careful with CopyOnWriteHashMap than I was at first.

time:
2015-10-01T22:40:38Z
class:
core/src/main/java/org/elasticsearch/index/similarity/SimilarityLookupService.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationStreams.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregations.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/BucketStreams.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorStreams.java
comments:
Remove more ImmutableMap#of

TODO - look for places where CopyOnWriteHashMap will do.

time:
2015-10-01T22:18:05Z
class:
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTableValidation.java
core/src/main/java/org/elasticsearch/common/Table.java
core/src/main/java/org/elasticsearch/common/path/PathTrie.java
core/src/main/java/org/elasticsearch/gateway/DanglingIndicesState.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/get/GetResult.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/Mapping.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorStreams.java
core/src/main/java/org/elasticsearch/search/dfs/DfsPhase.java
core/src/test/java/org/elasticsearch/common/path/PathTrieTests.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
comments:
Yet more ImmutableMap#of removal

Did some refactoring of PathTrie along the way to remove warnings. Added a
simple toString to it to make it easier to debug.

time:
2015-10-01T21:29:29Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/Mapping.java
core/src/main/java/org/elasticsearch/index/query/ParsedQuery.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/node/service/NodeService.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
comments:
More removing ImmutableMap#of()

time:
2015-10-01T20:52:07Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsResponse.java
core/src/main/java/org/elasticsearch/cluster/RestoreInProgress.java
core/src/main/java/org/elasticsearch/common/transport/TransportAddressSerializers.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
core/src/main/java/org/elasticsearch/index/search/stats/ShardSearchStats.java
core/src/main/java/org/elasticsearch/search/fetch/matchedqueries/MatchedQueriesFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
comments:
Start removing ImmutableMap#of

time:
2015-10-01T20:51:39Z
class:
comments:
Merge pull request #13891 from josegonzalez/patch-1

Update link to Jepsen related test class

time:
2015-10-01T20:34:19Z
class:
comments:
Update link to Jepsen related test class

time:
2015-10-01T19:48:40Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
core/src/main/java/org/elasticsearch/cluster/ClusterInfo.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/cluster/settings/DynamicSettings.java
core/src/main/java/org/elasticsearch/common/util/CollectionUtils.java
core/src/main/java/org/elasticsearch/gateway/GatewayService.java
core/src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
core/src/test/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ClusterStateCreationUtils.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/DiskUsageTests.java
core/src/test/java/org/elasticsearch/cluster/MockInternalClusterInfoService.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AddIncrementallyTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceConfigurationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/StartedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerIT.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
comments:
Remove and ban unmodifiableMap in cluster package

We're concerned that unmodifiableMap uses significantly more memory than
ImmutableMap did - especially in cluster state - so we ban it there outright
and move to ImmutableOpenMap.

Removes ClusterState$Builder#routingTable(RoutingTable$Builder) because that
method had the side effect of building the routing table which can only be
done once per RoutingTable$Builder now that it uses ImmutableOpenMap.

time:
2015-10-01T19:21:34Z
class:
comments:
Clarify that aliases and indices can't share names

time:
2015-10-01T18:32:22Z
class:
comments:
indices get template accepts a list of names

not just string

time:
2015-10-01T18:26:58Z
class:
core/src/main/java/org/elasticsearch/rest/action/cat/RestAllocationAction.java
comments:
Merge pull request #13783 from andrestc/feature/disk-used-by-es

Adds disk used by indices to _cat/allocationcloses #13529

time:
2015-10-01T14:48:37Z
class:
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
comments:
Call verify on index input after copying

time:
2015-10-01T14:13:34Z
class:
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
comments:
[TEST] Add some debug output to HasChildQueryBuilderTests

time:
2015-10-01T13:14:23Z
class:
comments:
Smoke tester: Remove deprecated verbose flag for run() method

time:
2015-10-01T11:16:58Z
class:
core/src/main/java/org/elasticsearch/rest/action/cat/RestAllocationAction.java
comments:
Adds disk used by indices to _cat/allocation

Sets Store flag on request

time:
2015-10-01T08:46:55Z
class:
core/src/test/java/org/elasticsearch/indices/recovery/RecoverySourceHandlerTests.java
comments:
[TEST] ensure files are synced otherwise MDW will corrupt them afterwards

time:
2015-10-01T05:14:08Z
class:
core/src/main/java/org/elasticsearch/bootstrap/JarHell.java
core/src/test/java/org/elasticsearch/bootstrap/JarHellTests.java
comments:
Merge remote-tracking branch 'origin/master'

time:
2015-10-01T00:08:14Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
core/src/main/java/org/elasticsearch/common/cache/CacheLoader.java
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
core/src/main/java/org/elasticsearch/indices/cache/request/IndicesRequestCache.java
core/src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
core/src/test/java/org/elasticsearch/common/cache/CacheTests.java
comments:
Cache#computeIfAbsent loader can throw checked exceptions

time:
2015-09-30T23:41:29Z
class:
core/src/test/java/org/elasticsearch/common/cache/CacheTests.java
comments:
Start test threads at the same time

time:
2015-09-30T23:18:26Z
class:
core/src/test/java/org/elasticsearch/common/cache/CacheTests.java
comments:
Forbidden means verboten!

time:
2015-09-30T23:16:33Z
class:
core/src/test/java/org/elasticsearch/common/cache/CacheTests.java
comments:
Replace CyclicBarrier with CountDownLatch

time:
2015-09-30T23:04:20Z
class:
core/src/test/java/org/elasticsearch/common/cache/CacheTests.java
comments:
Remove hidden synchronization from test
fyi usually we just use CountDownLatch(1) and then shoot the gun with countDown(). CyclicBarrier is too complicated for me :)

This should fail forbidden apis i hope!

Before creating the new thread, can we just do `final Random random = new Random(random().nextLong())`. This stands a chance to reproduce.

fyi, if you liked the methods you were using, you can still use them. They should all optionally take a Random parameter for when you want to be explicit like this, e.g. `rarely(Random)`

Replaced in 4efe7b9c189f5d4c236ff21abe026a85f50bdacb.

Yikes! See 50cfe71b2a98a80a8287ad9064d69bc99fa99023.

Only `rarely`, but using this is no longer an option because there's a chance the invalidation could be the final operation on the cache causing the actual count to be less than the cache capacity. The previous use of `AtomicInteger` in these tests was there exactly to track this, but operations with `AtomicInteger` are going to cause [memory barriers](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/package-summary.html). As you previously pointed out, we don't want this.


time:
2015-09-30T22:59:27Z
class:
core/src/main/java/org/elasticsearch/bootstrap/JarHell.java
core/src/test/java/org/elasticsearch/bootstrap/JarHellTests.java
comments:
Nuke ES_CLASSPATH appending, JarHell fail on empty classpath elements

Closes #13880

Squashed commit of the following:

commit 316a328e5032e580ba840db993d907631334aac0
Author: Robert Muir <rmuir@apache.org>
Date:   Wed Sep 30 16:57:47 2015 -0400

    windows is terrible

commit 0406b560c58bf833f8d77af9c7cf3386771dd9c5
Author: Robert Muir <rmuir@apache.org>
Date:   Wed Sep 30 16:43:09 2015 -0400

    Nuke ES_CLASSPATH appending

    Out of box, ES expects its stuff to be in particular places. We should not be appending to ES_CLASSPATH, allowing users to specify stuff there, like we do in elasticsearch.bin.sh

    If the user sets it, its not going to work out of box.

    Closes #13812

commit 415d8972df28eddec322bb6d70100a1993fa95f6
Author: Robert Muir <rmuir@apache.org>
Date:   Wed Sep 30 16:26:35 2015 -0400

    Fail hard on empty classpath elements.

    This can happen easily, if somehow old 1.x shellscripts survive and try to launch 2.x code.
    I have the feeling this happens maybe because of packaging upgrades or something.
    Either way: we can just fail hard and clear in this situation, rather than the current situation
    where CWD might be /, and we might traverse the entire filesystem until we hit an error...

    Relates to #13864

time:
2015-09-30T22:47:08Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
comments:
Lookups from computeIfAbsent should propogate now

time:
2015-09-30T22:37:49Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
core/src/test/java/org/elasticsearch/common/cache/CacheTests.java
comments:
Cleanup formatting

time:
2015-09-30T22:35:17Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginInfo.java
core/src/test/java/org/elasticsearch/plugins/PluginInfoTests.java
comments:
Update version incompatibility message for plugin manager

When the plugin manager does not find in `plugin-descriptor.properties` the exact same elasticsearch version it was built on
as the current elasticsearch version, it fails with a message like:

```
ERROR: Elasticsearch version [2.0.0-beta1] is too old for plugin [elasticsearch-mapper-attachments]
```

Actually, the message should be:

```
Plugin [elasticsearch-mapper-attachments] is incompatible with Elasticsearch [2.0.0.beta2]. Was designed for version [2.0.0.beta1].
```

The opposite is true. If you try to install a version of a plugin which was built with a newer version of elasticsearch, it will fail the same way:

```
Plugin [elasticsearch-mapper-attachments] is incompatible with Elasticsearch [2.0.0.beta1]. Was designed for version [2.0.0.beta2].
```

time:
2015-09-30T22:32:44Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
core/src/test/java/org/elasticsearch/common/cache/CacheTests.java
comments:
Ensure that computeIfAbsent loader is invoked at-most once

time:
2015-09-30T22:22:10Z
class:
comments:
update documentation with release 3.0.1

time:
2015-09-30T22:15:34Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
comments:
Use try-with-resources for lock acquisition

time:
2015-09-30T22:11:32Z
class:
comments:
Update to elasticsearch 2.0.0.beta2

Closes #161.
Closes #162.

(cherry picked from commit 8583ce9)

time:
2015-09-30T20:46:14Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
comments:
Remove unnecessary overrides of equals/hashCode in Cache.Entry

time:
2015-09-30T20:44:41Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
core/src/main/java/org/elasticsearch/common/cache/CacheBuilder.java
core/src/main/java/org/elasticsearch/indices/cache/request/IndicesRequestCache.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/test/java/org/elasticsearch/common/cache/CacheTests.java
comments:
Add support for expiration after write to Cache

This commit adds supports for expiration after writes to Cache. This
enables entries to expire after they were initially placed in the cache
without prolonging their life on retrieval. Replacements are considered
new writes.

time:
2015-09-30T20:13:50Z
class:
core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
core/src/test/java/org/elasticsearch/script/MockScriptEngine.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TopHitsIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
core/src/test/java/org/elasticsearch/search/nested/SimpleNestedIT.java
comments:
Merge pull request #13878 from martijnvg/fix_some_messy_tests

fixed some messy tests

time:
2015-09-30T19:48:17Z
class:
core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
core/src/test/java/org/elasticsearch/script/MockScriptEngine.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TopHitsIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
core/src/test/java/org/elasticsearch/search/nested/SimpleNestedIT.java
comments:
test: fixed some messy tests

time:
2015-09-30T19:45:57Z
class:
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/cache/request/ShardRequestCache.java
core/src/main/java/org/elasticsearch/indices/cache/request/IndicesRequestCache.java
core/src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractStringFieldDataTestCase.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerIT.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Remove and forbid use of com.google.common.cache.*

This commit removes and now forbids all uses of
com.google.common.cache.Cache, com.google.common.cache.CacheBuilder,
com.google.common.cache.RemovalListener,
com.google.common.cache.RemovalNotification,
com.google.common.cache.Weigher across the codebase. This is a major
step in the eventual removal of Guava as a dependency.

Relates #13224

time:
2015-09-30T19:43:00Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
core/src/main/java/org/elasticsearch/common/cache/CacheBuilder.java
core/src/main/java/org/elasticsearch/common/cache/RemovalListener.java
core/src/main/java/org/elasticsearch/common/cache/RemovalNotification.java
core/src/test/java/org/elasticsearch/common/cache/CacheTests.java
comments:
Create concurrent cache with flexible eviction policies

This commit adds a concurrent cache with flexible eviction policies. In
particular, this cache supports:

1. concurrency
2. weight-based evictions
3. time-based evictions
4. manual invalidation
5. removal notification
6. cache statistics

Closes #13717

time:
2015-09-30T19:29:00Z
class:
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshot.java
core/src/test/java/org/elasticsearch/index/snapshots/blobstore/FileInfoTests.java
comments:
Fix part size calculation if all parts are of the same size

Relates to #13574

time:
2015-09-30T18:47:39Z
class:
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
comments:
Tests: fix test by making copy of geopoints in assertLuceneQuery

time:
2015-09-30T18:43:22Z
class:
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
comments:
Don't get IndexShard instance in the executor but use already availale instance

We try to get the index shard instance again from the index service on a different
threads while that shard might have already been closed or removed which can cause a NPE
instead of another expected expecption.

time:
2015-09-30T18:35:46Z
class:
comments:
Merge pull request #13876 from uschindler/features/forbiddenapis-2.0

Update to forbidden-apis 2.0

time:
2015-09-30T18:02:55Z
class:
core/src/test/java/org/elasticsearch/indices/recovery/RecoverySourceHandlerTests.java
comments:
[TEST] Don't corrupt extraFS files

time:
2015-09-30T18:00:53Z
class:
core/src/test/java/org/elasticsearch/indices/recovery/RecoverySourceHandlerTests.java
comments:
[TEST] don't run check index on an intentionally corrupted index

time:
2015-09-30T16:55:52Z
class:
comments:
Update to forbidden-apis 2.0

time:
2015-09-30T16:19:24Z
class:
core/src/main/java/org/elasticsearch/common/util/CancellableThreads.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/indices/recovery/RecoverySourceHandlerTests.java
core/src/test/java/org/elasticsearch/test/CorruptionUtils.java
comments:
Merge pull request #13840 from s1monw/source_handler_testability

Start making RecoverySourceHandler unittestable

time:
2015-09-30T15:46:22Z
class:
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
comments:
another try-with-resources

time:
2015-09-30T15:45:29Z
class:
core/src/main/java/org/elasticsearch/common/util/CancellableThreads.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/indices/recovery/RecoverySourceHandlerTests.java
core/src/test/java/org/elasticsearch/test/CorruptionUtils.java
comments:
Start making RecoverySourceHandler unittestable

This commit shuffels and rewrites some code in RecoverySourceHandler to make it
simpler and more unittestable. This commit doesn't change all parts of this class
neither is it fully tested yet. It's an important part of the infrastrucutre so I started
to make it better tested but I don't want to change everything in one go since it makes
review simpler and more detailed. Future commits will continue cleaning up the class and
add more tests.

time:
2015-09-30T15:37:26Z
class:
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/index/analysis/Analysis.java
core/src/main/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapper.java
core/src/main/java/org/elasticsearch/percolator/MultiDocumentPercolatorIndex.java
core/src/main/java/org/elasticsearch/percolator/SingleDocumentPercolatorIndex.java
core/src/main/java/org/elasticsearch/search/highlight/PlainHighlighter.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestUtils.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionTokenStream.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
core/src/test/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapperTests.java
comments:
cutover more Analyzer.tokenStream to try-with-resources

time:
2015-09-30T15:26:56Z
class:
comments:
Latest version is 3.0.0

time:
2015-09-30T15:00:39Z
class:
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
comments:
[TEST] only trim for the comparison

time:
2015-09-30T14:16:51Z
class:
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/test/java/org/elasticsearch/document/DocumentActionsIT.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
comments:
Internal: Remove the disabled autogenerated id optimization from InternalEngine

If a document is indexed into ES with no id, ES will generate one for it. We used to have an optimization for this case where the engine will not try to resolve the ids of these request in the existing index but immediately try to index them. This optimization has proven to be the source of brittle bugs (solved!) and we disabled it in 1.5, preparing for it to be removed if no performance degradation was found. Since we haven't seen any such degradation we can remove it.

Along with the removal of the optmization, we can remove the autogenerate id flag on indexing requests and the can have duplicate flag. The only downside of the removal of the canHaveDuplicate flag is that we can't make sure any more that when we retry an autogenerated id create operation we will ignore any document already exists exception (See #9125 for background and discussion). To work around this, we don't set the operation to CREATE any more when we generate an id, so the resulting request will never fail when it finds an existing doc but do return a version of 2. I think that's acceptable.

Closes #13857

time:
2015-09-30T13:44:35Z
class:
core/src/main/java/org/elasticsearch/search/suggest/SuggestUtils.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/NoisyChannelSpellChecker.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
comments:
move close responsibility back down to SuggestUtils.analyze

time:
2015-09-30T13:36:46Z
class:
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
comments:
Merge pull request #13848 from s1monw/verify_written_checksum

Verify actually written checksum in VerifyingIndexOutput

time:
2015-09-30T13:33:05Z
class:
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
comments:
Verify actually written checksum in VerifyingIndexOutput

today we don't verify that the actual checksum written to VerifyingIndexOutput
is the actual checksum we are expecting.

time:
2015-09-30T12:20:28Z
class:
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/settings/IndexSettingsService.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/shard/StoreRecovery.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
Merge pull request #13853 from s1monw/remove_more_deps

Remove ClusterSerivce and IndexSettingsService dependency from IndexShard

time:
2015-09-30T12:19:26Z
class:
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/settings/IndexSettingsService.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/shard/StoreRecovery.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
Remove ClusterSerivce and IndexSettingsService dependency from IndexShard

We have two unneded heavy dependencies on IndexShard that are unneeded and only cause
trouble if you try to mock index shard. This commit removes IndexSettingsService as well as
ClusterSerivce from IndexShard to simplify future mocking and construction.

time:
2015-09-30T10:59:00Z
class:
core/src/main/java/org/elasticsearch/search/suggest/SuggestUtils.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/NoisyChannelSpellChecker.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
comments:
close TokenStream in finally

time:
2015-09-30T10:50:46Z
class:
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/Ec2Module.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/discovery/ec2/Ec2Discovery.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/plugin/discovery/ec2/Ec2DiscoveryPlugin.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoverySettingsTests.java
comments:
discovery-ec2 plugin should check `discovery.type`

As done in #13809 and in Azure, we should check that `discovery.type` is set to `ec2` before starting services.

Closes #13581.

time:
2015-09-30T10:33:14Z
class:
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshot.java
core/src/test/java/org/elasticsearch/index/snapshots/blobstore/FileInfoTests.java
comments:
Fix blob size in writeBlob() method

time:
2015-09-30T10:18:01Z
class:
comments:
update documentation with release 2.7.1

time:
2015-09-30T10:07:26Z
class:
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ChildQuerySearchTests.java
comments:
Query refactoring: set has_parent & has_child types context properly

While refactoring has_child and has_parent query we lost an important detail around types. The types that the inner query gets executed against shouldn't be the main types of the search request but the parent or child type set to the parent query. We used to use QueryParseContext#setTypesWithPrevious as part of XContentStructure class which has been deleted, without taking care though of setting the types and restoring them as part of the innerQuery#toQuery call.

Meanwhile also we make sure that the original context types are restored in PercolatorQueriesRegistry

Closes #13863

time:
2015-09-30T09:16:56Z
class:
comments:
Merge pull request #13869 from tcucchietti/patch-2

Update inner-hits.asciidoc

time:
2015-09-30T09:07:51Z
class:
comments:
Update inner-hits.asciidoc

Fix a glitch in inner_hits feature documentation (though I'm not absolutely sure of the final version)

time:
2015-09-30T08:29:21Z
class:
comments:
Remove all netcdf dependencies: update licenses

Closes #157

time:
2015-09-30T08:13:44Z
class:
comments:
Remove all netcdf dependencies

Follow up for #84.

Sounds like that httpcore is pulled by netcdf libs. Note that we wrote in #84 that we were removing support for netcdf file types.

```xml
<!-- Not Apache2 License compatible -->
<exclusion>
    <groupId>edu.ucar</groupId>
    <artifactId>netcdf</artifactId>
</exclusion>
```

Apparently the removal was not entirely done.

Adding exclusion the following exclusions will fix that:

```xml
<!-- Not Apache2 License compatible -->
<exclusion>
    <groupId>edu.ucar</groupId>
    <artifactId>cdm</artifactId>
</exclusion>
<!-- Not Apache2 License compatible -->
<exclusion>
    <groupId>edu.ucar</groupId>
    <artifactId>httpservices</artifactId>
</exclusion>
<!-- Not Apache2 License compatible -->
<exclusion>
    <groupId>edu.ucar</groupId>
    <artifactId>grib</artifactId>
</exclusion>
<!-- Not Apache2 License compatible -->
<exclusion>
    <groupId>edu.ucar</groupId>
    <artifactId>netcdf4</artifactId>
</exclusion>
```

With that, we don't pull anymore http* client/core/component libs:

```
[INFO] org.elasticsearch:elasticsearch-mapper-attachments:jar:2.7.1-SNAPSHOT
...
[INFO] +- org.apache.tika:tika-parsers:jar:1.10:compile
[INFO] |  +- org.apache.tika:tika-core:jar:1.10:compile
[INFO] |  +- org.gagravarr:vorbis-java-tika:jar:0.6:compile
[INFO] |  +- com.healthmarketscience.jackcess:jackcess:jar:2.1.2:compile
[INFO] |  |  +- commons-lang:commons-lang:jar:2.6:compile
[INFO] |  |  \- commons-logging:commons-logging:jar:1.1.3:compile
[INFO] |  +- com.healthmarketscience.jackcess:jackcess-encrypt:jar:2.1.0:compile
[INFO] |  +- net.sourceforge.jmatio:jmatio:jar:1.0:compile
[INFO] |  +- org.apache.james:apache-mime4j-core:jar:0.7.2:compile
[INFO] |  +- org.apache.james:apache-mime4j-dom:jar:0.7.2:compile
[INFO] |  +- org.apache.commons:commons-compress:jar:1.9:compile
[INFO] |  +- org.tukaani:xz:jar:1.5:compile
[INFO] |  +- commons-codec:commons-codec:jar:1.9:compile
[INFO] |  +- org.apache.pdfbox:pdfbox:jar:1.8.10:compile
[INFO] |  |  +- org.apache.pdfbox:fontbox:jar:1.8.10:compile
[INFO] |  |  \- org.apache.pdfbox:jempbox:jar:1.8.10:compile
[INFO] |  +- org.bouncycastle:bcmail-jdk15on:jar:1.52:compile
[INFO] |  |  \- org.bouncycastle:bcpkix-jdk15on:jar:1.52:compile
[INFO] |  +- org.bouncycastle:bcprov-jdk15on:jar:1.52:compile
[INFO] |  +- org.apache.poi:poi:jar:3.13-beta1:compile
[INFO] |  +- org.apache.poi:poi-scratchpad:jar:3.13-beta1:compile
[INFO] |  +- org.apache.poi:poi-ooxml:jar:3.13-beta1:compile
[INFO] |  |  \- org.apache.poi:poi-ooxml-schemas:jar:3.13-beta1:compile
[INFO] |  |     \- org.apache.xmlbeans:xmlbeans:jar:2.6.0:compile
[INFO] |  +- org.ccil.cowan.tagsoup:tagsoup:jar:1.2.1:compile
[INFO] |  +- com.googlecode.mp4parser:isoparser:jar:1.0.2:compile
[INFO] |  |  \- org.aspectj:aspectjrt:jar:1.8.0:compile
[INFO] |  +- com.drewnoakes:metadata-extractor:jar:2.8.0:compile
[INFO] |  |  \- com.adobe.xmp:xmpcore:jar:5.1.2:compile
[INFO] |  +- de.l3s.boilerpipe:boilerpipe:jar:1.1.0:compile
[INFO] |  +- rome:rome:jar:1.0:compile
[INFO] |  |  \- jdom:jdom:jar:1.0:compile
[INFO] |  +- org.gagravarr:vorbis-java-core:jar:0.6:compile
[INFO] |  +- com.googlecode.juniversalchardet:juniversalchardet:jar:1.0.3:compile
[INFO] |  +- org.codelibs:jhighlight:jar:1.0.2:compile
[INFO] |  +- com.pff:java-libpst:jar:0.8.1:compile
[INFO] |  +- com.github.junrar:junrar:jar:0.7:compile
[INFO] |  |  \- org.apache.commons:commons-vfs2:jar:2.0:compile
[INFO] |  |     +- org.apache.maven.scm:maven-scm-api:jar:1.4:compile
[INFO] |  |     |  \- org.codehaus.plexus:plexus-utils:jar:1.5.6:compile
[INFO] |  |     \- org.apache.maven.scm:maven-scm-provider-svnexe:jar:1.4:compile
[INFO] |  |        +- org.apache.maven.scm:maven-scm-provider-svn-commons:jar:1.4:compile
[INFO] |  |        \- regexp:regexp:jar:1.3:compile
[INFO] |  +- org.apache.opennlp:opennlp-tools:jar:1.5.3:compile
[INFO] |  |  +- org.apache.opennlp:opennlp-maxent:jar:3.0.3:compile
[INFO] |  |  \- net.sf.jwordnet:jwnl:jar:1.3.3:compile
[INFO] |  +- commons-io:commons-io:jar:2.4:compile
[INFO] |  +- org.apache.commons:commons-exec:jar:1.3:compile
[INFO] |  +- com.googlecode.json-simple:json-simple:jar:1.1.1:compile
[INFO] |  +- com.google.guava:guava:jar:18.0:compile
[INFO] |  +- org.apache.commons:commons-csv:jar:1.0:compile
[INFO] |  +- org.apache.sis.core:sis-utility:jar:0.5:compile
[INFO] |  +- org.apache.sis.storage:sis-netcdf:jar:0.5:compile
[INFO] |  |  +- org.apache.sis.storage:sis-storage:jar:0.5:compile
[INFO] |  |  \- org.apache.sis.core:sis-referencing:jar:0.5:compile
[INFO] |  +- org.apache.sis.core:sis-metadata:jar:0.5:compile
[INFO] |  \- org.opengis:geoapi:jar:3.0.0:compile
[INFO] |     \- javax.measure:jsr-275:jar:0.9.3:compile
[INFO] +- log4j:log4j:jar:1.2.17:compile
[INFO] \- org.elasticsearch:elasticsearch:test-jar:tests:1.7.0:test
```

Closes #157

(cherry picked from commit 3eac5e6)

time:
2015-09-29T23:50:13Z
class:
core/src/main/java/org/elasticsearch/Version.java
comments:
Add 2.2.0 version to master

time:
2015-09-29T21:32:56Z
class:
core/src/main/java/org/elasticsearch/SpecialPermission.java
core/src/test/java/org/elasticsearch/SpecialPermissionTests.java
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeServiceImpl.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/plugin/discovery/ec2/Ec2DiscoveryPlugin.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
plugins/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
plugins/repository-s3/src/main/java/org/elasticsearch/plugin/repository/s3/S3RepositoryPlugin.java
comments:
Add SpecialPermission to guard exceptions to security policy.

Closes #13854

Squashed commit of the following:

commit 42c1166efc55adda0d13fed77de583c0973e44b3
Author: Robert Muir <rmuir@apache.org>
Date:   Tue Sep 29 11:59:43 2015 -0400

    Add paranoia

    Groovy holds on to a classloader, so check it before compilation too.
    I have not reviewed yet what Rhino is doing, but just be safe.

commit b58668a81428e964dd5ffa712872c0a34897fc91
Author: Robert Muir <rmuir@apache.org>
Date:   Tue Sep 29 11:46:06 2015 -0400

    Add SpecialPermission to guard exceptions to security policy.

    In some cases (e.g. buggy cloud libraries, scripting engines), we must
    grant dangerous permissions to contained cases. Those AccessController blocks
    are dangerous, since they truncate the stack, and can allow privilege escalation.

    This PR adds a simple permission to check before each one, so that unprivileged code
    like groovy scripts, can't do anything they shouldn't be allowed to do otherwise.

time:
2015-09-29T21:16:00Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Seccomp.java
comments:
Throw exception on unsupported OS, so we don't falsely report 'enabled'

time:
2015-09-29T18:18:45Z
class:
core/src/main/java/org/elasticsearch/index/flush/FlushStats.java
core/src/main/java/org/elasticsearch/index/get/GetStats.java
core/src/main/java/org/elasticsearch/index/indexing/IndexingStats.java
core/src/main/java/org/elasticsearch/index/merge/MergeStats.java
core/src/main/java/org/elasticsearch/index/recovery/RecoveryStats.java
core/src/main/java/org/elasticsearch/index/refresh/RefreshStats.java
core/src/main/java/org/elasticsearch/index/search/stats/SearchStats.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
comments:
Omit current* stats for OldShardStats (closes #13386)

time:
2015-09-29T17:26:12Z
class:
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeService.java
plugins/cloud-gce/src/main/java/org/elasticsearch/discovery/gce/GceDiscovery.java
plugins/cloud-gce/src/main/java/org/elasticsearch/discovery/gce/GceUnicastHostsProvider.java
plugins/cloud-gce/src/main/java/org/elasticsearch/plugin/cloud/gce/CloudGcePlugin.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoverySettingsTests.java
comments:
cloud-gce plugin should check `discovery.type`

GCE plugin tries to start immediately gce discovery even if we don't
set discovery.type. This commmit adds check `discovery.type` and
other required parameters before loading gce plugin.

closes #13614

time:
2015-09-29T16:50:52Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/JNANatives.java
core/src/main/java/org/elasticsearch/bootstrap/Natives.java
core/src/main/java/org/elasticsearch/bootstrap/Seccomp.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/common/inject/ConstructorBindingImpl.java
core/src/main/java/org/elasticsearch/common/inject/InjectorShell.java
core/src/main/java/org/elasticsearch/common/inject/spi/InjectionPoint.java
core/src/main/java/org/elasticsearch/common/inject/util/Modules.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/shard/StoreRecovery.java
core/src/main/java/org/elasticsearch/index/shard/StoreRecoveryService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/cluster/routing/ShardRoutingHelper.java
core/src/test/java/org/elasticsearch/gateway/GatewayMetaStateTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
plugins/lang-expression/src/test/java/org/elasticsearch/script/expression/MoreExpressionTests.java
plugins/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
comments:
Merge branch 'master' into feature/search-request-refactoring

time:
2015-09-29T16:50:13Z
class:
core/src/main/java/org/elasticsearch/search/builder/OldSearchSourceBuilder.java
core/src/test/java/org/elasticsearch/search/builder/NewSearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
comments:
removed OldSearchSourceBuilder

time:
2015-09-29T16:50:12Z
class:
comments:
Merge pull request #13856 from brwe/vagrant-lang-groovy

add lang-groovy to plugin vagrant test

time:
2015-09-29T15:56:29Z
class:
comments:
add lang-groovy to plugin vagrant test

time:
2015-09-29T15:01:46Z
class:
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
[TEST] don't copy write locks or extraFS files

time:
2015-09-29T14:49:44Z
class:
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
comments:
Merge pull request #13847 from jasontedor/workaround-jdk-8056984

Workaround JDK-8056984

time:
2015-09-29T14:45:57Z
class:
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
comments:
Workaround JDK-8056984

This commit works around JDK bug JDK-8056984 in the javac compiler.
This bug is impacting CI compilations on JDK 8u25.

time:
2015-09-29T14:35:52Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
plugins/lang-expression/src/test/java/org/elasticsearch/script/expression/MoreExpressionTests.java
plugins/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
comments:
Merge pull request #13844 from rmuir/lock_down_classloader_and_reflection

Clean up scripting permissions.

time:
2015-09-29T13:59:45Z
class:
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/shard/StoreRecovery.java
core/src/main/java/org/elasticsearch/index/shard/StoreRecoveryService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/test/java/org/elasticsearch/cluster/routing/ShardRoutingHelper.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
Merge pull request #13766 from s1monw/store_recovery_helper

Refactor StoreRecoveryService to be a simple package private util class

time:
2015-09-29T13:59:21Z
class:
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/shard/StoreRecovery.java
core/src/main/java/org/elasticsearch/index/shard/StoreRecoveryService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/test/java/org/elasticsearch/cluster/routing/ShardRoutingHelper.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
Refactor StoreRecoveryService to be a simple package private util class

StoreRecoveryService used to be a pretty heavy class with lots of dependencies.
This class was basically not testable in isolation and had an async API with a listener.
This commit refactors this class to be a simple utility classs with a sync API hidden behind
the IndexShard interface. It includes single node tests and moves all the async properities to
the caller side.
Note, this change also removes the mapping update on master from the store recovery code since
it's not needed anymore in 3.0 because all stores have been subject to sync mapping updates such
that the master already has all the mappings for documents that made it into the transaction log.

Closes #13766

time:
2015-09-29T13:54:12Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
plugins/lang-expression/src/test/java/org/elasticsearch/script/expression/MoreExpressionTests.java
plugins/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
comments:
Clean up scripting permissions.

Now that groovy is factored out, we contain this dangerous stuff there.

TODO: look into those test hacks inspecting class protection domains, maybe we can
clean that one up too.

TODO: generalize the GroovyCodeSourcePermission to something all script engines check,
before entering accesscontrollerblocks. this way e.g. groovy script cannot coerce
python engine into creating something with more privs if it gets ahold of it... we
should probably protect the aws/gce hacks in the same way.

time:
2015-09-29T13:53:04Z
class:
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/test/java/org/elasticsearch/search/builder/NewSearchSourceBuilderTests.java
comments:
fixes for some NORELEASE comments

time:
2015-09-29T13:43:25Z
class:
core/src/main/java/org/elasticsearch/common/inject/util/Modules.java
comments:
Merge pull request #13842 from jasontedor/workaround-jdk-8056014

Workaround JDK-8056014

time:
2015-09-29T13:34:34Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/common/inject/ConstructorBindingImpl.java
core/src/main/java/org/elasticsearch/common/inject/InjectorShell.java
core/src/main/java/org/elasticsearch/common/inject/spi/InjectionPoint.java
core/src/test/java/org/elasticsearch/gateway/GatewayMetaStateTests.java
comments:
Merge pull request #13820 from nik9000/immutable_set_be_gone_2

Finish banning ImmutableSet

time:
2015-09-29T13:32:06Z
class:
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ChildQuerySearchTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovySecurityTests.java
comments:
fixed compile errors

time:
2015-09-29T13:03:32Z
class:
core/src/main/java/org/elasticsearch/common/inject/util/Modules.java
comments:
Workaround JDK-8056014

This commit works around JDK bug JDK-8056014 in the javac compiler.
This bug is impacting CI compilations on JDK 8u11 and 8u25.

time:
2015-09-29T12:54:06Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/JNANatives.java
core/src/main/java/org/elasticsearch/bootstrap/Natives.java
core/src/main/java/org/elasticsearch/bootstrap/Seccomp.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
comments:
Merge pull request #13829 from rmuir/add_seatbelt

improve seccomp syscall filtering

time:
2015-09-29T12:40:27Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/StartupError.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlockException.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/inject/BindingProcessor.java
core/src/main/java/org/elasticsearch/common/inject/ConfigurationException.java
core/src/main/java/org/elasticsearch/common/inject/ConstructorInjector.java
core/src/main/java/org/elasticsearch/common/inject/CreationException.java
core/src/main/java/org/elasticsearch/common/inject/InheritingState.java
core/src/main/java/org/elasticsearch/common/inject/InjectorBuilder.java
core/src/main/java/org/elasticsearch/common/inject/InjectorImpl.java
core/src/main/java/org/elasticsearch/common/inject/InjectorShell.java
core/src/main/java/org/elasticsearch/common/inject/MembersInjectorImpl.java
core/src/main/java/org/elasticsearch/common/inject/ProvisionException.java
core/src/main/java/org/elasticsearch/common/inject/State.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider2.java
core/src/main/java/org/elasticsearch/common/inject/internal/BindingBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/ConstantBindingBuilderImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/Errors.java
core/src/main/java/org/elasticsearch/common/inject/internal/ExposedBindingImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/InstanceBindingImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/MoreTypes.java
core/src/main/java/org/elasticsearch/common/inject/internal/ProviderInstanceBindingImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/ProviderMethod.java
core/src/main/java/org/elasticsearch/common/inject/internal/ProviderMethodsModule.java
core/src/main/java/org/elasticsearch/common/inject/internal/SourceProvider.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/MapBinder.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/Multibinder.java
core/src/main/java/org/elasticsearch/common/inject/spi/Dependency.java
core/src/main/java/org/elasticsearch/common/inject/spi/InjectionPoint.java
core/src/main/java/org/elasticsearch/common/inject/util/Modules.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/gateway/AsyncShardFetch.java
core/src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/analysis/HtmlStripCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/codec/CodecService.java
core/src/main/java/org/elasticsearch/index/deletionpolicy/AbstractESDeletionPolicy.java
core/src/main/java/org/elasticsearch/index/deletionpolicy/KeepLastNDeletionPolicy.java
core/src/main/java/org/elasticsearch/index/deletionpolicy/KeepOnlyLastDeletionPolicy.java
core/src/main/java/org/elasticsearch/index/deletionpolicy/SnapshotDeletionPolicy.java
core/src/main/java/org/elasticsearch/index/deletionpolicy/SnapshotIndexCommit.java
core/src/main/java/org/elasticsearch/index/deletionpolicy/SnapshotIndexCommits.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractAtomicParentChildFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DocValuesIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/support/InnerHitsQueryParserHelper.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/snapshots/IndexShardRepository.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/cache/query/terms/TermsLookup.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
core/src/main/java/org/elasticsearch/monitor/jvm/DeadlockAnalyzer.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/repositories/Repository.java
core/src/main/java/org/elasticsearch/rest/RestController.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/settings/RestUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightUtils.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/common/unit/ByteSizeValueTests.java
core/src/test/java/org/elasticsearch/common/xcontent/builder/XContentBuilderTests.java
core/src/test/java/org/elasticsearch/explain/ExplainActionIT.java
core/src/test/java/org/elasticsearch/gateway/AsyncShardFetchTests.java
core/src/test/java/org/elasticsearch/gateway/GatewayMetaStateTests.java
core/src/test/java/org/elasticsearch/gateway/RecoverAfterNodesIT.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/index/deletionpolicy/SnapshotDeletionPolicyTests.java
core/src/test/java/org/elasticsearch/index/deletionpolicy/SnapshotIndexCommitExistsMatcher.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NotQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/indices/analyze/AnalyzeActionIT.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerIT.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerTests.java
core/src/test/java/org/elasticsearch/percolator/ConcurrentPercolatorIT.java
core/src/test/java/org/elasticsearch/percolator/MultiPercolatorIT.java
core/src/test/java/org/elasticsearch/percolator/PercolatorTestUtil.java
core/src/test/java/org/elasticsearch/percolator/RecoveryPercolatorIT.java
core/src/test/java/org/elasticsearch/percolator/TTLPercolatorIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregationCollectorTests.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/search/scroll/SearchScrollIT.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
plugins/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyPlugin.java
plugins/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/AliasRoutingTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/AvgTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/BucketScriptTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/BucketSelectorTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/BulkTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/CardinalityTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ChildQuerySearchTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ContextAndHeaderTransportTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/DateHistogramTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/DateRangeTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/DoubleTermsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/EquivalenceTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ExtendedStatsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/FunctionScoreTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/GeoDistanceTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HDRPercentileRanksTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HDRPercentilesTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HistogramTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IPv4RangeTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndexLookupTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndexedScriptTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndicesRequestTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/InnerHitsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/LongTermsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MaxTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MinDocCountTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MinTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/PercolatorTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/QueryRescorerTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/RandomScoreFunctionTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/RangeTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ScriptIndexSettingsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ScriptQuerySearchTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ScriptedMetricTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchFieldsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchQueryTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchStatsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchTimeoutTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SignificantTermsSignificanceScoreTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SimpleNestedTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SimpleSortTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/StatsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/StringTermsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SumTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentileRanksTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentilesTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TopHitsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TransformOnIndexMapperTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/UpdateTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ValueCountTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/package-info.java
plugins/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovyRestIT.java
plugins/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovyScriptTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovySecurityTests.java
comments:
Merge branch 'master' into feature/search-request-refactoring

# Conflicts:
#	plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ChildQuerySearchTests.java
#	plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndexedScriptTests.java
#	plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchFieldsTests.java
#	plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchStatsTests.java
#	plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchTimeoutTests.java
#	plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SimpleSortTests.java
#	plugins/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovyScriptTests.java
#	plugins/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovySecurityTests.java

time:
2015-09-29T12:34:58Z
class:
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/support/InnerHitsQueryParserHelper.java
core/src/main/java/org/elasticsearch/indices/cache/query/terms/TermsLookup.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NotQueryBuilderTests.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
comments:
Make sure equivalent geohashCellQueries are equal after toQuery called

Previous to this change if to equal geohash cell query builders were created and then toQuery was called on one, they would no longer be equal.

This change also adds a test to AbstractQueryTestCase to make sure calling toQuery on any query builder does not affect the query builder's equality

time:
2015-09-29T12:28:03Z
class:
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java
core/src/test/java/org/elasticsearch/common/xcontent/builder/XContentBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
comments:
Merge pull request #13816 from s1monw/fix_jackson_line_feed

Ensure XContent is consistent across platforms

time:
2015-09-29T12:22:33Z
class:
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java
core/src/test/java/org/elasticsearch/common/xcontent/builder/XContentBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
comments:
Ensure XContent is consistent across platforms

Today we generate XContent with platform dependent linefeeds. This
commit makes the pretty-printed json etc. consistent with \n across all
platforms.

time:
2015-09-29T12:20:58Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
comments:
Merge pull request #13797 from s1monw/remove_index_service_dep

Remove IndexService dep. from IndexShard

time:
2015-09-29T12:07:58Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
comments:
Remove IndexService dep. from IndexShard

there is no reason for the index shard to hold on to it's corresponding
index service. This dependency is unnecessary.

time:
2015-09-29T10:37:33Z
class:
comments:
Add abstract TestScript to the test framework jar

time:
2015-09-29T10:17:36Z
class:
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/package-info.java
comments:
Fix compilation error due to empty <p> tag

time:
2015-09-29T09:58:21Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/common/inject/internal/BindingBuilder.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/percolator/ConcurrentPercolatorIT.java
core/src/test/java/org/elasticsearch/percolator/MultiPercolatorIT.java
core/src/test/java/org/elasticsearch/percolator/PercolatorTestUtil.java
core/src/test/java/org/elasticsearch/percolator/RecoveryPercolatorIT.java
core/src/test/java/org/elasticsearch/percolator/TTLPercolatorIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregationCollectorTests.java
plugins/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyPlugin.java
plugins/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/AliasRoutingTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/AvgTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/BucketScriptTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/BucketSelectorTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/BulkTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/CardinalityTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ChildQuerySearchTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ContextAndHeaderTransportTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/DateHistogramTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/DateRangeTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/DoubleTermsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/EquivalenceTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ExtendedStatsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/FunctionScoreTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/GeoDistanceTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HDRPercentileRanksTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HDRPercentilesTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HistogramTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IPv4RangeTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndexLookupTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndexedScriptTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndicesRequestTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/InnerHitsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/LongTermsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MaxTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MinDocCountTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MinTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/PercolatorTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/QueryRescorerTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/RandomScoreFunctionTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/RangeTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ScriptIndexSettingsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ScriptQuerySearchTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ScriptedMetricTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchFieldsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchQueryTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchStatsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchTimeoutTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SignificantTermsSignificanceScoreTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SimpleNestedTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SimpleSortTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/StatsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/StringTermsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SumTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentileRanksTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentilesTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TopHitsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TransformOnIndexMapperTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/UpdateTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ValueCountTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/package-info.java
plugins/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovyRestIT.java
plugins/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovyScriptTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovySecurityTests.java
comments:
Merge pull request #13834 from rmuir/groovy_factor_out

Factor groovy out of core into lang-groovy

time:
2015-09-29T08:20:54Z
class:
core/src/test/java/org/elasticsearch/indices/analyze/AnalyzeActionIT.java
core/src/test/java/org/elasticsearch/search/scroll/SearchScrollIT.java
comments:
Update to Jackson 2.6.2

time:
2015-09-29T05:53:31Z
class:
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
comments:
Test: make sure TranslogTests.randomNonTranslogPatternString returns a reference to a file

It can return a directory now (like /  or ..)

time:
2015-09-29T00:17:45Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/common/inject/internal/BindingBuilder.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/percolator/ConcurrentPercolatorIT.java
core/src/test/java/org/elasticsearch/percolator/MultiPercolatorIT.java
core/src/test/java/org/elasticsearch/percolator/PercolatorTestUtil.java
core/src/test/java/org/elasticsearch/percolator/RecoveryPercolatorIT.java
core/src/test/java/org/elasticsearch/percolator/TTLPercolatorIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregationCollectorTests.java
plugins/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyPlugin.java
plugins/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/AliasRoutingTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/AvgTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/BucketScriptTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/BucketSelectorTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/BulkTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/CardinalityTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ChildQuerySearchTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ContextAndHeaderTransportTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/DateHistogramTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/DateRangeTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/DoubleTermsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/EquivalenceTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ExtendedStatsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/FunctionScoreTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/GeoDistanceTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HDRPercentileRanksTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HDRPercentilesTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HistogramTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IPv4RangeTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndexLookupTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndexedScriptTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndicesRequestTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/InnerHitsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/LongTermsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MaxTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MinDocCountTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MinTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/PercolatorTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/QueryRescorerTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/RandomScoreFunctionTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/RangeTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ScriptIndexSettingsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ScriptQuerySearchTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ScriptedMetricTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchFieldsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchQueryTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchStatsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchTimeoutTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SignificantTermsSignificanceScoreTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SimpleNestedTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SimpleSortTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/StatsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/StringTermsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SumTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentileRanksTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentilesTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TopHitsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TransformOnIndexMapperTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/UpdateTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ValueCountTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/package-info.java
plugins/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovyRestIT.java
plugins/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovyScriptTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovySecurityTests.java
comments:
Factor groovy out of core into lang-groovy

time:
2015-09-28T15:35:07Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/JNANatives.java
core/src/main/java/org/elasticsearch/bootstrap/Natives.java
core/src/main/java/org/elasticsearch/bootstrap/Seccomp.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
comments:
improve seccomp syscall filtering

* Add OS X support via "seatbelt" mechanism. This gives consistency across dev and prod, since many devs use OS X.
* block execveat system call: it may be new, but we should not allow it.

time:
2015-09-28T01:33:05Z
class:
comments:
[test] Jayatana is ignored

Installs javatana in vivid, emulates its on-login actions when starting
elasticsearch and verifies that elasticsearch turns off javatana.

Relates to #13813

time:
2015-09-27T23:49:46Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/common/inject/ConstructorBindingImpl.java
core/src/main/java/org/elasticsearch/common/inject/InjectorShell.java
core/src/main/java/org/elasticsearch/common/inject/spi/InjectionPoint.java
core/src/test/java/org/elasticsearch/gateway/GatewayMetaStateTests.java
comments:
Finish banning ImmutableSet

Ban ImmutableSet$Builder because that let you sneak some `ImmutableSet`s in.

Remove all remaining imports of ImmutableSet.

time:
2015-09-27T05:16:54Z
class:
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerIT.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerTests.java
comments:
Internal: an inactive shard is temporarily activated by triggered synced flush

When a shard becomes in active we trigger a sync flush in order to speed up future recoveries. The sync flush causes a new translog generation to be made, which in turn confuses the IndexingMemoryController making it think that the shard is active. If no documents comes along in the next 5m, the shard is made inactive again , triggering a sync flush and so forth.

To avoid this, the IndexingMemoryController is changed to ignore empty translogs when checking if a shard became active. This comes with the price of potentially missing indexing operations which are followed by a flush. This is acceptable as if no more index operation come in, it's OK to leave the shard in active.

A new unit test is introduced and comparable integration tests are removed.

Closes #13802

time:
2015-09-26T19:25:49Z
class:
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
comments:
[TEST] Make test pass on windows - jackson uses platform line.separator which messes up comparisons

time:
2015-09-26T03:46:41Z
class:
comments:
Merge pull request #13813 from rmuir/crazy_ubuntu

Don't let ubuntu try to install its crazy jayatana agent.

time:
2015-09-26T03:32:52Z
class:
comments:
Don't let ubuntu try to install its crazy jayatana agent.

By default, our security stuff will reject this (as do other apps).
See https://bugs.launchpad.net/ubuntu/+source/jayatana/+bug/1441487

However its not really the user's fault, ubuntu screws up here by
installing this agent by default. We don't want any agents.

So instead, we drop it like this:

```
$ bin/elasticsearch
Warning: Ignoring JAVA_TOOL_OPTIONS=-Bogus1 -Bogus2
Please pass JVM parameters via JAVA_OPTS instead
[2015-09-25 23:34:39,777][INFO ][node                     ] [Doctor Bong] version[3.0.0-SNAPSHOT], pid[19044], build[2f5b6ea/2015-09-26T03:18:16Z]
...
```

Closes #13785

time:
2015-09-26T01:46:18Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlockException.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/inject/BindingProcessor.java
core/src/main/java/org/elasticsearch/common/inject/ConfigurationException.java
core/src/main/java/org/elasticsearch/common/inject/ConstructorInjector.java
core/src/main/java/org/elasticsearch/common/inject/CreationException.java
core/src/main/java/org/elasticsearch/common/inject/InheritingState.java
core/src/main/java/org/elasticsearch/common/inject/InjectorBuilder.java
core/src/main/java/org/elasticsearch/common/inject/InjectorImpl.java
core/src/main/java/org/elasticsearch/common/inject/InjectorShell.java
core/src/main/java/org/elasticsearch/common/inject/MembersInjectorImpl.java
core/src/main/java/org/elasticsearch/common/inject/ProvisionException.java
core/src/main/java/org/elasticsearch/common/inject/State.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider2.java
core/src/main/java/org/elasticsearch/common/inject/internal/BindingBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/ConstantBindingBuilderImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/Errors.java
core/src/main/java/org/elasticsearch/common/inject/internal/ExposedBindingImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/InstanceBindingImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/MoreTypes.java
core/src/main/java/org/elasticsearch/common/inject/internal/ProviderInstanceBindingImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/ProviderMethod.java
core/src/main/java/org/elasticsearch/common/inject/internal/ProviderMethodsModule.java
core/src/main/java/org/elasticsearch/common/inject/internal/SourceProvider.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/MapBinder.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/Multibinder.java
core/src/main/java/org/elasticsearch/common/inject/spi/Dependency.java
core/src/main/java/org/elasticsearch/common/inject/spi/InjectionPoint.java
core/src/main/java/org/elasticsearch/common/inject/util/Modules.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/gateway/AsyncShardFetch.java
core/src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
core/src/main/java/org/elasticsearch/index/analysis/HtmlStripCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/codec/CodecService.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractAtomicParentChildFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DocValuesIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/monitor/jvm/DeadlockAnalyzer.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/rest/RestController.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/settings/RestUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightUtils.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/explain/ExplainActionIT.java
core/src/test/java/org/elasticsearch/gateway/AsyncShardFetchTests.java
core/src/test/java/org/elasticsearch/gateway/GatewayMetaStateTests.java
core/src/test/java/org/elasticsearch/gateway/RecoverAfterNodesIT.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/search/fields/SearchFieldsIT.java
comments:
Merge pull request #13754 from nik9000/immutable_set_be_gone

Removes and bans ImmutableSet

time:
2015-09-26T01:05:51Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/StartupError.java
core/src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/deletionpolicy/AbstractESDeletionPolicy.java
core/src/main/java/org/elasticsearch/index/deletionpolicy/DeletionPolicyModule.java
core/src/main/java/org/elasticsearch/index/deletionpolicy/KeepLastNDeletionPolicy.java
core/src/main/java/org/elasticsearch/index/deletionpolicy/KeepOnlyLastDeletionPolicy.java
core/src/main/java/org/elasticsearch/index/deletionpolicy/SnapshotDeletionPolicy.java
core/src/main/java/org/elasticsearch/index/deletionpolicy/SnapshotIndexCommit.java
core/src/main/java/org/elasticsearch/index/deletionpolicy/SnapshotIndexCommits.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/snapshots/IndexShardRepository.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/main/java/org/elasticsearch/repositories/Repository.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/common/unit/ByteSizeValueTests.java
core/src/test/java/org/elasticsearch/index/deletionpolicy/SnapshotDeletionPolicyTests.java
core/src/test/java/org/elasticsearch/index/deletionpolicy/SnapshotIndexCommitExistsMatcher.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
comments:
Merge branch 'master' into immutable_set_be_gone

time:
2015-09-25T20:43:01Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
comments:
Another sync of ElasticsearchException ids with 2.0

time:
2015-09-25T20:24:49Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
comments:
Sync ElasticsearchException ids with 2.0

time:
2015-09-25T19:02:48Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
comments:
Merge pull request #13796 from s1monw/remove_reflection_hacks_from_es_exception

Remove reflection hacks from ElasticsearchException

time:
2015-09-25T19:02:16Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/StartupError.java
comments:
Don't log multi-megabyte guice exceptions.

Instead just log the same thing we print to the startup console for that case (magic logic),
it sucks to do this, but guice exceptions are too much.

All other non-guice exceptions will still be fully logged.

Closes #13782

time:
2015-09-25T18:59:10Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
comments:
Add clarifying comment on removing an ElasticsearchException

time:
2015-09-25T18:43:40Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
comments:
Removing and reordering ElasticsearchExceptions should be okay

time:
2015-09-25T18:32:44Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
comments:
Use explicit ids for ElasticsearchExceptions

This commit adds explicit ids for managing ElasticsearchException
serialization. By adding explicit ids and unit tests for them, the ids
are less brittle and breakage can be more clearly detected.

time:
2015-09-25T18:24:11Z
class:
core/src/test/java/org/elasticsearch/common/unit/ByteSizeValueTests.java
comments:
Test: reduce size in ByteSizeValueTests.testEquality to avoid double rounding issues

time:
2015-09-25T18:05:13Z
class:
core/src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java
core/src/test/java/org/elasticsearch/common/unit/ByteSizeValueTests.java
comments:
ByteSizeValue.equals should normalize units

currently ByteSizeValue.parse("1GB") is not equal to ByteSizeValue.parse("1024MB")

Closes #13784

time:
2015-09-25T17:04:28Z
class:
comments:
add -DtestScript option

time:
2015-09-25T16:09:09Z
class:
comments:
Changed pom to output first 30 test failures instead of just 3

time:
2015-09-25T14:42:42Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
comments:
Remove reflection hacks from ElasticsearchException

Today we use reflection where it's not needed anymore since java8 can
pass ctors around. This commit replaces runtime checks with compile time
checks which is always preferrable.

time:
2015-09-25T14:25:47Z
class:
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
comments:
Fix merge error

time:
2015-09-25T14:12:56Z
class:
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/deletionpolicy/AbstractESDeletionPolicy.java
core/src/main/java/org/elasticsearch/index/deletionpolicy/DeletionPolicyModule.java
core/src/main/java/org/elasticsearch/index/deletionpolicy/KeepLastNDeletionPolicy.java
core/src/main/java/org/elasticsearch/index/deletionpolicy/KeepOnlyLastDeletionPolicy.java
core/src/main/java/org/elasticsearch/index/deletionpolicy/SnapshotDeletionPolicy.java
core/src/main/java/org/elasticsearch/index/deletionpolicy/SnapshotIndexCommit.java
core/src/main/java/org/elasticsearch/index/deletionpolicy/SnapshotIndexCommits.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/snapshots/IndexShardRepository.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/main/java/org/elasticsearch/repositories/Repository.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/test/java/org/elasticsearch/index/deletionpolicy/SnapshotDeletionPolicyTests.java
core/src/test/java/org/elasticsearch/index/deletionpolicy/SnapshotIndexCommitExistsMatcher.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
comments:
Merge pull request #13794 from s1monw/kill_es_deletion_policy

Remove ES internal deletion policies in favour of Lucenes implementations

time:
2015-09-25T14:11:46Z
class:
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/deletionpolicy/AbstractESDeletionPolicy.java
core/src/main/java/org/elasticsearch/index/deletionpolicy/DeletionPolicyModule.java
core/src/main/java/org/elasticsearch/index/deletionpolicy/KeepLastNDeletionPolicy.java
core/src/main/java/org/elasticsearch/index/deletionpolicy/KeepOnlyLastDeletionPolicy.java
core/src/main/java/org/elasticsearch/index/deletionpolicy/SnapshotDeletionPolicy.java
core/src/main/java/org/elasticsearch/index/deletionpolicy/SnapshotIndexCommit.java
core/src/main/java/org/elasticsearch/index/deletionpolicy/SnapshotIndexCommits.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/snapshots/IndexShardRepository.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/main/java/org/elasticsearch/repositories/Repository.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/test/java/org/elasticsearch/index/deletionpolicy/SnapshotDeletionPolicyTests.java
core/src/test/java/org/elasticsearch/index/deletionpolicy/SnapshotIndexCommitExistsMatcher.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
comments:
Remove ES internal deletion policies in favour of Lucenes implementations

These classes are really duplicates and are just here for historical reasons.
We don't need these anymore since the same classes exist in lucene today.
This also removes the guice injection for DeletionPolicy and make them shard private.

time:
2015-09-25T13:28:04Z
class:
comments:
Merge pull request #13781 from KimTaehee/master

fix typo "Seting" to "Setting"

time:
2015-09-25T13:09:24Z
class:
core/src/main/java/org/apache/lucene/queries/ExtendedCommonTermsQuery.java
core/src/main/java/org/apache/lucene/queryparser/classic/ExistsFieldQueryExtension.java
core/src/main/java/org/apache/lucene/queryparser/classic/FieldQueryExtension.java
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/apache/lucene/queryparser/classic/MissingFieldQueryExtension.java
core/src/main/java/org/apache/lucene/queryparser/classic/QueryParserSettings.java
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/TransportCreateIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequestBuilder.java
core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/bootstrap/JNANatives.java
core/src/main/java/org/elasticsearch/bootstrap/Natives.java
core/src/main/java/org/elasticsearch/bootstrap/Seccomp.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/common/Numbers.java
core/src/main/java/org/elasticsearch/common/ParsingException.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/geo/GeoDistance.java
core/src/main/java/org/elasticsearch/common/geo/GeoPoint.java
core/src/main/java/org/elasticsearch/common/geo/GeoUtils.java
core/src/main/java/org/elasticsearch/common/geo/ShapeRelation.java
core/src/main/java/org/elasticsearch/common/geo/SpatialStrategy.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/common/io/stream/FilterStreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/common/lucene/search/MoreLikeThisQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/CombineFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FieldValueFactorFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/RandomScoreFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/ScoreFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/WeightFactorFunction.java
core/src/main/java/org/elasticsearch/common/path/PathTrie.java
core/src/main/java/org/elasticsearch/common/unit/Fuzziness.java
core/src/main/java/org/elasticsearch/common/xcontent/ObjectParser.java
core/src/main/java/org/elasticsearch/index/VersionType.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BaseTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BoostableQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/EmptyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoExecType.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoValidationMethod.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MultiTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NotQueryParser.java
core/src/main/java/org/elasticsearch/index/query/Operator.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/QueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/QueryShardException.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryValidationException.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringFlag.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermsLookupQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunction.java
core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionBuilders.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParserMapper.java
core/src/main/java/org/elasticsearch/index/query/functionscore/exp/ExponentialDecayFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/exp/ExponentialDecayFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/gauss/GaussDecayFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/gauss/GaussDecayFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/lin/LinearDecayFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/lin/LinearDecayFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/weight/WeightBuilder.java
core/src/main/java/org/elasticsearch/index/query/support/BaseInnerHitBuilder.java
core/src/main/java/org/elasticsearch/index/query/support/InnerHitsQueryParserHelper.java
core/src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
core/src/main/java/org/elasticsearch/index/query/support/QueryInnerHits.java
core/src/main/java/org/elasticsearch/index/query/support/QueryParsers.java
core/src/main/java/org/elasticsearch/index/query/support/XContentStructure.java
core/src/main/java/org/elasticsearch/index/search/MatchQuery.java
core/src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
core/src/main/java/org/elasticsearch/index/search/morelikethis/MoreLikeThisFetchService.java
core/src/main/java/org/elasticsearch/index/search/shape/ShapeFetchService.java
core/src/main/java/org/elasticsearch/index/search/shape/ShapeModule.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/termvectors/TermVectorsService.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/indices/cache/query/terms/TermsLookup.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/indices/query/IndicesQueriesRegistry.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/rest/action/explain/RestExplainAction.java
core/src/main/java/org/elasticsearch/rest/action/support/RestActions.java
core/src/main/java/org/elasticsearch/script/expression/ExpressionScriptCompilationException.java
core/src/main/java/org/elasticsearch/script/expression/ExpressionScriptExecutionException.java
core/src/main/java/org/elasticsearch/search/MultiValueMode.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/GND.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/JLHScore.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/NXYSignificanceHeuristic.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/PercentageScore.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ScriptHeuristic.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsBuilder.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsParseElement.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
core/src/test/java/org/apache/lucene/queries/BlendedTermQueryTests.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java
core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchShortCircuitBenchmark.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/bootstrap/SeccompTests.java
core/src/test/java/org/elasticsearch/common/geo/GeoDistanceTests.java
core/src/test/java/org/elasticsearch/common/geo/ShapeRelationTests.java
core/src/test/java/org/elasticsearch/common/geo/SpatialStrategyTests.java
core/src/test/java/org/elasticsearch/common/io/stream/BytesStreamsTests.java
core/src/test/java/org/elasticsearch/common/path/PathTrieTests.java
core/src/test/java/org/elasticsearch/common/unit/FuzzinessTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalValuesMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/AbstractTermQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/BoostingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/CombineFunctionTests.java
core/src/test/java/org/elasticsearch/index/query/CommonTermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ExistsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FuzzyQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeohashCellQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeFormatTests.java
core/src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeTimezoneTests.java
core/src/test/java/org/elasticsearch/index/query/IndicesQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchAllQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchNoneQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MissingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MultiMatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NestedQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NotQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/OperatorTests.java
core/src/test/java/org/elasticsearch/index/query/PrefixQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryFilterBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RandomQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RegexpQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ScoreModeTests.java
core/src/test/java/org/elasticsearch/index/query/ScriptQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanContainingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanFirstQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNearQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNotQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanOrQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanTermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanWithinQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/TermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TestParsingException.java
core/src/test/java/org/elasticsearch/index/query/TypeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WildcardQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FieldValueFactorFunctionModifierTests.java
comments:
Merge branch 'master' into immutable_set_be_gone

time:
2015-09-25T13:02:44Z
class:
comments:
Merge branch 'master' into feature/search-request-refactoring

time:
2015-09-25T12:55:37Z
class:
comments:
[DOCS] added query-refactoring changes to 3.0 migrate guide

time:
2015-09-25T12:38:53Z
class:
comments:
Merge branch 'master' into merge/query-refactoring

time:
2015-09-25T12:04:50Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/create/TransportCreateIndexAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/path/PathTrie.java
core/src/main/java/org/elasticsearch/index/query/TermsLookupQueryBuilder.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/termvectors/TermVectorsService.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/test/java/org/elasticsearch/common/path/PathTrieTests.java
core/src/test/java/org/elasticsearch/indices/DateMathIndexExpressionsIntegrationIT.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
comments:
Merge branch 'feature/query-refactoring' into feature/search-request-refactoring

# Conflicts:
#	core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java

time:
2015-09-25T12:01:32Z
class:
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
comments:
test fixes

time:
2015-09-25T11:55:23Z
class:
comments:
Merge pull request #13757 from andrestc/docs-now-time_zone

"now" is not affected by "time_zone" in range queries

time:
2015-09-25T11:53:06Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/create/TransportCreateIndexAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/path/PathTrie.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/termvectors/TermVectorsService.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/test/java/org/elasticsearch/common/path/PathTrieTests.java
core/src/test/java/org/elasticsearch/indices/DateMathIndexExpressionsIntegrationIT.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-09-25T10:20:00Z
class:
core/src/test/java/org/elasticsearch/script/OnDiskScriptIT.java
comments:
Removed delete tests which accidentally got re-added on merge

time:
2015-09-25T10:13:33Z
class:
comments:
Merge pull request #13748 from bcoughlin/patch-1

Update put-mapping.asciidoc

time:
2015-09-25T10:06:33Z
class:
core/src/main/java/org/elasticsearch/index/query/TermsLookupQueryBuilder.java
comments:
Merge pull request #13787 from javanna/enhancement/terms_lookup_query_builder

Java api: remove TermsLookupQueryBuilder

time:
2015-09-25T10:05:47Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/create/TransportCreateIndexAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/test/java/org/elasticsearch/indices/DateMathIndexExpressionsIntegrationIT.java
comments:
date math expressions should also work when indexing documents into a none existing index.

Closes #13570

time:
2015-09-25T09:44:05Z
class:
core/src/main/java/org/elasticsearch/index/query/TermsLookupQueryBuilder.java
comments:
Java api: remove TermsLookupQueryBuilder

TermsLookupQueryBuilder was left around only for bw comp reasons, but TermsQueryBuilder is its replacement. We can remove it now that it is clear query refactoring goes in master (3.0).

time:
2015-09-25T09:28:52Z
class:
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/path/PathTrie.java
core/src/test/java/org/elasticsearch/common/path/PathTrieTests.java
comments:
Index name expressions should not be broken up

Closes #13665

time:
2015-09-25T09:28:15Z
class:
core/src/test/java/org/elasticsearch/script/OnDiskScriptIT.java
core/src/test/java/org/elasticsearch/script/OnDiskScriptIT.java.orig
plugins/lang-expression/src/test/java/org/elasticsearch/script/expression/IndexedExpressionTests.java
comments:
Test Fixes

time:
2015-09-25T09:14:53Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCLIParser.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/bootstrap/JNANatives.java
core/src/main/java/org/elasticsearch/bootstrap/Natives.java
core/src/main/java/org/elasticsearch/bootstrap/Seccomp.java
core/src/main/java/org/elasticsearch/cluster/AckedClusterStateUpdateTask.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/ClusterStateUpdateTask.java
core/src/main/java/org/elasticsearch/cluster/DiffableUtils.java
core/src/main/java/org/elasticsearch/cluster/ProcessedClusterStateNonMasterUpdateTask.java
core/src/main/java/org/elasticsearch/cluster/ProcessedClusterStateUpdateTask.java
core/src/main/java/org/elasticsearch/cluster/RestoreInProgress.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/TimeoutClusterStateUpdateTask.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/common/collect/CopyOnWriteHashSet.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/common/transport/BoundTransportAddress.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/gateway/GatewayService.java
core/src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
core/src/main/java/org/elasticsearch/http/HttpInfo.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoValidationMethod.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/shard/AbstractIndexShardComponent.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshots.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/index/translog/TranslogService.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/indices/store/IndicesStore.java
core/src/main/java/org/elasticsearch/monitor/jvm/DeadlockAnalyzer.java
core/src/main/java/org/elasticsearch/node/service/NodeService.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/repositories/RepositoriesService.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/mapping/get/RestGetFieldMappingAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodeAttrsAction.java
core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/script/expression/ExpressionScriptCompilationException.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/having/BucketSelectorPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/fetch/matchedqueries/MatchedQueriesFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/lookup/LeafSearchLookup.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/main/java/org/elasticsearch/transport/TransportInfo.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/main/java/org/elasticsearch/transport/local/LocalTransport.java
core/src/main/java/org/elasticsearch/transport/local/LocalTransportChannel.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
core/src/test/java/org/elasticsearch/benchmark/common/recycler/RecyclerBenchmark.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapCliParserTests.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/bootstrap/SeccompTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/NoMasterNodeIT.java
core/src/test/java/org/elasticsearch/cluster/serialization/DiffableTests.java
core/src/test/java/org/elasticsearch/common/collect/CopyOnWriteHashSetTests.java
core/src/test/java/org/elasticsearch/common/transport/BoundTransportAddressTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyPipeliningDisabledIT.java
core/src/test/java/org/elasticsearch/http/netty/NettyPipeliningEnabledIT.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ScriptQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/script/CustomScriptContextIT.java
core/src/test/java/org/elasticsearch/script/FileScriptTests.java
core/src/test/java/org/elasticsearch/script/IndexedScriptIT.java
core/src/test/java/org/elasticsearch/script/MockScriptEngine.java
core/src/test/java/org/elasticsearch/script/OnDiskScriptIT.java
core/src/test/java/org/elasticsearch/script/OnDiskScriptIT.java.orig
core/src/test/java/org/elasticsearch/script/ScriptContextTests.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/search/geo/GeoBoundingBoxIT.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/cluster/TestClusterService.java
core/src/test/java/org/elasticsearch/test/disruption/BlockClusterStateProcessing.java
core/src/test/java/org/elasticsearch/test/disruption/SlowClusterStateProcessing.java
core/src/test/java/org/elasticsearch/transport/NettySizeHeaderFrameDecoderTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortIntegrationIT.java
plugins/discovery-azure/src/test/java/org/elasticsearch/discovery/azure/AzureMinimumMasterNodesTests.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/CountMethodFunctionValues.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/CountMethodValueSource.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/DateMethodFunctionValues.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/DateMethodValueSource.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionExecutableScript.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionPlugin.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionSearchScript.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/FieldDataFunctionValues.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/FieldDataValueSource.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ReplaceableConstFunctionValues.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ReplaceableConstValueSource.java
plugins/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionRestIT.java
plugins/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionTests.java
plugins/lang-expression/src/test/java/org/elasticsearch/script/expression/IndexedExpressionTests.java
plugins/lang-expression/src/test/java/org/elasticsearch/script/expression/MoreExpressionTests.java
comments:
Merge branch 'feature/query-refactoring' into feature/search-request-refactoring

# Conflicts:
#	core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
#	core/src/test/java/org/elasticsearch/script/IndexedScriptIT.java
#	core/src/test/java/org/elasticsearch/script/OnDiskScriptIT.java

time:
2015-09-25T09:03:13Z
class:
core/src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/termvectors/TermVectorsService.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
comments:
Merge pull request #13786 from s1monw/move_term_vector_to_node_level

Move ShardTermVectorService to be on indices level as TermVectorService

time:
2015-09-25T08:57:28Z
class:
core/src/main/java/org/elasticsearch/search/SearchService.java
comments:
removed obselete NOCOMMIT

time:
2015-09-25T08:56:27Z
class:
core/src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/termvectors/TermVectorsService.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
comments:
Move ShardTermVectorService to be on indices level as TermVectorService

There is no need to have term vectors service on the shard level where it's
created for every shard. This commit moves it to a higher level which makes
shard creation slightly simpler and reduces the number of long living objects.

time:
2015-09-25T08:52:12Z
class:
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
comments:
Query Refactoring: validate GeoShapeQueryBuilder strategy and relation parameter

Before the refactoring we didn't check any invalid settings for strategy and relation
in the GeoShapeQueryBuilder. However, using SpatialStrategy.TERM and ShapeRelation.INTERSECTS
together is invalid and we tried to protect against that in the validate() method.

This PR moves these checks to setter for strategy and relation and adds tests for the new
behaviour.

Relates to #10217

time:
2015-09-25T08:51:52Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
comments:
Merge pull request #13777 from s1monw/inlineShardPercolateService

Move ShardPercolateService creation into IndexShard

time:
2015-09-25T08:40:16Z
class:
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/test/java/org/elasticsearch/search/builder/NewSearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
comments:
Added ext section to search request for plugins that extend the fetch phase

tested with term vectors fetch

time:
2015-09-25T08:20:22Z
class:
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/ScriptQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilderTests.java
comments:
[TEST] adapt to changes upstream, expression has been moved out

Queries that can include scripts make now use of the mock script engine

time:
2015-09-25T07:38:24Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCLIParser.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/bootstrap/JNANatives.java
core/src/main/java/org/elasticsearch/bootstrap/Natives.java
core/src/main/java/org/elasticsearch/bootstrap/Seccomp.java
core/src/main/java/org/elasticsearch/cluster/AckedClusterStateUpdateTask.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/ClusterStateUpdateTask.java
core/src/main/java/org/elasticsearch/cluster/DiffableUtils.java
core/src/main/java/org/elasticsearch/cluster/ProcessedClusterStateNonMasterUpdateTask.java
core/src/main/java/org/elasticsearch/cluster/ProcessedClusterStateUpdateTask.java
core/src/main/java/org/elasticsearch/cluster/RestoreInProgress.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/TimeoutClusterStateUpdateTask.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/common/collect/CopyOnWriteHashSet.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/common/transport/BoundTransportAddress.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/gateway/GatewayService.java
core/src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
core/src/main/java/org/elasticsearch/http/HttpInfo.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/shard/AbstractIndexShardComponent.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshots.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/index/translog/TranslogService.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/indices/store/IndicesStore.java
core/src/main/java/org/elasticsearch/monitor/jvm/DeadlockAnalyzer.java
core/src/main/java/org/elasticsearch/node/service/NodeService.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/repositories/RepositoriesService.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/mapping/get/RestGetFieldMappingAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodeAttrsAction.java
core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/script/expression/ExpressionScriptCompilationException.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/having/BucketSelectorPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/fetch/matchedqueries/MatchedQueriesFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/lookup/LeafSearchLookup.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/main/java/org/elasticsearch/transport/TransportInfo.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/main/java/org/elasticsearch/transport/local/LocalTransport.java
core/src/main/java/org/elasticsearch/transport/local/LocalTransportChannel.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
core/src/test/java/org/elasticsearch/benchmark/common/recycler/RecyclerBenchmark.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapCliParserTests.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/bootstrap/SeccompTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/NoMasterNodeIT.java
core/src/test/java/org/elasticsearch/cluster/serialization/DiffableTests.java
core/src/test/java/org/elasticsearch/common/collect/CopyOnWriteHashSetTests.java
core/src/test/java/org/elasticsearch/common/transport/BoundTransportAddressTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyPipeliningDisabledIT.java
core/src/test/java/org/elasticsearch/http/netty/NettyPipeliningEnabledIT.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/script/CustomScriptContextIT.java
core/src/test/java/org/elasticsearch/script/FileScriptTests.java
core/src/test/java/org/elasticsearch/script/IndexedScriptIT.java
core/src/test/java/org/elasticsearch/script/MockScriptEngine.java
core/src/test/java/org/elasticsearch/script/OnDiskScriptIT.java
core/src/test/java/org/elasticsearch/script/ScriptContextTests.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/cluster/TestClusterService.java
core/src/test/java/org/elasticsearch/test/disruption/BlockClusterStateProcessing.java
core/src/test/java/org/elasticsearch/test/disruption/SlowClusterStateProcessing.java
core/src/test/java/org/elasticsearch/transport/NettySizeHeaderFrameDecoderTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortIntegrationIT.java
plugins/discovery-azure/src/test/java/org/elasticsearch/discovery/azure/AzureMinimumMasterNodesTests.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/CountMethodFunctionValues.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/CountMethodValueSource.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/DateMethodFunctionValues.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/DateMethodValueSource.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionExecutableScript.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionPlugin.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionSearchScript.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/FieldDataFunctionValues.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/FieldDataValueSource.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ReplaceableConstFunctionValues.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ReplaceableConstValueSource.java
plugins/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionRestIT.java
plugins/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionTests.java
plugins/lang-expression/src/test/java/org/elasticsearch/script/expression/IndexedExpressionTests.java
plugins/lang-expression/src/test/java/org/elasticsearch/script/expression/MoreExpressionTests.java
comments:
Merge branch 'master' into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/ElasticsearchException.java

time:
2015-09-25T07:16:02Z
class:
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
comments:
[TEST] fix test bug

time:
2015-09-24T21:42:21Z
class:
comments:
Fix typo

time:
2015-09-24T20:56:31Z
class:
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoValidationMethod.java
core/src/test/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
core/src/test/java/org/elasticsearch/search/geo/GeoBoundingBoxIT.java
comments:
Merge pull request #13672 from MaineC/feature/geo-coerce-consolidation

Switch geo validation to enum

time:
2015-09-24T20:50:04Z
class:
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
comments:
Another formatting fix

time:
2015-09-24T20:33:08Z
class:
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoValidationMethod.java
core/src/test/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
core/src/test/java/org/elasticsearch/search/geo/GeoBoundingBoxIT.java
comments:
Switch geo validation to enum

time:
2015-09-24T19:29:59Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
comments:
Move ShardPercolateService creation into IndexShard

This commit removes an unnecessarily guice injected service and
simply creates an instance where it's needed using plain old java ctors

time:
2015-09-24T18:03:52Z
class:
comments:
Merge pull request #13765 from nik9000/more_ram

Give vagrant boxes 2gb of ram

time:
2015-09-24T17:55:26Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/bootstrap/JNANatives.java
core/src/main/java/org/elasticsearch/bootstrap/Natives.java
core/src/main/java/org/elasticsearch/bootstrap/Seccomp.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/bootstrap/SeccompTests.java
comments:
Block process execution with seccomp on linux/amd64

Block execve(), fork(), and vfork() system calls, returning EACCES instead,
on kernels that support seccomp-bpf: either via seccomp() or falling back
to prctl().

Only linux/amd64 is supported. This feature can be disabled (in case
of problems) with bootstrap.seccomp=false.

Closes #13753

Squashed commit of the following:

commit 92cee05c72b49e532d41be7b16709e1c9f919fa9
Author: Robert Muir <rmuir@apache.org>
Date:   Thu Sep 24 10:12:51 2015 -0400

    Add a note about why we don't parse uname() or anything

commit b427971f45cbda4d0b964ddc4a55fae638880335
Author: Robert Muir <rmuir@apache.org>
Date:   Thu Sep 24 09:44:31 2015 -0400

    style only: we already pull errno into a local, use it for catch-all case

commit ddf93305525ed1546baf91f7902148a8f5b1ad06
Author: Robert Muir <rmuir@apache.org>
Date:   Thu Sep 24 08:36:01 2015 -0400

    add TODO

commit f29d1b7b809a9d4c1fcf15f6064e43f7d1b24696
Author: Robert Muir <rmuir@apache.org>
Date:   Thu Sep 24 08:33:28 2015 -0400

    Add full stacktrace at debug level always

commit a3c991ff8b0b16dc5e128af8fb3dfa6346c6d6f1
Author: Robert Muir <rmuir@apache.org>
Date:   Thu Sep 24 00:08:19 2015 -0400

    Add missing check just in case.

commit 628ed9c77603699aa9c67890fe7632b0e662a911
Author: Robert Muir <rmuir@apache.org>
Date:   Wed Sep 23 22:47:16 2015 -0400

    Add public getter, for stats or whatever if they need to know this

commit 3e2265b5f89d42043d9a07d4525ce42e2cb1c727
Author: Robert Muir <rmuir@apache.org>
Date:   Wed Sep 23 22:43:06 2015 -0400

    Enable use of seccomp(2) on Linux 3.17+ which provides more protection.
    Add nice errors.
    Add all kinds of checks and paranoia.
    Add documentation.
    Add boolean switch.

commit 0e421f7fa2d5236c8fa2cd073bcb616f5bcd2d23
Author: Robert Muir <rmuir@apache.org>
Date:   Wed Sep 23 21:36:32 2015 -0400

    Add defensive checks and nice error messages

commit 6231c3b7c96a81af8460cde30135e077f60a3f39
Author: Robert Muir <rmuir@apache.org>
Date:   Wed Sep 23 20:52:40 2015 -0400

    clean up JNA and BPF. block fork and vfork too.

commit bb31e8a6ef03ceeb1d5137c84d50378c270af85a
Author: Robert Muir <rmuir@apache.org>
Date:   Wed Sep 23 19:00:32 2015 -0400

    order is LE already for the JNA buffer, but be explicit about it

commit 10456d2f08f12ddc3d60989acb86b37be6a4b12b
Author: Robert Muir <rmuir@apache.org>
Date:   Wed Sep 23 17:47:07 2015 -0400

    block process execution with seccomp on linux/amd64

time:
2015-09-24T17:53:05Z
class:
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/common/inject/MembersInjectorImpl.java
comments:
Better format some stream usage

time:
2015-09-24T17:52:49Z
class:
core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java
comments:
Fix mistake and revert Stream

time:
2015-09-24T17:43:05Z
class:
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlockException.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/common/inject/spi/Dependency.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/util/set/Sets.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/rest/RestController.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
comments:
Remove methods from code review

time:
2015-09-24T16:00:36Z
class:
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
comments:
Query refactoring: last //norelease addressed

Some methods had default implementation while queries were going to be refactored, now that they are all refactored all those methods can be made abstract.

time:
2015-09-24T15:53:03Z
class:
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
comments:
Query refactoring: minor cleanups before we merge into master

Remove ParseFieldMatcher duplication query in both contexts. QueryParseContext is still contained in QueryShardContext, as parsing still happens in the shards here and there. Most of the norelease comments have been removed simply because the scope of the refactoring has become smaller. Some could only be removed once everything, the whole search request, gets parsed on the coordinating node. We will get there eventually.

time:
2015-09-24T14:55:28Z
class:
core/src/test/java/org/elasticsearch/script/GroovySecurityIT.java
comments:
fix groovy tests - we don't pass json anymore so no need to double escape quotes

time:
2015-09-24T14:48:55Z
class:
core/src/main/java/org/elasticsearch/search/SearchService.java
comments:
fix to make parseSource in SearchService work with source overriding template

time:
2015-09-24T14:30:00Z
class:
comments:
Gives more emphasys

time:
2015-09-24T14:19:34Z
class:
core/src/test/java/org/elasticsearch/index/query/TemplateQueryBuilderTests.java
comments:
text fix

time:
2015-09-24T14:16:16Z
class:
core/src/main/java/org/elasticsearch/script/Template.java
core/src/test/java/org/elasticsearch/script/OnDiskScriptIT.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
comments:
test fixes

time:
2015-09-24T14:04:59Z
class:
comments:
[test] Give vagrant boxes 2gb of ram

This lets them run our tests without oomkiller getting angry.

time:
2015-09-24T13:43:56Z
class:
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTests.java
comments:
Tests: fixing minor issues in RangeQueryBuilderTests and MatchQueryBuilderTests

time:
2015-09-24T13:33:35Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BaseQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BaseQueryParserTemp.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NotQueryParser.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/QueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryWrappingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
core/src/test/java/org/apache/lucene/queries/BlendedTermQueryTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/CommonTermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FuzzyQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeFormatTests.java
core/src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeTimezoneTests.java
core/src/test/java/org/elasticsearch/index/query/MatchAllQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MultiMatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/PrefixQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RandomQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RegexpQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/TermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WildcardQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/plugin/CustomQueryParserIT.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
core/src/test/java/org/elasticsearch/index/search/MultiMatchQueryTests.java
core/src/test/java/org/elasticsearch/indices/IndicesModuleTests.java
core/src/test/java/org/elasticsearch/search/query/MultiMatchQueryIT.java
comments:
Merge branch 'feature/query-refactoring' into feature/search-request-refactoring

# Conflicts:
#	core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
#	core/src/main/java/org/elasticsearch/index/query/TemplateQueryParser.java

time:
2015-09-24T13:20:50Z
class:
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/test/java/org/elasticsearch/action/search/SearchRequestBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryIT.java
core/src/test/java/org/elasticsearch/script/GroovyScriptIT.java
core/src/test/java/org/elasticsearch/script/GroovySecurityIT.java
core/src/test/java/org/elasticsearch/script/IndexedScriptIT.java
core/src/test/java/org/elasticsearch/script/OnDiskScriptIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsIT.java
core/src/test/java/org/elasticsearch/search/basic/TransportSearchFailuresIT.java
core/src/test/java/org/elasticsearch/search/basic/TransportTwoNodesSearchIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/search/fields/SearchFieldsIT.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringIT.java
core/src/test/java/org/elasticsearch/search/sort/SimpleSortIT.java
core/src/test/java/org/elasticsearch/test/rest/section/DoSection.java
comments:
fixing up NOCOMMITs and making the IndicesQueryParserService not serialise the QueryBuilder to and from son

time:
2015-09-24T11:35:36Z
class:
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/test/java/org/apache/lucene/queries/BlendedTermQueryTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/CommonTermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FuzzyQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeFormatTests.java
core/src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeTimezoneTests.java
core/src/test/java/org/elasticsearch/index/query/MatchAllQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MultiMatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/PrefixQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RandomQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RegexpQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/TermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WildcardQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/plugin/CustomQueryParserIT.java
core/src/test/java/org/elasticsearch/index/search/MultiMatchQueryTests.java
core/src/test/java/org/elasticsearch/search/query/MultiMatchQueryIT.java
comments:
Remove IndexQueryParseService#parse methods used only in tests

SimpleIndexQueryParserTests was the main responsible: deleted lots of duplicated tests, moved the ones that made sense to keep to their corresponding unit tests (note they were ESSingleNode tests before while are now converted to unit tests).

Closes #13750

time:
2015-09-24T10:51:19Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BaseQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BaseQueryParserTemp.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NotQueryParser.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/QueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryWrappingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
core/src/test/java/org/elasticsearch/indices/IndicesModuleTests.java
comments:
Query Refactoring: remove deprecated methods and temporary classes

After all queries now have a `toQuery` method and the parsers all
support `fromXContent` it is possible to remove the following
workarounds and deprecated methods we kept around while doing the
refactoring:

* remove the BaseQueryParser and BaseQueryParserTemp. All parsers
  implement QueryParser directly now
* remove deprecated methods in QueryParseContext that either returned
  a Query or a Filter.
* remove the temporary QueryWrapperQueryBuilder

Relates to #10217

time:
2015-09-24T10:01:07Z
class:
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerIT.java
comments:
Internal: pending operations in the translog prevent shard from being marked as inactive

The IndexingMemoryController checks periodically if there is any indexing activity on the shard. If no activity is sean for 5m (default) the shard is marked as inactive allowing it's indexing buffer quota to given to other active shards.

Sadly the current check is bad as it checks for 0 translog operation. This makes the inactive wait for a flush to happen - which used to take 30m and since #13707 doesn't happen at all (as we rely on the synced flush triggered by inactivity). This commit fixes the check so it will work with any translog size.

Closes #13759

time:
2015-09-24T07:28:36Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
Fire off another maybeFlush on finish to ensure we don't miss a pending flush

time:
2015-09-24T01:00:49Z
class:
comments:
Documents that now is not affected by time_zone in range queries

time:
2015-09-23T23:00:09Z
class:
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
comments:
Revert "correct IndexQueryParserService.parse(QueryBuilder<?>) so that it doesn't convert to JSON and back again"

This reverts commit cc9519eee3dbe5127fd30e0b36c3efa7f65ceda4.

time:
2015-09-23T22:58:13Z
class:
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
comments:
correct IndexQueryParserService.parse(QueryBuilder<?>) so that it doesn't convert to JSON and back again

time:
2015-09-23T22:34:42Z
class:
comments:
fix lang js rest test (hopefully)

time:
2015-09-23T22:12:36Z
class:
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
comments:
fix SearchSourceBuilder.fromXContent to allow sort to be an object

time:
2015-09-23T21:47:37Z
class:
comments:
fixed script language plugins rest tests to use correct script syntax

time:
2015-09-23T21:39:43Z
class:
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
comments:
Use utility

time:
2015-09-23T21:25:37Z
class:
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
comments:
Fix silly mistake

time:
2015-09-23T21:06:35Z
class:
plugins/delete-by-query/src/main/java/org/elasticsearch/rest/action/deletebyquery/RestDeleteByQueryAction.java
comments:
Parse query from deleteByQuery request body

time:
2015-09-23T20:42:09Z
class:
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequestBuilder.java
comments:
delete by query rest test fix (maybe)

time:
2015-09-23T20:26:16Z
class:
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider2.java
core/src/main/java/org/elasticsearch/index/codec/CodecService.java
comments:
Entirely remove and ban ImmutableSet

The last usage was ImmutableMap#keySet

time:
2015-09-23T20:22:25Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
[TEST] Add more logging to IndexShardTests#testMaybeFlush()

time:
2015-09-23T20:15:13Z
class:
comments:
rest test fixes (hopefully)

time:
2015-09-23T20:14:38Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/AliasMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/inject/BindingProcessor.java
core/src/main/java/org/elasticsearch/common/inject/InheritingState.java
core/src/main/java/org/elasticsearch/common/inject/InjectorImpl.java
core/src/main/java/org/elasticsearch/common/inject/State.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider.java
core/src/main/java/org/elasticsearch/common/inject/internal/Errors.java
core/src/main/java/org/elasticsearch/common/inject/internal/ExposedBindingImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/MoreTypes.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/MapBinder.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/Multibinder.java
core/src/main/java/org/elasticsearch/gateway/AsyncShardFetch.java
core/src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractAtomicParentChildFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DocValuesIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
core/src/main/java/org/elasticsearch/rest/RestController.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightUtils.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/explain/ExplainActionIT.java
core/src/test/java/org/elasticsearch/gateway/AsyncShardFetchTests.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/search/fields/SearchFieldsIT.java
comments:
Remove and ban ImmutableSet#of

time:
2015-09-23T20:05:49Z
class:
core/src/main/java/org/elasticsearch/search/SearchService.java
comments:
fix inner_hits parsing in SearchService

time:
2015-09-23T20:02:55Z
class:
comments:
update rest tests to expect default boost to be returned in warmer responses

time:
2015-09-23T19:52:57Z
class:
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhaseContext.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
comments:
more test fixes

time:
2015-09-23T19:50:30Z
class:
core/src/main/java/org/elasticsearch/search/warmer/IndexWarmersMetaData.java
comments:
Impl SearchSource#hashCode|equals|toString

time:
2015-09-23T19:37:49Z
class:
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/main/java/org/elasticsearch/common/inject/ConfigurationException.java
core/src/main/java/org/elasticsearch/common/inject/CreationException.java
core/src/main/java/org/elasticsearch/common/inject/InjectorBuilder.java
core/src/main/java/org/elasticsearch/common/inject/InjectorShell.java
core/src/main/java/org/elasticsearch/common/inject/ProvisionException.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider.java
core/src/main/java/org/elasticsearch/common/inject/internal/BindingBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/ConstantBindingBuilderImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/Errors.java
core/src/main/java/org/elasticsearch/common/inject/internal/InstanceBindingImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/ProviderInstanceBindingImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/ProviderMethod.java
core/src/main/java/org/elasticsearch/common/inject/internal/ProviderMethodsModule.java
core/src/main/java/org/elasticsearch/common/inject/internal/SourceProvider.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/Multibinder.java
core/src/main/java/org/elasticsearch/common/inject/spi/Dependency.java
core/src/main/java/org/elasticsearch/common/inject/spi/InjectionPoint.java
core/src/main/java/org/elasticsearch/common/inject/util/Modules.java
core/src/main/java/org/elasticsearch/common/util/set/Sets.java
core/src/main/java/org/elasticsearch/gateway/AsyncShardFetch.java
core/src/main/java/org/elasticsearch/index/analysis/HtmlStripCharFilterFactory.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
comments:
Remove and ban ImmutableSet#copyOf

It was used heavily in the Guice we've embedded.

time:
2015-09-23T19:31:00Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentGenerator.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/warmer/IndexWarmersMetaData.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/indices/IndicesOptionsIntegrationIT.java
comments:
Add a late-parsing SearchSoruce wrapper for index warmers

time:
2015-09-23T18:57:59Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java
core/src/test/java/org/elasticsearch/test/rest/section/DoSection.java
comments:
fixes and debugging

time:
2015-09-23T18:41:03Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/script/expression/ExpressionScriptCompilationException.java
core/src/main/java/org/elasticsearch/script/expression/ExpressionScriptExecutionException.java
comments:
Merge pull request #13742 from s1monw/remove_dead_code

Remove `ExpressionScriptCompilationException` and `ExpressionScriptExecutionException`

time:
2015-09-23T17:58:16Z
class:
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
comments:
more test fixes

time:
2015-09-23T17:55:34Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlockException.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/common/inject/ConstructorInjector.java
core/src/main/java/org/elasticsearch/common/inject/MembersInjectorImpl.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/util/set/Sets.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/monitor/jvm/DeadlockAnalyzer.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/settings/RestUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/test/java/org/elasticsearch/gateway/GatewayMetaStateTests.java
core/src/test/java/org/elasticsearch/gateway/RecoverAfterNodesIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
comments:
Remove and ban ImmutableSet#builder

time:
2015-09-23T17:50:45Z
class:
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/search/SearchService.java
comments:
test fixes

time:
2015-09-23T17:17:46Z
class:
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/NoMasterNodeIT.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
plugins/discovery-azure/src/test/java/org/elasticsearch/discovery/azure/AzureMinimumMasterNodesTests.java
comments:
Merge pull request #13701 from jasontedor/fix-ping-timeout-settings-inconsistency

Fix ping timeout settings inconsistencies

time:
2015-09-23T17:07:30Z
class:
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/common/lucene/search/MoreLikeThisQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/CombineFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FieldValueFactorFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/RandomScoreFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/ScoreFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/WeightFactorFunction.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
core/src/main/java/org/elasticsearch/index/query/Operator.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunction.java
core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionBuilders.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParserMapper.java
core/src/main/java/org/elasticsearch/index/query/functionscore/exp/ExponentialDecayFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/exp/ExponentialDecayFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/gauss/GaussDecayFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/gauss/GaussDecayFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/lin/LinearDecayFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/lin/LinearDecayFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/weight/WeightBuilder.java
core/src/main/java/org/elasticsearch/search/MultiValueMode.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/CombineFunctionTests.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/OperatorTests.java
core/src/test/java/org/elasticsearch/index/query/ScoreModeTests.java
core/src/test/java/org/elasticsearch/index/query/ScriptQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FieldValueFactorFunctionModifierTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/ScoreFunctionBuilderTests.java
core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
core/src/test/java/org/elasticsearch/script/GroovyScriptIT.java
core/src/test/java/org/elasticsearch/script/expression/ExpressionScriptIT.java
core/src/test/java/org/elasticsearch/search/MultiValueModeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DoubleTermsIT.java
core/src/test/java/org/elasticsearch/search/basic/TransportTwoNodesSearchIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreBackwardCompatibilityIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreFieldValueIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScorePluginIT.java
core/src/test/java/org/elasticsearch/search/functionscore/RandomScoreFunctionIT.java
core/src/test/java/org/elasticsearch/search/morelikethis/MoreLikeThisIT.java
core/src/test/java/org/elasticsearch/search/rescore/QueryRescorerIT.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
core/src/test/java/org/elasticsearch/validate/SimpleValidateQueryIT.java
comments:
Merge branch 'feature/query-refactoring' into feature/search-request-refactoring

# Conflicts:
#	core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
#	core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreFieldValueIT.java
#	core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreIT.java
#	core/src/test/java/org/elasticsearch/search/rescore/QueryRescorerIT.java

time:
2015-09-23T16:58:23Z
class:
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/NoMasterNodeIT.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
plugins/discovery-azure/src/test/java/org/elasticsearch/discovery/azure/AzureMinimumMasterNodesTests.java
comments:
Fix ping timeout settings inconsistencies

This commit fixes ping timeout settings inconsistencies in
ZenDiscovery. In particular, the documentation refers to the ping
timeout setting as discovery.zen.ping_timeout but the code was
ultimately using discovery.zen.ping.timeout if this was set.

This commit also changes all instances of the raw string
“discovery.zen.ping_timeout” to the constant
o.e.d.z.ZenDiscovery.SETTING_PING_TIMEOUT.

Finally, this commit removes the legacy setting
"discovery.zen.initial_ping_timeout".

Closes #6579, #9581, #9908

time:
2015-09-23T16:34:28Z
class:
core/src/test/java/org/elasticsearch/search/builder/NewSearchSourceBuilderTests.java
comments:
removed sysouts

time:
2015-09-23T16:33:05Z
class:
core/src/main/java/org/elasticsearch/search/SearchService.java
comments:
fix to sort parsing in SearchService

time:
2015-09-23T16:26:18Z
class:
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/internal/ShardSearchLocalRequest.java
core/src/test/java/org/elasticsearch/action/count/CountRequestTests.java
core/src/test/java/org/elasticsearch/search/builder/NewSearchSourceBuilderTests.java
comments:
unit test fixes

time:
2015-09-23T16:20:46Z
class:
core/src/main/java/org/elasticsearch/common/lucene/search/MoreLikeThisQuery.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/test/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/search/morelikethis/MoreLikeThisIT.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
core/src/test/java/org/elasticsearch/validate/SimpleValidateQueryIT.java
comments:
Query Refactoring: Move MoreLikeThisQueryBuilder validation to constructor

The current MoreLikeThisQueryBuilder validation checks for existence of at
least one `like` text or item. This is hard to check in setters, so this PR
tries to change the construction of the query so that we can do these checks
already at construction time.

Changing to using arrays for fieldnames, likeTexts, likeItems, unlikeTexts
and unlikeItems. `likeTexts` and/or `likeItems` need to be specified at
construction time to validate we have at least one item there.

Relates to #10217

time:
2015-09-23T16:01:09Z
class:
comments:
Merge pull request #13747 from brwe/vagrant-add-expression-plugin

[test] add lang-expression plugin to vagrant tests

time:
2015-09-23T15:57:25Z
class:
core/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
comments:
removed sysout

time:
2015-09-23T15:55:21Z
class:
comments:
[test] add lang-expression plugin to vagrant tests

we need this now that #13726 has been merged

time:
2015-09-23T15:40:58Z
class:
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/transport/local/LocalTransport.java
core/src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
core/src/test/java/org/elasticsearch/test/transport/AssertingLocalTransport.java
comments:
Search service can now fully populate SearchContext from SearchSourceBuilder

time:
2015-09-23T15:10:03Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
core/src/main/java/org/elasticsearch/cluster/DiffableUtils.java
core/src/main/java/org/elasticsearch/cluster/RestoreInProgress.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshots.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/monitor/jvm/DeadlockAnalyzer.java
core/src/main/java/org/elasticsearch/node/service/NodeService.java
core/src/main/java/org/elasticsearch/repositories/RepositoriesService.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/mapping/get/RestGetFieldMappingAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodeAttrsAction.java
core/src/main/java/org/elasticsearch/search/fetch/matchedqueries/MatchedQueriesFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/lookup/LeafSearchLookup.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/test/java/org/elasticsearch/benchmark/common/recycler/RecyclerBenchmark.java
core/src/test/java/org/elasticsearch/cluster/serialization/DiffableTests.java
comments:
Merge pull request #13724 from nik9000/immutable_map_entry_set_be_gone

Remove and ban ImmutableMap#entrySet

time:
2015-09-23T15:07:28Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
core/src/main/java/org/elasticsearch/cluster/DiffableUtils.java
core/src/main/java/org/elasticsearch/cluster/RestoreInProgress.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshots.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/monitor/jvm/DeadlockAnalyzer.java
core/src/main/java/org/elasticsearch/node/service/NodeService.java
core/src/main/java/org/elasticsearch/repositories/RepositoriesService.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/mapping/get/RestGetFieldMappingAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodeAttrsAction.java
core/src/main/java/org/elasticsearch/search/fetch/matchedqueries/MatchedQueriesFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/lookup/LeafSearchLookup.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/test/java/org/elasticsearch/benchmark/common/recycler/RecyclerBenchmark.java
core/src/test/java/org/elasticsearch/cluster/serialization/DiffableTests.java
comments:
Remove and ban ImmutableMap#entrySet

Banning `ImmutableSet` outright is too much to do all at once - this starts
the process by banning `ImmutableMap#entrySet` - one of the more common ways
that `ImmutableSet`s come up. It then starts to remove calls to
`ImmutableMap#entrySet` by changing declarations from `ImmutableMap` to `Map`.

Unfortunately this process is like pulling on a long, windy string and one
declaration change requires another which requires 5 more which in turn
require another few. So this change is rather large.

As such, to keep the changes manageable they only remove `ImmutableMap` from
the signatures that are needed for `entrySet` and make little effort to stop
using `ImmutableMap` internally. Removing the usages of `ImmutableMap`
complicates immutability guarantees and will be done separately.

time:
2015-09-23T15:06:35Z
class:
core/src/main/java/org/elasticsearch/common/transport/BoundTransportAddress.java
core/src/main/java/org/elasticsearch/http/HttpInfo.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/main/java/org/elasticsearch/transport/TransportInfo.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/main/java/org/elasticsearch/transport/local/LocalTransport.java
core/src/main/java/org/elasticsearch/transport/local/LocalTransportChannel.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/common/transport/BoundTransportAddressTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyPipeliningDisabledIT.java
core/src/test/java/org/elasticsearch/http/netty/NettyPipeliningEnabledIT.java
core/src/test/java/org/elasticsearch/transport/NettySizeHeaderFrameDecoderTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortIntegrationIT.java
comments:
expose all addresses that the transports are bound to

In #12942, the NettyTransport and NettyHttpServerTransport were updated to allow for binding
to multiple addresses. However, the BoundTransportAddress holder only exposed the first address
that the transport was bound to and this object is used to populate the values returned to the user
via our APIs.

This change exposes all of the bound addresses in the BoundTransportAddress holder, which allows
for an accurate representation of all interfaces that elasticsearch is bound to and listening on.

time:
2015-09-23T15:04:43Z
class:
comments:
Fix position-increment-gap doc example

time:
2015-09-23T14:43:35Z
class:
core/src/main/java/org/elasticsearch/search/SearchService.java
comments:
Parsing of rescuer and sort ByteReferences.

Not the neatest implementation in the world. Maybe we should consider changing the builders so it is a single builder for sort and a single builder for rescore instead of a list of builders for each?

time:
2015-09-23T14:37:55Z
class:
core/src/test/java/org/elasticsearch/bootstrap/BootstrapCliParserTests.java
comments:
Fix broken test in BootstrapCliParserTests

time:
2015-09-23T14:14:13Z
class:
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCLIParser.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapCliParserTests.java
comments:
Merge pull request #13737 from jasontedor/cli-parameter-order-error-message

More helpful error message on parameter order

time:
2015-09-23T14:13:40Z
class:
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCLIParser.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapCliParserTests.java
comments:
More helpful error message on parameter order

This commit addresses a confusing error message that arises when a
property parameter (e.g. -D) is after a double-dash parameter. The
current error message reports to the user that the parameter does not
start with “--". Adding the second dash as the error message suggests
causes the parameter to be silently ignored. This is confusing for the
user. With this commit, the user is now informed that the parameter
order is violated.

Relates e27ede48ce6f275f80e8b59bc6dc7ad2849c64fc

time:
2015-09-23T14:07:52Z
class:
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
comments:
Fix GeoPointFieldMapper to index geohash at correct precision(s). Add test coverage.

time:
2015-09-23T14:07:33Z
class:
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
comments:
remove index from QueryParseContext Constructor

time:
2015-09-23T13:24:23Z
class:
comments:
Update phrase-suggest.asciidoc

small sentence fix

time:
2015-09-23T13:09:30Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/script/expression/ExpressionScriptCompilationException.java
core/src/main/java/org/elasticsearch/script/expression/ExpressionScriptExecutionException.java
comments:
Remove `ExpressionScriptCompilationException` and `ExpressionScriptExecutionException`

These exceptions are useless and unused, since we are on a major verison we should remove
them. This commit also makes it easier to remove excepitons in the future.

time:
2015-09-23T12:54:51Z
class:
comments:
Update settings.asciidoc

generalising to single dash

time:
2015-09-23T12:54:50Z
class:
comments:
Order of command line flags

specifying the order required for cli -Des notation arguments

time:
2015-09-23T12:10:40Z
class:
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
[TEST] force REQUEST durabilty otherwise test will fail

time:
2015-09-23T11:57:12Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
Add back presumably redundant shouldFlush() check.

The check prevents a race condition since we can't use real locks here.
Relates to #13707

time:
2015-09-23T11:43:20Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/cluster/AckedClusterStateUpdateTask.java
core/src/main/java/org/elasticsearch/cluster/ClusterStateNonMasterUpdateTask.java
core/src/main/java/org/elasticsearch/cluster/ClusterStateUpdateTask.java
core/src/main/java/org/elasticsearch/cluster/ProcessedClusterStateNonMasterUpdateTask.java
core/src/main/java/org/elasticsearch/cluster/ProcessedClusterStateUpdateTask.java
core/src/main/java/org/elasticsearch/cluster/TimeoutClusterStateUpdateTask.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/gateway/GatewayService.java
core/src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
core/src/main/java/org/elasticsearch/indices/store/IndicesStore.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesIT.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/test/cluster/TestClusterService.java
core/src/test/java/org/elasticsearch/test/disruption/BlockClusterStateProcessing.java
core/src/test/java/org/elasticsearch/test/disruption/SlowClusterStateProcessing.java
comments:
Reduced the number of ClusterStateUpdateTask variants

In the past ClusterStateUpdateTask was an interface and we had various derived marker interfaces to control behavior. Since then we moved ClusterStateUpdateTask to be an abstract class but we kept the old hierarchy of implementations. All of those (but the AckedClusterStateUpdateTask) can be folded into ClusterStateUpdateTask, adding correct default behavior.

Closes #13735

time:
2015-09-23T11:32:15Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/script/expression/ExpressionScriptCompilationException.java
core/src/main/java/org/elasticsearch/script/expression/ExpressionScriptExecutionException.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/having/BucketSelectorPipelineAggregator.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/script/CustomScriptContextIT.java
core/src/test/java/org/elasticsearch/script/FileScriptTests.java
core/src/test/java/org/elasticsearch/script/IndexedScriptIT.java
core/src/test/java/org/elasticsearch/script/MockScriptEngine.java
core/src/test/java/org/elasticsearch/script/OnDiskScriptIT.java
core/src/test/java/org/elasticsearch/script/ScriptContextTests.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/CountMethodFunctionValues.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/CountMethodValueSource.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/DateMethodFunctionValues.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/DateMethodValueSource.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionExecutableScript.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionPlugin.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionSearchScript.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/FieldDataFunctionValues.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/FieldDataValueSource.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ReplaceableConstFunctionValues.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ReplaceableConstValueSource.java
plugins/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionRestIT.java
plugins/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionTests.java
plugins/lang-expression/src/test/java/org/elasticsearch/script/expression/IndexedExpressionTests.java
plugins/lang-expression/src/test/java/org/elasticsearch/script/expression/MoreExpressionTests.java
comments:
Merge pull request #13726 from rmuir/lang-expression

Factor expressions scripts out to lang-expression plugin

time:
2015-09-23T11:17:57Z
class:
comments:
Added a clarifying note about argument order in the bin/elasticsearch start script

time:
2015-09-23T10:39:06Z
class:
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/shard/AbstractIndexShardComponent.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/translog/TranslogService.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
comments:
Remove TranslogService and fold it into synchronous IndexShard API

This commit moves the size and ops based flush into a synchronous API into
IndexShard and removes the time-based flush alltogether since it' basically
covered by the inactive async flush API we have today. The functionality doesn't
need to be covered by scheduled task and async APIs while we can actually make all
the decisions in a sync manner which is way easier to control and to test.

Closes #13707

time:
2015-09-23T10:24:07Z
class:
core/src/main/java/org/elasticsearch/action/count/CountRequest.java
core/src/main/java/org/elasticsearch/action/count/CountRequestBuilder.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/common/bytes/PagedBytesReference.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryParser.java
core/src/main/java/org/elasticsearch/index/search/stats/SearchSlowLog.java
core/src/main/java/org/elasticsearch/indices/cache/request/IndicesRequestCache.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestCountAction.java
core/src/main/java/org/elasticsearch/rest/action/count/RestCountAction.java
core/src/main/java/org/elasticsearch/rest/action/search/RestMultiSearchAction.java
core/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/builder/OldSearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/fetch/source/FetchSourceContext.java
core/src/main/java/org/elasticsearch/search/internal/ShardSearchLocalRequest.java
core/src/main/java/org/elasticsearch/search/internal/ShardSearchRequest.java
core/src/main/java/org/elasticsearch/search/internal/ShardSearchTransportRequest.java
core/src/test/java/org/elasticsearch/action/count/CountRequestBuilderTests.java
core/src/test/java/org/elasticsearch/action/count/CountRequestTests.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
core/src/test/java/org/elasticsearch/broadcast/BroadcastActionsIT.java
core/src/test/java/org/elasticsearch/document/DocumentActionsIT.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryIT.java
core/src/test/java/org/elasticsearch/search/builder/NewSearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
comments:
Parse source, extra-source and template-source on the coordinating node

This commit removes all the opaque bytes for extra_source and template_source.
Instead source and extra_source etc. are represented as SearchSourceBuilder which can
in-place be modified and is updated with the content of the request parameters.
Template Source is parsed and evaluated which in-turn replaces the actual source.

time:
2015-09-23T10:07:20Z
class:
core/src/main/java/org/elasticsearch/rest/action/admin/indices/warmer/put/RestPutWarmerAction.java
core/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/fetch/source/FetchSourceContext.java
comments:
fix compile errors

time:
2015-09-23T09:44:24Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/index/search/stats/SearchSlowLog.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/warmer/put/RestPutWarmerAction.java
core/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/warmer/IndexWarmersMetaData.java
core/src/test/java/org/elasticsearch/action/count/CountRequestTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/indices/IndicesOptionsIntegrationIT.java
comments:
updates to fix some of the NOCOMMITs

time:
2015-09-23T09:44:23Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java
core/src/main/java/org/elasticsearch/action/count/CountRequest.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/termvectors/dfs/DfsOnlyRequest.java
core/src/main/java/org/elasticsearch/index/search/stats/SearchSlowLog.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/warmer/put/RestPutWarmerAction.java
core/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/internal/ShardSearchLocalRequest.java
core/src/main/java/org/elasticsearch/search/internal/ShardSearchRequest.java
core/src/main/java/org/elasticsearch/search/internal/ShardSearchTransportRequest.java
core/src/test/java/org/elasticsearch/action/count/CountRequestTests.java
core/src/test/java/org/elasticsearch/action/search/SearchRequestBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryIT.java
core/src/test/java/org/elasticsearch/script/GroovyScriptIT.java
core/src/test/java/org/elasticsearch/script/GroovySecurityIT.java
core/src/test/java/org/elasticsearch/script/IndexedScriptIT.java
core/src/test/java/org/elasticsearch/script/OnDiskScriptIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsIT.java
core/src/test/java/org/elasticsearch/search/basic/TransportSearchFailuresIT.java
core/src/test/java/org/elasticsearch/search/basic/TransportTwoNodesSearchIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/search/fields/SearchFieldsIT.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreFieldValueIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringIT.java
core/src/test/java/org/elasticsearch/search/sort/SimpleSortIT.java
comments:
SearchRequest.source() now returns a SearchSourceBuilder.

Lots of NOCOMMITS are in the code as lots of compile errors have been temporarily commented out

time:
2015-09-23T09:44:23Z
class:
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
comments:
muted failing test

time:
2015-09-23T09:44:23Z
class:
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
comments:
small parsing fix for fields

time:
2015-09-23T09:44:23Z
class:
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/fetch/source/FetchSourceContext.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregationsBinaryIT.java
core/src/test/java/org/elasticsearch/search/builder/NewSearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
core/src/test/java/org/elasticsearch/search/rescore/QueryRescorerIT.java
comments:
fixes to tests

time:
2015-09-23T09:44:23Z
class:
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsBuilder.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsBuilder.java
core/src/test/java/org/elasticsearch/benchmark/search/SuggestSearchBenchMark.java
core/src/test/java/org/elasticsearch/search/aggregations/ParsingIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsIT.java
core/src/test/java/org/elasticsearch/search/highlight/CustomHighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
core/src/test/java/org/elasticsearch/search/stats/SearchStatsIT.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggesterSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/SuggestSearchIT.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequest.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequestBuilder.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryAction.java
plugins/delete-by-query/src/main/java/org/elasticsearch/rest/action/deletebyquery/RestDeleteByQueryAction.java
plugins/delete-by-query/src/test/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryActionTests.java
comments:
clean up for methods in SearchRequestBuilder so it works with SearchSourceBuilder

time:
2015-09-23T09:44:22Z
class:
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/validate/query/RestValidateQueryAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestCountAction.java
core/src/main/java/org/elasticsearch/rest/action/count/RestCountAction.java
core/src/main/java/org/elasticsearch/rest/action/exists/RestExistsAction.java
core/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
core/src/main/java/org/elasticsearch/rest/action/support/RestActions.java
core/src/test/java/org/elasticsearch/action/search/SearchRequestBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryIT.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoShapeIntegrationIT.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringIT.java
core/src/test/java/org/elasticsearch/search/timeout/SearchTimeoutIT.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
plugins/delete-by-query/src/main/java/org/elasticsearch/rest/action/deletebyquery/RestDeleteByQueryAction.java
comments:
cleanup codebase to work with SearchSourceBuilder

time:
2015-09-23T09:44:22Z
class:
core/src/main/java/org/elasticsearch/search/builder/NewSearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/builder/OldSearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/test/java/org/elasticsearch/search/builder/NewSearchSourceBuilderTests.java
comments:
Renamed SearchSourceBuilder to OldSearchSourceBuilder and NewSearchSourceBuilder to SearchSourceBuilder

time:
2015-09-23T09:44:22Z
class:
core/src/main/java/org/elasticsearch/search/builder/NewSearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsBuilder.java
core/src/main/java/org/elasticsearch/search/fetch/source/FetchSourceContext.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightBuilder.java
core/src/test/java/org/elasticsearch/search/builder/NewSearchSourceBuilderTests.java
comments:
Completed serialisation to/from son and transport protocol and added a unit test

time:
2015-09-23T09:44:22Z
class:
core/src/main/java/org/elasticsearch/search/builder/NewSearchSourceBuilder.java
comments:
various fixes after a review

time:
2015-09-23T09:44:22Z
class:
core/src/main/java/org/elasticsearch/search/builder/NewSearchSourceBuilder.java
comments:
cleanup of commented out code

time:
2015-09-23T09:44:22Z
class:
core/src/main/java/org/elasticsearch/search/builder/NewSearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/fetch/source/FetchSourceContext.java
comments:
implemented hashCode, equals and fromXContent in  NewSearchSourceBuidler

time:
2015-09-23T09:44:22Z
class:
core/src/main/java/org/elasticsearch/search/builder/NewSearchSourceBuilder.java
comments:
new SearchSourceBuilder to use as the search request

time:
2015-09-23T09:32:54Z
class:
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/CombineFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FieldValueFactorFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/RandomScoreFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/ScoreFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/WeightFactorFunction.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/Operator.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunction.java
core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionBuilders.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParserMapper.java
core/src/main/java/org/elasticsearch/index/query/functionscore/exp/ExponentialDecayFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/exp/ExponentialDecayFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/gauss/GaussDecayFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/gauss/GaussDecayFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/lin/LinearDecayFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/lin/LinearDecayFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/weight/WeightBuilder.java
core/src/main/java/org/elasticsearch/search/MultiValueMode.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/CombineFunctionTests.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/OperatorTests.java
core/src/test/java/org/elasticsearch/index/query/ScoreModeTests.java
core/src/test/java/org/elasticsearch/index/query/ScriptQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FieldValueFactorFunctionModifierTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/ScoreFunctionBuilderTests.java
core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
core/src/test/java/org/elasticsearch/script/GroovyScriptIT.java
core/src/test/java/org/elasticsearch/script/expression/ExpressionScriptIT.java
core/src/test/java/org/elasticsearch/search/MultiValueModeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DoubleTermsIT.java
core/src/test/java/org/elasticsearch/search/basic/TransportTwoNodesSearchIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreBackwardCompatibilityIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreFieldValueIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScorePluginIT.java
core/src/test/java/org/elasticsearch/search/functionscore/RandomScoreFunctionIT.java
core/src/test/java/org/elasticsearch/search/rescore/QueryRescorerIT.java
comments:
Query refactoring: refactor query_string query and score functions

Refactor the function_score query so it can be parsed on the coordinating node, split parse into fromXContent and toQuery, make FunctionScoreQueryBuilder Writeable.

Closes #13653

time:
2015-09-23T08:30:53Z
class:
core/src/main/java/org/elasticsearch/common/ParsingException.java
core/src/main/java/org/elasticsearch/common/xcontent/ObjectParser.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NotQueryParser.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParserMapper.java
core/src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionParser.java
core/src/main/java/org/elasticsearch/indices/cache/query/terms/TermsLookup.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/index/query/TestParsingException.java
core/src/test/java/org/elasticsearch/rest/BytesRestResponseTests.java
comments:
Remove index member from QueryParseContext

Given that we are moving to parsing queries on the coordinating node, the index name is not relevant anymore in QueryParseContext, as the parsing phase cannot be related to any specific index. On the contrary, the QueryShardContext is the one that holds mappings etc. and the index name too, as the lucene query creation happens on the data node and can still be related with the index that it happens against.

Changes are mainly around tests that were expecting the index name, moved to using QueryShardException in some of them, removed the index name elsewhere.

Closes #13631

time:
2015-09-23T08:24:27Z
class:
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
comments:
Merge pull request #13718 from mikemccand/catch_throwable

LoggingRunnable.run should catch and log all errors, not just Exception

time:
2015-09-23T06:39:22Z
class:
core/src/test/java/org/elasticsearch/script/FileScriptTests.java
core/src/test/java/org/elasticsearch/script/MockScriptEngine.java
core/src/test/java/org/elasticsearch/script/OnDiskScriptIT.java
core/src/test/java/org/elasticsearch/script/ScriptContextTests.java
comments:
Refactor file script tests to be real unit tests

time:
2015-09-23T04:16:10Z
class:
core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java
core/src/test/java/org/elasticsearch/script/CustomScriptContextIT.java
core/src/test/java/org/elasticsearch/script/CustomScriptContextTests.java
comments:
rewrite custom scriptcontext tests to be unit tests

time:
2015-09-23T03:50:28Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/script/expression/ExpressionScriptCompilationException.java
core/src/main/java/org/elasticsearch/script/expression/ExpressionScriptExecutionException.java
comments:
i am fucking done taking out your trash: have it back, clean it up yourself. just let me secure the system.

time:
2015-09-23T00:51:11Z
class:
comments:
Remove -Xlint:-serial, the crazy exceptions are now gone

time:
2015-09-23T00:33:47Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/having/BucketSelectorPipelineAggregator.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/script/CustomScriptContextIT.java
core/src/test/java/org/elasticsearch/script/IndexedScriptIT.java
core/src/test/java/org/elasticsearch/script/OnDiskScriptIT.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/CountMethodFunctionValues.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/CountMethodValueSource.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/DateMethodFunctionValues.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/DateMethodValueSource.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionExecutableScript.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionPlugin.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionSearchScript.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/FieldDataFunctionValues.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/FieldDataValueSource.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ReplaceableConstFunctionValues.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ReplaceableConstValueSource.java
plugins/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionRestIT.java
plugins/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionTests.java
plugins/lang-expression/src/test/java/org/elasticsearch/script/expression/IndexedExpressionTests.java
plugins/lang-expression/src/test/java/org/elasticsearch/script/expression/MoreExpressionTests.java
comments:
Factor expressions scripts out to lang-expression plugin

time:
2015-09-22T17:22:37Z
class:
core/src/main/java/org/elasticsearch/common/collect/CopyOnWriteHashSet.java
core/src/test/java/org/elasticsearch/common/collect/CopyOnWriteHashSetTests.java
comments:
Merge pull request #13720 from nik9000/forwarding_set_be_gone

Forbid ForwardingSet

time:
2015-09-22T16:31:08Z
class:
core/src/main/java/org/elasticsearch/common/collect/CopyOnWriteHashSet.java
core/src/test/java/org/elasticsearch/common/collect/CopyOnWriteHashSetTests.java
comments:
[core] Forbid ForwardingSet

Removes CopyOnWriteHashSet, our only usage of ForwardingSet. We weren't
using it.

Related to #13224

time:
2015-09-22T15:36:16Z
class:
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
comments:
catch Throwable instead of Exception in LoggingRunnable.run

time:
2015-09-22T15:19:19Z
class:
comments:
Merge pull request #13579 from nik9000/run_plugin_as_elasticsearch_in_tar

Run bin/plugin as elasticsearch in tar distro

time:
2015-09-22T15:17:57Z
class:
comments:
[test] Run bin/plugin as right user

Before this commit he tests always run bin/plugin as root which is somewhat
unrealistic and causes trouble (log files owned by root instead of
elasticsearch). After this commit `bin/plugin` runs as root when elasticsearch
is installed via the repository and as elasticsearch otherwise which is much
more realistic.

This also adds extra timeout to starting elasticsearch which is required
when all the plugins are installed. And it fixes up a problem with logging
elasticsearch's log if elasticsearch doesn't start which came up multiple
time while debugging this problem.

Also adds docs recommending running `bin/plugin` as the user that owns the
Elasticsearch files or root if installed with the packages.

Closes #13557

time:
2015-09-22T14:43:46Z
class:
comments:
Merge pr #13007

Add packages to the 'Use xyz instead' comments

This makes it easier to see how to fix your mistake without having to
dig/guess where those utilities may be coming from.

time:
2015-09-22T14:42:14Z
class:
comments:
Adding the actual method name of the replacement method for FileSystem.getDefault

time:
2015-09-22T14:42:14Z
class:
comments:
Add packages to the 'Use xyz instead' comments

time:
2015-09-22T14:41:26Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
comments:
Merge pull request #13660 from pickypg/feature/fix-bootstrap-logger-prefix-13658

Moving system property setting to before it can be used

time:
2015-09-22T14:41:50Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
comments:
Remove unnecessary suppression

time:
2015-09-22T14:41:50Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
comments:
Moving system property setting to before it can be used

time:
2015-09-22T14:12:11Z
class:
comments:
Merge pull request #13435 from djschny/contributing-update

add more documentation notes about Eclipse setup

time:
2015-09-22T13:25:29Z
class:
comments:
Merge pull request #13713 from rmuir/rr_upgrade

Update to randomizedtesting 2.1.17

time:
2015-09-22T13:15:54Z
class:
comments:
Merge pull request #13712 from mnylen/patch-1

Add docs note about cloud.aws.region (#13668)

time:
2015-09-22T13:07:20Z
class:
comments:
Merge pull request #13644 from nik9000/fully_update_on_repo_add

Remove esoteric apt-get in Vagrantfile

time:
2015-09-22T13:02:22Z
class:
comments:
BATS testing: Add SLES-12 to list of tested virtual machines

This adds SuSe Linux Enterprise Server 12 to the list of tested VMs.
SLES 12 is using systemd, so that the current RPM works
out of the box.

SLES12 however is already quite old and does not ship with java8, so this
required adding an opensuse repo.

time:
2015-09-22T13:01:45Z
class:
comments:
Merge pull request #13696 from nik9000/fix_azure_vagrant

Fix plugin tests

time:
2015-09-22T12:59:10Z
class:
comments:
Merge pull request #13514 from nik9000/dont_detect_java_7

Remove JAVA_HOME detection from the debian init script

time:
2015-09-22T12:56:45Z
class:
comments:
[packaging] remove JAVA_HOME detection

Only the debian init script did JAVA_HOME detection. Everything else just
relied on `bin/elasticsearch`'s `which java` style detection. This strips
the detection from the debian init script so its like the rpm init script.

Closes #13403

time:
2015-09-22T12:23:30Z
class:
comments:
Docs: Removed references to java 7 and debian wheezy

Related to #13694

time:
2015-09-22T12:00:00Z
class:
comments:
Update to randomizedtesting 2.1.17

See changes: https://github.com/randomizedtesting/randomizedtesting/releases/tag/release%2F2.1.17

We can move off our snapshot copy now.

time:
2015-09-22T11:59:34Z
class:
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/QueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NotQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryFilterBuilderTests.java
comments:
Fixing warnings and errors in javadoc

time:
2015-09-22T11:53:54Z
class:
comments:
Add docs note about cloud.aws.region (#13668)

time:
2015-09-22T11:08:37Z
class:
comments:
id route value is required

id route value is required

time:
2015-09-22T10:43:55Z
class:
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/apache/lucene/search/XFilteredDocIdSetIterator.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XFuzzySuggester.java
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/action/ActionFuture.java
core/src/main/java/org/elasticsearch/action/DocumentRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/DeleteRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/DeleteSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/FlushRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/get/GetSettingsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/put/UpdateSettingsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/package-info.java
core/src/main/java/org/elasticsearch/action/bulk/BulkProcessor.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/count/CountRequest.java
core/src/main/java/org/elasticsearch/action/count/CountRequestBuilder.java
core/src/main/java/org/elasticsearch/action/delete/DeleteRequest.java
core/src/main/java/org/elasticsearch/action/exists/ExistsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/get/GetRequest.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/index/IndexRequestBuilder.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/delete/DeleteIndexedScriptRequest.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptRequest.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/percolate/MultiPercolateRequestBuilder.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/suggest/SuggestRequest.java
core/src/main/java/org/elasticsearch/action/suggest/SuggestRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsFields.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequestBuilder.java
core/src/main/java/org/elasticsearch/bootstrap/JNAKernel32Library.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/client/Client.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/ClusterStateObserver.java
core/src/main/java/org/elasticsearch/cluster/Diff.java
core/src/main/java/org/elasticsearch/cluster/IncompatibleClusterStateVersionException.java
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/RestoreInProgress.java
core/src/main/java/org/elasticsearch/cluster/action/index/MappingUpdatedAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/metadata/RepositoriesMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/RepositoryMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/SnapshotId.java
core/src/main/java/org/elasticsearch/cluster/routing/AllocationId.java
core/src/main/java/org/elasticsearch/cluster/routing/HashFunction.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationExplanation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/MoveAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ConcurrentRebalanceAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/FilterAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ThrottlingAllocationDecider.java
core/src/main/java/org/elasticsearch/common/Base64.java
core/src/main/java/org/elasticsearch/common/Booleans.java
core/src/main/java/org/elasticsearch/common/ParseField.java
core/src/main/java/org/elasticsearch/common/StopWatch.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/blobstore/support/AbstractLegacyBlobContainer.java
core/src/main/java/org/elasticsearch/common/blobstore/url/URLBlobStore.java
core/src/main/java/org/elasticsearch/common/breaker/ChildMemoryCircuitBreaker.java
core/src/main/java/org/elasticsearch/common/breaker/CircuitBreaker.java
core/src/main/java/org/elasticsearch/common/breaker/MemoryCircuitBreaker.java
core/src/main/java/org/elasticsearch/common/collect/ImmutableOpenIntMap.java
core/src/main/java/org/elasticsearch/common/collect/ImmutableOpenMap.java
core/src/main/java/org/elasticsearch/common/component/Lifecycle.java
core/src/main/java/org/elasticsearch/common/compress/CompressorFactory.java
core/src/main/java/org/elasticsearch/common/geo/GeoUtils.java
core/src/main/java/org/elasticsearch/common/geo/XShapeCollection.java
core/src/main/java/org/elasticsearch/common/geo/builders/CircleBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/PointCollection.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
core/src/main/java/org/elasticsearch/common/inject/AbstractModule.java
core/src/main/java/org/elasticsearch/common/inject/AbstractProcessor.java
core/src/main/java/org/elasticsearch/common/inject/Binder.java
core/src/main/java/org/elasticsearch/common/inject/Binding.java
core/src/main/java/org/elasticsearch/common/inject/BindingAnnotation.java
core/src/main/java/org/elasticsearch/common/inject/BindingProcessor.java
core/src/main/java/org/elasticsearch/common/inject/BoundProviderFactory.java
core/src/main/java/org/elasticsearch/common/inject/ConfigurationException.java
core/src/main/java/org/elasticsearch/common/inject/ConstantFactory.java
core/src/main/java/org/elasticsearch/common/inject/ConstructionProxy.java
core/src/main/java/org/elasticsearch/common/inject/ConstructionProxyFactory.java
core/src/main/java/org/elasticsearch/common/inject/ConstructorInjector.java
core/src/main/java/org/elasticsearch/common/inject/ConstructorInjectorStore.java
core/src/main/java/org/elasticsearch/common/inject/ContextualCallable.java
core/src/main/java/org/elasticsearch/common/inject/CreationException.java
core/src/main/java/org/elasticsearch/common/inject/DefaultConstructionProxyFactory.java
core/src/main/java/org/elasticsearch/common/inject/DeferredLookups.java
core/src/main/java/org/elasticsearch/common/inject/EncounterImpl.java
core/src/main/java/org/elasticsearch/common/inject/Exposed.java
core/src/main/java/org/elasticsearch/common/inject/ExposedKeyFactory.java
core/src/main/java/org/elasticsearch/common/inject/FactoryProxy.java
core/src/main/java/org/elasticsearch/common/inject/Guice.java
core/src/main/java/org/elasticsearch/common/inject/ImplementedBy.java
core/src/main/java/org/elasticsearch/common/inject/InheritingState.java
core/src/main/java/org/elasticsearch/common/inject/Initializable.java
core/src/main/java/org/elasticsearch/common/inject/Initializables.java
core/src/main/java/org/elasticsearch/common/inject/Initializer.java
core/src/main/java/org/elasticsearch/common/inject/Inject.java
core/src/main/java/org/elasticsearch/common/inject/InjectionRequestProcessor.java
core/src/main/java/org/elasticsearch/common/inject/Injector.java
core/src/main/java/org/elasticsearch/common/inject/InjectorBuilder.java
core/src/main/java/org/elasticsearch/common/inject/InjectorImpl.java
core/src/main/java/org/elasticsearch/common/inject/InjectorShell.java
core/src/main/java/org/elasticsearch/common/inject/Injectors.java
core/src/main/java/org/elasticsearch/common/inject/InternalFactoryToProviderAdapter.java
core/src/main/java/org/elasticsearch/common/inject/Key.java
core/src/main/java/org/elasticsearch/common/inject/LookupProcessor.java
core/src/main/java/org/elasticsearch/common/inject/Lookups.java
core/src/main/java/org/elasticsearch/common/inject/MembersInjector.java
core/src/main/java/org/elasticsearch/common/inject/MembersInjectorImpl.java
core/src/main/java/org/elasticsearch/common/inject/MembersInjectorStore.java
core/src/main/java/org/elasticsearch/common/inject/MessageProcessor.java
core/src/main/java/org/elasticsearch/common/inject/Module.java
core/src/main/java/org/elasticsearch/common/inject/OutOfScopeException.java
core/src/main/java/org/elasticsearch/common/inject/PrivateBinder.java
core/src/main/java/org/elasticsearch/common/inject/PrivateElementProcessor.java
core/src/main/java/org/elasticsearch/common/inject/PrivateModule.java
core/src/main/java/org/elasticsearch/common/inject/ProvidedBy.java
core/src/main/java/org/elasticsearch/common/inject/Provider.java
core/src/main/java/org/elasticsearch/common/inject/ProviderToInternalFactoryAdapter.java
core/src/main/java/org/elasticsearch/common/inject/Provides.java
core/src/main/java/org/elasticsearch/common/inject/ProvisionException.java
core/src/main/java/org/elasticsearch/common/inject/Reflection.java
core/src/main/java/org/elasticsearch/common/inject/Scope.java
core/src/main/java/org/elasticsearch/common/inject/ScopeAnnotation.java
core/src/main/java/org/elasticsearch/common/inject/ScopeBindingProcessor.java
core/src/main/java/org/elasticsearch/common/inject/Scopes.java
core/src/main/java/org/elasticsearch/common/inject/SingleFieldInjector.java
core/src/main/java/org/elasticsearch/common/inject/SingleMemberInjector.java
core/src/main/java/org/elasticsearch/common/inject/SingleMethodInjector.java
core/src/main/java/org/elasticsearch/common/inject/SingleParameterInjector.java
core/src/main/java/org/elasticsearch/common/inject/Singleton.java
core/src/main/java/org/elasticsearch/common/inject/Stage.java
core/src/main/java/org/elasticsearch/common/inject/State.java
core/src/main/java/org/elasticsearch/common/inject/TypeConverterBindingProcessor.java
core/src/main/java/org/elasticsearch/common/inject/TypeListenerBindingProcessor.java
core/src/main/java/org/elasticsearch/common/inject/TypeLiteral.java
core/src/main/java/org/elasticsearch/common/inject/WeakKeySet.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/Assisted.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/AssistedConstructor.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/AssistedInject.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider2.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/Parameter.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/ParameterListKey.java
core/src/main/java/org/elasticsearch/common/inject/binder/AnnotatedBindingBuilder.java
core/src/main/java/org/elasticsearch/common/inject/binder/AnnotatedConstantBindingBuilder.java
core/src/main/java/org/elasticsearch/common/inject/binder/AnnotatedElementBuilder.java
core/src/main/java/org/elasticsearch/common/inject/binder/LinkedBindingBuilder.java
core/src/main/java/org/elasticsearch/common/inject/binder/ScopedBindingBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/AbstractBindingBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/Annotations.java
core/src/main/java/org/elasticsearch/common/inject/internal/BindingBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/BindingImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/ConstantBindingBuilderImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/ConstructionContext.java
core/src/main/java/org/elasticsearch/common/inject/internal/ErrorHandler.java
core/src/main/java/org/elasticsearch/common/inject/internal/Errors.java
core/src/main/java/org/elasticsearch/common/inject/internal/ErrorsException.java
core/src/main/java/org/elasticsearch/common/inject/internal/ExposedBindingImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/ExposureBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/FailableCache.java
core/src/main/java/org/elasticsearch/common/inject/internal/InstanceBindingImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/InternalContext.java
core/src/main/java/org/elasticsearch/common/inject/internal/InternalFactory.java
core/src/main/java/org/elasticsearch/common/inject/internal/Join.java
core/src/main/java/org/elasticsearch/common/inject/internal/MoreTypes.java
core/src/main/java/org/elasticsearch/common/inject/internal/Nullability.java
core/src/main/java/org/elasticsearch/common/inject/internal/Nullable.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/ProviderMethod.java
core/src/main/java/org/elasticsearch/common/inject/internal/ProviderMethodsModule.java
core/src/main/java/org/elasticsearch/common/inject/internal/Scoping.java
core/src/main/java/org/elasticsearch/common/inject/internal/SourceProvider.java
core/src/main/java/org/elasticsearch/common/inject/internal/StackTraceElements.java
core/src/main/java/org/elasticsearch/common/inject/internal/Stopwatch.java
core/src/main/java/org/elasticsearch/common/inject/internal/Strings.java
core/src/main/java/org/elasticsearch/common/inject/internal/ToStringBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/UniqueAnnotations.java
core/src/main/java/org/elasticsearch/common/inject/matcher/AbstractMatcher.java
core/src/main/java/org/elasticsearch/common/inject/matcher/Matcher.java
core/src/main/java/org/elasticsearch/common/inject/matcher/Matchers.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/Element.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/MapBinder.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/Multibinder.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/RealElement.java
core/src/main/java/org/elasticsearch/common/inject/name/Named.java
core/src/main/java/org/elasticsearch/common/inject/name/NamedImpl.java
core/src/main/java/org/elasticsearch/common/inject/name/Names.java
core/src/main/java/org/elasticsearch/common/inject/package-info.java
core/src/main/java/org/elasticsearch/common/inject/spi/BindingScopingVisitor.java
core/src/main/java/org/elasticsearch/common/inject/spi/BindingTargetVisitor.java
core/src/main/java/org/elasticsearch/common/inject/spi/ConstructorBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/ConvertedConstantBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/DefaultBindingScopingVisitor.java
core/src/main/java/org/elasticsearch/common/inject/spi/DefaultBindingTargetVisitor.java
core/src/main/java/org/elasticsearch/common/inject/spi/DefaultElementVisitor.java
core/src/main/java/org/elasticsearch/common/inject/spi/Dependency.java
core/src/main/java/org/elasticsearch/common/inject/spi/Element.java
core/src/main/java/org/elasticsearch/common/inject/spi/ElementVisitor.java
core/src/main/java/org/elasticsearch/common/inject/spi/Elements.java
core/src/main/java/org/elasticsearch/common/inject/spi/ExposedBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/HasDependencies.java
core/src/main/java/org/elasticsearch/common/inject/spi/InjectionPoint.java
core/src/main/java/org/elasticsearch/common/inject/spi/InjectionRequest.java
core/src/main/java/org/elasticsearch/common/inject/spi/InstanceBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/LinkedKeyBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/MembersInjectorLookup.java
core/src/main/java/org/elasticsearch/common/inject/spi/Message.java
core/src/main/java/org/elasticsearch/common/inject/spi/PrivateElements.java
core/src/main/java/org/elasticsearch/common/inject/spi/ProviderBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/ProviderInstanceBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/ProviderKeyBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/ProviderLookup.java
core/src/main/java/org/elasticsearch/common/inject/spi/ProviderWithDependencies.java
core/src/main/java/org/elasticsearch/common/inject/spi/ScopeBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/StaticInjectionRequest.java
core/src/main/java/org/elasticsearch/common/inject/spi/TypeConverterBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/TypeEncounter.java
core/src/main/java/org/elasticsearch/common/inject/spi/TypeListener.java
core/src/main/java/org/elasticsearch/common/inject/spi/TypeListenerBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/UntargettedBinding.java
core/src/main/java/org/elasticsearch/common/inject/util/Modules.java
core/src/main/java/org/elasticsearch/common/inject/util/Types.java
core/src/main/java/org/elasticsearch/common/io/Channels.java
core/src/main/java/org/elasticsearch/common/io/FastCharArrayReader.java
core/src/main/java/org/elasticsearch/common/io/FastCharArrayWriter.java
core/src/main/java/org/elasticsearch/common/io/FastStringReader.java
core/src/main/java/org/elasticsearch/common/io/FileSystemUtils.java
core/src/main/java/org/elasticsearch/common/io/Streams.java
core/src/main/java/org/elasticsearch/common/io/stream/BytesStreamOutput.java
core/src/main/java/org/elasticsearch/common/io/stream/ReleasableBytesStreamOutput.java
core/src/main/java/org/elasticsearch/common/logging/log4j/ConsoleAppender.java
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
core/src/main/java/org/elasticsearch/common/lucene/search/XMoreLikeThis.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/RandomScoreFunction.java
core/src/main/java/org/elasticsearch/common/metrics/EWMA.java
core/src/main/java/org/elasticsearch/common/metrics/MeterMetric.java
core/src/main/java/org/elasticsearch/common/netty/NettyUtils.java
core/src/main/java/org/elasticsearch/common/property/PropertyPlaceholder.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/settings/SettingsFilter.java
core/src/main/java/org/elasticsearch/common/transport/TransportAddressSerializers.java
core/src/main/java/org/elasticsearch/common/unit/DistanceUnit.java
core/src/main/java/org/elasticsearch/common/util/BigArrays.java
core/src/main/java/org/elasticsearch/common/util/BloomFilter.java
core/src/main/java/org/elasticsearch/common/util/BytesRefHash.java
core/src/main/java/org/elasticsearch/common/util/CancellableThreads.java
comments:
Merge branch 'master' into feature/query-refactoring

 Conflicts:
	core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
	core/src/main/java/org/elasticsearch/index/query/QueryParser.java

time:
2015-09-22T10:13:53Z
class:
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
comments:
Tests: fix failing GeoDistanceRangeQueryTest

time:
2015-09-22T09:55:34Z
class:
comments:
Merge pull request #13688 from nik9000/docs_http_settings

Note that no http settings are dynamic

time:
2015-09-22T09:42:24Z
class:
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
comments:
remove tests. they are fragile, hard to debug and add no value

closes #13542
closes #13343
closes #13316

time:
2015-09-22T09:05:56Z
class:
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/EmptyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/indices/cache/query/terms/TermsLookup.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalValuesMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeohashCellQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/indices/cache/query/terms/TermsLookupTests.java
core/src/test/java/org/elasticsearch/search/geo/GeoDistanceIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoPolygonIT.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
comments:
Query Refactoring: moving validation to setters and constructors

Moving validation from validate() to constructors and setters for the
following query builders:

* GeoDistanceQueryBuilder
* GeoDistanceRangeQueryBuilder
* GeoPolygonQueryBuilder
* GeoShapeQueryBuilder
* GeohashCellQuery
* TermsQueryBuilder

Relates to #10217

time:
2015-09-22T08:03:19Z
class:
core/src/main/java/org/elasticsearch/common/xcontent/ObjectParser.java
core/src/test/java/org/elasticsearch/common/xcontent/ObjectParserTests.java
comments:
add missing license header

time:
2015-09-22T07:59:11Z
class:
core/src/main/java/org/elasticsearch/common/ParseField.java
core/src/main/java/org/elasticsearch/common/xcontent/ObjectParser.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentParser.java
core/src/main/java/org/elasticsearch/common/xcontent/support/AbstractXContentParser.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/search/rescore/QueryRescorer.java
core/src/test/java/org/elasticsearch/common/xcontent/ObjectParserTests.java
comments:
Merge pull request #13615 from s1monw/base_parser

Add a ObjectParser helper for stream parsing

time:
2015-09-22T07:34:00Z
class:
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
comments:
only set matcher if parser is not null

time:
2015-09-22T07:26:17Z
class:
core/src/main/java/org/elasticsearch/common/ParseField.java
core/src/main/java/org/elasticsearch/common/xcontent/ObjectParser.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentParser.java
core/src/main/java/org/elasticsearch/common/xcontent/support/AbstractXContentParser.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/search/rescore/QueryRescorer.java
core/src/test/java/org/elasticsearch/common/xcontent/ObjectParserTests.java
comments:
Add a ObjectParser helper for stream parsing

This parser prototype allows to decleratively define parsers for XContent
instead of writing messy and error prone while loops. It encapsulates all the error handling logic
and only even tries to parse if the token types match the declaration.

time:
2015-09-22T05:10:58Z
class:
comments:
Merge pull request #13704 from rjernst/more_rest_spec_cleanup

Move a couple more rest-api-spec resource dirs into resources

time:
2015-09-22T04:57:51Z
class:
comments:
Test: Move a couple more rest-api-spec resource dirs into resources

A couple were left behind. This fixes them and cleans up the test
resources for qa tests a little bit.

time:
2015-09-22T04:46:31Z
class:
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/apache/lucene/search/XFilteredDocIdSetIterator.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XFuzzySuggester.java
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/action/ActionFuture.java
core/src/main/java/org/elasticsearch/action/DocumentRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/DeleteRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/DeleteSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/FlushRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/get/GetSettingsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/put/UpdateSettingsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/package-info.java
core/src/main/java/org/elasticsearch/action/bulk/BulkProcessor.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/count/CountRequest.java
core/src/main/java/org/elasticsearch/action/count/CountRequestBuilder.java
core/src/main/java/org/elasticsearch/action/delete/DeleteRequest.java
core/src/main/java/org/elasticsearch/action/exists/ExistsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/get/GetRequest.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/index/IndexRequestBuilder.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/delete/DeleteIndexedScriptRequest.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptRequest.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/percolate/MultiPercolateRequestBuilder.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/suggest/SuggestRequest.java
core/src/main/java/org/elasticsearch/action/suggest/SuggestRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsFields.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequestBuilder.java
core/src/main/java/org/elasticsearch/bootstrap/JNAKernel32Library.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/client/Client.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/ClusterStateObserver.java
core/src/main/java/org/elasticsearch/cluster/Diff.java
core/src/main/java/org/elasticsearch/cluster/IncompatibleClusterStateVersionException.java
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/RestoreInProgress.java
core/src/main/java/org/elasticsearch/cluster/action/index/MappingUpdatedAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/metadata/RepositoriesMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/RepositoryMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/SnapshotId.java
core/src/main/java/org/elasticsearch/cluster/routing/AllocationId.java
core/src/main/java/org/elasticsearch/cluster/routing/HashFunction.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationExplanation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/MoveAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ConcurrentRebalanceAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/FilterAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ThrottlingAllocationDecider.java
core/src/main/java/org/elasticsearch/common/Base64.java
core/src/main/java/org/elasticsearch/common/Booleans.java
core/src/main/java/org/elasticsearch/common/StopWatch.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/blobstore/support/AbstractLegacyBlobContainer.java
core/src/main/java/org/elasticsearch/common/blobstore/url/URLBlobStore.java
core/src/main/java/org/elasticsearch/common/breaker/ChildMemoryCircuitBreaker.java
core/src/main/java/org/elasticsearch/common/breaker/CircuitBreaker.java
core/src/main/java/org/elasticsearch/common/breaker/MemoryCircuitBreaker.java
core/src/main/java/org/elasticsearch/common/collect/ImmutableOpenIntMap.java
core/src/main/java/org/elasticsearch/common/collect/ImmutableOpenMap.java
core/src/main/java/org/elasticsearch/common/component/Lifecycle.java
core/src/main/java/org/elasticsearch/common/compress/CompressorFactory.java
core/src/main/java/org/elasticsearch/common/geo/GeoUtils.java
core/src/main/java/org/elasticsearch/common/geo/XShapeCollection.java
core/src/main/java/org/elasticsearch/common/geo/builders/CircleBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/PointCollection.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
core/src/main/java/org/elasticsearch/common/inject/AbstractModule.java
core/src/main/java/org/elasticsearch/common/inject/AbstractProcessor.java
core/src/main/java/org/elasticsearch/common/inject/Binder.java
core/src/main/java/org/elasticsearch/common/inject/Binding.java
core/src/main/java/org/elasticsearch/common/inject/BindingAnnotation.java
core/src/main/java/org/elasticsearch/common/inject/BindingProcessor.java
core/src/main/java/org/elasticsearch/common/inject/BoundProviderFactory.java
core/src/main/java/org/elasticsearch/common/inject/ConfigurationException.java
core/src/main/java/org/elasticsearch/common/inject/ConstantFactory.java
core/src/main/java/org/elasticsearch/common/inject/ConstructionProxy.java
core/src/main/java/org/elasticsearch/common/inject/ConstructionProxyFactory.java
core/src/main/java/org/elasticsearch/common/inject/ConstructorInjector.java
core/src/main/java/org/elasticsearch/common/inject/ConstructorInjectorStore.java
core/src/main/java/org/elasticsearch/common/inject/ContextualCallable.java
core/src/main/java/org/elasticsearch/common/inject/CreationException.java
core/src/main/java/org/elasticsearch/common/inject/DefaultConstructionProxyFactory.java
core/src/main/java/org/elasticsearch/common/inject/DeferredLookups.java
core/src/main/java/org/elasticsearch/common/inject/EncounterImpl.java
core/src/main/java/org/elasticsearch/common/inject/Exposed.java
core/src/main/java/org/elasticsearch/common/inject/ExposedKeyFactory.java
core/src/main/java/org/elasticsearch/common/inject/FactoryProxy.java
core/src/main/java/org/elasticsearch/common/inject/Guice.java
core/src/main/java/org/elasticsearch/common/inject/ImplementedBy.java
core/src/main/java/org/elasticsearch/common/inject/InheritingState.java
core/src/main/java/org/elasticsearch/common/inject/Initializable.java
core/src/main/java/org/elasticsearch/common/inject/Initializables.java
core/src/main/java/org/elasticsearch/common/inject/Initializer.java
core/src/main/java/org/elasticsearch/common/inject/Inject.java
core/src/main/java/org/elasticsearch/common/inject/InjectionRequestProcessor.java
core/src/main/java/org/elasticsearch/common/inject/Injector.java
core/src/main/java/org/elasticsearch/common/inject/InjectorBuilder.java
core/src/main/java/org/elasticsearch/common/inject/InjectorImpl.java
core/src/main/java/org/elasticsearch/common/inject/InjectorShell.java
core/src/main/java/org/elasticsearch/common/inject/Injectors.java
core/src/main/java/org/elasticsearch/common/inject/InternalFactoryToProviderAdapter.java
core/src/main/java/org/elasticsearch/common/inject/Key.java
core/src/main/java/org/elasticsearch/common/inject/LookupProcessor.java
core/src/main/java/org/elasticsearch/common/inject/Lookups.java
core/src/main/java/org/elasticsearch/common/inject/MembersInjector.java
core/src/main/java/org/elasticsearch/common/inject/MembersInjectorImpl.java
core/src/main/java/org/elasticsearch/common/inject/MembersInjectorStore.java
core/src/main/java/org/elasticsearch/common/inject/MessageProcessor.java
core/src/main/java/org/elasticsearch/common/inject/Module.java
core/src/main/java/org/elasticsearch/common/inject/OutOfScopeException.java
core/src/main/java/org/elasticsearch/common/inject/PrivateBinder.java
core/src/main/java/org/elasticsearch/common/inject/PrivateElementProcessor.java
core/src/main/java/org/elasticsearch/common/inject/PrivateModule.java
core/src/main/java/org/elasticsearch/common/inject/ProvidedBy.java
core/src/main/java/org/elasticsearch/common/inject/Provider.java
core/src/main/java/org/elasticsearch/common/inject/ProviderToInternalFactoryAdapter.java
core/src/main/java/org/elasticsearch/common/inject/Provides.java
core/src/main/java/org/elasticsearch/common/inject/ProvisionException.java
core/src/main/java/org/elasticsearch/common/inject/Reflection.java
core/src/main/java/org/elasticsearch/common/inject/Scope.java
core/src/main/java/org/elasticsearch/common/inject/ScopeAnnotation.java
core/src/main/java/org/elasticsearch/common/inject/ScopeBindingProcessor.java
core/src/main/java/org/elasticsearch/common/inject/Scopes.java
core/src/main/java/org/elasticsearch/common/inject/SingleFieldInjector.java
core/src/main/java/org/elasticsearch/common/inject/SingleMemberInjector.java
core/src/main/java/org/elasticsearch/common/inject/SingleMethodInjector.java
core/src/main/java/org/elasticsearch/common/inject/SingleParameterInjector.java
core/src/main/java/org/elasticsearch/common/inject/Singleton.java
core/src/main/java/org/elasticsearch/common/inject/Stage.java
core/src/main/java/org/elasticsearch/common/inject/State.java
core/src/main/java/org/elasticsearch/common/inject/TypeConverterBindingProcessor.java
core/src/main/java/org/elasticsearch/common/inject/TypeListenerBindingProcessor.java
core/src/main/java/org/elasticsearch/common/inject/TypeLiteral.java
core/src/main/java/org/elasticsearch/common/inject/WeakKeySet.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/Assisted.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/AssistedConstructor.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/AssistedInject.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider2.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/Parameter.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/ParameterListKey.java
core/src/main/java/org/elasticsearch/common/inject/binder/AnnotatedBindingBuilder.java
core/src/main/java/org/elasticsearch/common/inject/binder/AnnotatedConstantBindingBuilder.java
core/src/main/java/org/elasticsearch/common/inject/binder/AnnotatedElementBuilder.java
core/src/main/java/org/elasticsearch/common/inject/binder/LinkedBindingBuilder.java
core/src/main/java/org/elasticsearch/common/inject/binder/ScopedBindingBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/AbstractBindingBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/Annotations.java
core/src/main/java/org/elasticsearch/common/inject/internal/BindingBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/BindingImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/ConstantBindingBuilderImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/ConstructionContext.java
core/src/main/java/org/elasticsearch/common/inject/internal/ErrorHandler.java
core/src/main/java/org/elasticsearch/common/inject/internal/Errors.java
core/src/main/java/org/elasticsearch/common/inject/internal/ErrorsException.java
core/src/main/java/org/elasticsearch/common/inject/internal/ExposedBindingImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/ExposureBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/FailableCache.java
core/src/main/java/org/elasticsearch/common/inject/internal/InstanceBindingImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/InternalContext.java
core/src/main/java/org/elasticsearch/common/inject/internal/InternalFactory.java
core/src/main/java/org/elasticsearch/common/inject/internal/Join.java
core/src/main/java/org/elasticsearch/common/inject/internal/MoreTypes.java
core/src/main/java/org/elasticsearch/common/inject/internal/Nullability.java
core/src/main/java/org/elasticsearch/common/inject/internal/Nullable.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/ProviderMethod.java
core/src/main/java/org/elasticsearch/common/inject/internal/ProviderMethodsModule.java
core/src/main/java/org/elasticsearch/common/inject/internal/Scoping.java
core/src/main/java/org/elasticsearch/common/inject/internal/SourceProvider.java
core/src/main/java/org/elasticsearch/common/inject/internal/StackTraceElements.java
core/src/main/java/org/elasticsearch/common/inject/internal/Stopwatch.java
core/src/main/java/org/elasticsearch/common/inject/internal/Strings.java
core/src/main/java/org/elasticsearch/common/inject/internal/ToStringBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/UniqueAnnotations.java
core/src/main/java/org/elasticsearch/common/inject/matcher/AbstractMatcher.java
core/src/main/java/org/elasticsearch/common/inject/matcher/Matcher.java
core/src/main/java/org/elasticsearch/common/inject/matcher/Matchers.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/Element.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/MapBinder.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/Multibinder.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/RealElement.java
core/src/main/java/org/elasticsearch/common/inject/name/Named.java
core/src/main/java/org/elasticsearch/common/inject/name/NamedImpl.java
core/src/main/java/org/elasticsearch/common/inject/name/Names.java
core/src/main/java/org/elasticsearch/common/inject/package-info.java
core/src/main/java/org/elasticsearch/common/inject/spi/BindingScopingVisitor.java
core/src/main/java/org/elasticsearch/common/inject/spi/BindingTargetVisitor.java
core/src/main/java/org/elasticsearch/common/inject/spi/ConstructorBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/ConvertedConstantBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/DefaultBindingScopingVisitor.java
core/src/main/java/org/elasticsearch/common/inject/spi/DefaultBindingTargetVisitor.java
core/src/main/java/org/elasticsearch/common/inject/spi/DefaultElementVisitor.java
core/src/main/java/org/elasticsearch/common/inject/spi/Dependency.java
core/src/main/java/org/elasticsearch/common/inject/spi/Element.java
core/src/main/java/org/elasticsearch/common/inject/spi/ElementVisitor.java
core/src/main/java/org/elasticsearch/common/inject/spi/Elements.java
core/src/main/java/org/elasticsearch/common/inject/spi/ExposedBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/HasDependencies.java
core/src/main/java/org/elasticsearch/common/inject/spi/InjectionPoint.java
core/src/main/java/org/elasticsearch/common/inject/spi/InjectionRequest.java
core/src/main/java/org/elasticsearch/common/inject/spi/InstanceBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/LinkedKeyBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/MembersInjectorLookup.java
core/src/main/java/org/elasticsearch/common/inject/spi/Message.java
core/src/main/java/org/elasticsearch/common/inject/spi/PrivateElements.java
core/src/main/java/org/elasticsearch/common/inject/spi/ProviderBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/ProviderInstanceBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/ProviderKeyBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/ProviderLookup.java
core/src/main/java/org/elasticsearch/common/inject/spi/ProviderWithDependencies.java
core/src/main/java/org/elasticsearch/common/inject/spi/ScopeBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/StaticInjectionRequest.java
core/src/main/java/org/elasticsearch/common/inject/spi/TypeConverterBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/TypeEncounter.java
core/src/main/java/org/elasticsearch/common/inject/spi/TypeListener.java
core/src/main/java/org/elasticsearch/common/inject/spi/TypeListenerBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/UntargettedBinding.java
core/src/main/java/org/elasticsearch/common/inject/util/Modules.java
core/src/main/java/org/elasticsearch/common/inject/util/Types.java
core/src/main/java/org/elasticsearch/common/io/Channels.java
core/src/main/java/org/elasticsearch/common/io/FastCharArrayReader.java
core/src/main/java/org/elasticsearch/common/io/FastCharArrayWriter.java
core/src/main/java/org/elasticsearch/common/io/FastStringReader.java
core/src/main/java/org/elasticsearch/common/io/FileSystemUtils.java
core/src/main/java/org/elasticsearch/common/io/Streams.java
core/src/main/java/org/elasticsearch/common/io/stream/BytesStreamOutput.java
core/src/main/java/org/elasticsearch/common/io/stream/ReleasableBytesStreamOutput.java
core/src/main/java/org/elasticsearch/common/logging/log4j/ConsoleAppender.java
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
core/src/main/java/org/elasticsearch/common/lucene/search/XMoreLikeThis.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/RandomScoreFunction.java
core/src/main/java/org/elasticsearch/common/metrics/EWMA.java
core/src/main/java/org/elasticsearch/common/metrics/MeterMetric.java
core/src/main/java/org/elasticsearch/common/netty/NettyUtils.java
core/src/main/java/org/elasticsearch/common/property/PropertyPlaceholder.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/settings/SettingsFilter.java
core/src/main/java/org/elasticsearch/common/transport/TransportAddressSerializers.java
core/src/main/java/org/elasticsearch/common/unit/DistanceUnit.java
core/src/main/java/org/elasticsearch/common/util/BigArrays.java
core/src/main/java/org/elasticsearch/common/util/BloomFilter.java
core/src/main/java/org/elasticsearch/common/util/BytesRefHash.java
core/src/main/java/org/elasticsearch/common/util/CancellableThreads.java
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
core/src/main/java/org/elasticsearch/common/util/LongHash.java
core/src/main/java/org/elasticsearch/common/util/URIPattern.java
comments:
Merge pull request #13702 from rmuir/broke_javadocs

Fix all javadocs issues, re-enable compiler warnings (but disable on java 9 where maven is broken)

time:
2015-09-22T03:43:24Z
class:
qa/smoke-test-client/src/test/java/org/elasticsearch/smoketest/ESSmokeClientTestCase.java
comments:
Fix straggler in qa tests

time:
2015-09-22T03:35:32Z
class:
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/apache/lucene/search/XFilteredDocIdSetIterator.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XFuzzySuggester.java
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/action/ActionFuture.java
core/src/main/java/org/elasticsearch/action/DocumentRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/DeleteRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/DeleteSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/FlushRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/get/GetSettingsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/put/UpdateSettingsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/package-info.java
core/src/main/java/org/elasticsearch/action/bulk/BulkProcessor.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/count/CountRequest.java
core/src/main/java/org/elasticsearch/action/count/CountRequestBuilder.java
core/src/main/java/org/elasticsearch/action/delete/DeleteRequest.java
core/src/main/java/org/elasticsearch/action/exists/ExistsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/get/GetRequest.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/index/IndexRequestBuilder.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/delete/DeleteIndexedScriptRequest.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptRequest.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/percolate/MultiPercolateRequestBuilder.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/suggest/SuggestRequest.java
core/src/main/java/org/elasticsearch/action/suggest/SuggestRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsFields.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequestBuilder.java
core/src/main/java/org/elasticsearch/bootstrap/JNAKernel32Library.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/client/Client.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/ClusterStateObserver.java
core/src/main/java/org/elasticsearch/cluster/Diff.java
core/src/main/java/org/elasticsearch/cluster/IncompatibleClusterStateVersionException.java
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/RestoreInProgress.java
core/src/main/java/org/elasticsearch/cluster/action/index/MappingUpdatedAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/metadata/RepositoriesMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/RepositoryMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/SnapshotId.java
core/src/main/java/org/elasticsearch/cluster/routing/AllocationId.java
core/src/main/java/org/elasticsearch/cluster/routing/HashFunction.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationExplanation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/MoveAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ConcurrentRebalanceAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/FilterAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ThrottlingAllocationDecider.java
core/src/main/java/org/elasticsearch/common/Base64.java
core/src/main/java/org/elasticsearch/common/Booleans.java
core/src/main/java/org/elasticsearch/common/StopWatch.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/blobstore/support/AbstractLegacyBlobContainer.java
core/src/main/java/org/elasticsearch/common/blobstore/url/URLBlobStore.java
core/src/main/java/org/elasticsearch/common/breaker/ChildMemoryCircuitBreaker.java
core/src/main/java/org/elasticsearch/common/breaker/CircuitBreaker.java
core/src/main/java/org/elasticsearch/common/breaker/MemoryCircuitBreaker.java
core/src/main/java/org/elasticsearch/common/collect/ImmutableOpenIntMap.java
core/src/main/java/org/elasticsearch/common/collect/ImmutableOpenMap.java
core/src/main/java/org/elasticsearch/common/component/Lifecycle.java
core/src/main/java/org/elasticsearch/common/compress/CompressorFactory.java
core/src/main/java/org/elasticsearch/common/geo/GeoUtils.java
core/src/main/java/org/elasticsearch/common/geo/XShapeCollection.java
core/src/main/java/org/elasticsearch/common/geo/builders/CircleBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/PointCollection.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
core/src/main/java/org/elasticsearch/common/inject/AbstractModule.java
core/src/main/java/org/elasticsearch/common/inject/AbstractProcessor.java
core/src/main/java/org/elasticsearch/common/inject/Binder.java
core/src/main/java/org/elasticsearch/common/inject/Binding.java
core/src/main/java/org/elasticsearch/common/inject/BindingAnnotation.java
core/src/main/java/org/elasticsearch/common/inject/BindingProcessor.java
core/src/main/java/org/elasticsearch/common/inject/BoundProviderFactory.java
core/src/main/java/org/elasticsearch/common/inject/ConfigurationException.java
core/src/main/java/org/elasticsearch/common/inject/ConstantFactory.java
core/src/main/java/org/elasticsearch/common/inject/ConstructionProxy.java
core/src/main/java/org/elasticsearch/common/inject/ConstructionProxyFactory.java
core/src/main/java/org/elasticsearch/common/inject/ConstructorInjector.java
core/src/main/java/org/elasticsearch/common/inject/ConstructorInjectorStore.java
core/src/main/java/org/elasticsearch/common/inject/ContextualCallable.java
core/src/main/java/org/elasticsearch/common/inject/CreationException.java
core/src/main/java/org/elasticsearch/common/inject/DefaultConstructionProxyFactory.java
core/src/main/java/org/elasticsearch/common/inject/DeferredLookups.java
core/src/main/java/org/elasticsearch/common/inject/EncounterImpl.java
core/src/main/java/org/elasticsearch/common/inject/Exposed.java
core/src/main/java/org/elasticsearch/common/inject/ExposedKeyFactory.java
core/src/main/java/org/elasticsearch/common/inject/FactoryProxy.java
core/src/main/java/org/elasticsearch/common/inject/Guice.java
core/src/main/java/org/elasticsearch/common/inject/ImplementedBy.java
core/src/main/java/org/elasticsearch/common/inject/InheritingState.java
core/src/main/java/org/elasticsearch/common/inject/Initializable.java
core/src/main/java/org/elasticsearch/common/inject/Initializables.java
core/src/main/java/org/elasticsearch/common/inject/Initializer.java
core/src/main/java/org/elasticsearch/common/inject/Inject.java
core/src/main/java/org/elasticsearch/common/inject/InjectionRequestProcessor.java
core/src/main/java/org/elasticsearch/common/inject/Injector.java
core/src/main/java/org/elasticsearch/common/inject/InjectorBuilder.java
core/src/main/java/org/elasticsearch/common/inject/InjectorImpl.java
core/src/main/java/org/elasticsearch/common/inject/InjectorShell.java
core/src/main/java/org/elasticsearch/common/inject/Injectors.java
core/src/main/java/org/elasticsearch/common/inject/InternalFactoryToProviderAdapter.java
core/src/main/java/org/elasticsearch/common/inject/Key.java
core/src/main/java/org/elasticsearch/common/inject/LookupProcessor.java
core/src/main/java/org/elasticsearch/common/inject/Lookups.java
core/src/main/java/org/elasticsearch/common/inject/MembersInjector.java
core/src/main/java/org/elasticsearch/common/inject/MembersInjectorImpl.java
core/src/main/java/org/elasticsearch/common/inject/MembersInjectorStore.java
core/src/main/java/org/elasticsearch/common/inject/MessageProcessor.java
core/src/main/java/org/elasticsearch/common/inject/Module.java
core/src/main/java/org/elasticsearch/common/inject/OutOfScopeException.java
core/src/main/java/org/elasticsearch/common/inject/PrivateBinder.java
core/src/main/java/org/elasticsearch/common/inject/PrivateElementProcessor.java
core/src/main/java/org/elasticsearch/common/inject/PrivateModule.java
core/src/main/java/org/elasticsearch/common/inject/ProvidedBy.java
core/src/main/java/org/elasticsearch/common/inject/Provider.java
core/src/main/java/org/elasticsearch/common/inject/ProviderToInternalFactoryAdapter.java
core/src/main/java/org/elasticsearch/common/inject/Provides.java
core/src/main/java/org/elasticsearch/common/inject/ProvisionException.java
core/src/main/java/org/elasticsearch/common/inject/Reflection.java
core/src/main/java/org/elasticsearch/common/inject/Scope.java
core/src/main/java/org/elasticsearch/common/inject/ScopeAnnotation.java
core/src/main/java/org/elasticsearch/common/inject/ScopeBindingProcessor.java
core/src/main/java/org/elasticsearch/common/inject/Scopes.java
core/src/main/java/org/elasticsearch/common/inject/SingleFieldInjector.java
core/src/main/java/org/elasticsearch/common/inject/SingleMemberInjector.java
core/src/main/java/org/elasticsearch/common/inject/SingleMethodInjector.java
core/src/main/java/org/elasticsearch/common/inject/SingleParameterInjector.java
core/src/main/java/org/elasticsearch/common/inject/Singleton.java
core/src/main/java/org/elasticsearch/common/inject/Stage.java
core/src/main/java/org/elasticsearch/common/inject/State.java
core/src/main/java/org/elasticsearch/common/inject/TypeConverterBindingProcessor.java
core/src/main/java/org/elasticsearch/common/inject/TypeListenerBindingProcessor.java
core/src/main/java/org/elasticsearch/common/inject/TypeLiteral.java
core/src/main/java/org/elasticsearch/common/inject/WeakKeySet.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/Assisted.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/AssistedConstructor.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/AssistedInject.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider2.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/Parameter.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/ParameterListKey.java
core/src/main/java/org/elasticsearch/common/inject/binder/AnnotatedBindingBuilder.java
core/src/main/java/org/elasticsearch/common/inject/binder/AnnotatedConstantBindingBuilder.java
core/src/main/java/org/elasticsearch/common/inject/binder/AnnotatedElementBuilder.java
core/src/main/java/org/elasticsearch/common/inject/binder/LinkedBindingBuilder.java
core/src/main/java/org/elasticsearch/common/inject/binder/ScopedBindingBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/AbstractBindingBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/Annotations.java
core/src/main/java/org/elasticsearch/common/inject/internal/BindingBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/BindingImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/ConstantBindingBuilderImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/ConstructionContext.java
core/src/main/java/org/elasticsearch/common/inject/internal/ErrorHandler.java
core/src/main/java/org/elasticsearch/common/inject/internal/Errors.java
core/src/main/java/org/elasticsearch/common/inject/internal/ErrorsException.java
core/src/main/java/org/elasticsearch/common/inject/internal/ExposedBindingImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/ExposureBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/FailableCache.java
core/src/main/java/org/elasticsearch/common/inject/internal/InstanceBindingImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/InternalContext.java
core/src/main/java/org/elasticsearch/common/inject/internal/InternalFactory.java
core/src/main/java/org/elasticsearch/common/inject/internal/Join.java
core/src/main/java/org/elasticsearch/common/inject/internal/MoreTypes.java
core/src/main/java/org/elasticsearch/common/inject/internal/Nullability.java
core/src/main/java/org/elasticsearch/common/inject/internal/Nullable.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/ProviderMethod.java
core/src/main/java/org/elasticsearch/common/inject/internal/ProviderMethodsModule.java
core/src/main/java/org/elasticsearch/common/inject/internal/Scoping.java
core/src/main/java/org/elasticsearch/common/inject/internal/SourceProvider.java
core/src/main/java/org/elasticsearch/common/inject/internal/StackTraceElements.java
core/src/main/java/org/elasticsearch/common/inject/internal/Stopwatch.java
core/src/main/java/org/elasticsearch/common/inject/internal/Strings.java
core/src/main/java/org/elasticsearch/common/inject/internal/ToStringBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/UniqueAnnotations.java
core/src/main/java/org/elasticsearch/common/inject/matcher/AbstractMatcher.java
core/src/main/java/org/elasticsearch/common/inject/matcher/Matcher.java
core/src/main/java/org/elasticsearch/common/inject/matcher/Matchers.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/Element.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/MapBinder.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/Multibinder.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/RealElement.java
core/src/main/java/org/elasticsearch/common/inject/name/Named.java
core/src/main/java/org/elasticsearch/common/inject/name/NamedImpl.java
core/src/main/java/org/elasticsearch/common/inject/name/Names.java
core/src/main/java/org/elasticsearch/common/inject/package-info.java
core/src/main/java/org/elasticsearch/common/inject/spi/BindingScopingVisitor.java
core/src/main/java/org/elasticsearch/common/inject/spi/BindingTargetVisitor.java
core/src/main/java/org/elasticsearch/common/inject/spi/ConstructorBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/ConvertedConstantBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/DefaultBindingScopingVisitor.java
core/src/main/java/org/elasticsearch/common/inject/spi/DefaultBindingTargetVisitor.java
core/src/main/java/org/elasticsearch/common/inject/spi/DefaultElementVisitor.java
core/src/main/java/org/elasticsearch/common/inject/spi/Dependency.java
core/src/main/java/org/elasticsearch/common/inject/spi/Element.java
core/src/main/java/org/elasticsearch/common/inject/spi/ElementVisitor.java
core/src/main/java/org/elasticsearch/common/inject/spi/Elements.java
core/src/main/java/org/elasticsearch/common/inject/spi/ExposedBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/HasDependencies.java
core/src/main/java/org/elasticsearch/common/inject/spi/InjectionPoint.java
core/src/main/java/org/elasticsearch/common/inject/spi/InjectionRequest.java
core/src/main/java/org/elasticsearch/common/inject/spi/InstanceBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/LinkedKeyBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/MembersInjectorLookup.java
core/src/main/java/org/elasticsearch/common/inject/spi/Message.java
core/src/main/java/org/elasticsearch/common/inject/spi/PrivateElements.java
core/src/main/java/org/elasticsearch/common/inject/spi/ProviderBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/ProviderInstanceBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/ProviderKeyBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/ProviderLookup.java
core/src/main/java/org/elasticsearch/common/inject/spi/ProviderWithDependencies.java
core/src/main/java/org/elasticsearch/common/inject/spi/ScopeBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/StaticInjectionRequest.java
core/src/main/java/org/elasticsearch/common/inject/spi/TypeConverterBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/TypeEncounter.java
core/src/main/java/org/elasticsearch/common/inject/spi/TypeListener.java
core/src/main/java/org/elasticsearch/common/inject/spi/TypeListenerBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/UntargettedBinding.java
core/src/main/java/org/elasticsearch/common/inject/util/Modules.java
core/src/main/java/org/elasticsearch/common/inject/util/Types.java
core/src/main/java/org/elasticsearch/common/io/Channels.java
core/src/main/java/org/elasticsearch/common/io/FastCharArrayReader.java
core/src/main/java/org/elasticsearch/common/io/FastCharArrayWriter.java
core/src/main/java/org/elasticsearch/common/io/FastStringReader.java
core/src/main/java/org/elasticsearch/common/io/FileSystemUtils.java
core/src/main/java/org/elasticsearch/common/io/Streams.java
core/src/main/java/org/elasticsearch/common/io/stream/BytesStreamOutput.java
core/src/main/java/org/elasticsearch/common/io/stream/ReleasableBytesStreamOutput.java
core/src/main/java/org/elasticsearch/common/logging/log4j/ConsoleAppender.java
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
core/src/main/java/org/elasticsearch/common/lucene/search/XMoreLikeThis.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/RandomScoreFunction.java
core/src/main/java/org/elasticsearch/common/metrics/EWMA.java
core/src/main/java/org/elasticsearch/common/metrics/MeterMetric.java
core/src/main/java/org/elasticsearch/common/netty/NettyUtils.java
core/src/main/java/org/elasticsearch/common/property/PropertyPlaceholder.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/settings/SettingsFilter.java
core/src/main/java/org/elasticsearch/common/transport/TransportAddressSerializers.java
core/src/main/java/org/elasticsearch/common/unit/DistanceUnit.java
core/src/main/java/org/elasticsearch/common/util/BigArrays.java
core/src/main/java/org/elasticsearch/common/util/BloomFilter.java
core/src/main/java/org/elasticsearch/common/util/BytesRefHash.java
core/src/main/java/org/elasticsearch/common/util/CancellableThreads.java
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
core/src/main/java/org/elasticsearch/common/util/LongHash.java
core/src/main/java/org/elasticsearch/common/util/URIPattern.java
comments:
Fix all javadocs issues, re-enable compiler warnings (but disable on java9 where maven is broken)

time:
2015-09-22T01:04:57Z
class:
comments:
Merge pull request #13663 from rjernst/license_cleanup

Remove unnecessary copies of license and notice files

time:
2015-09-21T21:02:11Z
class:
comments:
Merge pull request #13689 from nik9000/javadocs_8

Disable doclint

time:
2015-09-21T19:59:11Z
class:
core/src/main/java/org/elasticsearch/rest/support/RestUtils.java
core/src/test/java/org/elasticsearch/rest/util/RestUtilsTests.java
comments:
Merge 'RestUtils.decodeQueryString ignores the URI fragment when parsing a query string'

Fixes #13365

time:
2015-09-21T19:50:29Z
class:
core/src/main/java/org/elasticsearch/rest/support/RestUtils.java
core/src/test/java/org/elasticsearch/rest/util/RestUtilsTests.java
comments:
Teach decodeQueryString about fragments

Fixes #13320

time:
2015-09-21T19:47:37Z
class:
comments:
[test] Fix plugin tests

Fix the vagrant tests after azure was split into 3 plugins. The tests
need to list all the plugins and some dependency so we can make sure the
plugin can be installed and uninstalled.

time:
2015-09-21T19:44:08Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
comments:
Merge pull request #13695 from rmuir/factor_out_scripts

Get lang-javascript, lang-python, securemock ready for script refactoring

time:
2015-09-21T19:13:17Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
comments:
Get lang-javascript, lang-python, securemock ready for script refactoring.

I want to refactor scripting engines so we can contain dangerous "God-like" permissions
like createClassloader/sun.reflect. These are used for dynamic class generation (scripts, mocks).
This will mean some refactoring to ES core.

But first lets get the plugins in order first. I removed those permissions globally, and
fixed grants for lang-javascript, lang-python, securemock so that everything works.

lang-javascript needs no code changes, because rhino is properly written :)
lang-python needs accesscontroller blocks. securemock was already working as of 1.1

This is just a baby step, to try to do some of this incrementally! It doesn't yet provide
us anything.

time:
2015-09-21T19:08:17Z
class:
comments:
Merge pull request #13694 from andrestc/testingdocs-remove-wheezy

Removes wheezy from script testing docs

time:
2015-09-21T19:02:50Z
class:
comments:
Removes wheezy from list of scripts testing docs

time:
2015-09-21T18:45:59Z
class:
core/src/main/java/org/elasticsearch/tribe/TribeService.java
comments:
Increment tribe node version on updates

Currently the tribe node version always stays 0, which can cause issues for the services that rely on cluster state version. For example, ClusterStateObserver doesn't revalidate the cluster state after change, which leads to cluster health check with wait flags to take much longer then actually needed.

time:
2015-09-21T18:40:26Z
class:
comments:
Merge pull request #13633 from andrestc/plugins-script-check-java

Adds a validation for plugins script to check if java is set

time:
2015-09-21T18:32:22Z
class:
comments:
reword docs

time:
2015-09-21T18:11:08Z
class:
comments:
[build] disable doclint

Java 8's javadoc defaults to very strict linting. It is very `-Wall -Werr`
style. And Elasticsearch's Javadocs do not pass and it'd be a huge and not
super useful effort to get them to pass the linting. So this disables it.

Closes #13336

time:
2015-09-21T17:58:07Z
class:
comments:
[docs] Note that no http settings are dynamic

Closes #13364

time:
2015-09-21T17:32:09Z
class:
comments:
Merge remote-tracking branch 'origin/master'

time:
2015-09-21T17:23:06Z
class:
comments:
Merge pull request #13683 from nik9000/fix_eclipse_6

Fix eclipse:eclipse

time:
2015-09-21T16:50:39Z
class:
comments:
[build] Fix eclipse

Eclipse was blowing up because it couldn't find javax.annotations.Nonnull
so this turns off nullability annotation checking.

time:
2015-09-21T15:55:23Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
plugins/cloud-azure/src/test/java/org/elasticsearch/azure/itest/AzureSimpleTests.java
plugins/discovery-azure/src/main/java/org/elasticsearch/cloud/azure/AzureDiscoveryModule.java
plugins/discovery-azure/src/main/java/org/elasticsearch/cloud/azure/AzureServiceDisableException.java
plugins/discovery-azure/src/main/java/org/elasticsearch/cloud/azure/AzureServiceRemoteException.java
plugins/discovery-azure/src/main/java/org/elasticsearch/cloud/azure/management/AzureComputeService.java
plugins/discovery-azure/src/main/java/org/elasticsearch/cloud/azure/management/AzureComputeServiceImpl.java
plugins/discovery-azure/src/main/java/org/elasticsearch/cloud/azure/management/AzureComputeSettingsFilter.java
plugins/discovery-azure/src/main/java/org/elasticsearch/discovery/azure/AzureDiscovery.java
plugins/discovery-azure/src/main/java/org/elasticsearch/discovery/azure/AzureUnicastHostsProvider.java
plugins/discovery-azure/src/main/java/org/elasticsearch/plugin/discovery/azure/AzureDiscoveryPlugin.java
plugins/discovery-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureComputeServiceTestCase.java
plugins/discovery-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureTestCase.java
plugins/discovery-azure/src/test/java/org/elasticsearch/cloud/azure/AzureComputeServiceSimpleMock.java
plugins/discovery-azure/src/test/java/org/elasticsearch/cloud/azure/AzureComputeServiceTwoNodesMock.java
plugins/discovery-azure/src/test/java/org/elasticsearch/cloud/azure/management/AzureComputeServiceAbstractMock.java
plugins/discovery-azure/src/test/java/org/elasticsearch/discovery/azure/AzureDiscoveryRestIT.java
plugins/discovery-azure/src/test/java/org/elasticsearch/discovery/azure/AzureMinimumMasterNodesTests.java
plugins/discovery-azure/src/test/java/org/elasticsearch/discovery/azure/AzureSimpleTests.java
plugins/discovery-azure/src/test/java/org/elasticsearch/discovery/azure/AzureTwoStartedNodesTests.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/AzureRepositoryModule.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/AzureServiceDisableException.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/AzureServiceRemoteException.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/blobstore/AzureBlobContainer.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/blobstore/AzureBlobStore.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/blobstore/AzureOutputStream.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageService.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageServiceImpl.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageSettingsFilter.java
plugins/repository-azure/src/main/java/org/elasticsearch/plugin/repository/azure/AzureRepositoryPlugin.java
plugins/repository-azure/src/main/java/org/elasticsearch/repositories/azure/AzureRepository.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureRepositoryServiceTestCase.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureTestCase.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureWithThirdPartyTestCase.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/storage/AzureStorageServiceMock.java
plugins/repository-azure/src/test/java/org/elasticsearch/repositories/azure/AzureRepositoryRestIT.java
plugins/repository-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreServiceTests.java
plugins/repository-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreTests.java
plugins/store-smb/src/main/java/org/apache/lucene/store/SmbDirectoryWrapper.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbmmapfs/SmbMmapFsDirectoryService.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbmmapfs/SmbMmapFsIndexStore.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbsimplefs/SmbSimpleFsDirectoryService.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbsimplefs/SmbSimpleFsIndexStore.java
plugins/store-smb/src/main/java/org/elasticsearch/plugin/store/smb/SMBStorePlugin.java
plugins/store-smb/src/test/java/org/apache/lucene/store/ESBaseDirectoryTestCase.java
plugins/store-smb/src/test/java/org/apache/lucene/store/SmbMMapDirectoryTests.java
plugins/store-smb/src/test/java/org/apache/lucene/store/SmbSimpleFSDirectoryTests.java
plugins/store-smb/src/test/java/org/elasticsearch/index/store/AbstractAzureFsTestCase.java
plugins/store-smb/src/test/java/org/elasticsearch/index/store/SMBStoreRestIT.java
plugins/store-smb/src/test/java/org/elasticsearch/index/store/SmbMMapFsTests.java
plugins/store-smb/src/test/java/org/elasticsearch/index/store/SmbSimpleFsTests.java
comments:
[cloud-azure] Split azure plugin in 3 plugins

Until now we had a cloud-azure plugin which is providing 3 distinct features:

* discovery on Azure
* snapshot/restore on Aure
* SMB store

This commit splits the plugin by feature so people can use either one or the other or both features.

Doc is updated accordingly.

time:
2015-09-21T15:53:09Z
class:
comments:
Fix plugins/cloud-azure/licenses/azure-LICENSE.txt

Closes #13679.

time:
2015-09-21T15:38:10Z
class:
comments:
{index} can be one or many indices and should be typed to list.

{index} can be one or many indices and should be typed to list.

time:
2015-09-21T13:38:43Z
class:
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-09-21T09:22:14Z
class:
comments:
Update compound-word-tokenfilter.asciidoc

Improved the docs for compound work token filter.Closes #13670Closes #13595

time:
2015-09-21T07:53:30Z
class:
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
comments:
Merge pull request #13465 from s1monw/issues/13404

Don't be lenient if JarHell is found

time:
2015-09-20T19:00:05Z
class:
core/src/main/java/org/elasticsearch/common/Numbers.java
core/src/main/java/org/elasticsearch/common/geo/GeoPoint.java
core/src/main/java/org/elasticsearch/common/geo/GeoUtils.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoExecType.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoBoundingBoxIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
comments:
Merge pull request #11969 from MaineC/feature/geo-bounding-box-refactoring

Refactoring of GeoBoundingBoxQueryBuilder and -Parser

time:
2015-09-20T17:49:52Z
class:
core/src/main/java/org/elasticsearch/common/Numbers.java
core/src/main/java/org/elasticsearch/common/geo/GeoPoint.java
core/src/main/java/org/elasticsearch/common/geo/GeoUtils.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoExecType.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoBoundingBoxIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
comments:
Refactors GeoBoundingBoxQueryBuilder/-Parser

This add equals, hashcode, read/write methods, validation, separates toQuery
and JSON parsing and adds serialization and query generation tests.

Deprecates two types of initializing the bounding box: In our documentation we
speak about specifying top/left and bottom/right corner of a bounding box. Here
we also allow for top/right and bottom/left. This adds not only to the amount
of code but also testing needed w/o too much benefit for the user other than
more chances to confuse top/right/bottom/left/latitude/longitude IMHO.

Missing: The toQuery method with type set to "indexed" is not tested at the
moment.

Cleanup changes unrelated to base refactoring:
* Switched from type String to enum for types in GeoBoundingBoxQueryBuilder.
* Switched to using type GeoPoint for storing the bounding box coordinates
  instead of array of double values.

Relates to #10217 for the query refactoring part.
Relates to #12016 for how missing mappings are handled.

Adds a utility class for generating random geo data.

Adds some missing documentation.

Extend test to MEMORY type config

Fix final review comments and rebase

time:
2015-09-20T03:28:25Z
class:
comments:
Fix script testing for centos-7

time:
2015-09-19T19:55:55Z
class:
comments:
Merge pull request #13526 from robertberg/rberg.searchdocs

Edit search scroll docs for syntactic style

time:
2015-09-19T19:42:14Z
class:
comments:
Edit search scroll docs for syntactic style

time:
2015-09-19T16:14:36Z
class:
comments:
Fixed some asciidoc confusion in index-modules.asciidoc

time:
2015-09-19T15:28:15Z
class:
comments:
Docs: Always quote "@file" argument to --data-binary

Closes #13500

time:
2015-09-19T14:09:53Z
class:
comments:
Docs: Update query_dsl.asciidoc

Minor orthographic fix

Closes #13452

time:
2015-09-19T13:04:21Z
class:
comments:
SELECT state, COUNT(*) for clarity

Adding state to the SQL syntax to make it more clear, given that the buckets returned include the values of state AND count for each.

Closes #13597

time:
2015-09-19T12:02:41Z
class:
comments:
Docs: Mention we use DEFLATE for best_compression

Closes #13549

time:
2015-09-19T05:41:30Z
class:
comments:
update repository-s3 licenses

time:
2015-09-19T00:48:30Z
class:
comments:
Remove unnecessary copies of license and notice files

We moved a lot of repositories into elasticsearch, but in their new
location they retained their LICENSE.txt and NOTICE.txt files. These are
all the same, and having the license and notice and the root of the
repository should be sufficient.

time:
2015-09-18T20:56:50Z
class:
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
comments:
Add tests and fixes for primitive numeric ctors on TermsQueryBuilder

time:
2015-09-18T20:17:49Z
class:
comments:
update aws-java-sdk-ec2 sha1 hashes

time:
2015-09-18T20:02:38Z
class:
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
comments:
Remove forbidden API usage

time:
2015-09-18T18:47:05Z
class:
core/src/test/java/org/elasticsearch/ESExceptionTests.java
comments:
Fix messed up merge

time:
2015-09-18T18:38:15Z
class:
core/src/main/java/org/elasticsearch/common/util/BloomFilter.java
core/src/main/java/org/elasticsearch/common/util/CollectionUtils.java
core/src/main/java/org/elasticsearch/common/util/MultiDataPathUpgrader.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/test/java/org/elasticsearch/test/discovery/ClusterDiscoveryConfiguration.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageServiceImpl.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-09-18T18:35:56Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/common/ParsingException.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/BaseQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BaseQueryParserTemp.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NotQueryParser.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/QueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParserMapper.java
core/src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/support/InnerHitsQueryParserHelper.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/SignificanceHeuristicParser.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeFormatTests.java
core/src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeTimezoneTests.java
core/src/test/java/org/elasticsearch/index/query/NotQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/SpanFirstQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNotQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/TestParsingException.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/IndicesModuleTests.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
core/src/test/java/org/elasticsearch/rest/BytesRestResponseTests.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-09-18T18:11:25Z
class:
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-09-18T18:00:06Z
class:
comments:
Merge branch 'update-aws-sdk' of https://github.com/schonfeld/elasticsearch into schonfeld-update-aws-sdk

time:
2015-09-18T17:51:57Z
class:
comments:
Merge branch 'doc/azure-network-host'

time:
2015-09-18T16:49:05Z
class:
comments:
Limits variable scope

time:
2015-09-18T14:22:28Z
class:
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageServiceImpl.java
comments:
Merge branch 'patch-1' of https://github.com/pandujar/elasticsearch into pandujar-patch-1

time:
2015-09-18T14:10:51Z
class:
comments:
move the aws sdk version parameter to plugins/pom.xml

time:
2015-09-18T13:45:38Z
class:
core/src/main/java/org/elasticsearch/common/util/BloomFilter.java
core/src/main/java/org/elasticsearch/common/util/CollectionUtils.java
core/src/main/java/org/elasticsearch/common/util/MultiDataPathUpgrader.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/test/java/org/elasticsearch/test/discovery/ClusterDiscoveryConfiguration.java
comments:
Merge pull request #13596 from jasontedor/ints-be-gone

Remove and forbid use of com.google.common.primitives.Ints

time:
2015-09-18T13:43:35Z
class:
comments:
update s3 sdk version

time:
2015-09-18T12:43:17Z
class:
core/src/main/java/org/elasticsearch/common/util/CollectionUtils.java
core/src/main/java/org/elasticsearch/common/util/primitives/Integers.java
core/src/test/java/org/elasticsearch/test/discovery/ClusterDiscoveryConfiguration.java
comments:
Move method to CollectionUtils to reduce number of source files

time:
2015-09-18T12:43:17Z
class:
core/src/main/java/org/elasticsearch/common/util/BloomFilter.java
core/src/main/java/org/elasticsearch/common/util/primitives/Integers.java
comments:
Replace Integers.checkedCast with built-in method

time:
2015-09-18T12:43:17Z
class:
core/src/main/java/org/elasticsearch/common/util/MultiDataPathUpgrader.java
core/src/main/java/org/elasticsearch/common/util/primitives/Integers.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/test/java/org/elasticsearch/common/util/primitives/IntegerTests.java
comments:
Remove need for lenient tryParse method

time:
2015-09-18T12:43:17Z
class:
core/src/main/java/org/elasticsearch/common/util/BloomFilter.java
core/src/main/java/org/elasticsearch/common/util/MultiDataPathUpgrader.java
core/src/main/java/org/elasticsearch/common/util/primitives/Integers.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/test/java/org/elasticsearch/common/util/primitives/IntegerTests.java
core/src/test/java/org/elasticsearch/test/discovery/ClusterDiscoveryConfiguration.java
comments:
Remove and forbid use of com.google.common.primitives.Ints

This commit removes and now forbids all uses of
com.google.common.primitives.Ints across the codebase. This is one of
many steps in the eventual removal of Guava as a dependency.

Relates #13224

time:
2015-09-18T12:28:48Z
class:
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/rest/BytesRestResponseTests.java
comments:
[TESTS] fix failing tests due to ParsingException rename

time:
2015-09-18T11:30:49Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/common/ParsingException.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NotQueryParser.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/QueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParserMapper.java
core/src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/support/InnerHitsQueryParserHelper.java
core/src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/GND.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/JLHScore.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/NXYSignificanceHeuristic.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/PercentageScore.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ScriptHeuristic.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/SignificanceHeuristicParser.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeTimezoneTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/TestParsingException.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/IndicesModuleTests.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
core/src/test/java/org/elasticsearch/percolator/PercolatorBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
core/src/test/java/org/elasticsearch/rest/BytesRestResponseTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
comments:
Merge pull request #13631 from s1monw/refactor_query_parsing_exception

Rename QueryParsingException to a more generic ParsingException

time:
2015-09-18T11:05:19Z
class:
comments:
Update nodeattrs.asciidoc

time:
2015-09-18T10:38:56Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
comments:
Add QueryShardException to list in ElasticsearchException

time:
2015-09-18T10:05:03Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/common/collect/CopyOnWriteHashSet.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/VersionTests.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/bootstrap/MockPluginPolicy.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/TestCluster.java
core/src/test/java/org/elasticsearch/test/disruption/LongGCDisruption.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeServiceImpl.java
plugins/cloud-gce/src/main/java/org/elasticsearch/discovery/gce/GceUnicastHostsProvider.java
plugins/delete-by-query/src/test/java/org/elasticsearch/plugin/deletebyquery/DeleteByQueryTests.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/AwsEc2Service.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/AwsEc2ServiceImpl.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/Ec2Module.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/network/Ec2NameResolver.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/node/Ec2CustomNodeAttributes.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/discovery/ec2/AwsEc2UnicastHostsProvider.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/plugin/discovery/ec2/Ec2DiscoveryPlugin.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/AmazonEC2Mock.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/AwsEc2ServiceMock.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryTests.java
comments:
Merge branch 'master' into feature/query-refactoring

 Conflicts:
	core/src/main/java/org/elasticsearch/ElasticsearchException.java

time:
2015-09-18T04:35:14Z
class:
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
comments:
Merge pull request #13647 from rmuir/intellij_plugin_permissions

Add Intellij support for plugins with extra permissions.

time:
2015-09-18T04:23:06Z
class:
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
comments:
Remove this: we are gonna manage these right

time:
2015-09-18T04:16:01Z
class:
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
comments:
Fix intellij test logging

time:
2015-09-18T03:51:51Z
class:
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
comments:
Add Intellij support for plugins with extra permissions.

graduate this from a hack for insecure plugins to something we can
live with for per-module/plugin permissions, it now works reasonably
in unit tests and with Intellij and Eclipse IDEs.

remove security warnings: we will deal with these issues in a secure
way, if we cannot, then the plugin shouldn't be in our core codebase.

time:
2015-09-18T01:22:20Z
class:
comments:
Adds test case for plugins script

time:
2015-09-18T01:22:09Z
class:
comments:
Adds test case for elasticsearch script

time:
2015-09-17T22:06:22Z
class:
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/bootstrap/MockPluginPolicy.java
comments:
Merge pull request #13645 from rmuir/crazy_test_framework_again

Fix more issues with plugin unit tests and allow running from IDE.

time:
2015-09-17T21:30:42Z
class:
core/src/main/java/org/elasticsearch/index/query/BaseTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/AbstractTermQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/IndicesQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MultiMatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NestedQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NotQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/PrefixQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryFilterBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RandomQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RegexpQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ScriptQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanContainingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanFirstQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNearQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNotQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanOrQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanWithinQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TypeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WildcardQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
comments:
Query Refactoring: moving validation to constructors and setters

This PR is the second batch in moving the query validation we started
to collect in the validate() method to the corresponding setters
and constructors.
The old method was useful in the case where you are forced to iterate a list yourself. In our case, we're trying to transform a (tree of) QueryNode to a QueryBuilder.                SpanOrQueryBuilder spanOrQueryBuilder = spanOrQuery();                queryNode.getChildren().forEach(childSpan -> {                    QueryBuilder queryBuilder = convertQueryNode(childSpan);                    if (queryBuilder instanceof SpanQueryBuilder)                    {                        spanOrQueryBuilder.clause((SpanQueryBuilder) queryBuilder);                    }                });                return spanOrQueryBuilder;The new method would necessitate some weird thing where we put the first element into the builder at construction and then iterate only the rest of the list.                List<QueryNode> children = queryNode.getChildren();                SpanOrQueryBuilder spanOrQueryBuilder = spanOrQuery(children.get(0));                children.subList(1, children.size()).forEach(childSpan -> {                    QueryBuilder queryBuilder = convertQueryNode(childSpan);                    if (queryBuilder instanceof SpanQueryBuilder)                    {                        spanOrQueryBuilder.clause((SpanQueryBuilder) queryBuilder);                    }                });                return spanOrQueryBuilder;This is kind of awkward, and I would have thought that convenience would be considered important in a builder API.We have the same problem with `spanNearQuery` and are even using `spanNotQuery` in a similar fashion.
Sorry you had trouble around this. This change came as part of what we call "search refactoring", you can read more about it [here](https://www.elastic.co/blog/the-great-query-refactoring-thou-shalt-only-parse-once). one more thing is that these objects are not really builders anymore and the builder naming is confusing. Not sure what we can do, but can you open an issue so that we can discuss if we can do anything to help? 
Renaming away from builders would certainly help communicate intent.We ended up making new builder convenience methods which take a List of sub-builders. We're toying with making builders for the builders, though... and I think if we really ended up having to introduce QueryBuilderBuilder, a few people would be sad. :/
I agree, see #14192 . That would be a very breaking change, so we have been hesitant on actually making it. But we definitely thought about it. Mind leaving a comment there?

time:
2015-09-17T21:12:34Z
class:
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
comments:
Merge remote-tracking branch 'origin/master'

time:
2015-09-17T21:09:07Z
class:
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/AwsEc2Service.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/AwsEc2ServiceImpl.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/Ec2Module.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/network/Ec2NameResolver.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/node/Ec2CustomNodeAttributes.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/discovery/ec2/AwsEc2UnicastHostsProvider.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/plugin/discovery/ec2/Ec2DiscoveryPlugin.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/AmazonEC2Mock.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/AwsEc2ServiceMock.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryTests.java
comments:
[discovery-ec2] Move integration tests to unit tests

Follow up for #12844 but in master branch where cloud-aws has been split in 2 projects. So we need to backport manually changes...

time:
2015-09-17T21:02:11Z
class:
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/bootstrap/MockPluginPolicy.java
comments:
Fix more issues with plugin unit tests and allow running from IDE.

This is the more sheisty business along the same lines as
https://github.com/elastic/elasticsearch/pull/13638

1 hour total adding the real functionality, days of wasted time
on simulated fake functionality to satisfy our crazy test framework...

I debugged on the problematic jenkins machine and I think issues are
from parsing the classpath and URL normalization etc (trailing slashes
vs not, etc in URLs). So I simplifed the code, to remove this completely,
inverting the logic so we just use an exclusion list instead of inclusion one.

I also allow tests for these plugins to run from the IDE (works at least for eclipse) too.
At least for eclipse this is even less realistic as it piles all the code (src and test)
into a single codebase, but it means you can *use it* and you just have to run mvn verify
before pushing as always. And as always... best effort.

time:
2015-09-17T20:43:34Z
class:
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
comments:
Merge pull request #8201 from pickypg/feature/groovy-compile-indy-8184

Enable indy (invokedynamic) compile flag for Groovy scripts by default

time:
2015-09-17T20:43:22Z
class:
core/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
comments:
Removing note about 7u60 from master, which is Java 8+ only

time:
2015-09-17T20:39:20Z
class:
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
comments:
Merge remote-tracking branch 'origin/master'

time:
2015-09-17T20:19:03Z
class:
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
comments:
Catch IndexWriter 'files do not exist' assertion and throw EngineCreationFailureExc

time:
2015-09-17T20:09:21Z
class:
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
comments:
really get groovy indy working

time:
2015-09-17T20:09:20Z
class:
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
comments:
add paranoia

time:
2015-09-17T20:09:20Z
class:
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
comments:
Give groovy scripts read access to groovy.indy.logging, needed for
IndyInterface bootstrap.

time:
2015-09-17T20:09:20Z
class:
core/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
comments:
Adding support for invokedynamic with Groovy scripts.

time:
2015-09-17T19:48:10Z
class:
comments:
[test] Remove esoteric apt-get in Vagrantfile

Removes an esoteric `apt-get update` variant used in Vagrantfile that was
causing only parts of the apt repository to update. That was the point of
the command but when it would leave the repository only half built which
made installing anything but Java difficult. The speed isn't worth the
complexity.

time:
2015-09-17T19:44:25Z
class:
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/bootstrap/MockPluginPolicy.java
core/src/test/java/org/elasticsearch/test/geo/RandomShapeGenerator.java
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeServiceImpl.java
plugins/cloud-gce/src/main/java/org/elasticsearch/discovery/gce/GceUnicastHostsProvider.java
comments:
Merge remote-tracking branch 'origin/master'

time:
2015-09-17T18:44:04Z
class:
core/src/test/java/org/elasticsearch/test/geo/RandomShapeGenerator.java
comments:
Fix RandomShapeGenerator to retry on JTS Assertion and RandomShapeException

A JTS bug causes a misinterpretation of polygon coordinates leading to an unhelpful "geom" AssertionError. While this assertion occurs approx 0.02% of the time it can lead to a misleading test failure. This patch catches the geom assertion and retries randomShapeCreation. For safety a threshold is set to prevent unlimited retrying - though 1 retry is typically sufficient for correcting the invalid shape.

closes #13551

time:
2015-09-17T18:23:46Z
class:
core/src/test/java/org/elasticsearch/test/geo/RandomShapeGenerator.java
comments:
Fix RandomShapeGenerator to retry on JTS Assertion and RandomShapeException

A JTS bug causes a misinterpretation of polygon coordinates leading to an unhelpful "geom" AssertionError. While this assertion occurs approx 0.02% of the time it can lead to a misleading test failure. This patch catches the geom assertion and retries randomShapeCreation. For safety a threshold is set to prevent unlimited retrying - though 1 retry is typically sufficient for correcting the invalid shape.

closes #13551

time:
2015-09-17T16:10:04Z
class:
comments:
Merge branch 'maven/elasticsearch-already-excluded'

time:
2015-09-17T16:06:08Z
class:
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/bootstrap/MockPluginPolicy.java
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeServiceImpl.java
plugins/cloud-gce/src/main/java/org/elasticsearch/discovery/gce/GceUnicastHostsProvider.java
comments:
Merge pull request #13638 from rmuir/more_realistic_unit_tests_for_plugins_like_this

Better simulate problematic plugins permissions in unit tests.

time:
2015-09-17T15:51:00Z
class:
core/src/test/java/org/elasticsearch/bootstrap/MockPluginPolicy.java
comments:
Elaborate more on how this works

time:
2015-09-17T15:49:05Z
class:
comments:
Merge pull request #13640 from brwe/plugins-custom-dir-bats

[test] start elasticsearch and verify it does what it should after in…

time:
2015-09-17T15:24:13Z
class:
comments:
[test] start elasticsearch and verify it does what it should after installing in custom dir

time:
2015-09-17T15:03:50Z
class:
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeServiceImpl.java
plugins/cloud-gce/src/main/java/org/elasticsearch/discovery/gce/GceUnicastHostsProvider.java
comments:
Fix missing AccessControllerBlock in GCE code
This fix imported from #13612

time:
2015-09-17T14:29:02Z
class:
comments:
Add documentation for setting network.host with azure discovery

With 2.0, we now bind to `localhost` by default instead of binding to the network card and use its IP address.

When the discovery plugin gets from Azure API the list of nodes that should form the cluster, this list is pinged then. But as each node is bound to `localhost`, ping does not get an answer and the node elects itself as the master node.

Closes #13591

time:
2015-09-17T14:17:17Z
class:
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/bootstrap/MockPluginPolicy.java
comments:
Better simulate problematic plugins permissions in unit tests.

We don't have a plugin .zip for unit tests, so we can't do it
correctly. But we can approximate it better, so that if code
is simply missing an AccessController block at least tests will fail.

time:
2015-09-17T14:10:32Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/test/java/org/elasticsearch/VersionTests.java
comments:
Merge pull request #13634 from clintongormley/version_bump_master

Version bump master

time:
2015-09-17T13:48:05Z
class:
core/src/test/java/org/elasticsearch/VersionTests.java
comments:
Remove workaround for V2_0_0_beta1 in VersionTests

time:
2015-09-17T13:41:34Z
class:
core/src/main/java/org/elasticsearch/Version.java
comments:
Add version 2.0.0-beta2

time:
2015-09-17T13:41:34Z
class:
comments:
Add bwc indices for 2.0.0-beta1 and 2.0.0-beta2

time:
2015-09-17T13:34:36Z
class:
comments:
Adds a validation for plugins script to check if java is set

This does the same validation as in elasticearch bin script

time:
2015-09-17T12:58:40Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
comments:
bring back fully qualified classname

time:
2015-09-17T12:57:43Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
comments:
Add GeoPoint in StreamInput/StreamOutput
Closes #13340

time:
2015-09-17T12:56:21Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/common/ParsingException.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NotQueryParser.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/QueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParserMapper.java
core/src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/support/InnerHitsQueryParserHelper.java
core/src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/GND.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/JLHScore.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/NXYSignificanceHeuristic.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/PercentageScore.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ScriptHeuristic.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/SignificanceHeuristicParser.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeTimezoneTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/TestParsingException.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/IndicesModuleTests.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
core/src/test/java/org/elasticsearch/percolator/PercolatorBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
core/src/test/java/org/elasticsearch/rest/BytesRestResponseTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
comments:
Rename QueryParsingException to a more generic ParsingException

this allows us to reuse this exception in more places rather than adding
new ones that are basically just subclasses.

time:
2015-09-17T12:24:48Z
class:
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
comments:
Test: don't use setDaemon in DiscoveryWithServiceDisruptionsIT.

time:
2015-09-17T12:23:57Z
class:
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/test/disruption/LongGCDisruption.java
comments:
Test: move LongGCDisruption from Thread.getAllStackTraces() to Thread.enumerate()

To allow it to run without the "modifyThreadGroup" permission.

time:
2015-09-17T11:57:34Z
class:
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/BoostingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/CommonTermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ExistsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FuzzyQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MissingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RandomQueryBuilder.java
core/src/test/java/org/elasticsearch/search/query/ExistsMissingIT.java
comments:
Query Refactoring: moving validation to constructors and setters

This PR is an initial step to move the query validation we started
to collect in the validate() method to the corresponding setters
and constructors.

time:
2015-09-17T10:34:46Z
class:
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/TestCluster.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
comments:
tests: Add to ability for a integration test to prevent specific templates from being wiped between tests.

time:
2015-09-17T10:17:40Z
class:
plugins/delete-by-query/src/test/java/org/elasticsearch/plugin/deletebyquery/DeleteByQueryTests.java
comments:
[test] Fix search context check in DeleteByQueryTests

 Closes #13580

time:
2015-09-17T09:14:59Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
comments:
Append new exceptions to the end otherwise backporting won't work

time:
2015-09-17T09:08:09Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
comments:
Use a dedicated id to serialize EsExceptions instead of it's class name.

Classnames change quickly due to refactorings etc. If that happens in a minor release
we loose the ability to deserialize the exceptoin coming from another node sicne we today
look it up by classname. This change uses a dedicated static id instead of the classname
to lookup the actual class.

time:
2015-09-17T08:26:35Z
class:
comments:
Merge pull request #13617 from brwe/plugin-list-vagrant-test

[test] add test for 'plugin list'

time:
2015-09-17T08:25:35Z
class:
comments:
[test] add test for 'plugin list'

Tests that the plugins that are reported with 'plugin list' are the
same as in the plugins pom.

time:
2015-09-17T06:52:05Z
class:
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoveryTests.java
comments:
Merge pull request #13628 from rmuir/insecure_plugin_tests_with_multiple_roots

Insecure plugin tests with multiple roots

time:
2015-09-17T06:32:51Z
class:
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoveryTests.java
comments:
Revert "quiet flakey gce tests"

This reverts commit 7eef7e42d4d2e1ee744c3ed5dab97347df2dd988.

time:
2015-09-17T06:32:33Z
class:
comments:
Revert "disable unit tests until they work"

This reverts commit 606cc456d25aebdbab842de12aca7b2a0f9b4fe1.

time:
2015-09-17T06:30:45Z
class:
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
comments:
Support tests for insecure plugins on systems with multiple fs roots.

time:
2015-09-16T18:33:39Z
class:
core/src/main/java/org/elasticsearch/common/collect/CopyOnWriteHashSet.java
comments:
fix compilation with ECJ (eclipse IDE etc)

time:
2015-09-16T18:15:35Z
class:
comments:
Merge pull request #13611 from rjernst/spec_in_resources

Move rest-api-spec for plugins into test resources

time:
2015-09-16T17:26:01Z
class:
comments:
disable unit tests until they work

time:
2015-09-16T16:59:38Z
class:
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoveryTests.java
comments:
quiet flakey gce tests

time:
2015-09-16T16:18:20Z
class:
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
comments:
Merge pull request #13620 from rmuir/kill_more_bogus_permissions

Remove some bogus permissions only needed for tests.

time:
2015-09-16T16:17:43Z
class:
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
comments:
Merge branch 'master' into kill_more_bogus_permissions

time:
2015-09-16T16:14:53Z
class:
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
comments:
Tests: Fix HighlighterSearchIT#testMultiMatchQueryHighlight, dont use null type

time:
2015-09-16T16:10:42Z
class:
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
comments:
[TEST] Fix incorrect location for greaterThanOrEqual fix

time:
2015-09-16T16:07:18Z
class:
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
comments:
Remove some bogus permissions only needed for tests.

Especially the worst of the worst with thread permissions: for example,
this prevents some code from starting daemon thread that will outlive
the elasticsearch process and hang around doing evil shit.

time:
2015-09-16T14:45:40Z
class:
comments:
Merge pull request #13262 from nik9000/package_test_for_script_and_template

Packaging test for filesystem scripts

time:
2015-09-16T14:44:21Z
class:
comments:
[test] Packaging test for filesystem scripts

Adds a tests for loading scripts from the filesystem for search templates
and for search filters.

Closes #13184

time:
2015-09-16T14:26:56Z
class:
comments:
Merge pull request #13598 from ycombinator/cloud-gce-doc-update

Cloud GCE documentation update

time:
2015-09-16T14:12:31Z
class:
comments:
Merge pull request #13593 from nik9000/sles_vagrant

Add opensuse-13 to packaging tests

time:
2015-09-16T14:09:39Z
class:
comments:
[test] Add opensuse-13 to packaging tests

This gets opensuse-13 working with vagrant and the packaging tests. They pass
with some minor tweaks.

Closes #13507

time:
2015-09-16T14:00:31Z
class:
comments:
Merge pull request #13594 from nik9000/fix_centos_6

Fix centos-6 tests

time:
2015-09-16T13:43:47Z
class:
comments:
Using gcloud CLI as gcutil CLI has been deprecated

time:
2015-09-16T11:41:22Z
class:
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/MultiMatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/search/query/MultiMatchQueryIT.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
comments:
Refactors MultiMatchQueryBuilder and Parser

Relates to #10217

This PR is against the query-refactoring branch.

Closes #13405

time:
2015-09-16T11:16:59Z
class:
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
comments:
TermsQueryBuilder: removing guava Longs

time:
2015-09-16T11:04:18Z
class:
core/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java
core/src/main/java/org/apache/lucene/util/XGeoUtils.java
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/get/BaseAliasesRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/get/GetSettingsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersRequestBuilder.java
core/src/main/java/org/elasticsearch/action/percolate/TransportMultiPercolateAction.java
core/src/main/java/org/elasticsearch/action/percolate/TransportShardMultiPercolateAction.java
core/src/main/java/org/elasticsearch/action/search/SearchPhaseExecutionException.java
core/src/main/java/org/elasticsearch/action/support/master/info/ClusterInfoRequestBuilder.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsResponse.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsFilter.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportMultiTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasOrIndex.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/cli/CliTool.java
core/src/main/java/org/elasticsearch/common/cli/CliToolConfig.java
core/src/main/java/org/elasticsearch/common/collect/CopyOnWriteHashMap.java
core/src/main/java/org/elasticsearch/common/collect/ImmutableOpenIntMap.java
core/src/main/java/org/elasticsearch/common/collect/ImmutableOpenMap.java
core/src/main/java/org/elasticsearch/common/inject/AbstractModule.java
core/src/main/java/org/elasticsearch/common/inject/ConfigurationException.java
core/src/main/java/org/elasticsearch/common/inject/ConstructorBindingImpl.java
core/src/main/java/org/elasticsearch/common/inject/CreationException.java
core/src/main/java/org/elasticsearch/common/inject/EncounterImpl.java
core/src/main/java/org/elasticsearch/common/inject/InjectorBuilder.java
core/src/main/java/org/elasticsearch/common/inject/InjectorShell.java
core/src/main/java/org/elasticsearch/common/inject/Key.java
core/src/main/java/org/elasticsearch/common/inject/PrivateModule.java
core/src/main/java/org/elasticsearch/common/inject/ProvisionException.java
core/src/main/java/org/elasticsearch/common/inject/TypeLiteral.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider2.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/Parameter.java
core/src/main/java/org/elasticsearch/common/inject/internal/MoreTypes.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/SourceProvider.java
core/src/main/java/org/elasticsearch/common/inject/matcher/Matchers.java
core/src/main/java/org/elasticsearch/common/inject/spi/Elements.java
core/src/main/java/org/elasticsearch/common/inject/spi/MembersInjectorLookup.java
core/src/main/java/org/elasticsearch/common/inject/spi/ProviderLookup.java
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
core/src/main/java/org/elasticsearch/common/lucene/ShardCoreKeyMap.java
core/src/main/java/org/elasticsearch/common/unit/Fuzziness.java
core/src/main/java/org/elasticsearch/common/unit/SizeValue.java
core/src/main/java/org/elasticsearch/common/util/AbstractBigArray.java
core/src/main/java/org/elasticsearch/common/util/AbstractPagedHashMap.java
core/src/main/java/org/elasticsearch/common/util/ArrayUtils.java
core/src/main/java/org/elasticsearch/common/util/BigArrays.java
core/src/main/java/org/elasticsearch/common/util/BigByteArray.java
core/src/main/java/org/elasticsearch/common/util/BigDoubleArray.java
core/src/main/java/org/elasticsearch/common/util/BigFloatArray.java
core/src/main/java/org/elasticsearch/common/util/BigIntArray.java
core/src/main/java/org/elasticsearch/common/util/BigLongArray.java
core/src/main/java/org/elasticsearch/common/util/BloomFilter.java
core/src/main/java/org/elasticsearch/common/util/CollectionUtils.java
core/src/main/java/org/elasticsearch/common/util/LongObjectPagedHashMap.java
core/src/main/java/org/elasticsearch/common/util/concurrent/EsExecutors.java
core/src/main/java/org/elasticsearch/common/util/iterable/Iterables.java
core/src/main/java/org/elasticsearch/gateway/MetaDataStateFormat.java
core/src/main/java/org/elasticsearch/http/HttpServer.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/BinaryDVNumericIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/PackedArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/SortedNumericDVIndexFieldData.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/indices/flush/IndicesSyncedFlushResult.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/main/java/org/elasticsearch/repositories/RepositoriesService.java
core/src/main/java/org/elasticsearch/repositories/VerificationFailure.java
core/src/main/java/org/elasticsearch/repositories/VerifyNodeRepositoryAction.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
core/src/main/java/org/elasticsearch/repositories/blobstore/ChecksumBlobStoreFormat.java
core/src/main/java/org/elasticsearch/repositories/blobstore/LegacyBlobStoreFormat.java
core/src/main/java/org/elasticsearch/script/groovy/GroovyScriptCompilationException.java
core/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
core/src/main/java/org/elasticsearch/script/groovy/GroovyScriptExecutionException.java
core/src/main/java/org/elasticsearch/search/aggregations/BucketCollector.java
core/src/main/java/org/elasticsearch/search/aggregations/LeafBucketCollector.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/InternalTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/HyperLogLogPlusPlus.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/hdr/InternalHDRPercentileRanks.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/hdr/InternalHDRPercentiles.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/tdigest/InternalTDigestPercentileRanks.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/tdigest/InternalTDigestPercentiles.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/InternalPercentilesBucket.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/suggest/context/CategoryContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/context/ContextMapping.java
core/src/test/java/org/elasticsearch/NamingConventionTests.java
core/src/test/java/org/elasticsearch/action/termvectors/MultiTermVectorsIT.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/cluster/metadata/WildcardExpressionResolverTests.java
core/src/test/java/org/elasticsearch/common/util/ArrayUtilsTests.java
core/src/test/java/org/elasticsearch/common/util/CollectionUtilsTests.java
core/src/test/java/org/elasticsearch/common/util/iterable/IterablesTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeLookupTests.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerIT.java
core/src/test/java/org/elasticsearch/percolator/MultiPercolatorIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
core/src/test/java/org/elasticsearch/rest/BytesRestResponseTests.java
core/src/test/java/org/elasticsearch/routing/SimpleRoutingIT.java
core/src/test/java/org/elasticsearch/script/GroovyScriptIT.java
core/src/test/java/org/elasticsearch/script/GroovySecurityIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridIT.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/rest/client/http/HttpRequestBuilder.java
core/src/test/java/org/elasticsearch/test/rest/section/ApiCallSection.java
core/src/test/java/org/elasticsearch/threadpool/UpdateThreadPoolSettingsTests.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/AnalysisICURestIT.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/AnalysisKuromojiRestIT.java
plugins/analysis-phonetic/src/test/java/org/elasticsearch/index/analysis/AnalysisPhoneticRestIT.java
plugins/analysis-smartcn/src/test/java/org/elasticsearch/index/analysis/AnalysisSmartChineseRestIT.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/AnalysisPolishRestIT.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/CloudAzureRestIT.java
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeServiceImpl.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/CloudGCERestIT.java
plugins/delete-by-query/src/test/java/org/elasticsearch/plugin/deletebyquery/test/rest/DeleteByQueryRestIT.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/network/Ec2NameResolver.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/node/Ec2CustomNodeAttributes.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/plugin/discovery/ec2/Ec2DiscoveryPlugin.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/cloud/aws/DiscoveryEc2RestIT.java
plugins/discovery-multicast/src/test/java/org/elasticsearch/plugin/discovery/multicast/MulticastDiscoveryRestIT.java
plugins/jvm-example/src/test/java/org/elasticsearch/plugin/example/JvmExampleRestIT.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/LangJavaScriptRestIT.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/LangPythonScriptRestIT.java
plugins/mapper-murmur3/src/test/java/org/elasticsearch/index/mapper/murmur3/MapperMurmur3RestIT.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/MapperSizeRestIT.java
plugins/repository-s3/src/main/java/org/elasticsearch/plugin/repository/s3/S3RepositoryPlugin.java
plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/RepositoryS3RestIT.java
comments:
Merge branch 'master' into feature/query-refactoring

 Conflicts:
    core/src/main/java/org/elasticsearch/common/unit/Fuzziness.java
    core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
    core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
    core/src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionParser.java
    core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java

time:
2015-09-16T10:04:53Z
class:
comments:
Test: Move rest-api-spec for plugins into test resources

Plugin tests require having rest-api tests, and currently copy that spec
from a directory in the root of the plugin source into the test
resources. This change moves the rest-api-spec dir into test resources
so it is like any other test resources. It also removes unnecessary
configuration for resources from the shared plugin pom.

time:
2015-09-16T09:55:10Z
class:
comments:
Merge pull request #13124 from brwe/check-java-home

make sure JAVA_HOME is set before tests are run

time:
2015-09-16T09:54:08Z
class:
comments:
make sure JAVA_HOME is set before tests are run

relates to #12961

time:
2015-09-16T09:15:32Z
class:
core/src/main/java/org/elasticsearch/common/Numbers.java
core/src/main/java/org/elasticsearch/common/geo/GeoDistance.java
core/src/main/java/org/elasticsearch/common/geo/GeoPoint.java
core/src/main/java/org/elasticsearch/common/geo/GeoUtils.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/test/java/org/elasticsearch/common/geo/GeoDistanceTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/search/geo/GeoDistanceIT.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
core/src/test/java/org/elasticsearch/test/geo/RandomShapeGenerator.java
comments:
Refactors GeoDistanceQueryBuilder/-Parser

Splits parsing and Lucene query generation. Switches from storing lat/lon
separately to using GeoPoint instead.

Relates to #10217

time:
2015-09-16T09:03:34Z
class:
core/src/main/java/org/elasticsearch/index/query/BoostingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NotQueryParser.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryParser.java
comments:
Removes unused empty parser's constructors

time:
2015-09-16T08:59:36Z
class:
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
comments:
Fix test case to verify the AssertionError did in fact come from IndexWriter.filesExist

time:
2015-09-16T08:51:06Z
class:
core/src/main/java/org/elasticsearch/common/util/iterable/Iterables.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeLookupTests.java
comments:
Remove unused import in o.e.c.u.i.Iterables

time:
2015-09-16T08:49:11Z
class:
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
comments:
Merge pull request #13609 from mikemccand/iw_fne_init

Fix InternalEngineTests.testTranslogReplayWithFailure to expect AssertionError as well

time:
2015-09-16T08:31:27Z
class:
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
comments:
fix test to expect AssertionError as well

time:
2015-09-16T08:08:31Z
class:
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeServiceImpl.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/plugin/discovery/ec2/Ec2DiscoveryPlugin.java
plugins/repository-s3/src/main/java/org/elasticsearch/plugin/repository/s3/S3RepositoryPlugin.java
comments:
Remove java.lang.reflect.ReflectPermission "suppressAccessChecks"

Closes #13603

Squashed commit of the following:

commit 8799fb42d80297a79285beaf407b1bbecdb5854d
Author: Robert Muir <rmuir@apache.org>
Date:   Wed Sep 16 03:32:29 2015 -0400

    Add randomizedtesting snapshot note

commit 0d874d9f0f5fddaeab8f48f9816a052dcaa691be
Author: Robert Muir <rmuir@apache.org>
Date:   Wed Sep 16 03:11:01 2015 -0400

    Add a mechanism for insecure plugins and get all tests passing

commit 80540aeb9a264f6f299aaa3bc89df7f9b7923a60
Author: Robert Muir <rmuir@apache.org>
Date:   Tue Sep 15 22:59:29 2015 -0400

    Really remove, we are killing this

commit 884818c1ad44ca2e7572a6998c086580be919657
Author: Robert Muir <rmuir@apache.org>
Date:   Tue Sep 15 22:57:22 2015 -0400

    fill in TODOs

commit 34f4cb81f249edfec4d8d211da892f8c987e5948
Author: Robert Muir <rmuir@apache.org>
Date:   Tue Sep 15 22:31:43 2015 -0400

    Publish snapshots of RR and lucene and cutover

commit d68eb9d66ce059761805c64d67e41a29098c9afa
Merge: f27e208 f62da59
Author: Robert Muir <rmuir@apache.org>
Date:   Tue Sep 15 12:32:41 2015 -0400

    Merge branch 'master' into kill-setaccessible

commit f27e20855216dab6a6ad035d41018d8c67f3144c
Author: Robert Muir <rmuir@apache.org>
Date:   Tue Sep 15 12:32:21 2015 -0400

    make a real lucene snapshot

time:
2015-09-16T07:21:13Z
class:
core/src/test/java/org/elasticsearch/script/GroovyScriptIT.java
comments:
[TEST] Only assert on a generic AssertionError

The specific error might be lost on the transport layer and turned into a generic
AssertionError instead.

Closes #13599

time:
2015-09-16T02:54:29Z
class:
core/src/test/java/org/elasticsearch/script/GroovyScriptIT.java
comments:
Test: await fix on GroovyScriptIT.testGroovyExceptionSerialization

time:
2015-09-16T00:09:38Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/index/VersionType.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/test/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilderTests.java
core/src/test/java/org/elasticsearch/search/morelikethis/ItemSerializationTests.java
core/src/test/java/org/elasticsearch/search/morelikethis/MoreLikeThisIT.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
comments:
Refactors MoreLikeThisQueryBuilder and Parser

Relates to #10217

This PR is against the query-refactoring branch.

Closes #13486

time:
2015-09-15T23:34:48Z
class:
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
comments:
Tests: Make sure that the cluster state came from the same master before checking for discrepancies

If nodes don't agree on the master, the cluster state doesn't have to match even if they have the same version

time:
2015-09-15T22:26:18Z
class:
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
comments:
Also adds tests for date fields for match query builder

PR is against the query refactoring branch.

Closes #13585

time:
2015-09-15T21:55:12Z
class:
comments:
[test] Fix centos-6 tests

Right now we execute some debian-isms in the init.d tests. This switches to
trying both the debian and centos ways to stop services from starting
automatically.

time:
2015-09-15T21:20:54Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/action/percolate/TransportMultiPercolateAction.java
core/src/main/java/org/elasticsearch/action/percolate/TransportShardMultiPercolateAction.java
core/src/main/java/org/elasticsearch/action/search/SearchPhaseExecutionException.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsResponse.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportMultiTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/repositories/VerificationFailure.java
core/src/main/java/org/elasticsearch/repositories/VerifyNodeRepositoryAction.java
core/src/main/java/org/elasticsearch/script/groovy/GroovyScriptCompilationException.java
core/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
core/src/main/java/org/elasticsearch/script/groovy/GroovyScriptExecutionException.java
core/src/test/java/org/elasticsearch/action/termvectors/MultiTermVectorsIT.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
core/src/test/java/org/elasticsearch/percolator/MultiPercolatorIT.java
core/src/test/java/org/elasticsearch/rest/BytesRestResponseTests.java
core/src/test/java/org/elasticsearch/routing/SimpleRoutingIT.java
core/src/test/java/org/elasticsearch/script/GroovySecurityIT.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/network/Ec2NameResolver.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/node/Ec2CustomNodeAttributes.java
comments:
Prevent losing stacktraces when exceptions occur

This commit removes unnecesssary use of ExceptionHelpers where we actually
should serialize / deserialize the actual exception. This commit also
fixes one of the oddest problems where the actual exception was never
rendered / printed if `all shards failed` due to a missing cause.

This commit unfortunately doesn't fix Snapshot/Restore which is almost
unfixable since it has to serialize XContent and read from it which can't
transport exceptions.

time:
2015-09-15T17:54:33Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/test/java/org/elasticsearch/cluster/metadata/WildcardExpressionResolverTests.java
comments:
IndexNameExpressionResolver should not ignore any wildcards that occur
elsewhere in the expression,

closes #13334

time:
2015-09-15T17:35:10Z
class:
core/src/main/java/org/apache/lucene/util/XGeoUtils.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridIT.java
comments:
Relax geopoint comparison tolerance

Weighted centroid, morton hash, and geohash can be imprecise (computation error) to 1e-5. The previous compareTo set this tolerance too strict (1e-6) causing a reproducible comparison error on weighted centroid (#13558). This change relaxes the tolerance to the acceptable computation error of 1e-5

closes #13558

time:
2015-09-15T15:34:35Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
comments:
Merge pull request #13563 from mikemccand/remove_index_buffer_size

Remove index.buffer_size setting

time:
2015-09-15T15:34:49Z
class:
core/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/get/BaseAliasesRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/get/GetSettingsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/master/info/ClusterInfoRequestBuilder.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsFilter.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasOrIndex.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/cli/CliTool.java
core/src/main/java/org/elasticsearch/common/cli/CliToolConfig.java
core/src/main/java/org/elasticsearch/common/collect/CopyOnWriteHashMap.java
core/src/main/java/org/elasticsearch/common/collect/ImmutableOpenIntMap.java
core/src/main/java/org/elasticsearch/common/collect/ImmutableOpenMap.java
core/src/main/java/org/elasticsearch/common/inject/AbstractModule.java
core/src/main/java/org/elasticsearch/common/inject/ConfigurationException.java
core/src/main/java/org/elasticsearch/common/inject/ConstructorBindingImpl.java
core/src/main/java/org/elasticsearch/common/inject/CreationException.java
core/src/main/java/org/elasticsearch/common/inject/EncounterImpl.java
core/src/main/java/org/elasticsearch/common/inject/InjectorBuilder.java
core/src/main/java/org/elasticsearch/common/inject/InjectorShell.java
core/src/main/java/org/elasticsearch/common/inject/Key.java
core/src/main/java/org/elasticsearch/common/inject/PrivateModule.java
core/src/main/java/org/elasticsearch/common/inject/ProvisionException.java
core/src/main/java/org/elasticsearch/common/inject/TypeLiteral.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider2.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/Parameter.java
core/src/main/java/org/elasticsearch/common/inject/internal/MoreTypes.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/SourceProvider.java
core/src/main/java/org/elasticsearch/common/inject/matcher/Matchers.java
core/src/main/java/org/elasticsearch/common/inject/spi/Elements.java
core/src/main/java/org/elasticsearch/common/inject/spi/MembersInjectorLookup.java
core/src/main/java/org/elasticsearch/common/inject/spi/ProviderLookup.java
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
core/src/main/java/org/elasticsearch/common/lucene/ShardCoreKeyMap.java
core/src/main/java/org/elasticsearch/common/unit/Fuzziness.java
core/src/main/java/org/elasticsearch/common/unit/SizeValue.java
core/src/main/java/org/elasticsearch/common/util/AbstractBigArray.java
core/src/main/java/org/elasticsearch/common/util/AbstractPagedHashMap.java
core/src/main/java/org/elasticsearch/common/util/ArrayUtils.java
core/src/main/java/org/elasticsearch/common/util/BigArrays.java
core/src/main/java/org/elasticsearch/common/util/BigByteArray.java
core/src/main/java/org/elasticsearch/common/util/BigDoubleArray.java
core/src/main/java/org/elasticsearch/common/util/BigFloatArray.java
core/src/main/java/org/elasticsearch/common/util/BigIntArray.java
core/src/main/java/org/elasticsearch/common/util/BigLongArray.java
core/src/main/java/org/elasticsearch/common/util/BloomFilter.java
core/src/main/java/org/elasticsearch/common/util/CollectionUtils.java
core/src/main/java/org/elasticsearch/common/util/LongObjectPagedHashMap.java
core/src/main/java/org/elasticsearch/common/util/concurrent/EsExecutors.java
core/src/main/java/org/elasticsearch/common/util/iterable/Iterables.java
core/src/main/java/org/elasticsearch/gateway/MetaDataStateFormat.java
core/src/main/java/org/elasticsearch/http/HttpServer.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/BinaryDVNumericIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/PackedArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/SortedNumericDVIndexFieldData.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/indices/flush/IndicesSyncedFlushResult.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/main/java/org/elasticsearch/repositories/RepositoriesService.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
core/src/main/java/org/elasticsearch/repositories/blobstore/ChecksumBlobStoreFormat.java
core/src/main/java/org/elasticsearch/repositories/blobstore/LegacyBlobStoreFormat.java
core/src/main/java/org/elasticsearch/search/aggregations/BucketCollector.java
core/src/main/java/org/elasticsearch/search/aggregations/LeafBucketCollector.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/InternalTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/HyperLogLogPlusPlus.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/hdr/InternalHDRPercentileRanks.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/hdr/InternalHDRPercentiles.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/tdigest/InternalTDigestPercentileRanks.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/tdigest/InternalTDigestPercentiles.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/InternalPercentilesBucket.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/suggest/context/CategoryContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/context/ContextMapping.java
core/src/test/java/org/elasticsearch/NamingConventionTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/common/util/ArrayUtilsTests.java
core/src/test/java/org/elasticsearch/common/util/CollectionUtilsTests.java
core/src/test/java/org/elasticsearch/common/util/iterable/IterablesTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/rest/client/http/HttpRequestBuilder.java
core/src/test/java/org/elasticsearch/test/rest/section/ApiCallSection.java
core/src/test/java/org/elasticsearch/threadpool/UpdateThreadPoolSettingsTests.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/AnalysisICURestIT.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/AnalysisKuromojiRestIT.java
plugins/analysis-phonetic/src/test/java/org/elasticsearch/index/analysis/AnalysisPhoneticRestIT.java
plugins/analysis-smartcn/src/test/java/org/elasticsearch/index/analysis/AnalysisSmartChineseRestIT.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/AnalysisPolishRestIT.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/CloudAzureRestIT.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/CloudGCERestIT.java
plugins/delete-by-query/src/test/java/org/elasticsearch/plugin/deletebyquery/test/rest/DeleteByQueryRestIT.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/cloud/aws/DiscoveryEc2RestIT.java
plugins/discovery-multicast/src/test/java/org/elasticsearch/plugin/discovery/multicast/MulticastDiscoveryRestIT.java
plugins/jvm-example/src/test/java/org/elasticsearch/plugin/example/JvmExampleRestIT.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/LangJavaScriptRestIT.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/LangPythonScriptRestIT.java
plugins/mapper-murmur3/src/test/java/org/elasticsearch/index/mapper/murmur3/MapperMurmur3RestIT.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/MapperSizeRestIT.java
plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/RepositoryS3RestIT.java
comments:
Merge branch 'master' into remove_index_buffer_size

Conflicts:
	core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java

time:
2015-09-15T15:15:36Z
class:
comments:
Add missing forbidden entries for removed Guava classes

time:
2015-09-15T15:09:35Z
class:
comments:
Release script: Major Improvements

In order to be able to clean up broken steps in the release, one should
be able to run each step individually. So now one needs to specifiy each
step to run via cmdline argument

* --deploy-sonatype: runs `mvn deploy` and pushes to the staging mvn repo
* --deploy-s3: copies all artifacts over to the s3bucket
* --deploy-s3-repos: Creates the s3 repositories
* --no-install option, so that an existing mvn repo can be used for s3 operations

Also, several minor changes have been added

* Fixed typo in smoke test reference for email
* Checking for correct AWS environment variables
* Only create releases directory if it does not exist
* RPM sign check is only executed after `mvn install`
* Various path fixes for deb/rpm-s3 uploads
* Added output of deb/rpm-s3 commands for easier debugging
* Add configurable destination s3 bucket
* Removed verbosity, always be verbose
* Added color to the command which is being running right now, to differentiate from console output

time:
2015-09-15T15:04:42Z
class:
comments:
Plugins: Remove java opts/es java opts from plugin manager

... and run as client VM.

Reasoning: When calling the plugin manager on java 7 with additional JAVA_OPTS
that change heap configuration compared to what is set at the plugin
manager shell script. This resulted in errors.

This commit removes the JAVA_OPTS and ES_JAVA_OPTS from the plugin
manager call to prevent those settings.

Closes #12479

time:
2015-09-15T14:48:01Z
class:
core/src/test/java/org/elasticsearch/threadpool/UpdateThreadPoolSettingsTests.java
comments:
Remove unused import in o.e.t.UpdateThreadPoolSettingsTests

time:
2015-09-15T14:46:59Z
class:
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsFilter.java
comments:
Remove unused import in o.e.a.t.TermVectorsFilter

time:
2015-09-15T14:42:11Z
class:
comments:
Remove file that was inadvertently committed

time:
2015-09-15T14:39:10Z
class:
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerIT.java
comments:
Merge pull request #13548 from mikemccand/indexing_memory_controller

Improve IndexingMemoryController a bit:      - promptly push indexing buffer changes to IndexWriter, instead of waiting for next refresh/flush      - don't wait for merges to finish before dropping a shards's indexing buffer to 512 KB once it's inactive      - fix NPE if indices.memory.index_buffer_size is in node's settings with a bytes (not %) unit      - add some more logger.debug

time:
2015-09-15T14:37:57Z
class:
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
comments:
Remove unused import in o.e.t.ESIntegTestCase

time:
2015-09-15T14:30:56Z
class:
core/src/main/java/org/elasticsearch/common/util/concurrent/EsExecutors.java
core/src/main/java/org/elasticsearch/repositories/RepositoriesService.java
core/src/main/java/org/elasticsearch/search/suggest/context/CategoryContextMapping.java
core/src/test/java/org/elasticsearch/NamingConventionTests.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/rest/client/http/HttpRequestBuilder.java
core/src/test/java/org/elasticsearch/test/rest/section/ApiCallSection.java
comments:
Merge pull request #13572 from jasontedor/joiner-be-gone

Remove and forbid use of com.google.common.base.Joiner

time:
2015-09-15T14:30:42Z
class:
core/src/main/java/org/elasticsearch/common/util/concurrent/EsExecutors.java
core/src/main/java/org/elasticsearch/repositories/RepositoriesService.java
core/src/main/java/org/elasticsearch/search/suggest/context/CategoryContextMapping.java
core/src/test/java/org/elasticsearch/NamingConventionTests.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/rest/client/http/HttpRequestBuilder.java
core/src/test/java/org/elasticsearch/test/rest/section/ApiCallSection.java
comments:
Remove and forbid use of com.google.common.base.Joiner

This commit removes and now forbids all uses of
com.google.common.base.Joiner across the codebase. This is one of many
steps in the eventual removal of Guava as a dependency.

Relates #13224
@jasontedor  this looks accidental?

Yes. Thanks for catching. It's been removed in b912ad7d56bec476aaa90781e1e671381ef77820.


time:
2015-09-15T14:28:48Z
class:
core/src/main/java/org/elasticsearch/common/util/BloomFilter.java
comments:
Merge pull request #13575 from jasontedor/long-math-be-gone

Remove and forbid use of com.google.common.math.LongMath

time:
2015-09-15T14:28:02Z
class:
core/src/main/java/org/elasticsearch/common/util/BloomFilter.java
comments:
Remove and forbid use of com.google.common.math.LongMath

This commit removes and now forbids all uses of
com.google.common.math.LongMath across the codebase. This is one step
of many in the eventual removal of Guava as a dependency.

time:
2015-09-15T13:25:56Z
class:
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageServiceImpl.java
comments:
Enable SSL for blob storage

In order to increase Security.The Microsoft Azure storage services support both HTTP and HTTPS; however, using HTTPS is highly recommended.

time:
2015-09-15T12:44:41Z
class:
core/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/get/BaseAliasesRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/get/GetSettingsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/master/info/ClusterInfoRequestBuilder.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsFilter.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasOrIndex.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/common/cli/CliToolConfig.java
core/src/main/java/org/elasticsearch/common/collect/CopyOnWriteHashMap.java
core/src/main/java/org/elasticsearch/common/collect/ImmutableOpenIntMap.java
core/src/main/java/org/elasticsearch/common/collect/ImmutableOpenMap.java
core/src/main/java/org/elasticsearch/common/lucene/ShardCoreKeyMap.java
core/src/main/java/org/elasticsearch/common/util/ArrayUtils.java
core/src/main/java/org/elasticsearch/common/util/LongObjectPagedHashMap.java
core/src/main/java/org/elasticsearch/http/HttpServer.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionParser.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
core/src/main/java/org/elasticsearch/repositories/blobstore/ChecksumBlobStoreFormat.java
core/src/main/java/org/elasticsearch/repositories/blobstore/LegacyBlobStoreFormat.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/InternalTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/hdr/InternalHDRPercentileRanks.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/hdr/InternalHDRPercentiles.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/tdigest/InternalTDigestPercentileRanks.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/tdigest/InternalTDigestPercentiles.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/InternalPercentilesBucket.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/test/java/org/elasticsearch/common/util/ArrayUtilsTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
comments:
Replace and ban next batch of Guava classes

This commit replaces and bans:
 * com.google.common.util.concurrent.UncheckedExecutionException
 * com.google.common.util.concurrent.AtomicLongMap
 * com.google.common.primitives.Longs
 * com.google.common.io.ByteStreams
 * com.google.common.collect.UnmodifiableIterator
 * com.google.common.collect.ObjectArrays
 * com.google.common.collect.Multimap
 * com.google.common.collect.MultimapBuilder

Relates to #13224

time:
2015-09-15T11:49:50Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/inject/InjectorBuilder.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider2.java
core/src/main/java/org/elasticsearch/common/inject/internal/SourceProvider.java
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
core/src/main/java/org/elasticsearch/common/util/CollectionUtils.java
core/src/main/java/org/elasticsearch/common/util/iterable/Iterables.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/indices/flush/IndicesSyncedFlushResult.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/main/java/org/elasticsearch/search/aggregations/BucketCollector.java
core/src/main/java/org/elasticsearch/search/aggregations/LeafBucketCollector.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/suggest/context/CategoryContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/context/ContextMapping.java
core/src/test/java/org/elasticsearch/common/util/CollectionUtilsTests.java
core/src/test/java/org/elasticsearch/common/util/iterable/IterablesTests.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
comments:
Merge pull request #13559 from jasontedor/iterables-be-gone

Remove and forbid use of com.google.common.collect.Iterables

time:
2015-09-15T11:47:36Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/inject/InjectorBuilder.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider2.java
core/src/main/java/org/elasticsearch/common/inject/internal/SourceProvider.java
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
core/src/main/java/org/elasticsearch/common/util/CollectionUtils.java
core/src/main/java/org/elasticsearch/common/util/iterable/Iterables.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/indices/flush/IndicesSyncedFlushResult.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/main/java/org/elasticsearch/search/aggregations/BucketCollector.java
core/src/main/java/org/elasticsearch/search/aggregations/LeafBucketCollector.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/suggest/context/CategoryContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/context/ContextMapping.java
core/src/test/java/org/elasticsearch/common/util/CollectionUtilsTests.java
core/src/test/java/org/elasticsearch/common/util/iterable/IterablesTests.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
comments:
Remove and forbid use of com.google.common.collect.Iterables

This commit removes and now forbids all uses of
com.google.common.collect.Iterables across the codebase. This is one of
many steps in the eventual removal of Guava as a dependency.

Relates #13224

time:
2015-09-15T11:42:31Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/common/cli/CliTool.java
core/src/main/java/org/elasticsearch/common/collect/CopyOnWriteHashMap.java
core/src/main/java/org/elasticsearch/common/inject/AbstractModule.java
core/src/main/java/org/elasticsearch/common/inject/ConfigurationException.java
core/src/main/java/org/elasticsearch/common/inject/ConstructorBindingImpl.java
core/src/main/java/org/elasticsearch/common/inject/CreationException.java
core/src/main/java/org/elasticsearch/common/inject/EncounterImpl.java
core/src/main/java/org/elasticsearch/common/inject/InjectorShell.java
core/src/main/java/org/elasticsearch/common/inject/Key.java
core/src/main/java/org/elasticsearch/common/inject/PrivateModule.java
core/src/main/java/org/elasticsearch/common/inject/ProvisionException.java
core/src/main/java/org/elasticsearch/common/inject/TypeLiteral.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider2.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/Parameter.java
core/src/main/java/org/elasticsearch/common/inject/internal/MoreTypes.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/common/inject/matcher/Matchers.java
core/src/main/java/org/elasticsearch/common/inject/spi/Elements.java
core/src/main/java/org/elasticsearch/common/inject/spi/MembersInjectorLookup.java
core/src/main/java/org/elasticsearch/common/inject/spi/ProviderLookup.java
core/src/main/java/org/elasticsearch/common/unit/Fuzziness.java
core/src/main/java/org/elasticsearch/common/unit/SizeValue.java
core/src/main/java/org/elasticsearch/common/util/AbstractBigArray.java
core/src/main/java/org/elasticsearch/common/util/AbstractPagedHashMap.java
core/src/main/java/org/elasticsearch/common/util/BigArrays.java
core/src/main/java/org/elasticsearch/common/util/BigByteArray.java
core/src/main/java/org/elasticsearch/common/util/BigDoubleArray.java
core/src/main/java/org/elasticsearch/common/util/BigFloatArray.java
core/src/main/java/org/elasticsearch/common/util/BigIntArray.java
core/src/main/java/org/elasticsearch/common/util/BigLongArray.java
core/src/main/java/org/elasticsearch/common/util/CollectionUtils.java
core/src/main/java/org/elasticsearch/gateway/MetaDataStateFormat.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/BinaryDVNumericIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/PackedArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/SortedNumericDVIndexFieldData.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/HyperLogLogPlusPlus.java
comments:
Merge pull request #13540 from jasontedor/preconditions-be-gone

Remove and forbid use of com.google.common.base.Preconditions

time:
2015-09-15T11:23:35Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/common/Preconditions.java
core/src/main/java/org/elasticsearch/common/cli/CliTool.java
core/src/main/java/org/elasticsearch/common/collect/CopyOnWriteHashMap.java
core/src/main/java/org/elasticsearch/common/inject/CreationException.java
core/src/main/java/org/elasticsearch/common/inject/Key.java
core/src/main/java/org/elasticsearch/common/inject/ProvisionException.java
core/src/main/java/org/elasticsearch/common/inject/TypeLiteral.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/Parameter.java
core/src/main/java/org/elasticsearch/common/inject/internal/MoreTypes.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/common/inject/matcher/Matchers.java
core/src/main/java/org/elasticsearch/common/inject/spi/Elements.java
core/src/main/java/org/elasticsearch/common/unit/Fuzziness.java
core/src/main/java/org/elasticsearch/common/unit/SizeValue.java
core/src/main/java/org/elasticsearch/common/util/AbstractBigArray.java
core/src/main/java/org/elasticsearch/common/util/AbstractPagedHashMap.java
core/src/main/java/org/elasticsearch/common/util/BigArrays.java
core/src/main/java/org/elasticsearch/common/util/BigByteArray.java
core/src/main/java/org/elasticsearch/common/util/BigDoubleArray.java
core/src/main/java/org/elasticsearch/common/util/BigFloatArray.java
core/src/main/java/org/elasticsearch/common/util/BigIntArray.java
core/src/main/java/org/elasticsearch/common/util/BigLongArray.java
core/src/main/java/org/elasticsearch/common/util/CollectionUtils.java
core/src/main/java/org/elasticsearch/gateway/MetaDataStateFormat.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/BinaryDVNumericIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/PackedArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/SortedNumericDVIndexFieldData.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/HyperLogLogPlusPlus.java
comments:
Completely remove Preconditions.checkArgument

time:
2015-09-15T11:23:34Z
class:
core/src/main/java/org/elasticsearch/common/Preconditions.java
core/src/main/java/org/elasticsearch/common/inject/AbstractModule.java
core/src/main/java/org/elasticsearch/common/inject/ConfigurationException.java
core/src/main/java/org/elasticsearch/common/inject/ConstructorBindingImpl.java
core/src/main/java/org/elasticsearch/common/inject/EncounterImpl.java
core/src/main/java/org/elasticsearch/common/inject/InjectorShell.java
core/src/main/java/org/elasticsearch/common/inject/PrivateModule.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider2.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/common/inject/spi/MembersInjectorLookup.java
core/src/main/java/org/elasticsearch/common/inject/spi/ProviderLookup.java
comments:
Completely remove Preconditions.checkState

time:
2015-09-15T11:23:34Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/common/Preconditions.java
core/src/main/java/org/elasticsearch/common/cli/CliTool.java
core/src/main/java/org/elasticsearch/common/collect/CopyOnWriteHashMap.java
core/src/main/java/org/elasticsearch/common/inject/AbstractModule.java
core/src/main/java/org/elasticsearch/common/inject/ConfigurationException.java
core/src/main/java/org/elasticsearch/common/inject/ConstructorBindingImpl.java
core/src/main/java/org/elasticsearch/common/inject/CreationException.java
core/src/main/java/org/elasticsearch/common/inject/EncounterImpl.java
core/src/main/java/org/elasticsearch/common/inject/InjectorShell.java
core/src/main/java/org/elasticsearch/common/inject/Key.java
core/src/main/java/org/elasticsearch/common/inject/PrivateModule.java
core/src/main/java/org/elasticsearch/common/inject/ProvisionException.java
core/src/main/java/org/elasticsearch/common/inject/TypeLiteral.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider2.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/Parameter.java
core/src/main/java/org/elasticsearch/common/inject/internal/MoreTypes.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/common/inject/matcher/Matchers.java
core/src/main/java/org/elasticsearch/common/inject/spi/Elements.java
core/src/main/java/org/elasticsearch/common/inject/spi/MembersInjectorLookup.java
core/src/main/java/org/elasticsearch/common/inject/spi/ProviderLookup.java
core/src/main/java/org/elasticsearch/common/unit/Fuzziness.java
core/src/main/java/org/elasticsearch/common/unit/SizeValue.java
core/src/main/java/org/elasticsearch/common/util/AbstractBigArray.java
core/src/main/java/org/elasticsearch/common/util/AbstractPagedHashMap.java
core/src/main/java/org/elasticsearch/common/util/BigArrays.java
core/src/main/java/org/elasticsearch/common/util/BigByteArray.java
core/src/main/java/org/elasticsearch/common/util/BigDoubleArray.java
core/src/main/java/org/elasticsearch/common/util/BigFloatArray.java
core/src/main/java/org/elasticsearch/common/util/BigIntArray.java
core/src/main/java/org/elasticsearch/common/util/BigLongArray.java
core/src/main/java/org/elasticsearch/common/util/CollectionUtils.java
core/src/main/java/org/elasticsearch/gateway/MetaDataStateFormat.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/BinaryDVNumericIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/PackedArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/SortedNumericDVIndexFieldData.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/HyperLogLogPlusPlus.java
comments:
Remove and forbid use of com.google.common.base.Preconditions

This commit removes and now forbids all uses of
com.google.common.base.Preconditions across the codebase. This is one
of many steps in the eventual removal of Guava as a dependency.

Relates #13224

time:
2015-09-15T09:47:42Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/common/inject/internal/FailableCache.java
core/src/main/java/org/elasticsearch/indices/analysis/HunspellService.java
core/src/main/java/org/elasticsearch/plugins/PluginInfo.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridIT.java
core/src/test/java/org/elasticsearch/test/ESSingleNodeTestCase.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-09-15T08:10:05Z
class:
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/AnalysisICURestIT.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/AnalysisKuromojiRestIT.java
plugins/analysis-phonetic/src/test/java/org/elasticsearch/index/analysis/AnalysisPhoneticRestIT.java
plugins/analysis-smartcn/src/test/java/org/elasticsearch/index/analysis/AnalysisSmartChineseRestIT.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/AnalysisPolishRestIT.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/CloudAzureRestIT.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/CloudGCERestIT.java
plugins/delete-by-query/src/test/java/org/elasticsearch/plugin/deletebyquery/test/rest/DeleteByQueryRestIT.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/cloud/aws/DiscoveryEc2RestIT.java
plugins/discovery-multicast/src/test/java/org/elasticsearch/plugin/discovery/multicast/MulticastDiscoveryRestIT.java
plugins/jvm-example/src/test/java/org/elasticsearch/plugin/example/JvmExampleRestIT.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/LangJavaScriptRestIT.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/LangPythonScriptRestIT.java
plugins/mapper-murmur3/src/test/java/org/elasticsearch/index/mapper/murmur3/MapperMurmur3RestIT.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/MapperSizeRestIT.java
plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/RepositoryS3RestIT.java
comments:
[test] plugins simple RestIT tests don't work from IDE

When running a RestIT test from the IDE, you actually start an internal node which does not automatically load the plugin you would like to test.

We need to add:

```java
    @Override
    protected Collection<Class<? extends Plugin>> nodePlugins() {
        return pluginList(PLUGIN_HERE.class);
    }
```

Everything works fine when running from maven because each test basically:

* installs elasticsearch
* installs one plugin
* starts elasticsearch with this plugin loaded
* runs the test

Note that this PR only fixes the fact we run an internal cluster with the expected plugin.

Cloud tests will still fail when run from the IDE because is such a case you actually start an internal node with many mock plugins.
And REST test suite for cloud plugins basically checks if the plugin is running by checking the output of NodesInfo API.

And we check:

```yml
- match:  { nodes.$master.plugins.0.name: cloud-azure  }
- match:  { nodes.$master.plugins.0.jvm: true  }
```

But in that case, this condition is certainly false as we started also `mock-transport-service`, `mock-index-store`, `mock-engine-factory`, `node-mocks`, `asserting-local-transport`, `mock-search-service`.

Closes #13479

time:
2015-09-15T03:10:13Z
class:
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
comments:
[TEST] Use greaterThanOrEqualTo for testClusterInfoServiceCollectsInformation

time:
2015-09-14T20:52:32Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
comments:
remove index.buffer_size setting

time:
2015-09-14T20:41:37Z
class:
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
comments:
Tests: re-enable SearchQueryIT#testIndicesQuerySkipParsing and fixing exception message

time:
2015-09-14T19:36:20Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginInfo.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
comments:
Merge branch 'Output plugin info only in verbose mode'

https://github.com/elastic/elasticsearch/pull/12908

Moved output to verbose level and additionally changed the plugin info output format

Before:

```shell
PluginInfo{name='cloud-aws', description='The Amazon Web Service (AWS) Cloud plugin allows to use AWS API for the unicast discovery mechanism and add S3 repositories.', site=false, jvm=true, classname=org.elasticsearch.plugin.cloud.aws.CloudAwsPlugin, isolated=true, version='2.1.0-SNAPSHOT'}
```

After:

```shell
- Plugin information:
Name: cloud-aws
Description: The Amazon Web Service (AWS) Cloud plugin allows to use AWS API for the unicast discovery mechanism and add S3 repositories.
Site: false
Version: 2.1.0-SNAPSHOT
JVM: true
* Classname: org.elasticsearch.plugin.cloud.aws.CloudAwsPlugin
* Isolated: true
```

Fixes #12907

time:
2015-09-14T16:56:40Z
class:
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
comments:
[test] wait until master actually has applied cluster state that contains second node

If we don't wait we might retrieve the cluster state before second node
was added when we try to add the delegate in which the discovery node for
node_2 is null.

time:
2015-09-14T15:32:33Z
class:
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
comments:
[test] PluginManager plugin info printing

Also removes @Test in keeping with Elasticsearch's slow migration away from
the annotation in favor of test methods named testSomeThing.

time:
2015-09-14T15:09:25Z
class:
core/src/test/java/org/elasticsearch/test/ESSingleNodeTestCase.java
comments:
Merge pull request #13481 from brwe/single-node-blocks

[test] make sure ESSingleNodeTestCase waits after starting node until…

time:
2015-09-14T15:06:34Z
class:
core/src/test/java/org/elasticsearch/test/ESSingleNodeTestCase.java
comments:
[test] make sure ESSingleNodeTestCase waits after starting node until all blocks removed

When a single node starts up it will first elect itself as master and then tries to
recover the cluster state or, if there is none,  initialize an empty one and publish it.
Until it has done that, the cluster state will contain a global block and
requests might fail with
SERVICE_UNAVAILABLE/1/state not recovered / initialized
We need to wait for green.

time:
2015-09-14T14:40:36Z
class:
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridIT.java
comments:
[TEST] Add AwaitsFix for https://github.com/elastic/elasticsearch/issues/13558

time:
2015-09-14T14:09:15Z
class:
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
comments:
[test] test that shards are deleted if the first attempt after relocation failed and index deleted next

time:
2015-09-14T13:03:30Z
class:
comments:
Release script: Improve automation for package repositories

* Automatic package repository creation for debian and rpm repositories using deb-s3 and rpm-s3 tools
* Fixing paths in email for repositories
* Add manual verification step for maven staging repo
* Do not create release directory in /tmp, because we might loose it on VMs
* Removed unused download-s3 script
* Add signage check for RPM
* Removed download-s3.py/upload-s3.py, as they are unused

Closes #13209

time:
2015-09-14T12:41:31Z
class:
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerIT.java
comments:
logger.trace not logger.debug; fix test to verify bytes-sized index buffer size in node settings on node init took

time:
2015-09-14T12:31:01Z
class:
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/apache/lucene/util/XGeoHashUtils.java
core/src/main/java/org/apache/lucene/util/XGeoProjectionUtils.java
core/src/main/java/org/apache/lucene/util/XGeoUtils.java
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/action/ActionRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/TransportLivenessAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/DeleteRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/TransportDeleteRepositoryAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/TransportGetRepositoriesAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/TransportPutRepositoryAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/TransportVerifyRepositoryAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/TransportRestoreSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/tasks/TransportPendingClusterTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/TransportIndicesAliasesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/exists/TransportAliasesExistAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/close/CloseIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/TransportCreateIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/indices/TransportIndicesExistsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/types/TypesExistsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/FlushRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/TransportGetIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetMappingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/open/OpenIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/open/TransportOpenIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/get/TransportGetSettingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/put/TransportUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/put/UpdateSettingsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoresRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/TransportIndicesShardStoresAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/delete/TransportDeleteIndexTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/get/TransportGetIndexTemplatesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/put/TransportPutIndexTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/TransportUpgradeStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/ShardUpgradeRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeSettingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/template/TransportRenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/TransportGetWarmersAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java
core/src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/exists/ExistsRequest.java
core/src/main/java/org/elasticsearch/action/exists/ShardExistsRequest.java
core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
core/src/main/java/org/elasticsearch/action/explain/ExplainRequest.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/action/get/GetRequest.java
core/src/main/java/org/elasticsearch/action/get/MultiGetShardRequest.java
core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java
core/src/main/java/org/elasticsearch/action/get/TransportMultiGetAction.java
core/src/main/java/org/elasticsearch/action/get/TransportShardMultiGetAction.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/delete/TransportDeleteIndexedScriptAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/get/TransportGetIndexedScriptAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptRequest.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/TransportPutIndexedScriptAction.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateShardRequest.java
core/src/main/java/org/elasticsearch/action/percolate/TransportMultiPercolateAction.java
core/src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
core/src/main/java/org/elasticsearch/action/percolate/TransportShardMultiPercolateAction.java
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/search/TransportClearScrollAction.java
core/src/main/java/org/elasticsearch/action/search/TransportMultiSearchAction.java
core/src/main/java/org/elasticsearch/action/search/TransportSearchAction.java
core/src/main/java/org/elasticsearch/action/search/TransportSearchScrollAction.java
core/src/main/java/org/elasticsearch/action/suggest/ShardSuggestRequest.java
core/src/main/java/org/elasticsearch/action/suggest/SuggestRequest.java
core/src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
core/src/main/java/org/elasticsearch/action/support/HandledTransportAction.java
core/src/main/java/org/elasticsearch/action/support/IndicesOptions.java
core/src/main/java/org/elasticsearch/action/support/broadcast/BroadcastShardRequest.java
core/src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastAction.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeAction.java
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeReadAction.java
core/src/main/java/org/elasticsearch/action/support/master/info/TransportClusterInfoAction.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodeRequest.java
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportBroadcastReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationAction.java
core/src/main/java/org/elasticsearch/action/support/single/shard/SingleShardRequest.java
core/src/main/java/org/elasticsearch/action/support/single/shard/TransportSingleShardAction.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsShardRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportMultiTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/termvectors/dfs/DfsOnlyRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/dfs/ShardDfsOnlyRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/dfs/TransportDfsOnlyAction.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeMappingRefreshAction.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DisableAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/FilterAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/common/PidFile.java
core/src/main/java/org/elasticsearch/common/blobstore/BlobContainer.java
core/src/main/java/org/elasticsearch/common/blobstore/fs/FsBlobContainer.java
core/src/main/java/org/elasticsearch/common/blobstore/support/AbstractBlobContainer.java
core/src/main/java/org/elasticsearch/common/blobstore/support/AbstractLegacyBlobContainer.java
core/src/main/java/org/elasticsearch/common/blobstore/url/URLBlobContainer.java
core/src/main/java/org/elasticsearch/common/bytes/BytesArray.java
core/src/main/java/org/elasticsearch/common/bytes/ChannelBufferBytesReference.java
core/src/main/java/org/elasticsearch/common/collect/CopyOnWriteHashMap.java
core/src/main/java/org/elasticsearch/common/collect/CopyOnWriteHashSet.java
core/src/main/java/org/elasticsearch/common/geo/GeoHashUtils.java
core/src/main/java/org/elasticsearch/common/geo/GeoPoint.java
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
core/src/main/java/org/elasticsearch/common/inject/DefaultConstructionProxyFactory.java
core/src/main/java/org/elasticsearch/common/inject/SingleFieldInjector.java
core/src/main/java/org/elasticsearch/common/inject/SingleMethodInjector.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/AssistedConstructor.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider2.java
core/src/main/java/org/elasticsearch/common/inject/internal/FailableCache.java
core/src/main/java/org/elasticsearch/common/inject/internal/ProviderMethod.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/MapBinder.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/Multibinder.java
core/src/main/java/org/elasticsearch/common/io/PathUtils.java
core/src/main/java/org/elasticsearch/common/io/Streams.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/text/BytesText.java
core/src/main/java/org/elasticsearch/common/text/StringAndBytesText.java
core/src/main/java/org/elasticsearch/common/text/StringText.java
core/src/main/java/org/elasticsearch/common/util/CollectionUtils.java
core/src/main/java/org/elasticsearch/common/util/MultiDataPathUpgrader.java
core/src/main/java/org/elasticsearch/common/util/concurrent/FutureUtils.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
core/src/main/java/org/elasticsearch/discovery/Discovery.java
core/src/main/java/org/elasticsearch/discovery/DiscoverySettings.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/NodesFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/membership/MembershipAction.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PendingClusterStatesQueue.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
core/src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
core/src/main/java/org/elasticsearch/gateway/MetaDataStateFormat.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/analysis/Analysis.java
core/src/main/java/org/elasticsearch/index/analysis/FieldNameAnalyzer.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentFieldMappers.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/FieldTypeLookup.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/analysis/HunspellService.java
core/src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryCleanFilesRequest.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryFileChunkRequest.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryFilesInfoRequest.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryFinalizeRecoveryRequest.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryPrepareForTranslogOperationsRequest.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySource.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTranslogOperationsRequest.java
core/src/main/java/org/elasticsearch/indices/recovery/StartRecoveryRequest.java
core/src/main/java/org/elasticsearch/indices/store/IndicesStore.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/monitor/os/OsProbe.java
core/src/main/java/org/elasticsearch/monitor/os/OsStats.java
core/src/main/java/org/elasticsearch/monitor/process/ProcessProbe.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/repositories/VerifyNodeRepositoryAction.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
core/src/main/java/org/elasticsearch/repositories/blobstore/ChecksumBlobStoreFormat.java
core/src/main/java/org/elasticsearch/repositories/blobstore/LegacyBlobStoreFormat.java
core/src/main/java/org/elasticsearch/repositories/uri/URLIndexShardRepository.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/warmer/put/RestPutWarmerAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestCountAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestRecoveryAction.java
core/src/main/java/org/elasticsearch/rest/support/RestUtils.java
core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
core/src/main/java/org/elasticsearch/search/action/SearchServiceTransportAction.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregations.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/BucketsAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGrid.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/InternalGeoHashGrid.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/SiblingPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/cumulativesum/CumulativeSumPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/DerivativePipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/having/BucketSelectorPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/support/format/ValueFormatter.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
core/src/main/java/org/elasticsearch/search/suggest/context/GeolocationContextMapping.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/main/java/org/elasticsearch/transport/RequestHandlerRegistry.java
core/src/main/java/org/elasticsearch/transport/TransportRequest.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/action/IndicesRequestIT.java
core/src/test/java/org/elasticsearch/action/bulk/BulkIntegrationIT.java
core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java
core/src/test/java/org/elasticsearch/action/search/SearchRequestBuilderTests.java
core/src/test/java/org/elasticsearch/action/support/TransportActionFilterChainTests.java
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/replication/BroadcastReplicationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
comments:
Merge branch 'master' into feature/query-refactoring

 Conflicts:
	core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
	core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
	core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java

time:
2015-09-14T12:26:04Z
class:
comments:
Merge pull request #13422 from nik9000/java_8_for_package_tests

Packaging tests use Java 8

time:
2015-09-14T12:00:50Z
class:
core/src/main/java/org/elasticsearch/common/inject/internal/FailableCache.java
comments:
Don't use forbidden API in FailableCache

time:
2015-09-14T11:54:05Z
class:
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
comments:
Fix test bug in o.e.a.s.b.n.TransportBroadcastByNodeActionTests

This commit fixes a test bug in
o.e.a.s.b.n.TransportBroadcastByNodeActionTests. Namely, the randomized
test allowed for the creation of cluster states that allocated indices
having zero shards. This ultimately surfaced in a
NoSuchElementException when attempting to iterate over the nonexistent
shards. The fix is merely to draw the random number of shards from 1 to
10 instead of 0 to 10.

time:
2015-09-14T11:25:58Z
class:
core/src/main/java/org/elasticsearch/indices/analysis/HunspellService.java
comments:
Replace LoadingCache usage with a simple ConcurrentHashMap

This commit replaces the usage of LoadedCache with a simple CHM and calls
to computeIfAbsent and adds LoadingCache and CacheLoader to forbidden APIs

Relates to #13224

time:
2015-09-14T10:58:46Z
class:
core/src/main/java/org/elasticsearch/Version.java
comments:
Release: Add 1.7.2 bwc indices/versions

* Added BWC indices
* Added snapshot version to Version.java
* Fixed create_bwc_index to use localhost instead of localhost and 127.0.0.1 (problem with ipv4/6 setup)

time:
2015-09-14T09:58:21Z
class:
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerIT.java
comments:
pull out string constants for settings, and add javadocs

time:
2015-09-14T09:32:59Z
class:
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
comments:
remove forced refresh on settings update

time:
2015-09-14T09:18:07Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
comments:
push settings change before refresh, when shard becomes inactive

time:
2015-09-14T09:12:56Z
class:
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
comments:
Query Refactoring: adding illegal argument checks to MatchQueryBuilder

time:
2015-09-14T09:12:06Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
comments:
even if engineUnsafe() is null we still must update the EngineConfig

time:
2015-09-14T08:27:12Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptRequest.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/common/PidFile.java
core/src/main/java/org/elasticsearch/common/bytes/BytesArray.java
core/src/main/java/org/elasticsearch/common/bytes/ChannelBufferBytesReference.java
core/src/main/java/org/elasticsearch/common/collect/CopyOnWriteHashMap.java
core/src/main/java/org/elasticsearch/common/collect/CopyOnWriteHashSet.java
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
core/src/main/java/org/elasticsearch/common/inject/internal/FailableCache.java
core/src/main/java/org/elasticsearch/common/io/Streams.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/text/BytesText.java
core/src/main/java/org/elasticsearch/common/text/StringAndBytesText.java
core/src/main/java/org/elasticsearch/common/text/StringText.java
core/src/main/java/org/elasticsearch/common/util/CollectionUtils.java
core/src/main/java/org/elasticsearch/common/util/MultiDataPathUpgrader.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
core/src/main/java/org/elasticsearch/gateway/MetaDataStateFormat.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/analysis/Analysis.java
core/src/main/java/org/elasticsearch/index/analysis/FieldNameAnalyzer.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentFieldMappers.java
core/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/FieldTypeLookup.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/analysis/HunspellService.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/rest/support/RestUtils.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregations.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/SiblingPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/cumulativesum/CumulativeSumPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/DerivativePipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/having/BucketSelectorPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/action/bulk/BulkIntegrationIT.java
core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java
core/src/test/java/org/elasticsearch/broadcast/BroadcastActionsIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/CatAllocationTestCase.java
core/src/test/java/org/elasticsearch/common/Base64Tests.java
core/src/test/java/org/elasticsearch/common/PidFileTests.java
core/src/test/java/org/elasticsearch/common/bytes/ByteBufferBytesReference.java
core/src/test/java/org/elasticsearch/common/cli/CheckFileCommandTests.java
core/src/test/java/org/elasticsearch/common/io/FileSystemUtilsTests.java
core/src/test/java/org/elasticsearch/common/io/StreamsTests.java
core/src/test/java/org/elasticsearch/common/lucene/store/ByteArrayIndexInputTests.java
core/src/test/java/org/elasticsearch/common/util/MultiDataPathUpgraderTests.java
core/src/test/java/org/elasticsearch/document/BulkIT.java
core/src/test/java/org/elasticsearch/env/EnvironmentTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpClient.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTests.java
core/src/test/java/org/elasticsearch/index/mapper/simple/SimpleMapperTests.java
core/src/test/java/org/elasticsearch/index/shard/CommitPointsTests.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/indexlifecycle/IndexLifecycleActionIT.java
core/src/test/java/org/elasticsearch/plugins/PluginInfoTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/search/basic/TransportSearchFailuresIT.java
core/src/test/java/org/elasticsearch/search/basic/TransportTwoNodesSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/SuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/phrase/NoisyChannelSpellCheckerTests.java
core/src/test/java/org/elasticsearch/test/StreamsUtils.java
core/src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
core/src/test/java/org/elasticsearch/transport/NettySizeHeaderFrameDecoderTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
core/src/test/java/org/elasticsearch/validate/SimpleValidateQueryIT.java
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeServiceImpl.java
comments:
Remove and forbid use of guava Function, Charsets, Collections2

This commit removes and now forbids all uses of
Function, Charsets, Collections2  across the codebase. This
is one of many steps in the eventual removal of Guava as a dependency.

Relates #13224

time:
2015-09-14T08:13:55Z
class:
core/src/test/java/org/elasticsearch/common/io/PathUtilsForTesting.java
core/src/test/java/org/elasticsearch/index/shard/NewPathForShardTests.java
comments:
Merge pull request #13550 from rmuir/this_test_is_fucked_up

NewPathForShardTests is broken every which way from Sunday.

time:
2015-09-14T07:55:41Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/discovery/Discovery.java
core/src/main/java/org/elasticsearch/discovery/DiscoverySettings.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PendingClusterStatesQueue.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffPublishingTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateTests.java
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/ack/AckIT.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryUnitTests.java
core/src/test/java/org/elasticsearch/discovery/zen/publish/PendingClusterStatesQueueTests.java
core/src/test/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateActionTests.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/disruption/NetworkDelaysPartition.java
comments:
Discovery: Add two phased commit to Cluster State publishing

When publishing a new cluster state, the master will send it to all the node of the cluster, noting down how many *master* nodes responded successfully. The nodes do not yet process the new cluster state, but rather park it in memory. As soon as at least minimum master nodes have ack-ed the cluster state change, it is committed and a commit request is sent to all the node that responded so far (and will respond in the future). Once receiving the commit requests the nodes continue to process the cluster state change as they did before this change.

A few notable comments:
1. For this change to have effect, min master nodes must be configured.
2. All basic cluster state validation is done in the first phase of publish and is thus now part of `ShardOperationResult`
3. A new `COMMIT_TIMEOUT` settings is introduced, dictating how long a master should wait for nodes to ack the first phase. Unlike `PUBLISH_TIMEOUT`, if waiting for a commit times out, the cluster state change will be rejected.
4. Failing to achieve a min master node of acks, will cause the master to step down as it clearly doesn't have enough active followers.
5. Previously there was a short window between the moment a master lost it's followers and it stepping down because of node fault detection failures. In this short window, the master could process any change (but fail to publish it). This PR closes this gap to 0.
6. A dedicated pending cluster states queue was added to keep pending non-comitted cluster states and manage the logic around processing committed cluster states. See #13303 for details.

Closes #13062 , Closes #13303

time:
2015-09-14T07:37:19Z
class:
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
Clenup InternalClusterInfoService

This commit allows to refresh the info service in a blocking fashion
which allows tests to prevent installing listeners alltogether and
makes the class easier to test. Installing a listnener is always subject
to concurrent modifications where the listener might be called mulitple times
or with stale information which causes tests to fail.

time:
2015-09-14T07:29:41Z
class:
plugins/discovery-multicast/src/main/java/org/elasticsearch/plugin/discovery/multicast/MulticastZenPing.java
comments:
Fix compilation error

time:
2015-09-14T07:21:15Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/TransportLivenessAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/TransportDeleteRepositoryAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/TransportGetRepositoriesAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/TransportPutRepositoryAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/TransportVerifyRepositoryAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/TransportRestoreSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/tasks/TransportPendingClusterTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/TransportIndicesAliasesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/exists/TransportAliasesExistAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/TransportCreateIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/indices/TransportIndicesExistsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/TransportGetIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetMappingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/open/TransportOpenIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/get/TransportGetSettingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/put/TransportUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/TransportIndicesShardStoresAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/delete/TransportDeleteIndexTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/get/TransportGetIndexTemplatesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/put/TransportPutIndexTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/TransportUpgradeStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeSettingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/template/TransportRenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/TransportGetWarmersAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java
core/src/main/java/org/elasticsearch/action/get/TransportMultiGetAction.java
core/src/main/java/org/elasticsearch/action/get/TransportShardMultiGetAction.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/delete/TransportDeleteIndexedScriptAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/get/TransportGetIndexedScriptAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/TransportPutIndexedScriptAction.java
core/src/main/java/org/elasticsearch/action/percolate/TransportMultiPercolateAction.java
core/src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
core/src/main/java/org/elasticsearch/action/percolate/TransportShardMultiPercolateAction.java
core/src/main/java/org/elasticsearch/action/search/TransportClearScrollAction.java
core/src/main/java/org/elasticsearch/action/search/TransportMultiSearchAction.java
core/src/main/java/org/elasticsearch/action/search/TransportSearchAction.java
core/src/main/java/org/elasticsearch/action/search/TransportSearchScrollAction.java
core/src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
core/src/main/java/org/elasticsearch/action/support/HandledTransportAction.java
core/src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastAction.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeAction.java
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeReadAction.java
core/src/main/java/org/elasticsearch/action/support/master/info/TransportClusterInfoAction.java
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportBroadcastReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationAction.java
core/src/main/java/org/elasticsearch/action/support/single/shard/TransportSingleShardAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportMultiTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/termvectors/dfs/TransportDfsOnlyAction.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeMappingRefreshAction.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/NodesFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/membership/MembershipAction.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
core/src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySource.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
core/src/main/java/org/elasticsearch/indices/store/IndicesStore.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/repositories/VerifyNodeRepositoryAction.java
core/src/main/java/org/elasticsearch/search/action/SearchServiceTransportAction.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/main/java/org/elasticsearch/transport/RequestHandlerRegistry.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/test/java/org/elasticsearch/action/IndicesRequestIT.java
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/replication/BroadcastReplicationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
core/src/test/java/org/elasticsearch/benchmark/transport/BenchmarkNettyLargeMessages.java
core/src/test/java/org/elasticsearch/benchmark/transport/TransportBenchmark.java
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTestCase.java
core/src/test/java/org/elasticsearch/transport/netty/NettyScheduledPingTests.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryAction.java
comments:
Merge pull request #13545 from s1monw/use_supplier_instead_of_reflection

Use Supplier instead of Reflection

time:
2015-09-14T07:11:32Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/TransportLivenessAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/TransportDeleteRepositoryAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/TransportGetRepositoriesAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/TransportPutRepositoryAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/TransportVerifyRepositoryAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/TransportRestoreSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/tasks/TransportPendingClusterTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/TransportIndicesAliasesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/exists/TransportAliasesExistAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/TransportCreateIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/indices/TransportIndicesExistsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/TransportGetIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetMappingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/open/TransportOpenIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/get/TransportGetSettingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/put/TransportUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/TransportIndicesShardStoresAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/delete/TransportDeleteIndexTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/get/TransportGetIndexTemplatesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/put/TransportPutIndexTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/TransportUpgradeStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeSettingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/template/TransportRenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/TransportGetWarmersAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java
core/src/main/java/org/elasticsearch/action/get/TransportMultiGetAction.java
core/src/main/java/org/elasticsearch/action/get/TransportShardMultiGetAction.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/delete/TransportDeleteIndexedScriptAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/get/TransportGetIndexedScriptAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/TransportPutIndexedScriptAction.java
core/src/main/java/org/elasticsearch/action/percolate/TransportMultiPercolateAction.java
core/src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
core/src/main/java/org/elasticsearch/action/percolate/TransportShardMultiPercolateAction.java
core/src/main/java/org/elasticsearch/action/search/TransportClearScrollAction.java
core/src/main/java/org/elasticsearch/action/search/TransportMultiSearchAction.java
core/src/main/java/org/elasticsearch/action/search/TransportSearchAction.java
core/src/main/java/org/elasticsearch/action/search/TransportSearchScrollAction.java
core/src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
core/src/main/java/org/elasticsearch/action/support/HandledTransportAction.java
core/src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastAction.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeAction.java
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeReadAction.java
core/src/main/java/org/elasticsearch/action/support/master/info/TransportClusterInfoAction.java
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportBroadcastReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationAction.java
core/src/main/java/org/elasticsearch/action/support/single/shard/TransportSingleShardAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportMultiTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/termvectors/dfs/TransportDfsOnlyAction.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeMappingRefreshAction.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/NodesFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/membership/MembershipAction.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
core/src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySource.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
core/src/main/java/org/elasticsearch/indices/store/IndicesStore.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/repositories/VerifyNodeRepositoryAction.java
core/src/main/java/org/elasticsearch/search/action/SearchServiceTransportAction.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/main/java/org/elasticsearch/transport/RequestHandlerRegistry.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/test/java/org/elasticsearch/action/IndicesRequestIT.java
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/replication/BroadcastReplicationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
core/src/test/java/org/elasticsearch/benchmark/transport/BenchmarkNettyLargeMessages.java
core/src/test/java/org/elasticsearch/benchmark/transport/TransportBenchmark.java
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTestCase.java
core/src/test/java/org/elasticsearch/transport/netty/NettyScheduledPingTests.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryAction.java
comments:
Use Supplier instead of Reflection

Java 8 allows for method references which in-turn will cause
compile errors if a method is not visible while reflection fails late
and maybe too late. We can now register Request instances via FooRequest::new
instead of passing FooRequest.class and call it's ctor via reflection.

time:
2015-09-14T07:03:45Z
class:
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/apache/lucene/search/vectorhighlight/CustomFieldQuery.java
core/src/main/java/org/apache/lucene/util/XGeoHashUtils.java
core/src/main/java/org/apache/lucene/util/XGeoProjectionUtils.java
core/src/main/java/org/apache/lucene/util/XGeoUtils.java
core/src/main/java/org/elasticsearch/action/ActionRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/DeleteRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/close/CloseIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/types/TypesExistsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/FlushRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/open/OpenIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/put/UpdateSettingsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoresRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/ShardUpgradeRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/template/TransportRenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerRequest.java
core/src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java
core/src/main/java/org/elasticsearch/action/exists/ExistsRequest.java
core/src/main/java/org/elasticsearch/action/exists/ShardExistsRequest.java
core/src/main/java/org/elasticsearch/action/explain/ExplainRequest.java
core/src/main/java/org/elasticsearch/action/get/GetRequest.java
core/src/main/java/org/elasticsearch/action/get/MultiGetShardRequest.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateShardRequest.java
core/src/main/java/org/elasticsearch/action/percolate/TransportShardMultiPercolateAction.java
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/suggest/ShardSuggestRequest.java
core/src/main/java/org/elasticsearch/action/suggest/SuggestRequest.java
core/src/main/java/org/elasticsearch/action/support/IndicesOptions.java
core/src/main/java/org/elasticsearch/action/support/broadcast/BroadcastShardRequest.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodeRequest.java
core/src/main/java/org/elasticsearch/action/support/single/shard/SingleShardRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsShardRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/dfs/DfsOnlyRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/dfs/ShardDfsOnlyRequest.java
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/main/java/org/elasticsearch/bootstrap/JarHell.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeMappingRefreshAction.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DisableAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/FilterAllocationDecider.java
core/src/main/java/org/elasticsearch/common/blobstore/BlobContainer.java
core/src/main/java/org/elasticsearch/common/blobstore/fs/FsBlobContainer.java
core/src/main/java/org/elasticsearch/common/blobstore/support/AbstractBlobContainer.java
core/src/main/java/org/elasticsearch/common/blobstore/support/AbstractLegacyBlobContainer.java
core/src/main/java/org/elasticsearch/common/blobstore/url/URLBlobContainer.java
core/src/main/java/org/elasticsearch/common/geo/GeoHashUtils.java
core/src/main/java/org/elasticsearch/common/geo/GeoPoint.java
core/src/main/java/org/elasticsearch/common/inject/DefaultConstructionProxyFactory.java
core/src/main/java/org/elasticsearch/common/inject/SingleFieldInjector.java
core/src/main/java/org/elasticsearch/common/inject/SingleMethodInjector.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/AssistedConstructor.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider2.java
core/src/main/java/org/elasticsearch/common/inject/internal/ProviderMethod.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/MapBinder.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/Multibinder.java
core/src/main/java/org/elasticsearch/common/io/PathUtils.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/BoostScoreFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/CombineFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/CustomBoostFactorScorer.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/WeightFactorFunction.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/util/concurrent/FutureUtils.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/NodesFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/membership/MembershipAction.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionBuilders.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParserMapper.java
core/src/main/java/org/elasticsearch/index/query/functionscore/factor/FactorBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/factor/FactorParser.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryCleanFilesRequest.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryFileChunkRequest.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryFilesInfoRequest.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryFinalizeRecoveryRequest.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryPrepareForTranslogOperationsRequest.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTranslogOperationsRequest.java
core/src/main/java/org/elasticsearch/indices/recovery/StartRecoveryRequest.java
core/src/main/java/org/elasticsearch/indices/store/IndicesStore.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmInfo.java
core/src/main/java/org/elasticsearch/monitor/os/OsProbe.java
core/src/main/java/org/elasticsearch/monitor/process/ProcessProbe.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/repositories/VerifyNodeRepositoryAction.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
core/src/main/java/org/elasticsearch/repositories/blobstore/ChecksumBlobStoreFormat.java
core/src/main/java/org/elasticsearch/repositories/blobstore/LegacyBlobStoreFormat.java
core/src/main/java/org/elasticsearch/repositories/uri/URLIndexShardRepository.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/warmer/put/RestPutWarmerAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestCountAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestRecoveryAction.java
core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java
core/src/main/java/org/elasticsearch/search/action/SearchServiceTransportAction.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/BucketsAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGrid.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/InternalGeoHashGrid.java
core/src/main/java/org/elasticsearch/search/aggregations/support/format/ValueFormatter.java
core/src/main/java/org/elasticsearch/search/highlight/CustomQueryScorer.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/suggest/context/GeolocationContextMapping.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/main/java/org/elasticsearch/transport/RequestHandlerRegistry.java
core/src/main/java/org/elasticsearch/transport/TransportRequest.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/action/search/SearchRequestBuilderTests.java
core/src/test/java/org/elasticsearch/action/support/TransportActionFilterChainTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
core/src/test/java/org/elasticsearch/bootstrap/XTestSecurityManager.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteIT.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AwarenessAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/DisableAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/settings/ClusterSettingsIT.java
core/src/test/java/org/elasticsearch/common/blobstore/BlobStoreTests.java
core/src/test/java/org/elasticsearch/common/geo/GeoHashTests.java
core/src/test/java/org/elasticsearch/common/io/PathUtilsForTesting.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesIT.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeohashMappingGeoPointTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryIT.java
core/src/test/java/org/elasticsearch/index/search/geo/GeoHashUtilsTests.java
core/src/test/java/org/elasticsearch/index/search/geo/GeoPointParsingTests.java
core/src/test/java/org/elasticsearch/index/search/geo/GeoUtilsTests.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerIT.java
core/src/test/java/org/elasticsearch/indices/analysis/PreBuiltAnalyzerIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/analyze/HunspellServiceIT.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/network/DirectBufferNetworkIT.java
core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerCliTests.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/script/GroovyScriptIT.java
core/src/test/java/org/elasticsearch/script/GroovySecurityIT.java
core/src/test/java/org/elasticsearch/script/IndexedScriptIT.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/script/OnDiskScriptIT.java
core/src/test/java/org/elasticsearch/script/ScriptFieldIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ShardReduceIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsIT.java
core/src/test/java/org/elasticsearch/search/basic/TransportSearchFailuresIT.java
core/src/test/java/org/elasticsearch/search/basic/TransportTwoNodesSearchIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreFieldValueIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoDistanceIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/query/MultiMatchQueryIT.java
core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringIT.java
core/src/test/java/org/elasticsearch/search/sort/SimpleSortIT.java
core/src/test/java/org/elasticsearch/search/suggest/ContextSuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggesterSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/completion/CompletionPostingsFormatTests.java
core/src/test/java/org/elasticsearch/search/suggest/context/GeoLocationContextMappingTests.java
core/src/test/java/org/elasticsearch/snapshots/BlobStoreFormatIT.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/SnapshotRequestsTests.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/BlobContainerWrapper.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/MockRepository.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
core/src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
core/src/test/java/org/elasticsearch/test/test/InternalTestClusterTests.java
core/src/test/java/org/elasticsearch/threadpool/UpdateThreadPoolSettingsTests.java
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTestCase.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
comments:
merge from master

time:
2015-09-14T06:57:31Z
class:
core/src/test/java/org/elasticsearch/cluster/allocation/AwarenessAllocationIT.java
comments:
Fix AwarenessAllocationIT.testAwarenessZones test

This test sometimes fails because the first node is elected as master and waits 30s for incoming joins but in the meanwhile the 3 other nodes form a cluster on their side. The index will be created and its shards allocated on these 3 nodes, then the test checks for the number of shards on each node (it should be 2 or 3) but because the first node has not fully join the cluster yet one node will have 5 shards.

 closes #13305

time:
2015-09-14T05:30:09Z
class:
core/src/test/java/org/elasticsearch/common/io/PathUtilsForTesting.java
core/src/test/java/org/elasticsearch/index/shard/NewPathForShardTests.java
comments:
NewPathForShardTests is broken every which way from Sunday.

1. FileSystem wrapping code is broken, thats why you get providermismatch exception!
   Instead of fixing this, it SuppressesForbidden!!!!
2. Because it uses SuppressForbidden on the test, the whole thing is lenient, it uses java.io.File for example!
3. Of course it fails consistently on windows because it can't remove files, because it leaks file handles (locks)
   like a sieve since it does not close node environment. With correct wrapping this is always detected by e.g.
   our leak detection FS. Instead of fixing the leak, it assumesFalse(WINDOWS) !!!!!

I do not know how this snuck past me, but I need this fixed to remove setAccessible.

time:
2015-09-14T01:35:24Z
class:
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
comments:
Code cleanup in TransportBroadcastByNodeAction

time:
2015-09-13T22:19:41Z
class:
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerIT.java
comments:
Improve IndexingMemoryController a bit:
  - promptly push indexing buffer changes to IndexWriter, instead of waiting for next refresh/flush
  - don't wait for merges to finish before dropping a shards's indexing buffer to 512 KB
  - fix NPE if indices.memory.index_buffer_size is in node's settings with a bytes (not %) unit
  - add some more logger.debug

time:
2015-09-13T19:14:40Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramIT.java
comments:
Recovery: failed to properly ack translog ops during wait on mapping changes

During the second phase of recovery, replayed transaction log entries may need to wait on mapping changes that have not yet propagated to the target node. Currently we correctly replay the operation at a later stage, but we acknowledge the replay request before actually performing the work.

Example failure: http://build-us-00.elastic.co/job/es_feature_two_phase_pub/859/

Closes #13535

time:
2015-09-13T14:58:56Z
class:
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
comments:
[TEST] Don't rely on currentTimeMillis in RoutingServiceTests

If the machine is very slow this test fails if the delta of the unallocaiton
timestamp and the last scheduled delay is greater than the scheduled delay time.

time:
2015-09-13T13:06:28Z
class:
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
comments:
[test] mute and add link to issue

see #13542

time:
2015-09-13T04:39:30Z
class:
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
core/src/test/java/org/elasticsearch/indices/analyze/HunspellServiceIT.java
core/src/test/java/org/elasticsearch/network/DirectBufferNetworkIT.java
core/src/test/java/org/elasticsearch/search/suggest/completion/CompletionPostingsFormatTests.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
core/src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
comments:
Merge pull request #13539 from rmuir/setaccessible_long_tail

Remove all setAccessible in tests and forbid

time:
2015-09-13T00:49:20Z
class:
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
comments:
support mocking these components in tests without setAccessible

time:
2015-09-12T23:46:39Z
class:
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
core/src/test/java/org/elasticsearch/indices/analyze/HunspellServiceIT.java
core/src/test/java/org/elasticsearch/network/DirectBufferNetworkIT.java
core/src/test/java/org/elasticsearch/search/suggest/completion/CompletionPostingsFormatTests.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
core/src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
comments:
Remove all setAccessible in tests and forbid

time:
2015-09-12T21:19:38Z
class:
core/src/main/java/org/elasticsearch/common/io/PathUtils.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/test/java/org/elasticsearch/common/io/PathUtilsForTesting.java
core/src/test/java/org/elasticsearch/indices/analysis/PreBuiltAnalyzerIntegrationIT.java
core/src/test/java/org/elasticsearch/search/query/MultiMatchQueryIT.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
core/src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
core/src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
comments:
Merge pull request #13537 from rmuir/die_setaccessible_in_tests_die

Remove easy uses of setAccessible in tests.

time:
2015-09-12T21:07:18Z
class:
comments:
don't list this class twice (vi typo)

time:
2015-09-12T21:03:27Z
class:
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
comments:
Merge pull request #13538 from rmuir/puff_on_this_aws

Hack around aws security hole of accessing sun.security.ssl, s3 repository works on java 9 again

time:
2015-09-12T18:16:16Z
class:
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
comments:
Hack around aws security hole of accessing sun.security.ssl, s3 repository works on java 9 again

Today this is really horrible, and we have a PR sent to fix it, but nobody
does anything: https://github.com/aws/aws-sdk-java/pull/432

With java 9, we cannot even grant the permission, this kind of sheistiness is not allowed,
and s3 repository is completely broken.

The problem is their code is still broken, and won't handle neither SecurityException (our PR)
nor the new InaccessibleObjectException they will get from java 9.

We use a really hacky hack to deliver an exception that their code catches (IllegalAccessException) instead.

This means s3 repository is working on java 9, and we close off access to sun.security.ssl completely

time:
2015-09-12T16:05:47Z
class:
comments:
Revert "Disable this test (we should fix rest framework to disable based on java versions)"

This reverts commit 6a0381b58276479c480c58581339ceba57fa9827.

time:
2015-09-12T15:57:30Z
class:
core/src/main/java/org/elasticsearch/common/io/PathUtils.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/test/java/org/elasticsearch/common/io/PathUtilsForTesting.java
core/src/test/java/org/elasticsearch/indices/analysis/PreBuiltAnalyzerIntegrationIT.java
core/src/test/java/org/elasticsearch/search/query/MultiMatchQueryIT.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
core/src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
core/src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
comments:
Remove easy uses of setAccessible in tests.

Don't worry, I will fix the rest. But some of those remaining will need a lucene upgrade,
we need to add a getter or two for tests to do things cleanly.

time:
2015-09-12T09:18:44Z
class:
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
comments:
[TEST] BooleanQuery iteration order is not consistent

time:
2015-09-12T07:31:40Z
class:
core/src/main/java/org/elasticsearch/action/ActionRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/DeleteRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/close/CloseIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/types/TypesExistsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/FlushRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/open/OpenIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/put/UpdateSettingsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoresRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/ShardUpgradeRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/template/TransportRenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerRequest.java
core/src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java
core/src/main/java/org/elasticsearch/action/exists/ExistsRequest.java
core/src/main/java/org/elasticsearch/action/exists/ShardExistsRequest.java
core/src/main/java/org/elasticsearch/action/explain/ExplainRequest.java
core/src/main/java/org/elasticsearch/action/get/GetRequest.java
core/src/main/java/org/elasticsearch/action/get/MultiGetShardRequest.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateShardRequest.java
core/src/main/java/org/elasticsearch/action/percolate/TransportShardMultiPercolateAction.java
core/src/main/java/org/elasticsearch/action/suggest/ShardSuggestRequest.java
core/src/main/java/org/elasticsearch/action/suggest/SuggestRequest.java
core/src/main/java/org/elasticsearch/action/support/broadcast/BroadcastShardRequest.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodeRequest.java
core/src/main/java/org/elasticsearch/action/support/single/shard/SingleShardRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsShardRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/dfs/DfsOnlyRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/dfs/ShardDfsOnlyRequest.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeMappingRefreshAction.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/common/inject/DefaultConstructionProxyFactory.java
core/src/main/java/org/elasticsearch/common/inject/SingleFieldInjector.java
core/src/main/java/org/elasticsearch/common/inject/SingleMethodInjector.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/AssistedConstructor.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider2.java
core/src/main/java/org/elasticsearch/common/inject/internal/ProviderMethod.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/MapBinder.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/Multibinder.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/NodesFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/membership/MembershipAction.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryCleanFilesRequest.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryFileChunkRequest.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryFilesInfoRequest.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryFinalizeRecoveryRequest.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryPrepareForTranslogOperationsRequest.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTranslogOperationsRequest.java
core/src/main/java/org/elasticsearch/indices/recovery/StartRecoveryRequest.java
core/src/main/java/org/elasticsearch/indices/store/IndicesStore.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/monitor/os/OsProbe.java
core/src/main/java/org/elasticsearch/monitor/os/OsStats.java
core/src/main/java/org/elasticsearch/monitor/process/ProcessProbe.java
core/src/main/java/org/elasticsearch/repositories/VerifyNodeRepositoryAction.java
core/src/main/java/org/elasticsearch/repositories/uri/URLIndexShardRepository.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestCountAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestRecoveryAction.java
core/src/main/java/org/elasticsearch/search/action/SearchServiceTransportAction.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/main/java/org/elasticsearch/transport/RequestHandlerRegistry.java
core/src/main/java/org/elasticsearch/transport/TransportRequest.java
core/src/test/java/org/elasticsearch/action/support/TransportActionFilterChainTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java
core/src/test/java/org/elasticsearch/monitor/os/OsProbeTests.java
core/src/test/java/org/elasticsearch/monitor/process/ProcessProbeTests.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptFieldIT.java
core/src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptIT.java
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTestCase.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/management/AzureComputeSettingsFilter.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageSettingsFilter.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AzureComputeServiceSimpleMock.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/storage/AzureStorageServiceMock.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryAction.java
plugins/discovery-multicast/src/main/java/org/elasticsearch/plugin/discovery/multicast/MulticastZenPing.java
comments:
Merge pull request #13531 from rmuir/die_setaccessible_die

Ban setAccessible from core code, restore monitoring stats under java 9

time:
2015-09-12T06:11:06Z
class:
core/src/main/java/org/elasticsearch/action/ActionRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/DeleteRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/close/CloseIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/types/TypesExistsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/FlushRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/open/OpenIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/put/UpdateSettingsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoresRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/ShardUpgradeRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/template/TransportRenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerRequest.java
core/src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java
core/src/main/java/org/elasticsearch/action/exists/ExistsRequest.java
core/src/main/java/org/elasticsearch/action/exists/ShardExistsRequest.java
core/src/main/java/org/elasticsearch/action/explain/ExplainRequest.java
core/src/main/java/org/elasticsearch/action/get/GetRequest.java
core/src/main/java/org/elasticsearch/action/get/MultiGetShardRequest.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateShardRequest.java
core/src/main/java/org/elasticsearch/action/percolate/TransportShardMultiPercolateAction.java
core/src/main/java/org/elasticsearch/action/suggest/ShardSuggestRequest.java
core/src/main/java/org/elasticsearch/action/suggest/SuggestRequest.java
core/src/main/java/org/elasticsearch/action/support/broadcast/BroadcastShardRequest.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodeRequest.java
core/src/main/java/org/elasticsearch/action/support/single/shard/SingleShardRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsShardRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/dfs/DfsOnlyRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/dfs/ShardDfsOnlyRequest.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeMappingRefreshAction.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/common/inject/DefaultConstructionProxyFactory.java
core/src/main/java/org/elasticsearch/common/inject/SingleFieldInjector.java
core/src/main/java/org/elasticsearch/common/inject/SingleMethodInjector.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/AssistedConstructor.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider2.java
core/src/main/java/org/elasticsearch/common/inject/internal/ProviderMethod.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/MapBinder.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/Multibinder.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/NodesFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/membership/MembershipAction.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryCleanFilesRequest.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryFileChunkRequest.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryFilesInfoRequest.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryFinalizeRecoveryRequest.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryPrepareForTranslogOperationsRequest.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTranslogOperationsRequest.java
core/src/main/java/org/elasticsearch/indices/recovery/StartRecoveryRequest.java
core/src/main/java/org/elasticsearch/indices/store/IndicesStore.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/repositories/VerifyNodeRepositoryAction.java
core/src/main/java/org/elasticsearch/repositories/uri/URLIndexShardRepository.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestCountAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestRecoveryAction.java
core/src/main/java/org/elasticsearch/search/action/SearchServiceTransportAction.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/main/java/org/elasticsearch/transport/RequestHandlerRegistry.java
core/src/main/java/org/elasticsearch/transport/TransportRequest.java
core/src/test/java/org/elasticsearch/action/support/TransportActionFilterChainTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptFieldIT.java
core/src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptIT.java
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTestCase.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/management/AzureComputeSettingsFilter.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageSettingsFilter.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AzureComputeServiceSimpleMock.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/storage/AzureStorageServiceMock.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryAction.java
plugins/discovery-multicast/src/main/java/org/elasticsearch/plugin/discovery/multicast/MulticastZenPing.java
comments:
ban setAccessible from core code.

In addition to being a big security problem, setAccessible is a risk
for java 9 migration. We need to clean up our code so we can ban it
and eventually enforce this with security manager for third-party code, too,
or we may have problems.

Instead of using setAccessible, use the correct modifier (e.g. public).

TODO: ban in tests
TODO: ban in security manager at runtime

time:
2015-09-12T02:28:37Z
class:
core/src/main/java/org/elasticsearch/monitor/os/OsProbe.java
core/src/main/java/org/elasticsearch/monitor/process/ProcessProbe.java
comments:
get our stats back by reflecting mxbeans correctly

time:
2015-09-12T02:21:02Z
class:
core/src/main/java/org/elasticsearch/monitor/os/OsStats.java
core/src/test/java/org/elasticsearch/monitor/os/OsProbeTests.java
core/src/test/java/org/elasticsearch/monitor/process/ProcessProbeTests.java
comments:
Revert "Update monitor probe tests for java 9: this stuff is no longer accessible"

This reverts commit af2df9aef67462adba9146a28e464043ee7ae122.

time:
2015-09-11T21:42:40Z
class:
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
comments:
Merge pull request #13525 from jasontedor/immutable-sorted-map-be-gone

Remove and forbid use of com.google.common.collect.ImmutableSortedMap

time:
2015-09-11T21:42:19Z
class:
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
comments:
Remove and forbid use of com.google.common.collect.ImmutableSortedMap

This commit removes and now forbids all uses of
com.google.common.collect.ImmutableSortedMap across the codebase. This
is one of many steps in the eventual removal of Guava as a dependency.

Relates #13224

time:
2015-09-11T20:39:58Z
class:
core/src/main/java/org/elasticsearch/common/blobstore/BlobContainer.java
core/src/main/java/org/elasticsearch/common/blobstore/fs/FsBlobContainer.java
core/src/main/java/org/elasticsearch/common/blobstore/support/AbstractBlobContainer.java
core/src/main/java/org/elasticsearch/common/blobstore/support/AbstractLegacyBlobContainer.java
core/src/main/java/org/elasticsearch/common/blobstore/url/URLBlobContainer.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
core/src/main/java/org/elasticsearch/repositories/blobstore/ChecksumBlobStoreFormat.java
core/src/main/java/org/elasticsearch/repositories/blobstore/LegacyBlobStoreFormat.java
core/src/test/java/org/elasticsearch/common/blobstore/BlobStoreTests.java
core/src/test/java/org/elasticsearch/snapshots/BlobStoreFormatIT.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/BlobContainerWrapper.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/MockRepository.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/blobstore/AzureBlobContainer.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/blobstore/S3BlobContainer.java
comments:
Simplify the BlobContainer blob writing interface

Instead of asking blob store to create output for posting blob content, this change provides that content of the blob to the blob store for writing. This will significantly simplify the  interface for S3 and Azure plugins.

time:
2015-09-11T19:15:12Z
class:
core/src/main/java/org/elasticsearch/common/util/concurrent/FutureUtils.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesIT.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/threadpool/UpdateThreadPoolSettingsTests.java
comments:
Remove and forbid use of several com.google.common.util. classes

This commit replaces:
 * com.google.common.util.concurrent.ListenableFuture
 * com.google.common.util.concurrent.SettableFuture
 * com.google.common.util.concurrent.Futures
 * com.google.common.util.concurrent.MoreExecutors

And forbits its usage via forbidden APIs. This is one of
many steps in the eventual removal of Guava as a dependency.

Relates to #13224

time:
2015-09-11T19:13:14Z
class:
comments:
Merge pull request #13523 from jasontedor/forbid-guava-in-all-the-things

Forbid Guava in all instead of core

time:
2015-09-11T18:53:15Z
class:
comments:
Forbid Guava in all instead of core

Now that Guava is no longer shaded, it can be forbidden in all instead
of core.

Relates #13224

time:
2015-09-11T17:43:00Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/support/IndicesOptions.java
core/src/test/java/org/elasticsearch/snapshots/SnapshotRequestsTests.java
comments:
Snapshot restore request should accept indices options

Fixes an issue introduced in #10744 as a result of which the restore request stopped accepting indices options such as ignore_unavailable.

Fixes #13335

time:
2015-09-11T17:41:52Z
class:
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/warmer/put/RestPutWarmerAction.java
core/src/test/java/org/elasticsearch/action/search/SearchRequestBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryIT.java
core/src/test/java/org/elasticsearch/script/GroovyScriptIT.java
core/src/test/java/org/elasticsearch/script/GroovySecurityIT.java
core/src/test/java/org/elasticsearch/script/IndexedScriptIT.java
core/src/test/java/org/elasticsearch/script/OnDiskScriptIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsIT.java
core/src/test/java/org/elasticsearch/search/basic/TransportSearchFailuresIT.java
core/src/test/java/org/elasticsearch/search/basic/TransportTwoNodesSearchIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreFieldValueIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringIT.java
core/src/test/java/org/elasticsearch/search/sort/SimpleSortIT.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggesterSearchIT.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
comments:
Merge pull request #13518 from s1monw/cleanup_search_request

Cleanup SearchRequest & SearchRequestBuilder

time:
2015-09-11T15:44:38Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/FilterAllocationDecider.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/test/java/org/elasticsearch/test/test/InternalTestClusterTests.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
comments:
Merge pull request #13517 from jasontedor/settings-should-not-leak-guava-dependency

Stop o.e.c.s.Settings from leaking Guava dependency

time:
2015-09-11T15:38:35Z
class:
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/warmer/put/RestPutWarmerAction.java
core/src/test/java/org/elasticsearch/action/search/SearchRequestBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryIT.java
core/src/test/java/org/elasticsearch/script/GroovyScriptIT.java
core/src/test/java/org/elasticsearch/script/GroovySecurityIT.java
core/src/test/java/org/elasticsearch/script/IndexedScriptIT.java
core/src/test/java/org/elasticsearch/script/OnDiskScriptIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsIT.java
core/src/test/java/org/elasticsearch/search/basic/TransportSearchFailuresIT.java
core/src/test/java/org/elasticsearch/search/basic/TransportTwoNodesSearchIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreFieldValueIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringIT.java
core/src/test/java/org/elasticsearch/search/sort/SimpleSortIT.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggesterSearchIT.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
comments:
Cleanup SearchRequest & SearchRequestBuilder

We have a gazillion ways to specify the source of the search request.
There is no need to so many we can reduce them dramatically and also remove
some deprecated API.

time:
2015-09-11T15:28:13Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DisableAllocationDecider.java
core/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/DisableAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/settings/ClusterSettingsIT.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerIT.java
comments:
Merge remote-tracking branch 'dakrone/remove-disable-decider'

time:
2015-09-11T15:10:41Z
class:
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesIT.java
comments:
fix old style plugin injection

time:
2015-09-11T15:09:08Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/FilterAllocationDecider.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/test/java/org/elasticsearch/test/test/InternalTestClusterTests.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
comments:
Stop o.e.c.s.Settings from leaking Guava dependency

The public org.elasticsearch.common.settings.Settings#getAsMap method
leaks the dependency on Guava by returning a
com.google.common.collect.ImmutableMap. The leaking of this dependency
should be removed in preparation for the eventual complete removal of
Guava as a dependency.

Relates #13224

time:
2015-09-11T15:02:55Z
class:
comments:
Merge pull request #13515 from elastic/docsfix

Fix for mappings->_source example in docs

time:
2015-09-11T14:57:08Z
class:
core/src/main/java/org/apache/lucene/util/XGeoHashUtils.java
core/src/main/java/org/apache/lucene/util/XGeoProjectionUtils.java
core/src/main/java/org/apache/lucene/util/XGeoUtils.java
core/src/main/java/org/elasticsearch/common/geo/GeoHashUtils.java
core/src/main/java/org/elasticsearch/common/geo/GeoPoint.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/BucketsAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGrid.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/InternalGeoHashGrid.java
core/src/main/java/org/elasticsearch/search/aggregations/support/format/ValueFormatter.java
core/src/main/java/org/elasticsearch/search/suggest/context/GeolocationContextMapping.java
core/src/test/java/org/elasticsearch/common/geo/GeoHashTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeohashMappingGeoPointTests.java
core/src/test/java/org/elasticsearch/index/search/geo/GeoHashUtilsTests.java
core/src/test/java/org/elasticsearch/index/search/geo/GeoPointParsingTests.java
core/src/test/java/org/elasticsearch/index/search/geo/GeoUtilsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ShardReduceIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoDistanceIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/sort/SimpleSortIT.java
core/src/test/java/org/elasticsearch/search/suggest/ContextSuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/context/GeoLocationContextMappingTests.java
comments:
add a weighted centroid to the geohash_grid aggregator and cut over to lucene GeoHashUtils

time:
2015-09-11T14:34:14Z
class:
comments:
Fixes #13417

time:
2015-09-11T14:25:19Z
class:
core/src/test/java/org/elasticsearch/plugins/PluginManagerCliTests.java
comments:
[test] fix urls for windows

time:
2015-09-11T12:48:19Z
class:
core/src/test/java/org/elasticsearch/plugins/PluginManagerCliTests.java
comments:
[test] use tmp dir otherwise the security manager will complain

time:
2015-09-11T12:37:27Z
class:
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanContainingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanWithinQueryBuilderTests.java
comments:
adapt to upstream lucene changes

time:
2015-09-11T12:20:21Z
class:
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
comments:
remove guava usage from IdsQueryBuilder

time:
2015-09-11T12:15:12Z
class:
core/src/main/java/org/apache/lucene/search/vectorhighlight/CustomFieldQuery.java
core/src/main/java/org/elasticsearch/action/ActionRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/TransportIndicesAliasesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequest.java
core/src/main/java/org/elasticsearch/bootstrap/JarHell.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/common/geo/builders/BasePolygonBuilder.java
core/src/main/java/org/elasticsearch/common/inject/AbstractModule.java
core/src/main/java/org/elasticsearch/common/inject/InheritingState.java
core/src/main/java/org/elasticsearch/common/inject/Initializer.java
core/src/main/java/org/elasticsearch/common/inject/InjectorShell.java
core/src/main/java/org/elasticsearch/common/inject/Injectors.java
core/src/main/java/org/elasticsearch/common/inject/InternalFactoryToProviderAdapter.java
core/src/main/java/org/elasticsearch/common/inject/Key.java
core/src/main/java/org/elasticsearch/common/inject/ScopeBindingProcessor.java
core/src/main/java/org/elasticsearch/common/inject/TypeLiteral.java
core/src/main/java/org/elasticsearch/common/inject/WeakKeySet.java
core/src/main/java/org/elasticsearch/common/inject/internal/AbstractBindingBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/BindingBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/ExposureBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/Join.java
core/src/main/java/org/elasticsearch/common/inject/internal/MatcherAndConverter.java
core/src/main/java/org/elasticsearch/common/inject/internal/MoreTypes.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/ProviderMethodsModule.java
core/src/main/java/org/elasticsearch/common/inject/matcher/Matchers.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/Multibinder.java
core/src/main/java/org/elasticsearch/common/inject/name/NamedImpl.java
core/src/main/java/org/elasticsearch/common/inject/spi/Elements.java
core/src/main/java/org/elasticsearch/common/inject/spi/InjectionRequest.java
core/src/main/java/org/elasticsearch/common/inject/spi/MembersInjectorLookup.java
core/src/main/java/org/elasticsearch/common/inject/spi/Message.java
core/src/main/java/org/elasticsearch/common/inject/spi/ProviderLookup.java
core/src/main/java/org/elasticsearch/common/inject/spi/ScopeBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/StaticInjectionRequest.java
core/src/main/java/org/elasticsearch/common/inject/spi/TypeConverterBinding.java
core/src/main/java/org/elasticsearch/common/inject/util/Modules.java
core/src/main/java/org/elasticsearch/common/io/Streams.java
core/src/main/java/org/elasticsearch/common/joda/DateMathParser.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllEntries.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/BoostScoreFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/CombineFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/CustomBoostFactorScorer.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/WeightFactorFunction.java
core/src/main/java/org/elasticsearch/common/property/PropertyPlaceholder.java
core/src/main/java/org/elasticsearch/common/recycler/Recyclers.java
core/src/main/java/org/elasticsearch/common/util/MultiDataPathUpgrader.java
core/src/main/java/org/elasticsearch/common/util/concurrent/BaseFuture.java
core/src/main/java/org/elasticsearch/common/util/concurrent/ConcurrentCollections.java
core/src/main/java/org/elasticsearch/common/util/set/Sets.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/http/HttpServerModule.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/PackedArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/main/java/org/elasticsearch/index/indexing/IndexingStats.java
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentFieldMappers.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/FieldTypeLookup.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/RootObjectMapper.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ScoreType.java
core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionBuilders.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParserMapper.java
core/src/main/java/org/elasticsearch/index/query/functionscore/factor/FactorBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/factor/FactorParser.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/store/FsDirectoryService.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmInfo.java
core/src/main/java/org/elasticsearch/monitor/os/OsStats.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/info/RestNodesInfoAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
core/src/main/java/org/elasticsearch/search/highlight/CustomQueryScorer.java
core/src/main/java/org/elasticsearch/search/highlight/HighlighterParseElement.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/main/java/org/elasticsearch/transport/TransportModule.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java
core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchShortCircuitBenchmark.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/bootstrap/XTestSecurityManager.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/RecoveryWithUnsupportedIndicesIT.java
core/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/cache/recycler/MockPageCacheRecycler.java
core/src/test/java/org/elasticsearch/cluster/MockInternalClusterInfoService.java
core/src/test/java/org/elasticsearch/cluster/metadata/HumanReadableIndexSettingsTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolverTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/WildcardExpressionResolverTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AwarenessAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardNoReplicasRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/common/cli/CheckFileCommandTests.java
core/src/test/java/org/elasticsearch/common/lucene/index/FreqTermsEnumTests.java
core/src/test/java/org/elasticsearch/common/util/MockBigArrays.java
core/src/test/java/org/elasticsearch/common/util/MultiDataPathUpgraderTests.java
core/src/test/java/org/elasticsearch/index/deletionpolicy/SnapshotIndexCommitExistsMatcher.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/indexlifecycle/IndexLifecycleActionIT.java
core/src/test/java/org/elasticsearch/indices/recovery/RecoveryStatusTests.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsIT.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
core/src/test/java/org/elasticsearch/monitor/os/OsProbeTests.java
core/src/test/java/org/elasticsearch/monitor/process/ProcessProbeTests.java
core/src/test/java/org/elasticsearch/network/DirectBufferNetworkIT.java
core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerCliTests.java
core/src/test/java/org/elasticsearch/routing/AliasResolveRoutingIT.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoDistanceIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/PercentilesBucketIT.java
core/src/test/java/org/elasticsearch/search/basic/TransportTwoNodesSearchIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/query/MultiMatchQueryIT.java
core/src/test/java/org/elasticsearch/search/scroll/SearchScrollIT.java
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/ContextSuggestSearchIT.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/rest/ESRestTestCase.java
core/src/test/java/org/elasticsearch/test/rest/client/RestClient.java
core/src/test/java/org/elasticsearch/test/rest/section/RestTestSuite.java
core/src/test/java/org/elasticsearch/test/rest/support/FileUtils.java
core/src/test/java/org/elasticsearch/threadpool/SimpleThreadPoolIT.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
comments:
Merge branch 'master' into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/functionscore/factor/FactorParser.java
	core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
	core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
	core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchShortCircuitBenchmark.java
	core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
	core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
	core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
	docs/reference/query-dsl/has-parent-query.asciidoc

time:
2015-09-11T12:09:31Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AwarenessAllocationTests.java
comments:
Take relocating shard into consideration during awareness allocation

Previous fix #12551 counted twice for relocating shard (source and target).
Fix it to consider only target node.

time:
2015-09-11T11:21:03Z
class:
core/src/main/java/org/elasticsearch/node/Node.java
plugins/cloud-azure/src/main/java/org/elasticsearch/plugin/cloud/azure/CloudAzurePlugin.java
comments:
Only add unicast provider if all settings are present

Closes #13492
Ha! So that was just the if condition which was missing? 
I see. Thanks Simon for the fix.


time:
2015-09-11T11:13:48Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerCliTests.java
comments:
plugins: fix print of url when it contains spaces
this is beautiful :)

I think I'm missing the assert about the space printing? Is it hiding?

the error is 64 (USAGE) without the change. is this too implicit? what did you have in mind?

Ah! Maybe just leave a comment about that. I thought from the subject line that you were fixing some printout rather than the parsing. It makes sense now. Maybe change the subject?


time:
2015-09-11T11:08:33Z
class:
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
comments:
Java api: remove filterBuilder element from FunctionScoreQueryBuilder

The filter element has been deprecated in the function_score query parser. Whenever a filter is found it gets wrapped into a query automatically. The filter in the java api builder is always null, there is no way to set its value, just a leftover.

time:
2015-09-11T10:58:25Z
class:
core/src/main/java/org/elasticsearch/common/lucene/search/function/BoostScoreFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/WeightFactorFunction.java
core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionBuilders.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParserMapper.java
core/src/main/java/org/elasticsearch/index/query/functionscore/factor/FactorBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/factor/FactorParser.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
comments:
Function score query: remove deprecated support for boost_factor

boost_factor was deprecated in 1.4.0.beta1. We can remove the support for it in 3.0, its replacement is `weight`.

Closes #13510

time:
2015-09-11T09:34:41Z
class:
comments:
[docs] Document meaning of "FST" and "FSTs".
Conflicts:
	docs/reference/index-modules/fielddata.asciidoc

time:
2015-09-11T09:00:54Z
class:
comments:
Docs: Remove docs for the `filtered`,  `and`, `or` and `(f)query` queries.

time:
2015-09-11T08:36:25Z
class:
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
comments:
[TEST] Removed @Repeat Annotation

time:
2015-09-11T08:35:02Z
class:
comments:
Merge pull request #13211 from Mpdreamz/fix/12848-spaces-in-paths

Reenable spaces in paths during integration tests

time:
2015-09-11T08:33:39Z
class:
comments:
fix #12848 reenable spaces in paths during integration tests

time:
2015-09-11T08:30:55Z
class:
core/src/test/java/org/elasticsearch/common/geo/ShapeRelationTests.java
comments:
Fixed Typo in Test Name

time:
2015-09-11T08:26:09Z
class:
core/src/main/java/org/elasticsearch/common/geo/ShapeRelation.java
core/src/main/java/org/elasticsearch/common/geo/SpatialStrategy.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/test/java/org/elasticsearch/common/geo/ShapeRalationTests.java
core/src/test/java/org/elasticsearch/common/geo/SpatialStrategyTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalValuesMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeohashCellQueryBuilderTests.java
core/src/test/java/org/elasticsearch/search/geo/GeoShapeIntegrationIT.java
comments:
Query Refactoring: Refactor of GeoShapeQuery

Moving the query building functionality from the parser to the builders
new toQuery() method analogous to other recent query refactorings.

Relates to #10217

PR goes against the query-refactoring branch

time:
2015-09-11T08:25:32Z
class:
plugins/cloud-azure/src/main/java/org/elasticsearch/plugin/cloud/azure/CloudAzurePlugin.java
comments:
[azure] Revert discovery plugins must declare their UnicastHostsProvider

Related to #13492

The previous fix is not working for Azure Plugin.
I will work on a new fix for it but for now, I'm reverting the change for azure.

time:
2015-09-11T08:21:40Z
class:
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
core/src/main/java/org/elasticsearch/index/search/morelikethis/MoreLikeThisFetchService.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
comments:
Fold MoreLikeThisFetchService into MoreLikeThisQueryParser

now that we have a Client on the Shard context we can fold
the doc fetching into the parser / builder.

Relates to #13488

time:
2015-09-11T07:56:13Z
class:
core/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java
core/src/main/java/org/apache/lucene/queries/MinDocQuery.java
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/apache/lucene/search/postingshighlight/CustomSeparatorBreakIterator.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XFuzzySuggester.java
core/src/main/java/org/apache/lucene/search/vectorhighlight/CustomFieldQuery.java
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/ActionRequestBuilder.java
core/src/main/java/org/elasticsearch/action/ActionWriteResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/TransportGetRepositoriesAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/TransportIndicesAliasesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/FlushResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/ShardFlushRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/TransportGetIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/open/TransportOpenIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/ShardOptimizeRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/RecoveryResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/ShardRecoveryResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/ShardRefreshRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndexSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/ShardSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/put/TransportUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoresResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/TransportIndicesShardStoresAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndexStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/IndexUpgradeStatus.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/TransportUpgradeStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/ShardUpgradeResult.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/template/TransportRenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/TransportGetWarmersAction.java
core/src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateShardResponse.java
core/src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
core/src/main/java/org/elasticsearch/action/search/SearchType.java
core/src/main/java/org/elasticsearch/action/search/TransportSearchAction.java
core/src/main/java/org/elasticsearch/action/search/TransportSearchScrollAction.java
core/src/main/java/org/elasticsearch/action/search/type/ParsedScrollId.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchCountAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryAndFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryThenFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchHelper.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchQueryAndFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchQueryThenFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScanAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryAndFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryThenFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollScanAction.java
core/src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
core/src/main/java/org/elasticsearch/action/support/DestructiveOperations.java
core/src/main/java/org/elasticsearch/action/support/TransportActions.java
core/src/main/java/org/elasticsearch/action/support/broadcast/BroadcastRequest.java
core/src/main/java/org/elasticsearch/action/support/broadcast/BroadcastResponse.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeAction.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodesResponse.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportBroadcastReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/single/shard/TransportSingleShardAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsFields.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsFilter.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsResponse.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsWriter.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/action/update/UpdateHelper.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCLIParser.java
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/main/java/org/elasticsearch/bootstrap/Elasticsearch.java
core/src/main/java/org/elasticsearch/bootstrap/JNAKernel32Library.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/cache/recycler/PageCacheRecycler.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java
core/src/main/java/org/elasticsearch/cluster/ClusterInfo.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/DiffableUtils.java
core/src/main/java/org/elasticsearch/cluster/DiskUsage.java
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/RestoreInProgress.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
core/src/main/java/org/elasticsearch/cluster/metadata/RepositoriesMetaData.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodeFilters.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodeService.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTableValidation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationExplanation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/common/DelegatingHasContextAndHeaders.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/Table.java
core/src/main/java/org/elasticsearch/common/blobstore/BlobPath.java
core/src/main/java/org/elasticsearch/common/cli/CheckFileCommand.java
core/src/main/java/org/elasticsearch/common/cli/CliTool.java
core/src/main/java/org/elasticsearch/common/collect/CopyOnWriteHashMap.java
core/src/main/java/org/elasticsearch/common/collect/CopyOnWriteHashSet.java
core/src/main/java/org/elasticsearch/common/collect/MapBuilder.java
core/src/main/java/org/elasticsearch/common/component/AbstractComponent.java
core/src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressor.java
core/src/main/java/org/elasticsearch/common/geo/XShapeCollection.java
core/src/main/java/org/elasticsearch/common/geo/builders/BasePolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiPointBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
core/src/main/java/org/elasticsearch/common/inject/AbstractModule.java
core/src/main/java/org/elasticsearch/common/inject/EncounterImpl.java
core/src/main/java/org/elasticsearch/common/inject/InheritingState.java
core/src/main/java/org/elasticsearch/common/inject/Initializer.java
core/src/main/java/org/elasticsearch/common/inject/InjectionRequestProcessor.java
core/src/main/java/org/elasticsearch/common/inject/InjectorImpl.java
core/src/main/java/org/elasticsearch/common/inject/InjectorShell.java
core/src/main/java/org/elasticsearch/common/inject/Injectors.java
core/src/main/java/org/elasticsearch/common/inject/InternalFactoryToProviderAdapter.java
core/src/main/java/org/elasticsearch/common/inject/Key.java
core/src/main/java/org/elasticsearch/common/inject/MembersInjectorImpl.java
core/src/main/java/org/elasticsearch/common/inject/MembersInjectorStore.java
core/src/main/java/org/elasticsearch/common/inject/ProvisionException.java
core/src/main/java/org/elasticsearch/common/inject/ScopeBindingProcessor.java
core/src/main/java/org/elasticsearch/common/inject/State.java
core/src/main/java/org/elasticsearch/common/inject/TypeLiteral.java
core/src/main/java/org/elasticsearch/common/inject/WeakKeySet.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider2.java
core/src/main/java/org/elasticsearch/common/inject/internal/AbstractBindingBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/BindingBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/Errors.java
core/src/main/java/org/elasticsearch/common/inject/internal/ExposureBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/InternalContext.java
core/src/main/java/org/elasticsearch/common/inject/internal/Join.java
core/src/main/java/org/elasticsearch/common/inject/internal/MatcherAndConverter.java
core/src/main/java/org/elasticsearch/common/inject/internal/MoreTypes.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/ProviderMethodsModule.java
core/src/main/java/org/elasticsearch/common/inject/matcher/Matchers.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/Multibinder.java
core/src/main/java/org/elasticsearch/common/inject/name/NamedImpl.java
core/src/main/java/org/elasticsearch/common/inject/spi/Dependency.java
core/src/main/java/org/elasticsearch/common/inject/spi/Elements.java
core/src/main/java/org/elasticsearch/common/inject/spi/InjectionPoint.java
core/src/main/java/org/elasticsearch/common/inject/spi/InjectionRequest.java
core/src/main/java/org/elasticsearch/common/inject/spi/MembersInjectorLookup.java
core/src/main/java/org/elasticsearch/common/inject/spi/Message.java
core/src/main/java/org/elasticsearch/common/inject/spi/ProviderLookup.java
core/src/main/java/org/elasticsearch/common/inject/spi/ScopeBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/StaticInjectionRequest.java
core/src/main/java/org/elasticsearch/common/inject/spi/TypeConverterBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/TypeEncounter.java
core/src/main/java/org/elasticsearch/common/inject/util/Modules.java
core/src/main/java/org/elasticsearch/common/io/Streams.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/common/joda/DateMathParser.java
core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllEntries.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
core/src/main/java/org/elasticsearch/common/lucene/index/FilterableTermsEnum.java
core/src/main/java/org/elasticsearch/common/lucene/search/FilteredCollector.java
core/src/main/java/org/elasticsearch/common/lucene/search/MoreLikeThisQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/Queries.java
core/src/main/java/org/elasticsearch/common/lucene/search/XMoreLikeThis.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FieldValueFactorFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/uid/PerThreadIDAndVersionLookup.java
core/src/main/java/org/elasticsearch/common/metrics/CounterMetric.java
core/src/main/java/org/elasticsearch/common/metrics/EWMA.java
core/src/main/java/org/elasticsearch/common/metrics/MeanMetric.java
core/src/main/java/org/elasticsearch/common/metrics/MeterMetric.java
core/src/main/java/org/elasticsearch/common/network/NetworkService.java
core/src/main/java/org/elasticsearch/common/property/PropertyPlaceholder.java
core/src/main/java/org/elasticsearch/common/recycler/Recyclers.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/settings/loader/PropertiesSettingsLoader.java
core/src/main/java/org/elasticsearch/common/settings/loader/SettingsLoader.java
core/src/main/java/org/elasticsearch/common/settings/loader/XContentSettingsLoader.java
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
core/src/main/java/org/elasticsearch/common/util/MultiDataPathUpgrader.java
core/src/main/java/org/elasticsearch/common/util/concurrent/AtomicArray.java
core/src/main/java/org/elasticsearch/common/util/concurrent/BaseFuture.java
core/src/main/java/org/elasticsearch/common/util/concurrent/ConcurrentCollections.java
core/src/main/java/org/elasticsearch/common/util/set/Sets.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
core/src/main/java/org/elasticsearch/common/xcontent/support/XContentMapValues.java
core/src/main/java/org/elasticsearch/common/xcontent/support/filtering/FilteringJsonGenerator.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/gateway/DanglingIndicesState.java
core/src/main/java/org/elasticsearch/gateway/Gateway.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/gateway/GatewayModule.java
core/src/main/java/org/elasticsearch/gateway/MetaDataStateFormat.java
core/src/main/java/org/elasticsearch/gateway/MetaStateService.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/gateway/PriorityComparator.java
core/src/main/java/org/elasticsearch/http/HttpServerModule.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpChannel.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/aliases/IndexAliasesService.java
core/src/main/java/org/elasticsearch/index/analysis/Analysis.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
core/src/main/java/org/elasticsearch/index/analysis/DecimalDigitFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LithuanianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/NamedAnalyzer.java
core/src/main/java/org/elasticsearch/index/analysis/NumericDateAnalyzer.java
core/src/main/java/org/elasticsearch/index/analysis/StemmerTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/cache/bitset/ShardBitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/codec/CodecService.java
core/src/main/java/org/elasticsearch/index/codec/PerFieldMappingPostingFormatCodec.java
core/src/main/java/org/elasticsearch/index/codec/postingsformat/BloomFilterPostingsFormat.java
core/src/main/java/org/elasticsearch/index/codec/postingsformat/Elasticsearch090PostingsFormat.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/ForceMergeFailedEngineException.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataCache.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/fielddata/ScriptDocValues.java
core/src/main/java/org/elasticsearch/index/fielddata/ShardFieldData.java
comments:
merge master

time:
2015-09-11T07:48:43Z
class:
core/src/main/java/org/apache/lucene/search/vectorhighlight/CustomFieldQuery.java
core/src/main/java/org/elasticsearch/bootstrap/JarHell.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/CombineFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/CustomBoostFactorScorer.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmInfo.java
core/src/main/java/org/elasticsearch/monitor/os/OsStats.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/search/highlight/CustomQueryScorer.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/bootstrap/XTestSecurityManager.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/monitor/os/OsProbeTests.java
core/src/test/java/org/elasticsearch/monitor/process/ProcessProbeTests.java
core/src/test/java/org/elasticsearch/network/DirectBufferNetworkIT.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreIT.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
qa/smoke-test-client/src/test/java/org/elasticsearch/smoketest/ESSmokeClientTestCase.java
comments:
Merge pull request #13439 from rmuir/1702090

upgrade lucene to r1702265

time:
2015-09-11T07:32:39Z
class:
plugins/cloud-azure/src/main/java/org/elasticsearch/plugin/cloud/azure/CloudAzurePlugin.java
plugins/cloud-gce/src/main/java/org/elasticsearch/plugin/cloud/gce/CloudGcePlugin.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/plugin/discovery/ec2/Ec2DiscoveryPlugin.java
comments:
[ec2/azure] discovery plugins must declare their UnicastHostsProvider

Closes #13492
(cherry picked from commit 1e233b4)
(cherry picked from commit 0fe4131)

time:
2015-09-11T07:23:41Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PendingClusterStatesQueue.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateTests.java
core/src/test/java/org/elasticsearch/cluster/ack/AckIT.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryUnitTest.java
core/src/test/java/org/elasticsearch/discovery/zen/publish/PendingClusterStatesQueueTests.java
core/src/test/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateActionTests.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
comments:
Discovery: Add a dedicate queue for incoming ClusterStates

The initial implementation of two phase commit based cluster state publishing (#13062) relied on a single in memory "pending" cluster state that is only processed by ZenDiscovery once committed by the master. While this is fine on it's own, it resulted in an issue with acknowledged APIs, such as the open index API, in the extreme case where a node falls behind and receives a commit message after a new cluster state has been published. Specifically:

1) Master receives and acked-API call and publishes cluster state CS1
2) Master waits for a min-master nodes to receives CS1 and commits it.
3) All nodes that have responded to CS1 are sent a commit message, however, node N didn't respond yet
4) Master waits for publish timeout (defaults to 30s) for all nodes to process the commit. Node N fails to do so.
5) Master publishes a cluster state CS2. Node N responds to cluster state CS1's publishing but receives cluster state CS2 before the commit for CS1 arrives.
6) The commit message for cluster CS1 is processed on node N, but fails because CS2 is pending. This caused the acked API in step 1 to return (but CS2 , is not yet processed).

In this case, the action indicated by CS1 is not yet executed on node N and therefore the acked API calls return pre-maturely. Note that once CS2 is processed but the change in CS1 takes effect (cluster state operations are safe to batch and we do so all the time).

An example failure can be found on: http://build-us-00.elastic.co/job/es_feature_two_phase_pub/314/

This commit extracts the already existing pending cluster state queue (processNewClusterStates) from ZenDiscovery into it's own class, which serves as a temporary container for in-flight cluster states. Once committed the cluster states are transferred to ZenDiscovery as they used to before. This allows "lagging" cluster states to still be successfully committed and processed (and likely to be ignored as a newer cluster state has already been processed).

As a side effect, all batching logic is now extracted from ZenDiscovery and is unit tested.

time:
2015-09-11T07:07:18Z
class:
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/search/shape/ShapeFetchService.java
core/src/main/java/org/elasticsearch/index/search/shape/ShapeModule.java
core/src/main/java/org/elasticsearch/index/search/termslookup/TermsLookupFetchService.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
comments:
Remove ShapeFetchService and TermsLookupFetchService and use a Client instead

This commit removes all the optional injects etc. for the FetchServices and
provides a Client via IndexQueryParserService / Context. This allows direct
injection instead of optional injection. It also allows to remove all the
unnecessary services and use the fetch code where it belongs.
This commit also adds testing infrastructure for intercepting client calls
to AbstractQueryTestCase to support GET calls in query tests.

time:
2015-09-11T06:54:00Z
class:
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
comments:
Query Refactoring: Refactor of GeoPolygonQuery

Moving the query building functionality from the parser to the builders
new toQuery() method analogous to other recent query refactorings.

Relates to #10217

PR goes against the query-refactoring branch

time:
2015-09-11T04:35:45Z
class:
qa/smoke-test-client/src/test/java/org/elasticsearch/smoketest/ESSmokeClientTestCase.java
comments:
make logger final so its not detected as a static leak

time:
2015-09-11T04:13:42Z
class:
comments:
Disable this test (we should fix rest framework to disable based on java versions)

time:
2015-09-11T04:13:36Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AwarenessAllocationTests.java
comments:
Take initializing shards into consideration during awareness allocation

It makes decision consistent.
Fixes #12522

time:
2015-09-11T04:10:29Z
class:
core/src/test/java/org/elasticsearch/cluster/MockInternalClusterInfoService.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
comments:
Merge pull request #13497 from rjernst/test_jar_cleanup

Reorganize sharing of constants for mock cluster info service

time:
2015-09-11T04:00:26Z
class:
core/src/main/java/org/elasticsearch/common/recycler/Recyclers.java
comments:
Merge pull request #13498 from jasontedor/queues-be-gone

Remove and forbid use of com.google.common.collect.Queues

time:
2015-09-11T03:59:59Z
class:
core/src/main/java/org/elasticsearch/common/recycler/Recyclers.java
comments:
Remove and forbid use of com.google.common.collect.Queues

This commit removes and now forbids all uses of
com.google.common.collect.Queues across the codebase. This is one of
many steps in the eventual removal of Guava as a dependency.

Relates #13224

time:
2015-09-11T03:33:55Z
class:
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
comments:
Remove and forbid use of com.google.common.collect.ImmutableSortedSet

This commit removes and now forbids all uses of
com.google.common.collect.ImmutableSortedSet across the codebase. This
is one of many steps in the eventual removal of Guava as a dependency.

Relates #13224

time:
2015-09-11T03:18:58Z
class:
core/src/main/java/org/elasticsearch/monitor/os/OsStats.java
core/src/test/java/org/elasticsearch/monitor/os/OsProbeTests.java
core/src/test/java/org/elasticsearch/monitor/process/ProcessProbeTests.java
comments:
Update monitor probe tests for java 9: this stuff is no longer accessible

time:
2015-09-11T03:08:04Z
class:
core/src/test/java/org/elasticsearch/cluster/MockInternalClusterInfoService.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
comments:
Tests: Reorganize sharing of constants for mock cluster info service

The MockInternalClusterInfoService depends on a constant and helper
method from actual test cases. This moves the constant and helper method
into the mock itself. Without this change, the classes put into the test
jar are not completely useable on their own (since this mock is in the
test jar, but the test cases are not).

time:
2015-09-11T02:45:53Z
class:
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
comments:
Disable some exception serialization asserts on java 9, likely StackTraceElement has new stuff in it and we have to think about what to do

time:
2015-09-11T02:15:27Z
class:
core/src/main/java/org/elasticsearch/monitor/jvm/JvmInfo.java
comments:
Add java 9 support for bootclasspath to JvmInfo (it throws UOE otherwise which is not properly handled)

time:
2015-09-11T02:10:35Z
class:
comments:
disable Werror, its incompatible with java 9

time:
2015-09-11T02:07:37Z
class:
core/src/main/java/org/elasticsearch/bootstrap/JarHell.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
comments:
Merge branch 'jarhell2.0' into 1702090

time:
2015-09-11T02:07:20Z
class:
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
comments:
fix merge

time:
2015-09-11T01:41:07Z
class:
core/src/main/java/org/elasticsearch/action/ActionRequestBuilder.java
core/src/main/java/org/elasticsearch/common/inject/AbstractModule.java
core/src/main/java/org/elasticsearch/common/inject/InheritingState.java
core/src/main/java/org/elasticsearch/common/inject/Initializer.java
core/src/main/java/org/elasticsearch/common/inject/InjectorShell.java
core/src/main/java/org/elasticsearch/common/inject/InternalFactoryToProviderAdapter.java
core/src/main/java/org/elasticsearch/common/inject/Key.java
core/src/main/java/org/elasticsearch/common/inject/ScopeBindingProcessor.java
core/src/main/java/org/elasticsearch/common/inject/TypeLiteral.java
core/src/main/java/org/elasticsearch/common/inject/internal/AbstractBindingBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/BindingBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/ExposureBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/Join.java
core/src/main/java/org/elasticsearch/common/inject/internal/MatcherAndConverter.java
core/src/main/java/org/elasticsearch/common/inject/internal/MoreTypes.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/ProviderMethodsModule.java
core/src/main/java/org/elasticsearch/common/inject/matcher/Matchers.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/Multibinder.java
core/src/main/java/org/elasticsearch/common/inject/name/NamedImpl.java
core/src/main/java/org/elasticsearch/common/inject/spi/InjectionRequest.java
core/src/main/java/org/elasticsearch/common/inject/spi/MembersInjectorLookup.java
core/src/main/java/org/elasticsearch/common/inject/spi/Message.java
core/src/main/java/org/elasticsearch/common/inject/spi/ProviderLookup.java
core/src/main/java/org/elasticsearch/common/inject/spi/ScopeBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/StaticInjectionRequest.java
core/src/main/java/org/elasticsearch/common/inject/spi/TypeConverterBinding.java
core/src/main/java/org/elasticsearch/common/io/Streams.java
core/src/main/java/org/elasticsearch/common/joda/DateMathParser.java
core/src/main/java/org/elasticsearch/common/property/PropertyPlaceholder.java
core/src/main/java/org/elasticsearch/common/util/concurrent/BaseFuture.java
core/src/main/java/org/elasticsearch/http/HttpServerModule.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/PackedArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/transport/TransportModule.java
comments:
Merge branch 'master' into 1702090

time:
2015-09-11T01:31:25Z
class:
core/src/main/java/org/elasticsearch/bootstrap/JarHell.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
comments:
cutover jarhell to parsing classpath all the time

time:
2015-09-10T21:58:25Z
class:
core/src/main/java/org/elasticsearch/action/ActionRequestBuilder.java
core/src/main/java/org/elasticsearch/common/inject/AbstractModule.java
core/src/main/java/org/elasticsearch/common/inject/InheritingState.java
core/src/main/java/org/elasticsearch/common/inject/Initializer.java
core/src/main/java/org/elasticsearch/common/inject/InjectorShell.java
core/src/main/java/org/elasticsearch/common/inject/InternalFactoryToProviderAdapter.java
core/src/main/java/org/elasticsearch/common/inject/Key.java
core/src/main/java/org/elasticsearch/common/inject/ScopeBindingProcessor.java
core/src/main/java/org/elasticsearch/common/inject/TypeLiteral.java
core/src/main/java/org/elasticsearch/common/inject/internal/AbstractBindingBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/BindingBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/ExposureBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/Join.java
core/src/main/java/org/elasticsearch/common/inject/internal/MatcherAndConverter.java
core/src/main/java/org/elasticsearch/common/inject/internal/MoreTypes.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/ProviderMethodsModule.java
core/src/main/java/org/elasticsearch/common/inject/matcher/Matchers.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/Multibinder.java
core/src/main/java/org/elasticsearch/common/inject/name/NamedImpl.java
core/src/main/java/org/elasticsearch/common/inject/spi/InjectionRequest.java
core/src/main/java/org/elasticsearch/common/inject/spi/MembersInjectorLookup.java
core/src/main/java/org/elasticsearch/common/inject/spi/Message.java
core/src/main/java/org/elasticsearch/common/inject/spi/ProviderLookup.java
core/src/main/java/org/elasticsearch/common/inject/spi/ScopeBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/StaticInjectionRequest.java
core/src/main/java/org/elasticsearch/common/inject/spi/TypeConverterBinding.java
core/src/main/java/org/elasticsearch/common/io/Streams.java
core/src/main/java/org/elasticsearch/common/joda/DateMathParser.java
core/src/main/java/org/elasticsearch/common/property/PropertyPlaceholder.java
core/src/main/java/org/elasticsearch/common/util/concurrent/BaseFuture.java
core/src/main/java/org/elasticsearch/http/HttpServerModule.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/PackedArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/transport/TransportModule.java
comments:
Merge pull request #13493 from jasontedor/check-not-null-be-gone

Remove and forbid use of com.google.common.base.Preconditions#checkNotNull

time:
2015-09-10T21:57:00Z
class:
core/src/main/java/org/elasticsearch/action/ActionRequestBuilder.java
core/src/main/java/org/elasticsearch/common/inject/AbstractModule.java
core/src/main/java/org/elasticsearch/common/inject/InheritingState.java
core/src/main/java/org/elasticsearch/common/inject/Initializer.java
core/src/main/java/org/elasticsearch/common/inject/InjectorShell.java
core/src/main/java/org/elasticsearch/common/inject/InternalFactoryToProviderAdapter.java
core/src/main/java/org/elasticsearch/common/inject/Key.java
core/src/main/java/org/elasticsearch/common/inject/ScopeBindingProcessor.java
core/src/main/java/org/elasticsearch/common/inject/TypeLiteral.java
core/src/main/java/org/elasticsearch/common/inject/internal/AbstractBindingBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/BindingBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/ExposureBuilder.java
core/src/main/java/org/elasticsearch/common/inject/internal/Join.java
core/src/main/java/org/elasticsearch/common/inject/internal/MatcherAndConverter.java
core/src/main/java/org/elasticsearch/common/inject/internal/MoreTypes.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/ProviderMethodsModule.java
core/src/main/java/org/elasticsearch/common/inject/matcher/Matchers.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/Multibinder.java
core/src/main/java/org/elasticsearch/common/inject/name/NamedImpl.java
core/src/main/java/org/elasticsearch/common/inject/spi/InjectionRequest.java
core/src/main/java/org/elasticsearch/common/inject/spi/MembersInjectorLookup.java
core/src/main/java/org/elasticsearch/common/inject/spi/Message.java
core/src/main/java/org/elasticsearch/common/inject/spi/ProviderLookup.java
core/src/main/java/org/elasticsearch/common/inject/spi/ScopeBinding.java
core/src/main/java/org/elasticsearch/common/inject/spi/StaticInjectionRequest.java
core/src/main/java/org/elasticsearch/common/inject/spi/TypeConverterBinding.java
core/src/main/java/org/elasticsearch/common/io/Streams.java
core/src/main/java/org/elasticsearch/common/joda/DateMathParser.java
core/src/main/java/org/elasticsearch/common/property/PropertyPlaceholder.java
core/src/main/java/org/elasticsearch/common/util/concurrent/BaseFuture.java
core/src/main/java/org/elasticsearch/http/HttpServerModule.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/PackedArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/transport/TransportModule.java
comments:
Remove and forbid use of c.g.c.b.Preconditions#checkNotNull

This commit removes and now forbids all uses of
com.google.common.base.Preconditions#checkNotNull across the codebase.
This is one of many steps in the eventual removal of Guava as a
dependency.

Relates #13224

time:
2015-09-10T21:36:43Z
class:
core/src/main/java/org/apache/lucene/search/vectorhighlight/CustomFieldQuery.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/CombineFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/CustomBoostFactorScorer.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/search/highlight/CustomQueryScorer.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/bootstrap/XTestSecurityManager.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/network/DirectBufferNetworkIT.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreIT.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
comments:
Upgrade lucene to r1702090

The semantics of the `boost` parameter for `function_score` changed. This is
due to the fact that Lucene now requires that query boosts and top-level boosts
are applied the same way.

time:
2015-09-10T21:35:46Z
class:
comments:
Merge branch 'logstash-integration'

time:
2015-09-10T21:03:21Z
class:
comments:
Merge pull request #13491 from nik9000/fix/13489

Rename start to verify_index in cat test

time:
2015-09-10T20:58:28Z
class:
comments:
[test] Rename start to verify_index in cat test

This was renamed in other places but not here.

Closes #13489

time:
2015-09-10T19:40:22Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/test/java/org/elasticsearch/search/scroll/SearchScrollIT.java
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
comments:
Merge pull request #13188 from nik9000/limit_on_size

Limit the size of the result window to a dynamic property

time:
2015-09-10T19:38:29Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/test/java/org/elasticsearch/search/scroll/SearchScrollIT.java
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
comments:
[search] Limit the size of the result window

Requesting a million hits, or page 100,000 is always a bad idea, but users
may not be aware of this. This adds a per-index limit on the maximum size +
from that can be requested which defaults to 10,000.

This should not interfere with deep-scrolling.

Closes #9311

time:
2015-09-10T18:59:23Z
class:
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
comments:
hack jython tests to work on windows

windows needs access to the "root" holding the jar file (see https://github.com/int3/jython/blob/master/src/org/python/core/PySystemState.java#L571-L616)

Its different on windows, because when canonicalizing the file (case sensitivity), it needs access to the file.

Closes #13476

time:
2015-09-10T18:35:38Z
class:
comments:
Merge pull request #13258 from nik9000/start_with_plugins

Start plugins in package tests

time:
2015-09-10T18:33:33Z
class:
comments:
[test] Packaging test for aws plugin's parts

The AWS plugin was broken into discovery-ec2 and repository-s3 so we can't
test the old plugin and must test the new ones.

Fixed some wording issues in test names.

time:
2015-09-10T18:07:02Z
class:
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/RecoveryWithUnsupportedIndicesIT.java
comments:
Test: Fix tests looking for old indexes to resolve against the correct dir

time:
2015-09-10T17:44:09Z
class:
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
comments:
[TEST] Additional logging for testDelayedUnassignedScheduleReroute

Relates to #13485

time:
2015-09-10T17:43:50Z
class:
comments:
[test] Start with plugins in package tests

This changes the packaging tests to start Elasticsearch with all plugins
installed and checks `_cat/plugins?h=c` against the list of plugins in
the plugins directory. If the list differs, error! So it proves that the
plugins can be installed using bin/plugin as shipped in the rpm and deb
packages.

Closes #13254

time:
2015-09-10T17:31:50Z
class:
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/common/util/MultiDataPathUpgraderTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
comments:
Merge pull request #13443 from rjernst/simplify_bwc_path

Move static bwc indexes to a shared location

time:
2015-09-10T17:05:15Z
class:
comments:
Docs: Update integration tests documentation

time:
2015-09-10T16:33:13Z
class:
comments:
Merge pull request #13275 from nik9000/test_no_start

Test that packages don't start elasticsearch

time:
2015-09-10T15:58:26Z
class:
comments:
[test] Document implementation choices

There are two other obvious ways to implement the "packages don't start
elasticsearch" checks but when you work through them they aren't as nice
as the implementation of the checks that we use now. This just adds
documentation to that effect.

time:
2015-09-10T15:58:26Z
class:
comments:
[test] Test that packages don't start service

We don't want either the deb or rpm package to start elasticsearch as soon
as they install nor do we want the package to register elasticsearch to
start on restart. That action is reserved for the administrator. This adds
tests for that.

Closes #13122

time:
2015-09-10T15:22:38Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/TransportIndicesAliasesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequest.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/common/geo/builders/BasePolygonBuilder.java
core/src/main/java/org/elasticsearch/common/inject/Injectors.java
core/src/main/java/org/elasticsearch/common/inject/WeakKeySet.java
core/src/main/java/org/elasticsearch/common/inject/spi/Elements.java
core/src/main/java/org/elasticsearch/common/inject/util/Modules.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllEntries.java
core/src/main/java/org/elasticsearch/common/util/MultiDataPathUpgrader.java
core/src/main/java/org/elasticsearch/common/util/concurrent/ConcurrentCollections.java
core/src/main/java/org/elasticsearch/common/util/set/Sets.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentFieldMappers.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/FieldTypeLookup.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/RootObjectMapper.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
core/src/main/java/org/elasticsearch/index/store/FsDirectoryService.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/info/RestNodesInfoAction.java
core/src/main/java/org/elasticsearch/search/highlight/HighlighterParseElement.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java
core/src/test/java/org/elasticsearch/cache/recycler/MockPageCacheRecycler.java
core/src/test/java/org/elasticsearch/cluster/metadata/HumanReadableIndexSettingsTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolverTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/WildcardExpressionResolverTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardNoReplicasRoutingTests.java
core/src/test/java/org/elasticsearch/common/cli/CheckFileCommandTests.java
core/src/test/java/org/elasticsearch/common/lucene/index/FreqTermsEnumTests.java
core/src/test/java/org/elasticsearch/common/util/MockBigArrays.java
core/src/test/java/org/elasticsearch/common/util/MultiDataPathUpgraderTests.java
core/src/test/java/org/elasticsearch/index/deletionpolicy/SnapshotIndexCommitExistsMatcher.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/indexlifecycle/IndexLifecycleActionIT.java
core/src/test/java/org/elasticsearch/indices/recovery/RecoveryStatusTests.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
core/src/test/java/org/elasticsearch/routing/AliasResolveRoutingIT.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoDistanceIT.java
core/src/test/java/org/elasticsearch/search/basic/TransportTwoNodesSearchIT.java
core/src/test/java/org/elasticsearch/search/query/MultiMatchQueryIT.java
core/src/test/java/org/elasticsearch/search/suggest/ContextSuggestSearchIT.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/rest/client/RestClient.java
core/src/test/java/org/elasticsearch/test/rest/section/RestTestSuite.java
core/src/test/java/org/elasticsearch/test/rest/support/FileUtils.java
core/src/test/java/org/elasticsearch/threadpool/SimpleThreadPoolIT.java
comments:
Merge pull request #13463 from jasontedor/sets-be-gone

Remove and forbid use of com.google.common.collect.Sets

time:
2015-09-10T15:22:09Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/TransportIndicesAliasesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequest.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/common/geo/builders/BasePolygonBuilder.java
core/src/main/java/org/elasticsearch/common/inject/Injectors.java
core/src/main/java/org/elasticsearch/common/inject/WeakKeySet.java
core/src/main/java/org/elasticsearch/common/inject/spi/Elements.java
core/src/main/java/org/elasticsearch/common/inject/util/Modules.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllEntries.java
core/src/main/java/org/elasticsearch/common/util/MultiDataPathUpgrader.java
core/src/main/java/org/elasticsearch/common/util/concurrent/ConcurrentCollections.java
core/src/main/java/org/elasticsearch/common/util/set/Sets.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentFieldMappers.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/FieldTypeLookup.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/RootObjectMapper.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
core/src/main/java/org/elasticsearch/index/store/FsDirectoryService.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/info/RestNodesInfoAction.java
core/src/main/java/org/elasticsearch/search/highlight/HighlighterParseElement.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java
core/src/test/java/org/elasticsearch/cache/recycler/MockPageCacheRecycler.java
core/src/test/java/org/elasticsearch/cluster/metadata/HumanReadableIndexSettingsTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolverTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/WildcardExpressionResolverTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardNoReplicasRoutingTests.java
core/src/test/java/org/elasticsearch/common/cli/CheckFileCommandTests.java
core/src/test/java/org/elasticsearch/common/lucene/index/FreqTermsEnumTests.java
core/src/test/java/org/elasticsearch/common/util/MockBigArrays.java
core/src/test/java/org/elasticsearch/common/util/MultiDataPathUpgraderTests.java
core/src/test/java/org/elasticsearch/index/deletionpolicy/SnapshotIndexCommitExistsMatcher.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/indexlifecycle/IndexLifecycleActionIT.java
core/src/test/java/org/elasticsearch/indices/recovery/RecoveryStatusTests.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
core/src/test/java/org/elasticsearch/routing/AliasResolveRoutingIT.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoDistanceIT.java
core/src/test/java/org/elasticsearch/search/basic/TransportTwoNodesSearchIT.java
core/src/test/java/org/elasticsearch/search/query/MultiMatchQueryIT.java
core/src/test/java/org/elasticsearch/search/suggest/ContextSuggestSearchIT.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/rest/client/RestClient.java
core/src/test/java/org/elasticsearch/test/rest/section/RestTestSuite.java
core/src/test/java/org/elasticsearch/test/rest/support/FileUtils.java
core/src/test/java/org/elasticsearch/threadpool/SimpleThreadPoolIT.java
comments:
Remove and forbid use of com.google.common.collect.Sets

This commit removes and now forbids all uses of
com.google.common.collect.Sets across the codebase. This is one of many
steps in the eventual removal of Guava as a dependency.

Relates #13224

time:
2015-09-10T15:15:41Z
class:
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ScoreType.java
core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchShortCircuitBenchmark.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryParserTests.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
comments:
parent/child: several cleanups

* Dropped ScoreType in favour of Lucene's ScoreMode
* Removed `score_type` option from `has_child` and `has_parent` queries in favour for the already existing `score_mode` option.
* Removed the score mode `sum` in favour for the already existing `total` score mode. (`sum` doesn't exist in Lucene's ScoreMode class)
* If `max_children` is set to `0` it now really means that zero children are allowed to match.

time:
2015-09-10T15:12:01Z
class:
core/src/test/java/org/elasticsearch/test/rest/ESRestTestCase.java
comments:
Merge pull request #13189 from nik9000/fix_nodeattrs_test

Fix test for _cat/nodeattrs

time:
2015-09-10T14:50:51Z
class:
core/src/test/java/org/elasticsearch/test/rest/ESRestTestCase.java
comments:
Fix test for _cat/nodeattrs

Adds a node attribute to all test runs and uses the attribute to test
`_cat/nodeattrs`.

Note that its quite possible create an impressively slow regex while doing
this and you have to be careful. See comment in commit for more if curious.

Closes #12558

time:
2015-09-10T14:44:52Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/PercentilesBucketIT.java
comments:
Aggregations: Pipeline Aggregations at the root of the agg tree are now validated

Previously PipelineAggregatorFactory's at the root to the agg tree (top-level aggs) were not validated. This commit adds a call to PipelineAggregatoFactory.validate() for that case.

Closes #13179

time:
2015-09-10T14:13:01Z
class:
core/src/main/java/org/elasticsearch/index/indexing/IndexingStats.java
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsIT.java
comments:
Merge branch 'pr/13130'

time:
2015-09-10T14:04:55Z
class:
core/src/test/java/org/elasticsearch/index/query/AndQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FQueryFilterBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FilteredQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/LimitQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/OrQueryBuilderTests.java
comments:
adapt to upstream changes

time:
2015-09-10T13:52:28Z
class:
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/open/TransportOpenIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndexSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/put/TransportUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndexStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/IndexUpgradeStatus.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsRequest.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchHelper.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodesResponse.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/update/UpdateHelper.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/Elasticsearch.java
core/src/main/java/org/elasticsearch/cluster/DiffableUtils.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodeService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTableValidation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationExplanation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/main/java/org/elasticsearch/common/Table.java
core/src/main/java/org/elasticsearch/common/cli/CheckFileCommand.java
core/src/main/java/org/elasticsearch/common/collect/CopyOnWriteHashMap.java
core/src/main/java/org/elasticsearch/common/collect/CopyOnWriteHashSet.java
core/src/main/java/org/elasticsearch/common/collect/MapBuilder.java
core/src/main/java/org/elasticsearch/common/inject/InheritingState.java
core/src/main/java/org/elasticsearch/common/inject/Initializer.java
core/src/main/java/org/elasticsearch/common/inject/InjectorImpl.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider.java
core/src/main/java/org/elasticsearch/common/inject/internal/InternalContext.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/common/inject/spi/TypeEncounter.java
core/src/main/java/org/elasticsearch/common/inject/util/Modules.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/settings/loader/PropertiesSettingsLoader.java
core/src/main/java/org/elasticsearch/common/settings/loader/SettingsLoader.java
core/src/main/java/org/elasticsearch/common/settings/loader/XContentSettingsLoader.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
core/src/main/java/org/elasticsearch/common/xcontent/support/XContentMapValues.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/gateway/DanglingIndicesState.java
core/src/main/java/org/elasticsearch/gateway/Gateway.java
core/src/main/java/org/elasticsearch/gateway/MetaStateService.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
core/src/main/java/org/elasticsearch/index/analysis/NumericDateAnalyzer.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/SingleFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/get/GetResult.java
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentFieldMappers.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/DynamicTemplate.java
core/src/main/java/org/elasticsearch/index/percolator/QueriesLoaderCollector.java
core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/AndQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FQueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/FQueryFilterParser.java
core/src/main/java/org/elasticsearch/index/query/FilteredQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/LimitQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/LimitQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/OrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParserMapper.java
core/src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityModule.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshots.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/SnapshotFiles.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
core/src/main/java/org/elasticsearch/indices/analysis/PreBuiltCacheFactory.java
core/src/main/java/org/elasticsearch/indices/query/IndicesQueriesRegistry.java
core/src/main/java/org/elasticsearch/indices/recovery/StartRecoveryRequest.java
core/src/main/java/org/elasticsearch/repositories/RepositoriesService.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreFormat.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/template/get/RestGetIndexTemplateAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestThreadPoolAction.java
core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java
core/src/main/java/org/elasticsearch/script/ScriptModes.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregations.java
core/src/main/java/org/elasticsearch/search/aggregations/ValuesSourceAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/InternalSignificantTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ScriptHeuristic.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/InternalTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/PercentilesBucketBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceParser.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/script/ScriptFieldsParseElement.java
core/src/main/java/org/elasticsearch/search/highlight/FastVectorHighlighter.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
core/src/main/java/org/elasticsearch/search/highlight/PlainHighlighter.java
core/src/main/java/org/elasticsearch/search/highlight/PostingsHighlighter.java
core/src/main/java/org/elasticsearch/search/highlight/SearchContextHighlight.java
core/src/main/java/org/elasticsearch/search/lookup/LeafDocLookup.java
core/src/main/java/org/elasticsearch/search/lookup/LeafFieldsLookup.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
core/src/main/java/org/elasticsearch/search/sort/ScriptSortParser.java
core/src/main/java/org/elasticsearch/search/sort/SortParseElement.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestParseElement.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggester.java
core/src/main/java/org/elasticsearch/search/suggest/context/ContextBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/context/ContextMapping.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/main/java/org/elasticsearch/transport/TransportInfo.java
core/src/main/java/org/elasticsearch/transport/TransportModule.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
core/src/test/java/org/elasticsearch/action/admin/HotThreadsIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/PercentilesAggregationSearchBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchAndIndexingBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchShortCircuitBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/geo/GeoDistanceSearchBenchmark.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/bootstrap/XTestSecurityManager.java
core/src/test/java/org/elasticsearch/bwcompat/BasicAnalysisBackwardCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/BasicBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/cache/recycler/MockPageCacheRecycler.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffPublishingTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolverTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/cluster/serialization/DiffableTests.java
core/src/test/java/org/elasticsearch/common/blobstore/BlobStoreTests.java
core/src/test/java/org/elasticsearch/common/lucene/index/FreqTermsEnumTests.java
core/src/test/java/org/elasticsearch/common/path/PathTrieTests.java
core/src/test/java/org/elasticsearch/common/util/MockBigArrays.java
core/src/test/java/org/elasticsearch/common/util/MultiDataPathUpgraderTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/ParentFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryIT.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerIT.java
core/src/test/java/org/elasticsearch/indices/analysis/PreBuiltAnalyzerIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/mapping/SimpleGetFieldMappingsIT.java
core/src/test/java/org/elasticsearch/indices/state/OpenCloseIndexIT.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
core/src/test/java/org/elasticsearch/nested/SimpleNestedIT.java
core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
core/src/test/java/org/elasticsearch/rest/HeadersAndContextCopyClientTests.java
core/src/test/java/org/elasticsearch/rest/util/RestUtilsTests.java
core/src/test/java/org/elasticsearch/routing/AliasResolveRoutingIT.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/search/aggregations/EquivalenceIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DedicatedAggregationIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/FilterIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/FiltersIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/MinDocCountIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoBoundingBoxIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoDistanceIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoShapeIntegrationIT.java
core/src/test/java/org/elasticsearch/search/highlight/CustomHighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/matchedqueries/MatchedQueriesIT.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
core/src/test/java/org/elasticsearch/search/scriptfilter/ScriptQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/sort/SimpleSortIT.java
core/src/test/java/org/elasticsearch/search/suggest/ContextSuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/SuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/timeout/SearchTimeoutIT.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
core/src/test/java/org/elasticsearch/test/StackTraces.java
core/src/test/java/org/elasticsearch/test/junit/listeners/AssertionErrorThreadDumpPrinter.java
core/src/test/java/org/elasticsearch/test/rest/RestTestExecutionContext.java
core/src/test/java/org/elasticsearch/test/rest/Stash.java
core/src/test/java/org/elasticsearch/test/rest/client/RestClient.java
core/src/test/java/org/elasticsearch/test/rest/client/http/HttpRequestBuilder.java
core/src/test/java/org/elasticsearch/test/rest/parser/RestTestSuiteParseContext.java
core/src/test/java/org/elasticsearch/test/rest/section/ApiCallSection.java
core/src/test/java/org/elasticsearch/test/rest/section/DoSection.java
core/src/test/java/org/elasticsearch/test/rest/section/SetSection.java
core/src/test/java/org/elasticsearch/test/rest/spec/RestApi.java
core/src/test/java/org/elasticsearch/test/rest/spec/RestSpec.java
core/src/test/java/org/elasticsearch/test/rest/support/FileUtils.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
core/src/test/java/org/elasticsearch/update/UpdateByNativeScriptIT.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequest.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequestBuilder.java
plugins/delete-by-query/src/test/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryActionTests.java
comments:
Merge branch 'master' into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/AndQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/FQueryFilterParser.java
	core/src/main/java/org/elasticsearch/index/query/FilteredQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/LimitQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/LimitQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/OrQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
	core/src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
	core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
	core/src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
	core/src/main/java/org/elasticsearch/indices/query/IndicesQueriesRegistry.java
	core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
	core/src/main/java/org/elasticsearch/search/sort/SortParseElement.java
	core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchShortCircuitBenchmark.java
	core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java

time:
2015-09-10T13:35:03Z
class:
comments:
[test] Fix help test for _cat/shards

We added a new field and the help test didn't expect it to be there.

time:
2015-09-10T13:19:12Z
class:
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
comments:
set query cache to null

time:
2015-09-10T13:03:24Z
class:
core/src/main/java/org/elasticsearch/index/indexing/IndexingStats.java
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsIT.java
comments:
[Stats] Adds counter for failed indexing requests

Adds the stats to the _cat/indices, _cat/shards, and the _stats apis.

Closes #8938

time:
2015-09-10T12:51:23Z
class:
core/src/test/java/org/elasticsearch/search/geo/GeoShapeIntegrationIT.java
comments:
[test] don't catch AssertionError from indexRandom(). just index and catch MapperParsingException

time:
2015-09-10T12:40:17Z
class:
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/NestedQueryBuilderTests.java
core/src/test/java/org/elasticsearch/nested/SimpleNestedIT.java
core/src/test/java/org/elasticsearch/percolator/MultiPercolatorIT.java
core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
comments:
Split NestedQueryParser into toQuery and formXContent

This commit splits NestedQueryParser into toQuery and fromXContent.

Relates to #10217

time:
2015-09-10T12:21:33Z
class:
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
comments:
Don't be lenient if JarHell is found

Closes #13404

time:
2015-09-10T12:19:10Z
class:
core/src/main/java/org/elasticsearch/index/query/Operator.java
comments:
Remove ordinal member from Operator enum

Use the already available enum ordinal instead.

Closes #13456

time:
2015-09-10T11:21:59Z
class:
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
comments:
Use AbstractQueryTestCase in MatchQueryBuilderTests

time:
2015-09-10T11:12:26Z
class:
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NotQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/AbstractTermQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/AndQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/BoostingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/CommonTermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ExistsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FQueryFilterBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FilteredQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FuzzyQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeohashCellQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IndicesQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/LimitQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchAllQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchNoneQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MissingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NotQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/OrQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/PrefixQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryFilterBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RandomQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RegexpQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ScriptQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanContainingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanFirstQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNearQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNotQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanOrQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanTermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanWithinQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TypeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WildcardQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
comments:
Merge pull request #13441 from s1monw/fix_query_base_test

Cleanup QueryTest framework and be more strict

time:
2015-09-10T10:58:25Z
class:
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NotQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NotQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
comments:
Cleanup code and always use strict parsing on query tests

time:
2015-09-10T10:47:06Z
class:
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
comments:
parent/child: has_child has_parent queries shouldn't require search context

time:
2015-09-10T10:21:12Z
class:
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
core/src/main/java/org/elasticsearch/search/sort/SortParseElement.java
core/src/test/java/org/elasticsearch/nested/SimpleNestedIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoDistanceIT.java
core/src/test/java/org/elasticsearch/search/sort/SimpleSortIT.java
comments:
nested sorting: If sorting by nested field then the `nested_path` should always be specified.

Closes #13420

time:
2015-09-10T10:15:39Z
class:
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/internal/ParentFieldMapperTests.java
comments:
Merge pull request #13430 from martijnvg/pc/parent_field_always_store_doc_values

Parent field mapper should always store doc values join field.

time:
2015-09-10T10:14:55Z
class:
core/src/main/java/org/apache/lucene/queries/ExtendedCommonTermsQuery.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/main/java/org/elasticsearch/index/search/MatchQuery.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/query/MultiMatchQueryIT.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
comments:
Query refactoring: MatchQueryBuilder

This add equals, hashcode, read/write methods, separates toQuery and JSON parsing and adds tests.
Also moving MatchQueryBuilder.Type to MatchQuery to MatchQuery, adding serialization and hashcode,
equals there.

Relates to #10217

time:
2015-09-10T10:02:11Z
class:
comments:
part types are not string but list on the _search_shards endpoint

time:
2015-09-10T10:00:06Z
class:
comments:
synced flush incorrectly documented url parameters as path parameters

time:
2015-09-10T09:14:31Z
class:
comments:
Release: Remove deprecated method of repository creation

This removes the old shell script for repository creation.
Small fix for gpg key name as well.

time:
2015-09-10T09:02:10Z
class:
core/src/main/java/org/elasticsearch/index/query/support/XContentStructure.java
comments:
delete unused XContentStructure class

time:
2015-09-10T08:57:13Z
class:
core/src/main/java/org/elasticsearch/index/query/NotQueryParser.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/AbstractTermQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/AndQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/BoostingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/CommonTermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ExistsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FQueryFilterBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FilteredQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FuzzyQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeohashCellQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IndicesQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/LimitQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchAllQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchNoneQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MissingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NotQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/OrQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/PrefixQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryFilterBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RandomQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RegexpQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ScriptQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanContainingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanFirstQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNearQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNotQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanOrQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanTermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanWithinQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TypeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WildcardQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
comments:
Cleanup QueryTest framework and be more strict

This commit contains:
 * renaming BaseQueryTestCase to AbstractQueryTestCase
 * uses always STRICT parsing when parsing from builders XContent
 * ensures that SearchContext is only but always available during toQuery but never during parse phase
 * adds a way to override the default ParseFieldMatcher to allow queries to set deprecated API by default

time:
2015-09-10T08:49:13Z
class:
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/bootstrap/XTestSecurityManager.java
comments:
Reenable XTestSecurityManager

time:
2015-09-10T08:39:24Z
class:
core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/AndQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FQueryFilterParser.java
core/src/main/java/org/elasticsearch/index/query/FilteredQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
core/src/main/java/org/elasticsearch/index/query/LimitQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/LimitQueryParser.java
core/src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/OrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/test/java/org/elasticsearch/action/admin/HotThreadsIT.java
core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchAndIndexingBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchShortCircuitBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/geo/GeoDistanceSearchBenchmark.java
core/src/test/java/org/elasticsearch/bwcompat/BasicBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/nested/SimpleNestedIT.java
core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DedicatedAggregationIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/FilterIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/FiltersIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoBoundingBoxIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoDistanceIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoShapeIntegrationIT.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/matchedqueries/MatchedQueriesIT.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
core/src/test/java/org/elasticsearch/search/scriptfilter/ScriptQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/sort/SimpleSortIT.java
core/src/test/java/org/elasticsearch/search/suggest/SuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/timeout/SearchTimeoutIT.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
comments:
Merge pull request #13418 from jpountz/fix/query_deprecations

Remove support for deprecated queries.

time:
2015-09-10T08:38:11Z
class:
core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/AndQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FQueryFilterParser.java
core/src/main/java/org/elasticsearch/index/query/FilteredQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
core/src/main/java/org/elasticsearch/index/query/LimitQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/LimitQueryParser.java
core/src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/OrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/test/java/org/elasticsearch/action/admin/HotThreadsIT.java
core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchAndIndexingBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchShortCircuitBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/geo/GeoDistanceSearchBenchmark.java
core/src/test/java/org/elasticsearch/bwcompat/BasicBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/nested/SimpleNestedIT.java
core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DedicatedAggregationIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/FilterIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/FiltersIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoBoundingBoxIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoDistanceIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoShapeIntegrationIT.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/matchedqueries/MatchedQueriesIT.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
core/src/test/java/org/elasticsearch/search/scriptfilter/ScriptQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/sort/SimpleSortIT.java
core/src/test/java/org/elasticsearch/search/suggest/SuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/timeout/SearchTimeoutIT.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
comments:
Remove support for deprecated queries.

This removes support for the `and`, `or`, `fquery`, `limit` and `filtered`
queries. `query` is still supported until #13326 is fixed.

time:
2015-09-10T08:09:24Z
class:
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/apache/lucene/queryparser/classic/QueryParserSettings.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/Operator.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/CommonTermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTests.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
comments:
Query refactoring: query_string

Relates to #10217

time:
2015-09-10T07:57:02Z
class:
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
comments:
Swap out XTestSecurityManager until we figured out why it crashes the JVM

time:
2015-09-10T06:27:44Z
class:
comments:
Update query_dsl.asciidoc

time:
2015-09-10T00:57:23Z
class:
comments:
Adds links to Logstash plugins under the Integrations page.

time:
2015-09-09T23:08:50Z
class:
comments:
add temp test security manager to test jar

time:
2015-09-09T22:51:34Z
class:
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/common/util/MultiDataPathUpgraderTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
comments:
Add helper method so indices path is not copied all over

time:
2015-09-09T22:42:26Z
class:
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/common/util/MultiDataPathUpgraderTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
comments:
Tests: Move static bwc indexes to a shared location

There are a few tests that currently use the statically generated
backcompat indexes. This change moves them to a shared location, so they
no longer have to build a path based on the package name of the old
index tests.

time:
2015-09-09T22:22:05Z
class:
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/bootstrap/XTestSecurityManager.java
comments:
Merge pull request #13442 from rmuir/ide_noise

Remove noise when IDE test runners try to System.exit

time:
2015-09-09T22:17:48Z
class:
core/src/test/java/org/elasticsearch/bootstrap/XTestSecurityManager.java
comments:
Tweak intellij junit package name

time:
2015-09-09T22:03:32Z
class:
core/src/test/java/org/elasticsearch/bootstrap/XTestSecurityManager.java
comments:
lie to the stupid license checker

time:
2015-09-09T22:00:46Z
class:
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/bootstrap/XTestSecurityManager.java
comments:
Remove noise when IDE test runners try to System.exit

time:
2015-09-09T21:58:44Z
class:
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndexSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndexStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/IndexUpgradeStatus.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsRequest.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchHelper.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodesResponse.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/update/UpdateHelper.java
core/src/main/java/org/elasticsearch/cluster/DiffableUtils.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodeService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTableValidation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationExplanation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/main/java/org/elasticsearch/common/Table.java
core/src/main/java/org/elasticsearch/common/cli/CheckFileCommand.java
core/src/main/java/org/elasticsearch/common/collect/CopyOnWriteHashMap.java
core/src/main/java/org/elasticsearch/common/collect/CopyOnWriteHashSet.java
core/src/main/java/org/elasticsearch/common/collect/MapBuilder.java
core/src/main/java/org/elasticsearch/common/inject/InheritingState.java
core/src/main/java/org/elasticsearch/common/inject/Initializer.java
core/src/main/java/org/elasticsearch/common/inject/InjectorImpl.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider.java
core/src/main/java/org/elasticsearch/common/inject/internal/InternalContext.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/common/inject/util/Modules.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/settings/loader/PropertiesSettingsLoader.java
core/src/main/java/org/elasticsearch/common/settings/loader/SettingsLoader.java
core/src/main/java/org/elasticsearch/common/settings/loader/XContentSettingsLoader.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
core/src/main/java/org/elasticsearch/common/xcontent/support/XContentMapValues.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
core/src/main/java/org/elasticsearch/gateway/DanglingIndicesState.java
core/src/main/java/org/elasticsearch/gateway/MetaStateService.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
core/src/main/java/org/elasticsearch/index/analysis/NumericDateAnalyzer.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
core/src/main/java/org/elasticsearch/index/get/GetResult.java
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentFieldMappers.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/DynamicTemplate.java
core/src/main/java/org/elasticsearch/index/percolator/QueriesLoaderCollector.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityModule.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshots.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/SnapshotFiles.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
core/src/main/java/org/elasticsearch/indices/analysis/PreBuiltCacheFactory.java
core/src/main/java/org/elasticsearch/indices/query/IndicesQueriesRegistry.java
core/src/main/java/org/elasticsearch/indices/recovery/StartRecoveryRequest.java
core/src/main/java/org/elasticsearch/repositories/RepositoriesService.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreFormat.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/template/get/RestGetIndexTemplateAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestThreadPoolAction.java
core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java
core/src/main/java/org/elasticsearch/script/ScriptModes.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregations.java
core/src/main/java/org/elasticsearch/search/aggregations/ValuesSourceAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/InternalSignificantTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ScriptHeuristic.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/InternalTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceParser.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/script/ScriptFieldsParseElement.java
core/src/main/java/org/elasticsearch/search/highlight/FastVectorHighlighter.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
core/src/main/java/org/elasticsearch/search/highlight/PlainHighlighter.java
core/src/main/java/org/elasticsearch/search/highlight/PostingsHighlighter.java
core/src/main/java/org/elasticsearch/search/highlight/SearchContextHighlight.java
core/src/main/java/org/elasticsearch/search/lookup/LeafDocLookup.java
core/src/main/java/org/elasticsearch/search/lookup/LeafFieldsLookup.java
core/src/main/java/org/elasticsearch/search/sort/ScriptSortParser.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestParseElement.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggester.java
core/src/main/java/org/elasticsearch/search/suggest/context/ContextBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/context/ContextMapping.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/main/java/org/elasticsearch/transport/TransportInfo.java
core/src/main/java/org/elasticsearch/transport/TransportModule.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/PercentilesAggregationSearchBenchmark.java
core/src/test/java/org/elasticsearch/cache/recycler/MockPageCacheRecycler.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffPublishingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/cluster/serialization/DiffableTests.java
core/src/test/java/org/elasticsearch/common/blobstore/BlobStoreTests.java
core/src/test/java/org/elasticsearch/common/lucene/index/FreqTermsEnumTests.java
core/src/test/java/org/elasticsearch/common/path/PathTrieTests.java
core/src/test/java/org/elasticsearch/common/util/MockBigArrays.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryIT.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerIT.java
core/src/test/java/org/elasticsearch/indices/analysis/PreBuiltAnalyzerIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/mapping/SimpleGetFieldMappingsIT.java
core/src/test/java/org/elasticsearch/rest/HeadersAndContextCopyClientTests.java
core/src/test/java/org/elasticsearch/rest/util/RestUtilsTests.java
core/src/test/java/org/elasticsearch/routing/AliasResolveRoutingIT.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/search/aggregations/EquivalenceIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/highlight/CustomHighlighterSearchIT.java
core/src/test/java/org/elasticsearch/test/rest/RestTestExecutionContext.java
core/src/test/java/org/elasticsearch/test/rest/Stash.java
core/src/test/java/org/elasticsearch/test/rest/client/RestClient.java
core/src/test/java/org/elasticsearch/test/rest/client/http/HttpRequestBuilder.java
core/src/test/java/org/elasticsearch/test/rest/parser/RestTestSuiteParseContext.java
core/src/test/java/org/elasticsearch/test/rest/section/ApiCallSection.java
core/src/test/java/org/elasticsearch/test/rest/section/DoSection.java
core/src/test/java/org/elasticsearch/test/rest/section/SetSection.java
core/src/test/java/org/elasticsearch/test/rest/spec/RestApi.java
core/src/test/java/org/elasticsearch/test/rest/spec/RestSpec.java
core/src/test/java/org/elasticsearch/test/rest/support/FileUtils.java
core/src/test/java/org/elasticsearch/update/UpdateByNativeScriptIT.java
plugins/discovery-multicast/src/main/java/org/elasticsearch/plugin/discovery/multicast/MulticastChannel.java
comments:
Merge pull request #13438 from jasontedor/maps-be-gone

Remove and forbid use of com.google.common.collect.Maps

time:
2015-09-09T21:41:41Z
class:
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndexSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndexStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/IndexUpgradeStatus.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsRequest.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchHelper.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodesResponse.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/update/UpdateHelper.java
core/src/main/java/org/elasticsearch/cluster/DiffableUtils.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodeService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTableValidation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationExplanation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/main/java/org/elasticsearch/common/Table.java
core/src/main/java/org/elasticsearch/common/cli/CheckFileCommand.java
core/src/main/java/org/elasticsearch/common/collect/CopyOnWriteHashMap.java
core/src/main/java/org/elasticsearch/common/collect/CopyOnWriteHashSet.java
core/src/main/java/org/elasticsearch/common/collect/MapBuilder.java
core/src/main/java/org/elasticsearch/common/inject/InheritingState.java
core/src/main/java/org/elasticsearch/common/inject/Initializer.java
core/src/main/java/org/elasticsearch/common/inject/InjectorImpl.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider.java
core/src/main/java/org/elasticsearch/common/inject/internal/InternalContext.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/common/inject/util/Modules.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/settings/loader/PropertiesSettingsLoader.java
core/src/main/java/org/elasticsearch/common/settings/loader/SettingsLoader.java
core/src/main/java/org/elasticsearch/common/settings/loader/XContentSettingsLoader.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
core/src/main/java/org/elasticsearch/common/xcontent/support/XContentMapValues.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
core/src/main/java/org/elasticsearch/gateway/DanglingIndicesState.java
core/src/main/java/org/elasticsearch/gateway/MetaStateService.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
core/src/main/java/org/elasticsearch/index/analysis/NumericDateAnalyzer.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
core/src/main/java/org/elasticsearch/index/get/GetResult.java
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentFieldMappers.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/DynamicTemplate.java
core/src/main/java/org/elasticsearch/index/percolator/QueriesLoaderCollector.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityModule.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshots.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/SnapshotFiles.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
core/src/main/java/org/elasticsearch/indices/analysis/PreBuiltCacheFactory.java
core/src/main/java/org/elasticsearch/indices/query/IndicesQueriesRegistry.java
core/src/main/java/org/elasticsearch/indices/recovery/StartRecoveryRequest.java
core/src/main/java/org/elasticsearch/repositories/RepositoriesService.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreFormat.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/template/get/RestGetIndexTemplateAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestThreadPoolAction.java
core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java
core/src/main/java/org/elasticsearch/script/ScriptModes.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregations.java
core/src/main/java/org/elasticsearch/search/aggregations/ValuesSourceAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/InternalSignificantTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ScriptHeuristic.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/InternalTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceParser.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/script/ScriptFieldsParseElement.java
core/src/main/java/org/elasticsearch/search/highlight/FastVectorHighlighter.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
core/src/main/java/org/elasticsearch/search/highlight/PlainHighlighter.java
core/src/main/java/org/elasticsearch/search/highlight/PostingsHighlighter.java
core/src/main/java/org/elasticsearch/search/highlight/SearchContextHighlight.java
core/src/main/java/org/elasticsearch/search/lookup/LeafDocLookup.java
core/src/main/java/org/elasticsearch/search/lookup/LeafFieldsLookup.java
core/src/main/java/org/elasticsearch/search/sort/ScriptSortParser.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestParseElement.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggester.java
core/src/main/java/org/elasticsearch/search/suggest/context/ContextBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/context/ContextMapping.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/main/java/org/elasticsearch/transport/TransportInfo.java
core/src/main/java/org/elasticsearch/transport/TransportModule.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/PercentilesAggregationSearchBenchmark.java
core/src/test/java/org/elasticsearch/cache/recycler/MockPageCacheRecycler.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffPublishingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/cluster/serialization/DiffableTests.java
core/src/test/java/org/elasticsearch/common/blobstore/BlobStoreTests.java
core/src/test/java/org/elasticsearch/common/lucene/index/FreqTermsEnumTests.java
core/src/test/java/org/elasticsearch/common/path/PathTrieTests.java
core/src/test/java/org/elasticsearch/common/util/MockBigArrays.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryIT.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerIT.java
core/src/test/java/org/elasticsearch/indices/analysis/PreBuiltAnalyzerIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/mapping/SimpleGetFieldMappingsIT.java
core/src/test/java/org/elasticsearch/rest/HeadersAndContextCopyClientTests.java
core/src/test/java/org/elasticsearch/rest/util/RestUtilsTests.java
core/src/test/java/org/elasticsearch/routing/AliasResolveRoutingIT.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/search/aggregations/EquivalenceIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/highlight/CustomHighlighterSearchIT.java
core/src/test/java/org/elasticsearch/test/rest/RestTestExecutionContext.java
core/src/test/java/org/elasticsearch/test/rest/Stash.java
core/src/test/java/org/elasticsearch/test/rest/client/RestClient.java
core/src/test/java/org/elasticsearch/test/rest/client/http/HttpRequestBuilder.java
core/src/test/java/org/elasticsearch/test/rest/parser/RestTestSuiteParseContext.java
core/src/test/java/org/elasticsearch/test/rest/section/ApiCallSection.java
core/src/test/java/org/elasticsearch/test/rest/section/DoSection.java
core/src/test/java/org/elasticsearch/test/rest/section/SetSection.java
core/src/test/java/org/elasticsearch/test/rest/spec/RestApi.java
core/src/test/java/org/elasticsearch/test/rest/spec/RestSpec.java
core/src/test/java/org/elasticsearch/test/rest/support/FileUtils.java
core/src/test/java/org/elasticsearch/update/UpdateByNativeScriptIT.java
plugins/discovery-multicast/src/main/java/org/elasticsearch/plugin/discovery/multicast/MulticastChannel.java
comments:
Remove and forbid use of com.google.common.collect.Maps

This commit removes and now forbids all uses of
com.google.common.collect.Maps across the codebase. This is one of many
steps in the eventual removal of Guava as a dependency.

Relates #13224

time:
2015-09-09T21:23:41Z
class:
core/src/test/java/org/elasticsearch/test/ESTestCase.java
core/src/test/java/org/elasticsearch/test/StackTraces.java
core/src/test/java/org/elasticsearch/test/junit/listeners/AssertionErrorThreadDumpPrinter.java
comments:
Merge pull request #13440 from jasontedor/remove-thread-dumps-on-test-failures

Do not dump stack traces of threads on test failure

time:
2015-09-09T21:07:13Z
class:
core/src/test/java/org/elasticsearch/test/ESTestCase.java
core/src/test/java/org/elasticsearch/test/StackTraces.java
core/src/test/java/org/elasticsearch/test/junit/listeners/AssertionErrorThreadDumpPrinter.java
comments:
Do not dump stack traces of threads on test failure

Reverts 878301c795e6ad2c47c620c893b3324a564e0d91, relates #12425

time:
2015-09-09T21:04:54Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/open/TransportOpenIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/put/TransportUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/common/inject/spi/TypeEncounter.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/gateway/Gateway.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/SingleFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParserMapper.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/PercentilesBucketBuilder.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/bwcompat/BasicAnalysisBackwardCompatibilityIT.java
core/src/test/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolverTests.java
core/src/test/java/org/elasticsearch/common/util/MultiDataPathUpgraderTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/indices/state/OpenCloseIndexIT.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/MinDocCountIT.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
core/src/test/java/org/elasticsearch/search/suggest/ContextSuggestSearchIT.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequest.java
plugins/delete-by-query/src/test/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryActionTests.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/discovery/ec2/AwsEc2UnicastHostsProvider.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/TestAwsS3Service.java
comments:
Merge pull request #13410 from rjernst/you_were_warned

Fix compiler warnings

time:
2015-09-09T20:08:19Z
class:
comments:
add more notes about Eclipse setup

- "search for nested projects..."
- amount of memory Eclipse needs to build elasticsearch successfully
- make sure m2e-connector is not installed

time:
2015-09-09T19:47:07Z
class:
core/src/test/java/org/elasticsearch/search/aggregations/bucket/MinDocCountIT.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequest.java
plugins/delete-by-query/src/test/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryActionTests.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/discovery/ec2/AwsEc2UnicastHostsProvider.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/TestAwsS3Service.java
comments:
Add xlint ignores for warning classes, where appropriate.

time:
2015-09-09T19:13:14Z
class:
core/src/test/java/org/elasticsearch/index/query/TemplateQueryBuilderTests.java
comments:
[TEST] fix template query with unmapped fields

time:
2015-09-09T17:31:46Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/Elasticsearch.java
comments:
Packaging: Fix Windows service start/stop issues

This commit addresses several bugs that prevented the Windows
service from being started or stopped:

- Extra white space in the concatenation of java options in
  elasticsearch.in.bat which tripped up Apache Commons Daemon
  and caused ES to startup without any params, eventually leading
  to the "path.home is not configured" exception.

- service.bat was not passing the start argument to ES

- The service could not be stopped gracefully via the stop command
  because there wasn't a method for procrun to call.

Closes #13247
Closes #13401

time:
2015-09-09T16:46:40Z
class:
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/internal/ParentFieldMapperTests.java
comments:
parent/child: Always store doc values join field.

Now that the pre 2.0 parent child implementation has been removed there is no need to have logic that decides not to store the join doc values field.

time:
2015-09-09T15:15:44Z
class:
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
comments:
adapted to changes upstream

time:
2015-09-09T15:08:22Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/support/TransportActions.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequest.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodeFilters.java
core/src/main/java/org/elasticsearch/common/cli/CliTool.java
core/src/main/java/org/elasticsearch/common/geo/XShapeCollection.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiPointBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/lucene/search/MoreLikeThisQuery.java
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
core/src/main/java/org/elasticsearch/gateway/Gateway.java
core/src/main/java/org/elasticsearch/gateway/GatewayModule.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/ForceMergeFailedEngineException.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildFilteredTermsEnum.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIntersectTermsEnum.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/Mapper.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/RootObjectMapper.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ScoreType.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ConstantScorer.java
core/src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ParentIdsFilter.java
core/src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
core/src/main/java/org/elasticsearch/index/search/morelikethis/MoreLikeThisFetchService.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/NodeBuilder.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/children/ParentToChildrenAggregator.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java
core/src/test/java/org/elasticsearch/benchmark/recovery/ReplicaRecoveryBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/scripts/expression/ScriptComparisonBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/ScriptsConstantScoreBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/ScriptsScoreBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/ScriptsScorePayloadSumBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchShortCircuitBenchmark.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/client/AbstractClientHeadersTestCase.java
core/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteIT.java
core/src/test/java/org/elasticsearch/cluster/node/DiscoveryNodeFiltersTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityTests.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/gateway/GatewayModuleTests.java
core/src/test/java/org/elasticsearch/gateway/GatewayTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/plain/ParentChildFilteredTermsEnumTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/ParentFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ScoreTypeTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/search/child/AbstractChildTestCase.java
core/src/test/java/org/elasticsearch/index/search/child/BitSetCollector.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/MockScorer.java
core/src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
core/src/test/java/org/elasticsearch/node/MockNode.java
core/src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/plugins/PluginsServiceTests.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchBwcIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/child/ParentFieldLoadingBwcIT.java
core/src/test/java/org/elasticsearch/search/child/ParentFieldLoadingIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoShapeIntegrationIT.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
core/src/test/java/org/elasticsearch/search/morelikethis/ItemSerializationTests.java
core/src/test/java/org/elasticsearch/search/morelikethis/MoreLikeThisIT.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/geo/RandomShapeGenerator.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortIntegrationIT.java
comments:
Merge branch 'master' into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
	core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
	core/src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
	core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
	core/src/test/java/org/elasticsearch/index/search/child/AbstractChildTestCase.java
	core/src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
	core/src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
	core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchBwcIT.java
	core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
	core/src/test/resources/org/elasticsearch/index/query/simple-query-string.json

time:
2015-09-09T13:24:53Z
class:
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeohashCellQueryBuilderTests.java
comments:
[TEST] fix geo query failures when no types are defined

time:
2015-09-09T13:20:10Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildFilteredTermsEnum.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIntersectTermsEnum.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ScoreType.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ConstantScorer.java
core/src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ParentIdsFilter.java
core/src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/children/ParentToChildrenAggregator.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java
core/src/test/java/org/elasticsearch/index/fielddata/plain/ParentChildFilteredTermsEnumTests.java
core/src/test/java/org/elasticsearch/index/query/ScoreTypeTests.java
core/src/test/java/org/elasticsearch/index/search/child/AbstractChildTestCase.java
core/src/test/java/org/elasticsearch/index/search/child/BitSetCollector.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/MockScorer.java
core/src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchBwcIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/child/ParentFieldLoadingBwcIT.java
comments:
Merge pull request #13376 from martijnvg/remove_pre2x_slow_parent_child

Removed pre 2.x parent child implementation

time:
2015-09-09T13:17:48Z
class:
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
comments:
Merge remote-tracking branch 'origin/master'

time:
2015-09-09T13:15:53Z
class:
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodeFilters.java
core/src/test/java/org/elasticsearch/cluster/node/DiscoveryNodeFiltersTests.java
comments:
Allocation: add support for filtering by transport IP address

Allocation filtering by IP only works today using the node host address. But in some cases, you might want to filter using the publish address which could be different.

time:
2015-09-09T13:12:35Z
class:
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
comments:
Merge pull request #13407 from rmuir/ide_security_manager

Enable security manager by default in tests (e.g. IDEs)

time:
2015-09-09T12:40:24Z
class:
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
comments:
Query Refactoring: Refactor of GeoDistanceRangeQuery

Moving the query building functionality from the parser to the builders
new toQuery() method analogous to other recent query refactorings.

Also this PR removes the check that the index is created before 2.0 for the normalize parameter. The parameter is now always parsed but as a deprecated parameter. We cannot and should not access the index version during parsing.

Relates to #10217

PR goes against the query-refactoring branch

time:
2015-09-09T12:33:33Z
class:
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/GeohashCellQueryBuilderTests.java
comments:
Query Refactoring: Refactor of GeohashCellQuery

Moving the query building functionality from the parser to the builders
new toQuery() method analogous to other recent query refactorings.

Relates to #10217

PR goes against the query-refactoring branch

time:
2015-09-09T12:16:49Z
class:
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryParser.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryBuilderTests.java
comments:
Refactors TemplateQueryBuilder and Parser

Relates to #10217

This PR is against the query-refactoring branch.

Closes #13253

time:
2015-09-09T12:04:40Z
class:
comments:
[test] Packaging tests use Java 8

To do this we:
1. All the rpm based distros we test support Java 8. We just ask to install
it.
2. There is a ppa that works for the Ubuntus. We just add that for them.
3. Debian Jessie has Java 8 in its backports. We just add that repository.
4. Debian Wheezy doesn't have Java 8 easily accessible so we drop it. We
could add it back with Orache Java 8 at a later date but that will take a
few more backflips and won't support things like vagrant-cachier.

This required a ton of rebuilding of vagrant boxes so it also fixes:
1. apt-get update is run too frequently
2. Lots of weird warning messages are spit out of apt-get
3. Switch from the chef provided based images to those provided by boxcutter.
The chef images has left vagrant atlas!

Closes #13366

time:
2015-09-09T11:23:14Z
class:
core/src/main/java/org/elasticsearch/gateway/Gateway.java
core/src/test/java/org/elasticsearch/gateway/GatewayTests.java
comments:
Internal: extract gateway required allocation calculations

and add a basic test

Closes #13391

time:
2015-09-09T11:21:40Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildFilteredTermsEnum.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIntersectTermsEnum.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ScoreType.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ConstantScorer.java
core/src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ParentIdsFilter.java
core/src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/children/ParentToChildrenAggregator.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java
core/src/test/java/org/elasticsearch/index/fielddata/plain/ParentChildFilteredTermsEnumTests.java
core/src/test/java/org/elasticsearch/index/query/ScoreTypeTests.java
core/src/test/java/org/elasticsearch/index/search/child/AbstractChildTestCase.java
core/src/test/java/org/elasticsearch/index/search/child/BitSetCollector.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/MockScorer.java
core/src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchBwcIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/child/ParentFieldLoadingBwcIT.java
comments:
Removed pre 2.x parent child implementation

time:
2015-09-09T11:19:25Z
class:
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
core/src/main/java/org/elasticsearch/gateway/GatewayModule.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/test/java/org/elasticsearch/benchmark/recovery/ReplicaRecoveryBenchmark.java
core/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteIT.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/gateway/GatewayModuleTests.java
comments:
Gateway: allow overriding the Gateway implementation

Allows mocking the gateway and overriding it from plugins.

Closes #13412

time:
2015-09-09T11:13:41Z
class:
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
comments:
inner hits: Protected against specifying a size larger than the total amount of documents in an index.

Closes #13394

time:
2015-09-09T10:41:32Z
class:
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
comments:
[test] make sure result is never null and that flush and get start at same time

time:
2015-09-09T10:06:44Z
class:
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchBwcIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
comments:
Split HasParentQueryParser into toQuery and formXContent

This commit splits HasParentQueryParser into toQuery and fromXContent.
This change also deprecates several keys in favor of simplified settings
and adds basic unittests for HasParentQueryParser.

Relates to #10217

time:
2015-09-09T10:06:26Z
class:
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
comments:
Merge pull request #13414 from brwe/commit-refresh-order

Engine: refresh before translog commit

time:
2015-09-09T09:40:27Z
class:
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequest.java
core/src/main/java/org/elasticsearch/common/lucene/search/MoreLikeThisQuery.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
core/src/main/java/org/elasticsearch/index/search/morelikethis/MoreLikeThisFetchService.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/search/morelikethis/ItemSerializationTests.java
core/src/test/java/org/elasticsearch/search/morelikethis/MoreLikeThisIT.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
comments:
MLT: builder takes a new Item object like its parser

Previously the parser could take any Term Vectors request, but this would be
not the case of the builder which would still use MultiGetRequest.Item. This
introduces a new Item class which is used by both the builder and parser.

Beyond that the rest is mostly cleanups such as:

1) Deprecating the ignoreLike methods, in favor to using unlike.

2) Deprecating and renaming MoreLikeThisBuilder#addItem to addLikeItem.

3) Ordering the methods of MoreLikeThisBuilder more logically.

This change is needed for the upcoming query refactoring of MLT.

Closes #13372

time:
2015-09-09T09:10:43Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/Mapper.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/RootObjectMapper.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/internal/ParentFieldMapperTests.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/child/ParentFieldLoadingBwcIT.java
core/src/test/java/org/elasticsearch/search/child/ParentFieldLoadingIT.java
comments:
parent/child: Split the _parent field mapping's field type into three field types:
1) A shared immutable fieldtype for the _parent field (used for direct access to that field in the dsl). This field type is stored and indexed.
2) A per type field type for the child join field. The field type has doc values enabled if index is created on or post 2.0 and field data type is allowed to be changed.
3) A per type field type for the parent join field. The field type has doc values enabled if index is created on or post 2.0.

This resolves the issue that a mapping is not compatible if parent and child types have different field data loading settings.

Closes #13169

time:
2015-09-09T08:37:13Z
class:
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
comments:
Engine: refresh before translog commit

When we commit the translog, documents that were in it before cannot be retrieved from
it anymore via get and have to be retrieved from the index instead. But they will only
be visible if between index and get a refresh is called. Therfore we have to call
first refresh and then translog.commit() because otherwise there is a small gap
in which we cannot read from the translog anymore but also not from the index.

closes #13379

time:
2015-09-09T07:59:42Z
class:
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
comments:
[TEST] re-enable boost assertions for queries that don't support it

This will be useful to find out whether we forgot to override `setFinalBoost`, otherwise any bost check is simply skipped.

time:
2015-09-09T06:49:20Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/common/inject/spi/TypeEncounter.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/SingleFieldsVisitor.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/MinDocCountIT.java
comments:
Add Xlint options and fix some warnings

time:
2015-09-09T05:15:34Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/open/TransportOpenIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/put/TransportUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/gateway/Gateway.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParserMapper.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/PercentilesBucketBuilder.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/bwcompat/BasicAnalysisBackwardCompatibilityIT.java
core/src/test/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolverTests.java
core/src/test/java/org/elasticsearch/common/util/MultiDataPathUpgraderTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/state/OpenCloseIndexIT.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
core/src/test/java/org/elasticsearch/search/suggest/ContextSuggestSearchIT.java
comments:
Build: Fix compiler warnings

We have a handful of compiler warnings, mostly because of passing an
array to varargs methods. This change fixes these warnings and adds
-Werror so we don't get anymore of these warnings.

Note this does *not* enable deprecation or unchecked type warnings, so
these remain "hidden". We should work towards removing those as well,
but this is a first step.

time:
2015-09-09T01:59:37Z
class:
core/src/test/java/org/elasticsearch/client/AbstractClientHeadersTestCase.java
comments:
Merge pull request #13409 from jasontedor/throwables-be-gone

Remove and forbid use of com.google.common.base.Throwables

time:
2015-09-09T01:56:23Z
class:
core/src/test/java/org/elasticsearch/client/AbstractClientHeadersTestCase.java
comments:
Remove and forbid use of com.google.common.base.Throwables

This commit removes and now forbids all uses of
com.google.common.base.Throwables across the codebase.

For uses of com.google.common.base.Throwables#getStackTraceAsString,
use org.elasticsearch.ExceptionsHelper#stackTrace.

Relates #13224

time:
2015-09-08T22:29:06Z
class:
core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
comments:
Add back path.logs setup in internal settings preparer

time:
2015-09-08T21:17:50Z
class:
core/src/main/java/org/elasticsearch/common/geo/XShapeCollection.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiPointBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapperTests.java
core/src/test/java/org/elasticsearch/search/geo/GeoShapeIntegrationIT.java
core/src/test/java/org/elasticsearch/test/geo/RandomShapeGenerator.java
comments:
add points_only option to GeoShapeFieldMapper for optimizing indexing performance on geo_shape indexes designed to store only points. Includes updated documentation and exception handling for ensuring index integrity on points only data.

time:
2015-09-08T20:28:21Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/common/cli/CliTool.java
core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/NodeBuilder.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
core/src/test/java/org/elasticsearch/benchmark/scripts/expression/ScriptComparisonBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/ScriptsConstantScoreBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/ScriptsScoreBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/ScriptsScorePayloadSumBenchmark.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityTests.java
core/src/test/java/org/elasticsearch/node/MockNode.java
core/src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/plugins/PluginsServiceTests.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortIntegrationIT.java
comments:
Merge pull request #13383 from rjernst/go_away_transport_paths

Remove environment from transport client

time:
2015-09-08T20:25:31Z
class:
comments:
Merge pull request #13385 from rjernst/wrong_resources

Move resources to their proper location

time:
2015-09-08T20:13:10Z
class:
core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
comments:
Move logging specific settings setup to log configurator.

time:
2015-09-08T19:57:28Z
class:
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
comments:
Address PR comments

time:
2015-09-08T19:55:33Z
class:
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
comments:
Enable security manager by default in tests (e.g. IDEs)

Otherwise people will be confused when they use maven.

time:
2015-09-08T19:32:07Z
class:
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
comments:
Give intellij its jar hell back. This is not an invitation for more leniency.

time:
2015-09-08T19:23:20Z
class:
comments:
[doc] Java add missing breaking changes

Closes #13151

time:
2015-09-08T17:47:20Z
class:
comments:
Merge pull request #13373 from nik9000/reinstall_test

Add test for package reinstall after remove

time:
2015-09-08T17:40:31Z
class:
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/MatchNoneQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryFilterBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
comments:
[TEST] minor adjustments to boost assertions for queries that don't support it

time:
2015-09-08T17:22:46Z
class:
comments:
Add migration guide note about transport client changes to
settings/environment

time:
2015-09-08T17:16:25Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/NodeBuilder.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
core/src/test/java/org/elasticsearch/benchmark/scripts/expression/ScriptComparisonBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/ScriptsConstantScoreBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/ScriptsScoreBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/ScriptsScorePayloadSumBenchmark.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityTests.java
core/src/test/java/org/elasticsearch/node/MockNode.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Finish removing loadConfigSettings, and fix node startup to use correct
settings object

time:
2015-09-08T15:55:17Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/support/TransportActions.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/action/support/single/shard/TransportSingleShardAction.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/gateway/PriorityComparator.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/cache/bitset/ShardBitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/ForceMergeFailedEngineException.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataCache.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/fielddata/ShardFieldData.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
core/src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCacheListener.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationPriorityTests.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataImplTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractStringFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/IndexFieldDataServiceTests.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTests.java
comments:
Merge branch 'master' into go_away_transport_paths

time:
2015-09-08T15:54:18Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/common/cli/CliTool.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java
core/src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
comments:
Change prepareSettingsAndEnvironment to prepareEnvironment

time:
2015-09-08T15:32:12Z
class:
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
comments:
remove intellij leniency. fix your IDE instead. it gives people the wrong idea.
Have somebody reviewed that?

Yeah I'm -1 on that. WARN was a good thing IMO.

The leniency is not coming back. I don't care how people feel about it. This has security implications.


time:
2015-09-08T15:11:57Z
class:
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
core/src/main/java/org/elasticsearch/index/query/support/BaseInnerHitBuilder.java
core/src/main/java/org/elasticsearch/index/query/support/InnerHitsQueryParserHelper.java
core/src/main/java/org/elasticsearch/index/query/support/QueryInnerHitBuilder.java
core/src/main/java/org/elasticsearch/index/query/support/QueryInnerHits.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsBuilder.java
core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchShortCircuitBenchmark.java
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/support/QueryInnerHitsTests.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchBwcIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
comments:
Split HasChildQueryParser into toQuery and formXContent

This is an intial commit that splits HasChildQueryParser / Builder into
the two seperate steps. This one is particularly nasty since it transports
a pretty wild InnerHits object that needs heavy refactoring. Yet, this commit
has still some nocommits and needs more tests and maybe another cleanup but
it's a start to get the code out there.

time:
2015-09-08T15:01:10Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/support/TransportActions.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/ForceMergeFailedEngineException.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
comments:
Merge pull request #13380 from brwe/exception-on-force-merge

Engine: Let AlreadyClosedException and EngineClosedExceptionBubble up

time:
2015-09-08T14:11:22Z
class:
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
core/src/main/java/org/elasticsearch/action/search/SearchType.java
core/src/main/java/org/elasticsearch/action/search/TransportSearchAction.java
core/src/main/java/org/elasticsearch/action/search/TransportSearchScrollAction.java
core/src/main/java/org/elasticsearch/action/search/type/ParsedScrollId.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchCountAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchHelper.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScanAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollScanAction.java
core/src/main/java/org/elasticsearch/action/support/TransportActions.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportBroadcastReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/single/shard/TransportSingleShardAction.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCLIParser.java
core/src/main/java/org/elasticsearch/cache/recycler/PageCacheRecycler.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/component/AbstractComponent.java
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
core/src/main/java/org/elasticsearch/common/inject/internal/MoreTypes.java
core/src/main/java/org/elasticsearch/common/inject/spi/Dependency.java
core/src/main/java/org/elasticsearch/common/inject/spi/Message.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/gateway/MetaDataStateFormat.java
core/src/main/java/org/elasticsearch/gateway/PriorityComparator.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpChannel.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/cache/bitset/ShardBitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/codec/postingsformat/Elasticsearch090PostingsFormat.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataCache.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/fielddata/ShardFieldData.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
core/src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCacheListener.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveriesCollection.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySettings.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/action/SearchServiceTransportAction.java
core/src/main/java/org/elasticsearch/search/aggregations/LeafBucketCollector.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/InternalExtendedStats.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorBuilders.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/InternalStatsBucket.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/StatsBucket.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/StatsBucketBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/StatsBucketParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/StatsBucketPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/ExtendedStatsBucket.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/ExtendedStatsBucketBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/ExtendedStatsBucketParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/ExtendedStatsBucketPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/InternalExtendedStatsBucket.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/scan/ScanContext.java
core/src/main/java/org/elasticsearch/search/warmer/IndexWarmersMetaData.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/test/java/org/elasticsearch/action/IndicesRequestIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreRequestIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/upgrade/UpgradeIT.java
core/src/test/java/org/elasticsearch/action/support/replication/BroadcastReplicationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
core/src/test/java/org/elasticsearch/bwcompat/BasicBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/cache/recycler/MockPageCacheRecycler.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientRetryIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterModuleTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/NoMasterNodeIT.java
core/src/test/java/org/elasticsearch/cluster/ack/AckIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/AwarenessAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationPriorityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/common/cli/CliToolTestCase.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/common/util/MockBigArrays.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/env/NodeEnvironmentTests.java
core/src/test/java/org/elasticsearch/gateway/AsyncShardFetchTests.java
core/src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesIT.java
core/src/test/java/org/elasticsearch/gateway/QuorumGatewayIT.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/codec/postingformat/Elasticsearch090RWPostingsFormat.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineMergeIT.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataImplTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractStringFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/IndexFieldDataServiceTests.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerIT.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/percolator/RecoveryPercolatorIT.java
core/src/test/java/org/elasticsearch/percolator/TTLPercolatorIT.java
core/src/test/java/org/elasticsearch/recovery/RecoveriesCollectionTests.java
core/src/test/java/org/elasticsearch/recovery/RecoveryWhileUnderLoadIT.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/search/CountSearchIT.java
core/src/test/java/org/elasticsearch/search/SearchWithRejectionsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregationsIntegrationIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/StringTermsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/ExtendedStatsBucketIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/StatsBucketIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/scan/ScanContextTests.java
core/src/test/java/org/elasticsearch/search/scan/SearchScanIT.java
core/src/test/java/org/elasticsearch/search/scan/SearchScanScrollingIT.java
core/src/test/java/org/elasticsearch/search/scroll/SearchScrollIT.java
core/src/test/java/org/elasticsearch/search/stats/SearchStatsIT.java
core/src/test/java/org/elasticsearch/snapshots/AbstractSnapshotIntegTestCase.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/test/CompositeTestCluster.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
core/src/test/java/org/elasticsearch/test/ExternalNode.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
core/src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
core/src/test/java/org/elasticsearch/ttl/SimpleTTLIT.java
plugins/delete-by-query/src/test/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryActionTests.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/AwsEc2Service.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/AwsSigner.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/cloud/aws/AWSSignersTests.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/AwsSigner.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/InternalAwsS3Service.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/AWSSignersTests.java
comments:
Merge branch 'master' into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java

time:
2015-09-08T14:05:40Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/support/TransportActions.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/ForceMergeFailedEngineException.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
comments:
Engine: Let AlreadyClosedException and EngineClosedException bubble up

Whe we call optimize we ignore Exceptions that indicate a closed shard.
However, when a shard is closed while an optimize request is in flight it
might also trigger an AlreadyClosedException from the IndexWriter when we
get the config or ForceMergeFailedEngineException with the EngineClosedException
wrapped inside. Because these are not identified as exceptions that indicate
a closed shard (TransportActions.isShardNotAvailableException(..)) optimize
would sometimes report failures when shards were relocating while optimize was called
and sometimes not. This caused weird test failures, see #13266 .
Instead, we should let EngineClosedException bubble up and also recognize
AlreadyClosedException as an indicator for a closed shard.

time:
2015-09-08T13:22:22Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/gateway/PriorityComparator.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationPriorityTests.java
comments:
Also use PriorityComparator in shard balancer

Today we try to allocate primaries first and then replicas
but don't take the index creation date and priority into account
as we do in the GatewayAlloactor.

Closes #13249

time:
2015-09-08T12:41:39Z
class:
core/src/main/java/org/elasticsearch/action/support/single/shard/TransportSingleShardAction.java
comments:
Add trace logging before sending single shard requests

time:
2015-09-08T12:12:33Z
class:
comments:
Release: Add script to validate mvn repositories

This script allows to ensure that artifacts have been pushed to
a repository after running `mvn deploy`. This will allow us to
check that all of our artifacts have been deployed to sonatype and
the S3 bucket.

Basically it takes the contents of a local mvn repository and
runs HTTP HEAD requests against all artifacts. It also compares if
the length returned by the Content-Length header is the same as the
size of the artifact locally.

time:
2015-09-08T11:06:32Z
class:
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/cache/bitset/ShardBitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataCache.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/fielddata/ShardFieldData.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
core/src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCacheListener.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataImplTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractStringFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/IndexFieldDataServiceTests.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTests.java
comments:
Remove cyclic dependencies between IndexService and FieldData / BitSet caches

Adds a listeners to each of the caches that allows us to remove the dependency on IndexService which is cyclic since
the IndexService depends on both of these caches. This cyclic dependency makes
testing the indiviual parts very hard and is only added for the sake of
incrementing some stats.

time:
2015-09-08T09:02:29Z
class:
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
comments:
move ZenDiscovery.rejoin to protected

 So we can override it from tests and plugins.

time:
2015-09-08T08:15:46Z
class:
comments:
Add back filtering for build properties, and remove unused resource
file.

time:
2015-09-08T06:55:31Z
class:
comments:
[maven] assembly: elasticsearch is already excluded

As elasticsearch is marked as provided we don't need to explicitly exclude it from the assembly descriptor.

We get a warning today for all plugins, the following:

```
[INFO] --- maven-assembly-plugin:2.5.5:single (default) @ repository-s3 ---
[INFO] Reading assembly descriptor: /path/to/plugin-assembly.xml
[WARNING] The following patterns were never triggered in this artifact exclusion filter:
o  'org.elasticsearch:elasticsearch'
[INFO] Building zip: /path/to/target/releases/repository-s3-3.0.0-SNAPSHOT.zip
[INFO]
```

It now gives:

```
[INFO] --- maven-assembly-plugin:2.5.5:single (default) @ repository-s3 ---
[INFO] Reading assembly descriptor: /path/to/plugin-assembly.xml
[INFO] Building zip: /path/to/target/releases/repository-s3-3.0.0-SNAPSHOT.zip
[INFO]
```

time:
2015-09-08T05:50:01Z
class:
comments:
Remove unnecessary maven resources config

time:
2015-09-08T02:45:08Z
class:
comments:
Build: Move resources to their proper location

We have a a number of resources in the java source tree, mostly for
tests. This change moves them to their proper location.

time:
2015-09-08T00:26:41Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/common/cli/CliTool.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/plugins/PluginsServiceTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortIntegrationIT.java
comments:
Settings: Remove environment from transport client

Transport clients run embedded within external applications, so
elasticsearch should not be doing anything with the filesystem, as there
is not elasticsearch home.

This change makes a number of cleanups to the internal API for loading
settings and creating an environment. The loadFromConfig option was
removed, since it was always true except for tests. We now always
attempt to load settings from config a file when an environment is
created. The prepare methods were also simplified so there is now
prepareSettingsAndEnvironment which nodes use, and prepareSettings which
the transport client uses. I also attempted to improve the tests, but
there is a still a lot of follow up work to do there.

closes #13155

time:
2015-09-07T19:16:19Z
class:
comments:
Docs: Added deprecation notice for _timestamp and _ttl

time:
2015-09-07T17:54:00Z
class:
comments:
Docs: Improved the date histogram docs for time_zone and offset

time:
2015-09-07T14:58:46Z
class:
comments:
docs: inner hits is no longer experimental

time:
2015-09-07T14:21:14Z
class:
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/search/SearchType.java
core/src/main/java/org/elasticsearch/action/search/TransportSearchAction.java
core/src/main/java/org/elasticsearch/action/search/TransportSearchScrollAction.java
core/src/main/java/org/elasticsearch/action/search/type/ParsedScrollId.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchCountAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchHelper.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScanAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollScanAction.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/action/SearchServiceTransportAction.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/scan/ScanContext.java
core/src/test/java/org/elasticsearch/action/IndicesRequestIT.java
core/src/test/java/org/elasticsearch/bwcompat/BasicBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/search/CountSearchIT.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregationsIntegrationIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/scan/ScanContextTests.java
core/src/test/java/org/elasticsearch/search/scan/SearchScanIT.java
core/src/test/java/org/elasticsearch/search/scan/SearchScanScrollingIT.java
core/src/test/java/org/elasticsearch/search/scroll/SearchScrollIT.java
core/src/test/java/org/elasticsearch/search/stats/SearchStatsIT.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
plugins/delete-by-query/src/test/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryActionTests.java
comments:
Merge pull request #13310 from jpountz/remove/count_scan

Remove the scan and count search types.

time:
2015-09-07T13:40:14Z
class:
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCLIParser.java
core/src/main/java/org/elasticsearch/cache/recycler/PageCacheRecycler.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/component/AbstractComponent.java
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpChannel.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java
core/src/test/java/org/elasticsearch/common/cli/CliToolTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/StringTermsIT.java
comments:
Remove and forbid use of com.google.common.base.Strings

This commit removes and now forbids all uses of
com.google.common.base.Strings across the codebase.

For uses of com.google.common.base.Strings.isNullOrEmpty, use
org.elasticsearch.common.Strings.isNullOrEmpty.

For uses of com.google.common.base.Strings.padStart use
org.elasticsearch.common.Strings.padStart.

For uses of com.google.common.base.Strings.nullToEmpty use
org.elasticsearch.common.Strings.coalesceToEmpty.

Relates #13224

time:
2015-09-07T13:26:45Z
class:
comments:
[build] move heapdump to target/heapdump dir

Each time you run mvn test, you end up creating a `.logs` empty dir.

Instead of writing for each plugin in the `./logs` dir, I'd recommend writing this in `./target/heapdump`.

This dir is cleanup automatically when you run `mvn clean`.

time:
2015-09-07T13:18:45Z
class:
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/search/SearchType.java
core/src/main/java/org/elasticsearch/action/search/TransportSearchAction.java
core/src/main/java/org/elasticsearch/action/search/TransportSearchScrollAction.java
core/src/main/java/org/elasticsearch/action/search/type/ParsedScrollId.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchCountAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchHelper.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScanAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollScanAction.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/action/SearchServiceTransportAction.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/scan/ScanContext.java
core/src/test/java/org/elasticsearch/action/IndicesRequestIT.java
core/src/test/java/org/elasticsearch/bwcompat/BasicBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/search/CountSearchIT.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregationsIntegrationIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/scan/ScanContextTests.java
core/src/test/java/org/elasticsearch/search/scan/SearchScanIT.java
core/src/test/java/org/elasticsearch/search/scan/SearchScanScrollingIT.java
core/src/test/java/org/elasticsearch/search/scroll/SearchScrollIT.java
core/src/test/java/org/elasticsearch/search/stats/SearchStatsIT.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
plugins/delete-by-query/src/test/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryActionTests.java
comments:
Remove the scan and count search types.

These search types have been deprecated in 2.1 and 2.0 respectively, and will
be removed in 3.0.

time:
2015-09-07T13:07:07Z
class:
comments:
[test] Add test for package reinstall after remove

Closes #13286

time:
2015-09-07T12:47:55Z
class:
core/src/main/java/org/elasticsearch/action/support/TransportActions.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportBroadcastReplicationAction.java
core/src/test/java/org/elasticsearch/action/support/replication/BroadcastReplicationTests.java
comments:
Merge pull request #13341 from brwe/shard-not-available-broadcast-replication

fix exception handling for unavailable shards in broadcast replicatio…

time:
2015-09-07T12:47:28Z
class:
core/src/main/java/org/elasticsearch/action/support/TransportActions.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportBroadcastReplicationAction.java
core/src/test/java/org/elasticsearch/action/support/replication/BroadcastReplicationTests.java
comments:
fix exception handling for unavailable shards in broadcast replication action

Before #13068 refresh and flush ignored all exceptions that matched
TransportActions.isShardNotAvailableException(e) and this should not change.
In addition, refresh and flush which are based on broadcast replication
might now get UnavailableShardsException from TransportReplicationAction if a shard
is unavailable and this is not caught by TransportActions.isShardNotAvailableException(e).
This must be ignored as well.

time:
2015-09-07T12:39:59Z
class:
core/src/test/java/org/elasticsearch/action/support/replication/BroadcastReplicationTests.java
comments:
[test] remove timeout test 0s for flush and refresh - we decided we use 1m timeout

see #13238

time:
2015-09-06T11:24:26Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/gateway/MetaDataStateFormat.java
core/src/main/java/org/elasticsearch/index/codec/postingsformat/Elasticsearch090PostingsFormat.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveriesCollection.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
core/src/main/java/org/elasticsearch/search/aggregations/LeafBucketCollector.java
core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreRequestIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/upgrade/UpgradeIT.java
core/src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/cache/recycler/MockPageCacheRecycler.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientRetryIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterModuleTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/NoMasterNodeIT.java
core/src/test/java/org/elasticsearch/cluster/ack/AckIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/AwarenessAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/common/util/MockBigArrays.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/gateway/AsyncShardFetchTests.java
core/src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesIT.java
core/src/test/java/org/elasticsearch/gateway/QuorumGatewayIT.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/index/codec/postingformat/Elasticsearch090RWPostingsFormat.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineMergeIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerIT.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/percolator/RecoveryPercolatorIT.java
core/src/test/java/org/elasticsearch/percolator/TTLPercolatorIT.java
core/src/test/java/org/elasticsearch/recovery/RecoveriesCollectionTests.java
core/src/test/java/org/elasticsearch/recovery/RecoveryWhileUnderLoadIT.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/search/SearchWithRejectionsIT.java
core/src/test/java/org/elasticsearch/snapshots/AbstractSnapshotIntegTestCase.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/test/CompositeTestCluster.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
core/src/test/java/org/elasticsearch/test/ExternalNode.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
core/src/test/java/org/elasticsearch/ttl/SimpleTTLIT.java
plugins/delete-by-query/src/test/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryActionTests.java
comments:
Merge pull request #13349 from jasontedor/predicate-out-with-the-old-in-with-the-new

Remove and forbid the use of com.google.common.base.Predicate(s)?

time:
2015-09-06T11:20:24Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/gateway/MetaDataStateFormat.java
core/src/main/java/org/elasticsearch/index/codec/postingsformat/Elasticsearch090PostingsFormat.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveriesCollection.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
core/src/main/java/org/elasticsearch/search/aggregations/LeafBucketCollector.java
core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreRequestIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/upgrade/UpgradeIT.java
core/src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/cache/recycler/MockPageCacheRecycler.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientRetryIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterModuleTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/NoMasterNodeIT.java
core/src/test/java/org/elasticsearch/cluster/ack/AckIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/AwarenessAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/common/util/MockBigArrays.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/gateway/AsyncShardFetchTests.java
core/src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesIT.java
core/src/test/java/org/elasticsearch/gateway/QuorumGatewayIT.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/index/codec/postingformat/Elasticsearch090RWPostingsFormat.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineMergeIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerIT.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/percolator/RecoveryPercolatorIT.java
core/src/test/java/org/elasticsearch/percolator/TTLPercolatorIT.java
core/src/test/java/org/elasticsearch/recovery/RecoveriesCollectionTests.java
core/src/test/java/org/elasticsearch/recovery/RecoveryWhileUnderLoadIT.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/search/SearchWithRejectionsIT.java
core/src/test/java/org/elasticsearch/snapshots/AbstractSnapshotIntegTestCase.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/test/CompositeTestCluster.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
core/src/test/java/org/elasticsearch/test/ExternalNode.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
core/src/test/java/org/elasticsearch/ttl/SimpleTTLIT.java
plugins/delete-by-query/src/test/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryActionTests.java
comments:
Remove and forbid the use of com.google.common.base.Predicate(s)?

This commit removes and now forbids all uses of
com.google.common.base.Predicate and com.google.common.base.Predicates
across the codebase. This is one of the many steps in the eventual
removal of Guava as a dependency. This was enabled by #13314.

Relates #13224

time:
2015-09-06T05:57:05Z
class:
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/AwsEc2Service.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/AwsSigner.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/cloud/aws/AWSSignersTests.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/AwsSigner.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/InternalAwsS3Service.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/AWSSignersTests.java
comments:
This commit remove the block for user to set invalid Signer Type.
Instead of throw an exception, this change log a warning message
and accept any signer type.

time:
2015-09-05T13:12:23Z
class:
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/elasticsearch/common/inject/internal/MoreTypes.java
core/src/main/java/org/elasticsearch/common/inject/spi/Dependency.java
core/src/main/java/org/elasticsearch/common/inject/spi/Message.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySettings.java
core/src/main/java/org/elasticsearch/search/warmer/IndexWarmersMetaData.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
comments:
Merge pull request #13355 from jasontedor/objects-out-with-the-old-in-with-the-new

Remove and forbid use of com.google.common.base.Objects

time:
2015-09-05T12:52:30Z
class:
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/elasticsearch/common/inject/internal/MoreTypes.java
core/src/main/java/org/elasticsearch/common/inject/spi/Dependency.java
core/src/main/java/org/elasticsearch/common/inject/spi/Message.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySettings.java
core/src/main/java/org/elasticsearch/search/warmer/IndexWarmersMetaData.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
comments:
Remove and forbid use of com.google.common.base.Objects

This commit removes and now forbids all uses of
com.google.common.base.Objects across the codebase. This is a small
step in the eventual removal of Guava as a dependency.

Relates #13224

time:
2015-09-04T21:39:40Z
class:
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
comments:
Merge remote-tracking branch 'dakrone/delete-closed-shadow-indices'

time:
2015-09-04T21:28:18Z
class:
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
comments:
Allow deleting closed indices with shadow replicas

Previously we skip deleting the index store for indices on a shared
filesystem, because we don't want to delete the data when the shard is
relocating around the cluster. This adds a flag to the
`deleteIndexStore` method signifying that the index is closed and that
we should allow deleting the contents even if it is on a shared
filesystem.

Includes a unit test for the IndicesService.canDeleteIndexContents and
integration tests ensure a closed shadow replica index deletes files
correctly.

Resolves #13297

time:
2015-09-04T20:03:25Z
class:
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
comments:
fix npe

time:
2015-09-04T19:50:02Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/ExtendedStatsBucket.java
comments:
Add missing License header

time:
2015-09-04T19:35:36Z
class:
comments:
Merge pull request #13287 from nik9000/package_upgrade_test

Test upgrading from an older version

time:
2015-09-04T19:34:10Z
class:
comments:
[test] Documentation for packaging tests

time:
2015-09-04T19:25:43Z
class:
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/InternalExtendedStats.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorBuilders.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/InternalStatsBucket.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/StatsBucket.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/StatsBucketBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/StatsBucketParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/StatsBucketPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/ExtendedStatsBucket.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/ExtendedStatsBucketBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/ExtendedStatsBucketParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/ExtendedStatsBucketPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/InternalExtendedStatsBucket.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/ExtendedStatsBucketIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/StatsBucketIT.java
comments:
Merge pull request #13128 from polyfractal/feature/stats_pipeline

Aggregations: Add stats_bucket / extended_stats_bucket pipeline aggs

time:
2015-09-04T19:23:48Z
class:
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/InternalExtendedStats.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorBuilders.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/InternalStatsBucket.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/StatsBucket.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/StatsBucketBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/StatsBucketParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/StatsBucketPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/ExtendedStatsBucket.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/ExtendedStatsBucketBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/ExtendedStatsBucketParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/ExtendedStatsBucketPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/InternalExtendedStatsBucket.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/ExtendedStatsBucketIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/StatsBucketIT.java
comments:
Aggregations: Add stats_bucket / extended_stats_bucket pipeline aggregations

These are the complements to the stats/extended_stats metric aggregations, and can be used
to calculate a variety of statistics over buckets

time:
2015-09-04T18:27:35Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/test/java/org/elasticsearch/env/NodeEnvironmentTests.java
comments:
Merge pull request #13353 from jasontedor/remove-use-of-underscore-as-an-identifier

Remove use of underscore as an identifier

time:
2015-09-04T18:18:30Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/test/java/org/elasticsearch/env/NodeEnvironmentTests.java
comments:
Remove use of underscore as an identifier

As a refinement to Project Coin (JEP-213, JDK-8042880), Java 9 is going
to disallow the use of ‘_’ as a one-character identifier. This will be
done by adding ‘_’ as a keyword to the Java language (JDK-8065599).
Currently, uses of ‘_’ as a one-character identifier are warnings in
the Java 8 compiler. This commit removes all uses of ‘_’ as a
one-character identifier from the codebase.

time:
2015-09-04T17:56:32Z
class:
core/src/main/java/org/elasticsearch/index/query/QueryWrappingQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
comments:
adapt to upstream changes

time:
2015-09-04T17:21:38Z
class:
core/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java
core/src/main/java/org/apache/lucene/search/vectorhighlight/CustomFieldQuery.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/common/lucene/search/MoreLikeThisQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/Queries.java
core/src/main/java/org/elasticsearch/common/network/NetworkService.java
core/src/main/java/org/elasticsearch/index/aliases/IndexAliasesService.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/index/analysis/DecimalDigitFilterFactory.java
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/BytesRefFieldComparatorSource.java
core/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/DoubleValuesComparatorSource.java
core/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/FloatValuesComparatorSource.java
core/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/LongValuesComparatorSource.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
core/src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
core/src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ParentIdsFilter.java
core/src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/IndexedGeoBoundingBoxQuery.java
core/src/main/java/org/elasticsearch/index/search/nested/IncludeNestedDocsQuery.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/indices/analysis/PreBuiltTokenFilters.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorBuilders.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/avg/AvgBucketParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/max/MaxBucketParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/min/MinBucketParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/InternalPercentilesBucket.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/PercentilesBucket.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/PercentilesBucketBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/PercentilesBucketParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/PercentilesBucketPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/sum/SumBucketParser.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
core/src/main/java/org/elasticsearch/search/sort/ScriptSortParser.java
core/src/main/java/org/elasticsearch/search/sort/SortParseElement.java
core/src/test/java/org/apache/lucene/queries/BlendedTermQueryTests.java
core/src/test/java/org/elasticsearch/common/network/NetworkServiceTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisFactoryTests.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/IndicesQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchNoneQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryFilterBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanContainingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanWithinQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/search/child/AbstractChildTestCase.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
core/src/test/java/org/elasticsearch/index/search/nested/NestedSortingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/PercentilesBucketIT.java
core/src/test/java/org/elasticsearch/search/fetch/innerhits/NestedChildrenFilterTests.java
core/src/test/java/org/elasticsearch/search/query/QueryPhaseTests.java
core/src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
comments:
Merge branch 'master' into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/query/AndQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/OrQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
	core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
	core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
	core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
	core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
	core/src/test/java/org/elasticsearch/index/search/child/AbstractChildTestCase.java

time:
2015-09-04T16:13:54Z
class:
core/src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
comments:
Should be asserting JVM plugins do not have a URL

time:
2015-09-04T15:31:49Z
class:
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryParser.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
comments:
Query DSL: span_containing and span_within override default boost coming from lucene

SpanContainingQueryParser and SpanWithinQueryParser always set the boost to the parsed lucene query, even if it is the default one. The default boost of the main query though is the boost coming from the inner little query, value that we end up overriding all the time. We should instead set the boost to the main query only if it differs from the default, to mimic lucene's behaviour.

Relates to #13272
Closes #13339

time:
2015-09-04T15:13:50Z
class:
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
comments:
Tests: Add back BitSetFilterCacheTests which was lost on #13308

time:
2015-09-04T14:07:38Z
class:
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
comments:
Query DSL: simple_query_string overrides boost coming from lucene

SimpleQueryStringParser applies whatever boost the query holds, even if the default 1, to the query obtained from parsing of the query string. that might contain its boost, for instance if it resolved to a simple query like term (single term query against a single field). We should rather multiply the existing boost with the boost set to the query, same as we do in query_string

Relates to #13272
Closes #13331

time:
2015-09-04T13:08:12Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
comments:
Fix Javadoc for o.e.c.r.RoutingNodes.UnassignedIterator#remove

time:
2015-09-04T12:35:13Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/avg/AvgBucketParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/max/MaxBucketParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/min/MinBucketParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/PercentilesBucketParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/sum/SumBucketParser.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/PercentilesBucketIT.java
comments:
Collect and pass unparsed params to buildFactory(), replacing doParse()

doParse() was supposed to allow aggs to perform extra parsing.  Unfortunately, this forced the
parser to carry instance-level state, which would carry-over and "corrupt" any other aggs of the
same type in the same query.

Instead, we are now collecting all unknown params and pasing them as a Map<String, Object>
to buildFactory().  The agg may then parse them and instantiate a factory.  Each param the
agg uses, it should unset from the unusedParams object.

After building the factory, the parser verifies that unusedParams is empty.  If it is not empty,
an exception is raised so the user knows they provided unknown params.

Fixes #13337

time:
2015-09-04T11:50:57Z
class:
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
comments:
Manually synchronize listeners when iterating on them in InternalClusterInfoService

time:
2015-09-04T08:47:30Z
class:
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/PercentilesBucketIT.java
comments:
Tests: @AwaitsFix on PercentilesBucketIT.testNested.

time:
2015-09-04T08:16:23Z
class:
core/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java
core/src/main/java/org/apache/lucene/search/vectorhighlight/CustomFieldQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MoreLikeThisQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/Queries.java
core/src/main/java/org/elasticsearch/index/aliases/IndexAliasesService.java
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/BytesRefFieldComparatorSource.java
core/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/DoubleValuesComparatorSource.java
core/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/FloatValuesComparatorSource.java
core/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/LongValuesComparatorSource.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/AndQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
core/src/main/java/org/elasticsearch/index/query/OrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
core/src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ParentIdsFilter.java
core/src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/IndexedGeoBoundingBoxQuery.java
core/src/main/java/org/elasticsearch/index/search/nested/IncludeNestedDocsQuery.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregator.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
core/src/main/java/org/elasticsearch/search/sort/ScriptSortParser.java
core/src/main/java/org/elasticsearch/search/sort/SortParseElement.java
core/src/test/java/org/apache/lucene/queries/BlendedTermQueryTests.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/search/child/AbstractChildTestCase.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
core/src/test/java/org/elasticsearch/index/search/nested/NestedSortingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTests.java
core/src/test/java/org/elasticsearch/search/fetch/innerhits/NestedChildrenFilterTests.java
core/src/test/java/org/elasticsearch/search/query/QueryPhaseTests.java
comments:
Merge pull request #13308 from jpountz/fix/deprecations_5.3

Fix deprecations introduced by the upgrade to Lucene 5.3

time:
2015-09-04T08:16:01Z
class:
core/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java
core/src/main/java/org/apache/lucene/search/vectorhighlight/CustomFieldQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MoreLikeThisQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/Queries.java
core/src/main/java/org/elasticsearch/index/aliases/IndexAliasesService.java
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/BytesRefFieldComparatorSource.java
core/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/DoubleValuesComparatorSource.java
core/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/FloatValuesComparatorSource.java
core/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/LongValuesComparatorSource.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/AndQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
core/src/main/java/org/elasticsearch/index/query/OrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
core/src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ParentIdsFilter.java
core/src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/IndexedGeoBoundingBoxQuery.java
core/src/main/java/org/elasticsearch/index/search/nested/IncludeNestedDocsQuery.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregator.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
core/src/main/java/org/elasticsearch/search/sort/ScriptSortParser.java
core/src/main/java/org/elasticsearch/search/sort/SortParseElement.java
core/src/test/java/org/apache/lucene/queries/BlendedTermQueryTests.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/search/child/AbstractChildTestCase.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
core/src/test/java/org/elasticsearch/index/search/nested/NestedSortingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTests.java
core/src/test/java/org/elasticsearch/search/fetch/innerhits/NestedChildrenFilterTests.java
core/src/test/java/org/elasticsearch/search/query/QueryPhaseTests.java
comments:
Fix deprecations introduced by the upgrade to Lucene 5.3

This changes construction of Phrase and Boolean queries to use the builder,
and replaces BitDocIdSetFilter with BitSetProducer for nested and parent/child
queries. I had to remove the ParentIdsFilter for the case when there was a
single parent as it was using the source of BitSets for parents as a regular
Filter, which is not possible anymore now. I don't think this is an issue since
this case rarely occurs, and the alternative logic for when there are several
matching parent ids should not be much worse.

time:
2015-09-04T03:17:01Z
class:
comments:
[DOCS] Fix broken inter-page link

time:
2015-09-04T02:36:40Z
class:
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorBuilders.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/InternalPercentilesBucket.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/PercentilesBucket.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/PercentilesBucketBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/PercentilesBucketParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/PercentilesBucketPipelineAggregator.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/PercentilesBucketIT.java
comments:
Merge pull request #13186 from polyfractal/feature/percentile_pipeline

Aggregations: Add percentiles_bucket pipeline aggregation

time:
2015-09-04T02:24:14Z
class:
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorBuilders.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/InternalPercentilesBucket.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/PercentilesBucket.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/PercentilesBucketBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/PercentilesBucketParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/PercentilesBucketPipelineAggregator.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/PercentilesBucketIT.java
comments:
Aggregations: Add percentiles_bucket pipeline aggregations

This pipeline will calculate percentiles over a set of sibling buckets.  This is an exact
implementation, meaning it needs to cache a copy of the series in memory and sort it to determine
the percentiles.

This comes with a few limitations: to prevent serializing data around, only the requested percentiles
are calculated (unlike the TDigest version, which allows the java API to ask for any percentile).
It also needs to store the data in-memory, resulting in some overhead if the requested series is
very large.

time:
2015-09-03T22:02:51Z
class:
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldTypeTests.java
comments:
Refactor ignore_malformed and coerce from geo_point field type to mapper

This commit moves ignore_malformed and coerce options from the GeoPointFieldType to the Builder in GeoPointFieldMapper. This makes these options consistent with other types in 2.0.

time:
2015-09-03T20:36:50Z
class:
comments:
Remove jmeter files

Follow up for #13317.

time:
2015-09-03T20:36:50Z
class:
comments:
Remove assembly files in core

Closes #13317.

time:
2015-09-03T20:15:26Z
class:
core/src/main/java/org/elasticsearch/common/network/NetworkService.java
core/src/test/java/org/elasticsearch/common/network/NetworkServiceTests.java
comments:
Merge pull request #13328 from rmuir/remove_broadcast_check

Remove broadcast address check.

time:
2015-09-03T20:01:14Z
class:
core/src/main/java/org/elasticsearch/common/network/NetworkService.java
core/src/test/java/org/elasticsearch/common/network/NetworkServiceTests.java
comments:
Remove broadcast address check.

This was supposed to just help the user, in case they misconfigured something.
Broadcast is an ipv4 only thing, the only way you can really detect its a broadcast
address, is to look and see if an interface has that address as its broadcast address.

But we cannot trust that container interfaces won't have a crazy setup...

Closes #13327

time:
2015-09-03T19:28:52Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/index/analysis/DecimalDigitFilterFactory.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/analysis/PreBuiltTokenFilters.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisFactoryTests.java
comments:
Merge pull request #13324 from rmuir/lucene_1701068

Upgrade master to lucene 5.4-snapshot r1701068

time:
2015-09-03T19:18:24Z
class:
core/src/test/java/org/elasticsearch/index/query/FilteredQueryBuilderTests.java
comments:
[TEST] adapt FilteredQueryBuilderTests to upstream changes

time:
2015-09-03T19:13:33Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/index/analysis/DecimalDigitFilterFactory.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/analysis/PreBuiltTokenFilters.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisFactoryTests.java
comments:
Upgrade to lucene 5.4-snapshot r1701068

time:
2015-09-03T19:00:11Z
class:
comments:
In the license checker, include the "ignore prefix" parameter in the output

Closes #13322

time:
2015-09-03T18:56:06Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
core/src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/Queries.java
core/src/main/java/org/elasticsearch/common/metrics/CounterMetric.java
core/src/main/java/org/elasticsearch/common/metrics/EWMA.java
core/src/main/java/org/elasticsearch/common/metrics/MeanMetric.java
core/src/main/java/org/elasticsearch/common/metrics/MeterMetric.java
core/src/main/java/org/elasticsearch/common/network/NetworkService.java
core/src/main/java/org/elasticsearch/index/query/FilteredQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/suggest/Suggest.java
core/src/test/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQueryTests.java
core/src/test/java/org/elasticsearch/common/network/NetworkServiceTests.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/script/expression/ExpressionScriptIT.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
comments:
Merge branch 'master' into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java

time:
2015-09-03T17:46:42Z
class:
core/src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
core/src/test/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQueryTests.java
comments:
Query DSL: match_phrase_prefix to take boost into account

The match_phrase_prefix query properly parses the boost etc. but it loses it in its rewrite method. Fixed that by setting the orginal boost to the rewritten query before returning it. Also cleaned up some warning in MultiPhrasePrefixQuery.

Closes #13129
Closes #13142

time:
2015-09-03T17:10:40Z
class:
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
comments:
Merge pull request #13318 from jasontedor/fix/13315

Workaround pitfall in Java 8 target-type inference

time:
2015-09-03T17:10:01Z
class:
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
comments:
Workaround pitfall in Java 8 target-type inference

Target-type inference has been improved in Java 8. This leads to these
lines now being interpreted as invoking String#valueOf(char[]) whereas
they previously were interpreted as invoking String#valueOf(Object).
This change leads to ClassCastExceptions during test execution. Simply
casting the parameter to Object restores the old invocation.

Closes #13315

time:
2015-09-03T16:55:21Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
core/src/main/java/org/elasticsearch/common/metrics/CounterMetric.java
core/src/main/java/org/elasticsearch/common/metrics/EWMA.java
core/src/main/java/org/elasticsearch/common/metrics/MeanMetric.java
core/src/main/java/org/elasticsearch/common/metrics/MeterMetric.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
core/src/main/java/org/elasticsearch/search/suggest/Suggest.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/script/expression/ExpressionScriptIT.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
comments:
bump master (3.0-snapshot) to java 8

Closes #13314

Squashed commit of the following:

commit 0e2d6c8e55e07957d0bea08f3c80f51f481ba6d4
Author: Robert Muir <rmuir@apache.org>
Date:   Thu Sep 3 12:49:51 2015 -0400

    re-enable the rest of this test, as its one method that hangs

commit 04dc6b62d4800f574babcdbbf0e44f5c3400e0f0
Merge: 2b12805 52945b2
Author: Robert Muir <rmuir@apache.org>
Date:   Thu Sep 3 12:48:55 2015 -0400

    Merge branch 'master' into java8

commit 2b128056ded741cddaf1d92c55920d7baf80dc95
Author: Robert Muir <rmuir@apache.org>
Date:   Thu Sep 3 12:28:07 2015 -0400

    more jsr166e removal

commit 5826feba484389a87dbcad9a53ee5bf9a306eb61
Author: Robert Muir <rmuir@apache.org>
Date:   Thu Sep 3 12:15:13 2015 -0400

    disable broken test

commit aabd88b85f2dd7b9b2b9308ffd52bc71aef8ab82
Author: Robert Muir <rmuir@apache.org>
Date:   Thu Sep 3 12:11:12 2015 -0400

    Disable broken test

commit 863463303a12415dfecd6a46a6767eb07a2c7415
Author: Robert Muir <rmuir@apache.org>
Date:   Thu Sep 3 11:38:32 2015 -0400

    bump master (3.0-snapshot) to java 8

time:
2015-09-03T16:27:09Z
class:
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
comments:
[test] mute testReadOnPostRecoveryShards

time:
2015-09-03T15:13:00Z
class:
core/src/main/java/org/elasticsearch/common/lucene/search/Queries.java
core/src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
comments:
Internal: simplify filtered query conversion to lucene query

We have some optimization in FilteredQueryParser that tries to mimic what the rewrite method in lucene does, based on what gets parsed we return the simplest query possible. That might cause issues with boost values though, if specified in both the main query and the inner query that we shortcut to. We should rather rely on lucene's rewrite method to simplify the lucene representation of the query, and always build a filtered query instead.

relates to #13272
Closes #13312

time:
2015-09-03T15:10:48Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DisableAllocationDecider.java
core/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/DisableAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/settings/ClusterSettingsIT.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerIT.java
comments:
Remove DisableAllocationDecider

The `EnableAllocatiorDecider` has replaced the
`DisableAllocationDecider`, which has been deprecated. It can now be
removed.

time:
2015-09-03T14:59:28Z
class:
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
comments:
Merge pull request #13311 from jpountz/enhancement/more_scroll_optimizations

Optimize scrolls for constant-score queries.

time:
2015-09-03T14:12:04Z
class:
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
comments:
Optimize scrolls for constant-score queries.

We currently optimize scroll when sort=_doc because docs are returned in order.
But documents are also returned in order when sorting by score and the query
gives constant scores. This optimization has the nice side-effect of also
optimizing scrolls with the default `match_all` query.

time:
2015-09-03T12:18:46Z
class:
core/src/main/java/org/elasticsearch/common/network/NetworkService.java
core/src/test/java/org/elasticsearch/common/network/NetworkServiceTests.java
comments:
Merge pull request #13299 from rmuir/network_config_improvements

Improve situation when network.host is set to wildcard (e.g. 0.0.0.0)

time:
2015-09-03T12:09:39Z
class:
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-09-03T11:30:07Z
class:
core/src/test/java/org/elasticsearch/index/query/AndQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/BoostingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/CommonTermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ExistsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FQueryFilterBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FilteredQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FuzzyQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IndicesQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/LimitQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchAllQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchNoneQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MissingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NotQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/OrQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/PrefixQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryFilterBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RandomQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RegexpQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ScriptQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanContainingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanFirstQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNearQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNotQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanOrQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanTermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanWithinQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TypeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WildcardQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
comments:
[TEST] renamed tests according to updated naming conventions (Tests suffix enforced)

time:
2015-09-03T11:02:49Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasAction.java
core/src/main/java/org/elasticsearch/common/util/concurrent/BaseFuture.java
core/src/main/java/org/elasticsearch/index/indexing/IndexingOperationListener.java
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/test/java/org/apache/lucene/queries/BlendedTermQueryTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/NamingConventionTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequestTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequestBuilderTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreResponseTests.java
core/src/test/java/org/elasticsearch/action/fieldstats/FieldStatsRequestTests.java
core/src/test/java/org/elasticsearch/action/index/IndexRequestBuilderTests.java
core/src/test/java/org/elasticsearch/benchmark/stress/NodesStressTest.java
core/src/test/java/org/elasticsearch/benchmark/stress/SingleThreadBulkStress.java
core/src/test/java/org/elasticsearch/benchmark/stress/SingleThreadIndexingStress.java
core/src/test/java/org/elasticsearch/client/AbstractClientHeadersTestCase.java
core/src/test/java/org/elasticsearch/client/node/NodeClientHeadersTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientHeadersTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingTableTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceUnbalancedClusterTests.java
core/src/test/java/org/elasticsearch/common/Base64Tests.java
core/src/test/java/org/elasticsearch/common/blobstore/BlobStoreTests.java
core/src/test/java/org/elasticsearch/common/bytes/PagedBytesReferenceTests.java
core/src/test/java/org/elasticsearch/common/compress/AbstractCompressedStreamTestCase.java
core/src/test/java/org/elasticsearch/common/compress/AbstractCompressedXContentTestCase.java
core/src/test/java/org/elasticsearch/common/compress/deflate/DeflateCompressedStreamTests.java
core/src/test/java/org/elasticsearch/common/compress/deflate/DeflateXContentTests.java
core/src/test/java/org/elasticsearch/common/compress/lzf/LZFCompressedStreamTests.java
core/src/test/java/org/elasticsearch/common/compress/lzf/LZFXContentTests.java
core/src/test/java/org/elasticsearch/common/lucene/LuceneTests.java
core/src/test/java/org/elasticsearch/common/property/PropertyPlaceholderTests.java
core/src/test/java/org/elasticsearch/common/recycler/AbstractRecyclerTestCase.java
core/src/test/java/org/elasticsearch/common/recycler/ConcurrentRecyclerTests.java
core/src/test/java/org/elasticsearch/common/recycler/LockedRecyclerTests.java
core/src/test/java/org/elasticsearch/common/recycler/NoneRecyclerTests.java
core/src/test/java/org/elasticsearch/common/recycler/QueueRecyclerTests.java
core/src/test/java/org/elasticsearch/common/util/CancellableThreadsTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/CountDownTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/RefCountedTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/filtering/AbstractFilteringJsonGeneratorTestCase.java
core/src/test/java/org/elasticsearch/common/xcontent/support/filtering/JsonFilteringGeneratorTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/filtering/YamlFilteringGeneratorTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ElectMasterServiceTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryUnitTests.java
core/src/test/java/org/elasticsearch/gateway/MetaDataStateFormatTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTests.java
core/src/test/java/org/elasticsearch/http/netty/pipelining/HttpPipeliningHandlerTests.java
core/src/test/java/org/elasticsearch/index/analysis/PatternAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTests.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/codec/postingformat/PostingsFormatTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineSettingsTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataImplTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractNumericFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractStringFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/BinaryDVFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/DoubleFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/DuelFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/FilterFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/FloatFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/LongFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/PagedBytesStringFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/ParentChildFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/SortedSetDVStringFieldDataTests.java
core/src/test/java/org/elasticsearch/index/mapper/MapperServiceTests.java
core/src/test/java/org/elasticsearch/index/mapper/lucene/DoubleIndexingDocTests.java
core/src/test/java/org/elasticsearch/index/mapper/lucene/StoredNumericValuesTests.java
core/src/test/java/org/elasticsearch/index/query/CommonTermsQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/search/nested/AbstractNumberNestedSortingTestCase.java
core/src/test/java/org/elasticsearch/index/search/nested/DoubleNestedSortingTests.java
core/src/test/java/org/elasticsearch/index/search/nested/LongNestedSortingTests.java
core/src/test/java/org/elasticsearch/index/search/nested/NestedSortingTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/shard/MergePolicySettingsTests.java
core/src/test/java/org/elasticsearch/index/shard/NewPathForShardTests.java
core/src/test/java/org/elasticsearch/index/shard/VersionFieldUpgraderTests.java
core/src/test/java/org/elasticsearch/index/snapshots/blobstore/FileInfoTests.java
core/src/test/java/org/elasticsearch/index/snapshots/blobstore/SlicedInputStreamTests.java
core/src/test/java/org/elasticsearch/index/store/DirectoryUtilsTests.java
core/src/test/java/org/elasticsearch/index/store/IndexStoreBWCTests.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
core/src/test/java/org/elasticsearch/indices/flush/SyncedFlushSingleNodeTests.java
core/src/test/java/org/elasticsearch/indices/recovery/RecoveryStateTests.java
core/src/test/java/org/elasticsearch/indices/recovery/StartRecoveryRequestTests.java
core/src/test/java/org/elasticsearch/recovery/RecoverySettingsTests.java
core/src/test/java/org/elasticsearch/rest/action/support/RestTableTests.java
core/src/test/java/org/elasticsearch/script/ScriptParameterParserTests.java
core/src/test/java/org/elasticsearch/script/mustache/MustacheScriptEngineTests.java
core/src/test/java/org/elasticsearch/script/mustache/MustacheTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTests.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/fetch/innerhits/NestedChildrenFilterTests.java
core/src/test/java/org/elasticsearch/search/query/QueryPhaseTests.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionTokenStreamTests.java
core/src/test/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProviderV1.java
core/src/test/java/org/elasticsearch/search/suggest/completion/CompletionPostingsFormatTests.java
core/src/test/java/org/elasticsearch/search/suggest/context/GeoLocationContextMappingTests.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/MockRepository.java
core/src/test/java/org/elasticsearch/stresstest/client/ClientFailover.java
core/src/test/java/org/elasticsearch/stresstest/fullrestart/FullRestartStressTest.java
core/src/test/java/org/elasticsearch/stresstest/gcbehavior/FilterCacheGcStress.java
core/src/test/java/org/elasticsearch/stresstest/get/GetStressTest.java
core/src/test/java/org/elasticsearch/stresstest/get/MGetStress1.java
core/src/test/java/org/elasticsearch/stresstest/indexing/BulkIndexingStressTest.java
core/src/test/java/org/elasticsearch/stresstest/indexing/ConcurrentIndexingVersioningStressTest.java
core/src/test/java/org/elasticsearch/stresstest/leaks/GenericStatsLeak.java
core/src/test/java/org/elasticsearch/stresstest/manyindices/ManyIndicesRemoteStressTest.java
core/src/test/java/org/elasticsearch/stresstest/manyindices/ManyIndicesStressTest.java
core/src/test/java/org/elasticsearch/stresstest/manyindices/ManyNodesManyIndicesRecoveryStressTest.java
core/src/test/java/org/elasticsearch/stresstest/refresh/RefreshStressTest1.java
core/src/test/java/org/elasticsearch/stresstest/rollingrestart/QuickRollingRestartStressTest.java
core/src/test/java/org/elasticsearch/stresstest/rollingrestart/RollingRestartStressTest.java
core/src/test/java/org/elasticsearch/stresstest/search1/ConcurrentSearchSerializationBenchmark.java
core/src/test/java/org/elasticsearch/stresstest/search1/ParentChildStressTest.java
core/src/test/java/org/elasticsearch/stresstest/search1/Search1StressBenchmark.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTestCase.java
core/src/test/java/org/elasticsearch/transport/local/SimpleLocalTransportTests.java
core/src/test/java/org/elasticsearch/transport/netty/SimpleNettyTransportTests.java
core/src/test/java/org/elasticsearch/watcher/FileWatcherTests.java
plugins/cloud-azure/src/test/java/org/apache/lucene/store/SmbMMapDirectoryTests.java
plugins/cloud-azure/src/test/java/org/apache/lucene/store/SmbSimpleFSDirectoryTests.java
plugins/cloud-azure/src/test/java/org/elasticsearch/azure/itest/AzureSimpleTests.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureComputeServiceTestCase.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureRepositoryServiceTestCase.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureTestCase.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureMinimumMasterNodesTests.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureSimpleTests.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureTwoStartedNodesTests.java
plugins/cloud-azure/src/test/java/org/elasticsearch/index/store/AbstractAzureFsTestCase.java
plugins/cloud-azure/src/test/java/org/elasticsearch/index/store/SmbMMapFsTests.java
plugins/cloud-azure/src/test/java/org/elasticsearch/index/store/SmbSimpleFsTests.java
plugins/cloud-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreServiceTests.java
plugins/cloud-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreTests.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoveryTests.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/AwsEc2Service.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/AwsSigner.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/Ec2Module.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/network/Ec2NameResolver.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/node/Ec2CustomNodeAttributes.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/discovery/ec2/AwsEc2UnicastHostsProvider.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/discovery/ec2/Ec2Discovery.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/plugin/discovery/ec2/Ec2DiscoveryPlugin.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/cloud/aws/AWSSignersTests.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTestCase.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/cloud/aws/DiscoveryEc2RestIT.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryTests.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryUpdateSettingsTests.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptMultiThreadedTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptMultiThreadedTests.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/AwsS3Service.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/AwsSigner.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/InternalAwsS3Service.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/S3Module.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/blobstore/DefaultS3OutputStream.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/blobstore/S3BlobContainer.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/blobstore/S3BlobStore.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/blobstore/S3OutputStream.java
plugins/repository-s3/src/main/java/org/elasticsearch/plugin/repository/s3/S3RepositoryPlugin.java
plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3Repository.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/AWSSignersTests.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTestCase.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/AmazonS3Wrapper.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/TestAmazonS3.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/TestAwsS3Service.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/blobstore/MockDefaultS3OutputStream.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/blobstore/S3OutputStreamTests.java
plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/AbstractS3SnapshotRestoreTest.java
plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/RepositoryS3RestIT.java
plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/S3ProxiedSnapshotRestoreOverHttpsTests.java
plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/S3SnapshotRestoreOverHttpTests.java
plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/S3SnapshotRestoreOverHttpsTests.java
qa/smoke-test-client/src/test/java/org/elasticsearch/smoketest/ESSmokeClientTestCase.java
qa/smoke-test-client/src/test/java/org/elasticsearch/smoketest/SmokeTestClientIT.java
comments:
Merge branch 'master' into feature/query-refactoring

Conflicts:
	core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java

time:
2015-09-03T10:52:02Z
class:
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
comments:
[test] cloud-aws has been replaced by repository-s3 and discovery-ec2

time:
2015-09-03T10:36:33Z
class:
comments:
Merge pull request #13307 from brwe/doc-script-fix

[doc] remove comment about function_score faster than script sort. It…

time:
2015-09-03T10:33:00Z
class:
comments:
[doc] remove comment about function_score faster than script sort. It is not so.

time:
2015-09-03T10:21:26Z
class:
plugins/discovery-ec2/src/test/java/org/elasticsearch/cloud/aws/AWSSignersTests.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTestCase.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryTests.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryUpdateSettingsTests.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/AWSSignersTests.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTestCase.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/blobstore/S3OutputStreamTests.java
plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/AbstractS3SnapshotRestoreTest.java
plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/S3ProxiedSnapshotRestoreOverHttpsTests.java
plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/S3SnapshotRestoreOverHttpTests.java
plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/S3SnapshotRestoreOverHttpsTests.java
comments:
[test] fix test names

For aws s3 and ec2

time:
2015-09-03T10:11:58Z
class:
comments:
[doc] fix cross link between core and plugins doc

For ec2 and s3

time:
2015-09-03T09:29:45Z
class:
comments:
Update help install for discovery-ec2 and repository-s3

time:
2015-09-03T09:13:19Z
class:
core/src/test/java/org/elasticsearch/NamingConventionTests.java
comments:
Merge remote-tracking branch 'origin/master'

time:
2015-09-03T09:12:20Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/AwsEc2Service.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/AwsSigner.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/Ec2Module.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/network/Ec2NameResolver.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/node/Ec2CustomNodeAttributes.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/discovery/ec2/AwsEc2UnicastHostsProvider.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/discovery/ec2/Ec2Discovery.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/plugin/discovery/ec2/Ec2DiscoveryPlugin.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/cloud/aws/AWSSignersTest.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTest.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/cloud/aws/DiscoveryEc2RestIT.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryITest.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryUpdateSettingsITest.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/AwsS3Service.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/AwsSigner.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/InternalAwsS3Service.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/S3Module.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/blobstore/DefaultS3OutputStream.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/blobstore/S3BlobContainer.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/blobstore/S3BlobStore.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/blobstore/S3OutputStream.java
plugins/repository-s3/src/main/java/org/elasticsearch/plugin/repository/s3/S3RepositoryPlugin.java
plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3Repository.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/AWSSignersTest.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTest.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/AmazonS3Wrapper.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/TestAmazonS3.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/TestAwsS3Service.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/blobstore/MockDefaultS3OutputStream.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/blobstore/S3OutputStreamTest.java
plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/AbstractS3SnapshotRestoreTest.java
plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/RepositoryS3RestIT.java
plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/S3ProxiedSnapshotRestoreOverHttpsTest.java
plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/S3SnapshotRestoreOverHttpTest.java
plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/S3SnapshotRestoreOverHttpsTest.java
comments:
[plugin] split cloud-aws in repository-s3 and discovery-ec2

Until now we had a cloud-aws plugin which is providing 2 disctinct features:

* discovery on EC2
* snapshot/restore on S3

This commit splits the plugin by feature so people can use either one or the other or both features.

Doc is updated accordingly.

time:
2015-09-03T09:08:25Z
class:
core/src/test/java/org/elasticsearch/NamingConventionTests.java
comments:
[TESTS] Changed message in NamingConventionTests to reflect code checks

Before this change the check would check that all test classes end in Tests but the message would say they need to end in Test or Tests which was confusing.

time:
2015-09-03T08:43:28Z
class:
core/src/main/java/org/elasticsearch/Version.java
comments:
Move version to 3.0.0-SNAPSHOT

time:
2015-09-03T07:47:47Z
class:
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/test/java/org/elasticsearch/search/query/QueryPhaseTests.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
comments:
Merge pull request #13037 from jpountz/enhancement/quick_counts

Optimize counts on simple queries.

time:
2015-09-03T07:36:51Z
class:
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/test/java/org/elasticsearch/search/query/QueryPhaseTests.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
comments:
Optimize counts on simple queries.

Today we always collect in order to compute counts, but some of them can be
easily optimized by using pre-computed index statistics. This is especially
true in the case that there are no deletions, which should be common for the
time-based data use-case.

Counts on match_all queries can always be optimized, so requests like

```
GET index/_search?size=0

GET index/_search
{
  "size": 0,
  "query" : {
    "match_all": {}
  }
}
```

should now return almost instantly. Additionally, when there are no deletions,
term queries are also optimized, so the below queries which all boil down to a
single term query would also return almost immediately:

```
GET index/type/_search?size=0

GET index/_search
{
  "size": 0,
  "query" : {
    "match": {
      "foo": "bar"
    }
  }
}

GET index/_search
{
  "size": 0,
  "query" : {
    "constant_score": {
      "filter": {
        "exists": {
          "field": "foo"
        }
      }
    }
  }
}
```

time:
2015-09-03T07:36:34Z
class:
comments:
Docs: Insist that setting size=0 will help performance.

time:
2015-09-03T07:23:20Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/AliasAction.java
comments:
Merge pull request #13295 from sksamuel/patch-1

Updated param name to match type

time:
2015-09-03T04:04:51Z
class:
comments:
Merge remote-tracking branch 'dakrone/fix-Xloggc-args'

time:
2015-09-03T03:03:31Z
class:
core/src/main/java/org/elasticsearch/common/network/NetworkService.java
core/src/test/java/org/elasticsearch/common/network/NetworkServiceTests.java
comments:
Improve situation when network.host is set to wildcard (e.g. 0.0.0.0)

Users might specify something like -Des.network.host=0.0.0.0, as that
was the old default with previous versions of elasticsearch. This means
to bind to all interfaces, but it makes no sense as a publish address.

Pick a good one in this case, just like we do in other cases where
publish isn't explicitly specified and we are bound to multiple (e.g.
when configured by interface, or dns hostname with multiple addresses).
However, in this case warn the user about it: since its arbitrarily
picking the first non-loopback address like the old versions
did, thats a little too heuristical, but lets make the cutover easy.

Separately, fail hard if things like multicast or broadcast addresses are
configured as bind or publish addresses, as that is simply invalid.

Closes #13274

time:
2015-09-02T23:13:45Z
class:
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/MockRepository.java
comments:
Tests: set the upper bound on the number of simulated failures in a restore test

The number and distribution of errors in some restore test may cause restore process to continue to fail for a prolong time. This test caps the total number of simulated failures to make sure that restore is guaranteed to eventually succeed after a limited number of retries.

time:
2015-09-02T22:45:46Z
class:
comments:
Don't surround -Xloggc log filename with quotes

The `-Xloggc:filename.log` parameter has very strict filename semantics:

```
[A-Z][a-z][0-9]-_.%[p|t]
```

Our script specifies \" and \" to surround it, which makes Java think we
are sending: -Xloggc:"foo.log" and it fails with:

```
Invalid file name for use with -Xloggc: Filename can only contain the characters [A-Z][a-z][0-9]-_.%[p|t] but it has been "foo.log"
Note %p or %t can only be used once
Error: Could not create the Java Virtual Machine.
Error: A fatal exception has occurred. Program will exit.
```

We can't quote this, and we should not need to since the valid
characters don't include a space character, so we don't need to worry
about quoting.

Resolves #13277

time:
2015-09-02T22:19:17Z
class:
core/src/test/java/org/apache/lucene/queries/BlendedTermQueryTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/NamingConventionTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequestTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequestBuilderTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreResponseTests.java
core/src/test/java/org/elasticsearch/action/fieldstats/FieldStatsRequestTests.java
core/src/test/java/org/elasticsearch/action/index/IndexRequestBuilderTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingTableTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceUnbalancedClusterTests.java
core/src/test/java/org/elasticsearch/common/Base64Tests.java
core/src/test/java/org/elasticsearch/common/blobstore/BlobStoreTests.java
core/src/test/java/org/elasticsearch/common/bytes/PagedBytesReferenceTests.java
core/src/test/java/org/elasticsearch/common/lucene/LuceneTests.java
core/src/test/java/org/elasticsearch/common/property/PropertyPlaceholderTests.java
core/src/test/java/org/elasticsearch/common/util/CancellableThreadsTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/CountDownTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/RefCountedTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ElectMasterServiceTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryUnitTests.java
core/src/test/java/org/elasticsearch/gateway/MetaDataStateFormatTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTests.java
core/src/test/java/org/elasticsearch/http/netty/pipelining/HttpPipeliningHandlerTests.java
core/src/test/java/org/elasticsearch/index/analysis/PatternAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTests.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/codec/postingformat/PostingsFormatTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineSettingsTests.java
core/src/test/java/org/elasticsearch/index/fielddata/FilterFieldDataTests.java
core/src/test/java/org/elasticsearch/index/mapper/MapperServiceTests.java
core/src/test/java/org/elasticsearch/index/mapper/lucene/DoubleIndexingDocTests.java
core/src/test/java/org/elasticsearch/index/mapper/lucene/StoredNumericValuesTests.java
core/src/test/java/org/elasticsearch/index/query/CommonTermsQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/shard/MergePolicySettingsTests.java
core/src/test/java/org/elasticsearch/index/shard/NewPathForShardTests.java
core/src/test/java/org/elasticsearch/index/shard/VersionFieldUpgraderTests.java
core/src/test/java/org/elasticsearch/index/snapshots/blobstore/FileInfoTests.java
core/src/test/java/org/elasticsearch/index/snapshots/blobstore/SlicedInputStreamTests.java
core/src/test/java/org/elasticsearch/index/store/DirectoryUtilsTests.java
core/src/test/java/org/elasticsearch/index/store/IndexStoreBWCTests.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
core/src/test/java/org/elasticsearch/indices/flush/SyncedFlushSingleNodeTests.java
core/src/test/java/org/elasticsearch/indices/recovery/RecoveryStateTests.java
core/src/test/java/org/elasticsearch/indices/recovery/StartRecoveryRequestTests.java
core/src/test/java/org/elasticsearch/recovery/RecoverySettingsTests.java
core/src/test/java/org/elasticsearch/rest/action/support/RestTableTests.java
core/src/test/java/org/elasticsearch/script/ScriptParameterParserTests.java
core/src/test/java/org/elasticsearch/script/mustache/MustacheScriptEngineTests.java
core/src/test/java/org/elasticsearch/script/mustache/MustacheTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTests.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/fetch/innerhits/NestedChildrenFilterTests.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionTokenStreamTests.java
core/src/test/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProviderV1.java
core/src/test/java/org/elasticsearch/search/suggest/completion/CompletionPostingsFormatTests.java
core/src/test/java/org/elasticsearch/search/suggest/context/GeoLocationContextMappingTests.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/watcher/FileWatcherTests.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/AWSSignersTests.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/blobstore/S3OutputStreamTests.java
plugins/cloud-aws/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryTests.java
plugins/cloud-aws/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryUpdateSettingsTests.java
plugins/cloud-aws/src/test/java/org/elasticsearch/repositories/s3/S3ProxiedSnapshotRestoreOverHttpsTests.java
plugins/cloud-aws/src/test/java/org/elasticsearch/repositories/s3/S3SnapshotRestoreOverHttpTests.java
plugins/cloud-aws/src/test/java/org/elasticsearch/repositories/s3/S3SnapshotRestoreOverHttpsTests.java
plugins/cloud-azure/src/test/java/org/apache/lucene/store/SmbMMapDirectoryTests.java
plugins/cloud-azure/src/test/java/org/apache/lucene/store/SmbSimpleFSDirectoryTests.java
plugins/cloud-azure/src/test/java/org/elasticsearch/azure/itest/AzureSimpleTests.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureRepositoryServiceTestCase.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureMinimumMasterNodesTests.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureSimpleTests.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureTwoStartedNodesTests.java
plugins/cloud-azure/src/test/java/org/elasticsearch/index/store/SmbMMapFsTests.java
plugins/cloud-azure/src/test/java/org/elasticsearch/index/store/SmbSimpleFsTests.java
plugins/cloud-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreServiceTests.java
plugins/cloud-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreTests.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoveryTests.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptMultiThreadedTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptMultiThreadedTests.java
comments:
Merge pull request #13294 from rjernst/no_test_exclusions3

Rename test suffix so we only use "Tests"

time:
2015-09-02T22:07:17Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/AliasAction.java
comments:
Updated param name to match type

time:
2015-09-02T21:38:43Z
class:
core/src/test/java/org/apache/lucene/queries/BlendedTermQueryTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/NamingConventionTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequestTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequestBuilderTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreResponseTests.java
core/src/test/java/org/elasticsearch/action/fieldstats/FieldStatsRequestTests.java
core/src/test/java/org/elasticsearch/action/index/IndexRequestBuilderTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingTableTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceUnbalancedClusterTests.java
core/src/test/java/org/elasticsearch/common/Base64Tests.java
core/src/test/java/org/elasticsearch/common/blobstore/BlobStoreTests.java
core/src/test/java/org/elasticsearch/common/bytes/PagedBytesReferenceTests.java
core/src/test/java/org/elasticsearch/common/lucene/LuceneTests.java
core/src/test/java/org/elasticsearch/common/property/PropertyPlaceholderTests.java
core/src/test/java/org/elasticsearch/common/util/CancellableThreadsTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/CountDownTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/RefCountedTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ElectMasterServiceTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryUnitTests.java
core/src/test/java/org/elasticsearch/gateway/MetaDataStateFormatTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTests.java
core/src/test/java/org/elasticsearch/http/netty/pipelining/HttpPipeliningHandlerTests.java
core/src/test/java/org/elasticsearch/index/analysis/PatternAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTests.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/codec/postingformat/PostingsFormatTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineSettingsTests.java
core/src/test/java/org/elasticsearch/index/fielddata/FilterFieldDataTests.java
core/src/test/java/org/elasticsearch/index/mapper/MapperServiceTests.java
core/src/test/java/org/elasticsearch/index/mapper/lucene/DoubleIndexingDocTests.java
core/src/test/java/org/elasticsearch/index/mapper/lucene/StoredNumericValuesTests.java
core/src/test/java/org/elasticsearch/index/query/CommonTermsQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/shard/MergePolicySettingsTests.java
core/src/test/java/org/elasticsearch/index/shard/NewPathForShardTests.java
core/src/test/java/org/elasticsearch/index/shard/VersionFieldUpgraderTests.java
core/src/test/java/org/elasticsearch/index/snapshots/blobstore/FileInfoTests.java
core/src/test/java/org/elasticsearch/index/snapshots/blobstore/SlicedInputStreamTests.java
core/src/test/java/org/elasticsearch/index/store/DirectoryUtilsTests.java
core/src/test/java/org/elasticsearch/index/store/IndexStoreBWCTests.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
core/src/test/java/org/elasticsearch/indices/flush/SyncedFlushSingleNodeTests.java
core/src/test/java/org/elasticsearch/indices/recovery/RecoveryStateTests.java
core/src/test/java/org/elasticsearch/indices/recovery/StartRecoveryRequestTests.java
core/src/test/java/org/elasticsearch/recovery/RecoverySettingsTests.java
core/src/test/java/org/elasticsearch/rest/action/support/RestTableTests.java
core/src/test/java/org/elasticsearch/script/ScriptParameterParserTests.java
core/src/test/java/org/elasticsearch/script/mustache/MustacheScriptEngineTests.java
core/src/test/java/org/elasticsearch/script/mustache/MustacheTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTests.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/fetch/innerhits/NestedChildrenFilterTests.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionTokenStreamTests.java
core/src/test/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProviderV1.java
core/src/test/java/org/elasticsearch/search/suggest/completion/CompletionPostingsFormatTests.java
core/src/test/java/org/elasticsearch/search/suggest/context/GeoLocationContextMappingTests.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/watcher/FileWatcherTests.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/AWSSignersTests.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/blobstore/S3OutputStreamTests.java
plugins/cloud-aws/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryTests.java
plugins/cloud-aws/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryUpdateSettingsTests.java
plugins/cloud-aws/src/test/java/org/elasticsearch/repositories/s3/S3ProxiedSnapshotRestoreOverHttpsTests.java
plugins/cloud-aws/src/test/java/org/elasticsearch/repositories/s3/S3SnapshotRestoreOverHttpTests.java
plugins/cloud-aws/src/test/java/org/elasticsearch/repositories/s3/S3SnapshotRestoreOverHttpsTests.java
plugins/cloud-azure/src/test/java/org/apache/lucene/store/SmbMMapDirectoryTests.java
plugins/cloud-azure/src/test/java/org/apache/lucene/store/SmbSimpleFSDirectoryTests.java
plugins/cloud-azure/src/test/java/org/elasticsearch/azure/itest/AzureSimpleTests.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureRepositoryServiceTestCase.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureMinimumMasterNodesTests.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureSimpleTests.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureTwoStartedNodesTests.java
plugins/cloud-azure/src/test/java/org/elasticsearch/index/store/SmbMMapFsTests.java
plugins/cloud-azure/src/test/java/org/elasticsearch/index/store/SmbSimpleFsTests.java
plugins/cloud-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreServiceTests.java
plugins/cloud-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreTests.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoveryTests.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptMultiThreadedTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptMultiThreadedTests.java
comments:
Tests: Rename test suffix so we only use "Tests"

We currently have a small number of test classes with the suffix "Test",
yet most use the suffix "Tests". This change renames all the "Test"
classes, so that we have a simple rule: "Non-inner classes ending with
Tests".

time:
2015-09-02T21:31:11Z
class:
core/src/main/java/org/elasticsearch/common/util/concurrent/BaseFuture.java
comments:
Remove sole usgae of com.google.common.annotations.Beta

time:
2015-09-02T20:52:29Z
class:
core/src/main/java/org/elasticsearch/index/indexing/IndexingOperationListener.java
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
Merge pull request #13203 from kiryam/master

Add listeners for postIndex, postCreate, and postDelete

time:
2015-09-02T20:45:06Z
class:
core/src/test/java/org/elasticsearch/NamingConventionTests.java
core/src/test/java/org/elasticsearch/benchmark/stress/NodesStressTest.java
core/src/test/java/org/elasticsearch/benchmark/stress/SingleThreadBulkStress.java
core/src/test/java/org/elasticsearch/benchmark/stress/SingleThreadIndexingStress.java
core/src/test/java/org/elasticsearch/stresstest/client/ClientFailover.java
core/src/test/java/org/elasticsearch/stresstest/fullrestart/FullRestartStressTest.java
core/src/test/java/org/elasticsearch/stresstest/gcbehavior/FilterCacheGcStress.java
core/src/test/java/org/elasticsearch/stresstest/get/GetStressTest.java
core/src/test/java/org/elasticsearch/stresstest/get/MGetStress1.java
core/src/test/java/org/elasticsearch/stresstest/indexing/BulkIndexingStressTest.java
core/src/test/java/org/elasticsearch/stresstest/indexing/ConcurrentIndexingVersioningStressTest.java
core/src/test/java/org/elasticsearch/stresstest/leaks/GenericStatsLeak.java
core/src/test/java/org/elasticsearch/stresstest/leaks/JvmStatsLeak.java
core/src/test/java/org/elasticsearch/stresstest/manyindices/ManyIndicesRemoteStressTest.java
core/src/test/java/org/elasticsearch/stresstest/manyindices/ManyIndicesStressTest.java
core/src/test/java/org/elasticsearch/stresstest/manyindices/ManyNodesManyIndicesRecoveryStressTest.java
core/src/test/java/org/elasticsearch/stresstest/refresh/RefreshStressTest1.java
core/src/test/java/org/elasticsearch/stresstest/rollingrestart/QuickRollingRestartStressTest.java
core/src/test/java/org/elasticsearch/stresstest/rollingrestart/RollingRestartStressTest.java
core/src/test/java/org/elasticsearch/stresstest/search1/ConcurrentSearchSerializationBenchmark.java
core/src/test/java/org/elasticsearch/stresstest/search1/ParentChildStressTest.java
core/src/test/java/org/elasticsearch/stresstest/search1/Search1StressBenchmark.java
comments:
Merge pull request #13291 from rjernst/no_test_exclusions2

Remove stress tests

time:
2015-09-02T20:44:42Z
class:
core/src/test/java/org/elasticsearch/benchmark/stress/NodesStressBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/stress/SingleThreadBulkStress.java
core/src/test/java/org/elasticsearch/benchmark/stress/SingleThreadIndexingStress.java
comments:
Remove benchmark/stress too

time:
2015-09-02T20:07:15Z
class:
core/src/test/java/org/elasticsearch/NamingConventionTests.java
core/src/test/java/org/elasticsearch/benchmark/stress/NodesStressBenchmark.java
core/src/test/java/org/elasticsearch/stresstest/client/ClientFailover.java
core/src/test/java/org/elasticsearch/stresstest/fullrestart/FullRestartStressTest.java
core/src/test/java/org/elasticsearch/stresstest/gcbehavior/FilterCacheGcStress.java
core/src/test/java/org/elasticsearch/stresstest/get/GetStressTest.java
core/src/test/java/org/elasticsearch/stresstest/get/MGetStress1.java
core/src/test/java/org/elasticsearch/stresstest/indexing/BulkIndexingStressTest.java
core/src/test/java/org/elasticsearch/stresstest/indexing/ConcurrentIndexingVersioningStressTest.java
core/src/test/java/org/elasticsearch/stresstest/leaks/GenericStatsLeak.java
core/src/test/java/org/elasticsearch/stresstest/leaks/JvmStatsLeak.java
core/src/test/java/org/elasticsearch/stresstest/manyindices/ManyIndicesRemoteStressTest.java
core/src/test/java/org/elasticsearch/stresstest/manyindices/ManyIndicesStressTest.java
core/src/test/java/org/elasticsearch/stresstest/manyindices/ManyNodesManyIndicesRecoveryStressTest.java
core/src/test/java/org/elasticsearch/stresstest/refresh/RefreshStressTest1.java
core/src/test/java/org/elasticsearch/stresstest/rollingrestart/QuickRollingRestartStressTest.java
core/src/test/java/org/elasticsearch/stresstest/rollingrestart/RollingRestartStressTest.java
core/src/test/java/org/elasticsearch/stresstest/search1/ConcurrentSearchSerializationBenchmark.java
core/src/test/java/org/elasticsearch/stresstest/search1/ParentChildStressTest.java
core/src/test/java/org/elasticsearch/stresstest/search1/Search1StressBenchmark.java
comments:
Tests: Remove stress tests

These are not actually tests, but command line applications that must be
run manually. This change removes the entire stresstest package. We can
add back individual tests that we find necessary, and make them real
tests (whether integ or not).

time:
2015-09-02T19:33:53Z
class:
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTestCase.java
plugins/cloud-aws/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryITest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryUpdateSettingsITest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/repositories/s3/AbstractS3SnapshotRestoreTestCase.java
plugins/cloud-aws/src/test/java/org/elasticsearch/repositories/s3/S3ProxiedSnapshotRestoreOverHttpsTest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/repositories/s3/S3SnapshotRestoreOverHttpTest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/repositories/s3/S3SnapshotRestoreOverHttpsTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/azure/itest/AzureSimpleITest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureComputeServiceTestCase.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureRepositoryServiceTestCaseCase.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureTestCase.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureMinimumMasterNodesTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureSimpleTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureTwoStartedNodesTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/index/store/AbstractAzureFsTestCase.java
plugins/cloud-azure/src/test/java/org/elasticsearch/index/store/SmbMMapFsTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/index/store/SmbSimpleFsTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreITest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreTest.java
comments:
Fix naming for plugins abstract test cases

See #13282

time:
2015-09-02T19:16:53Z
class:
comments:
[test] Test upgrading from an older version

Adds a test for upgrading from 2.0.0-beta1 to the version of that is built.

Closes #13183

time:
2015-09-02T18:56:37Z
class:
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
comments:
Catch exception in callback of exception

time:
2015-09-02T18:40:07Z
class:
qa/smoke-test-client/src/test/java/org/elasticsearch/smoketest/ESSmokeClientTestCase.java
comments:
[qa] Add smoke test client module

As we log a lot, we hit a default limit:

```
The test or suite printed 9450 bytes to stdout and stderr, even though the limit was set to 8192 bytes. Increase the limit with @Limit, ignore it completely with @SuppressSysoutChecks or run with -Dtests.verbose=true
```

(cherry picked from commit 0cb325d)

time:
2015-09-02T18:13:30Z
class:
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/NamingConventionTests.java
core/src/test/java/org/elasticsearch/client/AbstractClientHeadersTestCase.java
core/src/test/java/org/elasticsearch/client/node/NodeClientHeadersTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientHeadersTests.java
core/src/test/java/org/elasticsearch/common/compress/AbstractCompressedStreamTestCase.java
core/src/test/java/org/elasticsearch/common/compress/AbstractCompressedXContentTestCase.java
core/src/test/java/org/elasticsearch/common/compress/deflate/DeflateCompressedStreamTests.java
core/src/test/java/org/elasticsearch/common/compress/deflate/DeflateXContentTests.java
core/src/test/java/org/elasticsearch/common/compress/lzf/LZFCompressedStreamTests.java
core/src/test/java/org/elasticsearch/common/compress/lzf/LZFXContentTests.java
core/src/test/java/org/elasticsearch/common/recycler/AbstractRecyclerTestCase.java
core/src/test/java/org/elasticsearch/common/recycler/ConcurrentRecyclerTests.java
core/src/test/java/org/elasticsearch/common/recycler/LockedRecyclerTests.java
core/src/test/java/org/elasticsearch/common/recycler/NoneRecyclerTests.java
core/src/test/java/org/elasticsearch/common/recycler/QueueRecyclerTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/filtering/AbstractFilteringJsonGeneratorTestCase.java
core/src/test/java/org/elasticsearch/common/xcontent/support/filtering/JsonFilteringGeneratorTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/filtering/YamlFilteringGeneratorTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataImplTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractNumericFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractStringFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/BinaryDVFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/DoubleFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/DuelFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/FilterFieldDataTest.java
core/src/test/java/org/elasticsearch/index/fielddata/FloatFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/LongFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/PagedBytesStringFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/ParentChildFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/SortedSetDVStringFieldDataTests.java
core/src/test/java/org/elasticsearch/index/search/nested/AbstractNumberNestedSortingTestCase.java
core/src/test/java/org/elasticsearch/index/search/nested/DoubleNestedSortingTests.java
core/src/test/java/org/elasticsearch/index/search/nested/LongNestedSortingTests.java
core/src/test/java/org/elasticsearch/index/search/nested/NestedSortingTests.java
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTestCase.java
core/src/test/java/org/elasticsearch/transport/local/SimpleLocalTransportTests.java
core/src/test/java/org/elasticsearch/transport/netty/SimpleNettyTransportTests.java
comments:
Merge pull request #13282 from rjernst/no_test_exclusions

Remove test class exclusion for Abstract prefix and rename classes accordingly

time:
2015-09-02T18:13:05Z
class:
core/src/test/java/org/elasticsearch/NamingConventionTests.java
comments:
Addressed PR comments

time:
2015-09-02T18:00:17Z
class:
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/NamingConventionTests.java
core/src/test/java/org/elasticsearch/client/AbstractClientHeadersTestCase.java
core/src/test/java/org/elasticsearch/client/node/NodeClientHeadersTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientHeadersTests.java
core/src/test/java/org/elasticsearch/common/compress/AbstractCompressedStreamTestCase.java
core/src/test/java/org/elasticsearch/common/compress/AbstractCompressedXContentTestCase.java
core/src/test/java/org/elasticsearch/common/compress/deflate/DeflateCompressedStreamTests.java
core/src/test/java/org/elasticsearch/common/compress/deflate/DeflateXContentTests.java
core/src/test/java/org/elasticsearch/common/compress/lzf/LZFCompressedStreamTests.java
core/src/test/java/org/elasticsearch/common/compress/lzf/LZFXContentTests.java
core/src/test/java/org/elasticsearch/common/recycler/AbstractRecyclerTestCase.java
core/src/test/java/org/elasticsearch/common/recycler/ConcurrentRecyclerTests.java
core/src/test/java/org/elasticsearch/common/recycler/LockedRecyclerTests.java
core/src/test/java/org/elasticsearch/common/recycler/NoneRecyclerTests.java
core/src/test/java/org/elasticsearch/common/recycler/QueueRecyclerTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/filtering/AbstractFilteringJsonGeneratorTestCase.java
core/src/test/java/org/elasticsearch/common/xcontent/support/filtering/JsonFilteringGeneratorTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/filtering/YamlFilteringGeneratorTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataImplTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractNumericFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractStringFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/BinaryDVFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/DoubleFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/DuelFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/FilterFieldDataTest.java
core/src/test/java/org/elasticsearch/index/fielddata/FloatFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/LongFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/PagedBytesStringFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/ParentChildFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/SortedSetDVStringFieldDataTests.java
core/src/test/java/org/elasticsearch/index/search/nested/AbstractNumberNestedSortingTestCase.java
core/src/test/java/org/elasticsearch/index/search/nested/DoubleNestedSortingTests.java
core/src/test/java/org/elasticsearch/index/search/nested/LongNestedSortingTests.java
core/src/test/java/org/elasticsearch/index/search/nested/NestedSortingTests.java
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTestCase.java
core/src/test/java/org/elasticsearch/transport/local/SimpleLocalTransportTests.java
core/src/test/java/org/elasticsearch/transport/netty/SimpleNettyTransportTests.java
comments:
Tests: Remove test class exclusion for Abstract prefix and rename classes accordingly

While the list of having exclusions is small, it shouldn't be necessary
at all. Base test cases should be suffixed with TestCase so they are not
picked up by the test class name pattern. This same rule works for
abstract classes as well.

This change renames abstract tests to use the TestCase suffix, adds a
check in naming convention tests, and removes the exclusion from our
test runner configuration. It also excludes inner classes (the only
exclude we should have IMO), so that we have no need to @Ignore the
inner test classes for naming convention tests.

time:
2015-09-02T17:44:40Z
class:
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
comments:
Merge pull request #13268 from brwe/test-start-end

[test] print test start and end of test setup and cleanup

time:
2015-09-02T17:28:04Z
class:
qa/smoke-test-client/src/test/java/org/elasticsearch/smoketest/SmokeTestClientIT.java
comments:
[qa] Add smoke test client module

Fix previous commit. A `pom` project does not run any test...
And the cluster name is set externally so we can't assert that it's `elasticsearch`.

time:
2015-09-02T17:15:46Z
class:
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
comments:
[test] don't call optimize while shard is relocating

In this test we assume that after waitForRelocation() has returned shards
are no more relocated and optimize will therefore succeed always.
However, because the test does not wait for green status, relocations can
still start after waitForRelocation() has returned successfully.

see #13266 for a detailed explanation

time:
2015-09-02T15:34:54Z
class:
qa/smoke-test-client/src/test/java/org/elasticsearch/smoketest/ESSmokeClientTestCase.java
qa/smoke-test-client/src/test/java/org/elasticsearch/smoketest/SmokeTestClientIT.java
comments:
[qa] Add smoke test client module

This commit adds a new smoke test for testing client as a end Java user.

It starts a cluster in `pre-integration-test` phase, then execute the client operations defined as JUnit tests within `integration-test` phase and then stop the external cluster in `post-integration-test` phase.

You can also run test classes from your IDE.

* Start an external node on your machine with `bin/elasticsearch` (note that you can test Java API regressions if you run an older or newer node version)
* Run the JUnit test. By default, it will run tests on `localhost:9300` but you can change this setting using system property `tests.cluster`. It also expects the default `cluster.name` (`elasticsearch`).

This commit also starts adding [snippets as defined by Maven](https://maven.apache.org/guides/mini/guide-snippet-macro.html) to help keeping automatically synchronized the Java reference guide with the current code.

Our documentation builder tool does not support snippets though but we will most likely support it at some point.

time:
2015-09-02T14:00:35Z
class:
core/src/main/java/org/apache/lucene/queries/MinDocQuery.java
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/apache/lucene/search/postingshighlight/CustomSeparatorBreakIterator.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XFuzzySuggester.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/ActionWriteResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/TransportGetRepositoriesAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/FlushResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/ShardFlushRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/ShardFlushResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/TransportGetIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/open/TransportOpenIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/ShardRefreshRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/ShardRefreshResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/ShardSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoresResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/TransportIndicesShardStoresAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/template/TransportRenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/TransportGetWarmersAction.java
core/src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateShardResponse.java
core/src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchCountAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryAndFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryThenFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchQueryAndFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchQueryThenFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScanAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryAndFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryThenFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollScanAction.java
core/src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
core/src/main/java/org/elasticsearch/action/support/DestructiveOperations.java
core/src/main/java/org/elasticsearch/action/support/broadcast/BroadcastRequest.java
core/src/main/java/org/elasticsearch/action/support/broadcast/BroadcastResponse.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportBroadcastReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsFields.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsFilter.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsResponse.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsWriter.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/action/update/UpdateHelper.java
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/main/java/org/elasticsearch/bootstrap/JNAKernel32Library.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java
core/src/main/java/org/elasticsearch/cluster/RestoreInProgress.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/RepositoriesMetaData.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTableValidation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/common/DelegatingHasContextAndHeaders.java
core/src/main/java/org/elasticsearch/common/blobstore/BlobPath.java
core/src/main/java/org/elasticsearch/common/inject/EncounterImpl.java
core/src/main/java/org/elasticsearch/common/inject/InjectionRequestProcessor.java
core/src/main/java/org/elasticsearch/common/inject/InjectorImpl.java
core/src/main/java/org/elasticsearch/common/inject/MembersInjectorImpl.java
core/src/main/java/org/elasticsearch/common/inject/MembersInjectorStore.java
core/src/main/java/org/elasticsearch/common/inject/ProvisionException.java
core/src/main/java/org/elasticsearch/common/inject/State.java
core/src/main/java/org/elasticsearch/common/inject/TypeLiteral.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider2.java
core/src/main/java/org/elasticsearch/common/inject/internal/Errors.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/Multibinder.java
core/src/main/java/org/elasticsearch/common/inject/spi/Elements.java
core/src/main/java/org/elasticsearch/common/inject/spi/InjectionPoint.java
core/src/main/java/org/elasticsearch/common/inject/spi/Message.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
core/src/main/java/org/elasticsearch/common/lucene/index/FilterableTermsEnum.java
core/src/main/java/org/elasticsearch/common/lucene/search/FilteredCollector.java
core/src/main/java/org/elasticsearch/common/lucene/search/MoreLikeThisQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/Queries.java
core/src/main/java/org/elasticsearch/common/lucene/search/XMoreLikeThis.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FieldValueFactorFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/uid/PerThreadIDAndVersionLookup.java
core/src/main/java/org/elasticsearch/common/util/MultiDataPathUpgrader.java
core/src/main/java/org/elasticsearch/common/util/concurrent/AtomicArray.java
core/src/main/java/org/elasticsearch/common/xcontent/support/filtering/FilteringJsonGenerator.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/gateway/DanglingIndicesState.java
core/src/main/java/org/elasticsearch/index/analysis/Analysis.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/index/analysis/LithuanianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/NamedAnalyzer.java
core/src/main/java/org/elasticsearch/index/analysis/StemmerTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/codec/CodecService.java
core/src/main/java/org/elasticsearch/index/codec/PerFieldMappingPostingFormatCodec.java
core/src/main/java/org/elasticsearch/index/codec/postingsformat/BloomFilterPostingsFormat.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/fielddata/ScriptDocValues.java
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/OrdinalsBuilder.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIntersectTermsEnum.java
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/ObjectMappers.java
core/src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionParser.java
core/src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ParentIdsFilter.java
core/src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/index/search/nested/IncludeNestedDocsQuery.java
core/src/main/java/org/elasticsearch/index/search/stats/StatsGroupsParseElement.java
core/src/main/java/org/elasticsearch/index/shard/CommitPoint.java
core/src/main/java/org/elasticsearch/index/shard/CommitPoints.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/MergePolicyConfig.java
core/src/main/java/org/elasticsearch/index/shard/MergeSchedulerConfig.java
core/src/main/java/org/elasticsearch/index/shard/VersionFieldUpgrader.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshot.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshots.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/SnapshotFiles.java
core/src/main/java/org/elasticsearch/index/store/FsDirectoryService.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/indices/analysis/PreBuiltAnalyzers.java
core/src/main/java/org/elasticsearch/indices/cache/query/IndicesQueryCache.java
core/src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryState.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/get/RestGetIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/warmer/get/RestGetWarmerAction.java
core/src/main/java/org/elasticsearch/rest/action/search/RestMultiSearchAction.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregation.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregations.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/children/ParentToChildrenAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParametersParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/GND.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/JLHScore.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/NXYSignificanceHeuristic.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/PercentageScore.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ScriptHeuristic.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/SignificanceHeuristicParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/HyperLogLogPlusPlus.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/InternalScriptedMetric.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/having/BucketSelectorPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
core/src/main/java/org/elasticsearch/search/fetch/matchedqueries/MatchedQueriesFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/highlight/CustomQueryScorer.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightUtils.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
core/src/main/java/org/elasticsearch/search/lookup/IndexFieldTerm.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestContextParser.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestParseElement.java
core/src/main/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProvider.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestParser.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionTokenStream.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestionBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/term/TermSuggestParser.java
core/src/main/java/org/elasticsearch/search/warmer/IndexWarmersMetaData.java
core/src/main/java/org/elasticsearch/snapshots/RestoreInfo.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/Snapshot.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotInfo.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotUtils.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPoolStats.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/action/IndicesRequestIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/flush/FlushBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/get/GetIndexIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/optimize/OptimizeBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/refresh/RefreshBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreResponseTest.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
core/src/test/java/org/elasticsearch/action/support/replication/BroadcastReplicationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ClusterStateCreationUtils.java
core/src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
core/src/test/java/org/elasticsearch/action/termvectors/AbstractTermVectorsTestCase.java
core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsCheckDocFreqIT.java
core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsIT.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/bootstrap/ESPolicyTests.java
core/src/test/java/org/elasticsearch/bwcompat/BasicAnalysisBackwardCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/GetIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/ack/AckIT.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/structure/RoutingIteratorTests.java
core/src/test/java/org/elasticsearch/common/lucene/IndexCacheableQueryTests.java
core/src/test/java/org/elasticsearch/common/util/CollectionUtilsTests.java
core/src/test/java/org/elasticsearch/deps/lucene/SimpleLuceneTests.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/gateway/PriorityComparatorTests.java
core/src/test/java/org/elasticsearch/index/codec/CodecTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/plain/ParentChildFilteredTermsEnumTests.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeLookupTests.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/core/BinaryFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/BooleanFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/ByteFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/CompletionFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/DateFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/DoubleFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/FloatFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/IntegerFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/LongFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/ShortFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/merge/JavaMultiFieldMergeTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/StringFieldMapperPositionIncrementGapTests.java
core/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterIT.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
comments:
Merge branch 'master' into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
	core/src/main/java/org/elasticsearch/index/query/TemplateQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionParser.java
	core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/GND.java
	core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/JLHScore.java
	core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/NXYSignificanceHeuristic.java
	core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/PercentageScore.java
	core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ScriptHeuristic.java
	core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java

time:
2015-09-02T13:51:13Z
class:
comments:
Merge pull request #13257 from elastic/docsfix

Fixed non-valid JSON (though ES would accept it)

time:
2015-09-02T13:22:15Z
class:
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
comments:
fix typo

time:
2015-09-02T13:21:17Z
class:
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
comments:
postCreateUnderLock try catch listeners

time:
2015-09-02T13:18:49Z
class:
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
comments:
try catch in post listeners

time:
2015-09-02T13:04:26Z
class:
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
comments:
remove try in posIndex

time:
2015-09-02T13:02:26Z
class:
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
comments:
fix skipped variable setting

time:
2015-09-02T12:59:41Z
class:
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
comments:
strict listeners

time:
2015-09-02T12:49:20Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/validate/template/TransportRenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchCountAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryAndFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryThenFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchQueryAndFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchQueryThenFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScanAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryAndFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryThenFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollScanAction.java
core/src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
core/src/main/java/org/elasticsearch/action/update/UpdateHelper.java
core/src/main/java/org/elasticsearch/common/DelegatingHasContextAndHeaders.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryParser.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregation.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParametersParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/GND.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/JLHScore.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/NXYSignificanceHeuristic.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/PercentageScore.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ScriptHeuristic.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/SignificanceHeuristicParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/InternalScriptedMetric.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/having/BucketSelectorPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestContextParser.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestParseElement.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestParser.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestionBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/term/TermSuggestParser.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTest.java
core/src/test/java/org/elasticsearch/script/CustomScriptContextIT.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggester.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
comments:
Scripting: Propagate Headers and Context through to ScriptService

At the moment if an index script is used in a request, the spawned request to get the indexed script from the `.scripts` index does not get the headers and context copied to it from the original request. This change makes the calls to the `ScriptService` pass in a `HasContextAndHeaders` object that can provide the headers and context. For the `search()` method the context and headers are retrieved from `SearchContext.current()`.

Closes #12891

time:
2015-09-02T12:48:37Z
class:
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
comments:
make more strict

time:
2015-09-02T12:45:15Z
class:
comments:
Merge pull request #13083 from nik9000/bats_less_skip

Clean up more bats tests

time:
2015-09-02T11:59:49Z
class:
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
assertNotNull

time:
2015-09-02T11:13:15Z
class:
comments:
[DOCS] Added note about valid return types for scripts in the scripted_metric aggregation

time:
2015-09-02T10:09:18Z
class:
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
Fail if ex null

time:
2015-09-02T09:57:33Z
class:
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
comments:
[test] print test start and end of test setup, execution and cleanup

time:
2015-09-02T09:57:10Z
class:
qa/smoke-test-shaded/src/test/java/org/elasticsearch/shaded/test/ShadedIT.java
comments:
[build] remove shaded elasticsearch version

The shaded version of elasticsearch was built at the very beginning to avoid dependency conflicts in a specific case where:

* People use elasticsearch from Java
* People needs to embed elasticsearch jar within their own application (as it's today the only way to get a `TransportClient`)
* People also embed in their application another (most of the time older) version of dependency we are using for elasticsearch, such as: Guava, Joda, Jackson...

This conflict issue can be solved within the projects themselves by either upgrade the dependency version and use the one provided by elasticsearch or by shading elasticsearch project and relocating some conflicting packages.

Example
-------

As an example, let's say you want to use within your project `Joda 2.1` but elasticsearch `2.0.0-beta1` provides `Joda 2.8`.
Let's say you also want to run all that with shield plugin.

Create a new maven project or module with:

```xml
<groupId>fr.pilato.elasticsearch.test</groupId>
<artifactId>es-shaded</artifactId>
<version>1.0-SNAPSHOT</version>

<properties>
    <elasticsearch.version>2.0.0-beta1</elasticsearch.version>
</properties>

<dependencies>
    <dependency>
        <groupId>org.elasticsearch</groupId>
        <artifactId>elasticsearch</artifactId>
        <version>${elasticsearch.version}</version>
    </dependency>
    <dependency>
        <groupId>org.elasticsearch.plugin</groupId>
        <artifactId>shield</artifactId>
        <version>${elasticsearch.version}</version>
    </dependency>
</dependencies>
```

And now shade and relocate all packages which conflicts with your own application:

```xml
<build>
    <plugins>
        <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-shade-plugin</artifactId>
            <version>2.4.1</version>
            <executions>
                <execution>
                    <phase>package</phase>
                    <goals>
                        <goal>shade</goal>
                    </goals>
                    <configuration>
                        <relocations>
                            <relocation>
                                <pattern>org.joda</pattern>
                                <shadedPattern>fr.pilato.thirdparty.joda</shadedPattern>
                            </relocation>
                        </relocations>
                    </configuration>
                </execution>
            </executions>
        </plugin>
    </plugins>
</build>
```

You can create now a shaded version of elasticsearch + shield by running `mvn clean install`.

In your project, you can now depend on:

```xml
<dependency>
    <groupId>fr.pilato.elasticsearch.test</groupId>
    <artifactId>es-shaded</artifactId>
    <version>1.0-SNAPSHOT</version>
</dependency>
<dependency>
    <groupId>joda-time</groupId>
    <artifactId>joda-time</artifactId>
    <version>2.1</version>
</dependency>
```

Build then your TransportClient as usual:

```java
TransportClient client = TransportClient.builder()
        .settings(Settings.builder()
                        .put("path.home", ".")
                        .put("shield.user", "username:password")
                        .put("plugin.types", "org.elasticsearch.shield.ShieldPlugin")
        )
        .build();
client.addTransportAddress(new InetSocketTransportAddress(new InetSocketAddress("localhost", 9300)));

// Index some data
client.prepareIndex("test", "doc", "1").setSource("foo", "bar").setRefresh(true).get();
SearchResponse searchResponse = client.prepareSearch("test").get();
```

If you want to use your own version of Joda, then import for example `org.joda.time.DateTime`. If you want to access to the shaded version (not recommended though), import `fr.pilato.thirdparty.joda.time.DateTime`.

You can run a simple test to make sure that both classes can live together within the same JVM:

```java
CodeSource codeSource = new org.joda.time.DateTime().getClass().getProtectionDomain().getCodeSource();
System.out.println("unshaded = " + codeSource);

codeSource = new fr.pilato.thirdparty.joda.time.DateTime().getClass().getProtectionDomain().getCodeSource();
System.out.println("shaded = " + codeSource);
```

It will print:

```
unshaded = (file:/path/to/joda-time-2.1.jar <no signer certificates>)
shaded = (file:/path/to/es-shaded-1.0-SNAPSHOT.jar <no signer certificates>)
```

This PR also removes fully-loaded module.

By the way, the project can now build with Maven 3.3.3 so we can relax a bit our maven policy.

time:
2015-09-02T09:46:39Z
class:
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
AtomicBoolean

time:
2015-09-02T08:57:57Z
class:
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
testPostIndexWithException listener test

time:
2015-09-02T08:21:36Z
class:
core/src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
core/src/main/java/org/elasticsearch/rest/action/search/RestMultiSearchAction.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
comments:
Merge pull request #12414 from MaineC/feature/10885

Adds template support to _msearch resourceMuch like we already do with search this adds templating support to the _msearch resource.Closes #10885

time:
2015-09-02T08:05:26Z
class:
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
preIndex and postIndex listener test

time:
2015-09-02T07:46:01Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
comments:
Merge pull request #13246 from brwe/read-post-recovery

Allow reads on shards that are in POST_RECOVERY

time:
2015-09-02T07:42:36Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
comments:
Allow reads on shards that are in POST_RECOVERY

Currently, we do not allow reads on shards which are in POST_RECOVERY which
unfortunately can cause search failures on shards which just recovered if there no replicas (#9421).
The reason why we did not allow reads on shards that are in POST_RECOVERY is
that after relocating a shard might miss a refresh if the node that executed the
refresh is behind with cluster state processing. If that happens, a user might execute
index/refresh/search but still not find the document that was indexed.

We changed how refresh works now in #13068 to make sure that shards cannot miss a refresh this
way by sending refresh requests the same way that we send write requests.

This commit changes IndexShard to allow reads on POST_RECOVERY now.
In addition it adds two test:

- test for issue #9421 (After relocation shards might temporarily not be searchable if still in POST_RECOVERY)
- test for visibility issue with relocation and refresh if reads allowed when shard is in POST_RECOVERY

closes #9421

time:
2015-09-02T02:39:59Z
class:
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
comments:
Merge pull request #13263 from rmuir/improve_jacoco

Improve jacoco coverage

time:
2015-09-02T02:14:49Z
class:
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
comments:
Improve jacoco coverage

Upgrade jacoco version and allow it to run with security manager enabled.

time:
2015-09-02T00:57:48Z
class:
comments:
doc how to get code coverage for unit,integ,combined

time:
2015-09-02T00:56:23Z
class:
comments:
Remove unused goal to allow for integ test coverage analysis

time:
2015-09-01T20:17:07Z
class:
comments:
Fixed non-valid JSON (though ES would accept it)

time:
2015-09-01T19:42:58Z
class:
core/src/main/java/org/elasticsearch/index/analysis/Analysis.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/index/analysis/LithuanianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StemmerTokenFilterFactory.java
core/src/main/java/org/elasticsearch/indices/analysis/PreBuiltAnalyzers.java
core/src/test/java/org/elasticsearch/bwcompat/BasicAnalysisBackwardCompatibilityIT.java
comments:
Merge pull request #13244 from rmuir/lt

Lithuanian analysis

time:
2015-09-01T19:24:04Z
class:
comments:
[tests] Fix exit code check for systemctl

time:
2015-09-01T18:57:47Z
class:
comments:
[packaging] clean up more bats tests

This cleans up deb, rpm, systemd, and sysvinit tests:
1. Move skip_not_rpm, skip_not_dpkg, etc to the setup() methods for faster
runtime and cleaner code.
2. Removed lots of needless invocations of `run`
3. Created install_package for use in the systemd and sysvinit tests.
4. Removed lots of needless stderr to stdout redirects.

Closes #13075
Related to #13074

time:
2015-09-01T18:44:18Z
class:
core/src/main/java/org/elasticsearch/index/analysis/NamedAnalyzer.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeLookupTests.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/core/BinaryFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/BooleanFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/ByteFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/CompletionFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/DateFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/DoubleFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/FloatFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/IntegerFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/LongFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/ShortFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/merge/JavaMultiFieldMergeTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterIT.java
comments:
Merge pull request #13206 from rjernst/mappings_broken

Fix numerous checks for equality and compatibility in mapper field types

time:
2015-09-01T18:11:10Z
class:
core/src/test/java/org/elasticsearch/gateway/PriorityComparatorTests.java
comments:
Add simple comparator tests Relates to #13249

time:
2015-09-01T17:44:15Z
class:
comments:
Merge pull request #13076 from nik9000/bats_plugins

Packaging: Install all plugins during bats tests

time:
2015-09-01T17:43:56Z
class:
comments:
Packaging: Install all plugins during bats tests

Related to #12717

time:
2015-09-01T15:58:34Z
class:
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramIT.java
comments:
[test] delete index after test for repetition

DateHistogramIT has suite scope and therefore must take care of cleaning up after
each test. Otherwise we cannot run tests in several times with tests.iters.

time:
2015-09-01T15:44:57Z
class:
comments:
Remove extra licenses

time:
2015-09-01T13:21:49Z
class:
comments:
Update licenses for analysis plugins.

time:
2015-09-01T13:11:28Z
class:
comments:
Merge pull request #13226 from nik9000/docs_position_increment_gap

[docs] Fix docs for position_increment_gap

time:
2015-09-01T12:59:17Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/HyperLogLogPlusPlus.java
comments:
Merge pull request #13243 from llasram/hll-estimate-bias-nn-k-6

Estimate HyperLogLog bias via k-NN regression

time:
2015-09-01T12:52:10Z
class:
core/src/main/java/org/elasticsearch/index/analysis/Analysis.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/index/analysis/LithuanianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StemmerTokenFilterFactory.java
core/src/main/java/org/elasticsearch/indices/analysis/PreBuiltAnalyzers.java
core/src/test/java/org/elasticsearch/bwcompat/BasicAnalysisBackwardCompatibilityIT.java
comments:
Lithuanian analysis

time:
2015-09-01T12:42:29Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/HyperLogLogPlusPlus.java
comments:
Estimate HyperLogLog bias via k-NN regression

The implementation this commit replaces was almost k-NN regression with
k=2, but had two bugs: (a) it depends on the empirical raw estimates
being in strictly non-decreasing order for the binary search (which they
are not); and (b) it weights the biases positively with increased
distance from the corresponding raw estimate.

“HyperLogLog in Practice” leaves the choice of exact algorithm here
fairly vague, just noting: “We use k-nearest neighbor interpolation to
get the bias for a given raw estimate (for k = 6).”  The majority of
other open source HyperLogLog++ implementations appear to use k-NN
regression with uniform weights (and generally k = 6).  Uniform
weighting does decrease variance, but also introduces bias at the domain
extrema.  This problem, plus the use of the word “interpolation” in the
original paper, suggests (inverse) distance-weighted k-NN, as
implemented here.

time:
2015-09-01T12:03:29Z
class:
core/src/main/java/org/apache/lucene/queries/MinDocQuery.java
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/apache/lucene/search/postingshighlight/CustomSeparatorBreakIterator.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XFuzzySuggester.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsFields.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsFilter.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsResponse.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsWriter.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
core/src/main/java/org/elasticsearch/common/lucene/index/FilterableTermsEnum.java
core/src/main/java/org/elasticsearch/common/lucene/search/FilteredCollector.java
core/src/main/java/org/elasticsearch/common/lucene/search/MoreLikeThisQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/Queries.java
core/src/main/java/org/elasticsearch/common/lucene/search/XMoreLikeThis.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/uid/PerThreadIDAndVersionLookup.java
core/src/main/java/org/elasticsearch/common/util/MultiDataPathUpgrader.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/index/codec/CodecService.java
core/src/main/java/org/elasticsearch/index/codec/PerFieldMappingPostingFormatCodec.java
core/src/main/java/org/elasticsearch/index/codec/postingsformat/BloomFilterPostingsFormat.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/OrdinalsBuilder.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIntersectTermsEnum.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ParentIdsFilter.java
core/src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/index/search/nested/IncludeNestedDocsQuery.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/VersionFieldUpgrader.java
core/src/main/java/org/elasticsearch/index/store/FsDirectoryService.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/indices/cache/query/IndicesQueryCache.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/children/ParentToChildrenAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregator.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
core/src/main/java/org/elasticsearch/search/fetch/matchedqueries/MatchedQueriesFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/highlight/CustomQueryScorer.java
core/src/main/java/org/elasticsearch/search/lookup/IndexFieldTerm.java
core/src/main/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProvider.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionTokenStream.java
core/src/test/java/org/elasticsearch/action/termvectors/AbstractTermVectorsTestCase.java
core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsCheckDocFreqIT.java
core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsIT.java
core/src/test/java/org/elasticsearch/common/lucene/IndexCacheableQueryTests.java
core/src/test/java/org/elasticsearch/deps/lucene/SimpleLuceneTests.java
core/src/test/java/org/elasticsearch/index/codec/CodecTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/plain/ParentChildFilteredTermsEnumTests.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
core/src/test/java/org/elasticsearch/index/store/StoreTest.java
core/src/test/java/org/elasticsearch/indices/warmer/SimpleIndicesWarmerIT.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionTokenStreamTest.java
core/src/test/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProviderV1.java
core/src/test/java/org/elasticsearch/search/suggest/completion/CompletionPostingsFormatTest.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
core/src/test/java/org/elasticsearch/test/ESTokenStreamTestCase.java
core/src/test/java/org/elasticsearch/test/IBMJ9HackThreadFilters.java
core/src/test/java/org/elasticsearch/test/engine/ThrowingLeafReaderWrapper.java
core/src/test/java/org/elasticsearch/validate/SimpleValidateQueryIT.java
comments:
Merge pull request #13239 from jpountz/upgrade/lucene-5.3.0

Upgrade to lucene-5.3.0.

time:
2015-09-01T11:43:17Z
class:
comments:
Document transport.ping_schedule

Closes #13241

time:
2015-09-01T10:53:07Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java
comments:
rename actions back to admin/* and add suffix [s] instead

time:
2015-09-01T10:37:47Z
class:
comments:
Merge pull request #13023 from jasontedor/enforce-maven-version

Enforce supported Maven versions

time:
2015-09-01T10:20:05Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
core/src/test/java/org/elasticsearch/action/support/replication/BroadcastReplicationTests.java
comments:
set timeout for refresh and flush to default

Since #13068 refresh and flush requests go to the primary first and are then replicated.
One difference to before is though that if a shard is  not available (INITIALIZING for example)
we wait a little for an indexing request but for refresh we don't and just give up immediately.
Before, refresh requests were just send to the shards regardless of what their state is.

In tests we sometimes create an index, issue an indexing request, refresh and
then get the document. But we do not wait until all nodes know that all primaries have ben assigned.
Now potentially one node can be one cluster state behind and not know yet that
the shards have ben started. If the refresh is executed through this node then the
refresh request will silently fail on shards that are started already because from
the nodes perspective they are still initializing. As a consequence, documents
that expected to be available in the test are now not.
Example test failures are here: http://build-us-00.elastic.co/job/elasticsearch-20-oracle-jdk7/395/

This commit changes the timeout to 1m (default) to make sure we don't miss shards
when we refresh. This will trigger the same retry mechanism as for indexing requests.
We still have to make a decision if this change of behavior is acceptable.

see #13238

time:
2015-09-01T10:03:35Z
class:
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/test/java/org/elasticsearch/bootstrap/ESPolicyTests.java
comments:
Merge pull request #13232 from rmuir/nullcheck_policy

Add missing null check in ESPolicy.

time:
2015-09-01T09:58:45Z
class:
core/src/main/java/org/apache/lucene/queries/MinDocQuery.java
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/apache/lucene/search/postingshighlight/CustomSeparatorBreakIterator.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XFuzzySuggester.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsFields.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsFilter.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsResponse.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsWriter.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
core/src/main/java/org/elasticsearch/common/lucene/index/FilterableTermsEnum.java
core/src/main/java/org/elasticsearch/common/lucene/search/FilteredCollector.java
core/src/main/java/org/elasticsearch/common/lucene/search/MoreLikeThisQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/Queries.java
core/src/main/java/org/elasticsearch/common/lucene/search/XMoreLikeThis.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/uid/PerThreadIDAndVersionLookup.java
core/src/main/java/org/elasticsearch/common/util/MultiDataPathUpgrader.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/index/codec/CodecService.java
core/src/main/java/org/elasticsearch/index/codec/PerFieldMappingPostingFormatCodec.java
core/src/main/java/org/elasticsearch/index/codec/postingsformat/BloomFilterPostingsFormat.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/OrdinalsBuilder.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIntersectTermsEnum.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ParentIdsFilter.java
core/src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/index/search/nested/IncludeNestedDocsQuery.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/VersionFieldUpgrader.java
core/src/main/java/org/elasticsearch/index/store/FsDirectoryService.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/indices/cache/query/IndicesQueryCache.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/children/ParentToChildrenAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregator.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
core/src/main/java/org/elasticsearch/search/fetch/matchedqueries/MatchedQueriesFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/highlight/CustomQueryScorer.java
core/src/main/java/org/elasticsearch/search/lookup/IndexFieldTerm.java
core/src/main/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProvider.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionTokenStream.java
core/src/test/java/org/elasticsearch/action/termvectors/AbstractTermVectorsTestCase.java
core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsCheckDocFreqIT.java
core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsIT.java
core/src/test/java/org/elasticsearch/common/lucene/IndexCacheableQueryTests.java
core/src/test/java/org/elasticsearch/deps/lucene/SimpleLuceneTests.java
core/src/test/java/org/elasticsearch/index/codec/CodecTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/plain/ParentChildFilteredTermsEnumTests.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
core/src/test/java/org/elasticsearch/index/store/StoreTest.java
core/src/test/java/org/elasticsearch/indices/warmer/SimpleIndicesWarmerIT.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionTokenStreamTest.java
core/src/test/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProviderV1.java
core/src/test/java/org/elasticsearch/search/suggest/completion/CompletionPostingsFormatTest.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
core/src/test/java/org/elasticsearch/test/ESTokenStreamTestCase.java
core/src/test/java/org/elasticsearch/test/IBMJ9HackThreadFilters.java
core/src/test/java/org/elasticsearch/test/engine/ThrowingLeafReaderWrapper.java
core/src/test/java/org/elasticsearch/validate/SimpleValidateQueryIT.java
comments:
Upgrade to lucene-5.3.0.

From a user perspective, the main benefit from this upgrade is that the new
Lucene53Codec has disk-based norms. The elasticsearch directory has been fixed
to load these norms through mmap instead of nio.

Other changes include the removal of `max_thread_states`, the fact that
PhraseQuery and BooleanQuery are now immutable, and that deleted docs are now
applied on top of the Scorer API.

This change introduces a couple of `AwaitsFix`s but I don't think it should
hold us from merging.

time:
2015-09-01T09:54:43Z
class:
core/src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
core/src/main/java/org/elasticsearch/rest/action/search/RestMultiSearchAction.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
comments:
Adds template support to _msearch resource

Much like we already do with search this adds templating support to the _msearch resource.

Closes #10885

time:
2015-09-01T09:49:42Z
class:
comments:
Docs: index.codec is static, not dynamic

The `index.codec` setting can only be set on a closed index, not dynamically

time:
2015-09-01T09:05:30Z
class:
core/src/main/java/org/elasticsearch/common/lucene/search/function/FieldValueFactorFunction.java
core/src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionParser.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreFieldValueIT.java
comments:
Merge pull request #13060 from andrestc/enhancement/functionscore-unmapped

Make FunctionScore work on unmapped field with `missing` parameter

time:
2015-09-01T08:35:56Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
comments:
Pass in relevant disk usage map for early termination

time:
2015-09-01T07:45:40Z
class:
core/src/main/java/org/elasticsearch/index/indexing/IndexingOperationListener.java
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
comments:
Add listeners to postCreate etc

time:
2015-09-01T07:40:04Z
class:
core/src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Remove the experimental indices.fielddata.cache.expire

closes #10781

time:
2015-09-01T07:21:54Z
class:
core/src/main/java/org/elasticsearch/action/ActionWriteResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/FlushResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/ShardFlushRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/ShardFlushResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/ShardRefreshRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/ShardRefreshResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java
core/src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/support/broadcast/BroadcastRequest.java
core/src/main/java/org/elasticsearch/action/support/broadcast/BroadcastResponse.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportBroadcastReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/test/java/org/elasticsearch/action/IndicesRequestIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/flush/FlushBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/optimize/OptimizeBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/refresh/RefreshBlocksIT.java
core/src/test/java/org/elasticsearch/action/support/replication/BroadcastReplicationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ClusterStateCreationUtils.java
core/src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/test/cluster/TestClusterService.java
core/src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
comments:
Merge pull request #13068 from brwe/broadcast_replication

Make refresh a replicated action

time:
2015-09-01T04:34:34Z
class:
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/test/java/org/elasticsearch/bootstrap/ESPolicyTests.java
comments:
Add missing null check in ESPolicy.

This allows reducing privileges with doPrivileged to work,
otherwise it will fail with NPE.

In general, if some code wants to do that, let it. The null
check is needed, even though ProtectionDomain(CodeSource, PermissionCollection)
is more than a bit misleading: "the current Policy will not be consulted".

Additionally add a defensive check for location, since the docs
there are even more confusing: https://bugs.openjdk.java.net/browse/JDK-8129972

The jdk policy impl has both these checks.

time:
2015-08-31T19:29:35Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/TransportGetRepositoriesAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/TransportGetIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/ShardSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoresResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/TransportIndicesShardStoresAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/TransportGetWarmersAction.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateShardResponse.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/bootstrap/JNAKernel32Library.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java
core/src/main/java/org/elasticsearch/cluster/RestoreInProgress.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/RepositoriesMetaData.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTableValidation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/common/blobstore/BlobPath.java
core/src/main/java/org/elasticsearch/common/inject/EncounterImpl.java
core/src/main/java/org/elasticsearch/common/inject/InjectionRequestProcessor.java
core/src/main/java/org/elasticsearch/common/inject/InjectorImpl.java
core/src/main/java/org/elasticsearch/common/inject/MembersInjectorImpl.java
core/src/main/java/org/elasticsearch/common/inject/MembersInjectorStore.java
core/src/main/java/org/elasticsearch/common/inject/ProvisionException.java
core/src/main/java/org/elasticsearch/common/inject/State.java
core/src/main/java/org/elasticsearch/common/inject/TypeLiteral.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider2.java
core/src/main/java/org/elasticsearch/common/inject/internal/Errors.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/Multibinder.java
core/src/main/java/org/elasticsearch/common/inject/spi/Elements.java
core/src/main/java/org/elasticsearch/common/inject/spi/InjectionPoint.java
core/src/main/java/org/elasticsearch/common/inject/spi/Message.java
core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/util/concurrent/AtomicArray.java
core/src/main/java/org/elasticsearch/common/xcontent/support/filtering/FilteringJsonGenerator.java
core/src/main/java/org/elasticsearch/gateway/DanglingIndicesState.java
core/src/main/java/org/elasticsearch/index/fielddata/ScriptDocValues.java
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/ObjectMappers.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
core/src/main/java/org/elasticsearch/index/search/stats/StatsGroupsParseElement.java
core/src/main/java/org/elasticsearch/index/shard/CommitPoint.java
core/src/main/java/org/elasticsearch/index/shard/CommitPoints.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshot.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshots.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/SnapshotFiles.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryState.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/get/RestGetIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/warmer/get/RestGetWarmerAction.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregation.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregations.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightUtils.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
core/src/main/java/org/elasticsearch/search/warmer/IndexWarmersMetaData.java
core/src/main/java/org/elasticsearch/snapshots/RestoreInfo.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/Snapshot.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotInfo.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotUtils.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/action/admin/indices/get/GetIndexIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreResponseTest.java
core/src/test/java/org/elasticsearch/bwcompat/GetIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/ack/AckIT.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/structure/RoutingIteratorTests.java
core/src/test/java/org/elasticsearch/common/util/CollectionUtilsTests.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/string/StringFieldMapperPositionIncrementGapTests.java
core/src/test/java/org/elasticsearch/indices/warmer/IndicesWarmerBlocksIT.java
core/src/test/java/org/elasticsearch/indices/warmer/SimpleIndicesWarmerIT.java
core/src/test/java/org/elasticsearch/search/suggest/SuggestSearchIT.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/SnapshotUtilsTests.java
core/src/test/java/org/elasticsearch/test/VersionUtils.java
core/src/test/java/org/elasticsearch/test/disruption/NetworkPartition.java
core/src/test/java/org/elasticsearch/test/rest/section/ApiCallSection.java
qa/smoke-test-shaded/src/test/java/org/elasticsearch/shaded/test/ShadedIT.java
comments:
Merge pull request #13227 from jasontedor/immutable-lists-be-gone

Remove and forbid use of com.google.common.collect.ImmutableList

time:
2015-08-31T19:22:55Z
class:
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/open/TransportOpenIndexAction.java
core/src/main/java/org/elasticsearch/action/support/DestructiveOperations.java
comments:
Merge pull request #13046 from jimhooker2002/issue-4665-clean

Turn DestructiveOperations into a Guice module.To share the same instance between component inside a node.Closes #4665

time:
2015-08-31T19:11:34Z
class:
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/junit/listeners/ReproduceInfoPrinter.java
core/src/test/java/org/elasticsearch/test/test/InternalTestClusterTests.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
comments:
Merge pull request #13215 from martijnvg/tests/enable_mock_modules

Allow tests to override whether mock modules are used

time:
2015-08-31T19:02:49Z
class:
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/junit/listeners/ReproduceInfoPrinter.java
core/src/test/java/org/elasticsearch/test/test/InternalTestClusterTests.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
comments:
test: Allow tests to override whether mock modules are used

time:
2015-08-31T18:35:23Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/index/mapper/string/StringFieldMapperPositionIncrementGapTests.java
qa/smoke-test-shaded/src/test/java/org/elasticsearch/shaded/test/ShadedIT.java
comments:
Remove and forbid final uses of ImmutableList

time:
2015-08-31T18:29:00Z
class:
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
comments:
Fix NettyTransport

time:
2015-08-31T18:07:00Z
class:
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/apache/lucene/queryparser/classic/QueryParserSettings.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/ShardOptimizeRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/RecoveryResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/ShardRecoveryResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndexSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/ShardSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndexStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/get/GetIndexTemplatesResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/get/TransportGetIndexTemplatesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/IndexUpgradeStatus.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/TransportUpgradeStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/ShardUpgradeResult.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/percolate/MultiPercolateRequest.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateRequest.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java
core/src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
core/src/main/java/org/elasticsearch/action/search/ClearScrollRequest.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
core/src/main/java/org/elasticsearch/action/search/TransportClearScrollAction.java
core/src/main/java/org/elasticsearch/action/search/type/ParsedScrollId.java
core/src/main/java/org/elasticsearch/action/search/type/ScrollIdForNode.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchHelper.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryAndFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryThenFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollScanAction.java
core/src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
core/src/main/java/org/elasticsearch/action/support/AbstractListenableActionFuture.java
core/src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastAction.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeAction.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/termvectors/dfs/TransportDfsOnlyAction.java
core/src/main/java/org/elasticsearch/action/update/UpdateHelper.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequest.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequestBuilder.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java
core/src/main/java/org/elasticsearch/cluster/ClusterInfo.java
core/src/main/java/org/elasticsearch/cluster/DiffableUtils.java
core/src/main/java/org/elasticsearch/cluster/DiskUsage.java
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTableValidation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationExplanation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingExplanations.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommands.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/Decision.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/ValidationException.java
core/src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressor.java
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
core/src/main/java/org/elasticsearch/common/inject/BindingProcessor.java
core/src/main/java/org/elasticsearch/common/inject/DeferredLookups.java
core/src/main/java/org/elasticsearch/common/inject/EncounterImpl.java
core/src/main/java/org/elasticsearch/common/inject/InheritingState.java
core/src/main/java/org/elasticsearch/common/inject/Initializer.java
core/src/main/java/org/elasticsearch/common/inject/InjectionRequestProcessor.java
core/src/main/java/org/elasticsearch/common/inject/InjectorImpl.java
core/src/main/java/org/elasticsearch/common/inject/InjectorShell.java
core/src/main/java/org/elasticsearch/common/inject/MembersInjectorStore.java
core/src/main/java/org/elasticsearch/common/inject/ModulesBuilder.java
core/src/main/java/org/elasticsearch/common/inject/PrivateElementProcessor.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/AssistedConstructor.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider2.java
core/src/main/java/org/elasticsearch/common/inject/internal/Errors.java
core/src/main/java/org/elasticsearch/common/inject/internal/Join.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/ProviderMethodsModule.java
core/src/main/java/org/elasticsearch/common/inject/internal/SourceProvider.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/Multibinder.java
core/src/main/java/org/elasticsearch/common/inject/spi/Dependency.java
core/src/main/java/org/elasticsearch/common/inject/spi/Elements.java
core/src/main/java/org/elasticsearch/common/inject/spi/InjectionPoint.java
core/src/main/java/org/elasticsearch/common/inject/util/Modules.java
core/src/main/java/org/elasticsearch/common/io/Streams.java
core/src/main/java/org/elasticsearch/common/logging/Loggers.java
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllEntries.java
core/src/main/java/org/elasticsearch/common/lucene/index/FilterableTermsEnum.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/settings/SettingsFilter.java
core/src/main/java/org/elasticsearch/common/settings/loader/SettingsLoader.java
core/src/main/java/org/elasticsearch/common/settings/loader/XContentSettingsLoader.java
core/src/main/java/org/elasticsearch/common/util/CollectionUtils.java
core/src/main/java/org/elasticsearch/common/util/MultiDataPathUpgrader.java
core/src/main/java/org/elasticsearch/common/util/concurrent/PrioritizedEsThreadPoolExecutor.java
core/src/main/java/org/elasticsearch/common/xcontent/support/XContentMapValues.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/elect/ElectMasterService.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
core/src/main/java/org/elasticsearch/index/analysis/CustomAnalyzer.java
core/src/main/java/org/elasticsearch/index/analysis/CustomAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/NamedAnalyzer.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/get/GetResult.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperForType.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/ParseContext.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/RootObjectMapper.java
core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/AndQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
core/src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/OrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/support/InnerHitsQueryParserHelper.java
core/src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
core/src/main/java/org/elasticsearch/index/shard/CommitPoints.java
core/src/main/java/org/elasticsearch/index/shard/ElasticsearchMergePolicy.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/MergePolicyConfig.java
core/src/main/java/org/elasticsearch/index/shard/MergeSchedulerConfig.java
core/src/main/java/org/elasticsearch/index/shard/ShardPath.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshot.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshots.java
core/src/main/java/org/elasticsearch/index/termvectors/ShardTermVectorsService.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/IndicesWarmer.java
core/src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
core/src/main/java/org/elasticsearch/indices/breaker/HierarchyCircuitBreakerService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryResponse.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTranslogOperationsRequest.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/percolator/QueryCollector.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/repositories/Repository.java
core/src/main/java/org/elasticsearch/repositories/VerifyNodeRepositoryAction.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
core/src/main/java/org/elasticsearch/repositories/uri/URLRepository.java
core/src/main/java/org/elasticsearch/rest/RestModule.java
core/src/main/java/org/elasticsearch/rest/RestResponse.java
core/src/main/java/org/elasticsearch/rest/action/RestActionModule.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestRecoveryAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestSegmentsAction.java
core/src/main/java/org/elasticsearch/rest/action/delete/RestDeleteAction.java
core/src/main/java/org/elasticsearch/rest/action/index/RestIndexAction.java
core/src/main/java/org/elasticsearch/rest/action/support/RestTable.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregation.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregations.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/InternalFilters.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/InternalHistogram.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/AbstractRangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/InternalRange.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/SiblingPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/cumulativesum/CumulativeSumPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/DerivativePipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/explain/ExplainFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsContext.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsSubSearchContext.java
core/src/main/java/org/elasticsearch/search/fetch/matchedqueries/MatchedQueriesFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/script/ScriptFieldsContext.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightBuilder.java
core/src/main/java/org/elasticsearch/search/highlight/HighlighterParseElement.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/sort/SortParseElement.java
core/src/main/java/org/elasticsearch/search/suggest/context/CategoryContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/context/ContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/context/GeolocationContextMapping.java
core/src/main/java/org/elasticsearch/search/warmer/IndexWarmersMetaData.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPoolStats.java
core/src/main/java/org/elasticsearch/transport/RequestHandlerRegistry.java
core/src/main/java/org/elasticsearch/transport/TransportModule.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
core/src/test/java/org/elasticsearch/action/IndicesRequestIT.java
core/src/test/java/org/elasticsearch/action/RejectionActionIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
core/src/test/java/org/elasticsearch/action/support/TransportActionFilterChainTests.java
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
core/src/test/java/org/elasticsearch/benchmark/recovery/ReplicaRecoveryBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/scripts/expression/ScriptComparisonBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/ScriptsConstantScoreBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/ScriptsScoreBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/ScriptsScorePayloadSumBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/SubAggregationSearchCollectModeBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/TimeDataHistogramAggregationBenchmark.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientHeadersTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
comments:
Merge branch 'master' into lists_are_simple

time:
2015-08-31T18:05:55Z
class:
comments:
[docs] Fix docs for position_increment_gap

Closes #13207

time:
2015-08-31T17:44:00Z
class:
core/src/main/java/org/elasticsearch/action/ActionWriteResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/FlushResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/ShardFlushRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/ShardFlushResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/ShardRefreshRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/ShardRefreshResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java
core/src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/support/broadcast/BroadcastRequest.java
core/src/main/java/org/elasticsearch/action/support/broadcast/BroadcastResponse.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportBroadcastReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/test/java/org/elasticsearch/action/IndicesRequestIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/flush/FlushBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/optimize/OptimizeBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/refresh/RefreshBlocksIT.java
core/src/test/java/org/elasticsearch/action/support/replication/BroadcastReplicationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ClusterStateCreationUtils.java
core/src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/test/cluster/TestClusterService.java
core/src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
comments:
Make refresh a replicated action

prerequisite to #9421
see also #12600

time:
2015-08-31T15:42:19Z
class:
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
comments:
Internal: simplify SimpleQueryStringBuilder#doXContent method

No need to test for null values in fieldsAndWeights map, we use 1.0f a default boost all the time.

time:
2015-08-31T15:15:55Z
class:
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTest.java
comments:
Java api: don't mutate fields in SimpleQueryStringBuilder during toQuery execution

We used to mutate the map of fields and weights while transforming to lucene query (toQuery method), by adding the default field if the map is empty. That is an anti-pattern, we should leave the original query as is instead, but still generate the proper lucene query. Also took the chance to fix a couple of issues in SimpleQueryStringBuilderTest#doAssertLuceneQuery.

time:
2015-08-31T15:06:53Z
class:
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/ExternalTestCluster.java
comments:
Merge pull request #13222 from martijnvg/tests/external_tests_provide_transport_client_with_plugins

Provide the plugins to transport client communicating with the the external cluster

