time:
2013-06-04T06:32:48Z
class:
src/test/java/org/elasticsearch/test/integration/AbstractSharedClusterTest.java
src/test/java/org/elasticsearch/test/integration/indices/IgnoreIndicesTests.java
src/test/java/org/elasticsearch/test/integration/search/sort/SimpleSortTests.java
src/test/java/org/elasticsearch/test/integration/search/stats/SearchStatsTests.java
comments:
Stabelize more failing tests.

- SimpleSortTests#testSortScript which was not using the mapping correctly
- SearchStatsTests#testSimpleStats which didn't clear the stats before
  running the test and a previous run could have added queries

time:
2013-06-03T22:58:54Z
class:
src/test/java/org/elasticsearch/test/unit/index/engine/AbstractSimpleEngineTests.java
comments:
Fix AbstractSimpleEngineTests versioning tests.

Version is now stored on a distinct field, that AbstractSimpleEngineTests
didn't correctly add before running tests. This generated a test failure
when the version needed to be loaded from the index.

time:
2013-06-03T13:05:57Z
class:
src/test/java/org/elasticsearch/test/integration/AbstractSharedClusterTest.java
src/test/java/org/elasticsearch/test/integration/search/stats/SearchStatsTests.java
comments:
Stabeilze SearchStatsTests

Query stats are only present (not 0) on nodes that hold a shard of the index.

time:
2013-06-02T13:09:29Z
class:
comments:
Changed Java dependency from Depends to Suggest.

Since people are using the Oracle JAVA distribution and not the OpenJDK.
You can suggest it of course. Now the installation will at least continue.

If the init script is called, it will exit with a useful error message, that
no JDK is available via the JAVA_HOME variable.

time:
2013-06-02T12:58:36Z
class:
src/main/java/org/elasticsearch/Version.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequest.java
src/test/java/org/elasticsearch/test/unit/VersionTests.java
comments:
Changing version semantics to be more readable

The Version class had hard to understand semantics when two versions were
compared against each other.

Sample of the new logic:
* V_0_20_0.before(V_0_90_0) => true
* V_0_90_0.after(V_0_20_0)  => true

Closes #3124

time:
2013-06-02T11:02:36Z
class:
src/test/java/org/elasticsearch/test/integration/search/query/SimpleQueryTests.java
comments:
stabelize SimpleQueryTest

time:
2013-06-02T08:45:30Z
class:
src/test/java/org/elasticsearch/test/integration/AbstractSharedClusterTest.java
src/test/java/org/elasticsearch/test/integration/mlt/MoreLikeThisActionTests.java
comments:
Stabelize MoreLikeThisActionTest

Ensure test sends mapping with createIndex

time:
2013-06-02T08:04:47Z
class:
src/test/java/org/elasticsearch/test/integration/AbstractSharedClusterTest.java
src/test/java/org/elasticsearch/test/integration/search/stats/SearchStatsTests.java
comments:
Stableize SearchStatsTest after search refactoring

SearchStatsTest depends on a given set of nodes and shards. The test
needed to be adjusted to reflect a possibly random number of nodes.

time:
2013-06-02T06:06:40Z
class:
src/test/java/org/elasticsearch/test/integration/cluster/allocation/SimpleAllocationTests.java
comments:
Add Test for simple allocation scenario

This test checks for the "perfect" or a "sane" allocation
when the total number of shards is separable by the total number of nodes
the index can be allocated on.

time:
2013-05-31T14:26:10Z
class:
comments:
Ensure config files are not overwritten in RPM upgrade

In order to ensure that configuration files do not get overwritten when
upgrading an RPM, it is not sufficient to mark them as configuration. You
have to use the 'noreplace' parameter to make sure, they are never
overwritten. Added this parameter for the /etc/elasticsearch directory
as well as the /etc/sysconfig/elasticsearch file.

In addition, the post remove script now only deletes the user in case of
a package removal (and does nothing on package upgrade).

Closes #3123

time:
2013-05-31T09:35:45Z
class:
comments:
Fixed, that `routing` parameter for the "search" API takes multiple values

“The routing parameter can be multi valued represented as a comma separated string. This will result in hitting the relevant shards where the routing values match to.”

--> http://www.elasticsearch.org/guide/reference/api/search/

time:
2013-05-31T08:23:45Z
class:
src/main/java/org/elasticsearch/index/query/TermsFilterParser.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
src/test/java/org/elasticsearch/test/integration/AbstractNodesTests.java
src/test/java/org/elasticsearch/test/integration/AbstractSharedClusterTest.java
src/test/java/org/elasticsearch/test/integration/ClusterManager.java
src/test/java/org/elasticsearch/test/integration/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/integration/TestCluster.java
src/test/java/org/elasticsearch/test/integration/aliases/IndexAliasesTests.java
src/test/java/org/elasticsearch/test/integration/broadcast/BroadcastActionsTests.java
src/test/java/org/elasticsearch/test/integration/client/transport/ClientTransportTwoNodesSearchTests.java
src/test/java/org/elasticsearch/test/integration/client/transport/TransportClientDocumentActionsTests.java
src/test/java/org/elasticsearch/test/integration/client/transport/TransportClientSniffDocumentActionsTests.java
src/test/java/org/elasticsearch/test/integration/cluster/ClusterHealthTests.java
src/test/java/org/elasticsearch/test/integration/codecs/CodecTests.java
src/test/java/org/elasticsearch/test/integration/consistencylevel/WriteConsistencyLevelTests.java
src/test/java/org/elasticsearch/test/integration/deleteByQuery/DeleteByQueryTests.java
src/test/java/org/elasticsearch/test/integration/document/AliasedIndexDocumentActionsTests.java
src/test/java/org/elasticsearch/test/integration/document/BulkTests.java
src/test/java/org/elasticsearch/test/integration/document/DocumentActionsTests.java
src/test/java/org/elasticsearch/test/integration/explain/ExplainActionTests.java
src/test/java/org/elasticsearch/test/integration/get/GetActionTests.java
src/test/java/org/elasticsearch/test/integration/indices/IgnoreIndicesTests.java
src/test/java/org/elasticsearch/test/integration/indices/analyze/AnalyzeActionTests.java
src/test/java/org/elasticsearch/test/integration/indices/cache/CacheTests.java
src/test/java/org/elasticsearch/test/integration/indices/exists/types/TypesExistsTests.java
src/test/java/org/elasticsearch/test/integration/indices/mapping/SimpleDeleteMappingTests.java
src/test/java/org/elasticsearch/test/integration/indices/mapping/UpdateMappingTests.java
src/test/java/org/elasticsearch/test/integration/indices/settings/UpdateNumberOfReplicasTests.java
src/test/java/org/elasticsearch/test/integration/indices/settings/UpdateSettingsTests.java
src/test/java/org/elasticsearch/test/integration/indices/template/SimpleIndexTemplateTests.java
src/test/java/org/elasticsearch/test/integration/indices/wamer/SimpleIndicesWarmerTests.java
src/test/java/org/elasticsearch/test/integration/mlt/MoreLikeThisActionTests.java
src/test/java/org/elasticsearch/test/integration/nested/SimpleNestedTests.java
src/test/java/org/elasticsearch/test/integration/percolator/SimplePercolatorTests.java
src/test/java/org/elasticsearch/test/integration/recovery/RecoveryWhileUnderLoadTests.java
src/test/java/org/elasticsearch/test/integration/recovery/RelocationTests.java
src/test/java/org/elasticsearch/test/integration/recovery/SimpleRecoveryTests.java
src/test/java/org/elasticsearch/test/integration/routing/AliasResolveRoutingTests.java
src/test/java/org/elasticsearch/test/integration/routing/AliasRoutingTests.java
src/test/java/org/elasticsearch/test/integration/routing/SimpleRoutingTests.java
src/test/java/org/elasticsearch/test/integration/search/basic/SearchWhileCreatingIndexTests.java
src/test/java/org/elasticsearch/test/integration/search/basic/TransportSearchFailuresTests.java
src/test/java/org/elasticsearch/test/integration/search/basic/TransportTwoNodesSearchTests.java
src/test/java/org/elasticsearch/test/integration/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/test/integration/search/compress/SearchSourceCompressTests.java
src/test/java/org/elasticsearch/test/integration/search/customscore/CustomScoreSearchTests.java
src/test/java/org/elasticsearch/test/integration/search/facet/ExtendedFacetsTests.java
src/test/java/org/elasticsearch/test/integration/search/facet/SimpleFacetsTests.java
src/test/java/org/elasticsearch/test/integration/search/facet/terms/UnmappedFieldsTermsFacetsTests.java
src/test/java/org/elasticsearch/test/integration/search/fields/SearchFieldsTests.java
src/test/java/org/elasticsearch/test/integration/search/geo/GeoBoundingBoxTests.java
src/test/java/org/elasticsearch/test/integration/search/geo/GeoDistanceFacetTests.java
src/test/java/org/elasticsearch/test/integration/search/geo/GeoDistanceTests.java
src/test/java/org/elasticsearch/test/integration/search/geo/GeoFilterTests.java
src/test/java/org/elasticsearch/test/integration/search/geo/GeoShapeIntegrationTests.java
src/test/java/org/elasticsearch/test/integration/search/highlight/HighlighterSearchTests.java
src/test/java/org/elasticsearch/test/integration/search/indicesboost/SimpleIndicesBoostSearchTests.java
src/test/java/org/elasticsearch/test/integration/search/matchedfilters/MatchedFiltersTests.java
src/test/java/org/elasticsearch/test/integration/search/msearch/SimpleMultiSearchTests.java
src/test/java/org/elasticsearch/test/integration/search/preference/SearchPreferenceTests.java
src/test/java/org/elasticsearch/test/integration/search/query/SimpleQueryTests.java
src/test/java/org/elasticsearch/test/integration/search/rescore/QueryRescorerTests.java
src/test/java/org/elasticsearch/test/integration/search/scan/SearchScanScrollingTests.java
src/test/java/org/elasticsearch/test/integration/search/scan/SearchScanTests.java
src/test/java/org/elasticsearch/test/integration/search/scriptfilter/ScriptFilterSearchTests.java
src/test/java/org/elasticsearch/test/integration/search/scroll/SearchScrollTests.java
src/test/java/org/elasticsearch/test/integration/search/simple/SimpleSearchTests.java
src/test/java/org/elasticsearch/test/integration/search/sort/SimpleSortTests.java
src/test/java/org/elasticsearch/test/integration/search/stats/SearchStatsTests.java
src/test/java/org/elasticsearch/test/integration/search/suggest/SuggestSearchTests.java
src/test/java/org/elasticsearch/test/integration/search/timeout/SearchTimeoutTests.java
src/test/java/org/elasticsearch/test/integration/similarity/SimilarityTests.java
src/test/java/org/elasticsearch/test/integration/timestamp/SimpleTimestampTests.java
src/test/java/org/elasticsearch/test/integration/update/UpdateTests.java
src/test/java/org/elasticsearch/test/integration/validate/SimpleValidateQueryTests.java
src/test/java/org/elasticsearch/test/integration/versioning/ConcurrentDocumentOperationTests.java
src/test/java/org/elasticsearch/test/integration/versioning/SimpleVersioningTests.java
comments:
Improve integration testing by reusing an abstracted cluster across tests

The new AbstractSharedClusterTest abstracts integration testing further to
reduce the overhead of writing tests that don't rely on explict control over
the cluster. For instance tests that run query, facets or that test highlighting
don't need to explictly start and stop nodes. Testing features like the ones
just mentioned are based on the assumption that the underlying cluster can
be arbitray. Based on this assumption this base class allows to:

 * randomize cluster and index settings if not explictly specified
 * transparently test transport & node clients
 * test features like search or highlighting on different cluster sizes
 * allow reuse of node insteance across tests
 * provide utility methods that act as upper or lower bounds that a test must pass with
   ie. if a test requries at least 3 nodes then it should also pass with 4 nodes
 * given a cluster has unmodified cluster settings (persistent and transient) the cluster
   should not differ to a fresh started cluster when reused across nodes.
 * within a test the client implementation and the clients associated node can be changed
   at any time and should return a valid result.

This patch also prepares some redundant tests like 'RelocationTests.java' for randomized
testing. Test like this are very long-running on some machines and run the same test with
different parameters like 'number of writers' or 'number of relocations' which can easily
be chosen with a random number and run only ones during development but multiple times
during CI builds.

All the improvements in this change reduce the test time by ~30%

time:
2013-05-31T07:47:31Z
class:
comments:
prepare for next development iteration

time:
2013-05-31T07:47:31Z
class:
comments:
prepare release elasticsearch-cloud-aws-1.12.0

time:
2013-05-31T07:47:31Z
class:
comments:
Update to Elasticsearch 0.90.1
Works also with Elasticsearch 0.90.0.
Closes #27.

time:
2013-05-31T07:47:31Z
class:
src/main/java/org/elasticsearch/gateway/s3/S3Gateway.java
comments:
Two last modifications for the new region sa-east-1.

time:
2013-05-31T07:35:46Z
class:
src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
comments:
Allow negative slops in SpanNearQueryParser

This is mainly due to the fact that SpanNearQuery allows some neat
tricks with negative slops to run zero-sloped near queries across
2 or more SpanTermQueries.

Closes #3079

time:
2013-05-30T20:26:05Z
class:
src/main/java/org/elasticsearch/plugins/PluginManager.java
comments:
Add more information and options in PluginManager
New option -l, --list displays list of existing plugins
New option -h, --help displays help
Deprecate options:
   -install is now -i, --install
   -remove is now -r, --remove
   -url is now -u, --url
Catch ArraysOutOfBoundException when no arg given to install, remove or url option
Add description on plugin name structure:
- elasticsearch/plugin/version for official elasticsearch plugins (download from download.elasticsearch.org)
- groupId/artifactId/version   for community plugins (download from maven central or oss sonatype)
- username/repository          for site plugins (download from github master)
Closes #3112.

time:
2013-05-30T20:11:57Z
class:
comments:
prepare for next development iteration

time:
2013-05-30T20:09:34Z
class:
comments:
prepare release elasticsearch-analysis-stempel-1.5.0

time:
2013-05-30T20:07:55Z
class:
comments:
Update to Elasticsearch 0.90.1 / Lucene 4.3.0
Closes #5.

time:
2013-05-30T20:03:36Z
class:
comments:
prepare for next development iteration

time:
2013-05-30T19:56:34Z
class:
comments:
prepare release elasticsearch-analysis-icu-1.10.0

time:
2013-05-30T19:54:31Z
class:
comments:
Update to Elasticsearch 0.90.1 / Lucene 4.3.0
Closes #10.

time:
2013-05-30T19:44:23Z
class:
comments:
prepare for next development iteration

time:
2013-05-30T19:41:00Z
class:
comments:
prepare release elasticsearch-analysis-smartcn-1.5.0

time:
2013-05-30T19:39:36Z
class:
comments:
Update to Elasticsearch 0.90.1 / Lucene 4.3.0
Closes #3.

time:
2013-05-30T19:34:08Z
class:
comments:
prepare for next development iteration

time:
2013-05-30T19:32:01Z
class:
comments:
prepare release elasticsearch-analysis-phonetic-1.5.0

time:
2013-05-30T19:29:49Z
class:
comments:
Update to Elasticsearch 0.90.1 / Lucene 4.3.0
Closes #11.

time:
2013-05-30T19:22:05Z
class:
comments:
prepare for next development iteration

time:
2013-05-30T19:16:22Z
class:
comments:
prepare release elasticsearch-analysis-kuromoji-1.4.0

time:
2013-05-30T19:13:03Z
class:
comments:
Update to Elasticsearch 0.90.1 / Lucene 4.3.0
Closes #4.

time:
2013-05-30T14:48:58Z
class:
comments:
Make it easier to get started with Eclipse.

This patch makes mvn eclipse:eclipse generate additional eclipse configuration
files so that Eclipse:
 - uses Java 1.6 compliance level,
 - truncates lines after 140 chars,
 - uses 4 spaces for indentation,
 - automatically adds a license header when creating a new class file,
 - organizes imports the same way as Intellij Idea (which makes sense I guess
   since most of the code bas has been written with Intellij, this will prevent
   from having large diffs due to the fact that the order of imports has
   changed).

time:
2013-05-30T12:27:33Z
class:
src/main/java/org/elasticsearch/Version.java
comments:
add 0.90.2 version

time:
2013-05-30T09:28:54Z
class:
src/main/java/org/elasticsearch/common/lucene/uid/UidField.java
src/main/java/org/elasticsearch/common/lucene/uid/Versions.java
src/main/java/org/elasticsearch/index/codec/PerFieldMappingPostingFormatCodec.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/robin/RobinEngine.java
src/main/java/org/elasticsearch/index/get/ShardGetService.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/ParseContext.java
src/main/java/org/elasticsearch/index/mapper/ParsedDocument.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/main/java/org/elasticsearch/index/merge/policy/IndexUpgraderMergePolicy.java
src/main/java/org/elasticsearch/index/shard/service/InternalIndexShard.java
src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
src/main/java/org/elasticsearch/search/fetch/version/VersionFetchSubPhase.java
src/test/java/org/apache/lucene/util/MockDirectoryWrapper.java
src/test/java/org/elasticsearch/benchmark/common/lucene/uidscan/LuceneUidScanBenchmark.java
src/test/java/org/elasticsearch/test/unit/common/lucene/uid/UidFieldTests.java
src/test/java/org/elasticsearch/test/unit/common/lucene/uid/VersionsTests.java
src/test/java/org/elasticsearch/test/unit/index/engine/AbstractSimpleEngineTests.java
comments:
Store _version as a numeric doc values field.

Doc values can be expected to be more compact than payloads and should provide
better flexibility since doc values formats can be picked on a per-field basis.
This patch:
 - makes _version stored as a numeric doc values field,
 - manages backwards compatibility: if a version is not found in doc values,
   then it will look into payloads,
 - uses background merges to upgrade old segments and move _version from
   payloads to doc values.

Closes #3103

time:
2013-05-30T08:56:36Z
class:
src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
src/main/java/org/elasticsearch/index/get/ShardGetService.java
src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
src/main/java/org/elasticsearch/search/highlight/PlainHighlighter.java
src/test/java/org/elasticsearch/test/integration/search/highlight/HighlighterSearchTests.java
comments:
Highlighting shouldn't fail when the field to highlight is absent.

PlainHighlighter fails with a NPE when the field to highlight is marked as
stored in the mapping but doesn't exist in a hit. This patch makes
FieldsVisitor.fields less error-prone by returning an empty list instead
of null when no matching stored field was found.

Closes #3109

time:
2013-05-29T13:07:23Z
class:
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
src/main/java/org/elasticsearch/search/suggest/term/TermSuggestParser.java
src/main/java/org/elasticsearch/search/suggest/term/TermSuggester.java
comments:
Reuse suggester implementations in suggest parsers

time:
2013-05-28T08:55:24Z
class:
comments:
[DOC] Improved the example in README and small edits

time:
2013-05-28T08:52:44Z
class:
comments:
Improved description for the `prefer_local` parameter in the `_percolate` and `_analyze` APIs

time:
2013-05-28T08:49:36Z
class:
comments:
Correct name and small text edits for `_msearch`

time:
2013-05-28T08:48:23Z
class:
comments:
Corrected the formatting in the `_mlt` API

time:
2013-05-28T08:45:10Z
class:
comments:
Correct name for the `info` API (root endpoint)

time:
2013-05-28T08:44:51Z
class:
comments:
Corrected the descriptions in the "create or update warmer" API

time:
2013-05-28T08:41:37Z
class:
comments:
Corrected the description in the index `_open` API

time:
2013-05-28T08:38:30Z
class:
comments:
Added basic description of the "recycler" parameter in the `_cache/clear` API

time:
2013-05-28T08:36:06Z
class:
comments:
Removed the `id` URL parameter in `_explain` API

time:
2013-05-28T08:35:16Z
class:
comments:
Removed the `index` and `type` URL parameters for the "delete by query" API

time:
2013-05-28T08:34:40Z
class:
comments:
Removed the `id` URL parameter in the delete index API

time:
2013-05-28T08:33:48Z
class:
comments:
Removed the `index` and `type` URL parameters for the `_count` API

time:
2013-05-28T08:32:27Z
class:
comments:
Small text edits for `_cluster/reroute`

time:
2013-05-28T08:09:02Z
class:
comments:
Small text edits for `_cluster/nodes/stats`

time:
2013-05-28T08:07:05Z
class:
comments:
Small text edits for `_cluster/nodes/_shutdown`

time:
2013-05-28T08:04:49Z
class:
comments:
Small text edits for `_cluster/nodes`

time:
2013-05-28T08:03:45Z
class:
comments:
Small text edits for `_cluster/nodes/hot_threads`

time:
2013-05-28T07:58:00Z
class:
comments:
Small text edits for `_cluster/health`

time:
2013-05-28T07:55:28Z
class:
comments:
Removed the incorrect `index` URL parameter from `_bulk`

time:
2013-05-28T07:53:04Z
class:
comments:
Removed incorrect `name` URL parameter from the API definitions

time:
2013-05-28T07:52:56Z
class:
comments:
Removed incorrect `index` URL parameter from API definitions

time:
2013-05-28T06:59:50Z
class:
src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
src/main/java/org/elasticsearch/search/SearchModule.java
src/main/java/org/elasticsearch/search/suggest/SuggestModule.java
src/main/java/org/elasticsearch/search/suggest/SuggestParseElement.java
src/main/java/org/elasticsearch/search/suggest/SuggestPhase.java
src/main/java/org/elasticsearch/search/suggest/Suggester.java
src/main/java/org/elasticsearch/search/suggest/Suggesters.java
src/main/java/org/elasticsearch/search/suggest/SuggestionSearchContext.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
src/main/java/org/elasticsearch/search/suggest/term/TermSuggester.java
src/test/java/org/elasticsearch/test/integration/search/suggest/CustomSuggester.java
src/test/java/org/elasticsearch/test/integration/search/suggest/CustomSuggesterPlugin.java
src/test/java/org/elasticsearch/test/integration/search/suggest/CustomSuggesterSearchTests.java
comments:
Make suggester implementation pluggable

This patch tries to make the suggester implementation as pluggable as
facets or highlight implementations. The goal is to be able to create
own suggest implementations in a suggest query.

Closes #3089

time:
2013-05-27T21:57:02Z
class:
comments:
Added the API definition for updating a document

time:
2013-05-27T21:43:02Z
class:
comments:
Added the API definition for `_suggest`

time:
2013-05-27T21:35:57Z
class:
comments:
Added the API definition for `_msearch`

time:
2013-05-27T21:35:30Z
class:
comments:
Added the API definition for `_search`

time:
2013-05-27T21:03:30Z
class:
comments:
Added the API definition for `_percolate`

time:
2013-05-27T20:55:18Z
class:
comments:
Added the API definition for `_mlt` ("more like this")

time:
2013-05-27T20:32:07Z
class:
comments:
Added the API definition for `info` (root endpoint)

time:
2013-05-27T20:29:08Z
class:
comments:
Added the API definition for registering a warmer

time:
2013-05-27T20:26:58Z
class:
comments:
Added the API definition for getting a warmer

time:
2013-05-27T20:23:26Z
class:
comments:
Added the API definition for deleting a warmer

time:
2013-05-27T20:04:55Z
class:
comments:
Added the API definition for `_validate/query`

time:
2013-05-27T19:58:36Z
class:
comments:
Removed the incorrect "required" for index in the `_settings` API

time:
2013-05-27T19:54:21Z
class:
comments:
Added the API definition for creating or updating a template

time:
2013-05-27T19:47:34Z
class:
comments:
Added the API definition for getting an index template

time:
2013-05-27T19:46:47Z
class:
comments:
Added the API definition for deleting an index template

time:
2013-05-27T19:46:23Z
class:
comments:
Added the API definition for `{index}/_status`

time:
2013-05-27T19:10:30Z
class:
comments:
Added missing URL parts for the `_stats` API

time:
2013-05-27T18:40:11Z
class:
src/main/java/org/elasticsearch/action/ActionModule.java
src/main/java/org/elasticsearch/action/admin/indices/alias/exists/IndicesExistsAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/exists/IndicesExistsAliasesRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/alias/exists/IndicesExistsAliasesResponse.java
src/main/java/org/elasticsearch/action/admin/indices/alias/exists/TransportIndicesExistsAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/BaseIndicesAliasesRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/IndicesGetAliasesRequest.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/IndicesGetAliasesRequestBuilder.java
src/main/java/org/elasticsearch/client/IndicesAdminClient.java
src/main/java/org/elasticsearch/client/support/AbstractIndicesAdminClient.java
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/rest/action/RestActionModule.java
src/main/java/org/elasticsearch/rest/action/admin/indices/alias/head/RestIndicesHeadAliasesAction.java
src/test/java/org/elasticsearch/test/integration/aliases/IndexAliasesTests.java
comments:
Added indices aliases exists api.

Added indices aliases exists api that allows to check to existence of an index alias. This api redirects to the master to check for the existence of one or multiple index aliases.

Possible options:
* `index` - The index name to check index aliases for. Partially names are supported via wildcards, also multiple index names can be specified separated with a comma. Also the alias name for an index can be used.
* `alias` - The name of alias to check the existence for. Like the index option, this option supports wildcards and the option the specify multiple alias names separated by a comma. This is a required option.
* `ignore_indices` - What to do is an specified index name doesn't exist. If set to `missing` then those indices are ignored.

The rest head endpoint is: `/{index}/_alias/{alias}`

Examples:
Check existence for any aliases with the name 2013 in any index:
```
curl -XHEAD 'localhost:9200/_alias/2013
```
Check existence for any aliases that start with 2013_01 in any index
```
curl -XHEAD 'localhost:9200/_alias/2013_01*
```
Check existence for any aliases in the users index.
```
curl -XHEAD 'localhost:9200/users/_alias/*
```

Closes #3100

time:
2013-05-27T15:42:04Z
class:
comments:
Added the API definition for `_stats`

time:
2013-05-27T15:08:45Z
class:
comments:
Added the API definition for `_settings`

time:
2013-05-27T15:02:08Z
class:
comments:
Added the API definition for `_segments`

time:
2013-05-27T14:59:39Z
class:
comments:
Added the API definition for `_refresh`

time:
2013-05-27T14:57:31Z
class:
comments:
Added the API definition for `_optimize`

time:
2013-05-27T14:51:38Z
class:
comments:
Added the API definition for opening an index

time:
2013-05-27T14:48:41Z
class:
comments:
Added the API definition for updating the mapping

time:
2013-05-27T14:23:41Z
class:
comments:
Added the API definition for `_mapping`

time:
2013-05-27T14:12:14Z
class:
comments:
Added the API definition for deleting a document type

time:
2013-05-27T13:51:52Z
class:
comments:
Added the API definition for `_gateway/snapshot`

time:
2013-05-27T13:50:14Z
class:
comments:
Added the API definition for `_flush`

time:
2013-05-27T13:42:23Z
class:
comments:
Added the API definition for checking the document type existence

time:
2013-05-27T13:36:09Z
class:
comments:
Added the API definition for checking the index existence

time:
2013-05-27T13:32:10Z
class:
comments:
Added the API definition for deleting an index

time:
2013-05-27T13:22:28Z
class:
comments:
Added the API definition for creating the index

time:
2013-05-27T13:13:24Z
class:
comments:
Added the API definition for closing the index

time:
2013-05-27T11:19:44Z
class:
comments:
Added the API definition for `_cache/clear`

time:
2013-05-27T11:10:42Z
class:
comments:
Added the API definition for `_analyze`

time:
2013-05-27T11:03:22Z
class:
comments:
Added the API definition for creating or updating an alias

time:
2013-05-27T10:59:26Z
class:
comments:
Added the API definition for `_aliases`

time:
2013-05-27T10:43:54Z
class:
comments:
Added the API definition for getting an alias

time:
2013-05-27T10:10:25Z
class:
comments:
Added the API definition for deleting a single alias

time:
2013-05-26T17:44:03Z
class:
comments:
Added the API definition for indexing a document

time:
2013-05-26T17:05:59Z
class:
comments:
Added the API definition for `_mget`

time:
2013-05-26T16:53:39Z
class:
comments:
Added the API definition for getting a document

The `_mget` API was extracted to a separate file

time:
2013-05-26T15:05:29Z
class:
comments:
Added the API definition for `_explain`

time:
2013-05-26T14:43:11Z
class:
comments:
Added the API definition for "delete by query"

time:
2013-05-26T14:38:24Z
class:
comments:
Added the API definition for deleting a document

time:
2013-05-26T14:33:31Z
class:
comments:
Added the API definition for `_count`

time:
2013-05-26T13:51:58Z
class:
comments:
Added the API definition for `_cluster/state`

time:
2013-05-26T13:51:58Z
class:
comments:
Removed the API definition for `_search_shards`

time:
2013-05-26T13:51:58Z
class:
comments:
Added the API definition for `_cluster/settings`

time:
2013-05-26T13:51:58Z
class:
comments:
Added the API definition for `_cluster/reroute`

time:
2013-05-26T13:51:55Z
class:
comments:
Added the API definition for `_cluster/nodes/stats`

time:
2013-05-26T13:51:55Z
class:
comments:
Added the API definition for `_cluster/nodes/_shutdown`

time:
2013-05-26T13:51:52Z
class:
comments:
Removed the API definition for `_cluster/nodes/_restart`

The API is not supported anymore.

Info: <https://github.com/elasticsearch/elasticsearch/issues/155>

time:
2013-05-26T13:51:28Z
class:
comments:
Added the API definition for `_cluster/nodes`

time:
2013-05-26T13:51:27Z
class:
comments:
Added the API definition for `_cluster/nodes/hot_threads`

time:
2013-05-26T13:51:22Z
class:
comments:
Added the API definition for `_cluster/health`

time:
2013-05-26T10:27:43Z
class:
comments:
Added the API definition for `bulk`

time:
2013-05-26T10:20:43Z
class:
comments:
[SETUP] Changed, that `parts` and `params` API definitions are sorted alphabetically

time:
2013-05-26T10:18:40Z
class:
comments:
[UTIL] Changed, that JSON generator sorts API `parts` and `params`

time:
2013-05-25T20:43:48Z
class:
src/main/java/org/elasticsearch/index/fielddata/AtomicNumericFieldData.java
src/main/java/org/elasticsearch/index/fielddata/ScriptDocValues.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/LongFieldDataTests.java
comments:
Dates accessed from scripts should use UTC timezone
this was broken in the field data refactoring we did in 0.90, fixes #3091

time:
2013-05-24T20:22:43Z
class:
src/test/java/org/elasticsearch/test/integration/percolator/SimplePercolatorTests.java
comments:
Stabilized SimplePercolaterTests

time:
2013-05-24T15:58:02Z
class:
src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
src/test/java/org/elasticsearch/test/integration/percolator/SimplePercolatorTests.java
comments:
Fixing percolation of documents with TTL set

When a type is configured with a TTL, percolation of documents of this type
was not possible. This fix ignores the TTL for percolation instead of
throwing an exception that the document is already expired.

Closes #2975

time:
2013-05-24T15:40:36Z
class:
src/main/java/org/elasticsearch/index/codec/CodecService.java
src/main/java/org/elasticsearch/index/codec/PerFieldMappingPostingFormatCodec.java
comments:
Never throw an IAE if the IndexMapper isn't present in PostingsFormat

If we throw an exception in the PostingsFormat during a merge we essentially
fail the entire merge which can lead to a corrupt index. We should rather
return the default postings format for the new segment and log a warning.

Closes #3088

time:
2013-05-24T15:32:45Z
class:
src/test/java/org/elasticsearch/test/integration/search/query/SimpleQueryTests.java
comments:
wait for green/yellow status

time:
2013-05-24T11:33:06Z
class:
comments:
[SETUP] Added the generated JSON skeleton files

Files were generated with the `thor api:generate:spec --force --verbose --crawl` command,
and based on the 0.90 branch (elasticsearch/elasticsearch@5ec4064).

time:
2013-05-24T10:06:08Z
class:
comments:
[SETUP] Added README and LICENSE

time:
2013-05-24T10:06:04Z
class:
comments:
[UTIL] Added a JSON files generator

The generator will parse the Elasticsearch *.java source files,
extract information about REST API endpoints (URLs, HTTP methods, URL parameters, etc),
and create a skeleton of the JSON API specification file for each endpoint.

See:

    $ thor list
    $ thor help api:generate:spec

time:
2013-05-23T21:18:45Z
class:
src/test/java/org/elasticsearch/test/integration/search/sort/SimpleSortTests.java
comments:
Added testcase to ensure #3078 doesn't fail

time:
2013-05-23T16:26:12Z
class:
src/main/java/org/elasticsearch/indices/AliasMissingException.java
comments:
Fix String.format to use Locale.ROOT

time:
2013-05-23T15:56:22Z
class:
comments:
Initial commit (blank repository)

time:
2013-05-23T07:18:17Z
class:
src/main/java/org/elasticsearch/action/ActionModule.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/IndicesGetAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/IndicesGetAliasesRequest.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/IndicesGetAliasesRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/IndicesGetAliasesResponse.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportIndicesGetAliasesAction.java
src/main/java/org/elasticsearch/client/IndicesAdminClient.java
src/main/java/org/elasticsearch/client/support/AbstractIndicesAdminClient.java
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/indices/AliasMissingException.java
src/main/java/org/elasticsearch/rest/action/RestActionModule.java
src/main/java/org/elasticsearch/rest/action/admin/indices/alias/delete/RestIndexDeleteAliasesAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/alias/get/RestIndicesGetAliasesAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/alias/put/RestIndexPutAliasAction.java
src/test/java/org/elasticsearch/test/integration/aliases/IndexAliasesTests.java
comments:
Added three new index alias related apis.

Added apis to get specific index aliases based on filtering by alias name and index name:
```
curl -XGET 'localhost:9200/{index_or_alias}/_alias/{alias_name}'
```

Added delete index alias api for deleting a single index alias:
```
curl -XDELETE 'localhost:9200/{index}/_alias/{alias_name}'
```

Added create index alias api for adding a single index alias:
```
curl -XPUT 'localhost:9200/{index}/_alias/{alias_name}'

curl -XPUT 'localhost:9200/{index}/_alias/{alias_name}' -d '{
	"routing" : {routing},
	"filter" : {filter}
}'

```

Closes #3075 #3076 #3077

time:
2013-05-22T19:14:19Z
class:
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/test/java/org/elasticsearch/test/unit/index/mapper/date/SimpleDateMappingTests.java
comments:
Fix bug in DateFieldMapper where format is serialized instead of locale

This fix adds a default serialization step in the SimpleDateMappingTests
that parses the mapping, builds the mapper, serializes the mapper and
rebuilds the actual mapper from the serialization result. The contained
information must be equivalent to the original mapping.

The fixed bug has no issue assigned to is since the code is unreleased yet.

time:
2013-05-22T14:52:32Z
class:
src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
comments:
Changed common terms query to also support camelCased parameters
and renamed disable_coords to disable_coord, to be consistent with
the bool query

Closes #3074

time:
2013-05-21T11:37:46Z
class:
comments:
Improved documentation for ping_timeout parameter

Closes #26

time:
2013-05-21T08:29:28Z
class:
src/main/java/org/apache/lucene/queryparser/classic/QueryParserSettings.java
src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
src/test/java/org/elasticsearch/test/unit/index/query/SimpleIndexQueryParserTests.java
comments:
Apply QueryParser boost to top leve query if applicable.

Set the query boost of a parsed query string query to the product of
the parsed query boost and the boost value specified in the "boost"
query string parameter. This only applies if the top level query returned
from the query parser has a boost assigned to it. In such a case we must
multiply the boost with the top level query boost otherwise the boost
will be overwritten ie. 'foo^2' has a top-level boost of 2 while
'foo^2 OR bar^3' has a top level boost of 1.0 (default) since the
boolean query is the top level query.

Closes #3024

time:
2013-05-21T07:37:35Z
class:
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/test/java/org/elasticsearch/test/unit/index/mapper/date/SimpleDateMappingTests.java
comments:
Fix method name typo & beef up tests

s/DateFieldMapper#parseLocal/DateFieldMapper#parseLocal/
SimpleDateMappingTests Tests now also check local dependent
patters with root locale.

time:
2013-05-20T13:56:37Z
class:
src/main/java/org/elasticsearch/action/get/MultiGetRequest.java
src/test/java/org/elasticsearch/test/integration/get/GetActionTests.java
comments:
rollback multi get fields change
seems like it still fails while serializing with sporadic failures in the tests (due to routing on serialization), need to test it in a consistent manner

time:
2013-05-20T13:17:18Z
class:
src/main/java/org/elasticsearch/index/query/TermsFilterParser.java
src/main/java/org/elasticsearch/indices/cache/filter/terms/IndicesTermsFilterCache.java
src/main/java/org/elasticsearch/indices/cache/filter/terms/TermsLookup.java
src/test/java/org/elasticsearch/test/integration/search/query/SimpleQueryTests.java
comments:
External terms doesn't work with _id field
fixes #3063

time:
2013-05-20T12:09:48Z
class:
src/main/java/org/elasticsearch/action/get/MultiGetRequest.java
src/test/java/org/elasticsearch/test/integration/get/GetActionTests.java
comments:
multi get semantics of empty/null fields missing
the semantics between null fields (asking for source), and empty fields (not asking for anything) is missing
also exposes the items in the request, relates to #3061

time:
2013-05-19T21:25:44Z
class:
src/main/java/org/elasticsearch/action/support/broadcast/BroadcastOperationThreading.java
src/main/java/org/elasticsearch/action/support/replication/TransportIndicesReplicationOperationAction.java
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/cluster/block/ClusterBlock.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ClusterRebalanceAllocationDecider.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/Decision.java
src/main/java/org/elasticsearch/common/Base64.java
src/main/java/org/elasticsearch/common/Names.java
src/main/java/org/elasticsearch/common/StopWatch.java
src/main/java/org/elasticsearch/common/Strings.java
src/main/java/org/elasticsearch/common/inject/Scopes.java
src/main/java/org/elasticsearch/common/inject/internal/Errors.java
src/main/java/org/elasticsearch/common/io/FastByteArrayOutputStream.java
src/main/java/org/elasticsearch/common/io/Streams.java
src/main/java/org/elasticsearch/common/jna/Natives.java
src/main/java/org/elasticsearch/common/lucene/LoggerInfoStream.java
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
src/main/java/org/elasticsearch/common/math/MathRuntimeException.java
src/main/java/org/elasticsearch/common/network/NetworkService.java
src/main/java/org/elasticsearch/common/os/OsUtils.java
src/main/java/org/elasticsearch/common/settings/ImmutableSettings.java
src/main/java/org/elasticsearch/common/util/BigLongArray.java
src/main/java/org/elasticsearch/env/Environment.java
src/main/java/org/elasticsearch/http/HttpServer.java
src/main/java/org/elasticsearch/index/analysis/Analysis.java
src/main/java/org/elasticsearch/index/analysis/HunspellTokenFilterFactory.java
src/main/java/org/elasticsearch/index/engine/robin/RobinEngine.java
src/main/java/org/elasticsearch/index/indexing/slowlog/ShardSlowLogIndexingService.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/multifield/MultiFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/main/java/org/elasticsearch/index/query/FieldQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeFilterBuilder.java
src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
src/main/java/org/elasticsearch/index/query/RegexpFlag.java
src/main/java/org/elasticsearch/index/search/nested/NestedFieldComparatorSource.java
src/main/java/org/elasticsearch/index/search/slowlog/ShardSlowLogSearchService.java
src/main/java/org/elasticsearch/index/shard/service/InternalIndexShard.java
src/main/java/org/elasticsearch/indices/analysis/HunspellService.java
src/main/java/org/elasticsearch/monitor/dump/AbstractDump.java
src/main/java/org/elasticsearch/monitor/dump/summary/SummaryDumpContributor.java
src/main/java/org/elasticsearch/monitor/dump/thread/ThreadDumpContributor.java
src/main/java/org/elasticsearch/monitor/jvm/HotThreads.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/health/RestClusterHealthAction.java
src/main/java/org/elasticsearch/river/RiverModule.java
src/main/java/org/elasticsearch/script/ScriptService.java
src/main/java/org/elasticsearch/search/facet/geodistance/GeoDistanceFacetBuilder.java
src/main/java/org/elasticsearch/search/facet/terms/TermsFacetBuilder.java
src/main/java/org/elasticsearch/search/facet/termsstats/TermsStatsFacetBuilder.java
src/main/java/org/elasticsearch/search/sort/GeoDistanceSortBuilder.java
src/test/java/org/elasticsearch/test/integration/rest/helper/HttpClient.java
src/test/java/org/elasticsearch/test/integration/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/test/integration/search/facet/ExtendedFacetsTests.java
src/test/java/org/elasticsearch/test/integration/search/suggest/SuggestSearchTests.java
src/test/java/org/elasticsearch/test/integration/validate/SimpleValidateQueryTests.java
src/test/java/org/elasticsearch/test/unit/action/bulk/BulkRequestTests.java
src/test/java/org/elasticsearch/test/unit/common/io/StreamsTests.java
src/test/java/org/elasticsearch/test/unit/common/xcontent/builder/XContentBuilderTests.java
src/test/java/org/elasticsearch/test/unit/index/analysis/AnalysisModuleTests.java
src/test/java/org/elasticsearch/test/unit/index/cache/id/SimpleIdCacheTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/DuellFieldDataTest.java
src/test/java/org/elasticsearch/test/unit/index/gateway/CommitPointsTests.java
src/test/java/org/elasticsearch/test/unit/index/mapper/simple/SimpleMapperTests.java
src/test/java/org/elasticsearch/test/unit/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/test/unit/search/suggest/phrase/NoisyChannelSpellCheckerTests.java
comments:
Integrate forbiddenAPI checks into Maven build.

This commit integrates the forbiddenAPI checks that checks
Java byte code against a list of "forbidden" API signatures.
The commit also contains the fixes of the current source code
that didn't pass the default API checks.

See https://code.google.com/p/forbidden-apis/ for details.

Closes #3059

time:
2013-05-19T21:25:44Z
class:
src/main/java/org/elasticsearch/common/joda/FormatDateTimeFormatter.java
src/main/java/org/elasticsearch/common/joda/Joda.java
src/main/java/org/elasticsearch/index/mapper/Mapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/test/java/org/elasticsearch/test/integration/search/simple/SimpleSearchTests.java
src/test/java/org/elasticsearch/test/unit/index/mapper/date/SimpleDateMappingTests.java
comments:
Allow Date Fields to have a locale for date parsing

Currently if somebody uses a date format that is locale dependend
date fields can only parse a single format depending on the nodes
host locale. This can cause lots of problems since nodes might have
different locales. ie. "E, d MMM yyyy HH:mm:ss Z" where you have
"Wed, 06 Dec 2000 02:55:00 -0800" for en_EN while
"Mi, 06 Dez 2000 02:55:00 -0800" for de_DE.

Closes #3047

time:
2013-05-17T16:21:51Z
class:
src/test/java/org/elasticsearch/test/integration/search/highlight/CustomHighlighterSearchTests.java
comments:
wait for yellow after the index is created
also, remove starting one node, it not useful for the test, and slows down the execution

time:
2013-05-17T13:16:59Z
class:
src/main/java/org/elasticsearch/index/fielddata/ScriptDocValues.java
src/test/java/org/elasticsearch/test/integration/search/customscore/CustomScoreSearchTests.java
comments:
Grow array buffer in ScriptDocValues if needed

The buffer in ScriptDocValues for Strings was never called causeing
NPE in scripts if a document has > 10 distinct values in a field.

Closes #3051

time:
2013-05-17T11:21:26Z
class:
src/test/java/org/elasticsearch/test/integration/nodesinfo/SimpleNodesInfoTests.java
src/test/java/org/elasticsearch/test/integration/plugin/ResponseHeaderPluginTests.java
comments:
Ensuring test isolation when jvm plugins are loaded

Instead of specifying 'path.plugins' configuration option, 'plugin.types'
is used to load plugins in integration tests. This makes sure the JVM
plugins are not loaded in all following tests from then.

Also removed the now unneeded es-plugin.properties files from JVM test
plugins.

time:
2013-05-17T09:14:44Z
class:
comments:
Packaging improvements & bugfixes

* RPM: Use the ES_USER variable to set the user (same name as in the debian package
  now), while retaining backwards compatibility to existing /etc/sysconfig/elasticsearch
* RPM: Bugfix: Remove the user when uninstalling the package
* RPM: Set an existing homedir when adding the user (allows one to run cronjobs as this user)
* DEB & RPM: Unify Required-Start/Required-Stop fields in initscripts

time:
2013-05-17T07:07:13Z
class:
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/search/SearchModule.java
src/main/java/org/elasticsearch/search/highlight/FastVectorHighlighter.java
src/main/java/org/elasticsearch/search/highlight/HighlightBuilder.java
src/main/java/org/elasticsearch/search/highlight/HighlightModule.java
src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
src/main/java/org/elasticsearch/search/highlight/Highlighter.java
src/main/java/org/elasticsearch/search/highlight/HighlighterContext.java
src/main/java/org/elasticsearch/search/highlight/HighlighterParseElement.java
src/main/java/org/elasticsearch/search/highlight/Highlighters.java
src/main/java/org/elasticsearch/search/highlight/PlainHighlighter.java
src/main/java/org/elasticsearch/search/highlight/SearchContextHighlight.java
src/test/java/org/elasticsearch/test/integration/search/highlight/CustomHighlighter.java
src/test/java/org/elasticsearch/test/integration/search/highlight/CustomHighlighterPlugin.java
src/test/java/org/elasticsearch/test/integration/search/highlight/CustomHighlighterSearchTests.java
comments:
Allowing pluggable highlighter implementations.

Currently elasticsearch ships with the plain and the fast-vector highlighter.
In order to support arbitrary highlighters via plugins, you only need to
implement a Highlighter interface and register your implementation in your
plugin at the HighlightModule.

In addition you can also add arbitrary options via the 'options' field in
the highlight request, which can be parsed in the highlighter implementation.

In order to find out how to write add your own analyzer, check out the tests
classes (CustomHighlighterSearchTests and CustomHighlighter).

Closes #2828

time:
2013-05-16T16:45:00Z
class:
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/DoubleScriptDataComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/GeoDistanceComparator.java
src/main/java/org/elasticsearch/index/search/nested/NestedFieldComparatorSource.java
src/main/java/org/elasticsearch/search/sort/GeoDistanceSortBuilder.java
src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
src/main/java/org/elasticsearch/search/sort/ScriptSortBuilder.java
src/main/java/org/elasticsearch/search/sort/ScriptSortParser.java
src/test/java/org/elasticsearch/test/integration/nested/SimpleNestedTests.java
src/test/java/org/elasticsearch/test/integration/search/geo/GeoDistanceTests.java
comments:
Added support for nested sorting for script sorting and geo sorting.
Closes #3044

time:
2013-05-16T08:12:02Z
class:
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/ByteValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/DoubleValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/DoubleValuesComparatorBase.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/FloatValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/IntValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/LongValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/LongValuesComparatorBase.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/NumberComparatorBase.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/ShortValuesComparator.java
src/main/java/org/elasticsearch/index/search/nested/NestedFieldComparatorSource.java
src/test/java/org/elasticsearch/test/integration/nested/SimpleNestedTests.java
src/test/java/org/elasticsearch/test/unit/index/search/nested/AbstractNumberNestedSortingTests.java
src/test/java/org/elasticsearch/test/unit/index/search/nested/ByteNestedSortingTests.java
src/test/java/org/elasticsearch/test/unit/index/search/nested/DoubleNestedSortingTests.java
src/test/java/org/elasticsearch/test/unit/index/search/nested/FloatNestedSortingTests.java
src/test/java/org/elasticsearch/test/unit/index/search/nested/IntegerNestedSortingTests.java
src/test/java/org/elasticsearch/test/unit/index/search/nested/LongNestedSortingTests.java
src/test/java/org/elasticsearch/test/unit/index/search/nested/ShortNestedSortingTests.java
comments:
If matching root doc's inner objects don't match the `nested_filter` then the `missing` value should be used to sort the root doc.
Closes #3020

time:
2013-05-15T15:06:42Z
class:
src/main/java/org/elasticsearch/common/util/concurrent/ThreadLocals.java
comments:
fix package name...

time:
2013-05-15T14:10:22Z
class:
src/main/java/org/elasticsearch/index/cache/id/simple/SimpleIdCache.java
src/test/java/org/elasticsearch/test/unit/index/cache/id/SimpleIdCacheTests.java
comments:
Added simple id loading test.
Relates to #3028

time:
2013-05-15T13:17:49Z
class:
src/main/java/org/elasticsearch/search/suggest/phrase/DirectCandidateGenerator.java
src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
src/test/java/org/elasticsearch/test/integration/search/suggest/SuggestSearchTests.java
comments:
Don't apply min frequency smoothing if suggest type is 'always'

Using an automatically detected 'min_doc_freq' if suggest type is set to
'always' is counter intuitive. If we suggest always ignore the frequency and
set threshold frequency to 0 to allow all possible candidates to be drawn if
they are within the given bounds.

Closes #3037

time:
2013-05-15T11:28:55Z
class:
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequest.java
comments:
Keep backwards compatible with 0.90.0 on the transport layer.
Relates to #3039

time:
2013-05-15T11:09:13Z
class:
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequest.java
src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java
src/test/java/org/elasticsearch/test/integration/mlt/MoreLikeThisActionTests.java
comments:
Routing value not serialized on transport layer.
Closes #3039

time:
2013-05-15T10:41:49Z
class:
src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
comments:
Corrected English in a shard error message

time:
2013-05-15T10:39:31Z
class:
src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
comments:
Corrected a typo and improved the English in a master-discovery error

time:
2013-05-15T10:13:13Z
class:
src/main/java/org/elasticsearch/common/Unicode.java
src/main/java/org/elasticsearch/common/util/concurrent/ThreadLocals.java
src/main/java/org/elasticsearch/node/internal/InternalNode.java
src/main/java/org/elasticsearch/rest/StringRestResponse.java
src/main/java/org/elasticsearch/rest/XContentRestResponse.java
src/main/java/org/elasticsearch/search/dfs/DfsPhase.java
src/main/java/org/elasticsearch/search/internal/InternalSearchHits.java
comments:
clean thread locals without needing a wrapper
clean thread locals smartly by identifying "our" classes, and removing them, so there is no need to wrap it in our our clenable values

time:
2013-05-14T22:27:48Z
class:
src/main/java/org/elasticsearch/index/engine/robin/RobinEngine.java
comments:
reuse version key in an actual operation
no need to compute the hash several times

time:
2013-05-14T18:21:37Z
class:
src/main/java/org/elasticsearch/common/MurmurHash.java
comments:
remove unused class

time:
2013-05-14T18:18:54Z
class:
src/main/java/org/elasticsearch/cluster/routing/operation/hash/djb/DjbHashFunction.java
src/main/java/org/elasticsearch/common/lucene/uid/UidField.java
src/main/java/org/elasticsearch/index/engine/robin/RobinEngine.java
comments:
use bytes instead of String as key in versionMap
no need to create a String every time we put or get a value from the version map

time:
2013-05-14T14:22:05Z
class:
src/main/java/org/elasticsearch/index/cache/id/simple/SimpleIdCache.java
comments:
During parent uid loading seek to next parent type when child type is encountered.
Relates to #3028

time:
2013-05-14T13:10:03Z
class:
src/main/java/org/elasticsearch/cluster/settings/ClusterDynamicSettingsModule.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySettings.java
comments:
Use Recovery Throtteling by default.

To prevent to extensive resource use during recovery we use
recovery throtteling by default to prevent unexpected peak load
on clusters. The default is set to 20 MB/sec.

Closes #3035

time:
2013-05-14T13:10:03Z
class:
src/main/java/org/elasticsearch/indices/store/IndicesStore.java
src/test/java/org/elasticsearch/test/integration/indices/store/SimpleDistributorTests.java
comments:
Use Merge Throtteling by default on node level.

Merge Throtteling is one of the most recommended settings and crucial in the
RealTime indexing case. We should set the default to a reasonable setting
that allows folks to index in a production index and don't see large merge
peaks by default. The default is set to 20 MB/sec on the node level.

Closes #3033

time:
2013-05-14T13:10:03Z
class:
src/main/java/org/elasticsearch/threadpool/ThreadPool.java
comments:
Raise search threadpool default size.

The default size used to be 2x availableProcessors which seemed to
be a to lowish value in practice. 3x appeared to be a sweetspot for
most application. The default is now 3 x availableProcessors

Closes #3023
Hey guys btw, this page says the queue size is unbounded by default (-1) but this says its set to 1000: http://www.elasticsearch.org/guide/reference/modules/threadpool/

And also there is no way to pull out the default settings unless you set them to something or unless you look at the source code so this discrepancy was very confusing for us while we debugged the thread pool size related problems

hey ryan, you are right, do yo mind opening an issue?

simon


time:
2013-05-14T11:53:41Z
class:
src/main/java/org/elasticsearch/search/facet/FacetParseElement.java
src/main/java/org/elasticsearch/search/facet/FacetParsers.java
src/main/java/org/elasticsearch/search/facet/histogram/HistogramFacetParser.java
src/main/java/org/elasticsearch/search/facet/range/RangeFacetParser.java
src/main/java/org/elasticsearch/search/facet/terms/TermsFacetParser.java
src/main/java/org/elasticsearch/search/facet/terms/doubles/InternalDoubleTermsFacet.java
src/main/java/org/elasticsearch/search/facet/terms/longs/InternalLongTermsFacet.java
src/main/java/org/elasticsearch/search/facet/terms/strings/FieldsTermsStringFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/terms/strings/InternalStringTermsFacet.java
src/main/java/org/elasticsearch/search/facet/terms/unmapped/UnmappedFieldExecutor.java
src/main/java/org/elasticsearch/search/facet/termsstats/TermsStatsFacetParser.java
src/test/java/org/elasticsearch/test/integration/search/facet/terms/UnmappedFieldsTermsFacetsTests.java
comments:
Support for term facets on unmapped fields

Added support for unmapped & partially mapped fields (partially mapped fields may occur when searching across multiple indices where the faceted field is mapped on some and unmapped on others). If a shard doesn't have mappings for a field, the matching documents count on that shard will be added to the missing count for that facet.

time:
2013-05-14T09:02:03Z
class:
src/main/java/org/elasticsearch/index/query/HasChildFilterParser.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentFilterParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/search/child/HasChildFilter.java
src/main/java/org/elasticsearch/index/search/child/HasParentFilter.java
src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
comments:
Make sure only relevant documents are evaluated in the second round lookup phase.

Both has_parent and has_child filters are internally executed in two rounds. In the second round all documents are evaluated whilst only specific documents need to be checked. In the has_child case only documents belonging to a specific parent type need to be checked and in the has_parent case only child documents need to be checked.

Closes #3034

time:
2013-05-14T08:25:23Z
class:
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DisableAllocationDecider.java
src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
src/test/java/org/elasticsearch/test/integration/cluster/allocation/ClusterRerouteTests.java
src/test/java/org/elasticsearch/test/integration/gateway/local/SimpleRecoveryLocalGatewayTests.java
src/test/java/org/elasticsearch/test/unit/cluster/routing/allocation/AllocationCommandsTests.java
src/test/java/org/elasticsearch/test/unit/cluster/routing/allocation/DisableAllocationTests.java
src/test/java/org/elasticsearch/test/unit/cluster/settings/ClusterSettingsTests.java
comments:
Allow to disable allocation on the index level
Similar to the global cluster wide disable allocation flags, allow to set those on a specific index by updating its settings. The keys are the same as the cluster one, except they start with an index, for example: index.routing.allocation.disable_allocation set to true.
closes #3031

time:
2013-05-14T07:58:43Z
class:
src/test/java/org/elasticsearch/test/unit/index/analysis/LimitTokenCountFilterFactoryTests.java
comments:
Added test for LimitTokenCountFilterFactory

time:
2013-05-14T07:58:42Z
class:
src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
src/main/java/org/elasticsearch/index/analysis/LimitTokenCountFilterFactory.java
comments:
Expose LimitTokenCountFilter as a TokenFilter

Closes #3013

time:
2013-05-14T07:46:43Z
class:
src/main/java/org/elasticsearch/index/cache/id/IdCache.java
src/main/java/org/elasticsearch/index/cache/id/simple/SimpleIdCache.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
comments:
Not load the ids of child documents into memory.
Closes #3028

time:
2013-05-13T10:32:57Z
class:
src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryParser.java
comments:
Renaming span_multi_term query to span_multi

... due to discussing this on #2610 in order to have a more concise name

time:
2013-05-13T10:08:41Z
class:
src/test/java/org/elasticsearch/test/integration/indices/store/SimpleDistributorTests.java
comments:
Ensure tests pass if store dir is a soft-link

time:
2013-05-13T10:08:41Z
class:
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
comments:
Reduce branches in TopChildrenQuery

The branches used in the score method can be moved into the
scorer call and be essentially a constant operation rather than
a linear operation depending on the number of parent docs.

time:
2013-05-13T09:48:04Z
class:
comments:
Fix for RPM postinstall on old OpenSUSE distributions

Older OpenSUSE distributions do not ship with systemd and therefore are
using chkconfig, but do not have their scripts placed at /etc/init.d/
This patch is more defensive and adds additional checks in the postinstall
script to prevent aborted post install scripts, which makes the RPM
uninstallable.

time:
2013-05-13T08:38:20Z
class:
src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
comments:
Also support `sum` as `score_mode` option for the nested query.
Relates to #3026

time:
2013-05-13T08:30:01Z
class:
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryParser.java
src/main/java/org/elasticsearch/index/search/child/ScoreType.java
comments:
Made all the queries support `score_mode` parameter name in addition to the existing parameter name for score mode.
Closes #3026

time:
2013-05-13T08:18:36Z
class:
src/test/java/org/elasticsearch/test/integration/search/highlight/HighlighterSearchTests.java
comments:
Improved the stability of hl tests by adding waiting for at least yellow status.
In some test cases this was missing.

time:
2013-05-12T03:18:03Z
class:
src/main/java/org/elasticsearch/common/settings/ImmutableSettings.java
src/test/java/org/elasticsearch/test/unit/common/settings/ImmutableSettingsTests.java
comments:
resolved empty setting values should be removed
when resolving empty settings values, their value should be removed, for example, when using ${env.ENV_VAR}, and ENV_VAR is not set, then the setting should be removed

time:
2013-05-11T21:37:56Z
class:
src/main/java/org/joda/time/base/BaseDateTime.java
comments:
update to joda 2.2

time:
2013-05-11T21:17:00Z
class:
comments:
upgrade to mvel 2.1.5

time:
2013-05-11T19:30:16Z
class:
src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
src/main/java/org/elasticsearch/transport/local/LocalTransport.java
src/main/java/org/elasticsearch/transport/netty/MessageChannelHandler.java
comments:
use throwable in transport layer
catch throwable when processing messages in the transport layer, to report back failures even under errors

time:
2013-05-10T23:22:23Z
class:
src/test/java/org/elasticsearch/test/unit/deps/lucene/LuceneFieldCacheTests.java
comments:
test no longer needed...

time:
2013-05-10T16:09:42Z
class:
src/main/java/org/elasticsearch/action/search/ShardSearchFailure.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
comments:
not active shards should translate to 503 not 500

time:
2013-05-10T15:58:46Z
class:
src/main/java/org/elasticsearch/http/netty/NettyHttpChannel.java
src/main/java/org/elasticsearch/rest/AbstractRestResponse.java
src/main/java/org/elasticsearch/rest/RestResponse.java
src/test/java/org/elasticsearch/test/integration/nodesinfo/SimpleNodesInfoTests.java
src/test/java/org/elasticsearch/test/integration/plugin/ResponseHeaderPluginTests.java
src/test/java/org/elasticsearch/test/integration/plugin/responseheader/TestResponseHeaderPlugin.java
src/test/java/org/elasticsearch/test/integration/plugin/responseheader/TestResponseHeaderRestAction.java
src/test/java/org/elasticsearch/test/integration/rest/helper/HttpClient.java
src/test/java/org/elasticsearch/test/integration/rest/helper/HttpClientResponse.java
comments:
Allow to set headers in HTTP response

This commit allows to set custom headers in HTTP responses (like
setting the WWW-Authenticate header for basic auth) by adding
RestRequest.addHeader() method.

Closes #2936
Closes #2540

To get the history right: This is based on PR #2723

time:
2013-05-10T15:42:34Z
class:
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/index/fielddata/plain/ConcreteBytesRefAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ConcreteBytesRefIndexFieldData.java
src/test/java/org/elasticsearch/test/integration/search/facet/ExtendedFacetsTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/ConcreteBytesStringFieldDataTests.java
comments:
remove concrete bytes for field data
no really need for it, specifically with the fact that we don't need to deepCopy on makeSafe for the (default) paged bytes

time:
2013-05-10T15:25:39Z
class:
src/main/java/org/elasticsearch/index/fielddata/BytesValues.java
src/main/java/org/elasticsearch/index/fielddata/plain/FSTBytesAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesAtomicFieldData.java
src/main/java/org/elasticsearch/search/facet/terms/strings/HashedAggregator.java
src/main/java/org/elasticsearch/search/facet/termsstats/strings/TermsStatsStringFacetExecutor.java
comments:
No need for deepCopy on makeSafe for pages field data
Since its a reference to a buffer in the PagedBytes, we don't need to deep copy it on makeSafe, just shallow copy it

time:
2013-05-10T14:43:20Z
class:
src/test/java/org/elasticsearch/test/integration/update/UpdateTests.java
comments:
Added test that checks if a validation error is thrown when both doc and script provided in a update request.
Closes #2967

time:
2013-05-10T14:31:54Z
class:
src/main/java/org/elasticsearch/action/update/UpdateRequest.java
comments:
Reject update request that has both script and doc

time:
2013-05-10T14:03:24Z
class:
src/main/java/org/elasticsearch/action/bulk/BulkItemRequest.java
src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java
src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
src/main/java/org/elasticsearch/action/bulk/BulkRequestBuilder.java
src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java
src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
src/main/java/org/elasticsearch/action/update/UpdateHelper.java
src/main/java/org/elasticsearch/action/update/UpdateRequest.java
src/main/java/org/elasticsearch/action/update/UpdateResponse.java
src/main/java/org/elasticsearch/indices/IndicesModule.java
src/test/java/org/elasticsearch/test/integration/document/BulkTests.java
src/test/java/org/elasticsearch/test/integration/update/UpdateTests.java
src/test/java/org/elasticsearch/test/unit/action/bulk/BulkRequestTests.java
comments:
Added support for the update operation in the bulk api.

Update requests can now be put in the bulk api. All update request options are supported.

Example usage:
```
curl -XPOST 'localhost:9200/_bulk' --date-binary @bulk.json
```

Contents of bulk.json that contains two update request items:
```
{ "update" : {"_id" : "1", "_type" : "type1", "_index" : "index1", "_retry_on_conflict" : 3} }
{ "doc" : {"field" : "value"} }
{ "update" : { "_id" : "0", "_type" : "type1", "_index" : "index1", "_retry_on_conflict" : 3} }
{ "script" : "counter += param1", "lang" : "js", "params" : {"param1" : 1}, "upsert" : {"counter" : 1}}
```
The `doc`, `upsert` and all script related options are part of the payload. The `retry_on_conflict` option is part of the header.

Closes #2982

time:
2013-05-10T09:51:55Z
class:
src/main/java/org/elasticsearch/common/bytes/HashedBytesArray.java
comments:
lazy compute the hash and actually use it...

time:
2013-05-09T16:45:49Z
class:
src/main/java/org/elasticsearch/index/get/ShardGetService.java
src/test/java/org/elasticsearch/test/integration/get/GetActionTests.java
comments:
Make GetField behavior more consitent for multivalued fields.

Before this change, the GetField#getValue() method was returning a list of values of a multivalued fields if the field values were obtained from source or if the field was stored and real-time get was used. If the field was stored but non-realtime get was used, GetField#getValue() was returning only the first element and the GetField#getValues() was returning a list of elements. This change makes behavior consistent. GetField#getValue() now always returns only the first value of the field and GetField#getValues() returns the entire list.

time:
2013-05-09T16:00:23Z
class:
comments:
upgrade to jackson 2.2.1

time:
2013-05-09T14:21:21Z
class:
src/test/java/org/elasticsearch/test/integration/cluster/allocation/ClusterRerouteTests.java
comments:
Improve test stability

time:
2013-05-09T10:41:05Z
class:
comments:
Changed textile markup to markdown in README

time:
2013-05-08T22:47:57Z
class:
src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateAllocationCommand.java
src/test/java/org/elasticsearch/test/integration/cluster/allocation/ClusterRerouteTests.java
comments:
Reroute Allocate to force primary allocation when enabled
Typically, the main reason a reroute allocation command with allow_primary is enabled, is to force create an empty new shard because a shard (and its replicas) were lost. This can't be done today because the shard expects to have a valid index where its allocated, we need to clear its post allocation flag to make sure it is allowed to create a fresh index.

time:
2013-05-08T22:21:47Z
class:
src/main/java/org/elasticsearch/search/dfs/AggregatedDfs.java
comments:
Fix DfsSearchResult method names in AggregatedDfs

time:
2013-05-08T20:06:01Z
class:
src/main/java/org/elasticsearch/search/dfs/AggregatedDfs.java
src/main/java/org/elasticsearch/search/dfs/DfsSearchResult.java
comments:
Use simplified asserts and better naming

addOne / subOne are likely easier to understand without reading the docs.
If I would read my emails this would have made it in the last commit.

time:
2013-05-08T19:34:48Z
class:
src/main/java/org/elasticsearch/common/collect/XMaps.java
src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
src/main/java/org/elasticsearch/search/dfs/AggregatedDfs.java
src/main/java/org/elasticsearch/search/dfs/DfsPhase.java
src/main/java/org/elasticsearch/search/dfs/DfsSearchResult.java
src/test/java/org/elasticsearch/test/integration/search/query/SimpleQueryTests.java
comments:
Handle optional term and field statistics gracefully

Lucene provides a set of statistics that depend on the codec / postingsformat
as well as on the index options used when the field is created / indexed.
If a certain stats value is not available lucene return `-1` instead of the
correct value. We need to ensure that those values are encoded correctly if
we try to write vLongs as well as when we aggregate those values.

Closes #3012

time:
2013-05-08T16:05:40Z
class:
src/main/java/org/apache/lucene/store/RateLimitedFSDirectory.java
src/main/java/org/apache/lucene/store/StoreUtils.java
src/main/java/org/apache/lucene/store/bytebuffer/ByteBufferDirectory.java
src/main/java/org/elasticsearch/index/store/Store.java
src/main/java/org/elasticsearch/index/store/distributor/AbstractDistributor.java
src/main/java/org/elasticsearch/index/store/distributor/LeastUsedDistributor.java
src/main/java/org/elasticsearch/index/store/distributor/RandomWeightedDistributor.java
src/test/java/org/elasticsearch/test/integration/indices/store/SimpleDistributorTests.java
src/test/java/org/elasticsearch/test/integration/indices/store/StrictDistributor.java
comments:
Add more informative toString method to StoreDirectory

time:
2013-05-08T15:57:20Z
class:
src/main/java/org/elasticsearch/index/analysis/AbstractTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/AbstractTokenizerFactory.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/FragmentBuilderHelper.java
src/test/java/org/elasticsearch/test/integration/search/highlight/HighlighterSearchTests.java
comments:
Add NGramTokenizer and NGramTokenFilter to broken chains

NgramTokenizer and NGramTokenFilter are broken with a version < 4.2
We should still support these filters but should prevent the StringIOOB
exceptions. Adding these fitlers for the FragmentBuilderHelper will
allow seamless highlighting on fields indexed with those tokenizers or
tokenfilters

time:
2013-05-08T10:54:16Z
class:
src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
src/test/java/org/elasticsearch/test/integration/search/sort/SimpleSortTests.java
comments:
Merge pull request #3009 from chilling/issue2986_scores

Fixed parsing of track_scores in RestSearchAction

time:
2013-05-08T10:45:32Z
class:
src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
src/test/java/org/elasticsearch/test/integration/search/sort/SimpleSortTests.java
comments:
Fixed parsing of `track_scores` in `RestSearchAction`

Closes #2986

time:
2013-05-07T20:52:57Z
class:
src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
src/test/java/org/elasticsearch/test/integration/search/query/SimpleQueryTests.java
comments:
Don't use smart query wrapping for span term query

Lucenes span queries are a different family than 'ordinary' queries
in lucene. Spans only work with other spans such that smart query
wrapping doesn't work with span queries at all ie. we can't wrap
in filtered query.

Closes #2994

time:
2013-05-07T19:50:47Z
class:
src/main/java/org/elasticsearch/indices/query/IndicesQueriesModule.java
src/test/java/org/elasticsearch/test/unit/index/query/SimpleIndexQueryParserTests.java
comments:
Add `field_masking_span` to IndexQueryModule

The query parser for `field_masking_span` has never been added / bound to
the IndexQueryModule.

Closes #3007

time:
2013-05-07T17:30:29Z
class:
src/main/java/org/elasticsearch/index/get/ShardGetService.java
src/test/java/org/elasticsearch/test/integration/get/GetActionTests.java
comments:
Fix error getting array fields

Fixes #3000

time:
2013-05-07T16:40:56Z
class:
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/FragmentBuilderHelper.java
comments:
Remove Java 7 only API

We still run on Java 6 as minimum requirement. Integer.compare(int,int)
was added in Java 7. This caused compile errors on CI.

time:
2013-05-07T15:21:37Z
class:
src/main/java/org/elasticsearch/indices/analysis/HunspellService.java
src/test/java/org/elasticsearch/test/integration/indices/analyze/HunspellServiceTests.java
comments:
Fixed custom hunspell dictionary directory

Properly loading dictionaries from based on the "indices.analysis.hunspell.dictionary.location" setting if one exists

time:
2013-05-07T14:29:00Z
class:
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/FragmentBuilderHelper.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SourceScoreOrderFragmentsBuilder.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SourceSimpleFragmentsBuilder.java
src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
src/test/java/org/elasticsearch/test/integration/search/highlight/HighlighterSearchTests.java
comments:
Don't fail hard if broken analysis is used.

Today an analysis chain with broken tokenfilters or tokenizers like
WordDelimiterFilter might produce somewhat broken term vectors that cause
`StringIndexOutOfBoundsExceptions` if FastVectorHighlighter is used
since the positions / offsets contract is violated and offsets of highlight
tokens are not increasing but decreasing even if their positions are increasing.

Yet, if we detect such a situation we can resort the tokens which might cause
somewhat odd highlights but doesn't fail hard with a StringIndexOOBException.

Closes #3006

time:
2013-05-07T03:43:08Z
class:
src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
comments:
Changed the priority of delete-index action to URGENT

All index meta data API's have urgent priority when it comes to cluster state updates. We'd like to remove indices asap to avoid things like unnecessary shards relocations

time:
2013-05-06T16:03:16Z
class:
src/main/java/org/elasticsearch/index/query/GeoShapeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
src/test/java/org/elasticsearch/test/integration/search/geo/GeoFilterTests.java
comments:
Enable Geo-Shape Relations Within and Disjoint

time:
2013-05-06T16:03:16Z
class:
src/main/java/org/apache/lucene/analysis/miscellaneous/KeywordRepeatFilter.java
src/main/java/org/apache/lucene/analysis/miscellaneous/XStemmerOverrideFilter.java
src/main/java/org/apache/lucene/index/TrackingConcurrentMergeScheduler.java
src/main/java/org/apache/lucene/index/TrackingSerialMergeScheduler.java
src/main/java/org/apache/lucene/search/vectorhighlight/XSimpleFragListBuilder.java
src/main/java/org/elasticsearch/Version.java
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/common/lucene/docset/AllDocIdSet.java
src/main/java/org/elasticsearch/common/lucene/docset/AndDocIdSet.java
src/main/java/org/elasticsearch/common/lucene/docset/BitsDocIdSetIterator.java
src/main/java/org/elasticsearch/common/lucene/docset/MatchDocIdSet.java
src/main/java/org/elasticsearch/common/lucene/docset/NotDocIdSet.java
src/main/java/org/elasticsearch/common/lucene/docset/OrDocIdSet.java
src/main/java/org/elasticsearch/common/lucene/search/EmptyScorer.java
src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
src/main/java/org/elasticsearch/index/analysis/BrazilianStemTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/DutchStemTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/FrenchStemTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/GermanStemTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/KeywordMarkerTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/NumericTokenizer.java
src/main/java/org/elasticsearch/index/analysis/PatternTokenizerFactory.java
src/main/java/org/elasticsearch/index/analysis/StemmerOverrideTokenFilterFactory.java
src/main/java/org/elasticsearch/index/deletionpolicy/AbstractESDeletionPolicy.java
src/main/java/org/elasticsearch/index/deletionpolicy/KeepLastNDeletionPolicy.java
src/main/java/org/elasticsearch/index/deletionpolicy/KeepOnlyLastDeletionPolicy.java
src/main/java/org/elasticsearch/index/deletionpolicy/SnapshotDeletionPolicy.java
src/main/java/org/elasticsearch/index/engine/robin/RobinEngine.java
src/main/java/org/elasticsearch/index/merge/policy/LogByteSizeMergePolicyProvider.java
src/main/java/org/elasticsearch/index/merge/policy/LogDocMergePolicyProvider.java
src/main/java/org/elasticsearch/index/merge/policy/TieredMergePolicyProvider.java
src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
src/main/java/org/elasticsearch/index/search/nested/IncludeNestedDocsQuery.java
src/main/java/org/elasticsearch/indices/analysis/IndicesAnalysisService.java
src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
src/main/java/org/elasticsearch/search/rescore/QueryRescorer.java
src/test/java/org/elasticsearch/test/integration/indices/stats/SimpleIndexStatsTests.java
src/test/java/org/elasticsearch/test/integration/search/geo/GeoFilterTests.java
src/test/java/org/elasticsearch/test/unit/index/search/geo/GeoUtilsTests.java
comments:
Upgrade to Lucene 4.3.0

This Lucene Release introduced a new API on DocIdSetIterator that requires each
implementation to return a `cost` upperbound as a function of the iterated documents.
This API allows for several optimizations during query execution especially in
Conjunction and Disjunction Queries with min_should_match set.

Closes #2990

time:
2013-05-06T12:33:23Z
class:
src/main/java/org/elasticsearch/action/get/GetResponse.java
src/main/java/org/elasticsearch/rest/action/RestActionModule.java
src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java
src/main/java/org/elasticsearch/rest/action/get/RestGetSourceAction.java
src/main/java/org/elasticsearch/rest/action/get/RestHeadAction.java
src/main/java/org/elasticsearch/rest/action/support/RestXContentBuilder.java
comments:
Rest Get Source
Allow to get the source directly using a specific REST endpoint without any additional content around it, the endpoint is `{index}/{type}/{id}/_source`.
Note, HEAD now also support the _source endpoint.
closes #2993, closes #2995

time:
2013-05-06T08:30:30Z
class:
src/main/java/org/elasticsearch/index/query/QueryBuilders.java
src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
src/test/java/org/elasticsearch/test/unit/index/query/SimpleIndexQueryParserTests.java
comments:
Added support for Collections in TermsQuery/InQuery.

time:
2013-05-06T07:48:08Z
class:
src/main/java/org/elasticsearch/rest/action/main/RestMainAction.java
comments:
Expose Lucene Main Version via Main Action. A call to `/` will
return the version of the used Lucene library next to the Elasticsearch
version.

Closes #2988

time:
2013-05-04T22:48:10Z
class:
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/BytesRefOrdValComparator.java
src/test/java/org/elasticsearch/test/integration/search/sort/SimpleSortTests.java
comments:
Use full ord range in binary search. The upperbound of the binary search in
BytesRefOrdValComparator starts at 1 and ends at maxOrd - 1. Yet, numOrd is defined
as maxOrd - 1 excluding the 0 ord.

This causes wrong sort ords when the bottom of the queue is compared to the next
segment and the greatest term in the new segment is in-fact less than the current
queue bottom. If that is true we treat the values as equal and never include the right
value into the queue.

Closes #2991

time:
2013-05-03T18:36:49Z
class:
src/main/java/org/elasticsearch/common/network/NetworkService.java
src/main/java/org/elasticsearch/common/network/NetworkUtils.java
comments:
Accept loopback interfaces in the network.host setting

Closes #2924. Adds support for loopback interfaces such as _lo0_ in network.host and other network settings.

time:
2013-05-03T16:25:32Z
class:
src/main/java/org/elasticsearch/common/lucene/search/XBooleanFilter.java
comments:
A neater approach of for processing should clauses before must or must_not clauses.

time:
2013-05-03T15:37:41Z
class:
src/main/java/org/elasticsearch/common/lucene/search/XBooleanFilter.java
src/test/java/org/elasticsearch/test/integration/search/query/SimpleQueryTests.java
comments:
Fixed issue where 'fast' should filter can make documents that didn't match the must or must_not clause a match again. Relates to #2979

time:
2013-05-03T14:00:51Z
class:
src/main/java/org/elasticsearch/index/query/MultiTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryParser.java
src/main/java/org/elasticsearch/indices/query/IndicesQueriesModule.java
src/test/java/org/elasticsearch/test/unit/index/query/SimpleIndexQueryParserTests.java
comments:
Refactoring SpanMultiTermQuery support

* Added license headers where needed
* Refactored SpanMultiTermQueryParser
* Refactored tests to adhere to other tests

time:
2013-05-03T14:00:31Z
class:
src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MultiTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
src/main/java/org/elasticsearch/index/query/QueryBuilders.java
src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryParser.java
src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
src/main/java/org/elasticsearch/indices/query/IndicesQueriesModule.java
src/test/java/org/elasticsearch/test/unit/index/query/SimpleIndexQueryParserTests.java
comments:
Support SpanMultiTerm, closes #2610, #2400

This adds support for lucene span multi term queries. This lucene query
allows users to form complicated queries such as wildcards or prefix
queries embedded within span queries.

time:
2013-05-03T13:14:09Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequestBuilder.java
src/test/java/org/elasticsearch/test/integration/cluster/SimpleDataNodesTests.java
comments:
Improve stability of SimpleDataNodesTests

Make sure that we are waiting for the new state to be propagated to the node where we are executing the followup query that depends on this state.

time:
2013-05-03T12:37:47Z
class:
src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
src/test/java/org/elasticsearch/test/unit/cluster/routing/allocation/BalanceConfigurationTests.java
comments:
Introduced a Opertaion enum that is passed to each call of
WeightFunction#weight to allow dedicated weight calculations per operation. In certain
circumstance it is more efficient / required to ignore certain factors in the weight
calculation to prevent for instance relocations if they are solely triggered by tie-breakers.
In particular the primary balance property should not be taken into account if the delta for
early termination is calculated since otherwise a relocation could be triggered solely by the
fact that two nodes have different amount of primaries allocated to them.

Closes #2984

time:
2013-05-03T07:29:56Z
class:
src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchMatchers.java
src/test/java/org/elasticsearch/test/integration/search/geo/GeoFilterTests.java
src/test/java/org/elasticsearch/test/integration/search/highlight/HighlighterSearchTests.java
comments:
Added a first small set of hamcrest matchers

A first implementation of adding matchers and helper methods to elasticsearch.
The following ones are supported

assertHitCount(searchResponse, 2);

// helper methods to easily access the first hits
assertFirstHit(searchResponse, hasId("foo")):
assertSecondHit(searchResponse, hasType("foo")):
assertThirdHit(searchResponse, hasIndex("foo")):

// methods to access all other hits
assertSearchHit(searchResponse, 5, hasId("10"));
// same as above, but maybe more readable
assertSearchHit(searchResponse.getHits().getAt(5), hasIndex("foo"));

I changed GeoFilterTests to show how it works.

Furthermore I inlined assertHighlight() from HighlighterSearchTests.
The ElasticsearchAssertions class can be used now as a centralized assertion class
in order have a centralized class for every developer to look at.

time:
2013-05-02T15:51:21Z
class:
src/test/java/org/elasticsearch/test/integration/gateway/local/SimpleRecoveryLocalGatewayTests.java
comments:
Use less agressive threshold to prevent primary relocation in recovery test

time:
2013-05-02T14:23:48Z
class:
src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
src/test/java/org/elasticsearch/test/unit/cluster/routing/allocation/BalanceConfigurationTests.java
comments:
Use current settings as default in BalancedShardsAllocator instead of defaults.
Custom settings are not always present in the `Settings` that are passed
to `NodeSettingsService.Listener#onRefreshSettings` such that using the defaults
will necessarily override the custom settings if set before.

Closes #2973

time:
2013-05-02T12:10:30Z
class:
src/main/java/org/elasticsearch/index/analysis/HunspellTokenFilterFactory.java
src/test/java/org/elasticsearch/test/unit/index/analysis/HunspellTokenFilterFactoryTests.java
comments:
Added tests for hunspell token filter factory
awesomeness! thanks uri!


time:
2013-05-02T10:08:54Z
class:
src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
comments:
Properly cache parent/child queries in the case they are wrapped in a compound filter.
Closes #2971

time:
2013-05-01T21:57:14Z
class:
src/main/java/org/elasticsearch/index/analysis/HunspellTokenFilterFactory.java
comments:
Changed hunspell token filter factory to use "dedup = true" by default

time:
2013-05-01T10:53:31Z
class:
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/GeoDistanceComparator.java
src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
src/test/java/org/elasticsearch/test/integration/search/geo/GeoDistanceTests.java
comments:
Added support for sort_mode `avg` for sorting by geo_distance.
Closes #2962

time:
2013-05-01T09:53:40Z
class:
src/main/java/org/elasticsearch/action/ShardOperationFailedException.java
src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryResponse.java
src/main/java/org/elasticsearch/action/deletebyquery/IndexDeleteByQueryResponse.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportIndexDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/support/DefaultShardOperationFailedException.java
src/main/java/org/elasticsearch/rest/action/deletebyquery/RestDeleteByQueryAction.java
src/test/java/org/elasticsearch/test/integration/deleteByQuery/DeleteByQueryTests.java
comments:
Return proper response code for delete by query api in the case of failures.
Closes #2963

time:
2013-04-30T16:11:30Z
class:
src/test/java/org/elasticsearch/test/integration/gateway/local/SimpleRecoveryLocalGatewayTests.java
comments:
Improve stability of SimpleRecoveryLocalGatewayTests

Fixed testX and testSingleNodeNoFlush by specifying mapping on index creation instead of using dynamic mapping. Dynamic mapping is updated on the cluster level asynchronously and if mapping changes are not applied to the cluster state before node is closed, these changes are not be available after node restart. While data added in the test is preserved, due to absence of mapping, the test still fails. This is a known issue that we are not planning to fix at the moment.
SE1


time:
2013-04-30T15:48:03Z
class:
src/main/java/org/elasticsearch/index/get/ShardGetService.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/test/java/org/elasticsearch/test/integration/get/GetActionTests.java
comments:
Support source include/exclude for realtime GET

Currently realtime GET does not take source includes/excludes into account.
This patch adds support for the source field mapper includes/excludes
when getting an entry from the transaction log. Even though it introduces
a slight performance penalty, it now adheres to the defined configuration
instead of returning all source data when a realtime get is done.

time:
2013-04-30T15:33:09Z
class:
src/main/java/org/elasticsearch/common/xcontent/support/XContentMapValues.java
src/test/java/org/elasticsearch/test/integration/search/geo/GeoShapeIntegrationTests.java
src/test/java/org/elasticsearch/test/unit/common/xcontent/support/XContentMapValuesTests.java
comments:
XContentMapValues.filter now works with nested arrays

The filter method of XContentMapValues actually filtered out nested
arrays/lists completely due to a bug in the filter method, which threw
away all data inside of such an array.

Closes #2944
This bug was a follow up problem, because of the filtering of nested arrays
in case source exclusion was configured.

time:
2013-04-30T14:07:11Z
class:
src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
src/main/java/org/elasticsearch/index/analysis/NumericTokenizer.java
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/test/java/org/elasticsearch/test/integration/indices/analyze/AnalyzeActionTests.java
comments:
Fail will IAE if a numeric field is used for the anaysis endpoint.
Analysing a numeric field will return UTF-16 representations of
of Lucenes numeric prefix terms. Those terms are meaningless in general
unless used for lookups in the lucene index. Passing a numeric field
to the analysis action is most likely a bug.

Closes #2953 #2952

time:
2013-04-30T12:06:57Z
class:
src/main/java/org/elasticsearch/Version.java
comments:
Upgrade Lucene Version to 4.2. The latest Elasticsearch version must
use the latest Lucene version as specified in o.e.common.lucene.Lucene
and must be upgraded with each lucene release.

This commit adds an assert that fails once the actual lucene version
that is used is higher than the current releases version.

time:
2013-04-30T11:53:49Z
class:
src/test/java/org/elasticsearch/test/integration/search/query/SimpleQueryTests.java
comments:
added simple test for numeric match query

time:
2013-04-29T20:00:04Z
class:
comments:
move to 1.5 snap

time:
2013-04-29T19:59:43Z
class:
comments:
release 1.4

time:
2013-04-29T19:58:36Z
class:
comments:
move to lucene 4.2.1 and ES 0.90

time:
2013-04-29T19:57:47Z
class:
comments:
move to 1.5 snap

time:
2013-04-29T19:57:30Z
class:
comments:
release 1.4

time:
2013-04-29T19:56:22Z
class:
comments:
move to lucene 4.2.1 and ES 0.90

time:
2013-04-29T19:55:28Z
class:
comments:
move to 1.5 snap

time:
2013-04-29T19:55:15Z
class:
comments:
release 1.4

time:
2013-04-29T19:54:15Z
class:
comments:
move to lucene 4.2.1 and ES 0.90

time:
2013-04-29T19:53:12Z
class:
comments:
move to 1.4 snap

time:
2013-04-29T19:52:56Z
class:
comments:
release 1.3.0

time:
2013-04-29T19:51:50Z
class:
comments:
move to lucene 4.2.1 and ES 0.90

time:
2013-04-29T19:50:28Z
class:
comments:
move to 1.10 snap

time:
2013-04-29T19:50:12Z
class:
comments:
release 1.9

time:
2013-04-29T19:47:25Z
class:
comments:
move to Lucene 4.2.1 and ES 0.90 GA

time:
2013-04-29T11:51:09Z
class:
src/main/java/org/elasticsearch/Version.java
comments:
move to 1.0.0.Beta1 snap

time:
2013-04-29T11:41:43Z
class:
src/main/java/org/elasticsearch/Version.java
comments:
release 0.90.0 GA

time:
2013-04-29T11:18:51Z
class:
src/main/java/org/elasticsearch/Version.java
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/index/analysis/AbstractIndexAnalyzerProvider.java
src/main/java/org/elasticsearch/index/analysis/AbstractTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/AbstractTokenizerFactory.java
src/main/java/org/elasticsearch/index/analysis/Analysis.java
src/main/java/org/elasticsearch/indices/analysis/HunspellService.java
src/test/java/org/elasticsearch/test/integration/indices/analyze/HunspellServiceTests.java
comments:
Use Lucene Version that was used to create the index in Analysis
Lucene ships with a version constant that is mainly used to provide consistent behaviour across lucene release versions. Lucene's Analysis capabilities are commonly applied at index and search time such that the search-time behaviour should be identical to the index-time behaviour in most of the cases. Currently ElasticSearch always uses the latest version from Lucene which can break backwards compatibility with the index for users that rely on behaviour that changed in new Lucene version.

Users should always use the version the index was created with unless it's explicitly configured.

closes #2945
Should you be setting a new version for the GA release instead of keeping this on the RC version?

we moved RC3 to be the GA release today


time:
2013-04-27T14:48:25Z
class:
src/main/java/org/apache/lucene/analysis/ngram/XNGramTokenFilter.java
src/main/java/org/apache/lucene/analysis/ngram/XNGramTokenizer.java
src/main/java/org/elasticsearch/index/analysis/NGramTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/NGramTokenizerFactory.java
src/test/java/org/elasticsearch/test/integration/search/highlight/HighlighterSearchTests.java
comments:
Added X Versions of NGramTokenFilter and NGramTokenizer to ElasticSearch. These versions
don't produce broken positions anymore and prevent certain highlighter bugs that fail with
StringArrayOutOfBoundsExceptions as in #2931

This commit breaks backwards compatibility in terms of highlighting when NGramTokenFilter is used.
The highlighter will highlight the entire terms as produced by the tokenizer instead of the individual
sub-gram. To do sub-gram highlighting, the ngram tokenizer should be used. This behavior was based on
broken NGramTokenFilter behavior which will be fixed in Lucene 4.4 but was ported in this commit
to elasticsearch 0.90. The broken behavior can still be used if a version < LUCENE_42 is used
in the token filter mapping.

Closes #2931

time:
2013-04-27T13:09:47Z
class:
src/main/java/org/elasticsearch/index/search/stats/SearchStats.java
src/main/java/org/elasticsearch/search/SearchService.java
src/test/java/org/elasticsearch/test/integration/search/stats/SearchStatsTests.java
comments:
open context stats
- rename to open_contexts from open, we might have other open stats in the future related to search (lucene index searchers?)
- add a test to verify it works

time:
2013-04-26T18:04:38Z
class:
src/main/java/org/apache/lucene/search/vectorhighlight/CustomFieldQuery.java
src/main/java/org/apache/lucene/search/vectorhighlight/XScoreOrderFragmentsBuilder.java
src/main/java/org/apache/lucene/search/vectorhighlight/XSimpleFragmentsBuilder.java
src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SourceScoreOrderFragmentsBuilder.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SourceSimpleFragmentsBuilder.java
comments:
Remove XSimpleFragmentsBuilder and XScoreOrderFragmentsBuilder since the only difference
to the lucene version is that `discreteMultiValueHighlighting` does default to `true`. Yet
we set this anyway in the HighlightingPhase such that the classes are obsolet.

time:
2013-04-26T17:48:48Z
class:
src/main/java/org/apache/lucene/search/vectorhighlight/XSimpleFragListBuilder.java
src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
src/test/java/org/elasticsearch/test/integration/search/highlight/HighlighterSearchTests.java
comments:
Added temporary fix for LUCENE-4899 where FastVectorHighlihgter failed with StringIndexOutOfBoundsException
if a single highlight phrase or term was greater than the fragCharSize producing negative string offsets

The fixed BaseFragListBuilder was added as XSimpleFragListBuilder which triggers an assert once Elasticsearch
upgrades to Lucene 4.3

time:
2013-04-26T17:16:21Z
class:
src/main/java/org/apache/lucene/analysis/miscellaneous/XStemmerOverrideFilter.java
comments:
Add assert that fails one Elasticsearch upgrades to Lucene 4.3 in order to remove the duplicated class

time:
2013-04-26T08:34:10Z
class:
src/main/java/org/elasticsearch/common/settings/ImmutableSettings.java
src/test/java/org/elasticsearch/test/unit/common/settings/ImmutableSettingsTests.java
comments:
Fixing possible NoClassDefFoundError when trying to load nonexisting classes

In order to handle exceptions correctly, when classes are not found, one
needs to handle ClassNotFoundException as well as NoClassDefFoundError
in order to be sure to have caught every possible case. We did not cater
for the latter in ImmutableSettings yet.

This fix is just executing the same logic for both exceptions instead of
simply bubbling up NoClassDefFoundError.

time:
2013-04-25T08:46:24Z
class:
src/main/java/org/elasticsearch/monitor/os/OsStats.java
src/main/java/org/elasticsearch/monitor/os/SigarOsProbe.java
comments:
Added stolen time to OsStats output

time:
2013-04-25T07:38:58Z
class:
src/test/java/org/elasticsearch/test/unit/common/compress/CompressedStringTests.java
comments:
no longer support snappy...

time:
2013-04-25T06:25:31Z
class:
src/main/java/org/elasticsearch/action/support/replication/ReplicationType.java
comments:
Fix serialization of sync/async replication type

time:
2013-04-24T08:24:15Z
class:
src/main/java/org/elasticsearch/index/query/HasChildFilterParser.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentFilterParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryParser.java
comments:
If searchContext not set, abort parsing and throw ISE

time:
2013-04-23T11:32:35Z
class:
src/main/java/org/elasticsearch/search/dfs/CachedDfSource.java
src/main/java/org/elasticsearch/search/query/QueryPhase.java
src/test/java/org/elasticsearch/test/integration/search/query/SimpleQueryTests.java
comments:
Fall back to local statistics if global statistics are not availalbe for a field or term

Closes #2926

time:
2013-04-23T11:29:19Z
class:
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/StringScriptDataComparator.java
src/test/java/org/elasticsearch/test/integration/search/sort/SimpleSortTests.java
comments:
Cut over StringScriptDataComparator to use BytesRef instead of Strings

Closes #2920

time:
2013-04-23T08:35:40Z
class:
src/main/java/org/elasticsearch/index/fielddata/ordinals/DocIdOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/EmptyOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/MultiFlatArrayOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/Ordinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/SingleArrayOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/SinglePackedOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/SparseMultiArrayOrdinals.java
src/main/java/org/elasticsearch/search/facet/terms/strings/TermsStringOrdinalsFacetExecutor.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/ordinals/MultiOrdinalsTests.java
comments:
Remove per-doc ord collector callback infavor of an iterator

time:
2013-04-19T20:16:42Z
class:
src/test/java/org/elasticsearch/test/integration/search/query/SimpleQueryTests.java
comments:
Added more test assertions

time:
2013-04-19T19:40:01Z
class:
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/DoubleValuesComparatorBase.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/FloatValuesComparator.java
comments:
use Double/Float.compare for stable and correct float sort order

time:
2013-04-19T19:40:01Z
class:
src/test/java/org/elasticsearch/test/integration/search/query/SimpleQueryTests.java
comments:
Added tests for multi_match with minimum_should_match

time:
2013-04-19T19:39:54Z
class:
src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
comments:
Apply minimum_should_match to inner clauses of multi_match query
When specifying minimum_should_match in a multi_match query it was being applied
to the outer bool query instead of to each of the inner field-specific bool queries.

Closes #2918

time:
2013-04-19T10:49:06Z
class:
src/main/java/org/elasticsearch/index/fielddata/plain/FSTBytesAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FSTBytesIndexFieldData.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/DuellFieldDataTest.java
comments:
Support empty string in FSTBytesAtomicFieldData

time:
2013-04-19T10:36:12Z
class:
src/main/java/org/elasticsearch/common/DefaultCacheRecycler.java
comments:
remove size bound from cache recycler for performance reasons

time:
2013-04-19T09:48:28Z
class:
src/main/java/org/elasticsearch/common/CacheRecycler.java
comments:
s/ES.RECYCLE/es.cache.recycle

time:
2013-04-19T09:45:33Z
class:
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/common/CacheRecycler.java
src/main/java/org/elasticsearch/common/DefaultCacheRecycler.java
src/main/java/org/elasticsearch/common/NoCacheCacheRecycler.java
src/main/java/org/elasticsearch/rest/action/admin/indices/cache/clear/RestClearIndicesCacheAction.java
src/test/java/org/elasticsearch/test/integration/document/DocumentActionsTests.java
comments:
allow CacheRecycler to be cleared via the REST API

time:
2013-04-18T17:14:19Z
class:
src/main/java/org/elasticsearch/common/CacheRecycler.java
src/main/java/org/elasticsearch/common/DefaultCacheRecycler.java
src/main/java/org/elasticsearch/common/NoCacheCacheRecycler.java
src/main/java/org/elasticsearch/common/Recycler.java
comments:
make object caching optional

time:
2013-04-18T09:34:58Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/settings/ClusterUpdateSettingsResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/rest/XContentRestResponse.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/settings/RestClusterUpdateSettingsAction.java
src/test/java/org/elasticsearch/test/unit/cluster/settings/ClusterSettingsTests.java
comments:
# Response for Cluster Settings Update API

If cluster settings are update the REST API returns the accepted values. For
example, updating the `cluster.routing.allocation.disable_allocation` via
cluster settings:

```curl -XPUT http://localhost:9200/_cluster/settings -d '{
    "transient":{
        "cluster.routing.allocation.disable_allocation":"true"
    }
}'```

will respond:

```{
    "persistent":{},
    "transient":{
        "cluster.routing.allocation.disable_allocation":"true"
    }
}```

Closes #2907

time:
2013-04-18T08:57:08Z
class:
src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java
src/main/java/org/elasticsearch/common/xcontent/support/XContentMapConverter.java
src/test/java/org/elasticsearch/test/unit/common/xcontent/builder/XContentBuilderTests.java
comments:
If a value/field is a Calendar, it will be converted to a Date using getTime()
Closes #2911

time:
2013-04-17T21:28:38Z
class:
src/main/java/org/elasticsearch/common/util/concurrent/ConcurrentCollections.java
src/main/java/org/elasticsearch/common/util/concurrent/ConcurrentHashMapLong.java
src/main/java/org/elasticsearch/index/engine/robin/RobinEngine.java
src/main/java/org/elasticsearch/search/SearchService.java
src/main/java/org/elasticsearch/transport/TransportService.java
comments:
use more aggressive concurrency levels for CHM
- long running ones with high update rates
- also expose a *system* property of es.useConcurrentHashMapV8 to use the new non blocking Java8 CHM impl

time:
2013-04-17T01:08:57Z
class:
src/main/java/org/elasticsearch/index/search/stats/SearchStats.java
src/main/java/org/elasticsearch/index/search/stats/ShardSearchService.java
src/main/java/org/elasticsearch/search/SearchService.java
comments:
Search Stats: Add current open searches
closes #2906

time:
2013-04-16T15:20:22Z
class:
src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
src/main/java/org/elasticsearch/cluster/routing/operation/plain/PlainOperationRouting.java
src/test/java/org/elasticsearch/test/integration/search/preference/SearchPreferenceTests.java
comments:
only return primary if it is active in PlainOperationRounting

Closes #2896

time:
2013-04-16T14:29:54Z
class:
src/main/java/org/elasticsearch/index/codec/CodecModule.java
src/main/java/org/elasticsearch/index/codec/postingsformat/PostingsFormatService.java
src/main/java/org/elasticsearch/indices/IndexCreationException.java
comments:
Better error messaging when postings_format can be resolved or when a custom postings_format type can't be instantiated.
Relates to #2893

time:
2013-04-16T12:42:45Z
class:
src/main/java/org/elasticsearch/index/query/HasChildFilterBuilder.java
src/main/java/org/elasticsearch/index/query/HasChildFilterParser.java
src/main/java/org/elasticsearch/index/query/HasParentFilterBuilder.java
src/main/java/org/elasticsearch/index/query/HasParentFilterParser.java
src/main/java/org/elasticsearch/index/search/child/HasChildFilter.java
src/main/java/org/elasticsearch/index/search/child/HasParentFilter.java
comments:
Added support for the `_cache` and` _cache_key` options to the `has_child` and `has_parent` filters.
Closes #2900

time:
2013-04-16T09:22:48Z
class:
src/main/java/org/elasticsearch/common/geo/ShapeBuilder.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/main/java/org/elasticsearch/index/query/FilterBuilders.java
src/main/java/org/elasticsearch/index/query/GeoShapeFilterBuilder.java
src/test/java/org/elasticsearch/test/integration/search/geo/GeoFilterTests.java
src/test/java/org/elasticsearch/test/integration/search/geo/GeoShapeIntegrationTests.java
src/test/java/org/elasticsearch/test/unit/common/geo/ShapeBuilderTests.java
comments:
Allow PolygonBuilder to create polygons with hole

Closes #2899

time:
2013-04-16T08:06:53Z
class:
src/main/java/org/elasticsearch/common/regex/Regex.java
src/test/java/org/elasticsearch/test/unit/common/regex/RegexTests.java
comments:
Added UNICODE_CHARACTER_CLASS support to Regex flags. This flag is only supported in Java7 and is ignored if set on a java 6 JVM

Closes #2895

time:
2013-04-13T20:58:30Z
class:
src/main/java/org/elasticsearch/index/fielddata/ScriptDocValues.java
comments:
Added missing support for lat, lats, lon, lons for doc notation in scripts

time:
2013-04-13T19:42:53Z
class:
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IntArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/LongArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ShortArrayIndexFieldData.java
comments:
Optimization in fielddata cache where ordinals are used instead of flat arrays when number of unique values is low

time:
2013-04-13T00:55:45Z
class:
src/main/java/org/elasticsearch/cluster/settings/ClusterDynamicSettingsModule.java
src/main/java/org/elasticsearch/cluster/settings/Validator.java
src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
src/test/java/org/elasticsearch/test/unit/cluster/settings/SettingsValidatorTests.java
comments:
Add more dynamic settings validation

time:
2013-04-12T22:58:24Z
class:
src/main/java/org/elasticsearch/rest/action/admin/indices/cache/clear/RestClearIndicesCacheAction.java
comments:
Clear Cache API: Streamline option names
closes #2890

time:
2013-04-12T22:51:08Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsResponse.java
src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStatsFlags.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
src/main/java/org/elasticsearch/common/path/PathTrie.java
src/main/java/org/elasticsearch/index/fielddata/FieldDataStats.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataCache.java
src/main/java/org/elasticsearch/index/fielddata/ShardFieldData.java
src/main/java/org/elasticsearch/index/shard/service/IndexShard.java
src/main/java/org/elasticsearch/index/shard/service/InternalIndexShard.java
src/main/java/org/elasticsearch/indices/InternalIndicesService.java
src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/node/stats/RestNodesStatsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/stats/RestIndicesStatsAction.java
src/test/java/org/elasticsearch/test/integration/indices/cache/CacheTests.java
src/test/java/org/elasticsearch/test/unit/common/path/PathTrieTests.java
comments:
Expose field level field data statistics
closes #2889

time:
2013-04-12T20:27:51Z
class:
src/main/java/org/elasticsearch/index/query/BaseFilterBuilder.java
comments:
Add toString() for FilterBuilders
Closes #2887.

time:
2013-04-12T17:14:38Z
class:
src/test/java/org/elasticsearch/test/integration/indices/cache/CacheTests.java
comments:
CacheTests test fix.

time:
2013-04-12T17:11:18Z
class:
src/main/java/org/elasticsearch/index/fielddata/plain/IntArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ShortArrayIndexFieldData.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/IntFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/ShortFieldDataTests.java
comments:
Field data: Try to load short values as byte values and load int values as short or byte values to reduce the size they take in memory.

time:
2013-04-12T15:38:52Z
class:
src/main/java/org/elasticsearch/index/fielddata/plain/IntArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/LongArrayAtomicFieldData.java
comments:
fix memory computation for int field data

time:
2013-04-12T13:24:50Z
class:
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/test/java/org/elasticsearch/test/integration/indices/cache/CacheTests.java
comments:
If no options are specified with the clear cache api then all caches should be cleared.
Closes #2886

time:
2013-04-11T14:59:14Z
class:
src/test/java/org/elasticsearch/test/integration/threadpool/SimpleThreadPoolTests.java
comments:
Make sure that settings are propagated to all nodes

time:
2013-04-11T08:22:48Z
class:
src/test/java/org/elasticsearch/test/unit/index/fielddata/StringFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/ordinals/MultiOrdinalsTests.java
comments:
Test that size is actually computed.
Relates to #2882

time:
2013-04-10T15:39:32Z
class:
src/main/java/org/elasticsearch/search/suggest/SuggestUtils.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestionBuilder.java
src/main/java/org/elasticsearch/search/suggest/term/TermSuggestionBuilder.java
src/test/java/org/elasticsearch/test/integration/search/suggest/SuggestSearchTests.java
comments:
rename prefix_length to prefix_len for consistency

Closes #2883

time:
2013-04-10T12:50:07Z
class:
src/main/java/org/elasticsearch/index/fielddata/ordinals/SparseMultiArrayOrdinals.java
comments:
Ordinals were omitted from fielddata cache size calculation if field has more than one term.
Closes #2882

time:
2013-04-10T09:11:52Z
class:
src/main/java/org/elasticsearch/search/facet/statistical/StatisticalFacetParser.java
src/main/java/org/elasticsearch/search/facet/termsstats/TermsStatsFacetParser.java
comments:
Better error description if field(s) (statistical facet) and value_field (term_stats facet) are not a numeric field

time:
2013-04-10T08:00:51Z
class:
src/test/java/org/elasticsearch/test/integration/search/facet/ExtendedFacetsTestsMultiShardMultiNodeTests.java
comments:
Should prevent OOM

time:
2013-04-09T22:47:00Z
class:
src/test/java/org/elasticsearch/test/integration/search/facet/ExtendedFacetsTests.java
comments:
Fix for extended facets test.

time:
2013-04-09T16:44:49Z
class:
comments:
upgrade to netty 3.6.5

time:
2013-04-09T16:42:35Z
class:
src/main/java/org/elasticsearch/search/facet/terms/strings/ScriptTermsStringFieldFacetExecutor.java
src/test/java/org/elasticsearch/test/integration/search/facet/SimpleFacetsTests.java
comments:
Fix term counters in script field terms facet

Fixes #2878

time:
2013-04-09T13:53:05Z
class:
src/main/java/org/elasticsearch/index/fielddata/plain/AbstractBytesIndexFieldData.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
src/test/java/org/elasticsearch/test/integration/search/facet/SimpleFacetsTests.java
comments:
Configure FieldData using a hash not a string

Closes #2876

time:
2013-04-09T09:34:48Z
class:
src/main/java/org/elasticsearch/index/fielddata/plain/AbstractBytesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ConcreteBytesRefIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FSTBytesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesIndexFieldData.java
src/test/java/org/elasticsearch/test/integration/search/facet/SimpleFacetsTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/DuellFieldDataTest.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/FilterFieldDataTest.java
comments:
# FieldData Filter

FieldData is an in-memory representation of the term dictionary in an uninverted form. Under certain circumstances this FieldData representation can grow very large on high-cardinality fields like tokenized full-text. Depending on the use-case filtering the terms that are hold in the FieldData representation can heavily improve execution performance and application stability.
FieldData Filters can be applied on a per-segment basis. During FieldData loading the terms enumeration is passed through a filter predicate that  either accepts or rejects a term.

## Frequency Filter

The Frequency Filter acts as a high / low pass filter based on the document frequencies of a certain term within the segment that is loaded into field data. It allows to reject terms that are very high or low frequent based on absolute frequencies or percentages relative to the number of documents in the segment or more precise the number of document that have at least one value in the field that is loaded in the current segment.

Here is an example mapping

Here is an example mapping:

```json
{
    "tweet" : {
        "properties" : {
            "locale" : {
                "type" : "string",
                "fielddata" : "format=paged_bytes;filter.frequency.min=0.001;filter.frequency.max=0.1",
                "index" : "analyzed",
            }
        }
    }
}
```
### Paramters

 * `filter.frequency.min` - the minimum document frequency (inclusive) in order to be loaded in to memory. Either a percentage if < `1.0` or an absolute value. `0` if omitted.
 * `filter.frequency.max` - the maximum document frequency (inclusive) in order to be loaded in to memory. Either a percentage if < `1.0` or an absolute value. `0` if omitted.
 * `filter.frequency.min_segment_size` - the minimum number of documents in a segment in order for the filter to be applied. Small segments might be omitted with this setting.

## Regular Expression Filter

The regular expression filter applies a regular expression to each term  during loading and only loads terms into memory that match the given regular expression.

Here is an example mapping:

```json
{
    "tweet" : {
        "properties" : {
            "locale" : {
                "type" : "string",
                "fielddata" : "format=paged_bytes;filter.regex=^en_.*",
                "index" : "analyzed",
            }
        }
    }
}
```

Closes #2874

time:
2013-04-08T23:12:20Z
class:
src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateMetaData.java
src/main/java/org/elasticsearch/common/xcontent/ToXContent.java
src/main/java/org/elasticsearch/rest/action/admin/indices/template/get/RestGetIndexTemplateAction.java
comments:
Get template should return warmers

Fixes #2868

time:
2013-04-08T21:29:56Z
class:
src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStatsFlags.java
src/test/java/org/elasticsearch/test/integration/indices/stats/SimpleIndexStatsTests.java
comments:
ensure that modificatons to the enum order trigger test failures since we rely on the ordinal

time:
2013-04-08T20:56:11Z
class:
src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStatsFlags.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequest.java
src/main/java/org/elasticsearch/indices/InternalIndicesService.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/node/stats/RestNodesStatsAction.java
src/test/java/org/elasticsearch/test/integration/indices/stats/SimpleIndexStatsTests.java
comments:
use enum to represent flags and fail if flags are not respected

time:
2013-04-08T20:25:09Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/template/get/RestGetIndexTemplateAction.java
comments:
Fix IndexMissingException in get template request

Fixes #2873

time:
2013-04-08T12:48:29Z
class:
src/main/java/org/elasticsearch/Version.java
comments:
move to 0.90.0.RC3 snap

time:
2013-04-08T12:46:26Z
class:
src/main/java/org/elasticsearch/Version.java
comments:
release 0.90.0.RC2

time:
2013-04-08T03:22:48Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStatsFlags.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequest.java
src/main/java/org/elasticsearch/indices/IndicesService.java
src/main/java/org/elasticsearch/indices/InternalIndicesService.java
src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
src/main/java/org/elasticsearch/node/service/NodeService.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/node/stats/RestNodesStatsAction.java
comments:
Node Stats: Allow to explicitly get specific indices level node stats element
closes #2871

time:
2013-04-08T01:30:24Z
class:
src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
src/main/java/org/elasticsearch/index/fielddata/AbstractIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataCache.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/index/fielddata/ShardFieldData.java
src/main/java/org/elasticsearch/index/fielddata/ShardFieldDataModule.java
src/main/java/org/elasticsearch/index/service/InternalIndexService.java
src/main/java/org/elasticsearch/index/shard/service/IndexShard.java
src/main/java/org/elasticsearch/index/shard/service/InternalIndexShard.java
src/main/java/org/elasticsearch/indices/InternalIndicesService.java
src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
src/main/java/org/elasticsearch/rest/action/admin/indices/stats/RestIndicesStatsAction.java
src/test/java/org/elasticsearch/test/integration/indices/cache/CacheTests.java
comments:
FieldData Stats: Add field data stats to indices stats API
closes #2870

time:
2013-04-07T19:52:19Z
class:
src/test/java/org/elasticsearch/test/integration/search/facet/ExtendedFacetsTests.java
comments:
Also test the `fields` option.

time:
2013-04-06T20:41:22Z
class:
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
comments:
Use IndexOption.DOCS_ONLY for boolean fields

Closes #2866

time:
2013-04-05T22:02:42Z
class:
src/main/java/org/elasticsearch/common/lucene/docset/DocIdSets.java
src/main/java/org/elasticsearch/index/cache/filter/ShardFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/weighted/WeightedFilterCache.java
src/main/java/org/elasticsearch/index/cache/id/IdReaderCache.java
src/main/java/org/elasticsearch/index/cache/id/simple/SimpleIdCache.java
src/main/java/org/elasticsearch/index/cache/id/simple/SimpleIdReaderCache.java
src/main/java/org/elasticsearch/indices/cache/filter/IndicesFilterCache.java
comments:
improve on shard level filter/id cache stats
use just the removal listener and back to the IndexReader#coreCacheKey as the actual field as part of the cache key

time:
2013-04-05T21:27:03Z
class:
src/main/java/org/elasticsearch/index/engine/robin/RobinEngine.java
comments:
confusing code..., but we can't release the searcher in a get result case
we need that searcher later on..., need to think of how to simplify that..., added a comment for now

time:
2013-04-05T20:45:52Z
class:
src/main/java/org/elasticsearch/index/engine/robin/RobinEngine.java
comments:
release searcher in finally block rather than relying on an exception that is thrown

time:
2013-04-05T18:02:32Z
class:
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
src/main/java/org/elasticsearch/index/cache/CacheStats.java
src/main/java/org/elasticsearch/index/cache/IndexCache.java
src/main/java/org/elasticsearch/index/cache/filter/FilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/FilterCacheStats.java
src/main/java/org/elasticsearch/index/cache/filter/ShardFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/ShardFilterCacheModule.java
src/main/java/org/elasticsearch/index/cache/filter/none/NoneFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/weighted/WeightedFilterCache.java
src/main/java/org/elasticsearch/index/cache/id/IdCache.java
src/main/java/org/elasticsearch/index/cache/id/IdCacheStats.java
src/main/java/org/elasticsearch/index/cache/id/IdReaderCache.java
src/main/java/org/elasticsearch/index/cache/id/ShardIdCache.java
src/main/java/org/elasticsearch/index/cache/id/ShardIdCacheModule.java
src/main/java/org/elasticsearch/index/cache/id/simple/SimpleIdCache.java
src/main/java/org/elasticsearch/index/cache/id/simple/SimpleIdReaderCache.java
src/main/java/org/elasticsearch/index/service/InternalIndexService.java
src/main/java/org/elasticsearch/index/shard/ShardUtils.java
src/main/java/org/elasticsearch/index/shard/service/IndexShard.java
src/main/java/org/elasticsearch/index/shard/service/InternalIndexShard.java
src/main/java/org/elasticsearch/index/store/Store.java
src/main/java/org/elasticsearch/indices/InternalIndicesService.java
src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
src/main/java/org/elasticsearch/rest/action/admin/indices/stats/RestIndicesStatsAction.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
src/test/java/org/elasticsearch/test/integration/indices/cache/ClearCacheTests.java
comments:
Filter / Id Cache Stats: Add to Indices Stats API, revise node stats API
closes #2862

time:
2013-04-05T16:12:50Z
class:
src/main/java/org/elasticsearch/index/fielddata/BytesValues.java
src/main/java/org/elasticsearch/index/fielddata/plain/ConcreteBytesRefAtomicFieldData.java
src/main/java/org/elasticsearch/search/facet/terms/strings/FieldsTermsStringFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/terms/strings/HashedAggregator.java
src/main/java/org/elasticsearch/search/facet/terms/strings/HashedScriptAggregator.java
src/main/java/org/elasticsearch/search/facet/terms/strings/TermsStringFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/termsstats/longs/TermsStatsLongFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/termsstats/strings/TermsStatsStringFacetExecutor.java
src/test/java/org/elasticsearch/test/integration/search/facet/SimpleFacetsTests.java
comments:
Added more evil tests for different field data implementations

time:
2013-04-05T15:38:46Z
class:
src/main/java/org/elasticsearch/search/facet/terms/strings/HashedScriptAggregator.java
src/test/java/org/elasticsearch/test/integration/search/facet/ExtendedFacetsTests.java
src/test/java/org/elasticsearch/test/integration/search/facet/ExtendedFacetsTestsMultiShardMultiNodeTests.java
comments:
Added an extended test for terms facet with a decent number of documents / field values and randomly tests various options. Also fixed an issue where `regex` and `excludes` were ignored when `all_terms` was used.

time:
2013-04-05T13:00:28Z
class:
src/test/java/org/elasticsearch/test/integration/nodesinfo/SimpleNodesInfoTests.java
comments:
Fix test for #2668.

time:
2013-04-05T12:27:19Z
class:
src/main/java/org/elasticsearch/search/facet/terms/TermsFacetParser.java
src/main/java/org/elasticsearch/search/facet/terms/doubles/TermsDoubleFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/terms/longs/TermsLongFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/terms/strings/FieldsTermsStringFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/terms/strings/HashedAggregator.java
src/main/java/org/elasticsearch/search/facet/terms/strings/TermsStringFacetExecutor.java
src/test/java/org/elasticsearch/test/integration/search/facet/SimpleFacetsTests.java
comments:
Made sure `all_terms` works consistently. In some cases the `all_terms` option was ignored: * Faceting on number based fields. * The `execution_type` was set to `map`. * In the case the `fields` option was used.

Closes #2861

time:
2013-04-05T11:56:33Z
class:
src/main/java/org/elasticsearch/index/fielddata/DoubleValues.java
src/main/java/org/elasticsearch/index/fielddata/LongValues.java
src/main/java/org/elasticsearch/index/fielddata/plain/ByteArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IntArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/LongArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ShortArrayAtomicFieldData.java
comments:
rename getByOrd to getValueByOrd (to match BytesValues.WithOrdinals)
also make it public so it can be used when iterating over ords

time:
2013-04-05T11:33:56Z
class:
src/main/java/org/elasticsearch/index/fielddata/DoubleValues.java
src/main/java/org/elasticsearch/index/fielddata/LongValues.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/DoubleValuesComparatorBase.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/LongValuesComparatorBase.java
src/main/java/org/elasticsearch/index/fielddata/plain/ByteArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IntArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/LongArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ShortArrayAtomicFieldData.java
comments:
make numeric namings consistent with bytes ones
also add the ability to get the ordinals from DoubleValues.WithOrdinals and LongValues.WithOrdinals

time:
2013-04-05T09:36:56Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/PluginInfo.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/PluginsInfo.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
src/main/java/org/elasticsearch/node/service/NodeService.java
src/main/java/org/elasticsearch/plugins/PluginsService.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/node/info/RestNodesInfoAction.java
src/test/java/org/elasticsearch/test/integration/nodesinfo/SimpleNodesInfoTests.java
src/test/java/org/elasticsearch/test/integration/nodesinfo/plugin/dummy1/TestPlugin.java
src/test/java/org/elasticsearch/test/integration/nodesinfo/plugin/dummy2/TestNoVersionPlugin.java
comments:
List of existing plugins with Node Info API
We want to display information about loaded plugins in Node Info API using plugin option:

```sh
curl http://localhost:9200/_nodes?plugin=true
```

For example, on a 4 nodes cluster, it could provide the following output:

```javascript
{
  "ok" : true,
  "cluster_name" : "test-cluster-MacBook-Air-de-David.local",
  "nodes" : {
    "lodYfbFTRnmwE6rjWGGyQQ" : {
      "name" : "node1",
      "transport_address" : "inet[/172.18.58.139:9300]",
      "hostname" : "MacBook-Air-de-David.local",
      "version" : "0.90.0.Beta2-SNAPSHOT",
      "http_address" : "inet[/172.18.58.139:9200]",
      "plugins" : [ ]
    },
    "hJLXmY_NTrCytiIMbX4_1g" : {
      "name" : "node4",
      "transport_address" : "inet[/172.18.58.139:9303]",
      "hostname" : "MacBook-Air-de-David.local",
      "version" : "0.90.0.Beta2-SNAPSHOT",
      "http_address" : "inet[/172.18.58.139:9203]",
      "plugins" : [ {
        "name" : "test-plugin",
        "description" : "test-plugin description",
        "site" : true,
        "jvm" : false
      }, {
        "name" : "test-no-version-plugin",
        "description" : "test-no-version-plugin description",
        "site" : true,
        "jvm" : false
      }, {
        "name" : "dummy",
        "description" : "No description found for dummy.",
        "url" : "/_plugin/dummy/",
        "site" : false,
        "jvm" : true
      } ]
    },
    "bnoySsBfTrSzbDRZ0BFHvg" : {
      "name" : "node2",
      "transport_address" : "inet[/172.18.58.139:9301]",
      "hostname" : "MacBook-Air-de-David.local",
      "version" : "0.90.0.Beta2-SNAPSHOT",
      "http_address" : "inet[/172.18.58.139:9201]",
      "plugins" : [ {
        "name" : "dummy",
        "description" : "This is a description for a dummy test site plugin.",
        "url" : "/_plugin/dummy/",
        "site" : false,
        "jvm" : true
      } ]
    },
    "0Vwil01LSfK9YgRrMce3Ug" : {
      "name" : "node3",
      "transport_address" : "inet[/172.18.58.139:9302]",
      "hostname" : "MacBook-Air-de-David.local",
      "version" : "0.90.0.Beta2-SNAPSHOT",
      "http_address" : "inet[/172.18.58.139:9202]",
      "plugins" : [ {
        "name" : "test-plugin",
        "description" : "test-plugin description",
        "site" : true,
        "jvm" : false
      } ]
    }
  }
}
```

Information are cached for 10 seconds by default. Modify `plugins.info_refresh_interval` property if needed.
Setting `plugins.info_refresh_interval` to `-1` will cause infinite caching.
Setting `plugins.info_refresh_interval` to `0` will disable caching.

Closes #2668.

time:
2013-04-05T09:05:24Z
class:
src/test/java/org/elasticsearch/test/integration/search/facet/SimpleFacetsTests.java
comments:
beef up term facet tests

time:
2013-04-05T08:36:53Z
class:
src/main/java/org/elasticsearch/search/facet/terms/strings/HashedScriptAggregator.java
src/test/java/org/elasticsearch/test/integration/search/facet/ConcurrentDuel.java
src/test/java/org/elasticsearch/test/integration/search/facet/SimpleFacetsTests.java
comments:
Added test that compares concurrent facet execution results with a serial execution result

time:
2013-04-04T22:44:07Z
class:
src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ByteArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IntArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/LongArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ShortArrayIndexFieldData.java
comments:
allow to disable the optimization of removal of ords on single value numerics/geo field data
field data settings in the mappings can have ordinals=always option

time:
2013-04-04T21:24:49Z
class:
src/main/java/org/elasticsearch/threadpool/ThreadPool.java
src/test/java/org/elasticsearch/test/integration/threadpool/SimpleThreadPoolTests.java
src/test/java/org/elasticsearch/test/unit/threadpool/UpdateThreadPoolSettingsTests.java
comments:
Thread Pool: Update default settings (move from default cached to fixed)
closes #2858

time:
2013-04-04T20:58:38Z
class:
src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
src/main/java/org/elasticsearch/action/get/TransportMultiGetAction.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java
src/main/java/org/elasticsearch/action/search/TransportMultiSearchAction.java
src/main/java/org/elasticsearch/action/search/TransportSearchAction.java
src/main/java/org/elasticsearch/action/search/TransportSearchScrollAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryThenFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryAndFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryThenFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
src/main/java/org/elasticsearch/action/support/TransportAction.java
src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastOperationAction.java
src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeOperationAction.java
src/main/java/org/elasticsearch/action/support/nodes/TransportNodesOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportIndexReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportIndicesReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/single/custom/TransportSingleCustomOperationAction.java
src/main/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationAction.java
src/main/java/org/elasticsearch/action/support/single/shard/TransportShardSingleOperationAction.java
src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
src/main/java/org/elasticsearch/common/util/SlicedLongList.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/health/RestClusterHealthAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/node/hotthreads/RestNodesHotThreadsAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/node/info/RestNodesInfoAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/node/restart/RestNodesRestartAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/node/shutdown/RestNodesShutdownAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/node/stats/RestNodesStatsAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/reroute/RestClusterRerouteAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/settings/RestClusterGetSettingsAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/settings/RestClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/shards/RestClusterSearchShardsAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/state/RestClusterStateAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/alias/RestGetIndicesAliasesAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/alias/RestIndicesAliasesAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/cache/clear/RestClearIndicesCacheAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/create/RestCreateIndexAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/exists/indices/RestIndicesExistsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/exists/types/RestTypesExistsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/flush/RestFlushAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/gateway/snapshot/RestGatewaySnapshotAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/mapping/get/RestGetMappingAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/optimize/RestOptimizeAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/refresh/RestRefreshAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/segments/RestIndicesSegmentsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/settings/RestGetSettingsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/settings/RestUpdateSettingsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/stats/RestIndicesStatsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/status/RestIndicesStatusAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/template/get/RestGetIndexTemplateAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/validate/query/RestValidateQueryAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/warmer/get/RestGetWarmerAction.java
src/main/java/org/elasticsearch/rest/action/bulk/RestBulkAction.java
src/main/java/org/elasticsearch/rest/action/count/RestCountAction.java
src/main/java/org/elasticsearch/rest/action/delete/RestDeleteAction.java
src/main/java/org/elasticsearch/rest/action/deletebyquery/RestDeleteByQueryAction.java
src/main/java/org/elasticsearch/rest/action/explain/RestExplainAction.java
src/main/java/org/elasticsearch/rest/action/get/RestGetAction.java
src/main/java/org/elasticsearch/rest/action/get/RestHeadAction.java
src/main/java/org/elasticsearch/rest/action/get/RestMultiGetAction.java
src/main/java/org/elasticsearch/rest/action/index/RestIndexAction.java
src/main/java/org/elasticsearch/rest/action/main/RestMainAction.java
src/main/java/org/elasticsearch/rest/action/mlt/RestMoreLikeThisAction.java
src/main/java/org/elasticsearch/rest/action/percolate/RestPercolateAction.java
src/main/java/org/elasticsearch/rest/action/search/RestMultiSearchAction.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchScrollAction.java
src/main/java/org/elasticsearch/rest/action/suggest/RestSuggestAction.java
src/main/java/org/elasticsearch/rest/action/update/RestUpdateAction.java
comments:
Catch Throwable when listener is called rather then Exception to prevent possible hangs if fatal exceptions or errors are thrown

time:
2013-04-04T14:30:24Z
class:
src/main/java/org/elasticsearch/common/property/PropertyPlaceholder.java
src/main/java/org/elasticsearch/common/settings/ImmutableSettings.java
comments:
Settings / Config: Allow to explicitly specify external environment variable syntax, in which case its optional
fixes #2855

time:
2013-04-04T14:07:54Z
class:
src/main/java/org/elasticsearch/common/util/SlicedDoubleList.java
src/main/java/org/elasticsearch/common/util/SlicedLongList.java
src/main/java/org/elasticsearch/common/util/SlicedObjectList.java
src/main/java/org/elasticsearch/index/fielddata/AtomicNumericFieldData.java
src/main/java/org/elasticsearch/index/fielddata/ScriptDocValues.java
src/main/java/org/elasticsearch/index/fielddata/plain/ByteArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IntArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/LongArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ShortArrayAtomicFieldData.java
src/test/java/org/elasticsearch/test/integration/search/sort/SimpleSortTests.java
src/test/java/org/elasticsearch/test/unit/common/util/SlicedDoubleListTests.java
src/test/java/org/elasticsearch/test/unit/common/util/SlicedLongListTests.java
src/test/java/org/elasticsearch/test/unit/common/util/SlicedObjectListTests.java
comments:
Cleanup ScriptDocValues. This commit adds a getValues method to all ScriptDocValues for easy access
in scripts via doc['field'].values / value.

time:
2013-04-04T13:55:12Z
class:
src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SizeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
src/test/java/org/elasticsearch/test/unit/index/mapper/timestamp/TimestampMappingTests.java
comments:
Returning configuration of root field mappers toXContent method only if they are enabled

time:
2013-04-04T10:27:23Z
class:
src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
comments:
Fix for ttl fieldmapper to support disabling correctly. Also returning only booleans, not enums in toXContent

time:
2013-04-04T08:03:48Z
class:
src/main/java/org/elasticsearch/gateway/s3/S3Gateway.java
comments:
Merge pull request #23 from vinodc/s3gateway-us-west-2

Update S3Gateway to add us-west-2

time:
2013-04-04T08:03:23Z
class:
src/main/java/org/elasticsearch/cloud/aws/AwsEc2Service.java
src/main/java/org/elasticsearch/cloud/aws/AwsS3Service.java
comments:
Merge pull request #24 from wikka/sa-east-1

Sa east 1

time:
2013-04-04T08:00:15Z
class:
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SizeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
src/test/java/org/elasticsearch/test/unit/index/mapper/index/IndexTypeMapperTests.java
src/test/java/org/elasticsearch/test/unit/index/mapper/size/SizeMappingTests.java
src/test/java/org/elasticsearch/test/unit/index/mapper/timestamp/TimestampMappingTests.java
comments:
Merge branch 'field-mappers-fix' into master

This fixes #2136 and allows to disable the timestamp, index and size field mappers on runtime.

time:
2013-04-04T07:41:41Z
class:
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SizeFieldMapper.java
src/test/java/org/elasticsearch/test/unit/index/mapper/size/SizeMappingTests.java
comments:
Allowing to disable size field mapper after enabling

time:
2013-04-04T07:41:41Z
class:
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
src/test/java/org/elasticsearch/test/unit/index/mapper/index/IndexTypeMapperTests.java
comments:
Allowing to disable index field mapper after enabling

time:
2013-04-04T07:41:41Z
class:
src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
src/test/java/org/elasticsearch/test/unit/index/mapper/timestamp/TimestampMappingTests.java
comments:
Allowing to disable timestamp field mapper after enabling

time:
2013-04-03T17:45:32Z
class:
src/main/java/org/elasticsearch/cloud/aws/AwsS3Service.java
comments:
Adding sa-east-1 region.

time:
2013-04-03T17:31:10Z
class:
src/main/java/org/elasticsearch/cloud/aws/AwsEc2Service.java
comments:
Adding sa-east-1 region.

time:
2013-04-03T16:38:25Z
class:
src/main/java/org/elasticsearch/index/fielddata/BytesValues.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/index/fielddata/plain/FSTBytesAtomicFieldData.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/DuellFieldDataTest.java
comments:
Beef up FieldData tests by running one on one duells

time:
2013-04-03T16:07:42Z
class:
src/test/java/org/elasticsearch/test/integration/cluster/ClusterHealthTests.java
comments:
Improve stability of ClusterHealthTests

time:
2013-04-03T15:51:28Z
class:
src/test/java/org/elasticsearch/test/integration/cluster/MinimumMasterNodesTests.java
comments:
Improve stability of MinimumMasterNodesTests

time:
2013-04-03T15:25:16Z
class:
src/main/java/org/elasticsearch/index/fielddata/GeoPointValues.java
src/test/java/org/elasticsearch/test/integration/search/geo/GeoDistanceTests.java
comments:
Fixed issue where a doc is omitted from the hits if it has no geo point and sorting is based on geo distance.
Closes #2851

time:
2013-04-03T13:01:39Z
class:
comments:
Added `clean` to mvn command. In some cases when recompiling not all changes are detected (E.g. file move, already compiled classes don't get this change).

time:
2013-04-03T10:25:58Z
class:
src/main/java/org/elasticsearch/search/action/SearchServiceTransportAction.java
comments:
Call onFailure for every exception case even in the case of an error / runtime exception

Closes #2848

time:
2013-04-03T10:22:39Z
class:
src/main/java/org/apache/lucene/store/StoreRateLimiting.java
src/main/java/org/apache/lucene/store/XSimpleRateLimiter.java
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySettings.java
src/test/java/org/apache/lucene/store/XSimpleRateLimiterTest.java
comments:
Upgrade to Lucene 4.2.1

time:
2013-04-02T20:31:06Z
class:
src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
comments:
Fixed typo

time:
2013-04-02T17:06:17Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/test/java/org/elasticsearch/test/integration/cluster/ClusterHealthTests.java
src/test/java/org/elasticsearch/test/integration/indices/IgnoreIndicesTests.java
src/test/java/org/elasticsearch/test/integration/indices/exists/types/TypesExistsTests.java
src/test/java/org/elasticsearch/test/unit/cluster/metadata/MetaDataTests.java
comments:
If no specified index or alias exists and `ignore_indices` is set to `missing` an index missing error is returned instead of resolving to all open indices (e.g. when searching). This breaks backwards comp. with 0.20.x and before.
Closes #2837

time:
2013-04-02T16:15:33Z
class:
comments:
Initial commit

time:
2013-04-02T14:25:07Z
class:
comments:
Merge pull request #2758 from spinscale/maven-rpm

Add support for creating a RPM package with maven

time:
2013-04-02T14:19:45Z
class:
comments:
Add support for creating a fedora RPM package with maven

Note: This has been disabled by default and is therefore not included in a
standard build. The main reason for this is, that you need to have a RPM
binary and the rpm development packages installed, which is not the case
on many systems.

The package contains an init.d-script as well as systemd configurations.

You can build your own RPM package simply by running 'maven rpm:rpm'

time:
2013-04-02T11:25:56Z
class:
src/main/java/org/elasticsearch/index/cache/filter/weighted/WeightedFilterCache.java
comments:
fix seen readers counter
since clear can be called on percolator as well, we need to make sure we inc the counter even for non segment readers

time:
2013-04-02T10:44:39Z
class:
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
comments:
Field Data: Simplify field data cache settings
closes #2843

time:
2013-04-02T06:37:29Z
class:
src/main/java/org/elasticsearch/index/mapper/internal/EnabledAttributeMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
src/test/java/org/elasticsearch/test/unit/index/mapper/ttl/TTLMappingTests.java
comments:
Merge pull request #2811 from spinscale/document-mapper-merge

Allow to update ttl field mapping after initial creation. Fixes #2136

time:
2013-04-01T01:12:12Z
class:
src/main/java/org/elasticsearch/gateway/s3/S3Gateway.java
comments:
Update S3Gateway to add us-west-2

time:
2013-03-31T08:46:21Z
class:
src/main/java/org/elasticsearch/index/fielddata/ordinals/DocIdOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/EmptyOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/MultiFlatArrayOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/Ordinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/OrdinalsBuilder.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/PositiveIntPool.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/SingleArrayOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/SinglePackedOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/SparseMultiArrayOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/util/IntArrayRef.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/ordinals/MultiOrdinalsTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/ordinals/SparseMultiOrdinalsTests.java
comments:
Cut over to IntsRef in favor of IntsArrayRef

time:
2013-03-31T08:19:17Z
class:
src/main/java/org/elasticsearch/index/fielddata/BytesValues.java
src/main/java/org/elasticsearch/index/fielddata/GeoPointValues.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/BytesRefValComparator.java
src/main/java/org/elasticsearch/index/fielddata/plain/ByteArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ConcreteBytesRefAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/util/ByteArrayRef.java
src/main/java/org/elasticsearch/index/fielddata/util/BytesRefArrayRef.java
src/main/java/org/elasticsearch/index/fielddata/util/DoubleArrayRef.java
src/main/java/org/elasticsearch/index/fielddata/util/FloatArrayRef.java
src/main/java/org/elasticsearch/index/fielddata/util/GeoPointArrayRef.java
src/main/java/org/elasticsearch/index/fielddata/util/LongArrayRef.java
src/main/java/org/elasticsearch/index/fielddata/util/ShortArrayRef.java
src/main/java/org/elasticsearch/index/fielddata/util/StringArrayRef.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/NumericFieldDataTests.java
comments:
remove dead code

time:
2013-03-31T06:54:39Z
class:
src/main/java/org/elasticsearch/common/Bytes.java
src/main/java/org/elasticsearch/common/bytes/ByteBufferBytesReference.java
src/main/java/org/elasticsearch/common/bytes/BytesArray.java
src/main/java/org/elasticsearch/common/io/FastByteArrayOutputStream.java
src/main/java/org/elasticsearch/common/io/stream/BytesStreamOutput.java
src/test/java/org/elasticsearch/benchmark/transport/BenchmarkNettyLargeMessages.java
comments:
remove Bytes.java in favor of BytesRef / ArrayUtils

time:
2013-03-30T16:35:23Z
class:
src/main/java/org/elasticsearch/search/facet/terms/strings/TermsStringOrdinalsFacetExecutor.java
comments:
optimize matcher reset to not create unnecessary string objects

time:
2013-03-30T16:35:23Z
class:
src/main/java/org/elasticsearch/index/fielddata/AtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/AtomicGeoPointFieldData.java
src/main/java/org/elasticsearch/index/fielddata/AtomicNumericFieldData.java
src/main/java/org/elasticsearch/index/fielddata/BytesValues.java
src/main/java/org/elasticsearch/index/fielddata/ScriptDocValues.java
src/main/java/org/elasticsearch/index/fielddata/StringValues.java
src/main/java/org/elasticsearch/index/fielddata/plain/ByteArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ConcreteBytesRefAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FSTBytesAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IntArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/LongArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ShortArrayAtomicFieldData.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/AbstractFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/StringFieldDataTests.java
comments:
remove StringValues in favor of BytesValues

time:
2013-03-30T16:35:23Z
class:
src/main/java/org/elasticsearch/index/fielddata/DoubleValues.java
src/main/java/org/elasticsearch/index/fielddata/LongValues.java
src/main/java/org/elasticsearch/index/fielddata/StringValues.java
src/main/java/org/elasticsearch/index/fielddata/plain/ByteArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IntArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/LongArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ShortArrayAtomicFieldData.java
src/main/java/org/elasticsearch/search/facet/DoubleFacetAggregatorBase.java
src/main/java/org/elasticsearch/search/facet/datehistogram/ValueDateHistogramFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/histogram/CountHistogramFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/histogram/FullHistogramFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/histogram/ValueHistogramFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/histogram/ValueScriptHistogramFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/range/KeyValueRangeFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/range/RangeFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/statistical/StatisticalFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/statistical/StatisticalFieldsFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/terms/doubles/TermsDoubleFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/termsstats/doubles/TermsStatsDoubleFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/termsstats/longs/TermsStatsLongFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/termsstats/strings/TermsStatsStringFacetExecutor.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/AbstractFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/NumericFieldDataTests.java
comments:
clean-up double values

time:
2013-03-30T16:35:22Z
class:
src/main/java/org/elasticsearch/index/fielddata/DoubleValues.java
src/main/java/org/elasticsearch/index/fielddata/LongValues.java
src/main/java/org/elasticsearch/index/fielddata/StringValues.java
src/main/java/org/elasticsearch/index/fielddata/plain/ByteArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IntArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/LongArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ShortArrayAtomicFieldData.java
src/main/java/org/elasticsearch/search/facet/LongFacetAggregatorBase.java
src/main/java/org/elasticsearch/search/facet/datehistogram/CountDateHistogramFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/datehistogram/ValueDateHistogramFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/datehistogram/ValueScriptDateHistogramFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/terms/longs/TermsLongFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/termsstats/longs/TermsStatsLongFacetExecutor.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/AbstractFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/NumericFieldDataTests.java
comments:
clean-up long values

time:
2013-03-30T16:35:22Z
class:
src/main/java/org/elasticsearch/index/fielddata/DoubleValues.java
src/main/java/org/elasticsearch/index/fielddata/GeoPointValues.java
src/main/java/org/elasticsearch/index/fielddata/LongValues.java
src/main/java/org/elasticsearch/index/fielddata/ScriptDocValues.java
src/main/java/org/elasticsearch/index/fielddata/StringValues.java
src/main/java/org/elasticsearch/index/fielddata/plain/ByteArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IntArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/LongArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ShortArrayAtomicFieldData.java
src/main/java/org/elasticsearch/search/facet/geodistance/GeoDistanceFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/geodistance/ScriptGeoDistanceFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/geodistance/ValueGeoDistanceFacetExecutor.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/NumericFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/StringFieldDataTests.java
comments:
Remove getValues from numeric and string field data & clean up geo field data

time:
2013-03-30T16:35:22Z
class:
src/main/java/org/elasticsearch/index/fielddata/AtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/AtomicGeoPointFieldData.java
src/main/java/org/elasticsearch/index/fielddata/AtomicNumericFieldData.java
src/main/java/org/elasticsearch/index/fielddata/BytesValues.java
src/main/java/org/elasticsearch/index/fielddata/HashedBytesValues.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/BytesRefValComparator.java
src/main/java/org/elasticsearch/index/fielddata/plain/ByteArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ConcreteBytesRefAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FSTBytesAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FSTBytesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/HashedBytesValuesWithOrds.java
src/main/java/org/elasticsearch/index/fielddata/plain/IntArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/LongArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ShortArrayAtomicFieldData.java
src/main/java/org/elasticsearch/search/facet/terms/strings/FieldsTermsStringFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/terms/strings/HashedAggregator.java
src/main/java/org/elasticsearch/search/facet/terms/strings/HashedScriptAggregator.java
src/main/java/org/elasticsearch/search/facet/terms/strings/TermsStringFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/termsstats/strings/TermsStatsStringFacetExecutor.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/AbstractFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/StringFieldDataTests.java
comments:
Refactor BytesValues to be reused as the interface for HashedBytesValues and remove HashBytesValues.

time:
2013-03-30T16:35:22Z
class:
src/main/java/org/elasticsearch/index/fielddata/BytesValues.java
src/main/java/org/elasticsearch/index/fielddata/HashedBytesValues.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/index/fielddata/StringValues.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/BytesRefValComparator.java
src/main/java/org/elasticsearch/index/fielddata/plain/ByteArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ConcreteBytesRefAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FSTPackedBytesAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FSTPackedIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/HashedBytesValuesWithOrds.java
src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesIndexFieldData.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/FSTPackedBytesStringFieldDataTests.java
comments:
Added FST based FieldData implementation holding all data in a per segment FST.
This commit factors our a common API for BytesValues based impl to shared code and reduce code duplication.

time:
2013-03-30T12:58:39Z
class:
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
comments:
fail on malformed sort

time:
2013-03-30T12:46:53Z
class:
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
comments:
{sort: "field"} throws misleading errors
fixes #2835

time:
2013-03-29T15:57:42Z
class:
src/main/java/org/elasticsearch/common/lucene/search/XBooleanFilter.java
comments:
If match then go to next doc

time:
2013-03-29T15:48:36Z
class:
src/main/java/org/elasticsearch/common/lucene/search/XBooleanFilter.java
src/test/java/org/elasticsearch/test/integration/search/query/SimpleQueryTests.java
src/test/java/org/elasticsearch/test/unit/common/lucene/search/XBooleanFilterLuceneTests.java
src/test/java/org/elasticsearch/test/unit/common/lucene/search/XBooleanFilterTests.java
comments:
Fixed `bool` filter bugs:
 * In the case only should clauses were specified with specific type of filters, the first clause determined which documents matched.
 * In some cases the minimum at least 1 should clause should match behaviour was broken.

time:
2013-03-29T14:44:45Z
class:
src/main/java/org/elasticsearch/index/aliases/IndexAliasesService.java
src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
comments:
Optimize aliases processing

Closes# 2832

time:
2013-03-28T16:25:28Z
class:
src/main/java/org/elasticsearch/index/mapper/internal/EnabledAttributeMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
src/test/java/org/elasticsearch/test/unit/index/mapper/ttl/TTLMappingTests.java
comments:
Allow to update ttl field mapping after initial creation. Fixes #2136
Adding possibility to change TTL field mapper data without specifying enabled flag in mapping update

time:
2013-03-28T16:04:42Z
class:
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/GeoDistanceComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/GeoDistanceComparatorSource.java
src/main/java/org/elasticsearch/search/sort/GeoDistanceSortBuilder.java
src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
src/test/java/org/elasticsearch/test/integration/search/geo/GeoDistanceTests.java
comments:
Added sort mode to geo distance sorting. Closes #1846

time:
2013-03-28T15:08:54Z
class:
src/main/java/org/elasticsearch/index/store/distributor/AbstractDistributor.java
src/main/java/org/elasticsearch/index/store/distributor/LeastUsedDistributor.java
src/main/java/org/elasticsearch/index/store/distributor/RandomWeightedDistributor.java
src/test/java/org/elasticsearch/test/integration/indices/store/SimpleDistributorTests.java
src/test/java/org/elasticsearch/test/integration/indices/store/StrictDistributor.java
src/test/java/org/elasticsearch/test/unit/index/store/distributor/DistributorTests.java
comments:
Fix LeastUsedDistributor and ensure random distribution for multiple non-fs directories

If we cannot determine available space the fallback scenario is now to use random distribution instead of always using the last directory.

Fixes #2820

time:
2013-03-28T14:34:38Z
class:
src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentResponse.java
src/main/java/org/elasticsearch/action/admin/indices/segments/ShardSegments.java
src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
src/main/java/org/elasticsearch/index/engine/Segment.java
src/main/java/org/elasticsearch/index/engine/robin/RobinEngine.java
src/test/java/org/elasticsearch/test/unit/index/engine/AbstractSimpleEngineTests.java
comments:
Segments API: Add version & compound for each segment
closes #2823

time:
2013-03-27T19:39:36Z
class:
src/main/java/org/elasticsearch/index/cache/query/parser/resident/ResidentQueryParserCache.java
comments:
remove the field settings for query parser cache, not really relevant

time:
2013-03-27T19:32:38Z
class:
src/main/java/org/apache/lucene/queryparser/classic/QueryParserSettings.java
src/main/java/org/elasticsearch/index/cache/query/parser/QueryParserCache.java
src/main/java/org/elasticsearch/index/cache/query/parser/resident/ResidentQueryParserCache.java
src/main/java/org/elasticsearch/index/cache/query/parser/support/AbstractJvmQueryParserCache.java
comments:
Date math in query_string caches now()
fixes #2808

time:
2013-03-27T13:23:54Z
class:
src/main/java/org/elasticsearch/search/facet/FacetPhase.java
src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
src/main/java/org/elasticsearch/search/internal/SearchContext.java
src/test/java/org/elasticsearch/test/integration/aliases/IndexAliasesTests.java
comments:
Move applying alias filter to ContextSearch#preProcess()

time:
2013-03-26T16:44:34Z
class:
src/main/java/org/elasticsearch/search/suggest/phrase/CandidateScorer.java
src/main/java/org/elasticsearch/search/suggest/phrase/Correction.java
src/main/java/org/elasticsearch/search/suggest/phrase/NoisyChannelSpellChecker.java
src/test/java/org/elasticsearch/test/integration/search/suggest/SuggestSearchTests.java
comments:
Terminate early when no terms left in the suggest string.

Closes #2817

time:
2013-03-26T11:23:44Z
class:
src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
src/test/java/org/elasticsearch/test/integration/aliases/IndexAliasesTests.java
comments:
Fix filtering aliases with non-empty sort options

Fixes #2816

time:
2013-03-25T22:34:52Z
class:
src/main/java/org/elasticsearch/threadpool/ThreadPool.java
comments:
Warmers: Have an explicit warmer thread pool
add 1 in case there is 1 core...
closes #2815

time:
2013-03-25T21:46:11Z
class:
src/main/java/org/elasticsearch/index/percolator/PercolatorExecutor.java
src/test/java/org/elasticsearch/test/integration/percolator/SimplePercolatorTests.java
comments:
Don't reset tokenstream before passing to the MemoryIndex, otherwise some tokenizer might swallow tokens.

Closes #2814

time:
2013-03-25T15:46:37Z
class:
src/main/java/org/elasticsearch/indices/warmer/IndicesWarmer.java
src/main/java/org/elasticsearch/search/SearchService.java
src/main/java/org/elasticsearch/threadpool/ThreadPool.java
comments:
Warmers: Have an explicit warmer thread pool
Have an explicit threadpool warmer that is dedicated to execute warmers. Currently, it uses the search threadpool, which does not work well since the number of concurrent searches should be separate from the number of concurrent warmers allows, also the characteristics of the search pool (for example, bounded queue_size) might not fit well with how warmers should be executed (they should not be "rejected").

closes #2815

time:
2013-03-25T11:33:55Z
class:
src/main/java/org/elasticsearch/Version.java
comments:
add 0.20.7

time:
2013-03-23T07:59:39Z
class:
src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
src/test/java/org/elasticsearch/test/integration/search/query/SimpleQueryTests.java
comments:
Adding parsing for zero terms query for multi match
Tests for multi-match zero_terms_query and making references to the ZeroTermsQuery enum consistent to others used in MultiMatchQueryBuilder

time:
2013-03-22T23:46:42Z
class:
src/test/java/org/elasticsearch/test/integration/search/geo/GeoDistanceTests.java
comments:
Fixes java6_u31 compile error w.r.t. type inference

time:
2013-03-22T16:18:55Z
class:
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/index/engine/robin/RobinEngine.java
src/main/java/org/elasticsearch/index/gateway/blobstore/BlobStoreIndexShardGateway.java
src/main/java/org/elasticsearch/index/shard/service/InternalIndexShard.java
comments:
Fix issue where entire shards are lost due to too many open files exceptions and a but in Lucene's
IndexWriter / DirectoryReader where an existsing index was not detected and then deleted due to a wrong
creation mode. See LUCENE-4870

Closes #2812

time:
2013-03-22T12:34:18Z
class:
src/main/java/org/elasticsearch/common/geo/GeoUtils.java
src/test/java/org/elasticsearch/test/integration/search/geo/GeoDistanceTests.java
comments:
Added Script test for geo distance tests and modified GeoUtils.normalizePoint()

time:
2013-03-21T21:45:17Z
class:
src/main/java/org/elasticsearch/index/fielddata/plain/ByteArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IntArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/LongArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ShortArrayAtomicFieldData.java
src/test/java/org/elasticsearch/test/integration/search/facet/SimpleFacetsTests.java
comments:
Call onMissing if doc has no value in the field.

Closes #2807

time:
2013-03-21T18:29:05Z
class:
src/main/java/org/elasticsearch/index/mapper/Uid.java
src/test/java/org/elasticsearch/test/unit/index/mapper/UidTests.java
comments:
Respect offset and length when iterating over BytesRef in Uid. The length is starting at offset

Closes #2806

time:
2013-03-21T08:18:04Z
class:
comments:
Add beidermorse encoder type to README

Add information about the mailing list

time:
2013-03-21T06:58:51Z
class:
src/main/java/org/apache/lucene/analysis/miscellaneous/XStemmerOverrideFilter.java
src/main/java/org/elasticsearch/index/analysis/StemmerOverrideTokenFilterFactory.java
comments:
Use more efficient StemmerOverrideFilter from Lucene trunk

Closes #2800

time:
2013-03-20T18:06:30Z
class:
src/main/java/org/elasticsearch/Version.java
comments:
move to 0.90.0.RC2 snap

time:
2013-03-20T18:05:08Z
class:
src/main/java/org/elasticsearch/Version.java
comments:
release 0.90.0.RC1

time:
2013-03-20T13:52:47Z
class:
src/main/java/org/elasticsearch/common/geo/GeoUtils.java
src/main/java/org/elasticsearch/common/unit/DistanceUnit.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/test/java/org/elasticsearch/test/unit/common/unit/DistanceUnitTests.java
src/test/java/org/elasticsearch/test/unit/index/mapper/geo/GeoShapeFieldMapperTests.java
src/test/java/org/elasticsearch/test/unit/index/search/geo/GeoUtilsTests.java
comments:
# GeoShape Precision

The `geo_shape` precision could be only set via `tree_levels` so far. A new option `precision` now allows to set the levels of the underlying tree structures to be set by distances like `50m`. The def

## Example
```json
curl -XPUT 'http://127.0.0.1:9200/myindex/' -d '{
  "mappings" : {
      "type1": {
          "dynamic": "false",
          "properties": {
              "location" : {
                  "type" : "geo_shape",
                  "geohash" : "true",
                  "store" : "yes",
                  "precision":"50m"
              }
          }
      }
  }
}'
```

## Changes
- GeoUtils defines the [WGS84](http://en.wikipedia.org/wiki/WGS84) reference ellipsoid of earth
- DistanceUnits refer to a more precise definition of earth circumference
- DistanceUnits for inch, yard and meter have been defined
- Set default levels in GeoShapeFieldMapper to 50m precision

Closes #2803

time:
2013-03-20T11:43:17Z
class:
src/main/java/org/elasticsearch/common/lucene/uid/UidField.java
src/main/java/org/elasticsearch/index/codec/postingsformat/BloomFilterPostingsFormat.java
src/test/java/org/elasticsearch/test/unit/index/codec/postingformat/DefaultPostingsFormatTests.java
comments:
Lazily initialize the delegate in BloomFilteredPostingsFormat to prevent unnecessary loading if bloomfilter terminates early

time:
2013-03-20T11:43:17Z
class:
src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastOperationAction.java
src/main/java/org/elasticsearch/index/codec/PerFieldMappingPostingFormatCodec.java
src/main/java/org/elasticsearch/index/codec/postingsformat/BloomFilterPostingsFormat.java
src/main/java/org/elasticsearch/index/codec/postingsformat/ElasticSearch090PostingsFormat.java
src/main/java/org/elasticsearch/index/codec/postingsformat/PostingFormats.java
src/main/java/org/elasticsearch/index/codec/postingsformat/PreBuiltPostingsFormatProvider.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/test/java/org/elasticsearch/test/unit/index/codec/CodecTests.java
src/test/java/org/elasticsearch/test/unit/index/codec/postingformat/DefaultPostingsFormatTests.java
comments:
Specialise the default codec to reuse Lucene41 files in the common case.

Closes #2799

time:
2013-03-19T13:36:13Z
class:
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
comments:
better comment...

time:
2013-03-19T10:20:47Z
class:
src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java
comments:
if multicast socket closes, try and restart it
also, throttle on socket failures, so it won't spin out of control...
relates to #2783

time:
2013-03-19T09:23:39Z
class:
src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java
comments:
multicastSocket should be volatile as well...

time:
2013-03-19T09:22:43Z
class:
src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastOperationAction.java
comments:
broadcast API to by default ignore missing / illegal shard state
this happens for example because we list assigned shards, and they might not have been allocated on the relevant node yet, no need to list those as actual failures in some APIs

time:
2013-03-18T22:10:14Z
class:
comments:
upgrade to guava 14.0.1

time:
2013-03-18T21:46:04Z
class:
comments:
tar.gz distro by mistake include a windows lib

time:
2013-03-18T21:04:31Z
class:
src/main/java/org/elasticsearch/common/lucene/search/XFilteredQuery.java
comments:
fix javadoc

time:
2013-03-18T19:17:26Z
class:
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
comments:
Correct filter strategy opt: random_access_random to random_access_always

time:
2013-03-18T11:37:15Z
class:
src/main/java/org/elasticsearch/index/fielddata/plain/ByteArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IntArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/LongArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ShortArrayIndexFieldData.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/LongFieldDataTests.java
comments:
Field Data: optimize long type to use narrowest possible type automatically
closes #2795

time:
2013-03-18T00:33:09Z
class:
src/main/java/org/elasticsearch/common/inject/Key.java
src/main/java/org/elasticsearch/common/inject/internal/Annotations.java
src/main/java/org/elasticsearch/common/inject/internal/ProviderMethod.java
src/main/java/org/elasticsearch/common/inject/internal/ProviderMethodsModule.java
src/main/java/org/elasticsearch/common/inject/spi/DefaultBindingTargetVisitor.java
comments:
make ES compile with java 8
- that isAnnotationPresent bug is known, and probably will be fixed in later versions, but it costs us nothing to not use it now
- some tests fail, mainly due to consistent ordering expected from Map (within versions) which does not seem to be preserved, need to fix those tests to be agnostic to it

time:
2013-03-17T20:55:07Z
class:
src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
comments:
use ImmutableList.Builder instead of ArrayList

time:
2013-03-16T21:58:45Z
class:
src/main/java/org/elasticsearch/gateway/local/state/meta/LocalGatewayMetaState.java
comments:
fix logging message to include the index
also add the list of current indices

time:
2013-03-16T00:29:22Z
class:
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
comments:
Mapping: dynamic flag is explicitly returned even when not set
fixes #2789

time:
2013-03-15T22:36:31Z
class:
src/main/java/org/apache/lucene/store/StoreRateLimiting.java
src/main/java/org/apache/lucene/store/XSimpleRateLimiter.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySettings.java
src/test/java/org/apache/lucene/store/XSimpleRateLimiterTest.java
comments:
Fix bug in RateLimiter.SimpleRateLimiter causing numeric overflow in StoreStats

Closes #2785

time:
2013-03-15T20:46:02Z
class:
src/main/java/org/apache/lucene/store/RateLimitedFSDirectory.java
comments:
improve TODO comment

time:
2013-03-15T14:07:15Z
class:
src/main/java/org/elasticsearch/search/suggest/SuggestUtils.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
comments:
add CamelCase support to Suggester where missing

time:
2013-03-15T12:57:39Z
class:
src/main/java/org/elasticsearch/search/sort/FieldSortBuilder.java
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
comments:
Remove `sort_order` and `sort_mode` in favor of `order` and `mode`

Closes #2781

time:
2013-03-15T07:42:19Z
class:
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
comments:
Add `sort_oder` and `sortOrder` as valid field names for defining the sort order in a Sort object.

Closes #2767

time:
2013-03-14T22:03:15Z
class:
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestionBuilder.java
comments:
Make StupidBackoff the default smoothing model for phrase suggester

Closes #2780

time:
2013-03-13T19:18:14Z
class:
src/main/java/org/elasticsearch/action/suggest/SuggestRequestBuilder.java
src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
src/main/java/org/elasticsearch/rest/action/suggest/RestSuggestAction.java
src/main/java/org/elasticsearch/search/suggest/SuggestPhase.java
comments:
minor cleanup suggest api
- make sure we close the parser
- fail when no content is provided in the rest request
- reuse the suggest parse element

time:
2013-03-13T18:36:29Z
class:
src/main/java/org/elasticsearch/action/ActionModule.java
src/main/java/org/elasticsearch/action/suggest/ShardSuggestRequest.java
src/main/java/org/elasticsearch/action/suggest/ShardSuggestResponse.java
src/main/java/org/elasticsearch/action/suggest/SuggestAction.java
src/main/java/org/elasticsearch/action/suggest/SuggestRequest.java
src/main/java/org/elasticsearch/action/suggest/SuggestRequestBuilder.java
src/main/java/org/elasticsearch/action/suggest/SuggestResponse.java
src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
src/main/java/org/elasticsearch/action/suggest/package-info.java
src/main/java/org/elasticsearch/action/support/broadcast/BroadcastOperationResponse.java
src/main/java/org/elasticsearch/client/Client.java
src/main/java/org/elasticsearch/client/support/AbstractClient.java
src/main/java/org/elasticsearch/client/transport/TransportClient.java
src/main/java/org/elasticsearch/rest/action/RestActionModule.java
src/main/java/org/elasticsearch/rest/action/suggest/RestSuggestAction.java
src/main/java/org/elasticsearch/rest/action/support/RestActions.java
src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
src/main/java/org/elasticsearch/search/internal/InternalSearchResponse.java
src/main/java/org/elasticsearch/search/query/QuerySearchResult.java
src/main/java/org/elasticsearch/search/suggest/Suggest.java
src/main/java/org/elasticsearch/search/suggest/SuggestBuilder.java
src/main/java/org/elasticsearch/search/suggest/SuggestContextParser.java
src/main/java/org/elasticsearch/search/suggest/SuggestParseElement.java
src/main/java/org/elasticsearch/search/suggest/SuggestPhase.java
src/main/java/org/elasticsearch/search/suggest/SuggestUtils.java
src/main/java/org/elasticsearch/search/suggest/Suggester.java
src/main/java/org/elasticsearch/search/suggest/SuggestionSearchContext.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
src/main/java/org/elasticsearch/search/suggest/term/TermSuggestParser.java
src/main/java/org/elasticsearch/search/suggest/term/TermSuggester.java
src/test/java/org/elasticsearch/test/integration/document/DocumentActionsTests.java
src/test/java/org/elasticsearch/test/integration/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/test/integration/search/suggest/SuggestSearchTests.java
src/test/java/org/elasticsearch/test/unit/action/suggest/SuggestActionTests.java
comments:
# REST Suggester API
The REST Suggester API binds the 'Suggest API' to the REST Layer directly. Hence there is no need to touch the query layer for requesting suggestions.
This API extracts the Phrase Suggester API and makes 'suggestion request' top-level objects in suggestion requests. The complete API can be found in the
underlying ["Suggest Feature API"](http://www.elasticsearch.org/guide/reference/api/search/suggest.html).

# API Example
The following examples show how Suggest Actions work on the REST layer. According to this a simple request and its response will be shown.

## Suggestion Request
```json
curl -XPOST 'localhost:9200/_suggest?pretty=true' -d '{
    "text" : "Xor the Got-Jewel",
    "simple_phrase" : {
        "phrase" : {
            "analyzer" : "bigram",
            "field" : "bigram",
            "size" : 1,
            "real_word_error_likelihood" : 0.95,
            "max_errors" : 0.5,
            "gram_size" : 2
        }
    }
}'
```
This example shows how to query a suggestion for the global text 'Xor the Got-Jewel'. A 'simple phrase' suggestion is requested and
a 'direct generator' is configured to generate the candidates.

## Suggestion Response
On success the request above will reply with a response like the following:
```json
{
    "simple_phrase" : [ {
        "text" : "Xor the Got-Jewel",
        "offset" : 0,
        "length" : 17,
        "options" : [ {
            "text" : "xorr the the got got jewel",
            "score" : 3.5283546E-4
        } ]
    } ]
}
```
The 'suggest'-response contains a single 'simple phrase' which contains an 'option' in turn. This option represents a suggestion of the
queried text. It contains the corrected text and a score indicating the probability of this option to be meant.

Closes #2774

time:
2013-03-13T17:05:59Z
class:
src/main/java/org/elasticsearch/monitor/fs/SigarFsProbe.java
comments:
avoiding NPE in Sigar FS

time:
2013-03-13T14:17:21Z
class:
src/main/java/org/elasticsearch/common/geo/GeoJSONShapeParser.java
src/test/java/org/elasticsearch/test/unit/common/geo/GeoJSONShapeParserTests.java
comments:
GeoJSONShapeParser parses JSON correctly and extracts coordinates even if 'crs' field is included.

Fixes #2763

time:
2013-03-13T14:13:56Z
class:
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/BytesRefOrdValComparator.java
src/test/java/org/elasticsearch/test/integration/search/sort/SimpleSortTests.java
comments:
Use numOrds rather than numDocs as upperbound for sorting

Closes #2773

time:
2013-03-13T12:44:59Z
class:
src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
comments:
tieBreaker in MultiMatchQueryBuilder should be a float, not an integer

Closes #2772

time:
2013-03-13T12:24:17Z
class:
comments:
Revert "Add s3-publishing script."

This reverts commit 98f06c9af61e7ed6d2ebf7c10dab20c9a85f09ab.

time:
2013-03-13T00:09:25Z
class:
comments:
Add s3-publishing script.

time:
2013-03-12T22:16:25Z
class:
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
comments:
support also mode in search sorting, and fail on illegal parameters

time:
2013-03-12T21:49:07Z
class:
src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
comments:
force close connection if its on a connect failure
relates to Repeated ConnectExceptions in logs until node is restarted, fixes #2766

time:
2013-03-12T19:32:05Z
class:
src/main/java/org/elasticsearch/cluster/settings/DynamicSettings.java
src/main/java/org/elasticsearch/cluster/settings/Validator.java
src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
comments:
no need for specific time / empty based classes, just as final fields

time:
2013-03-12T18:41:00Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
src/main/java/org/elasticsearch/cluster/settings/ClusterDynamicSettingsModule.java
src/main/java/org/elasticsearch/cluster/settings/DynamicSettings.java
src/main/java/org/elasticsearch/cluster/settings/Validator.java
src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
src/test/java/org/elasticsearch/test/integration/cluster/UpdateSettingsValidationTests.java
comments:
Add dynamic settings validation

Fixes #2749

time:
2013-03-12T13:57:47Z
class:
src/main/java/org/apache/lucene/store/RateLimitedFSDirectory.java
src/main/java/org/apache/lucene/store/StoreRateLimiting.java
comments:
add missing license header

time:
2013-03-12T13:48:14Z
class:
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ThrottlingAllocationDecider.java
src/test/java/org/elasticsearch/test/integration/cluster/allocation/FilteringAllocationTests.java
comments:
fix test bug where a small time window exists that can trigger a false failure due to default concurrent recoveries

time:
2013-03-11T20:11:05Z
class:
src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
src/main/java/org/elasticsearch/index/search/child/HasChildFilter.java
src/main/java/org/elasticsearch/index/search/child/ParentIdCollector.java
src/test/java/org/elasticsearch/test/integration/search/child/SimpleChildQuerySearchTests.java
comments:
Introdue ParentIdCollector that collects only if the parent ID is non null ie. if the document has a parent.

Closes #2744

time:
2013-03-11T14:37:20Z
class:
src/main/java/org/elasticsearch/index/gateway/local/LocalIndexShardGateway.java
comments:
Fixed a typo in an error message "should exists" -> "should exist"

time:
2013-03-11T11:57:24Z
class:
src/test/java/org/elasticsearch/test/integration/search/geo/GeoShapeIntegrationTests.java
comments:
enable testcase that relied on a Lucene 4.2 fix

time:
2013-03-11T09:30:48Z
class:
src/test/java/org/elasticsearch/test/unit/common/lucene/LuceneTest.java
comments:
add test that ensures that we bumb the version on a Lucene Upgrade

time:
2013-03-11T07:23:01Z
class:
src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
src/test/java/org/elasticsearch/test/integration/search/query/SimpleQueryTests.java
comments:
Fix tests since Lucene 4.2 we can support date math in Fuzzy-Search Syntax

time:
2013-03-11T07:23:01Z
class:
src/test/java/org/elasticsearch/test/integration/search/highlight/HighlighterSearchTests.java
comments:
Add tests for highlighting boost query.

Closes #1314

time:
2013-03-11T07:23:01Z
class:
src/main/java/org/apache/lucene/queries/ExtendedCommonTermsQuery.java
src/main/java/org/apache/lucene/queries/XCommonTermsQuery.java
src/main/java/org/apache/lucene/search/vectorhighlight/CustomFieldQuery.java
src/main/java/org/apache/lucene/store/OpenBufferedIndexOutput.java
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/common/lucene/store/BufferedChecksumIndexOutput.java
src/main/java/org/elasticsearch/index/codec/PerFieldMappingPostingFormatCodec.java
src/main/java/org/elasticsearch/index/codec/postingsformat/BloomFilterPostingsFormat.java
src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesIndexFieldData.java
src/main/java/org/elasticsearch/search/highlight/CustomQueryScorer.java
src/test/java/org/elasticsearch/test/unit/deps/lucene/LuceneFieldCacheTests.java
src/test/java/org/elasticsearch/test/unit/index/query/SimpleIndexQueryParserTests.java
comments:
Upgrade to Lucene 4.2

time:
2013-03-09T22:09:59Z
class:
src/main/java/org/apache/lucene/analysis/miscellaneous/KeywordRepeatFilter.java
src/main/java/org/elasticsearch/indices/analysis/IndicesAnalysisService.java
src/test/java/org/elasticsearch/test/unit/index/analysis/AnalysisModuleTests.java
comments:
Added KeywordRepeatFilter that allows emitting stemmed and unstemmed versions of the same token if stemmers are used

Closes #2753

time:
2013-03-09T12:36:40Z
class:
src/main/java/org/elasticsearch/search/suggest/SuggestUtils.java
src/main/java/org/elasticsearch/search/suggest/phrase/CandidateGenerator.java
src/main/java/org/elasticsearch/search/suggest/phrase/DirectCandidateGenerator.java
src/main/java/org/elasticsearch/search/suggest/phrase/MultiCandidateGeneratorWrapper.java
src/main/java/org/elasticsearch/search/suggest/phrase/NoisyChannelSpellChecker.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
src/test/java/org/elasticsearch/test/integration/search/suggest/SuggestSearchTests.java
src/test/java/org/elasticsearch/test/unit/search/suggest/phrase/NoisyChannelSpellCheckerTests.java
comments:
Respect CandidateGenerator#size if set in the request and reduce the total #of candidates to the shard size.

Closes #2752

time:
2013-03-08T16:50:11Z
class:
src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
comments:
has_child query AVG score mode does not always work correctly
fixes #2750

time:
2013-03-08T06:12:22Z
class:
src/main/java/org/elasticsearch/cluster/ClusterState.java
src/main/java/org/elasticsearch/common/lucene/BytesRefs.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
src/test/java/org/elasticsearch/test/integration/search/query/SimpleQueryTests.java
src/test/java/org/elasticsearch/test/unit/index/query/SimpleIndexQueryParserTests.java
comments:
Term/Terms filters on numeric fields gives wrong result
fixes #2746

time:
2013-03-07T16:45:01Z
class:
src/main/java/org/elasticsearch/search/facet/terms/TermsFacetParser.java
src/main/java/org/elasticsearch/search/facet/terms/strings/TermsStringOrdinalsFacetExecutor.java
comments:
don't use cache for ordinals for small max ord

time:
2013-03-07T10:49:35Z
class:
comments:
Update README.textile

Update license year

time:
2013-03-07T09:18:10Z
class:
src/main/java/org/elasticsearch/action/support/replication/IndicesReplicationOperationRequest.java
src/main/java/org/elasticsearch/rest/action/deletebyquery/RestDeleteByQueryAction.java
comments:
check for null on setters taht must not be null in IndicesReplicationOperationRequest

time:
2013-03-07T09:17:51Z
class:
src/main/java/org/elasticsearch/action/support/replication/IndicesReplicationOperationRequest.java
src/main/java/org/elasticsearch/action/support/replication/IndicesReplicationOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/replication/TransportIndicesReplicationOperationAction.java
src/main/java/org/elasticsearch/rest/action/deletebyquery/RestDeleteByQueryAction.java
src/test/java/org/elasticsearch/test/integration/deleteByQuery/DeleteByQueryTests.java
comments:
Add support for ignore_indices to delete by query

Closes #2734

time:
2013-03-06T14:34:59Z
class:
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
comments:
exhaust object to allow subsequent objects to be parsed correctly

time:
2013-03-06T13:31:21Z
class:
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestionBuilder.java
comments:
Move smoothing model into its own sub-object in the PhraseSuggest request

Closes #2735

time:
2013-03-06T02:10:30Z
class:
src/main/java/org/elasticsearch/common/joda/DateMathParser.java
src/test/java/org/elasticsearch/test/unit/index/mapper/date/SimpleDateMappingTests.java
comments:
Problems with range searches for time with lte
fixes #2731

time:
2013-03-05T19:49:10Z
class:
src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
comments:
Network: A closed channel might not always fire up a close event
fixes #2733

time:
2013-03-05T14:17:59Z
class:
src/main/java/org/elasticsearch/action/ActionModule.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsGroup.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
src/main/java/org/elasticsearch/client/ClusterAdminClient.java
src/main/java/org/elasticsearch/client/Requests.java
src/main/java/org/elasticsearch/client/support/AbstractClusterAdminClient.java
src/main/java/org/elasticsearch/rest/action/RestActionModule.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/shards/RestClusterSearchShardsAction.java
src/test/java/org/elasticsearch/test/integration/cluster/shards/ClusterSearchShardsTests.java
comments:
Implement search shards API

Closes #2726

time:
2013-03-05T11:32:50Z
class:
src/main/java/org/elasticsearch/index/analysis/ShingleTokenFilterFactory.java
src/main/java/org/elasticsearch/indices/analysis/IndicesAnalysisService.java
src/main/java/org/elasticsearch/search/suggest/SuggestUtils.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
src/test/java/org/elasticsearch/test/integration/search/suggest/SuggestSearchTests.java
comments:
use a base ShingleFilterFactory to simplify default shingle detection

time:
2013-03-05T11:31:32Z
class:
src/main/java/org/elasticsearch/search/suggest/phrase/WordScorer.java
comments:
if word scorer is on unigram make sure we score the current position not position 0

time:
2013-03-05T09:46:25Z
class:
src/main/java/org/elasticsearch/search/suggest/phrase/CandidateGenerator.java
src/main/java/org/elasticsearch/search/suggest/phrase/DirectCandidateGenerator.java
src/main/java/org/elasticsearch/search/suggest/phrase/LaplaceScorer.java
src/main/java/org/elasticsearch/search/suggest/phrase/LinearInterpoatingScorer.java
src/main/java/org/elasticsearch/search/suggest/phrase/MultiCandidateGeneratorWrapper.java
src/main/java/org/elasticsearch/search/suggest/phrase/NoisyChannelSpellChecker.java
src/main/java/org/elasticsearch/search/suggest/phrase/StupidBackoffScorer.java
src/main/java/org/elasticsearch/search/suggest/phrase/WordScorer.java
src/test/java/org/elasticsearch/test/unit/search/suggest/phrase/NoisyChannelSpellCheckerTests.java
comments:
prefer totalTermFrequency over docFreq in PhraseSuggester

time:
2013-03-05T08:22:23Z
class:
src/main/java/org/elasticsearch/search/suggest/SuggestUtils.java
src/main/java/org/elasticsearch/search/suggest/SuggestionSearchContext.java
src/test/java/org/elasticsearch/test/integration/search/suggest/SuggestSearchTests.java
comments:
Set shardSize according to the total size if not explicitly specified. Closes #2729

time:
2013-03-05T04:41:19Z
class:
src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
src/main/java/org/elasticsearch/index/CloseableIndexComponent.java
src/main/java/org/elasticsearch/index/gateway/IndexShardGatewayService.java
src/main/java/org/elasticsearch/index/gateway/blobstore/BlobStoreIndexGateway.java
src/main/java/org/elasticsearch/index/gateway/blobstore/BlobStoreIndexShardGateway.java
src/main/java/org/elasticsearch/index/gateway/local/LocalIndexGateway.java
src/main/java/org/elasticsearch/index/gateway/local/LocalIndexShardGateway.java
src/main/java/org/elasticsearch/index/gateway/none/NoneIndexGateway.java
src/main/java/org/elasticsearch/index/gateway/none/NoneIndexShardGateway.java
src/main/java/org/elasticsearch/index/merge/policy/LogByteSizeMergePolicyProvider.java
src/main/java/org/elasticsearch/index/merge/policy/LogDocMergePolicyProvider.java
src/main/java/org/elasticsearch/index/merge/policy/TieredMergePolicyProvider.java
src/main/java/org/elasticsearch/index/service/IndexService.java
src/main/java/org/elasticsearch/index/service/InternalIndexService.java
src/main/java/org/elasticsearch/index/store/Store.java
src/main/java/org/elasticsearch/index/store/support/AbstractIndexStore.java
src/main/java/org/elasticsearch/index/translog/Translog.java
src/main/java/org/elasticsearch/index/translog/fs/FsTranslog.java
src/main/java/org/elasticsearch/indices/IndicesLifecycle.java
src/main/java/org/elasticsearch/indices/IndicesService.java
src/main/java/org/elasticsearch/indices/InternalIndicesLifecycle.java
src/main/java/org/elasticsearch/indices/InternalIndicesService.java
src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
src/main/java/org/elasticsearch/search/SearchService.java
src/test/java/org/elasticsearch/test/unit/index/translog/AbstractSimpleTranslogTests.java
comments:
cleanup deletion of content in shards
we are very conservative on when we delete data, remove the actual options of deleting data that are not used

time:
2013-03-05T02:15:06Z
class:
src/main/java/org/elasticsearch/index/gateway/local/LocalIndexShardGateway.java
comments:
add a list of files that exists in the index to the failure

time:
2013-03-05T00:42:29Z
class:
src/main/java/org/elasticsearch/index/fielddata/AtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/index/fielddata/plain/ByteArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ConcreteBytesRefAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IntArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/LongArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ShortArrayAtomicFieldData.java
comments:
add close method to field data

time:
2013-03-05T00:12:18Z
class:
src/main/java/org/elasticsearch/index/AbstractIndexComponent.java
src/main/java/org/elasticsearch/index/IndexModule.java
src/main/java/org/elasticsearch/index/IndexServiceManagement.java
src/main/java/org/elasticsearch/index/service/InternalIndexService.java
src/main/java/org/elasticsearch/index/shard/AbstractIndexShardComponent.java
src/main/java/org/elasticsearch/index/shard/IndexShardManagement.java
src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
src/main/java/org/elasticsearch/index/store/StoreManagement.java
src/main/java/org/elasticsearch/index/store/StoreModule.java
src/main/java/org/elasticsearch/indices/InternalIndicesService.java
src/main/java/org/elasticsearch/jmx/AbstractJmxModule.java
src/main/java/org/elasticsearch/jmx/JmxClusterService.java
src/main/java/org/elasticsearch/jmx/JmxConnectorCreationException.java
src/main/java/org/elasticsearch/jmx/JmxException.java
src/main/java/org/elasticsearch/jmx/JmxModule.java
src/main/java/org/elasticsearch/jmx/JmxRegistrationException.java
src/main/java/org/elasticsearch/jmx/JmxService.java
src/main/java/org/elasticsearch/jmx/MBean.java
src/main/java/org/elasticsearch/jmx/ManagedAttribute.java
src/main/java/org/elasticsearch/jmx/ManagedGroupName.java
src/main/java/org/elasticsearch/jmx/ManagedOperation.java
src/main/java/org/elasticsearch/jmx/ResourceDMBean.java
src/main/java/org/elasticsearch/jmx/action/GetJmxServiceUrlAction.java
src/main/java/org/elasticsearch/node/internal/InternalNode.java
src/main/java/org/elasticsearch/transport/TransportModule.java
src/main/java/org/elasticsearch/transport/TransportServiceManagement.java
src/main/java/org/elasticsearch/transport/local/LocalTransportManagement.java
src/main/java/org/elasticsearch/transport/local/LocalTransportModule.java
src/main/java/org/elasticsearch/transport/netty/NettyTransportManagement.java
src/main/java/org/elasticsearch/transport/netty/NettyTransportModule.java
comments:
Remove JMX connector creation flags, and JMX attributes
closes #2728

time:
2013-03-04T22:50:33Z
class:
src/main/java/org/elasticsearch/index/fielddata/FieldDataStats.java
comments:
Change field data stats header from `field_data` to `fielddata`.
fixes #2727

time:
2013-03-04T22:41:43Z
class:
src/main/java/org/elasticsearch/common/settings/ImmutableSettings.java
src/main/java/org/elasticsearch/common/settings/Settings.java
comments:
allow to specify a list of settings to get a value for

time:
2013-03-04T21:22:40Z
class:
src/test/java/org/elasticsearch/test/integration/plugin/SitePluginTests.java
comments:
Remove obsolete test.

time:
2013-03-04T10:19:33Z
class:
src/main/java/org/elasticsearch/index/fielddata/FieldDataStats.java
comments:
fixed interchanged values in field_data stats fixes #2724

time:
2013-03-03T20:52:44Z
class:
src/main/java/org/elasticsearch/http/HttpServer.java
comments:
revert change on listing plugins on /_plugin
we should provide it as part of nodes info
relates to #2664

time:
2013-03-03T18:55:06Z
class:
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataCache.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/indices/IndicesModule.java
src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
src/main/java/org/elasticsearch/node/internal/InternalNode.java
comments:
Field Data: Add `node` level cache type
closes #2722

time:
2013-03-03T17:41:17Z
class:
src/main/java/org/elasticsearch/index/fielddata/FieldDataStats.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataCache.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
comments:
add evictions stats to field data

time:
2013-03-03T13:32:19Z
class:
src/main/java/org/elasticsearch/cluster/routing/operation/plain/PlainOperationRouting.java
comments:
simplify searchShard selection when routing is present

time:
2013-03-03T13:31:57Z
class:
src/main/java/org/elasticsearch/cluster/routing/operation/plain/PlainOperationRouting.java
src/test/java/org/elasticsearch/test/integration/routing/AliasRoutingTests.java
comments:
Fix bug when searching concrete and routing aliased indices

Closes #2683

time:
2013-03-02T16:13:58Z
class:
src/main/java/org/elasticsearch/common/geo/SpatialStrategy.java
src/main/java/org/elasticsearch/common/lucene/spatial/XTermQueryPrefixTreeStategy.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/main/java/org/elasticsearch/index/query/GeoShapeFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoShapeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
src/test/java/org/elasticsearch/test/integration/search/geo/GeoShapeIntegrationTests.java
src/test/java/org/elasticsearch/test/unit/common/lucene/spatial/prefix/TermQueryPrefixTreeStrategyTests.java
src/test/java/org/elasticsearch/test/unit/index/mapper/geo/GeoShapeFieldMapperTests.java
src/test/java/org/elasticsearch/test/unit/index/query/SimpleIndexQueryParserTests.java
comments:
Change geo_shapes support:

* Exposed the spatial strategy to be configurable as part of the geo_shape mappings
* Exposed the spatial strategy to be customizable at query time (will be used to generate the geo_shape filter/query)
* Removed XTermQueryPrefixTreeStrategy and reverted to use the lucene TermQueryPrefixTreeStrategy instead
* Made the RecursivePrefixTreeStrategy the default strategy to be used
* Removed support for all spatial operations except "intersects"
* Updated both the GeoShapeQueryBuilder and GeoShapeFilterBuilder with all the changes (removed the option of specifying the operation type (as only intersects is supported) and added the option of setting the filter/query spatial strategy

Closes #2720

time:
2013-03-02T15:55:39Z
class:
src/main/java/org/elasticsearch/index/percolator/PercolatorService.java
comments:
Check for null query on Percolator query loading and omit the query if it can't be parsed.

Closes #2547

time:
2013-03-02T15:00:10Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
comments:
fix local flag in cluster health

time:
2013-03-02T14:48:01Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
comments:
proper reason for cluster state task

time:
2013-03-02T13:25:45Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
src/main/java/org/elasticsearch/common/Priority.java
src/test/java/org/elasticsearch/test/integration/cluster/LocalNodeMasterListenerTests.java
src/test/java/org/elasticsearch/test/integration/cluster/MinimumMasterNodesTests.java
src/test/java/org/elasticsearch/test/integration/cluster/SimpleDataNodesTests.java
src/test/java/org/elasticsearch/test/integration/cluster/allocation/AwarenessAllocationTests.java
src/test/java/org/elasticsearch/test/integration/cluster/allocation/ClusterRerouteTests.java
src/test/java/org/elasticsearch/test/integration/cluster/allocation/FilteringAllocationTests.java
src/test/java/org/elasticsearch/test/integration/consistencylevel/WriteConsistencyLevelTests.java
src/test/java/org/elasticsearch/test/integration/gateway/local/LocalGatewayIndexStateTests.java
src/test/java/org/elasticsearch/test/integration/gateway/local/SimpleRecoveryLocalGatewayTests.java
src/test/java/org/elasticsearch/test/integration/indexlifecycle/IndexLifecycleActionTests.java
src/test/java/org/elasticsearch/test/integration/indices/IgnoreIndicesTests.java
src/test/java/org/elasticsearch/test/integration/indices/analyze/AnalyzeActionTests.java
src/test/java/org/elasticsearch/test/integration/indices/mapping/SimpleDeleteMappingTests.java
src/test/java/org/elasticsearch/test/integration/indices/mapping/UpdateMappingTests.java
src/test/java/org/elasticsearch/test/integration/indices/settings/UpdateNumberOfReplicasTests.java
src/test/java/org/elasticsearch/test/integration/indices/state/SimpleIndexStateTests.java
src/test/java/org/elasticsearch/test/integration/indices/stats/SimpleIndexStatsTests.java
src/test/java/org/elasticsearch/test/integration/indices/template/SimpleIndexTemplateTests.java
src/test/java/org/elasticsearch/test/integration/indices/wamer/LocalGatewayIndicesWarmerTests.java
src/test/java/org/elasticsearch/test/integration/indices/wamer/SimpleIndicesWarmerTests.java
src/test/java/org/elasticsearch/test/integration/nested/SimpleNestedTests.java
src/test/java/org/elasticsearch/test/integration/percolator/SimplePercolatorTests.java
src/test/java/org/elasticsearch/test/integration/recovery/FullRollingRestartTests.java
src/test/java/org/elasticsearch/test/integration/recovery/RecoveryWhileUnderLoadTests.java
src/test/java/org/elasticsearch/test/integration/recovery/RelocationTests.java
src/test/java/org/elasticsearch/test/integration/routing/AliasResolveRoutingTests.java
src/test/java/org/elasticsearch/test/integration/routing/AliasRoutingTests.java
src/test/java/org/elasticsearch/test/integration/routing/SimpleRoutingTests.java
src/test/java/org/elasticsearch/test/integration/search/basic/TransportSearchFailuresTests.java
src/test/java/org/elasticsearch/test/integration/search/basic/TransportTwoNodesSearchTests.java
src/test/java/org/elasticsearch/test/integration/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/test/integration/search/compress/SearchSourceCompressTests.java
src/test/java/org/elasticsearch/test/integration/search/facet/SimpleFacetsTests.java
src/test/java/org/elasticsearch/test/integration/search/fields/SearchFieldsTests.java
src/test/java/org/elasticsearch/test/integration/search/geo/GeoBoundingBoxTests.java
src/test/java/org/elasticsearch/test/integration/search/geo/GeoDistanceFacetTests.java
src/test/java/org/elasticsearch/test/integration/search/geo/GeoDistanceTests.java
src/test/java/org/elasticsearch/test/integration/search/geo/GeoShapeIntegrationTests.java
src/test/java/org/elasticsearch/test/integration/search/highlight/HighlighterSearchTests.java
src/test/java/org/elasticsearch/test/integration/search/matchedfilters/MatchedFiltersTests.java
src/test/java/org/elasticsearch/test/integration/search/preference/SearchPreferenceTests.java
src/test/java/org/elasticsearch/test/integration/search/query/SimpleQueryTests.java
src/test/java/org/elasticsearch/test/integration/search/scan/SearchScanScrollingTests.java
src/test/java/org/elasticsearch/test/integration/search/scan/SearchScanTests.java
src/test/java/org/elasticsearch/test/integration/search/scroll/SearchScrollTests.java
src/test/java/org/elasticsearch/test/integration/search/sort/SimpleSortTests.java
src/test/java/org/elasticsearch/test/integration/timestamp/SimpleTimestampTests.java
src/test/java/org/elasticsearch/test/integration/ttl/SimpleTTLTests.java
src/test/java/org/elasticsearch/test/integration/update/UpdateTests.java
src/test/java/org/elasticsearch/test/integration/validate/SimpleValidateQueryTests.java
comments:
add ability for cluster health to wait for current events to be processed
help with tests that run on slow machines

time:
2013-03-02T00:07:50Z
class:
src/main/java/org/elasticsearch/index/query/BoolFilterBuilder.java
comments:
Make BoolFilterBuilder output proper json

time:
2013-03-02T00:07:05Z
class:
src/test/java/org/elasticsearch/test/unit/index/query/SimpleIndexQueryParserTests.java
comments:
add proper testing for bool filter

time:
2013-03-01T22:36:13Z
class:
src/test/java/org/elasticsearch/test/integration/gateway/local/LocalGatewayIndexStateTests.java
comments:
spin a bit to wait for condition in test, so slow machines will still run it correctly

time:
2013-03-01T21:45:59Z
class:
src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
comments:
lazy set the indices on the search request now that its validated

time:
2013-03-01T21:40:22Z
class:
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
comments:
Query DSL: Filtered query to make query optional (defaults to mach_all)
closes #2718

time:
2013-03-01T21:24:14Z
class:
src/main/java/org/elasticsearch/rest/action/get/RestGetAction.java
comments:
Correct order of routing and parent params for Get

The order in which routing and parent parameters are set is important.  The
routing parameter must be set first or it will overwrite the parent routing
value.

time:
2013-03-01T21:17:09Z
class:
src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java
src/main/java/org/elasticsearch/rest/action/support/RestXContentBuilder.java
comments:
Analyze API returns in YAML format if analyzed string begins with ---
fixes #2624

time:
2013-03-01T21:15:32Z
class:
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/test/java/org/elasticsearch/test/unit/index/mapper/date/SimpleDateMappingTests.java
comments:
more strict check before trying to parse and detect a string as a date
fixes #2694

time:
2013-03-01T20:56:59Z
class:
src/main/java/org/elasticsearch/common/settings/ImmutableSettings.java
comments:
Throw correct ClassNotFoundException to debug classloader issues

time:
2013-03-01T20:26:23Z
class:
src/main/java/org/elasticsearch/action/search/SearchRequest.java
src/test/java/org/elasticsearch/test/integration/search/simple/SimpleSearchTests.java
comments:
Throw IAE if indices is null or contains a null value.

Closes #2656

time:
2013-03-01T20:09:10Z
class:
src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
src/test/java/org/elasticsearch/test/integration/search/suggest/SuggestSearchTests.java
comments:
ensure that suggestion only added on reduce if they are present in the shard response

time:
2013-03-01T18:53:20Z
class:
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/ByteValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/DoubleValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/DoubleValuesComparatorBase.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/FloatValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/IntValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/LongValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/LongValuesComparatorBase.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/NumberComparatorBase.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/ShortValuesComparator.java
src/main/java/org/elasticsearch/index/search/nested/NestedFieldComparatorSource.java
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
src/test/java/org/elasticsearch/test/integration/nested/SimpleNestedTests.java
src/test/java/org/elasticsearch/test/unit/index/search/nested/AbstractNumberNestedSortingTests.java
src/test/java/org/elasticsearch/test/unit/index/search/nested/ByteNestedSortingTests.java
src/test/java/org/elasticsearch/test/unit/index/search/nested/DoubleNestedSortingTests.java
src/test/java/org/elasticsearch/test/unit/index/search/nested/FloatNestedSortingTests.java
src/test/java/org/elasticsearch/test/unit/index/search/nested/IntegerNestedSortingTests.java
src/test/java/org/elasticsearch/test/unit/index/search/nested/LongNestedSortingTests.java
src/test/java/org/elasticsearch/test/unit/index/search/nested/NestedSortingTests.java
src/test/java/org/elasticsearch/test/unit/index/search/nested/ShortNestedSortingTests.java
comments:
Supporting sort modes `avg` and `sum` when sorting inside nested objects.
Previously this commit either sort modes `min` or `max` (depending on sort order) was used when sort modes `avg` and `sum` were picked.

Closes #2701

time:
2013-03-01T14:15:56Z
class:
src/main/java/org/elasticsearch/action/support/replication/TransportIndicesReplicationOperationAction.java
src/test/java/org/elasticsearch/test/integration/deleteByQuery/DeleteByQueryTests.java
comments:
Short Curcuit response if no indices exits and make sure listener is notified.

Closes #2692

time:
2013-03-01T12:00:29Z
class:
src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
src/test/java/org/elasticsearch/test/unit/cluster/metadata/MappingMetaDataParserTests.java
comments:
Fail in metadata parsing if the id path is not a value but rather an array or an object.

Closes #2275

time:
2013-03-01T11:10:07Z
class:
src/main/java/org/elasticsearch/search/sort/FieldSortBuilder.java
comments:
throw IAE if fieldname is null - Closes #2711

time:
2013-03-01T11:09:29Z
class:
src/main/java/org/elasticsearch/search/suggest/Suggest.java
comments:
always use the max score across the shards in suggest response

time:
2013-02-28T23:00:09Z
class:
src/test/java/org/elasticsearch/test/integration/search/basic/TransportTwoNodesSearchTests.java
comments:
add info in test for actual search failures

time:
2013-02-28T22:44:52Z
class:
src/test/java/org/elasticsearch/test/integration/cluster/MinimumMasterNodesTests.java
comments:
improve timing in test to wait for state with graceful timeouts
(yet, validate early and exit when relevant)

time:
2013-02-28T20:23:41Z
class:
src/main/java/org/elasticsearch/search/suggest/phrase/StupidBackoffScorer.java
src/test/java/org/elasticsearch/test/integration/search/suggest/SuggestSearchTests.java
comments:
fix bug in StupidBackoffScorer were previous word and current word were flipped creating non-existing bigram

time:
2013-02-28T17:19:08Z
class:
src/main/java/org/elasticsearch/rest/action/explain/RestExplainAction.java
comments:
Expose _explain via POST

Closes #2710

time:
2013-02-28T15:17:59Z
class:
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/index/analysis/ShingleTokenFilterFactory.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
src/main/java/org/elasticsearch/search/action/SearchServiceTransportAction.java
src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
src/main/java/org/elasticsearch/search/suggest/DirectSpellcheckerSettings.java
src/main/java/org/elasticsearch/search/suggest/Suggest.java
src/main/java/org/elasticsearch/search/suggest/SuggestBuilder.java
src/main/java/org/elasticsearch/search/suggest/SuggestContextParser.java
src/main/java/org/elasticsearch/search/suggest/SuggestParseElement.java
src/main/java/org/elasticsearch/search/suggest/SuggestPhase.java
src/main/java/org/elasticsearch/search/suggest/SuggestUtils.java
src/main/java/org/elasticsearch/search/suggest/Suggester.java
src/main/java/org/elasticsearch/search/suggest/SuggestionSearchContext.java
src/main/java/org/elasticsearch/search/suggest/phrase/CandidateGenerator.java
src/main/java/org/elasticsearch/search/suggest/phrase/CandidateScorer.java
src/main/java/org/elasticsearch/search/suggest/phrase/Correction.java
src/main/java/org/elasticsearch/search/suggest/phrase/DirectCandidateGenerator.java
src/main/java/org/elasticsearch/search/suggest/phrase/LaplaceScorer.java
src/main/java/org/elasticsearch/search/suggest/phrase/LinearInterpoatingScorer.java
src/main/java/org/elasticsearch/search/suggest/phrase/MultiCandidateGeneratorWrapper.java
src/main/java/org/elasticsearch/search/suggest/phrase/NoisyChannelSpellChecker.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestionBuilder.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestionContext.java
src/main/java/org/elasticsearch/search/suggest/phrase/StupidBackoffScorer.java
src/main/java/org/elasticsearch/search/suggest/phrase/WordScorer.java
src/main/java/org/elasticsearch/search/suggest/term/TermSuggestParser.java
src/main/java/org/elasticsearch/search/suggest/term/TermSuggester.java
src/main/java/org/elasticsearch/search/suggest/term/TermSuggestion.java
src/main/java/org/elasticsearch/search/suggest/term/TermSuggestionBuilder.java
src/main/java/org/elasticsearch/search/suggest/term/TermSuggestionContext.java
src/test/java/org/elasticsearch/benchmark/search/SuggestSearchBenchMark.java
src/test/java/org/elasticsearch/test/integration/search/suggest/SuggestSearchTests.java
src/test/java/org/elasticsearch/test/unit/search/suggest/phrase/NoisyChannelSpellCheckerTests.java
comments:
# Phrase Suggester
The `term` suggester provides a very convenient API to access word alternatives on token
basis within a certain string distance. The API allows accessing each token in the stream
individually while suggest-selection is left to the API consumer. Yet, often already ranked
/ selected suggestions are required in order to present to the end-user.
Inside ElasticSearch we have the ability to access way more statistics and information quickly
to make better decision which token alternative to pick or if to pick an alternative at all.

This `phrase` suggester adds some logic on top of the `term` suggester to select entire
corrected phrases instead of individual tokens weighted based on a *ngram-langugage models*. In practice it
will be able to make better decision about which tokens to pick based on co-occurence and frequencies.
The current implementation is kept quite general and leaves room for future improvements.

# API Example

The `phrase` request is defined along side the query part in the json request:

```json
curl -s -XPOST 'localhost:9200/_search' -d {
  "suggest" : {
    "text" : "Xor the Got-Jewel",
    "simple_phrase" : {
      "phrase" : {
        "analyzer" : "body",
        "field" : "bigram",
        "size" : 1,
        "real_word_error_likelihood" : 0.95,
        "max_errors" : 0.5,
        "gram_size" : 2,
        "direct_generator" : [ {
          "field" : "body",
          "suggest_mode" : "always",
          "min_word_len" : 1
        } ]
      }
    }
  }
}
```

The response contains suggested sored by the most likely spell correction first. In this case we got the expected correction
`xorr the god jewel` first while the second correction is less conservative where only one of the errors is corrected. Note, the request
is executed with `max_errors` set to `0.5` so 50% of the terms can contain misspellings (See parameter descriptions below).

```json
  {
  "took" : 37,
  "timed_out" : false,
  "_shards" : {
    "total" : 5,
    "successful" : 5,
    "failed" : 0
  },
  "hits" : {
    "total" : 2938,
    "max_score" : 0.0,
    "hits" : [ ]
  },
  "suggest" : {
    "simple_phrase" : [ {
      "text" : "Xor the Got-Jewel",
      "offset" : 0,
      "length" : 17,
      "options" : [ {
        "text" : "xorr the god jewel",
        "score" : 0.17877324
      }, {
        "text" : "xor the god jewel",
        "score" : 0.14231323
      } ]
    } ]
  }
}
````

# Phrase suggest API

## Basic parameters

* `field` - the name of the field used to do n-gram lookups for the language model, the suggester will use this field to gain statistics to score corrections.
* `gram_size` - sets max size of the n-grams (shingles) in the `field`. If the field doesn't contain n-grams (shingles) this should be omitted or set to `1`.
* `real_word_error_likelihood` - the likelihood of a term being a misspelled even if the term exists in the dictionary. The default it `0.95` corresponding to 5% or the real words are misspelled.
* `confidence` - The confidence level defines a factor applied to the input phrases score which is used as a threshold for other suggest candidates. Only candidates that score higher than the threshold will be included in the result. For instance a confidence level of `1.0` will only return suggestions that score higher than the input phrase. If set to `0.0` the top N candidates are returned. The default is `1.0`.
* `max_errors` - the maximum percentage of the terms that at most considered to be misspellings in order to form a correction. This method accepts a float value in the range `[0..1)` as a fraction of the actual query terms a number `>=1` as an absolut number of query terms. The default is set to `1.0` which corresponds to that only corrections with at most 1 misspelled term are returned.
* `separator` - the separator that is used to separate terms in the bigram field. If not set the whitespce character is used as a separator.
* `size` - the number of candidates that are generated for each individual query term Low numbers like `3` or `5` typically produce good results. Raising this can bring up terms with higher edit distances. The default is `5`.
* `analyzer` -  Sets the analyzer to analyse to suggest text with. Defaults to the search analyzer of the suggest field passed via `field`.
* `shard_size` - Sets the maximum number of suggested term to be retrieved from each individual shard. During the reduce phase the only the top N suggestions are returned based on the `size` option. Defaults to `5`.
* `text` - Sets the text / query to provide suggestions for.

## Smoothing Models
The `phrase` suggester supports multiple smoothing models to balance weight between infrequent grams (grams (shingles) are not existing in the index) and frequent grams (appear at least once in the index).
* `laplace` - the default model that uses an additive smoothing model where a constant (typically `1.0` or smaller) is added to all counts to balance weights, The default `alpha` is `0.5`.
* `stupid_backoff` - a simple backoff model that backs off to lower order n-gram models if the higher order count is `0` and discounts the lower order n-gram model by a constant factor. The default `discount` is `0.4`.
* `linear_interpolation` - a smoothing model that takes the weighted mean of the unigrams, bigrams and trigrams based on user supplied weights (lambdas). Linear Interpolation doesn't have any default values. All parameters (`trigram_lambda`, `bigram_lambda`, `unigram_lambda`) must be supplied.

## Candidate Generators
The `phrase` suggester uses candidate generators to produce a list of possible terms per term in the given text. A single candidate generator is similar to a `term` suggester called for each individual term in the text. The output of the generators is subsequently scored in in combination with the candidates from the other terms to for suggestion candidates.
Currently only one type of candidate generator is supported, the `direct_generator`. The Phrase suggest API accepts a list of generators under the key `direct_generator` each of the generators in the list are called per term in the original text.

## Direct Generators

The direct generators support the following parameters:

* `field` - The field to fetch the candidate suggestions from. This is an required option that either needs to be set globally or per suggestion.
* `analyzer` - The analyzer to analyse the suggest text with. Defaults to the search analyzer of the suggest field.
* `size` - The maximum corrections to be returned per suggest text token.
* `suggest_mode` - The suggest mode controls what suggestions are included or controls for what suggest text terms, suggestions should be suggested. Three possible values can be specified:
 * `missing` - Only suggest terms in the suggest text that aren't in the index. This is the default.
 * `popular` - Only suggest suggestions that occur in more docs then the original suggest text term.
 * `always` - Suggest any matching suggestions based on terms in the suggest text.
* `max_edits` - The maximum edit distance candidate suggestions can have in order to be considered as a suggestion. Can only be a value between 1 and 2. Any other value result in an bad request error being thrown. Defaults to 2.
* `min_prefix` - The number of minimal prefix characters that must match in order be a candidate suggestions. Defaults to 1. Increasing this number improves spellcheck performance. Usually misspellings don't occur in the beginning of terms.
* `min_query_length` -  The minimum length a suggest text term must have in order to be included. Defaults to 4.
* `max_inspections` - A factor that is used to multiply with the `shards_size` in order to inspect more candidate spell corrections on the shard level. Can improve accuracy at the cost of performance. Defaults to 5.
* `threshold_frequency` - The minimal threshold in number of documents a suggestion should appear in. This can be specified as an absolute number or as a relative percentage of number of documents. This can improve quality by only suggesting high frequency terms. Defaults to 0f and is not enabled. If a value higher than 1 is specified then the number cannot be fractional. The shard level document frequencies are used for this option.
* `max_query_frequency` - The maximum threshold in number of documents a sugges text token can exist in order to be included. Can be a relative percentage number (e.g 0.4) or an absolute number to represent document frequencies. If an value higher than 1 is specified then fractional can not be specified. Defaults to 0.01f. This can be used to exclude high frequency terms from being spellchecked. High frequency terms are usually spelled correctly on top of this this also improves the spellcheck performance.  The shard level document frequencies are used for this option.
* pre_filter -  a filter (analyzer) that is applied to each of the tokens passed to this candidate generator. This filter is applied to the original token before candidates are generated. (optional)
* post_filter - a filter (analyzer) that is applied to each of the generated tokens before they are passed to the actual phrase scorer. (optional)

The following example shows a `phrase` suggest call with two generators, the first one is using a field containing ordinary indexed terms and the second one uses a field that uses
terms indexed with a `reverse` filter (tokens are index in reverse order). This is used to overcome the limitation of the direct generators to require a constant prefix to provide high-performance suggestions. The `pre_filter` and `post_filter` options accept ordinary analyzer names.

```json
curl -s -XPOST 'localhost:9200/_search' -d {
 "suggest" : {
    "text" : "Xor the Got-Jewel",
    "simple_phrase" : {
      "phrase" : {
        "analyzer" : "body",
        "field" : "bigram",
        "size" : 4,
        "real_word_error_likelihood" : 0.95,
        "confidence" : 2.0,
        "gram_size" : 2,
        "direct_generator" : [ {
          "field" : "body",
          "suggest_mode" : "always",
          "min_word_len" : 1
        }, {
          "field" : "reverse",
          "suggest_mode" : "always",
          "min_word_len" : 1,
          "pre_filter" : "reverse",
          "post_filter" : "reverse"
        } ]
      }
    }
  }
}
```

`pre_filter` and `post_filter` can also be used to inject synonyms after candidates are generated. For instance for the query `captain usq` we might generate a candidate `usa` for term `usq` which is a synonym for `america` which allows to present `captain america` to the user if this phrase scores high enough.

Closes #2709

time:
2013-02-28T15:02:38Z
class:
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/DoubleValuesComparatorBase.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/LongValuesComparatorBase.java
comments:
not bytes...

time:
2013-02-28T08:10:43Z
class:
comments:
upgrade to jackson 2.1.4

time:
2013-02-27T22:44:55Z
class:
src/main/java/org/elasticsearch/index/engine/robin/RobinEngine.java
src/main/java/org/elasticsearch/index/merge/scheduler/ConcurrentMergeSchedulerProvider.java
src/main/java/org/elasticsearch/index/merge/scheduler/MergeSchedulerProvider.java
src/main/java/org/elasticsearch/index/merge/scheduler/SerialMergeSchedulerProvider.java
src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
src/test/java/org/elasticsearch/test/unit/index/engine/AbstractSimpleEngineTests.java
comments:
fail a shard if a merge failure occurs

time:
2013-02-27T19:23:40Z
class:
src/main/java/org/elasticsearch/index/merge/scheduler/ConcurrentMergeSchedulerProvider.java
comments:
don't log merge failures twice

time:
2013-02-27T18:03:42Z
class:
src/test/java/org/elasticsearch/test/integration/search/basic/IdsSearchTests.java
src/test/java/org/elasticsearch/test/integration/search/query/SimpleQueryTests.java
comments:
move id tests into SimpleQueryTests

time:
2013-02-27T17:58:27Z
class:
src/main/java/org/elasticsearch/index/mapper/Uid.java
src/test/java/org/elasticsearch/test/integration/search/basic/IdsSearchTests.java
comments:
Fix AIOOB exception in UID type/id tuple creation.

Closes #2695

time:
2013-02-27T17:58:08Z
class:
src/main/java/org/elasticsearch/common/settings/loader/XContentSettingsLoader.java
comments:
malformed elasticsearch.yml causes unresponsive hang
fixes #2693

time:
2013-02-27T17:31:13Z
class:
comments:
upgrade to guava 14.0

time:
2013-02-27T17:13:48Z
class:
comments:
remove compress flag, as its no longer relevant

time:
2013-02-27T14:15:02Z
class:
src/main/java/org/elasticsearch/action/count/CountRequest.java
src/main/java/org/elasticsearch/action/count/CountRequestBuilder.java
comments:
Include preference in _count serialization and builder. [#2698]

time:
2013-02-27T09:46:55Z
class:
src/main/java/org/elasticsearch/index/codec/postingsformat/DefaultPostingsFormatProvider.java
src/main/java/org/elasticsearch/index/codec/postingsformat/PulsingPostingsFormatProvider.java
comments:
Updated postings format jdocs

time:
2013-02-26T22:24:52Z
class:
src/main/java/org/elasticsearch/action/count/CountRequest.java
src/main/java/org/elasticsearch/action/count/TransportCountAction.java
src/main/java/org/elasticsearch/rest/action/count/RestCountAction.java
comments:
Allow _count to take preference parameter. [#2698]

time:
2013-02-26T21:06:52Z
class:
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
comments:
Allow index: "no" for _type
fixes #2696

time:
2013-02-26T16:48:02Z
class:
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
comments:
Moved resolveClosestNestedObjectMapper to MapperService

time:
2013-02-26T15:24:41Z
class:
comments:
move to 1.3 snap

time:
2013-02-26T15:24:25Z
class:
comments:
release 1.2.0

time:
2013-02-26T15:14:10Z
class:
comments:
move to 1.4 snap

time:
2013-02-26T15:13:55Z
class:
comments:
release 1.3

time:
2013-02-26T15:06:53Z
class:
comments:
move to 1.8 snap

time:
2013-02-26T15:06:39Z
class:
comments:
release 1.7

time:
2013-02-26T14:58:48Z
class:
comments:
move to 1.9 snap

time:
2013-02-26T14:58:30Z
class:
comments:
release 1.8

time:
2013-02-26T14:52:07Z
class:
comments:
move to 1.4 snap

time:
2013-02-26T14:51:54Z
class:
comments:
release 1.3.0

time:
2013-02-26T14:46:44Z
class:
comments:
move to 1.4 snap

time:
2013-02-26T14:46:23Z
class:
comments:
release 1.3

time:
2013-02-26T14:43:19Z
class:
comments:
move to 1.4 snap

time:
2013-02-26T14:42:55Z
class:
comments:
release 1.3

time:
2013-02-26T14:36:58Z
class:
comments:
move to 1.3 snap

time:
2013-02-26T14:36:34Z
class:
comments:
release 1.2.0

time:
2013-02-26T14:30:13Z
class:
comments:
move to 0.90

time:
2013-02-26T14:13:42Z
class:
comments:
move to 1.11

time:
2013-02-26T14:13:14Z
class:
comments:
release 1.11.0

time:
2013-02-26T14:11:47Z
class:
comments:
upgrade to aws sdk 1.3.32

time:
2013-02-26T14:09:06Z
class:
comments:
move to 0.90 dep

time:
2013-02-26T13:54:46Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/cluster/ClusterModule.java
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ConcurrentRebalanceAllocationDecider.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DisableAllocationDecider.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/FilterAllocationDecider.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ShardsLimitAllocationDecider.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ThrottlingAllocationDecider.java
src/main/java/org/elasticsearch/cluster/settings/ClusterDynamicSettings.java
src/main/java/org/elasticsearch/cluster/settings/ClusterDynamicSettingsModule.java
src/main/java/org/elasticsearch/cluster/settings/DynamicSettings.java
src/main/java/org/elasticsearch/discovery/zen/elect/ElectMasterService.java
src/main/java/org/elasticsearch/gateway/local/LocalGatewayAllocator.java
src/main/java/org/elasticsearch/index/engine/robin/RobinEngine.java
src/main/java/org/elasticsearch/index/gateway/IndexShardGatewayService.java
src/main/java/org/elasticsearch/index/indexing/slowlog/ShardSlowLogIndexingService.java
src/main/java/org/elasticsearch/index/merge/policy/LogByteSizeMergePolicyProvider.java
src/main/java/org/elasticsearch/index/merge/policy/LogDocMergePolicyProvider.java
src/main/java/org/elasticsearch/index/merge/policy/TieredMergePolicyProvider.java
src/main/java/org/elasticsearch/index/search/slowlog/ShardSlowLogSearchService.java
src/main/java/org/elasticsearch/index/settings/IndexDynamicSettings.java
src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
src/main/java/org/elasticsearch/index/settings/IndexSettingsService.java
src/main/java/org/elasticsearch/index/shard/service/InternalIndexShard.java
src/main/java/org/elasticsearch/index/store/support/AbstractIndexStore.java
src/main/java/org/elasticsearch/index/translog/TranslogService.java
src/main/java/org/elasticsearch/index/translog/fs/FsTranslog.java
src/main/java/org/elasticsearch/indices/cache/filter/IndicesFilterCache.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySettings.java
src/main/java/org/elasticsearch/indices/store/IndicesStore.java
src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
src/main/java/org/elasticsearch/node/settings/NodeSettingsService.java
src/main/java/org/elasticsearch/threadpool/ThreadPool.java
comments:
Changing dynamic index and cluster settings should work on master-only nodes

Fixes #2675

time:
2013-02-26T09:33:57Z
class:
src/main/java/org/elasticsearch/Version.java
comments:
move to 0.90.0.Beta2 snap

time:
2013-02-26T09:32:50Z
class:
src/main/java/org/elasticsearch/Version.java
comments:
release 0.90.0.Beta1

time:
2013-02-25T15:21:22Z
class:
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
src/test/java/org/elasticsearch/test/integration/nested/SimpleNestedTests.java
comments:
Fixed resolving closest nested object when sorting on a field inside nested object

time:
2013-02-25T13:13:59Z
class:
src/main/java/org/elasticsearch/index/search/nested/NestedChildrenCollector.java
comments:
Removed unused nested children collector.

time:
2013-02-25T12:40:05Z
class:
src/main/java/org/elasticsearch/index/mapper/ObjectMappers.java
comments:
add helper method to know if ObjectMappers have a nested mapping

time:
2013-02-25T12:32:00Z
class:
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
comments:
better error message on nested sorting

time:
2013-02-25T11:51:34Z
class:
src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
comments:
Empty list in ids query should not fail, but match no docs
relates to #2687

time:
2013-02-25T11:26:49Z
class:
src/main/java/org/elasticsearch/index/query/IdsFilterParser.java
src/main/java/org/elasticsearch/index/query/TermsFilterParser.java
src/test/java/org/elasticsearch/test/integration/search/query/SimpleQueryTests.java
comments:
Terms/Ids filter: Support empty list of values, resulting in no match for it
closes #2687
also closes #2686

time:
2013-02-25T10:58:58Z
class:
src/test/java/org/elasticsearch/test/integration/search/query/SimpleQueryTests.java
comments:
add a test for empty lookup terms filter

time:
2013-02-25T10:15:45Z
class:
comments:
upgrade to latest jackson

time:
2013-02-25T09:57:18Z
class:
src/main/java/org/elasticsearch/search/facet/InternalFacet.java
src/main/java/org/elasticsearch/search/facet/InternalFacets.java
src/main/java/org/elasticsearch/search/facet/datehistogram/InternalCountDateHistogramFacet.java
src/main/java/org/elasticsearch/search/facet/datehistogram/InternalFullDateHistogramFacet.java
src/main/java/org/elasticsearch/search/facet/filter/InternalFilterFacet.java
src/main/java/org/elasticsearch/search/facet/geodistance/InternalGeoDistanceFacet.java
src/main/java/org/elasticsearch/search/facet/histogram/InternalCountHistogramFacet.java
src/main/java/org/elasticsearch/search/facet/histogram/InternalFullHistogramFacet.java
src/main/java/org/elasticsearch/search/facet/query/InternalQueryFacet.java
src/main/java/org/elasticsearch/search/facet/range/InternalRangeFacet.java
src/main/java/org/elasticsearch/search/facet/statistical/InternalStatisticalFacet.java
src/main/java/org/elasticsearch/search/facet/terms/doubles/InternalDoubleTermsFacet.java
src/main/java/org/elasticsearch/search/facet/terms/longs/InternalLongTermsFacet.java
src/main/java/org/elasticsearch/search/facet/terms/strings/InternalStringTermsFacet.java
src/main/java/org/elasticsearch/search/facet/termsstats/doubles/InternalTermsStatsDoubleFacet.java
src/main/java/org/elasticsearch/search/facet/termsstats/longs/InternalTermsStatsLongFacet.java
src/main/java/org/elasticsearch/search/facet/termsstats/strings/InternalTermsStatsStringFacet.java
comments:
move internal stream facet type lookup to work with bytes

time:
2013-02-25T08:51:29Z
class:
src/main/java/org/elasticsearch/index/analysis/KuromojiAnalyzerProvider.java
src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java
comments:
Move to Elasticsearch 0.21.0.Beta1
Due to refactoring in 0.21.x we have to update this plugin
Closes #2.

time:
2013-02-24T22:22:37Z
class:
comments:
Move to Elasticsearch 0.21.0.Beta1
Due to refactoring in 0.21.x we have to update this plugin
Closes #5.

time:
2013-02-24T22:16:50Z
class:
src/main/java/org/elasticsearch/index/analysis/SmartChineseAnalyzerProvider.java
comments:
Move to Elasticsearch 0.21.0.Beta1
Due to refactoring in 0.21.x we have to update this plugin
Closes #2.

time:
2013-02-24T22:11:23Z
class:
src/main/java/org/elasticsearch/index/analysis/pl/PolishAnalyzerProvider.java
comments:
Move to Elasticsearch 0.21.0.Beta1
Due to refactoring in 0.21.x we have to update this plugin
Closes #4.

time:
2013-02-24T21:53:09Z
class:
src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
src/test/java/org/elasticsearch/script/python/PythonScriptSearchTests.java
comments:
Move to Elasticsearch 0.21.0.Beta1
Due to refactoring in 0.21.x we have to update this plugin
Closes #3.

time:
2013-02-24T21:32:11Z
class:
src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptSearchTests.java
comments:
Move to Elasticsearch 0.21.0.Beta1
Due to refactoring in 0.21.x we have to update this plugin
Closes #3.

time:
2013-02-24T21:18:15Z
class:
comments:
Upgrade to Lucene 4.1
Update README
Use lucene.version in pom
Relative to #8

time:
2013-02-24T21:08:21Z
class:
src/test/java/org/elasticsearch/index/analysis/SimpleIcuCollationTokenFilterTests.java
comments:
Merge pull request #8 from yakaz/lucene-4.1

Upgrade to Lucene 4.1

time:
2013-02-24T08:14:11Z
class:
src/main/java/org/elasticsearch/monitor/dump/heap/HeapDumpContributor.java
comments:
Merge pull request #2681 from lukas-vlcek/master

Fix exception typo

time:
2013-02-24T06:47:25Z
class:
src/main/java/org/elasticsearch/monitor/dump/heap/HeapDumpContributor.java
comments:
fix typo in exception

time:
2013-02-23T13:23:36Z
class:
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
src/main/java/org/elasticsearch/client/IndicesAdminClient.java
src/main/java/org/elasticsearch/client/support/AbstractIndicesAdminClient.java
src/main/java/org/elasticsearch/rest/action/admin/indices/stats/RestIndicesStatsAction.java
src/test/java/org/elasticsearch/test/integration/indices/stats/SimpleIndexStatsTests.java
src/test/java/org/elasticsearch/test/integration/search/stats/SearchStatsTests.java
comments:
[Code refactoring] IndicesStats -> IndicesStatsResponse
fixes #1782

time:
2013-02-23T11:13:51Z
class:
src/test/java/org/elasticsearch/index/mapper/xcontent/SimpleAttachmentMapperTests.java
src/test/java/org/elasticsearch/plugin/mapper/attachments/test/SimpleAttachmentIntegrationTests.java
comments:
Move to Elasticsearch 0.21.0.Beta1
Due to refactoring in 0.21.x we have to update this plugin
Closes #24.

time:
2013-02-23T09:52:30Z
class:
comments:
cleanup the pom

time:
2013-02-23T09:37:56Z
class:
src/main/java/org/elasticsearch/action/ActionRequest.java
src/main/java/org/elasticsearch/action/ActionRequestBuilder.java
src/main/java/org/elasticsearch/action/TransportActionNodeProxy.java
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/restart/NodesRestartRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/node/restart/NodesRestartRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/node/shutdown/NodesShutdownRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/node/shutdown/NodesShutdownRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/node/shutdown/TransportNodesShutdownAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/ClusterUpdateSettingsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/ClusterUpdateSettingsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequest.java
src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/alias/TransportIndicesAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/close/CloseIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/close/CloseIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexResponse.java
src/main/java/org/elasticsearch/action/admin/indices/create/TransportCreateIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexResponse.java
src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/TransportIndicesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TypesExistsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TypesExistsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/flush/FlushRequest.java
src/main/java/org/elasticsearch/action/admin/indices/flush/FlushRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/flush/ShardFlushRequest.java
src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
src/main/java/org/elasticsearch/action/admin/indices/gateway/snapshot/TransportGatewaySnapshotAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/delete/DeleteMappingRequest.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/delete/DeleteMappingRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/delete/TransportDeleteMappingAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequest.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingResponse.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
src/main/java/org/elasticsearch/action/admin/indices/open/OpenIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/open/OpenIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/open/TransportOpenIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/ShardOptimizeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshRequest.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/ShardRefreshRequest.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/TransportUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/UpdateSettingsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/settings/UpdateSettingsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/status/IndicesStatusRequest.java
src/main/java/org/elasticsearch/action/admin/indices/status/IndicesStatusRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/status/TransportIndicesStatusAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/DeleteIndexTemplateRequest.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/DeleteIndexTemplateRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/TransportDeleteIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/TransportPutIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryRequest.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequest.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerRequest.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerRequest.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java
src/main/java/org/elasticsearch/action/bulk/BulkItemRequest.java
src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java
src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/count/CountRequest.java
src/main/java/org/elasticsearch/action/count/CountRequestBuilder.java
src/main/java/org/elasticsearch/action/count/ShardCountRequest.java
src/main/java/org/elasticsearch/action/count/TransportCountAction.java
src/main/java/org/elasticsearch/action/delete/DeleteRequest.java
src/main/java/org/elasticsearch/action/delete/DeleteRequestBuilder.java
src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
src/main/java/org/elasticsearch/action/delete/index/IndexDeleteRequest.java
src/main/java/org/elasticsearch/action/delete/index/ShardDeleteRequest.java
src/main/java/org/elasticsearch/action/delete/index/TransportIndexDeleteAction.java
src/main/java/org/elasticsearch/action/delete/index/TransportShardDeleteAction.java
src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequest.java
src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequestBuilder.java
src/main/java/org/elasticsearch/action/deletebyquery/IndexDeleteByQueryRequest.java
src/main/java/org/elasticsearch/action/deletebyquery/ShardDeleteByQueryRequest.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportIndexDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportShardDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/explain/ExplainRequest.java
src/main/java/org/elasticsearch/action/explain/ExplainRequestBuilder.java
src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
src/main/java/org/elasticsearch/action/get/GetRequest.java
src/main/java/org/elasticsearch/action/get/GetRequestBuilder.java
src/main/java/org/elasticsearch/action/get/MultiGetRequest.java
src/main/java/org/elasticsearch/action/get/MultiGetRequestBuilder.java
src/main/java/org/elasticsearch/action/get/MultiGetShardRequest.java
src/main/java/org/elasticsearch/action/get/TransportGetAction.java
src/main/java/org/elasticsearch/action/get/TransportMultiGetAction.java
src/main/java/org/elasticsearch/action/get/TransportShardMultiGetAction.java
src/main/java/org/elasticsearch/action/index/IndexRequest.java
src/main/java/org/elasticsearch/action/index/IndexRequestBuilder.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequest.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequestBuilder.java
src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java
src/main/java/org/elasticsearch/action/percolate/PercolateRequest.java
src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java
src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
src/main/java/org/elasticsearch/action/search/MultiSearchRequestBuilder.java
src/main/java/org/elasticsearch/action/search/SearchRequest.java
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/action/search/SearchResponse.java
src/main/java/org/elasticsearch/action/search/SearchScrollRequest.java
src/main/java/org/elasticsearch/action/search/SearchScrollRequestBuilder.java
src/main/java/org/elasticsearch/action/search/TransportMultiSearchAction.java
src/main/java/org/elasticsearch/action/search/TransportSearchAction.java
src/main/java/org/elasticsearch/action/search/TransportSearchScrollAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchCountAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryAndFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryThenFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchQueryAndFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchQueryThenFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchScanAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryAndFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryThenFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollScanAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
src/main/java/org/elasticsearch/action/support/TransportAction.java
src/main/java/org/elasticsearch/action/support/broadcast/BroadcastOperationRequest.java
src/main/java/org/elasticsearch/action/support/broadcast/BroadcastOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/broadcast/BroadcastShardOperationRequest.java
src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastOperationAction.java
src/main/java/org/elasticsearch/action/support/master/MasterNodeOperationRequest.java
src/main/java/org/elasticsearch/action/support/master/MasterNodeOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeOperationAction.java
src/main/java/org/elasticsearch/action/support/nodes/NodesOperationRequest.java
src/main/java/org/elasticsearch/action/support/nodes/NodesOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/nodes/TransportNodesOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/IndexReplicationOperationRequest.java
src/main/java/org/elasticsearch/action/support/replication/IndicesReplicationOperationRequest.java
src/main/java/org/elasticsearch/action/support/replication/IndicesReplicationOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/replication/ShardReplicationOperationRequest.java
src/main/java/org/elasticsearch/action/support/replication/ShardReplicationOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/replication/TransportIndexReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportIndicesReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/single/custom/SingleCustomOperationRequest.java
src/main/java/org/elasticsearch/action/support/single/custom/SingleCustomOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/single/custom/TransportSingleCustomOperationAction.java
src/main/java/org/elasticsearch/action/support/single/instance/InstanceShardOperationRequest.java
src/main/java/org/elasticsearch/action/support/single/instance/InstanceShardOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationAction.java
src/main/java/org/elasticsearch/action/support/single/shard/SingleShardOperationRequest.java
src/main/java/org/elasticsearch/action/support/single/shard/SingleShardOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/single/shard/TransportShardSingleOperationAction.java
src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
src/main/java/org/elasticsearch/action/update/UpdateRequest.java
src/main/java/org/elasticsearch/action/update/UpdateRequestBuilder.java
src/main/java/org/elasticsearch/client/Requests.java
src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
src/main/java/org/elasticsearch/gateway/local/state/meta/TransportNodesListGatewayMetaState.java
src/main/java/org/elasticsearch/gateway/local/state/shards/TransportNodesListGatewayStartedShards.java
src/main/java/org/elasticsearch/index/search/shape/ShapeFetchService.java
src/main/java/org/elasticsearch/indices/cache/filter/terms/IndicesTermsFilterCache.java
src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/health/RestClusterHealthAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/node/hotthreads/RestNodesHotThreadsAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/node/info/RestNodesInfoAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/node/restart/RestNodesRestartAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/node/shutdown/RestNodesShutdownAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/node/stats/RestNodesStatsAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/reroute/RestClusterRerouteAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/settings/RestClusterGetSettingsAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/settings/RestClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/state/RestClusterStateAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/alias/RestGetIndicesAliasesAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/alias/RestIndicesAliasesAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/cache/clear/RestClearIndicesCacheAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/close/RestCloseIndexAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/create/RestCreateIndexAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/delete/RestDeleteIndexAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/exists/indices/RestIndicesExistsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/exists/types/RestTypesExistsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/flush/RestFlushAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/gateway/snapshot/RestGatewaySnapshotAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/mapping/delete/RestDeleteMappingAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/mapping/get/RestGetMappingAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/mapping/put/RestPutMappingAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/open/RestOpenIndexAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/optimize/RestOptimizeAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/refresh/RestRefreshAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/segments/RestIndicesSegmentsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/settings/RestGetSettingsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/settings/RestUpdateSettingsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/stats/RestIndicesStatsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/status/RestIndicesStatusAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/template/delete/RestDeleteIndexTemplateAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/template/get/RestGetIndexTemplateAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/template/put/RestPutIndexTemplateAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/validate/query/RestValidateQueryAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/warmer/delete/RestDeleteWarmerAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/warmer/get/RestGetWarmerAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/warmer/put/RestPutWarmerAction.java
src/main/java/org/elasticsearch/rest/action/bulk/RestBulkAction.java
src/main/java/org/elasticsearch/rest/action/count/RestCountAction.java
src/main/java/org/elasticsearch/rest/action/delete/RestDeleteAction.java
src/main/java/org/elasticsearch/rest/action/deletebyquery/RestDeleteByQueryAction.java
src/main/java/org/elasticsearch/rest/action/explain/RestExplainAction.java
src/main/java/org/elasticsearch/rest/action/get/RestGetAction.java
src/main/java/org/elasticsearch/rest/action/get/RestHeadAction.java
src/main/java/org/elasticsearch/rest/action/get/RestMultiGetAction.java
src/main/java/org/elasticsearch/rest/action/index/RestIndexAction.java
src/main/java/org/elasticsearch/rest/action/main/RestMainAction.java
src/main/java/org/elasticsearch/rest/action/mlt/RestMoreLikeThisAction.java
src/main/java/org/elasticsearch/rest/action/percolate/RestPercolateAction.java
src/main/java/org/elasticsearch/rest/action/search/RestMultiSearchAction.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchScrollAction.java
src/main/java/org/elasticsearch/rest/action/update/RestUpdateAction.java
src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
src/main/java/org/elasticsearch/search/internal/InternalScrollSearchRequest.java
src/main/java/org/elasticsearch/search/internal/ShardSearchRequest.java
src/test/java/org/elasticsearch/benchmark/search/SuggestSearchBenchMark.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/facet/HistogramFacetSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/facet/QueryFilterFacetSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/facet/TermsFacetSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/nested/NestedSearchBenchMark.java
src/test/java/org/elasticsearch/benchmark/stress/NodesStressTest.java
src/test/java/org/elasticsearch/benchmark/stress/SingleThreadBulkStress.java
src/test/java/org/elasticsearch/test/integration/aliases/IndexAliasesTests.java
src/test/java/org/elasticsearch/test/integration/broadcast/BroadcastActionsTests.java
src/test/java/org/elasticsearch/test/integration/cluster/MinimumMasterNodesTests.java
src/test/java/org/elasticsearch/test/integration/cluster/SimpleDataNodesTests.java
src/test/java/org/elasticsearch/test/integration/document/AliasedIndexDocumentActionsTests.java
src/test/java/org/elasticsearch/test/integration/document/DocumentActionsTests.java
src/test/java/org/elasticsearch/test/integration/gateway/fs/AbstractSimpleIndexGatewayTests.java
src/test/java/org/elasticsearch/test/integration/gateway/fs/FsMetaDataGatewayTests.java
src/test/java/org/elasticsearch/test/integration/gateway/local/QuorumLocalGatewayTests.java
src/test/java/org/elasticsearch/test/integration/gateway/local/SimpleRecoveryLocalGatewayTests.java
src/test/java/org/elasticsearch/test/integration/get/GetActionTests.java
src/test/java/org/elasticsearch/test/integration/indexlifecycle/IndexLifecycleActionTests.java
src/test/java/org/elasticsearch/test/integration/indices/store/IndicesStoreTests.java
src/test/java/org/elasticsearch/test/integration/mlt/MoreLikeThisActionTests.java
src/test/java/org/elasticsearch/test/integration/nodesinfo/SimpleNodesInfoTests.java
src/test/java/org/elasticsearch/test/integration/percolator/RecoveryPercolatorTests.java
src/test/java/org/elasticsearch/test/integration/recovery/SimpleRecoveryTests.java
src/test/java/org/elasticsearch/test/integration/routing/AliasRoutingTests.java
src/test/java/org/elasticsearch/test/integration/routing/SimpleRoutingTests.java
src/test/java/org/elasticsearch/test/integration/search/basic/TransportSearchFailuresTests.java
src/test/java/org/elasticsearch/test/integration/search/basic/TransportTwoNodesSearchTests.java
src/test/java/org/elasticsearch/test/integration/search/customscore/CustomScoreSearchTests.java
src/test/java/org/elasticsearch/test/integration/search/highlight/HighlighterSearchTests.java
src/test/java/org/elasticsearch/test/integration/search/indicesboost/SimpleIndicesBoostSearchTests.java
src/test/java/org/elasticsearch/test/integration/update/UpdateTests.java
src/test/java/org/elasticsearch/test/stress/fullrestart/FullRestartStressTest.java
src/test/java/org/elasticsearch/test/stress/indexing/BulkIndexingStressTest.java
src/test/java/org/elasticsearch/test/stress/search1/ParentChildStressTest.java
src/test/java/org/elasticsearch/test/unit/action/bulk/BulkRequestTests.java
src/test/java/org/elasticsearch/test/unit/action/search/MultiSearchRequestTests.java
comments:
Revert changes on *Request classes from issue
Relative to #2657

time:
2013-02-23T08:40:07Z
class:
src/main/java/org/elasticsearch/index/mapper/attachment/AttachmentMapper.java
src/test/java/org/elasticsearch/plugin/mapper/attachments/test/SimpleAttachmentIntegrationTests.java
comments:
NPE if "content" is missing in mapper-attachment plugin

Curl recreation:

        curl -X DELETE "localhost:9200/test"

        curl -X PUT "localhost:9200/test" -d '{
          "settings" : { "index" : { "number_of_shards" : 1, "number_of_replicas" : 0 }}
        }'

        curl -X GET "localhost:9200/_cluster/health?wait_for_status=green&pretty=1&timeout=5s"

        curl -X PUT "localhost:9200/test/attachment/_mapping" -d '{
          "attachment" : {
            "properties" : {
              "file" : {
                "type" : "attachment"
              }
            }
          }
        }'

        curl -X PUT "localhost:9200/test/attachment/1" -d '{
            "file" : {
                "_content_type" : "application/pdf",
                "_name" : "resource/name/of/my.pdf"
            }
        }
        '

Produces a:

        {"error":"NullPointerException[null]","status":500}

And in ES logs:

      [2013-02-20 12:49:04,445][DEBUG][action.index             ] [Drake, Frank] [test][0], node[LI6crwNKQmu1ue1u7mlqGA], [P], s[STARTED]: Failed to execute [index {[test][attachment][1], source[{
          "file" : {
              "_content_type" : "application/pdf",
              "_name" : "resource/name/of/my.pdf"
          }
      }
      ]}]
      java.lang.NullPointerException
      	at org.elasticsearch.common.io.FastByteArrayInputStream.<init>(FastByteArrayInputStream.java:90)
      	at org.elasticsearch.index.mapper.attachment.AttachmentMapper.parse(AttachmentMapper.java:309)
      	at org.elasticsearch.index.mapper.object.ObjectMapper.serializeObject(ObjectMapper.java:507)
      	at org.elasticsearch.index.mapper.object.ObjectMapper.parse(ObjectMapper.java:449)
      	at org.elasticsearch.index.mapper.DocumentMapper.parse(DocumentMapper.java:486)
      	at org.elasticsearch.index.mapper.DocumentMapper.parse(DocumentMapper.java:430)
      	at org.elasticsearch.index.shard.service.InternalIndexShard.prepareIndex(InternalIndexShard.java:318)
      	at org.elasticsearch.action.index.TransportIndexAction.shardOperationOnPrimary(TransportIndexAction.java:203)
      	at org.elasticsearch.action.support.replication.TransportShardReplicationOperationAction$AsyncShardOperationAction.performOnPrimary(TransportShardReplicationOperationAction.java:531)
      	at org.elasticsearch.action.support.replication.TransportShardReplicationOperationAction$AsyncShardOperationAction$1.run(TransportShardReplicationOperationAction.java:429)
      	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
      	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
      	at java.lang.Thread.run(Thread.java:680)

Closes #23

time:
2013-02-23T08:34:06Z
class:
src/main/java/org/elasticsearch/http/HttpServer.java
src/main/java/org/elasticsearch/plugins/PluginsHelper.java
src/main/java/org/elasticsearch/plugins/PluginsService.java
src/test/java/org/elasticsearch/test/integration/plugin/SitePluginTests.java
comments:
Display list of all available site plugins on /_plugins/ end point fix #2664

time:
2013-02-22T22:08:38Z
class:
src/main/java/org/elasticsearch/rest/action/admin/indices/settings/RestGetSettingsAction.java
comments:
only return 404 on actual index settings missing, on "_all", return 200
relates to #2676

time:
2013-02-22T22:08:33Z
class:
src/main/java/org/elasticsearch/rest/action/admin/indices/settings/RestGetSettingsAction.java
comments:
Get settings on empty node fails with ArrayIndexOutOfBoundsException[0]
fixes #2676

time:
2013-02-22T19:59:49Z
class:
src/main/java/org/elasticsearch/index/mapper/ParsedDocument.java
src/test/java/org/elasticsearch/test/unit/index/engine/AbstractSimpleEngineTests.java
comments:
Improve stability of SimpleRobinEngineTests

time:
2013-02-22T16:20:41Z
class:
comments:
upgrade to netty 3.6.3

time:
2013-02-22T13:06:39Z
class:
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/search/rescore/RescoreBuilder.java
comments:
keep the rescorer builder consistent with other builders, without the use of setters

time:
2013-02-22T13:04:10Z
class:
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/index/cache/IndexCache.java
src/main/java/org/elasticsearch/index/query/FilterBuilders.java
src/main/java/org/elasticsearch/index/query/TermsFilterParser.java
src/main/java/org/elasticsearch/index/query/TermsLookupFilterBuilder.java
src/main/java/org/elasticsearch/indices/IndicesModule.java
src/main/java/org/elasticsearch/indices/cache/filter/terms/IndicesTermsFilterCache.java
src/main/java/org/elasticsearch/indices/cache/filter/terms/TermsLookup.java
src/test/java/org/elasticsearch/test/integration/search/query/SimpleQueryTests.java
comments:
Query DSL: Terms filter to allow for terms lookup from another document
closes #2674

time:
2013-02-22T11:59:41Z
class:
src/main/java/org/elasticsearch/action/index/IndexRequest.java
comments:
mark source as "safe" when copying it over

time:
2013-02-22T11:45:56Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/health/RestClusterHealthAction.java
comments:
fix boolean to is from get
relates to #2657

time:
2013-02-21T21:06:33Z
class:
src/test/java/org/elasticsearch/test/integration/AbstractNodesTests.java
src/test/java/org/elasticsearch/test/integration/gateway/local/SimpleRecoveryLocalGatewayTests.java
comments:
Improve stability of the testReusePeerRecovery test

time:
2013-02-21T20:11:14Z
class:
src/main/java/jsr166e/CompletableFuture.java
src/main/java/jsr166e/CompletionException.java
src/main/java/jsr166e/ConcurrentHashMapV8.java
src/main/java/jsr166e/CountedCompleter.java
src/main/java/jsr166e/DoubleAdder.java
src/main/java/jsr166e/DoubleMaxUpdater.java
src/main/java/jsr166e/ForkJoinPool.java
src/main/java/jsr166e/ForkJoinTask.java
src/main/java/jsr166e/ForkJoinWorkerThread.java
src/main/java/jsr166e/LongAdder.java
src/main/java/jsr166e/LongAdderTable.java
src/main/java/jsr166e/LongMaxUpdater.java
src/main/java/jsr166e/RecursiveAction.java
src/main/java/jsr166e/RecursiveTask.java
src/main/java/jsr166e/StampedLock.java
src/main/java/jsr166e/Striped64.java
src/main/java/jsr166e/extra/AtomicDouble.java
src/main/java/jsr166e/extra/AtomicDoubleArray.java
src/main/java/jsr166e/extra/ReadMostlyVector.java
src/main/java/jsr166e/extra/SequenceLock.java
src/main/java/jsr166e/package-info.java
src/main/java/jsr166y/ConcurrentLinkedDeque.java
src/main/java/jsr166y/CountedCompleter.java
src/main/java/jsr166y/ForkJoinPool.java
src/main/java/jsr166y/ForkJoinTask.java
src/main/java/jsr166y/ForkJoinWorkerThread.java
src/main/java/jsr166y/LinkedTransferQueue.java
src/main/java/jsr166y/Phaser.java
src/main/java/jsr166y/RecursiveAction.java
src/main/java/jsr166y/RecursiveTask.java
src/main/java/jsr166y/package-info.java
comments:
update jsr166y adn jst166e to latest versions

time:
2013-02-21T19:07:40Z
class:
src/main/java/org/elasticsearch/common/util/concurrent/ConcurrentCollections.java
comments:
allow to set which queue implementation to use
expert setting, but still would be great to be able to control it
Are you aware that you are changing the "default" queue that you are returning ? If this is related to; https://groups.google.com/forum/#!topic/elasticsearch/FGF4TgWgeoc this is ok, but you are still changing the default right ?

Yep, aware of it. Its intentional, based on perf tests for non blocking cases.

All right. Thank you again for this, I'm testing it right now


time:
2013-02-21T14:26:18Z
class:
comments:
Merge branch 'pull/2670'

Add 32-bit v6 jdk check for deb.

time:
2013-02-21T14:13:51Z
class:
comments:
Check for java-6-openjdk-i386 in init.d

There is check for /usr/lib/jvm/java-6-openjdk-amd64, but no for 32-bit systems (/usr/lib/jvm/java-6-openjdk-i386).

time:
2013-02-20T22:53:27Z
class:
src/main/java/org/elasticsearch/env/NodeEnvironment.java
comments:
Add logging information for releasing node lock

time:
2013-02-20T14:36:11Z
class:
src/main/java/org/elasticsearch/common/lucene/docset/ContextDocIdSet.java
src/main/java/org/elasticsearch/search/facet/FacetExecutor.java
src/main/java/org/elasticsearch/search/facet/datehistogram/CountDateHistogramFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/datehistogram/ValueDateHistogramFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/datehistogram/ValueScriptDateHistogramFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/geodistance/GeoDistanceFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/geodistance/ScriptGeoDistanceFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/geodistance/ValueGeoDistanceFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/histogram/CountHistogramFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/histogram/FullHistogramFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/histogram/ScriptHistogramFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/histogram/ValueHistogramFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/histogram/ValueScriptHistogramFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/range/KeyValueRangeFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/range/RangeFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/range/ScriptRangeFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/statistical/ScriptStatisticalFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/statistical/StatisticalFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/statistical/StatisticalFieldsFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/terms/doubles/TermsDoubleFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/terms/index/IndexNameFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/terms/longs/TermsLongFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/terms/strings/FieldsTermsStringFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/terms/strings/ScriptTermsStringFieldFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/terms/strings/TermsStringFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/terms/strings/TermsStringOrdinalsFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/termsstats/doubles/TermsStatsDoubleFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/termsstats/longs/TermsStatsLongFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/termsstats/strings/TermsStatsStringFacetExecutor.java
comments:
facet refactoring, default collector base post implementation
automatically implement post based on collector

time:
2013-02-20T02:43:43Z
class:
src/main/java/org/elasticsearch/index/store/Store.java
src/main/java/org/elasticsearch/index/store/StoreModule.java
src/main/java/org/elasticsearch/index/store/distributor/AbstractDistributor.java
src/main/java/org/elasticsearch/index/store/distributor/Distributor.java
src/main/java/org/elasticsearch/index/store/distributor/LeastUsedDistributor.java
src/main/java/org/elasticsearch/index/store/distributor/RandomWeightedDistributor.java
src/test/java/org/elasticsearch/test/unit/index/engine/AbstractSimpleEngineTests.java
src/test/java/org/elasticsearch/test/unit/index/store/distributor/DistributorTests.java
comments:
Make file distribution among several disks configurable

Fixes #2650

time:
2013-02-19T20:16:47Z
class:
src/test/java/org/elasticsearch/test/integration/plugin/SitePluginTests.java
comments:
Fix test for Support trailing slashes on plugin _site URLs #2654

time:
2013-02-19T19:55:43Z
class:
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
src/test/java/org/elasticsearch/test/unit/index/mapper/string/SimpleStringMappingTests.java
comments:
Made the `term_vector` json field the leading way of configuring term vectors. Supported options: `no`, `yes`, `with_offsets`, `with_positions`, `with_positions_offsets` and`with_positions_offsets_payloads`.

time:
2013-02-19T19:42:24Z
class:
src/test/java/org/elasticsearch/test/integration/plugin/SitePluginTests.java
src/test/java/org/elasticsearch/test/integration/rest/helper/HttpClient.java
comments:
Make sure that in SitePluginTests http client connects to the correct node and closes the node after the test

time:
2013-02-19T18:14:33Z
class:
src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
comments:
When a node is leaving LocalDiscovery cluster, rerouting should be performed on the master node

time:
2013-02-19T18:12:26Z
class:
src/test/java/org/elasticsearch/test/integration/indices/store/IndicesStoreTests.java
comments:
Add check for health timeout to shardCleanup test

time:
2013-02-19T08:21:45Z
class:
src/main/java/org/elasticsearch/http/HttpServer.java
src/main/java/org/elasticsearch/rest/HttpRedirectRestResponse.java
src/test/java/org/elasticsearch/test/integration/plugin/SitePluginTests.java
src/test/java/org/elasticsearch/test/integration/rest/helper/HttpClient.java
src/test/java/org/elasticsearch/test/integration/rest/helper/HttpClientResponse.java
comments:
Support trailing slashes on plugin _site URLs fix #2654

time:
2013-02-19T01:12:39Z
class:
src/test/java/org/elasticsearch/test/integration/indices/settings/UpdateNumberOfReplicasTests.java
comments:
Improve stability of UpdateNumberOfReplicasTests

time:
2013-02-19T01:02:29Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
comments:
Make it simpler to determine which version of state was used to calculate health

time:
2013-02-19T00:35:12Z
class:
src/test/java/org/elasticsearch/test/integration/indices/store/IndicesStoreTests.java
comments:
Improve stability of shardsCleanup test

time:
2013-02-19T00:31:07Z
class:
src/test/java/org/elasticsearch/test/integration/cluster/allocation/AwarenessAllocationTests.java
comments:
Improve stability of testSimpleAwareness test

time:
2013-02-18T22:06:01Z
class:
comments:
don't exclude services otherwise es.jar doesn't include the SPI information to load XBloomPostings

time:
2013-02-18T21:10:41Z
class:
src/main/java/org/elasticsearch/index/search/nested/NestedFieldComparatorSource.java
src/main/java/org/elasticsearch/search/sort/FieldSortBuilder.java
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
src/test/java/org/elasticsearch/benchmark/search/nested/NestedSearchBenchMark.java
src/test/java/org/elasticsearch/test/integration/nested/SimpleNestedTests.java
src/test/java/org/elasticsearch/test/integration/search/sort/SimpleSortTests.java
src/test/java/org/elasticsearch/test/unit/index/search/nested/NestedFieldComparatorTests.java
comments:
Added support for sorting by fields inside one or more nested objects.

The sorting by nested field support has the following parameters on top of the already existing sort options:

nested_path - Defines the on what nested object to sort. The actual sort field must be a direct field inside this nested object. The default is to use the most immediate inherited nested object from the sort field.
nested_filter - A filter the inner objects inside the nested path should match with in order for its field values to be taken into account by sorting. Common case is to repeat the query / filter inside the nested filter or query. By default no nested_filter is active.
Either the highest (max) or lowest (min) inner object is picked for during sorting depending on the sort_mode being used. The sort_mode options avg and sum can still be used for number based fields inside nested objects. All the values for the sort field are taken into account for each nested object.

Closes #2662

time:
2013-02-18T17:43:55Z
class:
src/main/java/org/elasticsearch/common/lucene/spatial/SpatialStrategy.java
src/main/java/org/elasticsearch/common/lucene/spatial/XTermQueryPrefixTreeStategy.java
src/main/java/org/elasticsearch/common/lucene/spatial/prefix/NodeTokenStream.java
src/main/java/org/elasticsearch/common/lucene/spatial/prefix/tree/GeohashPrefixTree.java
src/main/java/org/elasticsearch/common/lucene/spatial/prefix/tree/Node.java
src/main/java/org/elasticsearch/common/lucene/spatial/prefix/tree/QuadPrefixTree.java
src/main/java/org/elasticsearch/common/lucene/spatial/prefix/tree/SpatialPrefixTree.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/main/java/org/elasticsearch/index/query/GeoShapeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
src/test/java/org/elasticsearch/test/integration/search/geo/GeoShapeIntegrationTests.java
src/test/java/org/elasticsearch/test/unit/common/lucene/spatial/prefix/TermQueryPrefixTreeStrategyTests.java
src/test/java/org/elasticsearch/test/unit/index/mapper/geo/GeoShapeFieldMapperTests.java
comments:
Remove backported Lucene 4 spatial code in favor of the released version in Lucene 4.1

time:
2013-02-18T17:43:47Z
class:
src/main/java/org/elasticsearch/common/lucene/spatial/prefix/tree/SpatialPrefixTree.java
src/test/java/org/elasticsearch/test/integration/search/geo/GeoShapeIntegrationTests.java
comments:
Added Testcase and BugFix fixing #2626 where GeoShape intersects filter omitted matching docs.

SpatialPrefixTree#recursiveGetNodes uses an optimization that prevents
recursion into the deepest tree level if a parent node in the penultimate
level covers all its children.  This produces a bug if the optimization
happens both at indexing and at query/filter time.

This patch fixes the bug by disabling the optimization at indexing time
(to avoid adding overhead for query-heavy workloads).

See LUCENE-4770 for reference

time:
2013-02-18T16:09:32Z
class:
src/main/java/org/elasticsearch/action/ActionRequest.java
src/main/java/org/elasticsearch/action/ActionRequestBuilder.java
src/main/java/org/elasticsearch/action/TransportActionNodeProxy.java
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterIndexHealth.java
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterShardHealth.java
src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodeHotThreads.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/restart/NodesRestartRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/node/restart/NodesRestartRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/node/shutdown/NodesShutdownRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/node/shutdown/NodesShutdownRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/node/shutdown/NodesShutdownResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/node/shutdown/TransportNodesShutdownAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/ClusterUpdateSettingsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/ClusterUpdateSettingsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequest.java
src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesResponse.java
src/main/java/org/elasticsearch/action/admin/indices/alias/TransportIndicesAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeResponse.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/close/CloseIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/close/CloseIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/close/CloseIndexResponse.java
src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexResponse.java
src/main/java/org/elasticsearch/action/admin/indices/create/TransportCreateIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexResponse.java
src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsResponse.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/TransportIndicesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TypesExistsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TypesExistsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TypesExistsResponse.java
src/main/java/org/elasticsearch/action/admin/indices/flush/FlushRequest.java
src/main/java/org/elasticsearch/action/admin/indices/flush/FlushRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/flush/ShardFlushRequest.java
src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
src/main/java/org/elasticsearch/action/admin/indices/gateway/snapshot/TransportGatewaySnapshotAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/delete/DeleteMappingRequest.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/delete/DeleteMappingRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/delete/TransportDeleteMappingAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequest.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingResponse.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
src/main/java/org/elasticsearch/action/admin/indices/open/OpenIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/open/OpenIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/open/OpenIndexResponse.java
src/main/java/org/elasticsearch/action/admin/indices/open/TransportOpenIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/ShardOptimizeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshRequest.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/ShardRefreshRequest.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
src/main/java/org/elasticsearch/action/admin/indices/segments/IndexSegments.java
src/main/java/org/elasticsearch/action/admin/indices/segments/IndexShardSegments.java
src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentResponse.java
src/main/java/org/elasticsearch/action/admin/indices/segments/ShardSegments.java
src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/TransportUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/UpdateSettingsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/settings/UpdateSettingsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndexShardStats.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndexStats.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStats.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/status/DocsStatus.java
src/main/java/org/elasticsearch/action/admin/indices/status/GatewayRecoveryStatus.java
src/main/java/org/elasticsearch/action/admin/indices/status/GatewaySnapshotStatus.java
src/main/java/org/elasticsearch/action/admin/indices/status/IndexShardStatus.java
src/main/java/org/elasticsearch/action/admin/indices/status/IndexStatus.java
src/main/java/org/elasticsearch/action/admin/indices/status/IndicesStatusRequest.java
src/main/java/org/elasticsearch/action/admin/indices/status/IndicesStatusRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/status/IndicesStatusResponse.java
src/main/java/org/elasticsearch/action/admin/indices/status/PeerRecoveryStatus.java
src/main/java/org/elasticsearch/action/admin/indices/status/ShardStatus.java
src/main/java/org/elasticsearch/action/admin/indices/status/TransportIndicesStatusAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/DeleteIndexTemplateRequest.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/DeleteIndexTemplateRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/DeleteIndexTemplateResponse.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/TransportDeleteIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateResponse.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/TransportPutIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/QueryExplanation.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryRequest.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryResponse.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequest.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryResponse.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerRequest.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerResponse.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerRequest.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerResponse.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java
src/main/java/org/elasticsearch/action/bulk/BulkItemRequest.java
src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java
src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
src/main/java/org/elasticsearch/action/bulk/BulkResponse.java
src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java
src/main/java/org/elasticsearch/action/bulk/BulkShardResponse.java
src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/count/CountRequest.java
src/main/java/org/elasticsearch/action/count/CountRequestBuilder.java
src/main/java/org/elasticsearch/action/count/CountResponse.java
src/main/java/org/elasticsearch/action/count/ShardCountRequest.java
src/main/java/org/elasticsearch/action/count/ShardCountResponse.java
src/main/java/org/elasticsearch/action/count/TransportCountAction.java
src/main/java/org/elasticsearch/action/delete/DeleteRequest.java
src/main/java/org/elasticsearch/action/delete/DeleteRequestBuilder.java
src/main/java/org/elasticsearch/action/delete/DeleteResponse.java
src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
src/main/java/org/elasticsearch/action/delete/index/IndexDeleteRequest.java
src/main/java/org/elasticsearch/action/delete/index/IndexDeleteResponse.java
src/main/java/org/elasticsearch/action/delete/index/ShardDeleteRequest.java
src/main/java/org/elasticsearch/action/delete/index/ShardDeleteResponse.java
src/main/java/org/elasticsearch/action/delete/index/TransportIndexDeleteAction.java
src/main/java/org/elasticsearch/action/delete/index/TransportShardDeleteAction.java
src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequest.java
src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequestBuilder.java
src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryResponse.java
src/main/java/org/elasticsearch/action/deletebyquery/IndexDeleteByQueryRequest.java
src/main/java/org/elasticsearch/action/deletebyquery/IndexDeleteByQueryResponse.java
src/main/java/org/elasticsearch/action/deletebyquery/ShardDeleteByQueryRequest.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportIndexDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportShardDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/explain/ExplainRequest.java
src/main/java/org/elasticsearch/action/explain/ExplainRequestBuilder.java
src/main/java/org/elasticsearch/action/explain/ExplainResponse.java
src/main/java/org/elasticsearch/action/explain/ExplainSourceBuilder.java
src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
src/main/java/org/elasticsearch/action/get/GetRequest.java
src/main/java/org/elasticsearch/action/get/GetRequestBuilder.java
src/main/java/org/elasticsearch/action/get/GetResponse.java
src/main/java/org/elasticsearch/action/get/MultiGetItemResponse.java
src/main/java/org/elasticsearch/action/get/MultiGetRequest.java
src/main/java/org/elasticsearch/action/get/MultiGetRequestBuilder.java
src/main/java/org/elasticsearch/action/get/MultiGetResponse.java
src/main/java/org/elasticsearch/action/get/MultiGetShardRequest.java
src/main/java/org/elasticsearch/action/get/TransportGetAction.java
src/main/java/org/elasticsearch/action/get/TransportMultiGetAction.java
src/main/java/org/elasticsearch/action/get/TransportShardMultiGetAction.java
src/main/java/org/elasticsearch/action/index/IndexRequest.java
src/main/java/org/elasticsearch/action/index/IndexRequestBuilder.java
src/main/java/org/elasticsearch/action/index/IndexResponse.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequest.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequestBuilder.java
src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java
src/main/java/org/elasticsearch/action/percolate/PercolateRequest.java
src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java
src/main/java/org/elasticsearch/action/percolate/PercolateResponse.java
src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
src/main/java/org/elasticsearch/action/search/MultiSearchRequestBuilder.java
src/main/java/org/elasticsearch/action/search/MultiSearchResponse.java
src/main/java/org/elasticsearch/action/search/SearchRequest.java
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/action/search/SearchResponse.java
src/main/java/org/elasticsearch/action/search/SearchScrollRequest.java
src/main/java/org/elasticsearch/action/search/SearchScrollRequestBuilder.java
src/main/java/org/elasticsearch/action/search/TransportMultiSearchAction.java
src/main/java/org/elasticsearch/action/search/TransportSearchAction.java
src/main/java/org/elasticsearch/action/search/TransportSearchScrollAction.java
src/main/java/org/elasticsearch/action/search/type/ParsedScrollId.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchCountAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryAndFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryThenFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchQueryAndFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchQueryThenFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchScanAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryAndFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryThenFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollScanAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
src/main/java/org/elasticsearch/action/support/TransportAction.java
src/main/java/org/elasticsearch/action/support/broadcast/BroadcastOperationRequest.java
src/main/java/org/elasticsearch/action/support/broadcast/BroadcastOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/broadcast/BroadcastOperationResponse.java
src/main/java/org/elasticsearch/action/support/broadcast/BroadcastShardOperationRequest.java
src/main/java/org/elasticsearch/action/support/broadcast/BroadcastShardOperationResponse.java
src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastOperationAction.java
src/main/java/org/elasticsearch/action/support/master/MasterNodeOperationRequest.java
src/main/java/org/elasticsearch/action/support/master/MasterNodeOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeOperationAction.java
src/main/java/org/elasticsearch/action/support/nodes/NodeOperationResponse.java
src/main/java/org/elasticsearch/action/support/nodes/NodesOperationRequest.java
src/main/java/org/elasticsearch/action/support/nodes/NodesOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/nodes/NodesOperationResponse.java
src/main/java/org/elasticsearch/action/support/nodes/TransportNodesOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/IndexReplicationOperationRequest.java
src/main/java/org/elasticsearch/action/support/replication/IndicesReplicationOperationRequest.java
src/main/java/org/elasticsearch/action/support/replication/IndicesReplicationOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/replication/ShardReplicationOperationRequest.java
src/main/java/org/elasticsearch/action/support/replication/ShardReplicationOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/replication/TransportIndexReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportIndicesReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/single/custom/SingleCustomOperationRequest.java
src/main/java/org/elasticsearch/action/support/single/custom/SingleCustomOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/single/custom/TransportSingleCustomOperationAction.java
src/main/java/org/elasticsearch/action/support/single/instance/InstanceShardOperationRequest.java
src/main/java/org/elasticsearch/action/support/single/instance/InstanceShardOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationAction.java
src/main/java/org/elasticsearch/action/support/single/shard/SingleShardOperationRequest.java
src/main/java/org/elasticsearch/action/support/single/shard/SingleShardOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/single/shard/TransportShardSingleOperationAction.java
src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
src/main/java/org/elasticsearch/action/update/UpdateRequest.java
src/main/java/org/elasticsearch/action/update/UpdateRequestBuilder.java
src/main/java/org/elasticsearch/action/update/UpdateResponse.java
src/main/java/org/elasticsearch/bulk/udp/BulkUdpService.java
src/main/java/org/elasticsearch/client/Requests.java
src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
src/main/java/org/elasticsearch/gateway/blobstore/BlobReuseExistingGatewayAllocator.java
src/main/java/org/elasticsearch/gateway/local/LocalGatewayAllocator.java
src/main/java/org/elasticsearch/gateway/local/state/meta/TransportNodesListGatewayMetaState.java
src/main/java/org/elasticsearch/gateway/local/state/shards/TransportNodesListGatewayStartedShards.java
src/main/java/org/elasticsearch/http/HttpStats.java
src/main/java/org/elasticsearch/index/cache/CacheStats.java
src/main/java/org/elasticsearch/index/flush/FlushStats.java
src/main/java/org/elasticsearch/index/get/GetField.java
src/main/java/org/elasticsearch/index/get/GetResult.java
src/main/java/org/elasticsearch/index/get/GetStats.java
src/main/java/org/elasticsearch/index/get/ShardGetService.java
src/main/java/org/elasticsearch/index/indexing/IndexingStats.java
src/main/java/org/elasticsearch/index/merge/MergeStats.java
src/main/java/org/elasticsearch/index/refresh/RefreshStats.java
src/main/java/org/elasticsearch/index/search/shape/ShapeFetchService.java
src/main/java/org/elasticsearch/index/search/stats/SearchStats.java
src/main/java/org/elasticsearch/index/shard/DocsStats.java
src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
src/main/java/org/elasticsearch/monitor/fs/FsService.java
src/main/java/org/elasticsearch/monitor/fs/FsStats.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/health/RestClusterHealthAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/node/hotthreads/RestNodesHotThreadsAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/node/info/RestNodesInfoAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/node/restart/RestNodesRestartAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/node/shutdown/RestNodesShutdownAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/node/stats/RestNodesStatsAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/reroute/RestClusterRerouteAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/settings/RestClusterGetSettingsAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/settings/RestClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/state/RestClusterStateAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/alias/RestGetIndicesAliasesAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/alias/RestIndicesAliasesAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/cache/clear/RestClearIndicesCacheAction.java
comments:
refactoring getter/setters

Fixes #2657

time:
2013-02-18T16:01:18Z
class:
src/main/java/org/elasticsearch/search/facet/FacetPhase.java
src/main/java/org/elasticsearch/search/facet/nested/NestedFacetExecutor.java
src/test/java/org/elasticsearch/test/integration/nested/SimpleNestedTests.java
comments:
Fixed nested facets with filters.

time:
2013-02-18T16:01:17Z
class:
src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
src/main/java/org/elasticsearch/index/analysis/CJKBigramFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/CJKWidthFilterFactory.java
src/test/java/org/elasticsearch/test/unit/index/analysis/CJKFilterFactoryTests.java
comments:
Expose CJKWidthTokenFilter and CJKBigramTokenFilter

Closes #2660

time:
2013-02-18T16:01:17Z
class:
src/main/java/org/elasticsearch/common/lucene/uid/UidField.java
src/main/java/org/elasticsearch/index/codec/postingsformat/BloomFilter.java
src/main/java/org/elasticsearch/index/codec/postingsformat/BloomFilterLucenePostingsFormatProvider.java
src/main/java/org/elasticsearch/index/codec/postingsformat/BloomFilterPostingsFormat.java
src/main/java/org/elasticsearch/index/codec/postingsformat/BloomFilterPostingsFormatProvider.java
src/main/java/org/elasticsearch/index/codec/postingsformat/PostingFormats.java
src/main/java/org/elasticsearch/index/codec/postingsformat/PostingsFormatProvider.java
src/test/java/org/elasticsearch/benchmark/bloom/BloomBench.java
src/test/java/org/elasticsearch/test/unit/index/codec/CodecTests.java
comments:
add our own bloom filter implementation
uses more hash iterations, yet require less memory for the same fpp
relates to #2411

time:
2013-02-18T16:01:17Z
class:
src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
comments:
Fix race condition in adding TimeoutClusterStateListener

Fixes #2658

time:
2013-02-18T16:01:17Z
class:
src/main/java/org/elasticsearch/node/settings/NodeSettingsService.java
comments:
allow to access the global node settings in a static manner

time:
2013-02-18T16:01:17Z
class:
src/main/java/org/elasticsearch/index/engine/robin/RobinEngine.java
comments:
fix check on which settings to change on

time:
2013-02-16T01:25:04Z
class:
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/common/lucene/MultiCollector.java
src/main/java/org/elasticsearch/common/lucene/docset/ContextDocIdSet.java
src/main/java/org/elasticsearch/common/lucene/search/FilteredCollector.java
src/main/java/org/elasticsearch/common/lucene/search/XCollector.java
src/main/java/org/elasticsearch/index/cache/IndexCache.java
src/main/java/org/elasticsearch/index/cache/IndexCacheModule.java
src/main/java/org/elasticsearch/index/cache/docset/DocSetCache.java
src/main/java/org/elasticsearch/index/cache/docset/DocSetCacheModule.java
src/main/java/org/elasticsearch/index/cache/docset/none/NoneDocSetCache.java
src/main/java/org/elasticsearch/index/cache/docset/simple/SimpleDocSetCache.java
src/main/java/org/elasticsearch/index/search/nested/NestedChildrenCollector.java
src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
src/main/java/org/elasticsearch/search/facet/AbstractFacetCollector.java
src/main/java/org/elasticsearch/search/facet/Facet.java
src/main/java/org/elasticsearch/search/facet/FacetBinaryParseElement.java
src/main/java/org/elasticsearch/search/facet/FacetBuilder.java
src/main/java/org/elasticsearch/search/facet/FacetExecutor.java
src/main/java/org/elasticsearch/search/facet/FacetModule.java
src/main/java/org/elasticsearch/search/facet/FacetParseElement.java
src/main/java/org/elasticsearch/search/facet/FacetParser.java
src/main/java/org/elasticsearch/search/facet/FacetParsers.java
src/main/java/org/elasticsearch/search/facet/FacetPhase.java
src/main/java/org/elasticsearch/search/facet/InternalFacet.java
src/main/java/org/elasticsearch/search/facet/InternalFacets.java
src/main/java/org/elasticsearch/search/facet/SearchContextFacets.java
src/main/java/org/elasticsearch/search/facet/datehistogram/CountDateHistogramFacetCollector.java
src/main/java/org/elasticsearch/search/facet/datehistogram/CountDateHistogramFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/datehistogram/DateHistogramFacet.java
src/main/java/org/elasticsearch/search/facet/datehistogram/DateHistogramFacetBuilder.java
src/main/java/org/elasticsearch/search/facet/datehistogram/DateHistogramFacetParser.java
src/main/java/org/elasticsearch/search/facet/datehistogram/InternalCountDateHistogramFacet.java
src/main/java/org/elasticsearch/search/facet/datehistogram/InternalDateHistogramFacet.java
src/main/java/org/elasticsearch/search/facet/datehistogram/InternalFullDateHistogramFacet.java
src/main/java/org/elasticsearch/search/facet/datehistogram/ValueDateHistogramFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/datehistogram/ValueScriptDateHistogramFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/filter/FilterFacet.java
src/main/java/org/elasticsearch/search/facet/filter/FilterFacetBuilder.java
src/main/java/org/elasticsearch/search/facet/filter/FilterFacetCollector.java
src/main/java/org/elasticsearch/search/facet/filter/FilterFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/filter/FilterFacetParser.java
src/main/java/org/elasticsearch/search/facet/filter/InternalFilterFacet.java
src/main/java/org/elasticsearch/search/facet/geodistance/GeoDistanceFacet.java
src/main/java/org/elasticsearch/search/facet/geodistance/GeoDistanceFacetBuilder.java
src/main/java/org/elasticsearch/search/facet/geodistance/GeoDistanceFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/geodistance/GeoDistanceFacetParser.java
src/main/java/org/elasticsearch/search/facet/geodistance/InternalGeoDistanceFacet.java
src/main/java/org/elasticsearch/search/facet/geodistance/ScriptGeoDistanceFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/geodistance/ValueGeoDistanceFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/histogram/CountHistogramFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/histogram/FullHistogramFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/histogram/HistogramFacet.java
src/main/java/org/elasticsearch/search/facet/histogram/HistogramFacetBuilder.java
src/main/java/org/elasticsearch/search/facet/histogram/HistogramFacetParser.java
src/main/java/org/elasticsearch/search/facet/histogram/HistogramScriptFacetBuilder.java
src/main/java/org/elasticsearch/search/facet/histogram/InternalCountHistogramFacet.java
src/main/java/org/elasticsearch/search/facet/histogram/InternalFullHistogramFacet.java
src/main/java/org/elasticsearch/search/facet/histogram/InternalHistogramFacet.java
src/main/java/org/elasticsearch/search/facet/histogram/ScriptHistogramFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/histogram/ValueHistogramFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/histogram/ValueScriptHistogramFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/histogram/bounded/BoundedCountHistogramFacetCollector.java
src/main/java/org/elasticsearch/search/facet/histogram/bounded/BoundedValueHistogramFacetCollector.java
src/main/java/org/elasticsearch/search/facet/histogram/bounded/BoundedValueScriptHistogramFacetCollector.java
src/main/java/org/elasticsearch/search/facet/histogram/bounded/InternalBoundedCountHistogramFacet.java
src/main/java/org/elasticsearch/search/facet/histogram/bounded/InternalBoundedFullHistogramFacet.java
src/main/java/org/elasticsearch/search/facet/histogram/unbounded/ScriptHistogramFacetCollector.java
src/main/java/org/elasticsearch/search/facet/nested/NestedFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/query/InternalQueryFacet.java
src/main/java/org/elasticsearch/search/facet/query/QueryFacet.java
src/main/java/org/elasticsearch/search/facet/query/QueryFacetBuilder.java
src/main/java/org/elasticsearch/search/facet/query/QueryFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/query/QueryFacetParser.java
src/main/java/org/elasticsearch/search/facet/range/InternalRangeFacet.java
src/main/java/org/elasticsearch/search/facet/range/KeyValueRangeFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/range/RangeFacet.java
src/main/java/org/elasticsearch/search/facet/range/RangeFacetBuilder.java
src/main/java/org/elasticsearch/search/facet/range/RangeFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/range/RangeFacetParser.java
src/main/java/org/elasticsearch/search/facet/range/RangeScriptFacetBuilder.java
src/main/java/org/elasticsearch/search/facet/range/ScriptRangeFacetCollector.java
src/main/java/org/elasticsearch/search/facet/range/ScriptRangeFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/statistical/InternalStatisticalFacet.java
src/main/java/org/elasticsearch/search/facet/statistical/ScriptStatisticalFacetCollector.java
src/main/java/org/elasticsearch/search/facet/statistical/ScriptStatisticalFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/statistical/StatisticalFacet.java
src/main/java/org/elasticsearch/search/facet/statistical/StatisticalFacetBuilder.java
src/main/java/org/elasticsearch/search/facet/statistical/StatisticalFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/statistical/StatisticalFacetParser.java
src/main/java/org/elasticsearch/search/facet/statistical/StatisticalFieldsFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/statistical/StatisticalScriptFacetBuilder.java
src/main/java/org/elasticsearch/search/facet/terms/InternalTermsFacet.java
src/main/java/org/elasticsearch/search/facet/terms/TermsFacet.java
src/main/java/org/elasticsearch/search/facet/terms/TermsFacetBuilder.java
src/main/java/org/elasticsearch/search/facet/terms/TermsFacetParser.java
src/main/java/org/elasticsearch/search/facet/terms/doubles/InternalDoubleTermsFacet.java
src/main/java/org/elasticsearch/search/facet/terms/doubles/TermsDoubleFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/terms/index/IndexNameFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/terms/longs/InternalLongTermsFacet.java
src/main/java/org/elasticsearch/search/facet/terms/longs/TermsLongFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/terms/strings/FieldsTermsStringFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/terms/strings/InternalStringTermsFacet.java
src/main/java/org/elasticsearch/search/facet/terms/strings/ScriptTermsStringFieldFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/terms/strings/TermsStringFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/terms/strings/TermsStringOrdinalsFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/termsstats/InternalTermsStatsFacet.java
src/main/java/org/elasticsearch/search/facet/termsstats/TermsStatsFacet.java
src/main/java/org/elasticsearch/search/facet/termsstats/TermsStatsFacetBuilder.java
src/main/java/org/elasticsearch/search/facet/termsstats/TermsStatsFacetParser.java
src/main/java/org/elasticsearch/search/facet/termsstats/doubles/InternalTermsStatsDoubleFacet.java
src/main/java/org/elasticsearch/search/facet/termsstats/doubles/TermsStatsDoubleFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/termsstats/longs/InternalTermsStatsLongFacet.java
src/main/java/org/elasticsearch/search/facet/termsstats/longs/TermsStatsLongFacetExecutor.java
src/main/java/org/elasticsearch/search/facet/termsstats/strings/InternalTermsStatsStringFacet.java
src/main/java/org/elasticsearch/search/facet/termsstats/strings/TermsStatsStringFacetExecutor.java
src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
src/main/java/org/elasticsearch/search/internal/DocIdSetCollector.java
src/main/java/org/elasticsearch/search/internal/SearchContext.java
src/test/java/org/elasticsearch/benchmark/search/facet/HistogramFacetSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/facet/QueryFilterFacetSearchBenchmark.java
src/test/java/org/elasticsearch/test/integration/nested/SimpleNestedTests.java
src/test/java/org/elasticsearch/test/integration/search/basic/TransportTwoNodesSearchTests.java
src/test/java/org/elasticsearch/test/integration/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/test/integration/search/facet/SimpleFacetsTests.java
src/test/java/org/elasticsearch/test/integration/search/geo/GeoDistanceFacetTests.java
comments:
initial facet refactoring
the main goal of the facet refactoring is to allow for two modes of facet execution, collector based, that get callbacks as hist match, and post based, which iterates over all the relevant hits
it also includes a some simplification of the facet implementation

time:
2013-02-15T00:30:55Z
class:
src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
src/test/java/org/elasticsearch/test/integration/search/query/SimpleQueryTests.java
comments:
Simplified range syntax when using a query string
closes #2655

time:
2013-02-14T20:13:19Z
class:
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/index/cache/filter/FilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/none/NoneFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/weighted/WeightedFilterCache.java
src/main/java/org/elasticsearch/rest/action/admin/indices/cache/clear/RestClearIndicesCacheAction.java
src/test/java/org/elasticsearch/test/integration/indices/cache/ClearCacheTests.java
comments:
Clear cache: allow to invalidate specific filter cache keys
closes #2653

time:
2013-02-14T13:30:46Z
class:
src/main/java/org/apache/lucene/index/TrackingConcurrentMergeScheduler.java
src/main/java/org/apache/lucene/index/TrackingSerialMergeScheduler.java
comments:
add note on not using totalSize in merge

time:
2013-02-14T13:29:30Z
class:
src/main/java/org/elasticsearch/Version.java
comments:
add 0.20.6 ver

time:
2013-02-14T11:13:26Z
class:
src/main/java/org/elasticsearch/index/query/ScriptFilterParser.java
src/test/java/org/elasticsearch/test/integration/search/scriptfilter/ScriptFilterSearchTests.java
comments:
Fix ScriptFilter cache key calculation

Fixes #2651

time:
2013-02-14T02:04:54Z
class:
src/main/java/org/elasticsearch/common/lucene/docset/DocIdSets.java
comments:
Optimize conversion to a cacheable DocIdSet

time:
2013-02-13T23:10:52Z
class:
src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
comments:
delay reroute only after we publish that a shard has started

time:
2013-02-13T16:51:34Z
class:
src/main/java/org/elasticsearch/search/SearchService.java
comments:
Warmers do not load field data cache for sorting on new segments
fixes #2649

time:
2013-02-13T13:28:16Z
class:
src/test/java/org/elasticsearch/test/integration/indices/settings/UpdateSettingsTests.java
comments:
updating non dynamic settings throws an error now

time:
2013-02-13T12:10:56Z
class:
src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
comments:
Let the update index settings action fail if non dynamic settings are changed for open indices.
Closes #2647

time:
2013-02-12T21:09:55Z
class:
src/main/java/org/apache/lucene/index/TrackingConcurrentMergeScheduler.java
src/main/java/org/apache/lucene/index/TrackingSerialMergeScheduler.java
comments:
possibly incorrect use of Lucene OneMerge.totalBytesSize
fixes #2643

time:
2013-02-12T20:40:12Z
class:
src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
src/main/java/org/elasticsearch/discovery/zen/ping/ZenPingService.java
comments:
Added more trace logging related to finding master.

time:
2013-02-12T20:23:18Z
class:
src/test/java/org/elasticsearch/test/integration/recovery/RelocationTests.java
comments:
add increased timeout waiting for relocation when running on small boxes

time:
2013-02-12T19:38:24Z
class:
src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/ByteValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/ByteValuesComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/BytesRefFieldComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/BytesRefOrdValComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/BytesRefValComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/DoubleValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/DoubleValuesComparatorBase.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/DoubleValuesComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/FloatValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/FloatValuesComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/IntValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/IntValuesComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/LongValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/LongValuesComparatorBase.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/LongValuesComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/ShortValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/ShortValuesComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/SortMode.java
src/main/java/org/elasticsearch/index/fielddata/plain/ByteArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ConcreteBytesRefIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IntArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/LongArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ShortArrayIndexFieldData.java
src/main/java/org/elasticsearch/search/sort/FieldSortBuilder.java
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
src/test/java/org/elasticsearch/test/integration/search/sort/SimpleSortTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/NumericFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/StringFieldDataTests.java
comments:
Added `sort_mode` option that defines what value to pick in the case the sort field is multi-valued.

The `min` and `max` sort modes are supported for all field types. Either the lowest value or the highest value is picked. In addition to that number based fields also support `sum` and `avg` as sort mode. If `sum` sort mode is used then all the values for a field and belonging to a document are added together and the result of that is used as sort value. If the `avg` sort mode is used then the average of all values for the sort field belonging to that document is used as sort value.

Relates to #2634

time:
2013-02-12T18:28:48Z
class:
src/test/java/org/elasticsearch/test/integration/indices/stats/SimpleIndexStatsTests.java
comments:
delete indices before running the tests

time:
2013-02-12T16:38:06Z
class:
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/test/java/org/elasticsearch/test/integration/recovery/RelocationTests.java
comments:
Bulk execution while a shard is replication might send erroneous version conflict failures for certain items
fixes #2642

time:
2013-02-12T16:10:00Z
class:
src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
src/main/java/org/elasticsearch/search/dfs/DfsPhase.java
src/main/java/org/elasticsearch/search/fetch/explain/ExplainFetchSubPhase.java
src/main/java/org/elasticsearch/search/internal/SearchContext.java
src/main/java/org/elasticsearch/search/query/QueryPhase.java
src/main/java/org/elasticsearch/search/rescore/QueryRescorer.java
src/main/java/org/elasticsearch/search/rescore/RescoreBuilder.java
src/main/java/org/elasticsearch/search/rescore/RescoreParseElement.java
src/main/java/org/elasticsearch/search/rescore/RescorePhase.java
src/main/java/org/elasticsearch/search/rescore/RescoreSearchContext.java
src/main/java/org/elasticsearch/search/rescore/Rescorer.java
src/main/java/org/elasticsearch/search/scan/ScanContext.java
src/test/java/org/apache/lucene/util/English.java
src/test/java/org/elasticsearch/test/integration/search/rescore/QueryRescorerTests.java
comments:
# Rescore Feature

The rescore feature allows te rescore a document returned by a query based
on a secondary algorithm. Rescoring is commonly used if a scoring algorithm
is too costly to be executed across the entire document set but efficient enough
to be executed on the Top-K documents scored by a faster retrieval method. Rescoring
can help to improve precision by reordering a larger Top-K window than actually
returned to the user. Typically is it executed on a window between 100 and 500 documents
while the actual result window requested by the user remains the same.

# Query Rescorer

The `query` rescorer executes a secondary query only on the Top-K results of the actual
user query and rescores the documents based on a linear combination of the user query's score
and the score of the `rescore_query`. This allows to execute any exposed query as a
`rescore_query` and supports a `query_weight` as well as a `rescore_query_weight` to weight the
factors of the linear combination.

# Rescore API

The `rescore` request is defined along side the query part in the json request:

```json
curl -s -XPOST 'localhost:9200/_search' -d {
  "query" : {
    "match" : {
      "field1" : {
        "query" : "the quick brown",
        "type" : "boolean",
        "operator" : "OR"
      }
    }
  },
  "rescore" : {
    "window_size" : 50,
    "query" : {
      "rescore_query" : {
        "match" : {
          "field1" : {
            "query" : "the quick brown",
            "type" : "phrase",
            "slop" : 2
          }
        }
      },
      "query_weight" : 0.7,
      "rescore_query_weight" : 1.2
    }
  }
}
```

Each `rescore` request is executed on a per-shard basis within the same roundtrip. Currently the rescore API
has only one implementation (the `query` rescorer) which modifies the result set in-place. Future developments
could include dedicated rescore results if needed by the implemenation ie. a pair-wise reranker.
*Note:* Only regualr queries are rescored, if the search type is set to `scan` or `count` rescorers are not executed.

Closes #2640

time:
2013-02-12T16:03:28Z
class:
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/test/java/org/elasticsearch/test/integration/recovery/RelocationTests.java
comments:
Index with no replicas might loose on going documents while relocating a shard
fixes #26421

time:
2013-02-12T15:39:11Z
class:
src/main/java/org/elasticsearch/index/analysis/StemmerTokenFilterFactory.java
comments:
Also support camel case notation for minimal norwegian.

time:
2013-02-12T15:32:38Z
class:
src/main/java/org/elasticsearch/index/analysis/StemmerTokenFilterFactory.java
comments:
added norwegian minimal stemmer

time:
2013-02-11T15:28:53Z
class:
src/main/java/org/elasticsearch/index/cache/filter/weighted/WeightedFilterCache.java
src/main/java/org/elasticsearch/indices/cache/filter/IndicesFilterCache.java
comments:
Fix filter cache stats calculation

Fixes #2609

time:
2013-02-09T03:20:16Z
class:
src/main/java/org/elasticsearch/common/util/concurrent/PrioritizedEsThreadPoolExecutor.java
src/test/java/org/elasticsearch/test/unit/common/util/concurrent/PrioritizedExecutorsTests.java
comments:
fixed a bug in PrioritizedThreadPoolExecutor:

now execute(Runnable) satisfies the priority and fifo nature of same-priority runnables

time:
2013-02-09T02:33:12Z
class:
src/main/java/org/elasticsearch/common/util/concurrent/PrioritizedEsThreadPoolExecutor.java
comments:
fixed a bug in PrioritizedThreadPoolExecutor:

now execute(Runnable) verifies the command is added as Comparable

time:
2013-02-09T02:26:52Z
class:
src/main/java/org/elasticsearch/common/util/concurrent/PrioritizedEsThreadPoolExecutor.java
comments:
fixed a bug in PrioritizedThreadPoolExecutor:

now execute(Runnable) verifies the command is added as PrioritizedRunnable

time:
2013-02-09T00:14:57Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/cluster/ClusterService.java
src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataStateIndexService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
src/main/java/org/elasticsearch/common/Priority.java
src/main/java/org/elasticsearch/common/util/concurrent/EsExecutors.java
src/main/java/org/elasticsearch/common/util/concurrent/PrioritizedCallable.java
src/main/java/org/elasticsearch/common/util/concurrent/PrioritizedEsThreadPoolExecutor.java
src/main/java/org/elasticsearch/common/util/concurrent/PrioritizedRunnable.java
src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
src/test/java/org/elasticsearch/test/unit/common/util/concurrent/PrioritizedExecutorsTests.java
comments:
added priority support for cluster state updates:

 * URGENT:
    * cluster_reroute (api)
    * refresh-mapping
    * cluster_update_settings
    * reroute_after_cluster_update_settings
    * create-index
    * delete-index
    * index-aliases
    * remove-index-template
    * create-index-template
    * update-mapping
    * remove-mapping
    * put-mapping
    * open-index
    * close-index
    * update-settings

* HIGH
    * routing-table-updater
    * zen-disco-node_left
    * zen-disco-master_failed
    * shard-failed
    * shard-started

* NORMAL
    * all other actions

time:
2013-02-08T19:58:36Z
class:
src/main/java/org/elasticsearch/index/fielddata/AtomicNumericFieldData.java
src/main/java/org/elasticsearch/index/fielddata/ByteValues.java
src/main/java/org/elasticsearch/index/fielddata/DoubleValues.java
src/main/java/org/elasticsearch/index/fielddata/FloatValues.java
src/main/java/org/elasticsearch/index/fielddata/IndexNumericFieldData.java
src/main/java/org/elasticsearch/index/fielddata/IntValues.java
src/main/java/org/elasticsearch/index/fielddata/LongValues.java
src/main/java/org/elasticsearch/index/fielddata/ScriptDocValues.java
src/main/java/org/elasticsearch/index/fielddata/ShortValues.java
src/main/java/org/elasticsearch/index/fielddata/StringValues.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/ByteValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/ByteValuesComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/BytesRefFieldComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/BytesRefOrdValComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/BytesRefValComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/DoubleScriptDataComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/DoubleValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/DoubleValuesComparatorBase.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/DoubleValuesComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/FloatValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/FloatValuesComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/GeoDistanceComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/GeoDistanceComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/IntValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/IntValuesComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/LongValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/LongValuesComparatorBase.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/LongValuesComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/ShortValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/ShortValuesComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/StringScriptDataComparator.java
src/main/java/org/elasticsearch/index/fielddata/plain/ByteArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IntArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/LongArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ShortArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/search/NumericRangeFieldDataFilter.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/AbstractFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/NumericFieldDataTests.java
comments:
Cleanup NumericFieldData. FieldData interfaces are reduced to long and double while internal
represenations still operate on the actual datatypes.

time:
2013-02-08T14:24:56Z
class:
src/test/java/org/elasticsearch/test/integration/search/sort/SimpleSortTests.java
comments:
Extended mv sorting integration test

time:
2013-02-08T12:28:40Z
class:
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/ByteValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/ByteValuesComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/BytesRefFieldComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/BytesRefOrdValComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/BytesRefValComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/DoubleValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/DoubleValuesComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/FloatValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/FloatValuesComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/IntValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/IntValuesComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/LongValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/LongValuesComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/ShortValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/ShortValuesComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/util/ByteArrayRef.java
src/main/java/org/elasticsearch/index/fielddata/util/BytesRefArrayRef.java
src/main/java/org/elasticsearch/index/fielddata/util/DoubleArrayRef.java
src/main/java/org/elasticsearch/index/fielddata/util/FloatArrayRef.java
src/main/java/org/elasticsearch/index/fielddata/util/IntArrayRef.java
src/main/java/org/elasticsearch/index/fielddata/util/LongArrayRef.java
src/main/java/org/elasticsearch/index/fielddata/util/ShortArrayRef.java
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
src/test/java/org/elasticsearch/test/integration/search/sort/SimpleSortTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/ByteFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/DoubleFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/FloatFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/IntFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/LongFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/NumericFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/StringFieldDataTests.java
comments:
Added sort by field that have multiple values per document.

Closes #2634

time:
2013-02-08T09:07:31Z
class:
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/GeoDistanceComparator.java
comments:
don't use substraction for comparison if datatypes can overflow

time:
2013-02-07T15:50:54Z
class:
src/test/java/org/elasticsearch/test/integration/search/suggest/SuggestSearchTests.java
comments:
Fixes size assertion failure.

time:
2013-02-07T12:52:25Z
class:
src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
comments:
Added more info to assert

time:
2013-02-07T09:14:10Z
class:
src/test/java/org/elasticsearch/test/integration/search/suggest/SuggestSearchTests.java
comments:
Attempt to fix "No active shards" failure

time:
2013-02-06T21:33:02Z
class:
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/test/java/org/elasticsearch/test/unit/index/mapper/simple/SimpleMapperTests.java
comments:
Throw a more meaningful message when no document is specified for indexing

time:
2013-02-06T17:45:05Z
class:
src/main/java/org/elasticsearch/common/lucene/BytesRefs.java
src/main/java/org/elasticsearch/common/lucene/search/XTermsFilter.java
src/main/java/org/elasticsearch/common/lucene/spatial/prefix/TermQueryPrefixTreeStrategy.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/Uid.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/query/IdsFilterParser.java
src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
src/main/java/org/elasticsearch/index/query/TermsFilterParser.java
src/main/java/org/elasticsearch/index/search/UidFilter.java
src/test/java/org/elasticsearch/test/unit/common/lucene/search/TermsFilterTests.java
src/test/java/org/elasticsearch/test/unit/index/query/SimpleIndexQueryParserTests.java
comments:
Remove XTermsFilter and UidFilter in favour of Lucene 4.1 TermsFilter

time:
2013-02-06T16:48:58Z
class:
src/test/java/org/elasticsearch/test/integration/percolator/RecoveryPercolatorTests.java
comments:
Move action.wait_on_mapping_change setting to pom

time:
2013-02-05T19:53:46Z
class:
src/test/java/org/elasticsearch/test/integration/percolator/RecoveryPercolatorTests.java
comments:
Improve stability of RecoveryPercolatorTests

Without "action.wait_on_mapping_change" setting set to true, the test node might get shutdown before updated mapping is saved.

time:
2013-02-05T15:03:00Z
class:
src/main/java/org/elasticsearch/index/analysis/WordDelimiterTokenFilterFactory.java
src/test/java/org/elasticsearch/test/unit/index/analysis/WordDelimiterTokenFilterFactoryTests.java
comments:
Fix settings processing in WordDelimiterTokenFilterFactory

time:
2013-02-05T09:27:31Z
class:
src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
src/test/java/org/elasticsearch/test/integration/search/child/SimpleChildQuerySearchTests.java
comments:
Made sure that wrapped child query / parent query gets rewritten only once.

time:
2013-02-05T00:58:40Z
class:
src/test/java/org/elasticsearch/test/unit/node/internal/InternalSettingsPerparerTests.java
comments:
Add proper cleanup to InternalSettingsPerparerTests

time:
2013-02-04T13:47:36Z
class:
src/main/java/org/elasticsearch/common/CacheRecycler.java
comments:
Made SoftWrapper fields final.

time:
2013-02-04T11:46:30Z
class:
src/main/java/org/elasticsearch/common/CacheRecycler.java
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
comments:
Use CacheRecycler when resolving parent docs in TopChildrenQuery.

time:
2013-02-04T10:54:15Z
class:
src/test/java/org/elasticsearch/index/analysis/SimpleIcuCollationTokenFilterTests.java
comments:
Upgrade to Lucene 4.1

time:
2013-02-04T10:37:40Z
class:
src/main/java/org/elasticsearch/index/query/HasChildFilterBuilder.java
src/main/java/org/elasticsearch/index/query/HasChildFilterParser.java
src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentFilterBuilder.java
src/main/java/org/elasticsearch/index/query/HasParentFilterParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/search/child/ChildCollector.java
src/main/java/org/elasticsearch/index/search/child/HasChildFilter.java
src/main/java/org/elasticsearch/index/search/child/HasParentFilter.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
src/test/java/org/elasticsearch/test/integration/search/child/BitsetExecutionChildQuerySearchTests.java
src/test/java/org/elasticsearch/test/integration/search/child/SimpleChildQuerySearchTests.java
comments:
Removed `execution_type` for has_child and has_parent.

time:
2013-02-03T14:44:16Z
class:
src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
comments:
Add additional query validation to the terms query parser

Fixes #2608

time:
2013-02-01T18:00:01Z
class:
src/main/java/org/elasticsearch/index/merge/policy/TieredMergePolicyProvider.java
comments:
when we fix maxMergeAtOnce, make sure to not set it to 1 as its an illegal value

time:
2013-02-01T15:13:13Z
class:
src/main/java/org/elasticsearch/index/fielddata/ordinals/DocIdOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/EmptyOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/MultiFlatArrayOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/Ordinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/SingleArrayOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/SinglePackedOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/SparseMultiArrayOrdinals.java
src/main/java/org/elasticsearch/search/facet/terms/strings/TermsStringOrdinalsFacetCollector.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/ordinals/MultiOrdinalsTests.java
comments:
add getMaxOrd, and properly document the difference between it and numOrds

time:
2013-02-01T11:46:19Z
class:
src/main/java/org/elasticsearch/common/xcontent/XContentFactory.java
comments:
support yaml detection on char sequence

time:
2013-02-01T10:11:47Z
class:
src/main/java/org/elasticsearch/index/fielddata/ordinals/OrdinalsBuilder.java
comments:
check for == 0 rather than > 0

time:
2013-02-01T10:09:09Z
class:
src/main/java/org/elasticsearch/index/fielddata/ordinals/SparseMultiArrayOrdinals.java
comments:
fix getMemorySizeInBytes in SparseMultiArrayOrdinals

time:
2013-02-01T02:19:08Z
class:
src/test/java/org/elasticsearch/test/integration/search/stats/SearchStatsTests.java
comments:
Improve SearchStatsTests

Added refresh to guarantee that at least something will be fetched on a fast computer.

time:
2013-02-01T02:19:08Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/health/RestClusterHealthAction.java
comments:
Allow health to be executed on a local node instead of the master

time:
2013-02-01T02:19:07Z
class:
src/test/java/org/elasticsearch/test/integration/search/facet/SimpleFacetsTests.java
src/test/java/org/elasticsearch/test/integration/search/sort/SimpleSortTests.java
comments:
Make facet and sort tests more reliable in case of multiple nodes and shards

Stats, histogram and range facets and sorting currently fail if a field that they are running on is not defined in the mapping. In case of dynamic fields it might mean that by the time the facet query is executed the new field mapping might not be propagated to all nodes yet.

time:
2013-02-01T02:18:14Z
class:
src/test/java/org/elasticsearch/test/integration/indices/store/IndicesStoreTests.java
comments:
Improve shardsCleanup test

When startNode exits there is no guarantee that shard cleanup is finished because the cleanup operation is performed on another thread and startNode doesn't wait for it to complete. Therefore we might need to wait for the shard to disappear.

time:
2013-02-01T01:05:55Z
class:
src/test/java/org/elasticsearch/test/integration/AbstractNodesTests.java
src/test/java/org/elasticsearch/test/integration/gateway/local/SimpleRecoveryLocalGatewayTests.java
src/test/java/org/elasticsearch/test/integration/gateway/none/RecoverAfterNodesTests.java
comments:
Improve RecoverAfterNodes tests

time:
2013-01-31T22:49:32Z
class:
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
comments:
Another small TopChildrenQuery cleanup.

time:
2013-01-31T22:38:09Z
class:
src/main/java/org/elasticsearch/index/query/TopChildrenQueryParser.java
src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
comments:
- TopChildrenQuery cleanup.
- Added class level jdocs for TopChildrenQuery and ChildrenQuery.

time:
2013-01-31T18:02:31Z
class:
src/main/java/org/elasticsearch/index/fielddata/ordinals/DocIdOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/EmptyOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/MultiFlatArrayOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/Ordinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/OrdinalsBuilder.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/PositiveIntPool.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/SparseMultiArrayOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/plain/ByteArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ConcreteBytesRefIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IntArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/LongArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ShortArrayIndexFieldData.java
src/main/java/org/elasticsearch/search/facet/terms/strings/TermsStringOrdinalsFacetCollector.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/ordinals/FlatMultiOrdinalsTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/ordinals/MultiOrdinalsTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/ordinals/SparseMultiOrdinalsTests.java
comments:
Move OrdsBuilding into a dedicated class and abstract integer pools used to build sparse ordinals

time:
2013-01-31T17:39:31Z
class:
src/main/java/org/elasticsearch/index/query/HasChildFilterParser.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentFilterParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryParser.java
src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
src/main/java/org/elasticsearch/index/search/child/HasChildFilter.java
src/main/java/org/elasticsearch/index/search/child/HasParentFilter.java
src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
comments:
Initial parent/child queries cleanup.

time:
2013-01-31T16:24:46Z
class:
src/main/java/org/elasticsearch/index/query/HasChildFilterParser.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentFilterParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryParser.java
src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
src/main/java/org/elasticsearch/index/search/child/HasChildFilter.java
src/main/java/org/elasticsearch/index/search/child/HasParentFilter.java
src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
src/main/java/org/elasticsearch/search/facet/FacetParseElement.java
src/main/java/org/elasticsearch/search/facet/FacetPhase.java
src/main/java/org/elasticsearch/search/facet/SearchContextFacets.java
src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
src/main/java/org/elasticsearch/search/internal/ScopePhase.java
src/main/java/org/elasticsearch/search/internal/SearchContext.java
src/main/java/org/elasticsearch/search/query/QueryPhase.java
comments:
Added notion of Rewrite that replaces ScopePhase

time:
2013-01-31T15:34:45Z
class:
src/main/java/org/elasticsearch/search/facet/AbstractFacetBuilder.java
src/main/java/org/elasticsearch/search/facet/datehistogram/DateHistogramFacetBuilder.java
src/main/java/org/elasticsearch/search/facet/filter/FilterFacetBuilder.java
src/main/java/org/elasticsearch/search/facet/geodistance/GeoDistanceFacetBuilder.java
src/main/java/org/elasticsearch/search/facet/histogram/HistogramFacetBuilder.java
src/main/java/org/elasticsearch/search/facet/histogram/HistogramScriptFacetBuilder.java
src/main/java/org/elasticsearch/search/facet/query/QueryFacetBuilder.java
src/main/java/org/elasticsearch/search/facet/range/RangeFacetBuilder.java
src/main/java/org/elasticsearch/search/facet/range/RangeScriptFacetBuilder.java
src/main/java/org/elasticsearch/search/facet/statistical/StatisticalFacetBuilder.java
src/main/java/org/elasticsearch/search/facet/statistical/StatisticalScriptFacetBuilder.java
src/main/java/org/elasticsearch/search/facet/terms/TermsFacetBuilder.java
comments:
Also remove scope from facet builders. Fixes build.

time:
2013-01-31T14:09:57Z
class:
src/main/java/org/elasticsearch/index/query/HasChildFilterBuilder.java
src/main/java/org/elasticsearch/index/query/HasChildFilterParser.java
src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentFilterBuilder.java
src/main/java/org/elasticsearch/index/query/HasParentFilterParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/NestedFilterBuilder.java
src/main/java/org/elasticsearch/index/query/NestedFilterParser.java
src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryParser.java
src/main/java/org/elasticsearch/index/search/nested/BlockJoinQuery.java
src/main/java/org/elasticsearch/search/facet/FacetParseElement.java
src/main/java/org/elasticsearch/search/facet/FacetPhase.java
src/main/java/org/elasticsearch/search/internal/SearchContext.java
src/test/java/org/elasticsearch/test/integration/nested/SimpleNestedTests.java
src/test/java/org/elasticsearch/test/integration/search/child/SimpleChildQuerySearchTests.java
comments:
Remove scope support in query and facet dsl.

Remove support for the `scope` field in facets and `_scope` field in the nested and parent/child queries. The scope support for nested queries will be replaced by the `nested` facet option and a facet filter with a nested filter. The nested filters will now support the a `join` option. Which controls whether to perform the block join. By default this enabled, but when disabled it returns the nested documents as hits instead of the joined root document.

Search request with the current scope support.
```
curl -s -XPOST 'localhost:9200/products/_search' -d '{
    "query" : {
		"nested" : {
			"path" : "offers",
			"query" : {
				"match" : {
					"offers.color" : "blue"
				}
			},
			"_scope" : "my_scope"
		}
	},
	"facets" : {
		"size" : {
			"terms" : {
				"field" : "offers.size"
			},
			"scope" : "my_scope"
		}
	}
}'
```

The following will be functional equivalent of using the scope support:
```
curl -s -XPOST 'localhost:9200/products/_search?search_type=count' -d '{
    "query" : {
		"nested" : {
			"path" : "offers",
			"query" : {
				"match" : {
					"offers.color" : "blue"
				}
			}
		}
	},
	"facets" : {
		"size" : {
			"terms" : {
				"field" : "offers.size"
			},
			"facet_filter" : {
				"nested" : {
					"path" : "offers",
					"query" : {
						"match" : {
							"offers.color" : "blue"
						}
					},
					"join" : false
				}
			},
			"nested" : "offers"
		}
	}
}'
```

The scope support for parent/child queries will be replaced by running the child query as filter in a global facet.

Search request with the current scope support:
```
curl -s -XPOST 'localhost:9200/products/_search' -d '{
	"query" : {
		"has_child" : {
			"type" : "offer",
			"query" : {
				"match" : {
					"color" : "blue"
				}
			},
			"_scope" : "my_scope"
		}
	},
	"facets" : {
		"size" : {
			"terms" : {
				"field" : "size"
			},
			"scope" : "my_scope"
		}
	}
}'
```

The following is the functional equivalent of using the scope support with parent/child queries:
```
curl -s -XPOST 'localhost:9200/products/_search' -d '{
	"query" : {
		"has_child" : {
			"type" : "offer",
			"query" : {
				"match" : {
					"color" : "blue"
				}
			}
		}
	},
	"facets" : {
		"size" : {
			"terms" : {
				"field" : "size"
			},
			"global" : true,
			"facet_filter" : {
				"term" : {
					"color" : "blue"
				}
			}
		}
	}
}'
```

Closes #2606

time:
2013-01-31T12:12:33Z
class:
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
comments:
Use only the 'test' index, instead of all indices for child search benchmark.

time:
2013-01-31T11:23:03Z
class:
src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
src/main/java/org/elasticsearch/index/mapper/internal/BoostFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SizeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/test/java/org/elasticsearch/test/integration/search/query/SimpleQueryTests.java
comments:
remove fuzzy factor from mapping (internally implemented)
we want to support ~ notion in query parser for types other than strings, we are getting there, one can do now age:10~5, we would love to support it for dates, as in timestamp:2012-10-10~5d, but that requires changes in the query parser to support strings after the ~ sign

time:
2013-01-31T00:51:41Z
class:
src/test/java/org/elasticsearch/test/integration/gateway/local/SimpleRecoveryLocalGatewayTests.java
comments:
Improve testReusePeerRecovery test

time:
2013-01-30T15:40:01Z
class:
src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
src/test/java/org/elasticsearch/test/integration/indices/state/SimpleIndexStateTests.java
comments:
Add index cleanup if index creation fails

Fixes #2590

time:
2013-01-30T13:42:07Z
class:
src/main/java/org/elasticsearch/index/cache/id/simple/SimpleIdCache.java
comments:
Id Cache: Allow to configure if ids should be reused (memory wise) or not, default to false
closes #2605

time:
2013-01-30T10:49:20Z
class:
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/test/java/org/elasticsearch/test/unit/index/mapper/merge/TestMergeMapperTests.java
comments:
Made `search_analyzer` updateable via put mapping api.
Closes #2604

time:
2013-01-30T10:20:41Z
class:
src/main/java/org/elasticsearch/index/fielddata/ordinals/MultiFlatArrayOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/SparseMultiArrayOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/util/IntArrayRef.java
comments:
Fielddata: Moved the growing logic to IntArrayRef

time:
2013-01-30T09:57:52Z
class:
src/main/java/org/elasticsearch/index/fielddata/ordinals/MultiFlatArrayOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/SparseMultiArrayOrdinals.java
comments:
Fielddata: IntArrayRef is initialized with small array and grows if needed

time:
2013-01-30T09:51:05Z
class:
src/test/java/org/elasticsearch/test/integration/search/highlight/HighlighterSearchTests.java
comments:
add more advanced tests for phrase_prefix

time:
2013-01-29T19:25:13Z
class:
src/main/java/org/elasticsearch/Version.java
comments:
properly print JVM version

time:
2013-01-29T19:23:54Z
class:
src/main/java/org/elasticsearch/index/fielddata/ordinals/SparseMultiArrayOrdinals.java
comments:
reduce the memory needed while building the sparse array ordinals

time:
2013-01-29T09:14:25Z
class:
src/main/java/org/elasticsearch/Version.java
comments:
add 0.20.5

time:
2013-01-28T14:51:06Z
class:
src/test/java/org/elasticsearch/benchmark/search/geo/GeoDistanceSearchBenchmark.java
src/test/java/org/elasticsearch/test/integration/codecs/CodecTests.java
src/test/java/org/elasticsearch/test/integration/consistencylevel/WriteConsistencyLevelTests.java
src/test/java/org/elasticsearch/test/integration/indices/settings/UpdateNumberOfReplicasTests.java
src/test/java/org/elasticsearch/test/integration/nested/SimpleNestedTests.java
src/test/java/org/elasticsearch/test/integration/search/basic/SearchWhileCreatingIndexTests.java
src/test/java/org/elasticsearch/test/integration/search/basic/TransportSearchFailuresTests.java
src/test/java/org/elasticsearch/test/integration/search/basic/TransportTwoNodesSearchTests.java
src/test/java/org/elasticsearch/test/integration/search/geo/GeoBoundingBoxTests.java
src/test/java/org/elasticsearch/test/integration/search/highlight/HighlighterSearchTests.java
src/test/java/org/elasticsearch/test/integration/search/msearch/SimpleMultiSearchTests.java
src/test/java/org/elasticsearch/test/integration/search/preference/SearchPreferenceTests.java
src/test/java/org/elasticsearch/test/integration/search/query/SimpleQueryTests.java
src/test/java/org/elasticsearch/test/integration/search/simple/SimpleSearchTests.java
src/test/java/org/elasticsearch/test/integration/search/sort/SimpleSortTests.java
src/test/java/org/elasticsearch/test/integration/search/stats/SearchStatsTests.java
src/test/java/org/elasticsearch/test/integration/similarity/SimilarityTests.java
src/test/java/org/elasticsearch/test/integration/versioning/ConcurrentDocumentOperationTests.java
comments:
use index prefix in tests to prevent misconfiguration

time:
2013-01-28T14:41:25Z
class:
src/main/java/org/apache/lucene/search/vectorhighlight/CustomFieldQuery.java
src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
src/main/java/org/elasticsearch/search/highlight/CustomQueryScorer.java
src/test/java/org/elasticsearch/test/integration/search/highlight/HighlighterSearchTests.java
comments:
Support MultiPhrasePrefixQuery and MultiPhraseQuery in highlighters

Closes #2596

time:
2013-01-28T14:18:18Z
class:
src/main/java/org/elasticsearch/search/suggest/Suggest.java
src/main/java/org/elasticsearch/search/suggest/SuggestBuilder.java
src/main/java/org/elasticsearch/search/suggest/SuggestParseElement.java
src/main/java/org/elasticsearch/search/suggest/SuggestPhase.java
src/main/java/org/elasticsearch/search/suggest/SuggestionSearchContext.java
src/test/java/org/elasticsearch/benchmark/search/SuggestSearchBenchMark.java
src/test/java/org/elasticsearch/test/integration/search/suggest/SuggestSearchTests.java
comments:
Updated suggest api.

# Suggest feature
The suggest feature suggests similar looking terms based on a provided text by using a suggester. At the moment there the only supported suggester is `fuzzy`. The suggest feature is available from version `0.21.0`.

# Fuzzy suggester
The `fuzzy` suggester suggests terms based on edit distance. The provided suggest text is analyzed before terms are suggested. The suggested terms are provided per analyzed suggest text token. The `fuzzy` suggester doesn't take the query into account that is part of request.

# Suggest API
The suggest request part is defined along side the query part as top field in the json request.

```
curl -s -XPOST 'localhost:9200/_search' -d '{
  "query" : {
    ...
  },
  "suggest" : {
    ...
  }
}'
```

Several suggestions can be specified per request. Each suggestion is identified with an arbitary name. In the example below two suggestions are requested. Both `my-suggest-1` and `my-suggest-2` suggestions use the `fuzzy` suggester, but have a different `text`.

```
"suggest" : {
  "my-suggest-1" : {
    "text" : "the amsterdma meetpu",
    "fuzzy" : {
      "field" : "body"
    }
  },
  "my-suggest-2" : {
    "text" : "the rottredam meetpu",
    "fuzzy" : {
      "field" : "title",
    }
  }
}
```

The below suggest response example includes the suggestion response for `my-suggest-1` and `my-suggest-2`. Each suggestion part contains entries. Each entry is effectively a token from the suggest text and contains the suggestion entry text, the original start offset and length in the suggest text and if found an arbitary number of options.

```
{
  ...
  "suggest": {
    "my-suggest-1": [
      {
        "text" : "amsterdma",
        "offset": 4,
        "length": 9,
        "options": [
           ...
        ]
      },
      ...
    ],
    "my-suggest-2" : [
      ...
    ]
  }
  ...
}
```

Each options array contains a option object that includes the suggested text, its document frequency and score compared to the suggest entry text. The meaning of the score depends on the used suggester. The fuzzy suggester's score is based on the edit distance.

```
"options": [
  {
    "text": "amsterdam",
    "freq": 77,
    "score": 0.8888889
  },
  ...
]
```

# Global suggest text

To avoid repitition of the suggest text, it is possible to define a global text. In the example below the suggest text is defined globally and applies to the `my-suggest-1` and `my-suggest-2` suggestions.

```
"suggest" : {
  "text" : "the amsterdma meetpu"
  "my-suggest-1" : {
    "fuzzy" : {
      "field" : "title"
    }
  },
  "my-suggest-2" : {
    "fuzzy" : {
      "field" : "body"
    }
  }
}
```

The suggest text can in the above example also be specied as suggestion specific option. The suggest text specified on suggestion level override the suggest text on the global level.

# Other suggest example.

In the below example we request suggestions for the following suggest text: `devloping distibutd saerch engies` on the `title` field with a maximum of 3 suggestions per term inside the suggest text. Note that in this example we use the `count` search type. This isn't required, but a nice optimalization. The suggestions are gather in the `query` phase and in the case that we only care about suggestions (so no hits) we don't need to execute the `fetch` phase.

```
curl -s -XPOST 'localhost:9200/_search?search_type=count' -d '{
  "suggest" : {
    "my-title-suggestions-1" : {
      "text" : "devloping distibutd saerch engies",
      "fuzzy" : {
        "size" : 3,
        "field" : "title"
      }
    }
  }
}'
```

The above request could yield the response as stated in the code example below. As you can see if we take the first suggested options of each suggestion entry we get `developing distributed search engines` as result.

```
{
  ...
  "suggest": {
    "my-title-suggestions-1": [
      {
        "text": "devloping",
        "offset": 0,
        "length": 9,
        "options": [
          {
            "text": "developing",
            "freq": 77,
            "score": 0.8888889
          },
          {
            "text": "deloping",
            "freq": 1,
            "score": 0.875
          },
          {
            "text": "deploying",
            "freq": 2,
            "score": 0.7777778
          }
        ]
      },
      {
        "text": "distibutd",
        "offset": 10,
        "length": 9,
        "options": [
          {
            "text": "distributed",
            "freq": 217,
            "score": 0.7777778
          },
          {
            "text": "disributed",
            "freq": 1,
            "score": 0.7777778
          },
          {
            "text": "distribute",
            "freq": 1,
            "score": 0.7777778
          }
        ]
      },
      {
        "text": "saerch",
        "offset": 20,
        "length": 6,
        "options": [
          {
            "text": "search",
            "freq": 1038,
            "score": 0.8333333
          },
          {
            "text": "smerch",
            "freq": 3,
            "score": 0.8333333
          },
          {
            "text": "serch",
            "freq": 2,
            "score": 0.8
          }
        ]
      },
      {
        "text": "engies",
        "offset": 27,
        "length": 6,
        "options": [
          {
            "text": "engines",
            "freq": 568,
            "score": 0.8333333
          },
          {
            "text": "engles",
            "freq": 3,
            "score": 0.8333333
          },
          {
            "text": "eggies",
            "freq": 1,
            "score": 0.8333333
          }
        ]
      }
    ]
  }
  ...
}
```

# Common suggest options:
* `text` - The suggest text. The suggest text is a required option that needs to be set globally or per suggestion.

# Common fuzzy suggest options
* `field` - The field to fetch the candidate suggestions from. This is an required option that either needs to be set globally or per suggestion.
* `analyzer` - The analyzer to analyse the suggest text with. Defaults to the search analyzer of the suggest field.
* `size` - The maximum corrections to be returned per suggest text token.
* `sort` - Defines how suggestions should be sorted per suggest text term. Two possible value:
** `score` - Sort by sore first, then document frequency and then the term itself.
** `frequency` - Sort by document frequency first, then simlarity score and then the term itself.
* `suggest_mode` - The suggest mode controls what suggestions are included or controls for what suggest text terms, suggestions should be suggested. Three possible values can be specified:
** `missing` - Only suggest terms in the suggest text that aren't in the index. This is the default.
** `popular` - Only suggest suggestions that occur in more docs then the original suggest text term.
** `always` - Suggest any matching suggestions based on terms in the suggest text.

# Other fuzzy suggest options:
* `lowercase_terms` - Lower cases the suggest text terms after text analyzation.
* `max_edits` - The maximum edit distance candidate suggestions can have in order to be considered as a suggestion. Can only be a value between 1 and 2. Any other value result in an bad request error being thrown. Defaults to 2.
* `min_prefix` - The number of minimal prefix characters that must match in order be a candidate suggestions. Defaults to 1. Increasing this number improves spellcheck performance. Usually misspellings don't occur in the beginning of terms.
* `min_query_length` -  The minimum length a suggest text term must have in order to be included. Defaults to 4.
* `shard_size` - Sets the maximum number of suggestions to be retrieved from each individual shard. During the reduce phase only the top N suggestions are returned based on the `size` option. Defaults to the `size` option. Setting this to a value higher than the `size` can be useful in order to get a more accurate document frequency for spelling corrections at the cost of performance. Due to the fact that terms are partitioned amongst shards, the shard level document frequencies of spelling corrections may not be precise. Increasing this will make these document frequencies more precise.
* `max_inspections` - A factor that is used to multiply with the `shards_size` in order to inspect more candidate spell corrections on the shard level. Can improve accuracy at the cost of performance. Defaults to 5.
* `threshold_frequency` - The minimal threshold in number of documents a suggestion should appear in. This can be specified as an absolute number or as a relative percentage of number of documents. This can improve quality by only suggesting high frequency terms. Defaults to 0f and is not enabled. If a value higher than 1 is specified then the number cannot be fractional. The shard level document frequencies are used for this option.
* `max_query_frequency` - The maximum threshold in number of documents a sugges text token can exist in order to be included. Can be a relative percentage number (e.g 0.4) or an absolute number to represent document frequencies. If an value higher than 1 is specified then fractional can not be specified. Defaults to 0.01f. This can be used to exclude high frequency terms from being spellchecked. High frequency terms are usually spelled correctly on top of this this also improves the spellcheck performance.  The shard level document frequencies are used for this option.

time:
2013-01-28T10:57:05Z
class:
src/main/java/org/apache/lucene/index/memory/ReusableMemoryIndex.java
src/main/java/org/apache/lucene/queries/ExtendedCommonTermsQuery.java
src/main/java/org/apache/lucene/queries/XCommonTermsQuery.java
src/main/java/org/apache/lucene/search/vectorhighlight/CustomFieldQuery.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
src/main/java/org/elasticsearch/index/search/MatchQuery.java
src/main/java/org/elasticsearch/search/action/SearchServiceTransportAction.java
src/main/java/org/elasticsearch/search/highlight/CustomQueryScorer.java
src/test/java/org/elasticsearch/test/integration/search/highlight/HighlighterSearchTests.java
src/test/java/org/elasticsearch/test/integration/search/query/SimpleQueryTests.java
comments:
Expose CommonTermsQuery in Match & MultiMatch and enable highlighting

Closes #2591

time:
2013-01-28T10:29:32Z
class:
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/indices/recovery/DelayRecoveryException.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySource.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
comments:
Indexes created from index request might not replica initial doc to replica
fixes #2594

time:
2013-01-27T12:45:38Z
class:
src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
src/main/java/org/elasticsearch/search/facet/Facet.java
src/main/java/org/elasticsearch/search/facet/FacetProcessor.java
src/main/java/org/elasticsearch/search/facet/InternalFacet.java
src/main/java/org/elasticsearch/search/facet/datehistogram/DateHistogramFacetProcessor.java
src/main/java/org/elasticsearch/search/facet/datehistogram/InternalCountDateHistogramFacet.java
src/main/java/org/elasticsearch/search/facet/datehistogram/InternalDateHistogramFacet.java
src/main/java/org/elasticsearch/search/facet/datehistogram/InternalFullDateHistogramFacet.java
src/main/java/org/elasticsearch/search/facet/filter/FilterFacetProcessor.java
src/main/java/org/elasticsearch/search/facet/filter/InternalFilterFacet.java
src/main/java/org/elasticsearch/search/facet/geodistance/GeoDistanceFacetProcessor.java
src/main/java/org/elasticsearch/search/facet/geodistance/InternalGeoDistanceFacet.java
src/main/java/org/elasticsearch/search/facet/histogram/HistogramFacetProcessor.java
src/main/java/org/elasticsearch/search/facet/histogram/InternalHistogramFacet.java
src/main/java/org/elasticsearch/search/facet/histogram/bounded/InternalBoundedCountHistogramFacet.java
src/main/java/org/elasticsearch/search/facet/histogram/bounded/InternalBoundedFullHistogramFacet.java
src/main/java/org/elasticsearch/search/facet/histogram/unbounded/InternalCountHistogramFacet.java
src/main/java/org/elasticsearch/search/facet/histogram/unbounded/InternalFullHistogramFacet.java
src/main/java/org/elasticsearch/search/facet/query/InternalQueryFacet.java
src/main/java/org/elasticsearch/search/facet/query/QueryFacetProcessor.java
src/main/java/org/elasticsearch/search/facet/range/InternalRangeFacet.java
src/main/java/org/elasticsearch/search/facet/range/RangeFacetProcessor.java
src/main/java/org/elasticsearch/search/facet/statistical/InternalStatisticalFacet.java
src/main/java/org/elasticsearch/search/facet/statistical/StatisticalFacetProcessor.java
src/main/java/org/elasticsearch/search/facet/terms/InternalTermsFacet.java
src/main/java/org/elasticsearch/search/facet/terms/TermsFacetProcessor.java
src/main/java/org/elasticsearch/search/facet/terms/doubles/InternalDoubleTermsFacet.java
src/main/java/org/elasticsearch/search/facet/terms/longs/InternalLongTermsFacet.java
src/main/java/org/elasticsearch/search/facet/terms/strings/InternalStringTermsFacet.java
src/main/java/org/elasticsearch/search/facet/termsstats/InternalTermsStatsFacet.java
src/main/java/org/elasticsearch/search/facet/termsstats/TermsStatsFacetProcessor.java
src/main/java/org/elasticsearch/search/facet/termsstats/doubles/InternalTermsStatsDoubleFacet.java
src/main/java/org/elasticsearch/search/facet/termsstats/longs/InternalTermsStatsLongFacet.java
src/main/java/org/elasticsearch/search/facet/termsstats/strings/InternalTermsStatsStringFacet.java
comments:
move facet reduce from facet process to the actual facet
this will simplify execution, and actually let the process just be a parser (rename will probably happen)

time:
2013-01-26T14:11:14Z
class:
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
comments:
default for paged_bytes for string type
less memory overhead, though a bit slower on the execution side for facets, and might require more memory per facet execution

time:
2013-01-25T21:26:30Z
class:
src/test/java/org/elasticsearch/test/integration/cluster/allocation/ShardsAllocatorModuleTests.java
comments:
move ShardsAllocatorModuleTests to o.e.t.integration

time:
2013-01-25T21:02:34Z
class:
src/main/java/org/elasticsearch/Version.java
comments:
add 0.20.4

time:
2013-01-25T16:59:01Z
class:
src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
src/test/java/org/elasticsearch/test/unit/cluster/routing/allocation/PrimaryElectionRoutingTests.java
comments:
Primary shard failure with initializing replica shards can cause the replica shard to cause allocation failures
fixes #2592

time:
2013-01-25T14:25:48Z
class:
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/index/gateway/local/LocalIndexShardGateway.java
comments:
Propagate exception during recovery if segement info can not be opended but should

time:
2013-01-25T14:23:05Z
class:
src/main/java/org/elasticsearch/discovery/Discovery.java
src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
src/main/java/org/elasticsearch/node/internal/InternalNode.java
comments:
eagerly reroute when a node leaves the cluster

time:
2013-01-24T23:02:43Z
class:
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
comments:
Exposed IndexOptions#DOCS_AND_FREQS_AND_POSITIONS_AND_OFFSETS setting.

time:
2013-01-24T21:31:52Z
class:
src/main/java/org/elasticsearch/index/fielddata/AtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/AtomicOrdinalFieldData.java
src/main/java/org/elasticsearch/index/fielddata/BytesValues.java
src/main/java/org/elasticsearch/index/fielddata/HashedBytesValues.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/IndexOrdinalFieldData.java
src/main/java/org/elasticsearch/index/fielddata/OrdinalsBytesValues.java
src/main/java/org/elasticsearch/index/fielddata/OrdinalsHashedBytesValues.java
src/main/java/org/elasticsearch/index/fielddata/OrdinalsStringValues.java
src/main/java/org/elasticsearch/index/fielddata/StringValues.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/BytesRefFieldComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/BytesRefOrdValComparator.java
src/main/java/org/elasticsearch/index/fielddata/plain/ConcreteBytesRefAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ConcreteBytesRefIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesIndexFieldData.java
src/main/java/org/elasticsearch/search/facet/terms/TermsFacetProcessor.java
src/main/java/org/elasticsearch/search/facet/terms/strings/TermsStringOrdinalsFacetCollector.java
comments:
cleanup ordinals in field data

time:
2013-01-24T21:31:51Z
class:
src/test/java/org/elasticsearch/test/integration/search/suggest/SuggestSearchTests.java
comments:
make sure we wait for yellow stats in suggest API when searching on clean index

time:
2013-01-24T21:15:07Z
class:
src/main/java/org/apache/lucene/search/vectorhighlight/AbstractFragmentsBuilder.java
src/main/java/org/apache/lucene/search/vectorhighlight/XScoreOrderFragmentsBuilder.java
src/main/java/org/apache/lucene/search/vectorhighlight/XSimpleFragmentsBuilder.java
src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
comments:
Removed AbstractFragmentsBuilder. Lucene's BaseFragmentsBuilder has now discrete multivalued highlighting and better support for requesting large number of fragments.

time:
2013-01-24T20:52:56Z
class:
src/main/java/org/elasticsearch/index/search/nested/BlockJoinQuery.java
comments:
Made BlockJoinScorer#freq() method handle freqs correctly (as is done in ToParentBlockJoinQuery)

time:
2013-01-24T20:32:38Z
class:
src/main/java/org/elasticsearch/index/query/FilterBuilders.java
src/main/java/org/elasticsearch/index/query/HasChildFilterBuilder.java
src/main/java/org/elasticsearch/index/query/HasChildFilterParser.java
src/main/java/org/elasticsearch/index/query/HasParentFilterBuilder.java
src/main/java/org/elasticsearch/index/query/HasParentFilterParser.java
src/test/java/org/elasticsearch/test/integration/search/child/SimpleChildQuerySearchTests.java
comments:
Added filter support in the `has_child` and `has_parent` filters.

Example:
```
curl -XPOST 'localhost:9200/_search' -d '{
  "query": {
    "filtered_query": {
      "query": {
        "match": {
          "title": "distributed systems"
        }
      },
      "filter": {
        "has_child": {
          "type": "tag",
          "filter": {
            "term": {
              "name": "book"
            }
          }
        }
      }
    }
  }
}'
```

Closes #2585

time:
2013-01-24T14:55:23Z
class:
src/main/java/org/elasticsearch/index/mapper/MergeContext.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
comments:
gather the field data that are changed
(we will make use of that later)

time:
2013-01-24T14:41:06Z
class:
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/action/search/SearchResponse.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollScanAction.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
src/main/java/org/elasticsearch/search/internal/InternalSearchResponse.java
src/main/java/org/elasticsearch/search/internal/SearchContext.java
src/main/java/org/elasticsearch/search/query/QueryPhase.java
src/main/java/org/elasticsearch/search/query/QuerySearchResult.java
src/main/java/org/elasticsearch/search/suggest/Suggest.java
src/main/java/org/elasticsearch/search/suggest/SuggestBuilder.java
src/main/java/org/elasticsearch/search/suggest/SuggestParseElement.java
src/main/java/org/elasticsearch/search/suggest/SuggestPhase.java
src/main/java/org/elasticsearch/search/suggest/SuggestionSearchContext.java
src/test/java/org/elasticsearch/benchmark/search/SuggestSearchBenchMark.java
src/test/java/org/elasticsearch/test/integration/search/suggest/SuggestSearchTests.java
comments:
Added suggest api.

# Suggest feature
The suggest feature suggests similar looking terms based on a provided text by using a suggester. At the moment there the only supported suggester is `fuzzy`. The suggest feature is available since version `0.21.0`.

# Fuzzy suggester
The `fuzzy` suggester suggests terms based on edit distance. The provided suggest text is analyzed before terms are suggested. The suggested terms are provided per analyzed suggest text token. The `fuzzy` suggester doesn't take the query into account that is part of request.

# Suggest API
The suggest request part is defined along side the query part as top field in the json request.

```
curl -s -XPOST 'localhost:9200/_search' -d '{
    "query" : {
        ...
    },
    "suggest" : {
        ...
    }
}'
```

Several suggestions can be specified per request. Each suggestion is identified with an arbitary name. In the example below two suggestions are requested. The `my-suggest-1` suggestion uses the `body` field and `my-suggest-2` uses the `title` field. The `type` field is a required field and defines what suggester to use for a suggestion.

```
"suggest" : {
    "suggestions" : {
        "my-suggest-1" : {
            "type" : "fuzzy",
            "field" : "body",
            "text" : "the amsterdma meetpu"
        },
        "my-suggest-2" : {
            "type" : "fuzzy",
            "field" : "title",
            "text" : "the rottredam meetpu"
        }
    }
}
```

The below suggest response example includes the suggestions part for `my-suggest-1` and `my-suggest-2`. Each suggestion part contains a terms array, that contains all terms outputted by the analyzed suggest text. Each term object includes the term itself, the original start and end offset in the suggest text and if found an arbitary number of suggestions.

```
{
    ...
    "suggest": {
        "my-suggest-1": {
            "terms" : [
              {
                "term" : "amsterdma",
                "start_offset": 5,
                "end_offset": 14,
                "suggestions": [
                   ...
                ]
              }
              ...
            ]
        },
        "my-suggest-2" : {
          "terms" : [
            ...
          ]
        }
    }
```

Each suggestions array contains a suggestion object that includes the suggested term, its document frequency and score compared to the suggest text term. The meaning of the score depends on the used suggester. The fuzzy suggester's score is based on the edit distance.

```
"suggestions": [
    {
        "term": "amsterdam",
        "frequency": 77,
        "score": 0.8888889
    },
    ...
]
```

# Global suggest text

To avoid repitition of the suggest text, it is possible to define a global text. In the example below the suggest text is a global option and applies to the `my-suggest-1` and `my-suggest-2` suggestions.

```
"suggest" : {
    "suggestions" : {
        "text" : "the amsterdma meetpu",
        "my-suggest-1" : {
            "type" : "fuzzy",
            "field" : "title"
        },
        "my-suggest-2" : {
            "type" : "fuzzy",
            "field" : "body"
        }
    }
}
```

The suggest text can be specied as global option or as suggestion specific option. The suggest text specified on suggestion level override the suggest text on the global level.

# Other suggest example.

In the below example we request suggestions for the following suggest text: `devloping distibutd saerch engies` on the `title` field with a maximum of 3 suggestions per term inside the suggest text. Note that in this example we use the `count` search type. This isn't required, but a nice optimalization. The suggestions are gather in the `query` phase and in the case that we only care about suggestions (so no hits) we don't need to execute the `fetch` phase.

```
curl -s -XPOST 'localhost:9200/_search?search_type=count' -d '{
  "suggest" : {
      "suggestions" : {
        "my-title-suggestions" : {
          "suggester" : "fuzzy",
          "field" : "title",
          "text" : "devloping distibutd saerch engies",
          "size" : 3
        }
      }
  }
}'
```

The above request could yield the response as stated in the code example below. As you can see if we take the first suggested term of each suggest text term we get `developing distributed search engines` as result.

```
{
  ...
  "suggest": {
    "my-title-suggestions": {
      "terms": [
        {
          "term": "devloping",
          "start_offset": 0,
          "end_offset": 9,
          "suggestions": [
            {
              "term": "developing",
              "frequency": 77,
              "score": 0.8888889
            },
            {
              "term": "deloping",
              "frequency": 1,
              "score": 0.875
            },
            {
              "term": "deploying",
              "frequency": 2,
              "score": 0.7777778
            }
          ]
        },
        {
          "term": "distibutd",
          "start_offset": 10,
          "end_offset": 19,
          "suggestions": [
            {
              "term": "distributed",
              "frequency": 217,
              "score": 0.7777778
            },
            {
              "term": "disributed",
              "frequency": 1,
              "score": 0.7777778
            },
            {
              "term": "distribute",
              "frequency": 1,
              "score": 0.7777778
            }
          ]
        },
        {
          "term": "saerch",
          "start_offset": 20,
          "end_offset": 26,
          "suggestions": [
            {
              "term": "search",
              "frequency": 1038,
              "score": 0.8333333
            },
            {
              "term": "smerch",
              "frequency": 3,
              "score": 0.8333333
            },
            {
              "term": "serch",
              "frequency": 2,
              "score": 0.8
            }
          ]
        },
        {
          "term": "engies",
          "start_offset": 27,
          "end_offset": 33,
          "suggestions": [
            {
              "term": "engines",
              "frequency": 568,
              "score": 0.8333333
            },
            {
              "term": "engles",
              "frequency": 3,
              "score": 0.8333333
            },
            {
              "term": "eggies",
              "frequency": 1,
              "score": 0.8333333
            }
          ]
        }
      ]
    }
  }
  ...
}
```

# Common suggest options:
* `suggester` - The suggester implementation type. The only supported value is 'fuzzy'. This is a required option.
* `text` - The suggest text. The suggest text is a required option that needs to be set globally or per suggestion.

# Common fuzzy suggest options
* `field` - The field to fetch the candidate suggestions from. This is an required option that either needs to be set globally or per suggestion.
* `analyzer` - The analyzer to analyse the suggest text with. Defaults to the search analyzer of the suggest field.
* `size` - The maximum corrections to be returned per suggest text token.
* `sort` - Defines how suggestions should be sorted per suggest text term. Two possible value:
** `score` - Sort by sore first, then document frequency and then the term itself.
** `frequency` - Sort by document frequency first, then simlarity score and then the term itself.
* `suggest_mode` - The suggest mode controls what suggestions are included or controls for what suggest text terms, suggestions should be suggested. Three possible values can be specified:
** `missing` - Only suggest terms in the suggest text that aren't in the index. This is the default.
** `popular` - Only suggest suggestions that occur in more docs then the original suggest text term.
** `always` - Suggest any matching suggestions based on terms in the suggest text.

# Other fuzzy suggest options:
* `lowercase_terms` - Lower cases the suggest text terms after text analyzation.
* `max_edits` - The maximum edit distance candidate suggestions can have in order to be considered as a suggestion. Can only be a value between 1 and 2. Any other value result in an bad request error being thrown. Defaults to 2.
* `min_prefix` - The number of minimal prefix characters that must match in order be a candidate suggestions. Defaults to 1. Increasing this number improves spellcheck performance. Usually misspellings don't occur in the beginning of terms.
* `min_query_length` -  The minimum length a suggest text term must have in order to be included. Defaults to 4.
* `shard_size` - Sets the maximum number of suggestions to be retrieved from each individual shard. During the reduce phase only the top N suggestions are returned based on the `size` option. Defaults to the `size` option. Setting this to a value higher than the `size` can be useful in order to get a more accurate document frequency for spelling corrections at the cost of performance. Due to the fact that terms are partitioned amongst shards, the shard level document frequencies of spelling corrections may not be precise. Increasing this will make these document frequencies more precise.
* `max_inspections` - A factor that is used to multiply with the `shards_size` in order to inspect more candidate spell corrections on the shard level. Can improve accuracy at the cost of performance. Defaults to 5.
* `threshold_frequency` - The minimal threshold in number of documents a suggestion should appear in. This can be specified as an absolute number or as a relative percentage of number of documents. This can improve quality by only suggesting high frequency terms. Defaults to 0f and is not enabled. If a value higher than 1 is specified then the number cannot be fractional. The shard level document frequencies are used for this option.
* `max_query_frequency` - The maximum threshold in number of documents a sugges text token can exist in order to be included. Can be a relative percentage number (e.g 0.4) or an absolute number to represent document frequencies. If an value higher than 1 is specified then fractional can not be specified. Defaults to 0.01f. This can be used to exclude high frequency terms from being spellchecked. High frequency terms are usually spelled correctly on top of this this also improves the spellcheck performance.  The shard level document frequencies are used for this option.

 Closes #2585

time:
2013-01-24T14:33:24Z
class:
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/BoostFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SizeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
comments:
expose field data settings in mapping, they can be updated using merge mapping

time:
2013-01-24T13:18:01Z
class:
src/main/java/org/elasticsearch/common/lucene/search/Queries.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryBuilders.java
src/main/java/org/elasticsearch/indices/query/IndicesQueriesModule.java
src/test/java/org/elasticsearch/test/integration/search/query/SimpleQueryTests.java
comments:
Expose CommonTermsQuery

Closes #2583

time:
2013-01-24T13:11:56Z
class:
src/main/java/org/elasticsearch/index/search/MatchQuery.java
src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
comments:
Cleanup MatchQuery

time:
2013-01-24T11:03:16Z
class:
src/main/java/org/elasticsearch/common/settings/ImmutableSettings.java
src/main/java/org/elasticsearch/common/settings/Settings.java
src/test/java/org/elasticsearch/test/unit/common/settings/ImmutableSettingsTests.java
comments:
allow to get settings as delimited string

time:
2013-01-24T11:00:14Z
class:
src/main/java/org/elasticsearch/common/settings/ImmutableSettings.java
src/test/java/org/elasticsearch/test/unit/common/settings/ImmutableSettingsTests.java
comments:
allow to load settings from delimited string

time:
2013-01-24T10:53:21Z
class:
src/main/java/org/apache/lucene/index/memory/ReusableMemoryIndex.java
src/main/java/org/elasticsearch/index/percolator/PercolatorExecutor.java
src/test/java/org/elasticsearch/test/unit/index/percolator/PercolatorExecutorTests.java
comments:
Reuse MemoryIndex instances across Percolator requests.

* added configurable MemoryIndexPool that pools MemoryIndex instance across Threads
* Pool can be configured based on the number of pooled instances as well as the maximum number of bytes that is reused across the pooled instances

Closes #2581

time:
2013-01-24T10:38:18Z
class:
src/main/java/org/elasticsearch/index/fielddata/FieldDataStats.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataCache.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/indices/InternalIndicesService.java
src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
src/test/java/org/elasticsearch/test/integration/search/stats/SearchStatsTests.java
comments:
add field data stats

time:
2013-01-24T08:33:16Z
class:
src/main/java/org/elasticsearch/common/settings/ImmutableSettings.java
src/main/java/org/elasticsearch/index/fielddata/FieldDataType.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/Ordinals.java
src/main/java/org/elasticsearch/index/fielddata/plain/ByteArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ConcreteBytesRefIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IntArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/LongArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ShortArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/percolator/PercolatorExecutor.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/ConcreteBytesStringFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/PagedBytesStringFieldDataTests.java
comments:
move field data type to simply be type and settings

time:
2013-01-23T22:53:20Z
class:
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
comments:
Fixed small bug. Index name should be used to lookup entry.

time:
2013-01-23T21:17:27Z
class:
src/main/java/org/elasticsearch/index/fielddata/ordinals/SparseMultiArrayOrdinals.java
comments:
don't use private since its accessed from inner class, remove $$ need

time:
2013-01-23T21:11:31Z
class:
src/main/java/org/elasticsearch/index/fielddata/ordinals/Ordinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/SparseMultiArrayOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/plain/ByteArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ConcreteBytesRefIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IntArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/LongArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ShortArrayIndexFieldData.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/ordinals/FlatMultiOrdinalsTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/ordinals/MultiOrdinalsTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/ordinals/SparseMultiOrdinalsTests.java
comments:
Added sparse multi ordinals implementation for field data.

time:
2013-01-23T17:34:37Z
class:
comments:
Check for java-6-openjdk-amd64

time:
2013-01-23T14:18:18Z
class:
src/main/java/org/elasticsearch/common/lucene/Lucene.java
comments:
Updating Lucene version

time:
2013-01-23T13:14:21Z
class:
src/main/java/org/elasticsearch/common/geo/GeoDistance.java
src/main/java/org/elasticsearch/common/geo/GeoHashUtils.java
src/main/java/org/elasticsearch/common/geo/GeoPoint.java
src/main/java/org/elasticsearch/common/geo/GeoUtils.java
src/main/java/org/elasticsearch/index/fielddata/GeoPointValues.java
src/main/java/org/elasticsearch/index/fielddata/ScriptDocValues.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/GeoDistanceComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/GeoDistanceComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/util/GeoPointArrayRef.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoPolygonFilterParser.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceFilter.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeFilter.java
src/main/java/org/elasticsearch/index/search/geo/GeoPolygonFilter.java
src/main/java/org/elasticsearch/index/search/geo/InMemoryGeoBoundingBoxFilter.java
src/main/java/org/elasticsearch/index/search/geo/IndexedGeoBoundingBoxFilter.java
src/main/java/org/elasticsearch/index/search/geo/Point.java
src/main/java/org/elasticsearch/search/facet/geodistance/GeoDistanceFacetBuilder.java
src/main/java/org/elasticsearch/search/facet/geodistance/GeoDistanceFacetCollector.java
src/main/java/org/elasticsearch/search/facet/geodistance/GeoDistanceFacetProcessor.java
src/main/java/org/elasticsearch/search/facet/geodistance/ScriptGeoDistanceFacetCollector.java
src/main/java/org/elasticsearch/search/facet/geodistance/ValueGeoDistanceFacetCollector.java
src/main/java/org/elasticsearch/search/sort/GeoDistanceSortBuilder.java
src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
src/test/java/org/elasticsearch/benchmark/search/geo/GeoDistanceSearchBenchmark.java
src/test/java/org/elasticsearch/test/integration/search/geo/GeoDistanceTests.java
src/test/java/org/elasticsearch/test/integration/validate/SimpleValidateQueryTests.java
src/test/java/org/elasticsearch/test/unit/index/mapper/geo/GeohashMappingGeoPointTests.java
src/test/java/org/elasticsearch/test/unit/index/mapper/geo/LatLonAndGeohashMappingGeoPointTests.java
src/test/java/org/elasticsearch/test/unit/index/mapper/geo/LatLonMappingGeoPointTests.java
src/test/java/org/elasticsearch/test/unit/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/test/unit/index/search/geo/GeoDistanceTests.java
src/test/java/org/elasticsearch/test/unit/index/search/geo/GeoHashUtilsTests.java
src/test/java/org/elasticsearch/test/unit/index/search/geo/GeoUtilsTests.java
comments:
refactor geo to extract common classes

time:
2013-01-23T13:06:01Z
class:
src/main/java/org/elasticsearch/index/engine/robin/RobinEngine.java
comments:
remove flush check IW#commit always adds a commit point now even if nothing has changed ie. docs are added, updated or deleted.

time:
2013-01-23T12:24:20Z
class:
src/main/java/org/elasticsearch/index/engine/robin/RobinEngine.java
src/main/java/org/elasticsearch/index/merge/policy/EnableMergePolicy.java
src/main/java/org/elasticsearch/index/merge/policy/LogByteSizeMergePolicyProvider.java
src/main/java/org/elasticsearch/index/merge/policy/LogDocMergePolicyProvider.java
src/main/java/org/elasticsearch/index/merge/policy/TieredMergePolicyProvider.java
src/main/java/org/elasticsearch/index/merge/scheduler/ConcurrentMergeSchedulerProvider.java
src/main/java/org/elasticsearch/index/merge/scheduler/SerialMergeSchedulerProvider.java
comments:
use merge trigger to control when to do merges
now with merge trigger, we can simply decide when to do merges based on it

time:
2013-01-23T12:11:48Z
class:
src/main/java/org/elasticsearch/common/compress/CompressedDirectory.java
src/main/java/org/elasticsearch/common/compress/CompressedIndexInput.java
src/main/java/org/elasticsearch/common/compress/CompressedIndexOutput.java
src/main/java/org/elasticsearch/common/compress/Compressor.java
src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressedIndexInput.java
src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressedIndexOutput.java
src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressor.java
src/main/java/org/elasticsearch/index/store/Store.java
src/test/java/org/elasticsearch/benchmark/compress/LuceneCompressionBenchmark.java
src/test/java/org/elasticsearch/benchmark/compress/PureCompressionBenchmark.java
src/test/java/org/elasticsearch/benchmark/compress/TestData.java
src/test/java/org/elasticsearch/test/stress/compress/LuceneCompressionStressTest.java
src/test/java/org/elasticsearch/test/unit/common/compress/CompressIndexInputOutputTests.java
src/test/java/org/elasticsearch/test/unit/index/engine/AbstractSimpleEngineTests.java
comments:
Remove settings option for index store compression, compression is always enabled
closes #2577

time:
2013-01-23T10:54:11Z
class:
src/main/java/org/apache/lucene/index/TrackingConcurrentMergeScheduler.java
src/main/java/org/apache/lucene/index/TrackingMergeScheduler.java
src/main/java/org/apache/lucene/index/TrackingSerialMergeScheduler.java
src/main/java/org/apache/lucene/index/memory/CustomMemoryIndex.java
src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
src/main/java/org/apache/lucene/store/RateLimitedFSDirectory.java
src/main/java/org/apache/lucene/store/StoreRateLimiting.java
src/main/java/org/apache/lucene/store/XFSIndexOutput.java
src/main/java/org/apache/lucene/store/XMMapFSDirectory.java
src/main/java/org/apache/lucene/store/XNIOFSDirectory.java
src/main/java/org/apache/lucene/store/XSimpleFSDirectory.java
src/main/java/org/elasticsearch/common/RateLimiter.java
src/main/java/org/elasticsearch/common/lucene/search/EmptyScorer.java
src/main/java/org/elasticsearch/common/lucene/search/XFilteredQuery.java
src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
src/main/java/org/elasticsearch/index/codec/PerFieldMappingPostingFormatCodec.java
src/main/java/org/elasticsearch/index/codec/postingsformat/DefaultPostingsFormatProvider.java
src/main/java/org/elasticsearch/index/codec/postingsformat/PostingFormats.java
src/main/java/org/elasticsearch/index/codec/postingsformat/PulsingPostingsFormatProvider.java
src/main/java/org/elasticsearch/index/engine/robin/RobinEngine.java
src/main/java/org/elasticsearch/index/merge/policy/LogByteSizeMergePolicyProvider.java
src/main/java/org/elasticsearch/index/merge/policy/LogDocMergePolicyProvider.java
src/main/java/org/elasticsearch/index/merge/policy/TieredMergePolicyProvider.java
src/main/java/org/elasticsearch/index/percolator/PercolatorExecutor.java
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
src/main/java/org/elasticsearch/index/search/nested/BlockJoinQuery.java
src/main/java/org/elasticsearch/index/search/nested/IncludeNestedDocsQuery.java
src/main/java/org/elasticsearch/index/store/fs/FsDirectoryService.java
src/main/java/org/elasticsearch/index/store/fs/MmapFsDirectoryService.java
src/main/java/org/elasticsearch/index/store/fs/NioFsDirectoryService.java
src/main/java/org/elasticsearch/index/store/fs/SimpleFsDirectoryService.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySettings.java
src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
src/test/java/org/apache/lucene/index/memory/CustomMemoryIndexTests.java
src/test/java/org/elasticsearch/test/integration/search/highlight/HighlighterSearchTests.java
src/test/java/org/elasticsearch/test/unit/index/analysis/CompoundAnalysisTests.java
src/test/java/org/elasticsearch/test/unit/index/analysis/synonyms/SynonymsAnalysisTest.java
src/test/java/org/elasticsearch/test/unit/index/codec/CodecTests.java
comments:
Upgrade to Lucene 4.1

* Removed CustmoMemoryIndex in favor of MemoryIndex which as of 4.1 supports adding the same field twice
* Replaced duplicated logic in X[*]FSDirectory for rate limiting with a RateLimitedFSDirectory wrapper
* Remove hacks to find out merge context in rate limiting in favor of IOContext
* replaced Scorer#freq() return type (from float to int)
* Upgraded FVHighlighter to new 'centered' highlighting
* Fixed RobinEngine to use seperate setCommitData

time:
2013-01-23T09:24:43Z
class:
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/BytesRefOrdValComparator.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/DocIdOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/EmptyOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/MultiFlatArrayOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/Ordinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/SingleArrayOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/SinglePackedOrdinals.java
comments:
add hasSingleArrayBackingStorage
allow for optimization only when there really is a single array, and not when there is a multi dimensional one

time:
2013-01-22T17:29:38Z
class:
src/test/java/org/elasticsearch/test/integration/nodesinfo/SimpleNodesInfoTests.java
comments:
Improve stability of the testNodesInfos test

time:
2013-01-22T15:20:18Z
class:
src/test/java/org/elasticsearch/test/integration/indices/store/IndicesStoreTests.java
comments:
Improve stability of the shardsCleanup test

time:
2013-01-22T15:17:15Z
class:
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/common/lucene/HashedBytesRef.java
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/index/cache/CacheStats.java
src/main/java/org/elasticsearch/index/cache/IndexCache.java
src/main/java/org/elasticsearch/index/cache/IndexCacheModule.java
src/main/java/org/elasticsearch/index/cache/field/data/FieldDataCache.java
src/main/java/org/elasticsearch/index/cache/field/data/FieldDataCacheModule.java
src/main/java/org/elasticsearch/index/cache/field/data/none/NoneFieldDataCache.java
src/main/java/org/elasticsearch/index/cache/field/data/resident/ResidentFieldDataCache.java
src/main/java/org/elasticsearch/index/cache/field/data/soft/SoftFieldDataCache.java
src/main/java/org/elasticsearch/index/cache/field/data/support/AbstractConcurrentMapFieldDataCache.java
src/main/java/org/elasticsearch/index/field/data/FieldData.java
src/main/java/org/elasticsearch/index/field/data/FieldDataType.java
src/main/java/org/elasticsearch/index/field/data/NumericDocFieldData.java
src/main/java/org/elasticsearch/index/field/data/NumericFieldData.java
src/main/java/org/elasticsearch/index/field/data/bytes/ByteFieldData.java
src/main/java/org/elasticsearch/index/field/data/bytes/ByteFieldDataComparator.java
src/main/java/org/elasticsearch/index/field/data/bytes/ByteFieldDataMissingComparator.java
src/main/java/org/elasticsearch/index/field/data/bytes/ByteFieldDataType.java
src/main/java/org/elasticsearch/index/field/data/bytes/MultiValueByteFieldData.java
src/main/java/org/elasticsearch/index/field/data/bytes/SingleValueByteFieldData.java
src/main/java/org/elasticsearch/index/field/data/doubles/DoubleFieldData.java
src/main/java/org/elasticsearch/index/field/data/doubles/DoubleFieldDataComparator.java
src/main/java/org/elasticsearch/index/field/data/doubles/DoubleFieldDataMissingComparator.java
src/main/java/org/elasticsearch/index/field/data/doubles/DoubleFieldDataType.java
src/main/java/org/elasticsearch/index/field/data/doubles/MultiValueDoubleFieldData.java
src/main/java/org/elasticsearch/index/field/data/doubles/SingleValueDoubleFieldData.java
src/main/java/org/elasticsearch/index/field/data/floats/FloatFieldData.java
src/main/java/org/elasticsearch/index/field/data/floats/FloatFieldDataComparator.java
src/main/java/org/elasticsearch/index/field/data/floats/FloatFieldDataMissingComparator.java
src/main/java/org/elasticsearch/index/field/data/floats/FloatFieldDataType.java
src/main/java/org/elasticsearch/index/field/data/floats/MultiValueFloatFieldData.java
src/main/java/org/elasticsearch/index/field/data/floats/SingleValueFloatFieldData.java
src/main/java/org/elasticsearch/index/field/data/ints/IntFieldData.java
src/main/java/org/elasticsearch/index/field/data/ints/IntFieldDataComparator.java
src/main/java/org/elasticsearch/index/field/data/ints/IntFieldDataMissingComparator.java
src/main/java/org/elasticsearch/index/field/data/ints/IntFieldDataType.java
src/main/java/org/elasticsearch/index/field/data/ints/MultiValueIntFieldData.java
src/main/java/org/elasticsearch/index/field/data/ints/SingleValueIntFieldData.java
src/main/java/org/elasticsearch/index/field/data/longs/LongFieldData.java
src/main/java/org/elasticsearch/index/field/data/longs/LongFieldDataComparator.java
src/main/java/org/elasticsearch/index/field/data/longs/LongFieldDataMissingComparator.java
src/main/java/org/elasticsearch/index/field/data/longs/LongFieldDataType.java
src/main/java/org/elasticsearch/index/field/data/longs/MultiValueLongFieldData.java
src/main/java/org/elasticsearch/index/field/data/longs/SingleValueLongFieldData.java
src/main/java/org/elasticsearch/index/field/data/shorts/MultiValueShortFieldData.java
src/main/java/org/elasticsearch/index/field/data/shorts/ShortFieldData.java
src/main/java/org/elasticsearch/index/field/data/shorts/ShortFieldDataComparator.java
src/main/java/org/elasticsearch/index/field/data/shorts/ShortFieldDataMissingComparator.java
src/main/java/org/elasticsearch/index/field/data/shorts/ShortFieldDataType.java
src/main/java/org/elasticsearch/index/field/data/shorts/SingleValueShortFieldData.java
src/main/java/org/elasticsearch/index/field/data/strings/MultiValueStringFieldData.java
src/main/java/org/elasticsearch/index/field/data/strings/SingleValueStringFieldData.java
src/main/java/org/elasticsearch/index/field/data/strings/StringDocFieldData.java
src/main/java/org/elasticsearch/index/field/data/strings/StringFieldData.java
src/main/java/org/elasticsearch/index/field/data/strings/StringFieldDataType.java
src/main/java/org/elasticsearch/index/field/data/strings/StringOrdValFieldDataComparator.java
src/main/java/org/elasticsearch/index/field/data/support/FieldDataLoader.java
src/main/java/org/elasticsearch/index/field/data/support/NumericFieldDataComparator.java
src/main/java/org/elasticsearch/index/fielddata/AbstractIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/AtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/AtomicGeoPointFieldData.java
src/main/java/org/elasticsearch/index/fielddata/AtomicNumericFieldData.java
src/main/java/org/elasticsearch/index/fielddata/AtomicOrdinalFieldData.java
src/main/java/org/elasticsearch/index/fielddata/ByteValues.java
src/main/java/org/elasticsearch/index/fielddata/BytesValues.java
src/main/java/org/elasticsearch/index/fielddata/DoubleValues.java
src/main/java/org/elasticsearch/index/fielddata/FieldDataStats.java
src/main/java/org/elasticsearch/index/fielddata/FieldDataType.java
src/main/java/org/elasticsearch/index/fielddata/FloatValues.java
src/main/java/org/elasticsearch/index/fielddata/GeoPointValues.java
src/main/java/org/elasticsearch/index/fielddata/HashedBytesValues.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataCache.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataModule.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/index/fielddata/IndexGeoPointFieldData.java
src/main/java/org/elasticsearch/index/fielddata/IndexNumericFieldData.java
src/main/java/org/elasticsearch/index/fielddata/IndexOrdinalFieldData.java
src/main/java/org/elasticsearch/index/fielddata/IntValues.java
src/main/java/org/elasticsearch/index/fielddata/LongValues.java
src/main/java/org/elasticsearch/index/fielddata/OrdinalsBytesValues.java
src/main/java/org/elasticsearch/index/fielddata/OrdinalsHashedBytesValues.java
src/main/java/org/elasticsearch/index/fielddata/OrdinalsStringValues.java
src/main/java/org/elasticsearch/index/fielddata/ScriptDocValues.java
src/main/java/org/elasticsearch/index/fielddata/ShortValues.java
src/main/java/org/elasticsearch/index/fielddata/StringValues.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/ByteValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/ByteValuesComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/BytesRefFieldComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/BytesRefOrdValComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/BytesRefValComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/DoubleScriptDataComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/DoubleValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/DoubleValuesComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/FloatValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/FloatValuesComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/GeoDistanceComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/GeoDistanceComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/IntValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/IntValuesComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/LongValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/LongValuesComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/ShortValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/ShortValuesComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/StringScriptDataComparator.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/DocIdOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/EmptyOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/MultiFlatArrayOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/Ordinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/SingleArrayOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/SinglePackedOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/plain/ByteArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ByteArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ConcreteBytesRefAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ConcreteBytesRefIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IntArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IntArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/LongArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/LongArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ShortArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ShortArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/util/ByteArrayRef.java
src/main/java/org/elasticsearch/index/fielddata/util/BytesRefArrayRef.java
src/main/java/org/elasticsearch/index/fielddata/util/DoubleArrayRef.java
src/main/java/org/elasticsearch/index/fielddata/util/FloatArrayRef.java
src/main/java/org/elasticsearch/index/fielddata/util/GeoPointArrayRef.java
src/main/java/org/elasticsearch/index/fielddata/util/IntArrayRef.java
src/main/java/org/elasticsearch/index/fielddata/util/LongArrayRef.java
src/main/java/org/elasticsearch/index/fielddata/util/ShortArrayRef.java
src/main/java/org/elasticsearch/index/fielddata/util/StringArrayRef.java
src/main/java/org/elasticsearch/index/get/ShardGetService.java
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPoint.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointDocFieldData.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldData.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldDataType.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/MultiValueGeoPointFieldData.java
src/main/java/org/elasticsearch/index/mapper/geo/SingleValueGeoPointFieldData.java
src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/BoostFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/percolator/PercolatorExecutor.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonFilterParser.java
src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
src/main/java/org/elasticsearch/index/query/NumericRangeFilterParser.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/search/NumericRangeFieldDataFilter.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceDataComparator.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceFilter.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeFilter.java
src/main/java/org/elasticsearch/index/search/geo/GeoPolygonFilter.java
src/main/java/org/elasticsearch/index/search/geo/InMemoryGeoBoundingBoxFilter.java
src/main/java/org/elasticsearch/index/service/IndexService.java
src/main/java/org/elasticsearch/index/service/InternalIndexService.java
src/main/java/org/elasticsearch/indices/InternalIndicesService.java
src/main/java/org/elasticsearch/script/ScriptService.java
src/main/java/org/elasticsearch/search/facet/datehistogram/CountDateHistogramFacetCollector.java
src/main/java/org/elasticsearch/search/facet/datehistogram/DateHistogramFacetProcessor.java
src/main/java/org/elasticsearch/search/facet/datehistogram/ValueDateHistogramFacetCollector.java
src/main/java/org/elasticsearch/search/facet/datehistogram/ValueScriptDateHistogramFacetCollector.java
src/main/java/org/elasticsearch/search/facet/geodistance/GeoDistanceFacetCollector.java
src/main/java/org/elasticsearch/search/facet/geodistance/GeoDistanceFacetProcessor.java
src/main/java/org/elasticsearch/search/facet/geodistance/ScriptGeoDistanceFacetCollector.java
src/main/java/org/elasticsearch/search/facet/geodistance/ValueGeoDistanceFacetCollector.java
src/main/java/org/elasticsearch/search/facet/histogram/HistogramFacetProcessor.java
src/main/java/org/elasticsearch/search/facet/histogram/bounded/BoundedCountHistogramFacetCollector.java
src/main/java/org/elasticsearch/search/facet/histogram/bounded/BoundedValueHistogramFacetCollector.java
src/main/java/org/elasticsearch/search/facet/histogram/bounded/BoundedValueScriptHistogramFacetCollector.java
src/main/java/org/elasticsearch/search/facet/histogram/unbounded/CountHistogramFacetCollector.java
src/main/java/org/elasticsearch/search/facet/histogram/unbounded/FullHistogramFacetCollector.java
src/main/java/org/elasticsearch/search/facet/histogram/unbounded/ValueHistogramFacetCollector.java
src/main/java/org/elasticsearch/search/facet/histogram/unbounded/ValueScriptHistogramFacetCollector.java
src/main/java/org/elasticsearch/search/facet/range/KeyValueRangeFacetCollector.java
src/main/java/org/elasticsearch/search/facet/range/RangeFacetCollector.java
src/main/java/org/elasticsearch/search/facet/range/RangeFacetProcessor.java
src/main/java/org/elasticsearch/search/facet/statistical/ScriptStatisticalFacetCollector.java
src/main/java/org/elasticsearch/search/facet/statistical/StatisticalFacetCollector.java
src/main/java/org/elasticsearch/search/facet/statistical/StatisticalFacetProcessor.java
src/main/java/org/elasticsearch/search/facet/statistical/StatisticalFieldsFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/InternalTermsFacet.java
src/main/java/org/elasticsearch/search/facet/terms/TermsFacetProcessor.java
src/main/java/org/elasticsearch/search/facet/terms/bytes/InternalByteTermsFacet.java
src/main/java/org/elasticsearch/search/facet/terms/bytes/TermsByteFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/bytes/TermsByteOrdinalsFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/doubles/TermsDoubleFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/doubles/TermsDoubleOrdinalsFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/floats/InternalFloatTermsFacet.java
src/main/java/org/elasticsearch/search/facet/terms/floats/TermsFloatFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/floats/TermsFloatOrdinalsFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/ints/InternalIntTermsFacet.java
src/main/java/org/elasticsearch/search/facet/terms/ints/TermsIntFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/ints/TermsIntOrdinalsFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/ip/InternalIpTermsFacet.java
src/main/java/org/elasticsearch/search/facet/terms/ip/TermsIpFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/ip/TermsIpOrdinalsFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/longs/TermsLongFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/longs/TermsLongOrdinalsFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/shorts/InternalShortTermsFacet.java
src/main/java/org/elasticsearch/search/facet/terms/shorts/TermsShortFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/shorts/TermsShortOrdinalsFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/strings/FieldsTermsStringFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/strings/TermsStringFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/strings/TermsStringOrdinalsFacetCollector.java
src/main/java/org/elasticsearch/search/facet/termsstats/TermsStatsFacetProcessor.java
src/main/java/org/elasticsearch/search/facet/termsstats/doubles/TermsStatsDoubleFacetCollector.java
src/main/java/org/elasticsearch/search/facet/termsstats/longs/TermsStatsLongFacetCollector.java
src/main/java/org/elasticsearch/search/facet/termsstats/strings/InternalTermsStatsStringFacet.java
src/main/java/org/elasticsearch/search/facet/termsstats/strings/TermsStatsStringFacetCollector.java
src/main/java/org/elasticsearch/search/internal/SearchContext.java
src/main/java/org/elasticsearch/search/lookup/DocLookup.java
src/main/java/org/elasticsearch/search/lookup/SearchLookup.java
src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
src/main/java/org/elasticsearch/search/sort/ScriptSortParser.java
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
src/test/java/org/elasticsearch/test/integration/search/facet/SimpleFacetsTests.java
src/test/java/org/elasticsearch/test/integration/search/sort/SimpleSortTests.java
src/test/java/org/elasticsearch/test/unit/index/field/data/doubles/DoubleFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/field/data/floats/FloatFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/field/data/ints/IntFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/field/data/longs/LongFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/field/data/shorts/ShortFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/field/data/strings/StringFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/AbstractFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/ByteFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/ConcreteBytesStringFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/DoubleFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/FloatFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/IntFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/LongFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/NumericFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/PagedBytesStringFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/ShortFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/StringFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/mapper/dynamictemplate/pathmatch/PathMatchDynamicTemplateTests.java
comments:
Merge branch 'fielddata'

time:
2013-01-22T15:16:33Z
class:
src/main/java/org/elasticsearch/index/cache/IndexCacheModule.java
src/main/java/org/elasticsearch/index/cache/field/data/FieldDataCache.java
src/main/java/org/elasticsearch/index/cache/field/data/FieldDataCacheModule.java
src/main/java/org/elasticsearch/index/cache/field/data/none/NoneFieldDataCache.java
src/main/java/org/elasticsearch/index/cache/field/data/resident/ResidentFieldDataCache.java
src/main/java/org/elasticsearch/index/cache/field/data/soft/SoftFieldDataCache.java
src/main/java/org/elasticsearch/index/cache/field/data/support/AbstractConcurrentMapFieldDataCache.java
src/main/java/org/elasticsearch/index/field/data/DocFieldData.java
src/main/java/org/elasticsearch/index/field/data/FieldData.java
src/main/java/org/elasticsearch/index/field/data/FieldDataType.java
src/main/java/org/elasticsearch/index/field/data/NumericDocFieldData.java
src/main/java/org/elasticsearch/index/field/data/NumericFieldData.java
src/main/java/org/elasticsearch/index/field/data/bytes/ByteDocFieldData.java
src/main/java/org/elasticsearch/index/field/data/bytes/ByteFieldData.java
src/main/java/org/elasticsearch/index/field/data/bytes/ByteFieldDataComparator.java
src/main/java/org/elasticsearch/index/field/data/bytes/ByteFieldDataMissingComparator.java
src/main/java/org/elasticsearch/index/field/data/bytes/ByteFieldDataType.java
src/main/java/org/elasticsearch/index/field/data/bytes/MultiValueByteFieldData.java
src/main/java/org/elasticsearch/index/field/data/bytes/SingleValueByteFieldData.java
src/main/java/org/elasticsearch/index/field/data/doubles/DoubleDocFieldData.java
src/main/java/org/elasticsearch/index/field/data/doubles/DoubleFieldData.java
src/main/java/org/elasticsearch/index/field/data/doubles/DoubleFieldDataComparator.java
src/main/java/org/elasticsearch/index/field/data/doubles/DoubleFieldDataMissingComparator.java
src/main/java/org/elasticsearch/index/field/data/doubles/DoubleFieldDataType.java
src/main/java/org/elasticsearch/index/field/data/doubles/MultiValueDoubleFieldData.java
src/main/java/org/elasticsearch/index/field/data/doubles/SingleValueDoubleFieldData.java
src/main/java/org/elasticsearch/index/field/data/floats/FloatDocFieldData.java
src/main/java/org/elasticsearch/index/field/data/floats/FloatFieldData.java
src/main/java/org/elasticsearch/index/field/data/floats/FloatFieldDataComparator.java
src/main/java/org/elasticsearch/index/field/data/floats/FloatFieldDataMissingComparator.java
src/main/java/org/elasticsearch/index/field/data/floats/FloatFieldDataType.java
src/main/java/org/elasticsearch/index/field/data/floats/MultiValueFloatFieldData.java
src/main/java/org/elasticsearch/index/field/data/floats/SingleValueFloatFieldData.java
src/main/java/org/elasticsearch/index/field/data/ints/IntDocFieldData.java
src/main/java/org/elasticsearch/index/field/data/ints/IntFieldData.java
src/main/java/org/elasticsearch/index/field/data/ints/IntFieldDataComparator.java
src/main/java/org/elasticsearch/index/field/data/ints/IntFieldDataMissingComparator.java
src/main/java/org/elasticsearch/index/field/data/ints/IntFieldDataType.java
src/main/java/org/elasticsearch/index/field/data/ints/MultiValueIntFieldData.java
src/main/java/org/elasticsearch/index/field/data/ints/SingleValueIntFieldData.java
src/main/java/org/elasticsearch/index/field/data/longs/LongDocFieldData.java
src/main/java/org/elasticsearch/index/field/data/longs/LongFieldData.java
src/main/java/org/elasticsearch/index/field/data/longs/LongFieldDataComparator.java
src/main/java/org/elasticsearch/index/field/data/longs/LongFieldDataMissingComparator.java
src/main/java/org/elasticsearch/index/field/data/longs/LongFieldDataType.java
src/main/java/org/elasticsearch/index/field/data/longs/MultiValueLongFieldData.java
src/main/java/org/elasticsearch/index/field/data/longs/SingleValueLongFieldData.java
src/main/java/org/elasticsearch/index/field/data/shorts/MultiValueShortFieldData.java
src/main/java/org/elasticsearch/index/field/data/shorts/ShortDocFieldData.java
src/main/java/org/elasticsearch/index/field/data/shorts/ShortFieldData.java
src/main/java/org/elasticsearch/index/field/data/shorts/ShortFieldDataComparator.java
src/main/java/org/elasticsearch/index/field/data/shorts/ShortFieldDataMissingComparator.java
src/main/java/org/elasticsearch/index/field/data/shorts/ShortFieldDataType.java
src/main/java/org/elasticsearch/index/field/data/shorts/SingleValueShortFieldData.java
src/main/java/org/elasticsearch/index/field/data/strings/MultiValueStringFieldData.java
src/main/java/org/elasticsearch/index/field/data/strings/SingleValueStringFieldData.java
src/main/java/org/elasticsearch/index/field/data/strings/StringDocFieldData.java
src/main/java/org/elasticsearch/index/field/data/strings/StringFieldData.java
src/main/java/org/elasticsearch/index/field/data/strings/StringFieldDataType.java
src/main/java/org/elasticsearch/index/field/data/strings/StringOrdValFieldDataComparator.java
src/main/java/org/elasticsearch/index/field/data/strings/StringValFieldDataComparator.java
src/main/java/org/elasticsearch/index/field/data/support/FieldDataLoader.java
src/main/java/org/elasticsearch/index/field/data/support/NumericFieldDataComparator.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/DoubleScriptDataComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/StringScriptDataComparator.java
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointDocFieldData.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldData.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldDataType.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/MultiValueGeoPointFieldData.java
src/main/java/org/elasticsearch/index/mapper/geo/SingleValueGeoPointFieldData.java
src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/BoostFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceDataComparator.java
src/main/java/org/elasticsearch/search/lookup/DocLookup.java
src/main/java/org/elasticsearch/search/sort/ScriptSortParser.java
src/test/java/org/elasticsearch/test/unit/index/field/data/doubles/DoubleFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/field/data/floats/FloatFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/field/data/ints/IntFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/field/data/longs/LongFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/field/data/shorts/ShortFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/field/data/strings/StringFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/mapper/dynamictemplate/pathmatch/PathMatchDynamicTemplateTests.java
comments:
final move to new field data

time:
2013-01-22T15:16:33Z
class:
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
comments:
better logging on missing format, and allow to configure format on a type on the index level

time:
2013-01-22T15:16:33Z
class:
src/main/java/org/elasticsearch/index/fielddata/AtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/AtomicGeoPointFieldData.java
src/main/java/org/elasticsearch/index/fielddata/AtomicNumericFieldData.java
src/main/java/org/elasticsearch/index/fielddata/AtomicOrdinalFieldData.java
src/main/java/org/elasticsearch/index/fielddata/ByteValues.java
src/main/java/org/elasticsearch/index/fielddata/BytesValues.java
src/main/java/org/elasticsearch/index/fielddata/DoubleValues.java
src/main/java/org/elasticsearch/index/fielddata/FloatValues.java
src/main/java/org/elasticsearch/index/fielddata/GeoPointValues.java
src/main/java/org/elasticsearch/index/fielddata/HashedBytesValues.java
src/main/java/org/elasticsearch/index/fielddata/IntValues.java
src/main/java/org/elasticsearch/index/fielddata/LongValues.java
src/main/java/org/elasticsearch/index/fielddata/OrdinalsBytesValues.java
src/main/java/org/elasticsearch/index/fielddata/OrdinalsHashedBytesValues.java
src/main/java/org/elasticsearch/index/fielddata/OrdinalsStringValues.java
src/main/java/org/elasticsearch/index/fielddata/ScriptDocValues.java
src/main/java/org/elasticsearch/index/fielddata/ShortValues.java
src/main/java/org/elasticsearch/index/fielddata/StringValues.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/Ordinals.java
src/main/java/org/elasticsearch/index/fielddata/plain/ByteArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ByteArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ConcreteBytesRefAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ConcreteBytesRefIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IntArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IntArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/LongArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/LongArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ShortArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ShortArrayIndexFieldData.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/NumericFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/StringFieldDataTests.java
comments:
added predefined empty implementation for all atomic field datas

time:
2013-01-22T15:16:32Z
class:
src/main/java/org/elasticsearch/index/fielddata/AbstractIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataCache.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/index/percolator/PercolatorExecutor.java
comments:
allow to clear by reader the new field data cache

time:
2013-01-22T15:16:32Z
class:
src/main/java/org/elasticsearch/index/fielddata/FieldDataStats.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataCache.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
comments:
properly invalidate on core closed reader

time:
2013-01-22T15:16:32Z
class:
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/index/cache/CacheStats.java
src/main/java/org/elasticsearch/index/cache/IndexCache.java
src/main/java/org/elasticsearch/index/percolator/PercolatorExecutor.java
comments:
more usage of field data
note, removed field data from cache stats, it will have its own stats later on (cache part is really misleading)

time:
2013-01-22T15:16:32Z
class:
src/main/java/org/elasticsearch/index/fielddata/FieldDataType.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/BoostFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonFilterParser.java
src/main/java/org/elasticsearch/index/query/NumericRangeFilterParser.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/search/NumericRangeFieldDataFilter.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceFilter.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeFilter.java
src/main/java/org/elasticsearch/index/search/geo/GeoPolygonFilter.java
src/main/java/org/elasticsearch/index/search/geo/InMemoryGeoBoundingBoxFilter.java
src/main/java/org/elasticsearch/search/internal/SearchContext.java
comments:
move geo filters and numeric range to use new field data

time:
2013-01-22T15:16:32Z
class:
src/main/java/org/elasticsearch/index/fielddata/ScriptDocValues.java
src/main/java/org/elasticsearch/index/fielddata/plain/ByteArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IntArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/LongArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ShortArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/get/ShardGetService.java
src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/script/ScriptService.java
src/main/java/org/elasticsearch/search/internal/SearchContext.java
src/main/java/org/elasticsearch/search/lookup/DocLookup.java
src/main/java/org/elasticsearch/search/lookup/SearchLookup.java
comments:
move scripts to use new field data

time:
2013-01-22T15:16:32Z
class:
src/main/java/org/elasticsearch/index/fielddata/ordinals/EmptyOrdinals.java
src/main/java/org/elasticsearch/search/facet/terms/InternalTermsFacet.java
src/main/java/org/elasticsearch/search/facet/terms/TermsFacetProcessor.java
src/main/java/org/elasticsearch/search/facet/terms/bytes/InternalByteTermsFacet.java
src/main/java/org/elasticsearch/search/facet/terms/bytes/TermsByteFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/bytes/TermsByteOrdinalsFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/doubles/TermsDoubleFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/doubles/TermsDoubleOrdinalsFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/floats/InternalFloatTermsFacet.java
src/main/java/org/elasticsearch/search/facet/terms/floats/TermsFloatFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/floats/TermsFloatOrdinalsFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/ints/InternalIntTermsFacet.java
src/main/java/org/elasticsearch/search/facet/terms/ints/TermsIntFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/ints/TermsIntOrdinalsFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/ip/InternalIpTermsFacet.java
src/main/java/org/elasticsearch/search/facet/terms/ip/TermsIpFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/ip/TermsIpOrdinalsFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/longs/TermsLongFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/longs/TermsLongOrdinalsFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/shorts/InternalShortTermsFacet.java
src/main/java/org/elasticsearch/search/facet/terms/shorts/TermsShortFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/shorts/TermsShortOrdinalsFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/strings/FieldsTermsStringFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/strings/TermsStringFacetCollector.java
src/main/java/org/elasticsearch/search/facet/terms/strings/TermsStringOrdinalsFacetCollector.java
src/test/java/org/elasticsearch/test/integration/search/facet/SimpleFacetsTests.java
comments:
move terms to use new field data

time:
2013-01-22T15:16:32Z
class:
src/main/java/org/elasticsearch/index/fielddata/BytesValues.java
src/main/java/org/elasticsearch/index/fielddata/HashedBytesValues.java
src/main/java/org/elasticsearch/index/fielddata/plain/ConcreteBytesRefAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesAtomicFieldData.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/StringFieldDataTests.java
comments:
remove some safe methods because of the new makeSafe method usage

time:
2013-01-22T15:16:32Z
class:
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesIndexFieldData.java
comments:
grr pages -> paged

time:
2013-01-22T15:16:32Z
class:
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/index/fielddata/plain/ByteArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ConcreteBytesRefAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IntArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/LongArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PagesBytesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ShortArrayIndexFieldData.java
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
src/test/java/org/elasticsearch/test/integration/search/sort/SimpleSortTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/PagedBytesStringFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/StringFieldDataTests.java
comments:
move sorting to work with new field data

time:
2013-01-22T15:16:32Z
class:
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/ByteValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/ByteValuesComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/FloatValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/FloatValuesComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/IntValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/IntValuesComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/LongValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/LongValuesComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/ShortValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/ShortValuesComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/plain/ByteArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IntArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/LongArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ShortArrayIndexFieldData.java
comments:
added missing dedicated value comparators for the different indices field data

time:
2013-01-22T15:16:32Z
class:
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/index/fielddata/plain/PackedBytesAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PackedBytesIndexFieldData.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/PackedBytesStringFieldDataTests.java
comments:
add packed bytes variant for strings/bytes

time:
2013-01-22T15:16:31Z
class:
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/index/fielddata/StringValues.java
src/main/java/org/elasticsearch/index/fielddata/plain/ByteArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ByteArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/ByteFieldDataTests.java
comments:
byte field data implementation

time:
2013-01-22T15:16:31Z
class:
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/index/fielddata/StringValues.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ShortArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ShortArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/ShortFieldDataTests.java
comments:
short field data implementation

time:
2013-01-22T15:16:31Z
class:
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/index/fielddata/StringValues.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IntArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/FloatFieldDataTests.java
comments:
float field data implementation

time:
2013-01-22T15:16:31Z
class:
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/GeoDistanceComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/GeoDistanceComparatorSource.java
src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
comments:
move geo distance sorting to use new field data

time:
2013-01-22T15:16:31Z
class:
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
comments:
integer type to support int field data type

time:
2013-01-22T15:16:31Z
class:
src/main/java/org/elasticsearch/index/fielddata/ByteValues.java
src/main/java/org/elasticsearch/index/fielddata/DoubleValues.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/index/fielddata/LongValues.java
src/main/java/org/elasticsearch/index/fielddata/ShortValues.java
src/main/java/org/elasticsearch/index/fielddata/StringValues.java
src/main/java/org/elasticsearch/index/fielddata/plain/IntArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IntArrayIndexFieldData.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/IntFieldDataTests.java
comments:
Implemented int field data

time:
2013-01-22T15:16:31Z
class:
src/main/java/org/elasticsearch/index/fielddata/AtomicGeoPointFieldData.java
src/main/java/org/elasticsearch/index/fielddata/GeoPointValues.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/index/fielddata/IndexGeoPointFieldData.java
src/main/java/org/elasticsearch/index/fielddata/ScriptDocValues.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/util/GeoPointArrayRef.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPoint.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/search/facet/geodistance/GeoDistanceFacetCollector.java
src/main/java/org/elasticsearch/search/facet/geodistance/GeoDistanceFacetProcessor.java
src/main/java/org/elasticsearch/search/facet/geodistance/ScriptGeoDistanceFacetCollector.java
src/main/java/org/elasticsearch/search/facet/geodistance/ValueGeoDistanceFacetCollector.java
comments:
geo point new field mapper with geo distance facet based impl

time:
2013-01-22T15:16:31Z
class:
src/main/java/org/elasticsearch/search/facet/statistical/StatisticalFacetProcessor.java
comments:
use smartNameMapper on context

time:
2013-01-22T15:16:31Z
class:
src/main/java/org/elasticsearch/index/fielddata/BytesValues.java
src/main/java/org/elasticsearch/index/fielddata/HashedBytesValues.java
src/main/java/org/elasticsearch/index/fielddata/plain/ConcreteBytesRefAtomicFieldData.java
src/main/java/org/elasticsearch/search/facet/termsstats/strings/TermsStatsStringFacetCollector.java
comments:
add specific makeSafe method to make an unsafe (shared) bytes based value to a "safe" one

time:
2013-01-22T15:16:31Z
class:
src/main/java/org/elasticsearch/search/facet/datehistogram/CountDateHistogramFacetCollector.java
src/main/java/org/elasticsearch/search/facet/datehistogram/DateHistogramFacetProcessor.java
src/main/java/org/elasticsearch/search/facet/datehistogram/ValueDateHistogramFacetCollector.java
src/main/java/org/elasticsearch/search/facet/datehistogram/ValueScriptDateHistogramFacetCollector.java
comments:
date histogram to use new field data

time:
2013-01-22T15:16:31Z
class:
src/main/java/org/elasticsearch/common/lucene/HashedBytesRef.java
src/main/java/org/elasticsearch/index/fielddata/IndexNumericFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/LongArrayIndexFieldData.java
src/main/java/org/elasticsearch/search/facet/termsstats/TermsStatsFacetProcessor.java
src/main/java/org/elasticsearch/search/facet/termsstats/doubles/TermsStatsDoubleFacetCollector.java
src/main/java/org/elasticsearch/search/facet/termsstats/longs/TermsStatsLongFacetCollector.java
src/main/java/org/elasticsearch/search/facet/termsstats/strings/InternalTermsStatsStringFacet.java
src/main/java/org/elasticsearch/search/facet/termsstats/strings/TermsStatsStringFacetCollector.java
comments:
terms stats to use new field data

time:
2013-01-22T15:16:30Z
class:
src/main/java/org/elasticsearch/search/facet/statistical/ScriptStatisticalFacetCollector.java
src/main/java/org/elasticsearch/search/facet/statistical/StatisticalFacetCollector.java
src/main/java/org/elasticsearch/search/facet/statistical/StatisticalFacetProcessor.java
src/main/java/org/elasticsearch/search/facet/statistical/StatisticalFieldsFacetCollector.java
comments:
move statistical facet to use new field data

time:
2013-01-22T15:16:30Z
class:
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/search/facet/histogram/HistogramFacetProcessor.java
src/main/java/org/elasticsearch/search/facet/histogram/bounded/BoundedCountHistogramFacetCollector.java
src/main/java/org/elasticsearch/search/facet/histogram/bounded/BoundedValueHistogramFacetCollector.java
src/main/java/org/elasticsearch/search/facet/histogram/bounded/BoundedValueScriptHistogramFacetCollector.java
src/main/java/org/elasticsearch/search/facet/histogram/unbounded/CountHistogramFacetCollector.java
src/main/java/org/elasticsearch/search/facet/histogram/unbounded/FullHistogramFacetCollector.java
src/main/java/org/elasticsearch/search/facet/histogram/unbounded/ValueHistogramFacetCollector.java
src/main/java/org/elasticsearch/search/facet/histogram/unbounded/ValueScriptHistogramFacetCollector.java
src/main/java/org/elasticsearch/search/facet/range/RangeFacetProcessor.java
comments:
move histogram facet to use new field data

time:
2013-01-22T15:16:30Z
class:
src/main/java/org/elasticsearch/index/fielddata/ordinals/SingleArrayOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/SinglePackedOrdinals.java
comments:
fix getOrds on single array ords

time:
2013-01-22T15:16:30Z
class:
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/search/facet/range/KeyValueRangeFacetCollector.java
src/main/java/org/elasticsearch/search/facet/range/RangeFacetCollector.java
src/main/java/org/elasticsearch/search/facet/range/RangeFacetProcessor.java
comments:
move range facet to use new field data abstraction

time:
2013-01-22T15:16:30Z
class:
src/main/java/org/elasticsearch/indices/InternalIndicesService.java
src/main/java/org/elasticsearch/search/facet/range/RangeFacetProcessor.java
comments:
add clear when deleting an index for the field data service

time:
2013-01-22T15:16:30Z
class:
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataModule.java
src/main/java/org/elasticsearch/index/service/IndexService.java
src/main/java/org/elasticsearch/index/service/InternalIndexService.java
src/main/java/org/elasticsearch/indices/InternalIndicesService.java
src/main/java/org/elasticsearch/search/internal/SearchContext.java
comments:
add field data service to index level services

time:
2013-01-22T15:16:30Z
class:
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/BoostFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
comments:
add initial field data type support to mappers
hardwired and still happily leaves with current field data impl

time:
2013-01-22T15:16:30Z
class:
src/main/java/org/elasticsearch/index/fielddata/AbstractIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/BytesRefFieldComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/DoubleValuesComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/plain/ConcreteBytesRefIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/LongArrayIndexFieldData.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/AbstractFieldDataTests.java
comments:
use FieldMapper.Names for fieldNames, and not just fieldName as string

time:
2013-01-22T15:16:30Z
class:
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/index/fielddata/plain/LongArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/LongArrayIndexFieldData.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/DoubleFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/LongFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/NumericFieldDataTests.java
comments:
add long field support

time:
2013-01-22T15:16:30Z
class:
src/main/java/org/elasticsearch/common/lucene/HashedBytesRef.java
src/main/java/org/elasticsearch/index/fielddata/AbstractIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/AtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/AtomicNumericFieldData.java
src/main/java/org/elasticsearch/index/fielddata/AtomicOrdinalFieldData.java
src/main/java/org/elasticsearch/index/fielddata/ByteValues.java
src/main/java/org/elasticsearch/index/fielddata/BytesValues.java
src/main/java/org/elasticsearch/index/fielddata/DoubleValues.java
src/main/java/org/elasticsearch/index/fielddata/FieldDataType.java
src/main/java/org/elasticsearch/index/fielddata/FloatValues.java
src/main/java/org/elasticsearch/index/fielddata/HashedBytesValues.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataCache.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/index/fielddata/IndexNumericFieldData.java
src/main/java/org/elasticsearch/index/fielddata/IndexOrdinalFieldData.java
src/main/java/org/elasticsearch/index/fielddata/IntValues.java
src/main/java/org/elasticsearch/index/fielddata/LongValues.java
src/main/java/org/elasticsearch/index/fielddata/OrdinalsBytesValues.java
src/main/java/org/elasticsearch/index/fielddata/OrdinalsHashedBytesValues.java
src/main/java/org/elasticsearch/index/fielddata/OrdinalsStringValues.java
src/main/java/org/elasticsearch/index/fielddata/ScriptDocValues.java
src/main/java/org/elasticsearch/index/fielddata/ShortValues.java
src/main/java/org/elasticsearch/index/fielddata/StringValues.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/BytesRefFieldComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/BytesRefOrdValComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/BytesRefValComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/DoubleValuesComparator.java
src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/DoubleValuesComparatorSource.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/DocIdOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/EmptyOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/MultiFlatArrayOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/Ordinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/SingleArrayOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/SinglePackedOrdinals.java
src/main/java/org/elasticsearch/index/fielddata/plain/ConcreteBytesRefAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ConcreteBytesRefIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/util/ByteArrayRef.java
src/main/java/org/elasticsearch/index/fielddata/util/BytesRefArrayRef.java
src/main/java/org/elasticsearch/index/fielddata/util/DoubleArrayRef.java
src/main/java/org/elasticsearch/index/fielddata/util/FloatArrayRef.java
src/main/java/org/elasticsearch/index/fielddata/util/IntArrayRef.java
src/main/java/org/elasticsearch/index/fielddata/util/LongArrayRef.java
src/main/java/org/elasticsearch/index/fielddata/util/ShortArrayRef.java
src/main/java/org/elasticsearch/index/fielddata/util/StringArrayRef.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/AbstractFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/ConcreteBytesStringFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/DoubleFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/NumericFieldDataTests.java
src/test/java/org/elasticsearch/test/unit/index/fielddata/StringFieldDataTests.java
comments:
initial commit

time:
2013-01-22T11:54:00Z
class:
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
comments:
Corrected filter strategy option in FilteredQueryParser
Changed from 'query_filter' to 'query_first'

time:
2013-01-22T11:40:21Z
class:
src/main/java/org/elasticsearch/common/lucene/search/XFilteredQuery.java
comments:
Pass on filterStrategy in XFilteredQuery if query is rewritten

time:
2013-01-20T22:17:18Z
class:
src/main/java/org/elasticsearch/action/support/TransportAction.java
comments:
Added trace log statement, to catch stacktraces

time:
2013-01-19T14:44:26Z
class:
src/test/java/org/elasticsearch/test/integration/nodesinfo/SimpleNodesInfoTests.java
comments:
wait for cluster to be formed in SimpleNodesInfoTests

time:
2013-01-19T12:57:45Z
class:
src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
src/test/java/org/elasticsearch/test/integration/search/query/SimpleQueryTests.java
src/test/java/org/elasticsearch/test/integration/search/simple/SimpleSearchTests.java
comments:
Respect lowercase_expanded_terms in MappingQueryParser

Fixes #2566

time:
2013-01-18T15:43:56Z
class:
src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java
comments:
provide more information if a null DocumentMapper is returned

time:
2013-01-18T15:41:37Z
class:
src/test/java/org/elasticsearch/test/integration/mlt/MoreLikeThisActionTests.java
comments:
testMoreLikeThisIssue2197 should create index mapping first to prevent races

time:
2013-01-18T15:09:24Z
class:
src/test/java/org/elasticsearch/test/integration/mlt/MoreLikeThisActionTests.java
comments:
create index and mapping first to ensure all relevant nodes see the mapping

time:
2013-01-18T11:47:13Z
class:
comments:
upgrade to netty 3.6.2

time:
2013-01-17T21:38:42Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterIndexHealth.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/QueryExplanation.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryResponse.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequest.java
src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java
src/main/java/org/elasticsearch/action/count/ShardCountRequest.java
src/main/java/org/elasticsearch/action/get/MultiGetRequest.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequest.java
src/main/java/org/elasticsearch/action/search/ShardSearchFailure.java
src/main/java/org/elasticsearch/action/support/DefaultShardOperationFailedException.java
src/main/java/org/elasticsearch/cluster/ClusterName.java
src/main/java/org/elasticsearch/cluster/block/ClusterBlock.java
src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
src/main/java/org/elasticsearch/cluster/metadata/AliasAction.java
src/main/java/org/elasticsearch/cluster/metadata/AliasMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
src/main/java/org/elasticsearch/cluster/routing/ImmutableShardRouting.java
src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
src/main/java/org/elasticsearch/cluster/routing/RoutingTableValidation.java
src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationExplanation.java
src/main/java/org/elasticsearch/common/io/stream/AdapterStreamInput.java
src/main/java/org/elasticsearch/common/io/stream/AdapterStreamOutput.java
src/main/java/org/elasticsearch/common/io/stream/HandlesStreamInput.java
src/main/java/org/elasticsearch/common/io/stream/HandlesStreamOutput.java
src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/common/settings/ImmutableSettings.java
src/main/java/org/elasticsearch/common/transport/InetSocketTransportAddress.java
src/main/java/org/elasticsearch/common/transport/LocalTransportAddress.java
src/main/java/org/elasticsearch/index/Index.java
src/main/java/org/elasticsearch/index/engine/Segment.java
src/main/java/org/elasticsearch/index/get/GetField.java
src/main/java/org/elasticsearch/index/get/GetResult.java
src/main/java/org/elasticsearch/index/indexing/IndexingStats.java
src/main/java/org/elasticsearch/index/search/stats/SearchStats.java
src/main/java/org/elasticsearch/index/translog/Translog.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryResponse.java
src/main/java/org/elasticsearch/monitor/fs/FsStats.java
src/main/java/org/elasticsearch/monitor/jvm/JvmInfo.java
src/main/java/org/elasticsearch/monitor/jvm/JvmStats.java
src/main/java/org/elasticsearch/monitor/network/NetworkInfo.java
src/main/java/org/elasticsearch/monitor/os/OsInfo.java
src/main/java/org/elasticsearch/rest/RestStatus.java
src/main/java/org/elasticsearch/river/routing/RiverRouting.java
src/main/java/org/elasticsearch/search/facet/InternalFacets.java
src/main/java/org/elasticsearch/search/facet/datehistogram/InternalCountDateHistogramFacet.java
src/main/java/org/elasticsearch/search/facet/datehistogram/InternalFullDateHistogramFacet.java
src/main/java/org/elasticsearch/search/facet/filter/InternalFilterFacet.java
src/main/java/org/elasticsearch/search/facet/geodistance/InternalGeoDistanceFacet.java
src/main/java/org/elasticsearch/search/facet/histogram/bounded/InternalBoundedCountHistogramFacet.java
src/main/java/org/elasticsearch/search/facet/histogram/bounded/InternalBoundedFullHistogramFacet.java
src/main/java/org/elasticsearch/search/facet/histogram/unbounded/InternalCountHistogramFacet.java
src/main/java/org/elasticsearch/search/facet/histogram/unbounded/InternalFullHistogramFacet.java
src/main/java/org/elasticsearch/search/facet/query/InternalQueryFacet.java
src/main/java/org/elasticsearch/search/facet/range/InternalRangeFacet.java
src/main/java/org/elasticsearch/search/facet/statistical/InternalStatisticalFacet.java
src/main/java/org/elasticsearch/search/facet/termsstats/longs/InternalTermsStatsLongFacet.java
src/main/java/org/elasticsearch/search/facet/termsstats/strings/InternalTermsStatsStringFacet.java
src/main/java/org/elasticsearch/search/highlight/HighlightField.java
src/main/java/org/elasticsearch/search/internal/InternalSearchHitField.java
src/main/java/org/elasticsearch/search/warmer/IndexWarmersMetaData.java
src/test/java/org/elasticsearch/test/unit/common/io/streams/BytesStreamsTests.java
src/test/java/org/elasticsearch/test/unit/common/io/streams/HandlesStreamsTests.java
comments:
Remove deprecated StreamInput/Output#read/writeUTF

time:
2013-01-17T21:27:44Z
class:
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
comments:
use camelcase for getters

time:
2013-01-17T15:23:52Z
class:
src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocatorModule.java
src/test/java/org/elasticsearch/test/unit/cluster/routing/allocation/ShardsAllocatorModuleTests.java
comments:
Allow ShardsAllocator to be configured via node level settings.

* Default ShardsAllocator is set to BalancedShardsAllocator
* Core ShardsAllocator implementations can be defined via 'cluster.routing.allocation.type'
* Core ShardsAllocator implementations are exposed via short keys 'balanced' (BalancedShardsAllocator) and 'even_shards' (EvenShardsCountAllocator)
* Third party allocators can be loaded via fully-qualified class names.

Closes #2557

time:
2013-01-17T11:02:42Z
class:
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocatorModule.java
src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocators.java
src/test/java/org/elasticsearch/test/unit/cluster/routing/allocation/AddIncrementallyTests.java
src/test/java/org/elasticsearch/test/unit/cluster/routing/allocation/AwarenessAllocationTests.java
src/test/java/org/elasticsearch/test/unit/cluster/routing/allocation/BalanceConfigurationTests.java
src/test/java/org/elasticsearch/test/unit/cluster/routing/allocation/ClusterRebalanceRoutingTests.java
src/test/java/org/elasticsearch/test/unit/cluster/routing/allocation/IndexBalanceTests.java
src/test/java/org/elasticsearch/test/unit/cluster/routing/allocation/ShardsLimitAllocationTests.java
src/test/java/org/elasticsearch/test/unit/cluster/routing/allocation/TenShardsOneReplicaRoutingTests.java
comments:
Added BalancedShardsAllocator that balances shards based on a weight function.

 * Weights are calculated per index and incorporate index level, global and primary related parameters
 * Balance operations are executed based on a win maximation strategy that tries to relocate shards
   first that offer the biggest gain towards the weight functions optimum
 * The WeightFunction allows settings to prefer index based balance over global balance and vice versa
 * Balance operations can be throttled by raising a threshold resulting in less agressive balance operations
 * WeightFunction shipps with defaults to achive evenly distributed indexes while maintaining a global balance

Closes #2555

time:
2013-01-14T17:43:02Z
class:
src/main/java/org/elasticsearch/index/analysis/CustomAnalyzer.java
src/main/java/org/elasticsearch/index/analysis/MappingCharFilterFactory.java
src/test/java/org/elasticsearch/test/unit/index/analysis/CharFilterTests.java
comments:
Fix char filter issues introduced during lucene 4 migration

Fixes #2543

time:
2013-01-14T11:57:13Z
class:
src/main/java/org/elasticsearch/script/ScriptService.java
comments:
Make script cache configurable and bounded

Fixes #2539

time:
2013-01-11T15:14:25Z
class:
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/test/java/org/elasticsearch/test/unit/index/mapper/boost/FieldLevelBoostTests.java
comments:
Disallow unknown custom indexing parameters

Fixes #2354

time:
2013-01-11T15:06:14Z
class:
src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
src/main/java/org/elasticsearch/index/search/child/ChildCollector.java
src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
src/main/java/org/elasticsearch/index/search/child/HasChildFilter.java
src/main/java/org/elasticsearch/index/search/child/HasParentFilter.java
src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
src/test/java/org/elasticsearch/test/integration/search/child/SimpleChildQuerySearchTests.java
comments:
Fixed issue where parent & child queries can fail if a segment doesn't have documents with the targeted type or associated parent type

Closes #2537

time:
2013-01-10T13:25:44Z
class:
src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
comments:
Fixed document already exists error when concurrently sending update request with upsert using the same id.

Closes #2530

time:
2013-01-07T03:21:41Z
class:
src/main/java/org/elasticsearch/common/xcontent/json/JsonXContent.java
comments:
Comments are not allowed in mapping
checked jackson, there won't be an overhead in enabling comments. Added, with the caveat that when used with mappings, and calling "get mapping", the comments will not be returned
closes #1394

time:
2013-01-07T03:02:45Z
class:
src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
src/main/java/org/elasticsearch/action/count/CountRequest.java
src/main/java/org/elasticsearch/action/count/CountRequestBuilder.java
src/main/java/org/elasticsearch/action/count/TransportCountAction.java
src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
src/main/java/org/elasticsearch/action/search/SearchRequest.java
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/action/search/TransportSearchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
src/main/java/org/elasticsearch/cluster/routing/operation/OperationRouting.java
src/main/java/org/elasticsearch/cluster/routing/operation/plain/PlainOperationRouting.java
src/main/java/org/elasticsearch/rest/action/count/RestCountAction.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
src/test/java/org/elasticsearch/test/unit/cluster/structure/RoutingIteratorTests.java
comments:
cleanup queryHint since its not was never used
preference ended up as the way to control routing

time:
2013-01-07T01:54:22Z
class:
src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
comments:
add read/write optional text

time:
2013-01-05T00:50:46Z
class:
src/main/java/org/elasticsearch/index/get/ShardGetService.java
src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
src/test/java/org/elasticsearch/test/integration/get/GetActionTests.java
src/test/java/org/elasticsearch/test/integration/search/fields/SearchFieldsTests.java
comments:
Binary Mapped Fields: Allow to not store them by default, and return BytesReference
fixes #2523
also, fix another point of normalization of the result for get API

time:
2013-01-04T22:55:34Z
class:
src/main/java/org/elasticsearch/index/get/ShardGetService.java
src/test/java/org/elasticsearch/test/integration/get/GetActionTests.java
comments:
noramalize the value even when getting it from source
we need to in order to properly handle bytes, and normalize Integer to Long for example for consistency, the fact that mappers now handle different Objtes help here

time:
2013-01-04T22:31:49Z
class:
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
comments:
return the string for date types if passed for search

time:
2013-01-04T15:06:15Z
class:
comments:
upgrade to netty 3.6.1

time:
2013-01-04T07:38:00Z
class:
src/test/java/org/elasticsearch/test/integration/gateway/local/SimpleRecoveryLocalGatewayTests.java
comments:
add refresh before calling count

time:
2013-01-04T07:23:30Z
class:
comments:
add plugin configuration to make m2e ignore maven dependency plugin configuration that it cannot handle

time:
2013-01-04T07:19:01Z
class:
src/test/java/org/elasticsearch/test/integration/aliases/IndexAliasesTests.java
comments:
remove problematic timeout test
the timeout feature, even if set to 0, might still mean we get an ack back...

time:
2013-01-04T06:47:26Z
class:
src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java
comments:
check on sourceRef, so it won't convert to bytes without needing to

time:
2013-01-03T23:18:40Z
class:
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/test/java/org/elasticsearch/test/unit/index/mapper/merge/Test1MergeMapperTests.java
src/test/java/org/elasticsearch/test/unit/index/mapper/merge/TestMergeMapperTests.java
comments:
Changing non-nested object mapping to nested should fail

Fixes #2518

time:
2013-01-03T21:54:37Z
class:
src/test/java/org/elasticsearch/test/integration/indices/analyze/HunspellServiceTests.java
comments:
fixed hunspell test to clean up properly, this time, for realz

time:
2013-01-03T21:12:36Z
class:
src/test/java/org/elasticsearch/test/integration/indices/analyze/HunspellServiceTests.java
comments:
fixed hunspell test to clean up properly

time:
2013-01-03T20:34:53Z
class:
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/test/java/org/elasticsearch/test/unit/index/mapper/geo/LatLonMappingGeoPointTests.java
src/test/java/org/elasticsearch/test/unit/index/mapper/lucene/StoredNumericValuesTest.java
comments:
Changed how the stored values of numeric fields are stored in the index. Before numeric values were stored in binary representation, now the values in numeric representation.

time:
2013-01-03T18:06:19Z
class:
src/main/java/org/elasticsearch/index/mapper/Mapper.java
comments:
add simple way to get the index creation version when building a mapper

time:
2013-01-03T00:23:40Z
class:
src/main/java/org/elasticsearch/common/logging/ESLoggerFactory.java
src/main/java/org/elasticsearch/common/logging/jdk/JdkESLoggerFactory.java
src/main/java/org/elasticsearch/common/logging/log4j/Log4jESLoggerFactory.java
src/main/java/org/elasticsearch/common/logging/slf4j/Slf4jESLoggerFactory.java
src/main/java/org/elasticsearch/node/settings/NodeSettingsService.java
comments:
Support for root logger level runtime update

Closes: #2517

time:
2013-01-02T02:51:26Z
class:
src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
src/main/java/org/elasticsearch/index/analysis/HunspellTokenFilterFactory.java
src/main/java/org/elasticsearch/indices/analysis/HunspellService.java
src/main/java/org/elasticsearch/indices/analysis/IndicesAnalysisModule.java
src/test/java/org/elasticsearch/test/integration/indices/analyze/HunspellServiceTests.java
comments:
Support for hunspell token filter

Closes: #646

- Introduced HunspellService which holds a repository of hunspell dictionaries
- It is possible to register a dictionary via a plugin or by placing the dictionary files on the file system

time:
2012-12-31T08:13:15Z
class:
src/main/java/org/elasticsearch/common/io/stream/AdapterStreamInput.java
src/main/java/org/elasticsearch/common/io/stream/AdapterStreamOutput.java
src/main/java/org/elasticsearch/common/io/stream/HandlesStreamInput.java
src/main/java/org/elasticsearch/common/io/stream/HandlesStreamOutput.java
src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
src/main/java/org/elasticsearch/common/text/BytesText.java
src/main/java/org/elasticsearch/common/text/StringAndBytesText.java
src/main/java/org/elasticsearch/common/text/StringText.java
src/main/java/org/elasticsearch/common/text/Text.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/search/SearchShardTarget.java
src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
comments:
optimize search hit to use Text for type and id
this will reduce serialization string overheads, and faster xcontent(json) generation

time:
2012-12-31T01:39:19Z
class:
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
comments:
cleanup

time:
2012-12-31T01:37:46Z
class:
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
comments:
remove unused method

time:
2012-12-31T01:36:48Z
class:
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/query/RegexpFilterParser.java
src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
comments:
move regex to use Object as paramater as well

time:
2012-12-31T01:31:13Z
class:
src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
src/main/java/org/elasticsearch/index/get/ShardGetService.java
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/Uid.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/query/PrefixFilterParser.java
src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
src/main/java/org/elasticsearch/index/query/TermQueryParser.java
src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
src/main/java/org/elasticsearch/search/fetch/version/VersionFetchSubPhase.java
comments:
cleanup more calls to Term with String value

time:
2012-12-31T00:55:22Z
class:
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/query/TypeFilterParser.java
comments:
cleanup unused term factory

time:
2012-12-30T09:57:18Z
class:
src/main/java/org/elasticsearch/threadpool/ThreadPoolStats.java
comments:
fix thread pool stats largest

time:
2012-12-29T18:39:53Z
class:
src/main/java/org/apache/lucene/search/vectorhighlight/CustomFieldQuery.java
src/main/java/org/elasticsearch/common/lucene/search/XTermsFilter.java
src/main/java/org/elasticsearch/common/lucene/spatial/prefix/TermQueryPrefixTreeStrategy.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/query/TermsFilterParser.java
src/test/java/org/elasticsearch/test/unit/index/query/SimpleIndexQueryParserTests.java
comments:
backport lucene 4.1 terms filter and use it where applicable

time:
2012-12-29T09:06:32Z
class:
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/query/TermsFilterParser.java
src/test/java/org/elasticsearch/test/integration/search/query/SimpleQueryTests.java
comments:
add explicit termsFilter in mapper, and use that in terms filter
This also enabled support for terms filter on _id field for example

time:
2012-12-29T08:46:35Z
class:
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
comments:
fix index xcontent flag with id

time:
2012-12-29T08:14:46Z
class:
src/main/java/org/elasticsearch/common/lucene/BytesRefs.java
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/common/lucene/search/MatchNoDocsFilter.java
src/main/java/org/elasticsearch/common/lucene/search/MatchNoDocsQuery.java
src/main/java/org/elasticsearch/common/lucene/search/MoreLikeThisQuery.java
src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
src/main/java/org/elasticsearch/common/xcontent/XContentParser.java
src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentParser.java
src/main/java/org/elasticsearch/common/xcontent/support/AbstractXContentParser.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
src/main/java/org/elasticsearch/index/query/RangeFilterParser.java
src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
src/main/java/org/elasticsearch/index/query/TermFilterParser.java
src/main/java/org/elasticsearch/index/query/TermsFilterParser.java
src/main/java/org/elasticsearch/index/search/MatchQuery.java
src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
comments:
use object parser value for queries that support it

time:
2012-12-29T07:38:43Z
class:
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/Uid.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/BoostFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/query/IdsFilterParser.java
src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
src/main/java/org/elasticsearch/index/query/TermsFilterParser.java
src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
src/main/java/org/elasticsearch/index/search/UidFilter.java
comments:
support multiple values when mappers construct queries
this will allow us to optimize parsing using actual values (numbers/bytes)

time:
2012-12-29T04:33:10Z
class:
src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java
src/main/java/org/elasticsearch/common/Numbers.java
src/main/java/org/elasticsearch/common/bytes/ByteBufferBytesReference.java
src/main/java/org/elasticsearch/common/bytes/BytesArray.java
src/main/java/org/elasticsearch/common/bytes/BytesReference.java
src/main/java/org/elasticsearch/common/bytes/ChannelBufferBytesReference.java
src/main/java/org/elasticsearch/common/bytes/HashedBytesArray.java
src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/BoostFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/search/facet/histogram/HistogramFacetProcessor.java
src/main/java/org/elasticsearch/search/facet/range/RangeFacetProcessor.java
src/test/java/org/elasticsearch/test/integration/search/fields/SearchFieldsTests.java
comments:
more mapper simplification, reduce the value methods

time:
2012-12-28T22:27:09Z
class:
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SourceScoreOrderFragmentsBuilder.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SourceSimpleFragmentsBuilder.java
src/test/java/org/elasticsearch/test/unit/common/compress/CompressIndexInputOutputTests.java
src/test/java/org/elasticsearch/test/unit/common/lucene/all/SimpleAllTests.java
src/test/java/org/elasticsearch/test/unit/common/lucene/search/MultiPhrasePrefixQueryTests.java
src/test/java/org/elasticsearch/test/unit/common/lucene/search/TermsFilterTests.java
src/test/java/org/elasticsearch/test/unit/common/lucene/spatial/prefix/TermQueryPrefixTreeStrategyTests.java
comments:
Use FieldType and not deprecated Field construction

time:
2012-12-28T21:48:48Z
class:
src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
src/main/java/org/elasticsearch/common/Numbers.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/query/TermFilterParser.java
src/main/java/org/elasticsearch/index/query/TermQueryParser.java
src/main/java/org/elasticsearch/index/query/TermsFilterParser.java
src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
src/main/java/org/elasticsearch/index/search/MatchQuery.java
src/test/java/org/elasticsearch/test/unit/index/mapper/lucene/DoubleIndexingDocTest.java
comments:
rename fieldQuery/fieldFilter to termQuery/termFilter in mappers

time:
2012-12-27T22:30:40Z
class:
src/main/java/org/elasticsearch/Version.java
comments:
add 0.20.3

time:
2012-12-27T22:16:30Z
class:
src/test/java/org/elasticsearch/test/integration/threadpool/SimpleThreadPoolTests.java
comments:
add a sleep to make sure settings are applied

time:
2012-12-27T20:03:59Z
class:
comments:
upgrade to jackson 2.1.1

time:
2012-12-27T19:55:37Z
class:
comments:
upgrade to netty 3.6.0

time:
2012-12-27T14:39:27Z
class:
src/main/java/org/elasticsearch/common/util/concurrent/EsThreadPoolExecutor.java
src/main/java/org/elasticsearch/threadpool/ThreadPool.java
src/test/java/org/elasticsearch/test/integration/threadpool/SimpleThreadPoolTests.java
src/test/java/org/elasticsearch/test/unit/threadpool/UpdateThreadPoolSettingsTests.java
comments:
Update settings: Allow to dynamically update thread pool settings

Closes #2509

time:
2012-12-27T00:31:55Z
class:
src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
comments:
fix type to types

time:
2012-12-27T00:18:57Z
class:
src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
comments:
cleanup

time:
2012-12-27T00:18:17Z
class:
src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
src/test/java/org/elasticsearch/test/unit/action/search/MultiSearchRequestTests.java
comments:
allow index and type to be specified as arrays in MultiSearchRequest

time:
2012-12-27T00:16:37Z
class:
src/main/java/org/elasticsearch/index/analysis/Analysis.java
comments:
fix copy/paste bug where null stopWords is passed causing an NPE

time:
2012-12-26T23:59:07Z
class:
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/StrictDynamicMappingException.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/test/java/org/elasticsearch/test/unit/index/mapper/geo/LatLonMappingGeoPointTests.java
comments:
fix failed tests due to wrapping failures with mapping parsing exception

time:
2012-12-26T23:47:53Z
class:
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
comments:
optimize filtered query with match_all filter
simply just use the query in that case, and don't add the filter overhead

time:
2012-12-26T23:35:30Z
class:
src/main/java/org/elasticsearch/index/query/MatchAllFilterParser.java
src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
src/test/java/org/elasticsearch/test/unit/index/query/SimpleIndexQueryParserTests.java
comments:
match_all filter with empty array (instead of obj) fires exception when used with facets
fixes #2493

time:
2012-12-26T23:00:49Z
class:
src/main/java/org/elasticsearch/action/search/ShardSearchFailure.java
comments:
ShardSearchFailure handling of exception does not take actual into account for status
fixes #2495

time:
2012-12-26T23:00:31Z
class:
src/main/java/org/elasticsearch/index/mapper/DocumentFieldMappers.java
src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
src/test/java/org/elasticsearch/test/integration/search/highlight/HighlighterSearchTests.java
comments:
Allow highlighting on wildcard fields.. ie, comment_*
closes #2396

time:
2012-12-26T22:21:04Z
class:
src/test/java/org/elasticsearch/test/integration/search/customscore/CustomScoreSearchTests.java
comments:
cleanup

time:
2012-12-26T22:20:14Z
class:
src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
src/test/java/org/elasticsearch/test/integration/search/customscore/CustomScoreSearchTests.java
comments:
Pass topScorer=false to sub-scorers if a scorer is wrapped. Wrapped BooleanQuery can return collect-only scorers. See #2505

time:
2012-12-26T22:16:35Z
class:
src/main/java/org/elasticsearch/plugins/PluginManager.java
comments:
Plugins Installer: Allow to download plugins from download.elasticsearch.org
closes #2507.

time:
2012-12-24T21:12:10Z
class:
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
comments:
Minor changes to the parent / child benchmark.

time:
2012-12-24T12:40:20Z
class:
src/main/java/org/elasticsearch/index/search/nested/BlockJoinQuery.java
src/test/java/org/elasticsearch/test/integration/nested/SimpleNestedTests.java
comments:
Improved explain support for nested query.

Closes #2503

time:
2012-12-24T10:39:43Z
class:
src/main/java/org/elasticsearch/common/CacheRecycler.java
src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryParser.java
src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
src/main/java/org/elasticsearch/index/search/child/HasChildFilter.java
src/main/java/org/elasticsearch/index/search/child/HasParentFilter.java
src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
src/main/java/org/elasticsearch/index/search/child/ScoreType.java
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
src/test/java/org/elasticsearch/test/integration/search/child/SimpleChildQuerySearchTests.java
comments:
Added scoring support to `has_child` and `has_parent` queries.

Added score support to `has_child` and `has_parent` queries. Both queries support a score_type option. The has_child support the same options as the top_children query and the none option which is the default and yields the current behaviour. The has_parent query support the score type options: score and none. The latter is the default and yields the current behaviour.

If the score_type is set to a value other than none then the has_parent query map the matched parent score into the related children documents. The has_child query then map the matched children documents into the related parent document. The score_type on both queries defines how the children documents scores are mapped in the parent documents. Both queries are executed in two phases. First phase collects the parent uid values of matching documents with an aggregated score per parent uid value. In the second phase either child or parent typed documents are emitted as hit that have the same parent uid value as found during the first phase. The score computed in the first phase will be used as score.

Closes #2502

time:
2012-12-24T08:04:29Z
class:
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
comments:
add mappings even on failure to parse
since we add them internally to the compound mappers, we need to publish the fact, otherwise, for example, the codec won't find the relevant one based on the global mapper service

time:
2012-12-22T00:26:48Z
class:
src/main/java/org/elasticsearch/action/search/MultiSearchResponse.java
src/test/java/org/elasticsearch/test/integration/search/basic/TransportTwoNodesSearchTests.java
comments:
Fix failure message serialization in MultiSearchResponse

Fixes #2498

time:
2012-12-21T17:08:44Z
class:
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
src/test/java/org/elasticsearch/test/integration/search/child/SimpleChildQuerySearchTests.java
comments:
Fixed `top_children` query failure with dfs_query* search types.

Fixed error with the top_children query when `DFS_QUERY_*` is used as search_type and wraps a query that gets rewritten (E.g wildcard query).

Closes #2501

time:
2012-12-21T15:54:14Z
class:
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
comments:
Removed unused code.

time:
2012-12-21T15:47:03Z
class:
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
src/test/java/org/elasticsearch/test/integration/search/child/SimpleChildQuerySearchTests.java
comments:
Fixed AOBE when using `top_children` in a must not clause.
Closes #2500

time:
2012-12-21T14:17:02Z
class:
comments:
Master is now 0.20

time:
2012-12-21T14:16:04Z
class:
src/test/java/org/elasticsearch/index/mapper/xcontent/SimpleAttachmentMapperTests.java
comments:
Plugin must be 0.20.x compatible (tests fails)

time:
2012-12-21T14:12:15Z
class:
src/test/java/org/elasticsearch/plugin/mapper/attachments/test/SimpleAttachmentIntegrationTests.java
comments:
Move resources in /src/test/resources

time:
2012-12-19T21:43:47Z
class:
src/main/java/org/elasticsearch/common/lucene/search/XBooleanFilter.java
src/test/java/org/elasticsearch/test/unit/common/lucene/search/XBooleanFilterTests.java
comments:
Improved XBooleanFilter by adding drive logic for bit based filter impl and adding unit test, which tests all possible XBooleanFilter options.

time:
2012-12-19T20:38:40Z
class:
comments:
Make elasticsearch.in.sh more configurable via env

It's easier to manage a configuration through environment variables than
through a config file if that config file has static values that need to
change each version (such as the ES_CLASSPATH). Trying to keep that in
Chef is tedious whereas just controlling these few settings with
environment variables like most of the other settings in here is simple
and straightforward.

time:
2012-12-18T23:39:13Z
class:
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/main/java/org/elasticsearch/index/search/nested/NestedDocsFilter.java
src/main/java/org/elasticsearch/index/search/nested/NonNestedDocsFilter.java
src/test/java/org/elasticsearch/test/unit/index/mapper/nested/NestedMappingTests.java
comments:
nested path to be represented as bytes as well as string

time:
2012-12-18T22:39:25Z
class:
src/main/java/org/elasticsearch/index/mapper/Uid.java
comments:
fix creating uid to bytes

time:
2012-12-18T21:28:36Z
class:
src/main/java/org/elasticsearch/index/get/ShardGetService.java
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/ParseContext.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SizeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
src/test/java/org/elasticsearch/test/unit/index/mapper/dynamictemplate/genericstore/GenericStoreDynamicTemplateTests.java
src/test/java/org/elasticsearch/test/unit/index/mapper/dynamictemplate/pathmatch/PathMatchDynamicTemplateTests.java
src/test/java/org/elasticsearch/test/unit/index/mapper/index/IndexTypeMapperTests.java
src/test/java/org/elasticsearch/test/unit/index/mapper/multifield/merge/JavaMultiFieldMergeTests.java
src/test/java/org/elasticsearch/test/unit/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/test/unit/index/mapper/ttl/TTLMappingTests.java
comments:
 more cleanup in mappings

time:
2012-12-18T21:00:47Z
class:
src/main/java/org/elasticsearch/common/lucene/uid/UidField.java
src/main/java/org/elasticsearch/index/codec/PerFieldMappingPostingFormatCodec.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/BoostFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SizeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/test/java/org/elasticsearch/test/unit/common/lucene/uid/UidFieldTests.java
src/test/java/org/elasticsearch/test/unit/index/codec/CodecTests.java
src/test/java/org/elasticsearch/test/unit/index/engine/AbstractSimpleEngineTests.java
src/test/java/org/elasticsearch/test/unit/index/mapper/timestamp/TimestampMappingTests.java
comments:
simplify toXContent generation of field mappers

time:
2012-12-18T19:34:41Z
class:
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
comments:
rename analyzed to tokenized to match field type

time:
2012-12-18T18:58:03Z
class:
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/Uid.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/BoostFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
comments:
indexedTerm to return bytes
part of the effort to reduce conversion from string to types

time:
2012-12-18T18:26:52Z
class:
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
comments:
remove unused code

time:
2012-12-18T18:22:37Z
class:
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
comments:
remove unused code

time:
2012-12-18T18:20:55Z
class:
src/main/java/org/elasticsearch/search/facet/terms/TermsFacetProcessor.java
comments:
parse to bytes

time:
2012-12-18T08:51:01Z
class:
src/main/java/org/elasticsearch/index/field/data/strings/StringFieldData.java
comments:
Improved the size computation in StringFieldData#computeSizeInBytes()

time:
2012-12-17T10:00:30Z
class:
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequest.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequestBuilder.java
src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java
src/main/java/org/elasticsearch/rest/action/mlt/RestMoreLikeThisAction.java
src/test/java/org/elasticsearch/test/integration/mlt/MoreLikeThisActionTests.java
comments:
Fixed mlt api bug related to custom routing value.
If the a routing value isn't id based, the get part of the mlt request couldn't retrieve the document for the second part of the mlt request and a 500 code is returned instead. This fix addresses this issue.

Closes #2489

time:
2012-12-16T22:24:18Z
class:
src/main/java/org/elasticsearch/common/lucene/search/RegexpFilter.java
src/main/java/org/elasticsearch/index/cache/filter/support/CacheKeyFilter.java
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/query/FilterBuilders.java
src/main/java/org/elasticsearch/index/query/QueryBuilders.java
src/main/java/org/elasticsearch/index/query/RegexpFilterBuilder.java
src/main/java/org/elasticsearch/index/query/RegexpFilterParser.java
src/main/java/org/elasticsearch/index/query/RegexpFlag.java
src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
src/main/java/org/elasticsearch/indices/query/IndicesQueriesModule.java
src/test/java/org/elasticsearch/test/unit/index/query/SimpleIndexQueryParserTests.java
comments:
Support for RegexpQuery & RegexpFilter

- Added "regexp" query type (based on Lucene 4 RegexpQuery)
- Added "regexp" filter type
- Fixed a bug in IdFieldMapper where prefixQuery on a single type would be redundantly wrapped in a boolean query

time:
2012-12-16T03:04:10Z
class:
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
comments:
First indexing of a dynamic boolean field can cause it not to be indexed correctly
fixes #2487

time:
2012-12-14T22:36:20Z
class:
src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
src/test/java/org/elasticsearch/test/unit/index/query/SimpleIndexQueryParserTests.java
comments:
Correctly parse *:* query into matchAllDocsQuery

Fixes #2486

time:
2012-12-14T15:08:37Z
class:
src/main/java/org/apache/lucene/search/vectorhighlight/AbstractFragmentsBuilder.java
comments:
Added Lucene 4.1 todo

time:
2012-12-13T06:53:48Z
class:
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
comments:
reuse non analyzed token stream for string types
so heavyweight token stream won't be created each time

time:
2012-12-13T06:08:54Z
class:
src/main/java/org/elasticsearch/index/mapper/internal/AnalyzerMapper.java
comments:
improve fields iteration trying to find customer valued analyzer

time:
2012-12-13T05:56:23Z
class:
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/index/IndexRequest.java
src/test/java/org/elasticsearch/benchmark/stress/SingleThreadBulkStress.java
comments:
don't call toLowerCase on each bulk item

time:
2012-12-13T04:12:51Z
class:
src/main/java/org/elasticsearch/common/lucene/search/XBooleanFilter.java
comments:
optimize boolean filter to use bits driven by result bitset

time:
2012-12-13T00:32:22Z
class:
src/main/java/org/elasticsearch/common/lucene/search/XBooleanFilter.java
comments:
optimize boolean filter for one clause case

time:
2012-12-08T00:37:21Z
class:
src/main/java/org/elasticsearch/Version.java
comments:
add 0.20 versions

time:
2012-12-08T00:15:17Z
class:
src/main/java/org/elasticsearch/plugins/PluginManager.java
comments:
restore deleted plugin path modification

time:
2012-12-07T22:15:44Z
class:
src/main/java/org/elasticsearch/Version.java
comments:
use the 0.20.0 version

time:
2012-12-07T18:37:26Z
class:
src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
comments:
Wildcard query on non existent field matches all documents
fixes #2461

time:
2012-12-06T17:18:52Z
class:
src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java
src/main/java/org/elasticsearch/common/lucene/document/AbstractMultipleFieldsVisitor.java
src/main/java/org/elasticsearch/common/lucene/document/BaseFieldVisitor.java
src/main/java/org/elasticsearch/common/lucene/document/SingleFieldVisitor.java
src/main/java/org/elasticsearch/index/fieldvisitor/CustomFieldsVisitor.java
src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
src/main/java/org/elasticsearch/index/fieldvisitor/JustSourceFieldsVisitor.java
src/main/java/org/elasticsearch/index/fieldvisitor/JustUidFieldsVisitor.java
src/main/java/org/elasticsearch/index/fieldvisitor/SingleFieldsVisitor.java
src/main/java/org/elasticsearch/index/fieldvisitor/UidAndRoutingFieldsVisitor.java
src/main/java/org/elasticsearch/index/fieldvisitor/UidAndSourceFieldsVisitor.java
src/main/java/org/elasticsearch/index/get/ShardGetService.java
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/BoostFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldVisitor.java
src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/selector/AllButSourceFieldVisitor.java
src/main/java/org/elasticsearch/index/mapper/selector/FieldMappersFieldVisitor.java
src/main/java/org/elasticsearch/index/mapper/selector/UidAndRoutingFieldVisitor.java
src/main/java/org/elasticsearch/index/mapper/selector/UidAndSourceFieldVisitor.java
src/main/java/org/elasticsearch/index/mapper/selector/UidFieldVisitor.java
src/main/java/org/elasticsearch/index/percolator/PercolatorService.java
src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
src/main/java/org/elasticsearch/search/fetch/FetchSubPhase.java
src/main/java/org/elasticsearch/search/fetch/version/VersionFetchSubPhase.java
src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
src/main/java/org/elasticsearch/search/lookup/FieldLookup.java
src/main/java/org/elasticsearch/search/lookup/FieldsLookup.java
src/main/java/org/elasticsearch/search/lookup/SourceLookup.java
src/test/java/org/elasticsearch/test/integration/get/GetActionTests.java
comments:
lucene 4: Removed the usage of Document & Field when retrieving stored fields.

time:
2012-12-06T14:37:36Z
class:
src/main/java/org/elasticsearch/node/internal/InternalSettingsPerparer.java
src/test/java/org/elasticsearch/test/unit/node/internal/InternalSettingsPerparerTests.java
comments:
Add support for ignoring settings in system properties.

An elasticsearch node can be instructed to ignore settings specified in system properties by setting config.ignore_system_properties setting to true.

time:
2012-12-06T14:37:03Z
class:
src/main/java/org/elasticsearch/node/service/NodeService.java
comments:
Changed es version from string to class Version.

time:
2012-12-06T14:35:30Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
comments:
Changed es version from string to class Version

time:
2012-12-06T14:22:44Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
src/main/java/org/elasticsearch/node/service/NodeService.java
comments:
Expose es version in node info api.
Closes #2466

time:
2012-12-06T13:59:42Z
class:
src/main/java/org/elasticsearch/search/highlight/HighlightBuilder.java
src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
src/main/java/org/elasticsearch/search/highlight/HighlighterParseElement.java
src/main/java/org/elasticsearch/search/highlight/SearchContextHighlight.java
src/test/java/org/elasticsearch/test/integration/search/highlight/HighlighterSearchTests.java
comments:
Expose fragmenter option for plain / normal highlighter.
Closes #2465

time:
2012-12-06T09:13:47Z
class:
src/main/java/org/elasticsearch/common/lucene/search/CachedFilter.java
src/main/java/org/elasticsearch/index/cache/filter/FilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/none/NoneFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/weighted/WeightedFilterCache.java
comments:
add a marker CachedFilter
this allows to easily and globally check if we cache a filter or not, all filter caching uses this marker interface

time:
2012-12-06T01:20:09Z
class:
src/main/java/org/elasticsearch/common/lucene/search/XFilteredQuery.java
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
comments:
expose filter strategy in filtered query

time:
2012-12-06T00:55:16Z
class:
src/main/java/org/apache/lucene/queryparser/classic/ExistsFieldQueryExtension.java
src/main/java/org/apache/lucene/queryparser/classic/MissingFieldQueryExtension.java
src/main/java/org/apache/lucene/search/vectorhighlight/CustomFieldQuery.java
src/main/java/org/elasticsearch/common/lucene/search/ApplyAcceptedDocsFilter.java
src/main/java/org/elasticsearch/common/lucene/search/Queries.java
src/main/java/org/elasticsearch/common/lucene/search/XConstantScoreQuery.java
src/main/java/org/elasticsearch/common/lucene/search/XFilteredQuery.java
src/main/java/org/elasticsearch/index/engine/robin/RobinEngine.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/percolator/PercolatorService.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
src/main/java/org/elasticsearch/index/query/HasChildFilterParser.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentFilterParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/NestedFilterParser.java
src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryParser.java
src/main/java/org/elasticsearch/index/query/support/QueryParsers.java
src/main/java/org/elasticsearch/index/shard/service/InternalIndexShard.java
src/main/java/org/elasticsearch/search/facet/FacetPhase.java
src/main/java/org/elasticsearch/search/facet/filter/FilterFacetCollector.java
src/main/java/org/elasticsearch/search/facet/query/QueryFacetCollector.java
src/main/java/org/elasticsearch/search/highlight/CustomQueryScorer.java
src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
src/main/java/org/elasticsearch/search/internal/SearchContext.java
src/main/java/org/elasticsearch/search/scan/ScanContext.java
src/test/java/org/elasticsearch/test/integration/validate/SimpleValidateQueryTests.java
src/test/java/org/elasticsearch/test/unit/common/lucene/search/MatchAllDocsFilterTests.java
src/test/java/org/elasticsearch/test/unit/index/cache/filter/FilterCacheTests.java
src/test/java/org/elasticsearch/test/unit/index/query/SimpleIndexQueryParserTests.java
comments:
fix properly handling acceptDocs in filters
our idea is to apply it on the "filtered/constant" level, and not on compound filters, so we won't apply it multiple times. The solution is conservative a bit now, we can further optimize it in the future, for example, not to wrap it when no caching is done within the filter chain

time:
2012-12-05T23:23:37Z
class:
comments:
move to 1.11.0-snap

time:
2012-12-05T23:23:17Z
class:
comments:
release 1.10.0

time:
2012-12-05T23:17:34Z
class:
src/main/java/org/elasticsearch/cloud/aws/AwsEc2Service.java
comments:
Update src/main/java/org/elasticsearch/cloud/aws/AwsEc2Service.java

time:
2012-12-05T23:17:34Z
class:
src/main/java/org/elasticsearch/gateway/s3/S3Gateway.java
comments:
Update src/main/java/org/elasticsearch/gateway/s3/S3Gateway.java

time:
2012-12-05T23:17:34Z
class:
comments:
Update README.md

time:
2012-12-05T23:17:34Z
class:
src/main/java/org/elasticsearch/cloud/aws/AwsS3Service.java
comments:
Update src/main/java/org/elasticsearch/cloud/aws/AwsS3Service.java

Add support for Asia Pacific (Sydney) Region.

time:
2012-12-05T23:17:07Z
class:
comments:
update aws sdk

time:
2012-12-04T14:41:38Z
class:
src/main/java/org/elasticsearch/Version.java
comments:
add 0.19.13

time:
2012-12-04T01:00:36Z
class:
src/main/java/org/elasticsearch/common/lucene/search/DeletionAwareConstantScoreQuery.java
src/main/java/org/elasticsearch/common/lucene/search/NotDeletedFilter.java
comments:
not delete filter improvements
- don't check no null for liveDocs, since we know they are not null with the check for hasDeletion
- improve iteration over liveDocs vs. innerSet, prefer to iterate over the faster one

time:
2012-12-03T11:39:18Z
class:
src/main/java/org/apache/lucene/search/vectorhighlight/AbstractFragmentsBuilder.java
src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
src/test/java/org/elasticsearch/test/integration/search/highlight/HighlighterSearchTests.java
comments:
Fixed unable to highlight on all multi-valued field values.
Closes #2384

time:
2012-12-03T11:30:13Z
class:
src/main/java/org/elasticsearch/common/compress/CompressorFactory.java
src/main/java/org/elasticsearch/common/compress/snappy/SnappyCompressedIndexInput.java
src/main/java/org/elasticsearch/common/compress/snappy/SnappyCompressedIndexOutput.java
src/main/java/org/elasticsearch/common/compress/snappy/SnappyCompressedStreamInput.java
src/main/java/org/elasticsearch/common/compress/snappy/SnappyCompressedStreamOutput.java
src/main/java/org/elasticsearch/common/compress/snappy/SnappyCompressor.java
src/main/java/org/elasticsearch/common/compress/snappy/SnappyCompressorContext.java
src/main/java/org/elasticsearch/common/compress/snappy/UnavailableSnappyCompressor.java
src/main/java/org/elasticsearch/common/compress/snappy/xerial/XerialSnappy.java
src/main/java/org/elasticsearch/common/compress/snappy/xerial/XerialSnappyCompressedIndexInput.java
src/main/java/org/elasticsearch/common/compress/snappy/xerial/XerialSnappyCompressedIndexOutput.java
src/main/java/org/elasticsearch/common/compress/snappy/xerial/XerialSnappyCompressedStreamInput.java
src/main/java/org/elasticsearch/common/compress/snappy/xerial/XerialSnappyCompressedStreamOutput.java
src/main/java/org/elasticsearch/common/compress/snappy/xerial/XerialSnappyCompressor.java
src/test/java/org/elasticsearch/benchmark/compress/LuceneCompressionBenchmark.java
src/test/java/org/elasticsearch/test/integration/search/compress/SearchSourceCompressTests.java
src/test/java/org/elasticsearch/test/unit/common/compress/CompressIndexInputOutputTests.java
comments:
remove snappy support
relates to #2459

time:
2012-12-03T10:44:17Z
class:
src/main/java/org/elasticsearch/gateway/shared/SharedStorageGateway.java
comments:
Deprecate Shared Gateway
closes #2458

time:
2012-12-03T09:21:59Z
class:
src/main/java/org/elasticsearch/index/indexing/ShardIndexingModule.java
src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
src/main/java/org/elasticsearch/index/indexing/slowlog/ShardSlowLogIndexingService.java
src/test/java/org/elasticsearch/test/unit/index/engine/robin/SimpleRobinEngineTests.java
comments:
Indexing Slow Log
closes #2457

time:
2012-12-02T21:29:49Z
class:
comments:
Upgrade to Netty 3.5.11
closes #2456

time:
2012-12-02T21:03:51Z
class:
src/main/java/org/elasticsearch/index/search/slowlog/ShardSlowLogSearchService.java
comments:
no need to check for log levels
we already do that when we log, and those are set to TRACE most times for slow log (since logging is based on thresholds)

time:
2012-12-02T21:01:17Z
class:
src/main/java/org/elasticsearch/common/Strings.java
src/main/java/org/elasticsearch/index/search/slowlog/ShardSlowLogSearchService.java
comments:
Add types and stats to search slow log
closes #2455

time:
2012-11-27T18:13:16Z
class:
src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
src/test/java/org/elasticsearch/test/integration/search/customscore/CustomScoreSearchTests.java
comments:
The relevancy score in explanation should match the actual score in custom_filters_query

Fixes #2441

time:
2012-11-27T18:04:21Z
class:
src/main/java/org/apache/lucene/queryparser/classic/ExistsFieldQueryExtension.java
src/main/java/org/apache/lucene/queryparser/classic/MissingFieldQueryExtension.java
src/main/java/org/apache/lucene/search/vectorhighlight/CustomFieldQuery.java
src/main/java/org/elasticsearch/common/lucene/docset/AllDocIdSet.java
src/main/java/org/elasticsearch/common/lucene/docset/AndDocIdSet.java
src/main/java/org/elasticsearch/common/lucene/docset/AndDocSet.java
src/main/java/org/elasticsearch/common/lucene/docset/BitsDocIdSetIterator.java
src/main/java/org/elasticsearch/common/lucene/docset/DocIdSetCollector.java
src/main/java/org/elasticsearch/common/lucene/docset/DocIdSets.java
src/main/java/org/elasticsearch/common/lucene/docset/DocSets.java
src/main/java/org/elasticsearch/common/lucene/docset/GetDocSet.java
src/main/java/org/elasticsearch/common/lucene/docset/MatchDocIdSet.java
src/main/java/org/elasticsearch/common/lucene/docset/MatchDocIdSetIterator.java
src/main/java/org/elasticsearch/common/lucene/docset/NotDocIdSet.java
src/main/java/org/elasticsearch/common/lucene/docset/NotDocSet.java
src/main/java/org/elasticsearch/common/lucene/docset/OpenBitDocSet.java
src/main/java/org/elasticsearch/common/lucene/docset/OrDocIdSet.java
src/main/java/org/elasticsearch/common/lucene/docset/OrDocSet.java
src/main/java/org/elasticsearch/common/lucene/search/AndFilter.java
src/main/java/org/elasticsearch/common/lucene/search/DeletionAwareConstantScoreQuery.java
src/main/java/org/elasticsearch/common/lucene/search/FilteredCollector.java
src/main/java/org/elasticsearch/common/lucene/search/LimitFilter.java
src/main/java/org/elasticsearch/common/lucene/search/MatchAllDocsFilter.java
src/main/java/org/elasticsearch/common/lucene/search/NotDeletedFilter.java
src/main/java/org/elasticsearch/common/lucene/search/NotFilter.java
src/main/java/org/elasticsearch/common/lucene/search/OrFilter.java
src/main/java/org/elasticsearch/common/lucene/search/ShardFieldDocSortedHitQueue.java
src/main/java/org/elasticsearch/common/lucene/search/XBooleanFilter.java
src/main/java/org/elasticsearch/common/lucene/search/XTermsFilter.java
src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
src/main/java/org/elasticsearch/common/lucene/spatial/prefix/TermQueryPrefixTreeStrategy.java
src/main/java/org/elasticsearch/index/aliases/IndexAliasesService.java
src/main/java/org/elasticsearch/index/cache/filter/weighted/WeightedFilterCache.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/percolator/PercolatorService.java
src/main/java/org/elasticsearch/index/query/BoolFilterParser.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
src/main/java/org/elasticsearch/index/query/MissingFilterParser.java
src/main/java/org/elasticsearch/index/query/NestedFilterParser.java
src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
src/main/java/org/elasticsearch/index/query/ScriptFilterParser.java
src/main/java/org/elasticsearch/index/query/TermsFilterParser.java
src/main/java/org/elasticsearch/index/search/NumericRangeFieldDataFilter.java
src/main/java/org/elasticsearch/index/search/child/HasChildFilter.java
src/main/java/org/elasticsearch/index/search/child/HasParentFilter.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceFilter.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeFilter.java
src/main/java/org/elasticsearch/index/search/geo/GeoPolygonFilter.java
src/main/java/org/elasticsearch/index/search/geo/InMemoryGeoBoundingBoxFilter.java
src/main/java/org/elasticsearch/index/search/geo/IndexedGeoBoundingBoxFilter.java
src/main/java/org/elasticsearch/index/search/nested/BlockJoinQuery.java
src/main/java/org/elasticsearch/index/search/nested/IncludeNestedDocsQuery.java
src/main/java/org/elasticsearch/index/search/nested/NestedChildrenCollector.java
src/main/java/org/elasticsearch/index/search/nested/NonNestedDocsFilter.java
src/main/java/org/elasticsearch/indices/cache/filter/IndicesFilterCache.java
src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
src/main/java/org/elasticsearch/search/facet/AbstractFacetCollector.java
src/main/java/org/elasticsearch/search/facet/FacetPhase.java
src/main/java/org/elasticsearch/search/facet/filter/FilterFacetCollector.java
src/main/java/org/elasticsearch/search/facet/query/QueryFacetCollector.java
src/main/java/org/elasticsearch/search/fetch/matchedfilters/MatchedFiltersFetchSubPhase.java
src/main/java/org/elasticsearch/search/internal/SearchContext.java
src/main/java/org/elasticsearch/search/scan/ScanContext.java
src/test/java/org/elasticsearch/test/unit/common/lucene/search/MatchAllDocsFilterTests.java
src/test/java/org/elasticsearch/test/unit/common/lucene/search/TermsFilterTests.java
src/test/java/org/elasticsearch/test/unit/index/aliases/IndexAliasesServiceTests.java
src/test/java/org/elasticsearch/test/unit/index/cache/filter/FilterCacheTests.java
comments:
cleanup docsets
- remove the DocSet abstraction, and use Bits where we can by getting it from DocIdSet
- better handling of acceptDocs, though still need to properly apply them when caching is involved

time:
2012-11-24T13:02:58Z
class:
src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
src/test/java/org/elasticsearch/test/integration/indices/mapping/UpdateMappingTests.java
src/test/java/org/elasticsearch/test/unit/index/mapper/source/DefaultSourceMappingTests.java
src/test/java/org/elasticsearch/test/unit/index/query/SimpleIndexQueryParserTests.java
comments:
fix sporadically disappearing fields during concurrent dynamic mapping updates

time:
2012-11-23T14:14:30Z
class:
src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
src/main/java/org/elasticsearch/cluster/routing/GroupShardsIterator.java
src/main/java/org/elasticsearch/cluster/routing/IllegalShardRoutingStateException.java
src/main/java/org/elasticsearch/cluster/routing/ImmutableShardRouting.java
src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
src/main/java/org/elasticsearch/cluster/routing/MutableShardRouting.java
src/main/java/org/elasticsearch/cluster/routing/PlainShardIterator.java
src/main/java/org/elasticsearch/cluster/routing/PlainShardsIterator.java
src/main/java/org/elasticsearch/cluster/routing/RoutingBuilders.java
src/main/java/org/elasticsearch/cluster/routing/RoutingException.java
src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java
src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
src/main/java/org/elasticsearch/cluster/routing/RoutingTableValidation.java
src/main/java/org/elasticsearch/cluster/routing/RoutingValidationException.java
src/main/java/org/elasticsearch/cluster/routing/ShardIterator.java
src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
src/main/java/org/elasticsearch/cluster/routing/ShardRoutingState.java
src/main/java/org/elasticsearch/cluster/routing/ShardsIterator.java
src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationExplanation.java
src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationModule.java
src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
src/main/java/org/elasticsearch/cluster/routing/allocation/FailedRerouteAllocation.java
src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
src/main/java/org/elasticsearch/cluster/routing/allocation/StartedRerouteAllocation.java
src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/EvenShardsCountAllocator.java
src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/GatewayAllocator.java
src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocator.java
src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocators.java
src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateAllocationCommand.java
src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommand.java
src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommands.java
src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
src/main/java/org/elasticsearch/cluster/routing/allocation/command/MoveAllocationCommand.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AllocationDecider.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AllocationDeciders.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AllocationDecidersModule.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ClusterRebalanceAllocationDecider.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ConcurrentRebalanceAllocationDecider.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/Decision.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DisableAllocationDecider.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/FilterAllocationDecider.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/SameShardAllocationDecider.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ShardsLimitAllocationDecider.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ThrottlingAllocationDecider.java
src/main/java/org/elasticsearch/cluster/routing/operation/hash/HashFunction.java
src/main/java/org/elasticsearch/cluster/routing/operation/hash/djb/DjbHashFunction.java
src/main/java/org/elasticsearch/cluster/routing/operation/hash/simple/SimpleHashFunction.java
comments:
Add basic javadocs for o.e.cluster.rounting package and related classes

time:
2012-11-23T09:11:30Z
class:
src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
src/main/java/org/elasticsearch/index/analysis/KeepWordFilterFactory.java
src/test/java/org/elasticsearch/test/unit/index/analysis/AnalysisTestsHelper.java
src/test/java/org/elasticsearch/test/unit/index/analysis/KeepFilterFactoryTests.java
comments:
 #2436 expose KeepWordTokenFilter by default

time:
2012-11-23T08:54:02Z
class:
src/main/java/org/elasticsearch/index/analysis/Analysis.java
src/test/java/org/elasticsearch/test/unit/index/analysis/StopAnalyzerTests.java
comments:
Fix handling of stop word _lang_ notation

Fixes #2412

time:
2012-11-22T14:55:25Z
class:
src/main/java/org/elasticsearch/threadpool/ThreadPool.java
src/main/java/org/elasticsearch/threadpool/ThreadPoolStats.java
comments:
add completed count to thread pools

time:
2012-11-22T14:14:02Z
class:
src/test/java/org/elasticsearch/test/integration/codecs/CodecTests.java
src/test/java/org/elasticsearch/test/integration/search/query/SimpleQueryTests.java
comments:
fix failed test that were using the wrong form match query

time:
2012-11-22T13:44:03Z
class:
src/test/java/org/elasticsearch/test/integration/codecs/CodecTests.java
src/test/java/org/elasticsearch/test/integration/search/query/SimpleQueryTests.java
comments:
fix failed test that were using the wrong form match query

time:
2012-11-22T09:23:48Z
class:
src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
comments:
Match query should fail when trying to provide several fields in its simplified form
fixes #2432

time:
2012-11-22T09:13:29Z
class:
src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
src/main/java/org/elasticsearch/index/search/MatchQuery.java
src/test/java/org/elasticsearch/test/integration/search/query/SimpleQueryTests.java
comments:
Added control over Query used by MatchQuery with there are zero terms after analysis

time:
2012-11-21T23:31:57Z
class:
src/main/java/org/elasticsearch/indices/recovery/RecoverySource.java
comments:
conservative timeouts on internal recovery actions
safe guards against cases where intenral recovery actions take too long (possibly due to a bug)

time:
2012-11-21T19:45:31Z
class:
src/main/java/org/elasticsearch/common/io/FileSystemUtils.java
src/main/java/org/elasticsearch/indices/store/IndicesStore.java
comments:
only log that we delete unused shard if it exists

time:
2012-11-21T12:44:54Z
class:
src/main/java/org/elasticsearch/node/settings/NodeSettingsService.java
comments:
Setting logger levels using cluster update settings does not work
fixes #2428

time:
2012-11-21T10:48:24Z
class:
comments:
Moved to 1.2.0-SNAPSHOT for next development.

time:
2012-11-21T10:03:09Z
class:
comments:
Release 1.1.0

time:
2012-11-20T23:44:59Z
class:
src/main/java/org/elasticsearch/index/engine/robin/RobinEngine.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/Mapper.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/BoostFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SizeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/similarity/AbstractSimilarityProvider.java
src/main/java/org/elasticsearch/index/similarity/BM25SimilarityProvider.java
src/main/java/org/elasticsearch/index/similarity/DFRSimilarityProvider.java
src/main/java/org/elasticsearch/index/similarity/DefaultSimilarityProvider.java
src/main/java/org/elasticsearch/index/similarity/IBSimilarityProvider.java
src/main/java/org/elasticsearch/index/similarity/PreBuiltSimilarityProvider.java
src/main/java/org/elasticsearch/index/similarity/Similarities.java
src/main/java/org/elasticsearch/index/similarity/SimilarityLookupService.java
src/main/java/org/elasticsearch/index/similarity/SimilarityModule.java
src/main/java/org/elasticsearch/index/similarity/SimilarityProvider.java
src/main/java/org/elasticsearch/index/similarity/SimilarityProviderFactory.java
src/main/java/org/elasticsearch/index/similarity/SimilarityService.java
src/main/java/org/elasticsearch/search/SearchService.java
src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
src/test/java/org/elasticsearch/test/integration/similarity/SimilarityTests.java
src/test/java/org/elasticsearch/test/unit/index/codec/CodecTests.java
src/test/java/org/elasticsearch/test/unit/index/engine/robin/SimpleRobinEngineTests.java
src/test/java/org/elasticsearch/test/unit/index/mapper/MapperTests.java
src/test/java/org/elasticsearch/test/unit/index/similarity/SimilarityTests.java
comments:
Add per-field Similarity support

time:
2012-11-19T16:40:13Z
class:
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/FieldMapperListener.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/MergeContext.java
src/main/java/org/elasticsearch/index/mapper/ObjectMapperListener.java
src/main/java/org/elasticsearch/index/mapper/ParseContext.java
src/main/java/org/elasticsearch/index/mapper/multifield/MultiFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
comments:
second phase at optimizing merging/parsing large new mappings
apply the new mappings only after the parsing/merging of a full doc/mapping is done

time:
2012-11-19T16:13:45Z
class:
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/FieldMapperListener.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/ObjectMapperListener.java
src/main/java/org/elasticsearch/index/mapper/multifield/MultiFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
comments:
first phase at optimizing merging large mappings
bulk them the same level ones when traversing and introduce them

time:
2012-11-19T15:16:35Z
class:
src/main/java/org/elasticsearch/action/bulk/BulkProcessor.java
src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
comments:
allow to associate a payload with bulk requests

time:
2012-11-19T14:08:23Z
class:
src/main/java/org/elasticsearch/index/analysis/KuromojiAnalysisBinderProcessor.java
src/main/java/org/elasticsearch/plugin/analysis/kuromoji/AnalysisKuromojiPlugin.java
comments:
- TokenFilters and Tokenizers are loaded via the original (more maintainable) way as was in the previous commit.

