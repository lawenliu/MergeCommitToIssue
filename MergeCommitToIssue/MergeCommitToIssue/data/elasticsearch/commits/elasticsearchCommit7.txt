time:
2016-06-24T13:46:55Z
class:
core/src/test/java/org/elasticsearch/common/lucene/LuceneTests.java
modules/percolator/src/main/java/org/elasticsearch/percolator/ExtractQueryTermsService.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolateQuery.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolateQueryBuilder.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolatorFieldMapper.java
modules/percolator/src/test/java/org/elasticsearch/percolator/ExtractQueryTermsServiceTests.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolateQueryTests.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorFieldMapperTests.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorQuerySearchIT.java
comments:
percolator: Don't verify candidate matches with MemoryIndex that are verified matches

If we don't care about scoring then for certain candidate matches we can be certain, that if they are a candidate match,
then they will always match. So verifying these queries with the MemoryIndex can be skipped.

time:
2016-06-24T09:49:28Z
class:
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTests.java
comments:
Make parsing of bool queries stricter

Currently we don't throw an error when there is more than one query clause
specified in a must/must_not/should/filter object of the bool query without
using array notation, e.g.:
 { "bool" : { "must" : { "match" : { ... }, "match": { ... }}}}

In these cases, only the first query will be parsed and further behaviour is
unspecified, possibly leading to silently ignoring the rest of the query.
Instead we should throw a ParsingException if we don't encounter an END_OBJECT
token after having parsed the query clause.

time:
2016-06-24T09:12:01Z
class:
comments:
Merge remote-tracking branch 'origin/master'

time:
2016-06-24T08:58:33Z
class:
comments:
Add a how-to section to the docs. #18998

This moves the "Performance Considerations for Elasticsearch Indexing" blog post
to the reference guide and adds similar recommendations for tuning disk usage
and search speed.

time:
2016-06-24T08:58:29Z
class:
plugins/repository-gcs/src/main/java/org/elasticsearch/repositories/gcs/GoogleCloudStorageRepository.java
comments:
Remove settings filtering for service_account in GCS repository

Related to #18945 and to this https://github.com/elastic/elasticsearch/commit/35d3bdab84fa05c71e8ae019aaf661759c8b1622#commitcomment-17914150

In GCS Repository plugin we defined a `service_account` setting which is defined as `Property.Filtered`.
It's not needed as it's only a path to a file.

Closes #18946

time:
2016-06-23T20:53:54Z
class:
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
comments:
[TEST] Port testcase from #19035 to master

time:
2016-06-23T18:46:45Z
class:
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/test/java/org/elasticsearch/index/seqno/CheckpointsIT.java
core/src/test/java/org/elasticsearch/indices/cluster/AbstractIndicesClusterStateServiceTestCase.java
core/src/test/java/org/elasticsearch/indices/cluster/IndicesClusterStateServiceRandomUpdatesTests.java
comments:
fix CheckpointsIT

time:
2016-06-23T16:57:16Z
class:
comments:
Merge pull request #19048 from karmi/fix_rollover_integration_test

Fixed incorrect indentation in the YAML integration test for the "Rollover" API

time:
2016-06-23T16:46:48Z
class:
comments:
Merge pull request #19050 from areek/fix/rollover_rest_api_spec

Remove extra brace from rollover rest api spec

time:
2016-06-23T16:37:04Z
class:
comments:
remove extra brace from rollover rest api spec

time:
2016-06-23T16:13:52Z
class:
comments:
Fixed incorrect indentation in the YAML integration test for the "Rollover" API

time:
2016-06-23T16:10:06Z
class:
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/test/java/org/elasticsearch/action/admin/indices/exists/IndicesExistsIT.java
core/src/test/java/org/elasticsearch/cluster/block/ClusterBlockTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IpRangeIT.java
comments:
Merge branch 'master' into feature/seq_no

* master:
  [TEST] Add ensureGreen for IpRangeIT
  Fix block checks when no indices are specified (#19047)
  Update SHA for JNA dependency

time:
2016-06-23T15:58:10Z
class:
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IpRangeIT.java
comments:
[TEST] Add ensureGreen for IpRangeIT

Resolves #18584

time:
2016-06-23T15:52:11Z
class:
benchmarks/src/main/java/org/elasticsearch/benchmark/routing/allocation/AllocationBenchmark.java
benchmarks/src/main/java/org/elasticsearch/benchmark/routing/allocation/Allocators.java
buildSrc/src/main/java/org/elasticsearch/test/NamingConventionsCheck.java
buildSrc/src/test/java/org/elasticsearch/test/NamingConventionsCheckBadClasses.java
client/rest/src/main/java/org/elasticsearch/client/DeadHostState.java
client/rest/src/main/java/org/elasticsearch/client/HttpDeleteWithEntity.java
client/rest/src/main/java/org/elasticsearch/client/HttpGetWithEntity.java
client/rest/src/main/java/org/elasticsearch/client/RequestLogger.java
client/rest/src/main/java/org/elasticsearch/client/Response.java
client/rest/src/main/java/org/elasticsearch/client/ResponseException.java
client/rest/src/main/java/org/elasticsearch/client/RestClient.java
client/rest/src/test/java/org/elasticsearch/client/CloseableBasicHttpResponse.java
client/rest/src/test/java/org/elasticsearch/client/RequestLoggerTests.java
client/rest/src/test/java/org/elasticsearch/client/RestClientBuilderTests.java
client/rest/src/test/java/org/elasticsearch/client/RestClientIntegTests.java
client/rest/src/test/java/org/elasticsearch/client/RestClientMultipleHostsTests.java
client/rest/src/test/java/org/elasticsearch/client/RestClientSingleHostTests.java
client/rest/src/test/java/org/elasticsearch/client/TrackingFailureListener.java
client/sniffer/src/main/java/org/elasticsearch/client/sniff/HostsSniffer.java
client/sniffer/src/main/java/org/elasticsearch/client/sniff/SniffOnFailureListener.java
client/sniffer/src/main/java/org/elasticsearch/client/sniff/Sniffer.java
client/sniffer/src/test/java/org/elasticsearch/client/sniff/HostsSnifferBuilderTests.java
client/sniffer/src/test/java/org/elasticsearch/client/sniff/HostsSnifferTests.java
client/sniffer/src/test/java/org/elasticsearch/client/sniff/MockHostsSniffer.java
client/sniffer/src/test/java/org/elasticsearch/client/sniff/SniffOnFailureListenerTests.java
client/sniffer/src/test/java/org/elasticsearch/client/sniff/SnifferBuilderTests.java
client/test/src/main/java/org/elasticsearch/client/RestClientTestCase.java
client/test/src/main/java/org/elasticsearch/client/RestClientTestUtil.java
core/src/main/java/org/apache/lucene/document/XInetAddressPoint.java
core/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java
core/src/main/java/org/apache/lucene/queries/MinDocQuery.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/elasticsearch/Build.java
core/src/main/java/org/elasticsearch/ResourceNotFoundException.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/ActionRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/LivenessResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/TransportLivenessAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/CancelTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/TransportCancelTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/GetTaskAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/GetTaskRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/GetTaskRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/GetTaskResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/TransportGetTaskAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/ListTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TaskGroup.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TransportListTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/TransportVerifyRepositoryAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexShardStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/RenderSearchTemplateRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/TransportRenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/Condition.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/MaxAgeCondition.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/MaxDocsCondition.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/TransportRolloverAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkRequest.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequest.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardRequest.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardResponse.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsAction.java
core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java
core/src/main/java/org/elasticsearch/action/get/TransportMultiGetAction.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/ingest/PutPipelineTransportAction.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateDocumentBaseResult.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateExecutionService.java
core/src/main/java/org/elasticsearch/action/ingest/SimulatePipelineRequest.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateProcessorResult.java
core/src/main/java/org/elasticsearch/action/ingest/TrackingResultProcessor.java
core/src/main/java/org/elasticsearch/action/ingest/WriteableIngestDocument.java
core/src/main/java/org/elasticsearch/action/main/MainResponse.java
core/src/main/java/org/elasticsearch/action/main/TransportMainAction.java
core/src/main/java/org/elasticsearch/action/search/AbstractSearchAsyncAction.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchResponse.java
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/search/SearchResponse.java
core/src/main/java/org/elasticsearch/action/search/TransportMultiSearchAction.java
core/src/main/java/org/elasticsearch/action/search/TransportSearchAction.java
core/src/main/java/org/elasticsearch/action/support/WriteRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/broadcast/BroadcastShardResponse.java
core/src/main/java/org/elasticsearch/action/support/master/AcknowledgedRequest.java
core/src/main/java/org/elasticsearch/action/support/master/MasterNodeRequest.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodesRequest.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodesResponse.java
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationOperation.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationTask.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/single/instance/InstanceShardOperationRequest.java
core/src/main/java/org/elasticsearch/action/support/tasks/BaseTasksRequest.java
core/src/main/java/org/elasticsearch/action/support/tasks/TasksRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/tasks/TransportTasksAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/bootstrap/JavaVersion.java
core/src/main/java/org/elasticsearch/client/ClusterAdminClient.java
core/src/main/java/org/elasticsearch/client/FilterClient.java
core/src/main/java/org/elasticsearch/client/IndicesAdminClient.java
core/src/main/java/org/elasticsearch/client/Requests.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/ClusterName.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/ClusterStateTaskExecutor.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeMappingRefreshAction.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodeService.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/Preference.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/service/ClusterService.java
core/src/main/java/org/elasticsearch/common/geo/GeoHashUtils.java
core/src/main/java/org/elasticsearch/common/geo/GeoPoint.java
core/src/main/java/org/elasticsearch/common/geo/GeoUtils.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/common/io/stream/Streamable.java
core/src/main/java/org/elasticsearch/common/io/stream/Writeable.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MatchNoDocsQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MoreLikeThisQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/network/NetworkModule.java
core/src/main/java/org/elasticsearch/common/rounding/TimeZoneRounding.java
core/src/main/java/org/elasticsearch/common/settings/AbstractScopedSettings.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/main/java/org/elasticsearch/common/settings/SettingsModule.java
core/src/main/java/org/elasticsearch/common/unit/TimeValue.java
core/src/main/java/org/elasticsearch/common/util/BigArrays.java
core/src/main/java/org/elasticsearch/common/xcontent/AbstractObjectParser.java
core/src/main/java/org/elasticsearch/common/xcontent/ConstructingObjectParser.java
core/src/main/java/org/elasticsearch/common/xcontent/ObjectParser.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/elect/ElectMasterService.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/NodesFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/ZenPing.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/gateway/Gateway.java
core/src/main/java/org/elasticsearch/gateway/GatewayModule.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/http/HttpServer.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/analysis/ASCIIFoldingTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ArabicNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CJKWidthFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/DecimalDigitFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ElisionTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/GermanNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/HindiNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/IndicNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LowerCaseTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LowerCaseTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/MappingCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/MultiTermAwareComponent.java
core/src/main/java/org/elasticsearch/index/analysis/PatternReplaceCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PersianNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SerbianNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SoraniNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/UpperCaseTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/cache/request/ShardRequestCache.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/LiveVersionMap.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexNumericFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/OrdinalsBuilder.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexGeoPointFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/SortedNumericDVIndexFieldData.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/Uid.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/KeywordFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TextFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/InnerHitBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryParser.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoPolygonQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/InMemoryGeoBoundingBoxQuery.java
core/src/main/java/org/elasticsearch/index/shard/CommitPoint.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/RefreshListeners.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/shard/StoreRecovery.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityService.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshot.java
comments:
Merge branch 'master' into feature/seq_no

* master: (416 commits)
  docs: removed obsolete information, percolator queries are not longer loaded into jvm heap memory.
  Upgrade JNA to 4.2.2 and remove optionality
  [TEST] Increase timeouts for Rest test client (#19042)
  Update migrate_5_0.asciidoc
  Add ThreadLeakLingering option to Rest client tests
  Add a MultiTermAwareComponent marker interface to analysis factories. #19028
  Attempt at fixing IndexStatsIT.testFilterCacheStats.
  Fix docs build.
  Move templates out of the Search API, into lang-mustache module
  revert - Inline reroute with process of node join/master election (#18938)
  Build valid slices in SearchSourceBuilderTests
  Docs: Convert aggs/misc to CONSOLE
  Docs: migration notes for _timestamp and _ttl
  Group client projects under :client
  [TEST] Add client-test module and make client tests use randomized runner directly
  Move upgrade test to upgrade from version 2.3.3
  Tasks: Add completed to the mapping
  Fail to start if plugin tries broken onModule
  Remove duplicated read byte array methods
  Rename `fields` to `stored_fields` and add `docvalue_fields`
  ...

time:
2016-06-23T15:52:09Z
class:
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/test/java/org/elasticsearch/action/admin/indices/exists/IndicesExistsIT.java
core/src/test/java/org/elasticsearch/cluster/block/ClusterBlockTests.java
comments:
Fix block checks when no indices are specified (#19047)

Global cluster blocks were not checked if an empty set of indices were passed as argument to the block checking method. This would lead to issues where some operations are already executed on a cluster before it has recovered its cluster state.

time:
2016-06-23T15:43:18Z
class:
comments:
Update SHA for JNA dependency

This commit updates the SHA for the JNA dependency. The JNA dependency
was upgraded from version 4.1.0 to version 4.2.2 in commit
7f101743629451c0ce115aa81e0577cee947d6f4 but the SHA was not updated.

time:
2016-06-23T13:32:26Z
class:
comments:
docs: removed obsolete information, percolator queries are not longer loaded into jvm heap memory.

time:
2016-06-23T13:21:40Z
class:
comments:
Upgrade JNA to 4.2.2 and remove optionality

This commit upgrades JNA from version 4.1.0 to 4.2.2. Additionally, this
dependency is now non-optional as JNA is dual-licensed with Apache
License 2.0 since JNA 4.0.0.

Relates #19045

time:
2016-06-23T12:05:56Z
class:
test/framework/src/main/java/org/elasticsearch/test/rest/client/RestTestClient.java
comments:
[TEST] Increase timeouts for Rest test client (#19042)

Some Rest / Doc tests were running into the default socket timeout of 10 seconds.

time:
2016-06-23T11:45:06Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDo.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SWhile.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicStatementTests.java
comments:
Merge pull request #19022 from rmuir/loopCounter

Fix disabled loop counter

time:
2016-06-23T11:10:50Z
class:
comments:
Update migrate_5_0.asciidoc

Updated breaking changes to state that upgraded indices still need to be reindexed,
and to mention the migration plugin

time:
2016-06-23T08:21:37Z
class:
client/test/src/main/java/org/elasticsearch/client/RestClientTestCase.java
comments:
Add ThreadLeakLingering option to Rest client tests

Some Rest tests use the Sun HTTP server which has lingering threads after shutdown. Similar to ESTestCase, this adds an
option to wait 5 seconds for these threads to terminate.

time:
2016-06-23T08:19:24Z
class:
core/src/main/java/org/elasticsearch/index/analysis/ASCIIFoldingTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ArabicNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CJKWidthFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/DecimalDigitFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ElisionTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/GermanNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/HindiNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/IndicNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LowerCaseTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LowerCaseTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/MappingCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/MultiTermAwareComponent.java
core/src/main/java/org/elasticsearch/index/analysis/PersianNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SerbianNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SoraniNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/UpperCaseTokenFilterFactory.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisFactoryTests.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuFoldingTokenFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuNormalizerCharFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuNormalizerTokenFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuTransformTokenFilterFactory.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/AnalysisICUFactoryTests.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiIterationMarkCharFilterFactory.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/AnalysisKuromojiFactoryTests.java
plugins/analysis-phonetic/src/test/java/org/elasticsearch/index/analysis/AnalysisPhoneticFactoryTests.java
plugins/analysis-smartcn/src/test/java/org/elasticsearch/index/analysis/AnalysisSmartChineseFactoryTests.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/AnalysisPolishFactoryTests.java
test/framework/src/main/java/org/elasticsearch/AnalysisFactoryTestCase.java
comments:
Add a MultiTermAwareComponent marker interface to analysis factories. #19028

This is the same as what Lucene does for its analysis factories, and we hawe
tests that make sure that the elasticsearch factories are in sync with
Lucene's. This is a first step to move forward on #9978 and #18064.

time:
2016-06-23T08:16:04Z
class:
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsIT.java
comments:
Attempt at fixing IndexStatsIT.testFilterCacheStats.

I suspect recent failures are due to the fact that the cache disables itself
when there is contention. This runs assertions in an assertBusy block since
they should eventually succeed.

time:
2016-06-23T07:44:33Z
class:
comments:
Fix docs build.

time:
2016-06-23T07:30:53Z
class:
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/RenderSearchTemplateRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/TransportRenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/client/ClusterAdminClient.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/common/network/NetworkModule.java
core/src/main/java/org/elasticsearch/common/xcontent/ObjectParser.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/storedscripts/RestPutStoredScriptAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/validate/template/RestRenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/rest/action/search/RestMultiSearchAction.java
core/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/internal/ShardSearchLocalRequest.java
core/src/main/java/org/elasticsearch/search/internal/ShardSearchRequest.java
core/src/main/java/org/elasticsearch/search/internal/ShardSearchTransportRequest.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
core/src/test/java/org/elasticsearch/common/network/NetworkModuleTests.java
core/src/test/java/org/elasticsearch/index/SearchSlowLogTests.java
core/src/test/java/org/elasticsearch/script/StoredScriptsIT.java
modules/lang-mustache/src/main/java/org/elasticsearch/action/search/template/MultiSearchTemplateAction.java
modules/lang-mustache/src/main/java/org/elasticsearch/action/search/template/MultiSearchTemplateRequest.java
modules/lang-mustache/src/main/java/org/elasticsearch/action/search/template/MultiSearchTemplateRequestBuilder.java
modules/lang-mustache/src/main/java/org/elasticsearch/action/search/template/MultiSearchTemplateResponse.java
modules/lang-mustache/src/main/java/org/elasticsearch/action/search/template/SearchTemplateAction.java
modules/lang-mustache/src/main/java/org/elasticsearch/action/search/template/SearchTemplateRequest.java
modules/lang-mustache/src/main/java/org/elasticsearch/action/search/template/SearchTemplateRequestBuilder.java
modules/lang-mustache/src/main/java/org/elasticsearch/action/search/template/SearchTemplateResponse.java
modules/lang-mustache/src/main/java/org/elasticsearch/action/search/template/TransportMultiSearchTemplateAction.java
modules/lang-mustache/src/main/java/org/elasticsearch/action/search/template/TransportSearchTemplateAction.java
modules/lang-mustache/src/main/java/org/elasticsearch/rest/action/search/template/RestDeleteSearchTemplateAction.java
modules/lang-mustache/src/main/java/org/elasticsearch/rest/action/search/template/RestGetSearchTemplateAction.java
modules/lang-mustache/src/main/java/org/elasticsearch/rest/action/search/template/RestMultiSearchTemplateAction.java
modules/lang-mustache/src/main/java/org/elasticsearch/rest/action/search/template/RestPutSearchTemplateAction.java
modules/lang-mustache/src/main/java/org/elasticsearch/rest/action/search/template/RestRenderSearchTemplateAction.java
modules/lang-mustache/src/main/java/org/elasticsearch/rest/action/search/template/RestSearchTemplateAction.java
modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MustachePlugin.java
modules/lang-mustache/src/test/java/org/elasticsearch/action/search/template/MultiSearchTemplateIT.java
modules/lang-mustache/src/test/java/org/elasticsearch/action/search/template/MultiSearchTemplateRequestTests.java
modules/lang-mustache/src/test/java/org/elasticsearch/action/search/template/SearchTemplateRequestTests.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/RenderSearchTemplateTests.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/TemplateQueryTests.java
test/framework/src/main/java/org/elasticsearch/search/MockSearchService.java
comments:
Move templates out of the Search API, into lang-mustache module

This commit moves template support out of the Search API to its own dedicated Search Template API in the lang-mustache module. It provides a new SearchTemplateAction that can be used to render templates before it gets delegated to the usual Search API. The current REST endpoint are identical, but the Render Search Template endpoint now uses the same Search Template API with a new "simulate" option. When this option is enabled, the Search Template API only renders template and returns immediatly, without executing the search.

Closes #17906

time:
2016-06-23T06:41:44Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/discovery/Discovery.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/test/NoopDiscovery.java
comments:
revert - Inline reroute with process of node join/master election (#18938)

There are secondary issues with async shard fetch going out to nodes before they have a cluster state published to them that need to be solved first. For example:
- async fetch uses transport node action that resolves nodes based on the cluster state (but it's not yet exposed by ClusterService since we inline the reroute)
- after disruption nodes will respond with an allocated shard (they didn't clean up their shards yet) which throws of decisions master side.
- nodes deed the index meta data in question but they may not have if they didn't recieve the latest CS

time:
2016-06-22T21:14:02Z
class:
comments:
Merge pull request #18981 from elastic/doc/ingest-foreach

Wrong name for values field

time:
2016-06-22T21:13:35Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/node/service/NodeService.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/info/RestNodesInfoAction.java
core/src/test/java/org/elasticsearch/nodesinfo/NodeInfoStreamingTests.java
core/src/test/java/org/elasticsearch/nodesinfo/SimpleNodesInfoIT.java
comments:
Merge pull request #18914 from mikemccand/node_info_indexing_buffer

Add total_indexing_buffer/_in_bytes to nodes info API

time:
2016-06-22T20:23:56Z
class:
client/rest/src/main/java/org/elasticsearch/client/DeadHostState.java
client/rest/src/main/java/org/elasticsearch/client/HttpDeleteWithEntity.java
client/rest/src/main/java/org/elasticsearch/client/HttpGetWithEntity.java
client/rest/src/main/java/org/elasticsearch/client/RequestLogger.java
client/rest/src/main/java/org/elasticsearch/client/Response.java
client/rest/src/main/java/org/elasticsearch/client/ResponseException.java
client/rest/src/main/java/org/elasticsearch/client/RestClient.java
client/rest/src/test/java/org/elasticsearch/client/CloseableBasicHttpResponse.java
client/rest/src/test/java/org/elasticsearch/client/RequestLoggerTests.java
client/rest/src/test/java/org/elasticsearch/client/RestClientBuilderTests.java
client/rest/src/test/java/org/elasticsearch/client/RestClientIntegTests.java
client/rest/src/test/java/org/elasticsearch/client/RestClientMultipleHostsTests.java
client/rest/src/test/java/org/elasticsearch/client/RestClientSingleHostTests.java
client/rest/src/test/java/org/elasticsearch/client/TrackingFailureListener.java
client/sniffer/src/main/java/org/elasticsearch/client/sniff/HostsSniffer.java
client/sniffer/src/main/java/org/elasticsearch/client/sniff/SniffOnFailureListener.java
client/sniffer/src/main/java/org/elasticsearch/client/sniff/Sniffer.java
client/sniffer/src/test/java/org/elasticsearch/client/sniff/HostsSnifferBuilderTests.java
client/sniffer/src/test/java/org/elasticsearch/client/sniff/HostsSnifferTests.java
client/sniffer/src/test/java/org/elasticsearch/client/sniff/MockHostsSniffer.java
client/sniffer/src/test/java/org/elasticsearch/client/sniff/SniffOnFailureListenerTests.java
client/sniffer/src/test/java/org/elasticsearch/client/sniff/SnifferBuilderTests.java
client/test/src/main/java/org/elasticsearch/client/RestClientTestCase.java
client/test/src/main/java/org/elasticsearch/client/RestClientTestUtil.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/index/query/InnerHitBuilder.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/query/InnerHitBuilderTests.java
core/src/test/java/org/elasticsearch/index/store/ExceptionRetryIT.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AbstractGeoTestCase.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
core/src/test/java/org/elasticsearch/search/source/SourceFetchingIT.java
core/src/test/java/org/elasticsearch/update/TimestampTTLBWIT.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/GeoDistanceTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchFieldsTests.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkByScrollRequest.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/SizeFieldMapperUpgradeTests.java
comments:
merge master

time:
2016-06-22T18:56:42Z
class:
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
comments:
Build valid slices in SearchSourceBuilderTests

The test had a 1 in 500 chance of building and invalid slice.

time:
2016-06-22T18:52:06Z
class:
comments:
Docs: Convert aggs/misc to CONSOLE

They should be more readable and tested during the build.

time:
2016-06-22T18:43:12Z
class:
comments:
Docs: migration notes for _timestamp and _ttl

We aren't able to actually create an index with _timestamp enabled
to test the migration, or, at least, we won't be able to after #18980
is re-merged. But the docs are still ok.

Closes #19007

time:
2016-06-22T18:26:41Z
class:
client/rest/src/main/java/org/elasticsearch/client/DeadHostState.java
client/rest/src/main/java/org/elasticsearch/client/HttpDeleteWithEntity.java
client/rest/src/main/java/org/elasticsearch/client/HttpGetWithEntity.java
client/rest/src/main/java/org/elasticsearch/client/RequestLogger.java
client/rest/src/main/java/org/elasticsearch/client/Response.java
client/rest/src/main/java/org/elasticsearch/client/ResponseException.java
client/rest/src/main/java/org/elasticsearch/client/RestClient.java
client/rest/src/test/java/org/elasticsearch/client/CloseableBasicHttpResponse.java
client/rest/src/test/java/org/elasticsearch/client/RequestLoggerTests.java
client/rest/src/test/java/org/elasticsearch/client/RestClientBuilderTests.java
client/rest/src/test/java/org/elasticsearch/client/RestClientIntegTests.java
client/rest/src/test/java/org/elasticsearch/client/RestClientMultipleHostsTests.java
client/rest/src/test/java/org/elasticsearch/client/RestClientSingleHostTests.java
client/rest/src/test/java/org/elasticsearch/client/TrackingFailureListener.java
client/sniffer/src/main/java/org/elasticsearch/client/sniff/HostsSniffer.java
client/sniffer/src/main/java/org/elasticsearch/client/sniff/SniffOnFailureListener.java
client/sniffer/src/main/java/org/elasticsearch/client/sniff/Sniffer.java
client/sniffer/src/test/java/org/elasticsearch/client/sniff/HostsSnifferBuilderTests.java
client/sniffer/src/test/java/org/elasticsearch/client/sniff/HostsSnifferTests.java
client/sniffer/src/test/java/org/elasticsearch/client/sniff/MockHostsSniffer.java
client/sniffer/src/test/java/org/elasticsearch/client/sniff/SniffOnFailureListenerTests.java
client/sniffer/src/test/java/org/elasticsearch/client/sniff/SnifferBuilderTests.java
client/test/src/main/java/org/elasticsearch/client/RestClientTestCase.java
client/test/src/main/java/org/elasticsearch/client/RestClientTestUtil.java
comments:
Group client projects under :client

:client ---------> :client:rest
:client-sniffer -> :client:sniffer
:client-test ----> :client:test

This lines the client up with how we do things like modules and
plugins.

time:
2016-06-22T17:38:10Z
class:
client-sniffer/src/test/java/org/elasticsearch/client/sniff/HostsSnifferBuilderTests.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/HostsSnifferTests.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/SniffOnFailureListenerTests.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/SnifferBuilderTests.java
client-test/src/main/java/org/elasticsearch/client/RestClientTestCase.java
client-test/src/main/java/org/elasticsearch/client/RestClientTestUtil.java
client/src/test/java/org/elasticsearch/client/CloseableBasicHttpResponse.java
client/src/test/java/org/elasticsearch/client/RequestLoggerTests.java
client/src/test/java/org/elasticsearch/client/RestClientBuilderTests.java
client/src/test/java/org/elasticsearch/client/RestClientIntegTests.java
client/src/test/java/org/elasticsearch/client/RestClientMultipleHostsTests.java
client/src/test/java/org/elasticsearch/client/RestClientSingleHostTests.java
comments:
Merge pull request #19030 from javanna/test/client-test

[TEST] Add client-test module and make client tests use randomized runner directly

time:
2016-06-22T17:37:08Z
class:
client-sniffer/src/test/java/org/elasticsearch/client/sniff/HostsSnifferBuilderTests.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/HostsSnifferTests.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/SniffOnFailureListenerTests.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/SnifferBuilderTests.java
client-test/src/main/java/org/elasticsearch/client/RestClientTestCase.java
client-test/src/main/java/org/elasticsearch/client/RestClientTestUtil.java
client/src/test/java/org/elasticsearch/client/CloseableBasicHttpResponse.java
client/src/test/java/org/elasticsearch/client/RequestLoggerTests.java
client/src/test/java/org/elasticsearch/client/RestClientBuilderTests.java
client/src/test/java/org/elasticsearch/client/RestClientIntegTests.java
client/src/test/java/org/elasticsearch/client/RestClientMultipleHostsTests.java
client/src/test/java/org/elasticsearch/client/RestClientSingleHostTests.java
comments:
[TEST] Add client-test module and make client tests use randomized runner directly

The lucene-test dependency caused issues with IDEs as they would always load the lucene 5 jar although they shouldn't have, which caused jarhell in es core tests.

If we depend directly on randomized runner we don't have this problem. It is luckily still compatible with java 1.7. This requires though adding a thin module that includes the base test class which can be shared between client and client-sniffer.

time:
2016-06-22T17:27:19Z
class:
comments:
Move upgrade test to upgrade from version 2.3.3

This commit moves the upgrade test to test upgrading from version 2.3.3
instead of from version 2.0.0.

Relates #19029

time:
2016-06-22T16:34:59Z
class:
comments:
Tasks: Add completed to the mapping

time:
2016-06-22T16:20:52Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
comments:
Fail to start if plugin tries broken onModule

If a plugin declares `onModule(SomethingThatIsntAModule)` then refuse
to start. Before this commit we just logged a warning that flies by in
the console and is easy to miss. You can't miss refusing to start!

time:
2016-06-22T15:56:04Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
comments:
Remove duplicated read byte array methods

This commit removes duplicated methods for reading byte arrays in
StreamInput. One method would read a byte array by repeatedly calling
StreamInput#readByte in a loop, and the other would just call
StreamInput#readBytes. In this commit, we remove the former.

Relates #19023

time:
2016-06-22T15:52:30Z
class:
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/index/query/InnerHitBuilder.java
core/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/query/InnerHitBuilderTests.java
core/src/test/java/org/elasticsearch/index/store/ExceptionRetryIT.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AbstractGeoTestCase.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
core/src/test/java/org/elasticsearch/search/source/SourceFetchingIT.java
core/src/test/java/org/elasticsearch/update/TimestampTTLBWIT.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/GeoDistanceTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchFieldsTests.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkByScrollRequest.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/SizeFieldMapperUpgradeTests.java
comments:
Merge pull request #18992 from jimferenczi/fields_rename

Rename `fields` to `stored_fields` and add `docvalue_fields`

time:
2016-06-22T15:38:30Z
class:
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/index/query/InnerHitBuilder.java
core/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/query/InnerHitBuilderTests.java
core/src/test/java/org/elasticsearch/index/store/ExceptionRetryIT.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AbstractGeoTestCase.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
core/src/test/java/org/elasticsearch/search/source/SourceFetchingIT.java
core/src/test/java/org/elasticsearch/update/TimestampTTLBWIT.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/GeoDistanceTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchFieldsTests.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkByScrollRequest.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/SizeFieldMapperUpgradeTests.java
comments:
Rename `fields` to `stored_fields` and add `docvalue_fields`

`stored_fields` parameter will no longer try to retrieve fields from the _source but will only return stored fields.
`fields` will throw an exception if the user uses it.
Add `docvalue_fields` as an adjunct to `fielddata_fields` which is deprecated. `docvalue_fields` will try to load the value from the docvalue and fallback to fielddata cache if docvalues are not enabled on that field.

Closes #18943

time:
2016-06-22T15:05:24Z
class:
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStats.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SeqNoFieldMapper.java
core/src/main/java/org/elasticsearch/index/seqno/GlobalCheckpointService.java
core/src/main/java/org/elasticsearch/index/seqno/LocalCheckpointService.java
core/src/main/java/org/elasticsearch/index/seqno/SequenceNumbersService.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/seqno/CheckpointsIT.java
core/src/test/java/org/elasticsearch/index/seqno/GlobalCheckpointTests.java
core/src/test/java/org/elasticsearch/index/seqno/LocalCheckpointServiceTests.java
comments:
Persist sequence number checkpoints

This commit adds persistence for local and global sequence number
checkpoints. We also recover the max sequence number in a shard,
although there will be loss here today from delete operations. This will
be addressed in a follow-up.

Relates #18949

time:
2016-06-22T14:04:33Z
class:
core/src/main/java/org/elasticsearch/node/service/NodeService.java
comments:
NodeService.indicesService is never null

time:
2016-06-22T13:54:40Z
class:
benchmarks/src/main/java/org/elasticsearch/benchmark/routing/allocation/AllocationBenchmark.java
buildSrc/src/main/java/org/elasticsearch/test/NamingConventionsCheck.java
client-sniffer/src/main/java/org/elasticsearch/client/sniff/HostsSniffer.java
client-sniffer/src/main/java/org/elasticsearch/client/sniff/SniffOnFailureListener.java
client-sniffer/src/main/java/org/elasticsearch/client/sniff/Sniffer.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/HostsSnifferBuilderTests.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/HostsSnifferTests.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/MockHostsSniffer.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/SniffOnFailureListenerTests.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/SnifferBuilderTests.java
client/src/main/java/org/elasticsearch/client/DeadHostState.java
client/src/main/java/org/elasticsearch/client/HttpDeleteWithEntity.java
client/src/main/java/org/elasticsearch/client/HttpGetWithEntity.java
client/src/main/java/org/elasticsearch/client/RequestLogger.java
client/src/main/java/org/elasticsearch/client/Response.java
client/src/main/java/org/elasticsearch/client/ResponseException.java
client/src/main/java/org/elasticsearch/client/RestClient.java
client/src/test/java/org/elasticsearch/client/CloseableBasicHttpResponse.java
client/src/test/java/org/elasticsearch/client/RequestLoggerTests.java
client/src/test/java/org/elasticsearch/client/RestClientBuilderTests.java
client/src/test/java/org/elasticsearch/client/RestClientIntegTests.java
client/src/test/java/org/elasticsearch/client/RestClientMultipleHostsTests.java
client/src/test/java/org/elasticsearch/client/RestClientSingleHostTests.java
client/src/test/java/org/elasticsearch/client/RestClientTestUtil.java
client/src/test/java/org/elasticsearch/client/TrackingFailureListener.java
core/src/main/java/org/elasticsearch/Build.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/LivenessResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/TransportLivenessAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/TransportCancelTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/TransportGetTaskAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TransportListTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/TransportVerifyRepositoryAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/Condition.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/MaxAgeCondition.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/MaxDocsCondition.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/TransportRolloverAction.java
core/src/main/java/org/elasticsearch/action/ingest/PutPipelineTransportAction.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateDocumentBaseResult.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateExecutionService.java
core/src/main/java/org/elasticsearch/action/ingest/SimulatePipelineRequest.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateProcessorResult.java
core/src/main/java/org/elasticsearch/action/ingest/TrackingResultProcessor.java
core/src/main/java/org/elasticsearch/action/ingest/WriteableIngestDocument.java
core/src/main/java/org/elasticsearch/action/main/MainResponse.java
core/src/main/java/org/elasticsearch/action/main/TransportMainAction.java
core/src/main/java/org/elasticsearch/action/search/AbstractSearchAsyncAction.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchResponse.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/search/TransportSearchAction.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodesResponse.java
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationOperation.java
core/src/main/java/org/elasticsearch/action/support/tasks/TransportTasksAction.java
core/src/main/java/org/elasticsearch/client/FilterClient.java
core/src/main/java/org/elasticsearch/client/IndicesAdminClient.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/ClusterName.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/ClusterStateTaskExecutor.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodeService.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/Preference.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/service/ClusterService.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/common/network/NetworkModule.java
core/src/main/java/org/elasticsearch/common/settings/AbstractScopedSettings.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/main/java/org/elasticsearch/common/settings/SettingsModule.java
core/src/main/java/org/elasticsearch/common/util/BigArrays.java
core/src/main/java/org/elasticsearch/discovery/Discovery.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/elect/ElectMasterService.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/NodesFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/ZenPing.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/env/NodeEnvironmentModule.java
core/src/main/java/org/elasticsearch/gateway/Gateway.java
core/src/main/java/org/elasticsearch/gateway/GatewayModule.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/LiveVersionMap.java
core/src/main/java/org/elasticsearch/index/mapper/core/KeywordFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TextFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/QueryParser.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityService.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/store/FsDirectoryService.java
core/src/main/java/org/elasticsearch/index/translog/ChannelFactory.java
core/src/main/java/org/elasticsearch/index/translog/Checkpoint.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/index/translog/TranslogWriter.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/indices/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/indices/breaker/CircuitBreakerModule.java
core/src/main/java/org/elasticsearch/indices/breaker/CircuitBreakerService.java
core/src/main/java/org/elasticsearch/indices/breaker/HierarchyCircuitBreakerService.java
core/src/main/java/org/elasticsearch/indices/store/IndicesStore.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/ingest/AbstractProcessor.java
core/src/main/java/org/elasticsearch/ingest/AbstractProcessorFactory.java
core/src/main/java/org/elasticsearch/ingest/CompoundProcessor.java
core/src/main/java/org/elasticsearch/ingest/ConfigurationUtils.java
core/src/main/java/org/elasticsearch/ingest/IngestDocument.java
core/src/main/java/org/elasticsearch/ingest/IngestInfo.java
core/src/main/java/org/elasticsearch/ingest/IngestService.java
core/src/main/java/org/elasticsearch/ingest/InternalTemplateService.java
core/src/main/java/org/elasticsearch/ingest/Pipeline.java
core/src/main/java/org/elasticsearch/ingest/PipelineExecutionService.java
core/src/main/java/org/elasticsearch/ingest/PipelineStore.java
core/src/main/java/org/elasticsearch/ingest/Processor.java
core/src/main/java/org/elasticsearch/ingest/ProcessorInfo.java
core/src/main/java/org/elasticsearch/ingest/ProcessorsRegistry.java
core/src/main/java/org/elasticsearch/ingest/TemplateService.java
core/src/main/java/org/elasticsearch/ingest/ValueSource.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/NodeModule.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/node/service/NodeService.java
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestRolloverIndexAction.java
core/src/main/java/org/elasticsearch/rest/action/support/RestActions.java
core/src/main/java/org/elasticsearch/script/CompiledScript.java
core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/script/ScriptSettings.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AbstractAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
core/src/main/java/org/elasticsearch/search/aggregations/PipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/BestBucketsDeferringCollector.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/AbstractPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/BucketHelpers.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorBuilders.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/avg/AvgBucketPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/max/MaxBucketPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/min/MinBucketPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/PercentilesBucketPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/StatsBucketPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/ExtendedStatsBucketParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/ExtendedStatsBucketPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/sum/SumBucketPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketselector/BucketSelectorPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/cumulativesum/CumulativeSumPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/DerivativePipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/EwmaModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltLinearModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltWintersModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/LinearModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/SimpleModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/script/ScriptFieldsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
core/src/main/java/org/elasticsearch/tasks/PersistedTaskInfo.java
core/src/main/java/org/elasticsearch/tasks/TaskManager.java
core/src/main/java/org/elasticsearch/threadpool/ExecutorBuilder.java
core/src/main/java/org/elasticsearch/threadpool/FixedExecutorBuilder.java
core/src/main/java/org/elasticsearch/threadpool/ScalingExecutorBuilder.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPoolModule.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/main/java/org/elasticsearch/transport/local/LocalTransport.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/main/java/org/elasticsearch/tribe/TribeClientNode.java
core/src/main/java/org/elasticsearch/tribe/TribeModule.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
core/src/main/java/org/elasticsearch/watcher/ResourceWatcherModule.java
core/src/main/java/org/joda/time/base/BaseDateTime.java
core/src/test/java/org/elasticsearch/BuildTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/CancellableTasksTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/RecordingTaskManagerListener.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TaskManagerTestCase.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TasksIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TestTaskPlugin.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TransportTasksActionTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/rollover/ConditionTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/rollover/RolloverIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/rollover/RolloverRequestTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/rollover/TransportRolloverActionTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/shrink/TransportShrinkActionTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
core/src/test/java/org/elasticsearch/action/bulk/TransportBulkActionTookTests.java
core/src/test/java/org/elasticsearch/action/ingest/IngestActionFilterTests.java
core/src/test/java/org/elasticsearch/action/ingest/SimulateDocumentSimpleResultTests.java
core/src/test/java/org/elasticsearch/action/ingest/SimulateExecutionServiceTests.java
core/src/test/java/org/elasticsearch/action/ingest/SimulatePipelineRequestParsingTests.java
core/src/test/java/org/elasticsearch/action/ingest/SimulatePipelineResponseTests.java
core/src/test/java/org/elasticsearch/action/ingest/SimulateProcessorResultTests.java
core/src/test/java/org/elasticsearch/action/ingest/TrackingResultProcessorTests.java
core/src/test/java/org/elasticsearch/action/ingest/WriteableIngestDocumentTests.java
core/src/test/java/org/elasticsearch/action/main/MainActionTests.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
core/src/test/java/org/elasticsearch/action/support/AutoCreateIndexTests.java
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/master/TransportMasterNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/nodes/TransportNodesActionTests.java
comments:
merge master

time:
2016-06-22T13:52:54Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/test/java/org/elasticsearch/nodesinfo/NodeInfoStreamingTests.java
comments:
don't include indexing buffer in cluster stats; randomize indexing buffer in NodeInfoStreamingTests; add @Nullable annotation

time:
2016-06-22T12:40:20Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDo.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SWhile.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicStatementTests.java
comments:
painless: fix disabled loop counter

time:
2016-06-22T11:37:58Z
class:
core/src/main/java/org/elasticsearch/tasks/PersistedTaskInfo.java
comments:
Add missing field to PersistedTaskInfo

time:
2016-06-22T10:41:38Z
class:
core/src/main/java/org/elasticsearch/action/search/AbstractSearchAsyncAction.java
core/src/main/java/org/elasticsearch/action/search/TransportSearchAction.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationOperation.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/LiveVersionMap.java
core/src/main/java/org/elasticsearch/tasks/TaskManager.java
comments:
Merge pull request #19016 from jasontedor/hot-methods-redux

Hot methods redux

time:
2016-06-22T10:39:52Z
class:
comments:
Changed path.script to path.scripts in docs

time:
2016-06-22T07:59:37Z
class:
buildSrc/src/main/java/org/elasticsearch/test/NamingConventionsCheck.java
client-sniffer/src/main/java/org/elasticsearch/client/sniff/HostsSniffer.java
client-sniffer/src/main/java/org/elasticsearch/client/sniff/SniffOnFailureListener.java
client-sniffer/src/main/java/org/elasticsearch/client/sniff/Sniffer.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/HostsSnifferBuilderTests.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/HostsSnifferTests.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/MockHostsSniffer.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/SniffOnFailureListenerTests.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/SnifferBuilderTests.java
client/src/main/java/org/elasticsearch/client/DeadHostState.java
client/src/main/java/org/elasticsearch/client/HttpDeleteWithEntity.java
client/src/main/java/org/elasticsearch/client/HttpGetWithEntity.java
client/src/main/java/org/elasticsearch/client/RequestLogger.java
client/src/main/java/org/elasticsearch/client/Response.java
client/src/main/java/org/elasticsearch/client/ResponseException.java
client/src/main/java/org/elasticsearch/client/RestClient.java
client/src/test/java/org/elasticsearch/client/CloseableBasicHttpResponse.java
client/src/test/java/org/elasticsearch/client/RequestLoggerTests.java
client/src/test/java/org/elasticsearch/client/RestClientBuilderTests.java
client/src/test/java/org/elasticsearch/client/RestClientIntegTests.java
client/src/test/java/org/elasticsearch/client/RestClientMultipleHostsTests.java
client/src/test/java/org/elasticsearch/client/RestClientSingleHostTests.java
client/src/test/java/org/elasticsearch/client/RestClientTestUtil.java
client/src/test/java/org/elasticsearch/client/TrackingFailureListener.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpCompressionIT.java
core/src/test/java/org/elasticsearch/options/detailederrors/DetailedErrorsDisabledIT.java
core/src/test/java/org/elasticsearch/options/detailederrors/DetailedErrorsEnabledIT.java
core/src/test/java/org/elasticsearch/plugins/ResponseHeaderPluginIT.java
core/src/test/java/org/elasticsearch/rest/CorsNotSetIT.java
core/src/test/java/org/elasticsearch/rest/CorsRegexIT.java
core/src/test/java/org/elasticsearch/rest/action/main/RestMainActionIT.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
test/framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
test/framework/src/main/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
test/framework/src/main/java/org/elasticsearch/test/hamcrest/ElasticsearchMatchers.java
test/framework/src/main/java/org/elasticsearch/test/rest/ESRestTestCase.java
test/framework/src/main/java/org/elasticsearch/test/rest/RestTestExecutionContext.java
test/framework/src/main/java/org/elasticsearch/test/rest/Stash.java
test/framework/src/main/java/org/elasticsearch/test/rest/client/RestTestClient.java
test/framework/src/main/java/org/elasticsearch/test/rest/client/RestTestResponse.java
test/framework/src/main/java/org/elasticsearch/test/rest/client/http/HttpRequestBuilder.java
test/framework/src/main/java/org/elasticsearch/test/rest/client/http/HttpResponse.java
test/framework/src/main/java/org/elasticsearch/test/rest/section/DoSection.java
comments:
Merge pull request #18735 from javanna/feature/http_client

Low level Rest Client

time:
2016-06-22T07:50:07Z
class:
core/src/main/java/org/elasticsearch/Build.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/TransportGetTaskAction.java
core/src/main/java/org/elasticsearch/action/ingest/TrackingResultProcessor.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/index/mapper/core/KeywordFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TextFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
core/src/main/java/org/elasticsearch/index/translog/ChannelFactory.java
core/src/main/java/org/elasticsearch/index/translog/Checkpoint.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/index/translog/TranslogWriter.java
core/src/main/java/org/elasticsearch/ingest/ConfigurationUtils.java
core/src/main/java/org/elasticsearch/ingest/Pipeline.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/script/ScriptSettings.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsFetchSubPhase.java
core/src/main/java/org/elasticsearch/tasks/PersistedTaskInfo.java
core/src/test/java/org/elasticsearch/BuildTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TasksIT.java
core/src/test/java/org/elasticsearch/action/ingest/SimulateExecutionServiceTests.java
core/src/test/java/org/elasticsearch/action/ingest/TrackingResultProcessorTests.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java
core/src/test/java/org/elasticsearch/cluster/SpecificMasterNodesIT.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/StringMappingUpgradeTests.java
core/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/typelevels/ParseMappingTypeLevelTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterIT.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/ingest/PipelineFactoryTests.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregatorParsingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/BaseAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramIT.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/FieldSortIT.java
core/src/test/java/org/elasticsearch/tasks/PersistedTaskInfoTests.java
core/src/test/java/org/elasticsearch/timestamp/SimpleTimestampIT.java
core/src/test/java/org/elasticsearch/ttl/SimpleTTLIT.java
core/src/test/java/org/elasticsearch/update/TimestampTTLBWIT.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchFieldsTests.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/TemplateQueryParserTests.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Augmentation.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/FunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserBaseVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECapturingFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ELambda.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EListInit.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EMapInit.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCallInvoke.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SEach.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFunction.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/package-info.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/AugmentationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/FunctionRefTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/InitializerTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/LambdaTests.java
modules/percolator/src/main/java/org/elasticsearch/percolator/MultiPercolateAction.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolateAction.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolatorFieldMapper.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolatorPlugin.java
modules/percolator/src/test/java/org/elasticsearch/percolator/MultiPercolatorIT.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolateQueryBuilderTests.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorAggregationsIT.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorBackwardsCompatibilityTests.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorHighlightSubFetchPhaseTests.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorQuerySearchIT.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorTestUtil.java
test/framework/src/main/java/org/elasticsearch/test/AbstractQueryTestCase.java
test/framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
test/framework/src/main/java/org/elasticsearch/test/ESTestCase.java
comments:
Merge branch 'master' into feature/http_client

time:
2016-06-22T07:34:49Z
class:
comments:
Fix doc build.

time:
2016-06-22T06:35:54Z
class:
core/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java
core/src/test/java/org/elasticsearch/cluster/SpecificMasterNodesIT.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/typelevels/ParseMappingTypeLevelTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterIT.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramIT.java
core/src/test/java/org/elasticsearch/search/sort/FieldSortIT.java
core/src/test/java/org/elasticsearch/timestamp/SimpleTimestampIT.java
core/src/test/java/org/elasticsearch/ttl/SimpleTTLIT.java
core/src/test/java/org/elasticsearch/update/TimestampTTLBWIT.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchFieldsTests.java
test/framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
comments:
Remove `_timestamp` and `_ttl` on 5.x indices. #18980

This removes the ability to use `_timestamp` and `_ttl` on indices created on
or after 5.0.

Closes #18280

time:
2016-06-22T06:29:50Z
class:
comments:
docs: added note the inner hits migrate section

time:
2016-06-22T05:50:39Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/plugins/MapperPlugin.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapperPlugin.java
core/src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapperTests.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregatorParsingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/BaseAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/TemplateQueryParserTests.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolatorPlugin.java
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/MapperAttachmentsPlugin.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/AttachmentUnitTestCase.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/plugin/mapper/MapperMurmur3Plugin.java
plugins/mapper-size/src/main/java/org/elasticsearch/plugin/mapper/MapperSizePlugin.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/SizeMappingTests.java
test/framework/src/main/java/org/elasticsearch/index/MapperTestUtils.java
test/framework/src/main/java/org/elasticsearch/test/AbstractQueryTestCase.java
test/framework/src/main/java/org/elasticsearch/test/ESTestCase.java
comments:
Plugins: Remove guice from Mapper plugins

This changes adds a MapperPlugin interface which allows pull style
retrieval of mappers and metadata mappers added by plugins. For now, I
have kept the MapperRegistry, but this should be removed in the future
as it is just a silly container for 2 maps which could themselves be
passed around.

time:
2016-06-22T01:28:00Z
class:
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/LiveVersionMap.java
comments:
Refactor InternalEngine inner methods

This commit refactors InternalEngine#innerIndex and
InternalEngine#innerDelete to collapse some common logic into a single
method. This has the advantage that it shrinks the bytecode size of
InternalEngine#innerIndex so that it can be inlined.

time:
2016-06-22T00:48:16Z
class:
core/src/main/java/org/elasticsearch/action/search/TransportSearchAction.java
comments:
Inline TransportSearchAction#doExecute

time:
2016-06-22T00:48:15Z
class:
core/src/main/java/org/elasticsearch/action/search/AbstractSearchAsyncAction.java
comments:
Inline AbstractSearchAsyncAction#init

time:
2016-06-22T00:48:15Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
comments:
Inline StreamOutput#writeGenericValue

time:
2016-06-22T00:48:15Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
comments:
Inline StreamInput#readGenericValue

time:
2016-06-22T00:48:15Z
class:
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationOperation.java
comments:
Inline ReplicationOperation#execute

time:
2016-06-22T00:48:09Z
class:
core/src/main/java/org/elasticsearch/tasks/TaskManager.java
comments:
Inline TaskManager#register

time:
2016-06-21T20:45:45Z
class:
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/script/ScriptSettings.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregatorParsingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/BaseAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/TemplateQueryParserTests.java
test/framework/src/main/java/org/elasticsearch/test/AbstractQueryTestCase.java
test/framework/src/main/java/org/elasticsearch/test/ESTestCase.java
comments:
Remove guice from ScriptService

Makes ScriptModule just a plain class that manages building the
ScriptSettings and ScriptService from plugins. When we *need*
to bind ScriptService with guice we bind it in a lambda.

time:
2016-06-21T20:29:53Z
class:
core/src/main/java/org/elasticsearch/action/ingest/TrackingResultProcessor.java
core/src/main/java/org/elasticsearch/ingest/ConfigurationUtils.java
core/src/main/java/org/elasticsearch/ingest/Pipeline.java
core/src/test/java/org/elasticsearch/action/ingest/SimulateExecutionServiceTests.java
core/src/test/java/org/elasticsearch/action/ingest/TrackingResultProcessorTests.java
core/src/test/java/org/elasticsearch/ingest/PipelineFactoryTests.java
comments:
Fix ignore_failure behavior in _simulate?verbose (#18987)

- fix it so that processors with the `ignore_failure` option do not
record their exception in the response
- add more tests to make empty `on_failure`. This now throws an
  exception

time:
2016-06-21T20:08:53Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserBaseVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EListInit.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EMapInit.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/package-info.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/InitializerTests.java
comments:
Merge pull request #19012 from jdconrad/init2

Painless Initializers

time:
2016-06-21T19:56:54Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EListInit.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EMapInit.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/package-info.java
comments:
Added some brief docs.

time:
2016-06-21T19:53:04Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EListInit.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EMapInit.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/InitializerTests.java
comments:
Quick fixes for using built in method writes.

time:
2016-06-21T19:33:42Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/TransportGetTaskAction.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
core/src/main/java/org/elasticsearch/index/translog/ChannelFactory.java
core/src/main/java/org/elasticsearch/index/translog/Checkpoint.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/index/translog/TranslogWriter.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsFetchSubPhase.java
core/src/main/java/org/elasticsearch/tasks/PersistedTaskInfo.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TasksIT.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java
core/src/test/java/org/elasticsearch/cluster/SpecificMasterNodesIT.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/typelevels/ParseMappingTypeLevelTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterIT.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramIT.java
core/src/test/java/org/elasticsearch/search/sort/FieldSortIT.java
core/src/test/java/org/elasticsearch/tasks/PersistedTaskInfoTests.java
core/src/test/java/org/elasticsearch/timestamp/SimpleTimestampIT.java
core/src/test/java/org/elasticsearch/ttl/SimpleTTLIT.java
core/src/test/java/org/elasticsearch/update/TimestampTTLBWIT.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchFieldsTests.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Augmentation.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/FunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECapturingFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ELambda.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCallInvoke.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SEach.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFunction.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/AugmentationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/FunctionRefTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/LambdaTests.java
test/framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
comments:
Merge branch 'master' into init2

time:
2016-06-21T19:32:10Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserBaseVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EListInit.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EMapInit.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewArray.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/InitializerTests.java
comments:
Add initializers to Painless for arrays, lists, and maps.

time:
2016-06-21T19:25:01Z
class:
core/src/main/java/org/elasticsearch/index/translog/ChannelFactory.java
core/src/main/java/org/elasticsearch/index/translog/Checkpoint.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/index/translog/TranslogWriter.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
comments:
Beef up Translog testing with random channel exceptions (#18997)

Today we only throw random exceptions on the translog writer. This commit
extends it to also throw exceptions during checkpoint writing etc to test
if the correct flags are provided to open method etc.

time:
2016-06-21T19:24:39Z
class:
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsFetchSubPhase.java
comments:
Merge pull request #19011 from martijnvg/inner_hits/index_type_id_serialization1

Also do not serialize `_index` key in search response for parent/child inner hits

time:
2016-06-21T19:24:20Z
class:
comments:
Merge pull request #18955 from rjernst/gradle_req

Build: Require exactly gradle 2.13

time:
2016-06-21T19:08:43Z
class:
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
comments:
RejectedExecutionException != EdRejectedExecutionException

time:
2016-06-21T18:18:53Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/TransportGetTaskAction.java
core/src/main/java/org/elasticsearch/tasks/PersistedTaskInfo.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TasksIT.java
core/src/test/java/org/elasticsearch/tasks/PersistedTaskInfoTests.java
comments:
Fetch result when wait_for_completion

This makes this sequence:
```
curl -XDELETE localhost:9200/source,dest?pretty
for i in $( seq 1 100 ); do
  curl -XPOST localhost:9200/source/test -d'{"test": "test"}'; echo
done
curl localhost:9200/_refresh?pretty

curl -XPOST 'localhost:9200/_reindex?pretty&wait_for_completion=false' -d'{
  "source": {
    "index": "source"
  },
  "dest": {
    "index": "dest"
  }
}'

curl 'localhost:9200/_tasks/Jsyd6d9wSRW-O-NiiKbPcQ:237?wait_for_completion&pretty'
```

Return task *AND* the response to the user.

This also renames "result" to "response" in the persisted task info
to line it up with how we name the objects in Elasticsearch.

time:
2016-06-21T17:19:49Z
class:
core/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java
core/src/test/java/org/elasticsearch/cluster/SpecificMasterNodesIT.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/typelevels/ParseMappingTypeLevelTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterIT.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramIT.java
core/src/test/java/org/elasticsearch/search/sort/FieldSortIT.java
core/src/test/java/org/elasticsearch/timestamp/SimpleTimestampIT.java
core/src/test/java/org/elasticsearch/ttl/SimpleTTLIT.java
core/src/test/java/org/elasticsearch/update/TimestampTTLBWIT.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchFieldsTests.java
test/framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
comments:
Revert "Remove `_timestamp` and `_ttl` on 5.x indices. #18980"

This reverts commit 969e953645a4b1a28aaa834ca0c4826ba5ea19a2.
Docs are failing because of the removed functionality. I will
fix the docs before pushing it again.

time:
2016-06-21T17:15:41Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Augmentation.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/FunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECapturingFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ELambda.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCallInvoke.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SEach.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFunction.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/AugmentationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/FunctionRefTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/LambdaTests.java
comments:
Merge pull request #19003 from rmuir/augmentation

painless: add augmentation

time:
2016-06-21T16:23:40Z
class:
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsFetchSubPhase.java
comments:
inner_hits: Also never serialize `_index` key for parent/child inner hits as the _index is always the same of the parent search hit

time:
2016-06-21T16:15:59Z
class:
modules/lang-painless/src/test/java/org/elasticsearch/painless/FunctionRefTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/LambdaTests.java
comments:
beef up tests so we ensure you still get good errors in these cases

time:
2016-06-21T16:05:10Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
comments:
fix bogus comment

time:
2016-06-21T16:04:58Z
class:
core/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java
core/src/test/java/org/elasticsearch/cluster/SpecificMasterNodesIT.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/typelevels/ParseMappingTypeLevelTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterIT.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramIT.java
core/src/test/java/org/elasticsearch/search/sort/FieldSortIT.java
core/src/test/java/org/elasticsearch/timestamp/SimpleTimestampIT.java
core/src/test/java/org/elasticsearch/ttl/SimpleTTLIT.java
core/src/test/java/org/elasticsearch/update/TimestampTTLBWIT.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchFieldsTests.java
test/framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
comments:
Remove `_timestamp` and `_ttl` on 5.x indices. #18980

This removes the ability to use `_timestamp` and `_ttl` on indices created on
or after 5.0.

Closes #18280

time:
2016-06-21T16:03:19Z
class:
comments:
Improved docs explaining the index upgrade process in breaking changes

time:
2016-06-21T15:59:16Z
class:
core/src/main/java/org/elasticsearch/index/mapper/core/KeywordFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TextFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/core/StringMappingUpgradeTests.java
comments:
Upgrade `string` fields to `text`/`keyword` even if `include_in_all` is set. #19004

Closes #18974

time:
2016-06-21T15:25:43Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Augmentation.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/FunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECapturingFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ELambda.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/AugmentationTests.java
comments:
maps n lists

time:
2016-06-21T15:14:48Z
class:
core/src/main/java/org/elasticsearch/Build.java
core/src/test/java/org/elasticsearch/BuildTests.java
comments:
Read Elasticsearch manifest via URL

This commit modifies reading the Elasticsearch jar manifest via the URL
instead of converting the URL to an NIO path for increased portability.

Relates #18999

time:
2016-06-21T15:11:09Z
class:
client/src/main/java/org/elasticsearch/client/RestClient.java
comments:
rename onSuccess to onResponse

That makes it a bit clearer that it's about the response and whether we decide if it was a good one or a failure (based on status code)

time:
2016-06-21T14:02:25Z
class:
comments:
Update java.asciidoc

Fixed asciidoc

time:
2016-06-21T13:53:37Z
class:
benchmarks/src/main/java/org/elasticsearch/benchmark/routing/allocation/AllocationBenchmark.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/LivenessResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/TransportLivenessAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/TransportCancelTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TransportListTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/TransportVerifyRepositoryAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/Condition.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/MaxAgeCondition.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/MaxDocsCondition.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/TransportRolloverAction.java
core/src/main/java/org/elasticsearch/action/ingest/PutPipelineTransportAction.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateDocumentBaseResult.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateExecutionService.java
core/src/main/java/org/elasticsearch/action/ingest/SimulatePipelineRequest.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateProcessorResult.java
core/src/main/java/org/elasticsearch/action/ingest/TrackingResultProcessor.java
core/src/main/java/org/elasticsearch/action/ingest/WriteableIngestDocument.java
core/src/main/java/org/elasticsearch/action/main/MainResponse.java
core/src/main/java/org/elasticsearch/action/main/TransportMainAction.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodesResponse.java
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationOperation.java
core/src/main/java/org/elasticsearch/action/support/tasks/TransportTasksAction.java
core/src/main/java/org/elasticsearch/client/FilterClient.java
core/src/main/java/org/elasticsearch/client/IndicesAdminClient.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/ClusterName.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodeService.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/Preference.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/service/ClusterService.java
core/src/main/java/org/elasticsearch/common/network/NetworkModule.java
core/src/main/java/org/elasticsearch/common/settings/AbstractScopedSettings.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/common/util/BigArrays.java
core/src/main/java/org/elasticsearch/discovery/Discovery.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/elect/ElectMasterService.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/NodesFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/ZenPing.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/env/EnvironmentModule.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/gateway/Gateway.java
core/src/main/java/org/elasticsearch/gateway/GatewayModule.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityService.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/store/FsDirectoryService.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/indices/store/IndicesStore.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/ingest/AbstractProcessor.java
core/src/main/java/org/elasticsearch/ingest/AbstractProcessorFactory.java
core/src/main/java/org/elasticsearch/ingest/CompoundProcessor.java
core/src/main/java/org/elasticsearch/ingest/ConfigurationUtils.java
core/src/main/java/org/elasticsearch/ingest/IngestDocument.java
core/src/main/java/org/elasticsearch/ingest/IngestInfo.java
core/src/main/java/org/elasticsearch/ingest/IngestService.java
core/src/main/java/org/elasticsearch/ingest/InternalTemplateService.java
core/src/main/java/org/elasticsearch/ingest/Pipeline.java
core/src/main/java/org/elasticsearch/ingest/PipelineExecutionService.java
core/src/main/java/org/elasticsearch/ingest/PipelineStore.java
core/src/main/java/org/elasticsearch/ingest/Processor.java
core/src/main/java/org/elasticsearch/ingest/ProcessorInfo.java
core/src/main/java/org/elasticsearch/ingest/ProcessorsRegistry.java
core/src/main/java/org/elasticsearch/ingest/TemplateService.java
core/src/main/java/org/elasticsearch/ingest/ValueSource.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/NodeModule.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/node/service/NodeService.java
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
core/src/main/java/org/elasticsearch/plugins/PluginsModule.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestRolloverIndexAction.java
core/src/main/java/org/elasticsearch/script/CompiledScript.java
core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AbstractAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
core/src/main/java/org/elasticsearch/search/aggregations/PipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/AbstractPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/BucketHelpers.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorBuilders.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/avg/AvgBucketPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/max/MaxBucketPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/min/MinBucketPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/PercentilesBucketPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/StatsBucketPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/ExtendedStatsBucketParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/ExtendedStatsBucketPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/sum/SumBucketPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketselector/BucketSelectorPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/cumulativesum/CumulativeSumPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/DerivativePipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/EwmaModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltLinearModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltWintersModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/LinearModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/SimpleModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/fetch/script/ScriptFieldsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/main/java/org/elasticsearch/transport/local/LocalTransport.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/main/java/org/elasticsearch/tribe/TribeClientNode.java
core/src/main/java/org/elasticsearch/tribe/TribeModule.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
core/src/main/java/org/elasticsearch/watcher/ResourceWatcherModule.java
core/src/main/java/org/joda/time/base/BaseDateTime.java
core/src/test/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/CancellableTasksTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TaskManagerTestCase.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TestTaskPlugin.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TransportTasksActionTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/rollover/ConditionTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/rollover/RolloverIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/rollover/RolloverRequestTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/rollover/TransportRolloverActionTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/shrink/TransportShrinkActionTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
core/src/test/java/org/elasticsearch/action/bulk/TransportBulkActionTookTests.java
core/src/test/java/org/elasticsearch/action/ingest/IngestActionFilterTests.java
core/src/test/java/org/elasticsearch/action/ingest/SimulateDocumentSimpleResultTests.java
core/src/test/java/org/elasticsearch/action/ingest/SimulateExecutionServiceTests.java
core/src/test/java/org/elasticsearch/action/ingest/SimulatePipelineRequestParsingTests.java
core/src/test/java/org/elasticsearch/action/ingest/SimulatePipelineResponseTests.java
core/src/test/java/org/elasticsearch/action/ingest/SimulateProcessorResultTests.java
core/src/test/java/org/elasticsearch/action/ingest/TrackingResultProcessorTests.java
core/src/test/java/org/elasticsearch/action/ingest/WriteableIngestDocumentTests.java
core/src/test/java/org/elasticsearch/action/main/MainActionTests.java
core/src/test/java/org/elasticsearch/action/support/AutoCreateIndexTests.java
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/master/TransportMasterNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/nodes/TransportNodesActionTests.java
core/src/test/java/org/elasticsearch/action/support/replication/BroadcastReplicationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportReplicationActionTests.java
core/src/test/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationActionTests.java
core/src/test/java/org/elasticsearch/action/termvectors/AbstractTermVectorsTestCase.java
core/src/test/java/org/elasticsearch/client/transport/FailAndRetryMockTransport.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientHeadersTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterModuleTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateTests.java
core/src/test/java/org/elasticsearch/cluster/NodeConnectionsServiceTests.java
core/src/test/java/org/elasticsearch/cluster/action/shard/ShardFailedClusterStateTaskExecutorTests.java
core/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java
core/src/test/java/org/elasticsearch/cluster/health/ClusterStateHealthTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexServiceTests.java
core/src/test/java/org/elasticsearch/cluster/node/DiscoveryNodeServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/OperationRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/PrimaryTermsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingTableTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ActiveAllocationIdTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AddIncrementallyTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationPriorityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AwarenessAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceConfigurationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/CatAllocationTestCase.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ClusterRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ConcurrentRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/DeadNodesAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ElectReplicaAsPrimaryDuringRelocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ExpectedShardSizeAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedNodeRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FilterAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FilterRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/IndexBalanceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/MaxRetryAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/NodeVersionAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferLocalPrimariesToRelocatingPrimariesTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferPrimaryAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PrimaryElectionRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PrimaryNotRelocatedWhileBeingRecoveredTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RandomAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RebalanceAfterActiveTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ReplicaAllocatedAfterPrimaryTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RoutingNodesIntegrityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SameShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardVersioningTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardsLimitAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardNoReplicasRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardOneReplicaRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/StartedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/TenShardsOneReplicaRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ThrottlingAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/UpdateNumberOfReplicasTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/ClusterStateToStringTests.java
core/src/test/java/org/elasticsearch/cluster/service/ClusterServiceTests.java
core/src/test/java/org/elasticsearch/cluster/structure/RoutingIteratorTests.java
core/src/test/java/org/elasticsearch/common/network/NetworkModuleTests.java
core/src/test/java/org/elasticsearch/common/settings/ScopedSettingsTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsModuleTests.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryModuleTests.java
core/src/test/java/org/elasticsearch/discovery/ZenFaultDetectionTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ElectMasterServiceTests.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenPingTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPingIT.java
core/src/test/java/org/elasticsearch/discovery/zen/publish/PendingClusterStatesQueueTests.java
core/src/test/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateActionTests.java
core/src/test/java/org/elasticsearch/gateway/GatewayMetaStateTests.java
core/src/test/java/org/elasticsearch/gateway/GatewayServiceTests.java
core/src/test/java/org/elasticsearch/gateway/PrimaryShardAllocatorTests.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/http/HttpServerTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingDisabledTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/replication/ESIndexLevelReplicationTestCase.java
core/src/test/java/org/elasticsearch/index/replication/IndexLevelReplicationTests.java
core/src/test/java/org/elasticsearch/index/replication/RecoveryDuringReplicationTests.java
core/src/test/java/org/elasticsearch/index/similarity/SimilarityServiceTests.java
core/src/test/java/org/elasticsearch/index/store/FsDirectoryServiceTests.java
core/src/test/java/org/elasticsearch/index/store/IndexStoreTests.java
core/src/test/java/org/elasticsearch/indices/cluster/ClusterStateChanges.java
core/src/test/java/org/elasticsearch/indices/cluster/IndicesClusterStateServiceRandomUpdatesTests.java
core/src/test/java/org/elasticsearch/indices/state/SimpleIndexStateIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreTests.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
core/src/test/java/org/elasticsearch/ingest/CompoundProcessorTests.java
core/src/test/java/org/elasticsearch/ingest/ConfigurationUtilsTests.java
core/src/test/java/org/elasticsearch/ingest/IngestClientIT.java
core/src/test/java/org/elasticsearch/ingest/IngestCloseIT.java
core/src/test/java/org/elasticsearch/ingest/IngestDocumentTests.java
core/src/test/java/org/elasticsearch/ingest/IngestProcessorNotInstalledOnAllNodesIT.java
core/src/test/java/org/elasticsearch/ingest/PipelineExecutionServiceTests.java
core/src/test/java/org/elasticsearch/ingest/PipelineFactoryTests.java
core/src/test/java/org/elasticsearch/ingest/PipelineStoreTests.java
core/src/test/java/org/elasticsearch/ingest/ValueSourceTests.java
core/src/test/java/org/elasticsearch/mget/SimpleMgetIT.java
core/src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
comments:
Merge branch 'master' into feature/http_client

time:
2016-06-21T13:51:20Z
class:
modules/percolator/src/main/java/org/elasticsearch/percolator/MultiPercolateAction.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolateAction.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolatorFieldMapper.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolatorPlugin.java
modules/percolator/src/test/java/org/elasticsearch/percolator/MultiPercolatorIT.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolateQueryBuilderTests.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorAggregationsIT.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorBackwardsCompatibilityTests.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorHighlightSubFetchPhaseTests.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorQuerySearchIT.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorTestUtil.java
comments:
removed unused imports

time:
2016-06-21T13:42:42Z
class:
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptIT.java
core/src/test/java/org/elasticsearch/search/nested/SimpleNestedIT.java
core/src/test/java/org/elasticsearch/search/query/MultiMatchQueryIT.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
comments:
Fixed tests that failed now that BM25 is the default similarity.

time:
2016-06-21T13:29:59Z
class:
client-sniffer/src/main/java/org/elasticsearch/client/sniff/SniffOnFailureListener.java
client-sniffer/src/main/java/org/elasticsearch/client/sniff/Sniffer.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/MockHostsSniffer.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/SniffOnFailureListenerTests.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/SnifferBuilderTests.java
client/src/main/java/org/elasticsearch/client/RestClient.java
client/src/test/java/org/elasticsearch/client/RestClientBuilderTests.java
client/src/test/java/org/elasticsearch/client/RestClientMultipleHostsTests.java
client/src/test/java/org/elasticsearch/client/RestClientSingleHostTests.java
comments:
Take SniffOnFailureListener out of Sniffer and make FailureListener final on RestClient
AtomicReference<Sniffer> and compareAndSet null?

s/org.elasticsearch.client.//?

perform**s**

Leftover? If not wrap in an `if (log.isDebugEnabled())`?

Ah. Just moved.


time:
2016-06-21T13:19:12Z
class:
comments:
Removed docs for precision_step - no longer used

time:
2016-06-21T12:35:12Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Augmentation.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCallInvoke.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SEach.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFunction.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/AugmentationTests.java
comments:
get things started

time:
2016-06-21T12:31:09Z
class:
test/framework/src/main/java/org/elasticsearch/test/ESTestCase.java
test/framework/src/main/java/org/elasticsearch/test/rest/ESRestTestCase.java
comments:
Quiet the logging of the docs tests

Significantly quiets the logging of the docs tests by:
1. Switching two log statements to debug level.
2. Only calling ESTestCase#afterIfFailed if the test failure wasn't
just assumptions being violated.

time:
2016-06-21T12:13:38Z
class:
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
comments:
inner_hits: Don't include `_id`, `_type` and `_index` keys in search response for inner hits

Closes #18091

time:
2016-06-21T11:41:15Z
class:
comments:
Clarify building from sources docs in README

This commit clarifies a few issues with the building from sources docs
in the README:
 - modifies Gradle link to use https
 - version 2.13 of Gradle is required
 - the command "gradle assemble" is the preferred way to only create a
   distribution
 - fixes the specified location of the built distributions

Closes #18991

time:
2016-06-21T11:20:56Z
class:
comments:
file is -> file name (#18994)

time:
2016-06-21T10:05:44Z
class:
core/src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
comments:
Fix ut: remap default to classic similarity for indices created before 5.0.

time:
2016-06-21T09:30:30Z
class:
core/src/main/java/org/elasticsearch/index/similarity/SimilarityService.java
core/src/test/java/org/elasticsearch/index/similarity/SimilarityServiceTests.java
comments:
Merge pull request #18948 from jimferenczi/bm25

Change default similarity to BM25

time:
2016-06-21T09:29:36Z
class:
core/src/main/java/org/elasticsearch/index/similarity/SimilarityService.java
core/src/test/java/org/elasticsearch/index/similarity/SimilarityServiceTests.java
comments:
Change default similarity to BM25

The default similarity was set to `classic` which refers to TFIDF and has not been moved after the upgrade to Lucene 6.

Though moving to BM25 could have some downside for queries that relies on coordination factor (match_query, multi_match_query) ?

relates #18944

time:
2016-06-21T07:24:00Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
core/src/main/java/org/elasticsearch/action/ingest/PutPipelineTransportAction.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateDocumentBaseResult.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateExecutionService.java
core/src/main/java/org/elasticsearch/action/ingest/SimulatePipelineRequest.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateProcessorResult.java
core/src/main/java/org/elasticsearch/action/ingest/TrackingResultProcessor.java
core/src/main/java/org/elasticsearch/action/ingest/WriteableIngestDocument.java
core/src/main/java/org/elasticsearch/ingest/AbstractProcessor.java
core/src/main/java/org/elasticsearch/ingest/AbstractProcessorFactory.java
core/src/main/java/org/elasticsearch/ingest/CompoundProcessor.java
core/src/main/java/org/elasticsearch/ingest/ConfigurationUtils.java
core/src/main/java/org/elasticsearch/ingest/IngestDocument.java
core/src/main/java/org/elasticsearch/ingest/IngestInfo.java
core/src/main/java/org/elasticsearch/ingest/IngestService.java
core/src/main/java/org/elasticsearch/ingest/InternalTemplateService.java
core/src/main/java/org/elasticsearch/ingest/Pipeline.java
core/src/main/java/org/elasticsearch/ingest/PipelineExecutionService.java
core/src/main/java/org/elasticsearch/ingest/PipelineStore.java
core/src/main/java/org/elasticsearch/ingest/Processor.java
core/src/main/java/org/elasticsearch/ingest/ProcessorInfo.java
core/src/main/java/org/elasticsearch/ingest/ProcessorsRegistry.java
core/src/main/java/org/elasticsearch/ingest/TemplateService.java
core/src/main/java/org/elasticsearch/ingest/ValueSource.java
core/src/main/java/org/elasticsearch/node/NodeModule.java
core/src/test/java/org/elasticsearch/action/ingest/IngestActionFilterTests.java
core/src/test/java/org/elasticsearch/action/ingest/SimulateDocumentSimpleResultTests.java
core/src/test/java/org/elasticsearch/action/ingest/SimulateExecutionServiceTests.java
core/src/test/java/org/elasticsearch/action/ingest/SimulatePipelineRequestParsingTests.java
core/src/test/java/org/elasticsearch/action/ingest/SimulatePipelineResponseTests.java
core/src/test/java/org/elasticsearch/action/ingest/SimulateProcessorResultTests.java
core/src/test/java/org/elasticsearch/action/ingest/TrackingResultProcessorTests.java
core/src/test/java/org/elasticsearch/action/ingest/WriteableIngestDocumentTests.java
core/src/test/java/org/elasticsearch/ingest/CompoundProcessorTests.java
core/src/test/java/org/elasticsearch/ingest/ConfigurationUtilsTests.java
core/src/test/java/org/elasticsearch/ingest/IngestClientIT.java
core/src/test/java/org/elasticsearch/ingest/IngestCloseIT.java
core/src/test/java/org/elasticsearch/ingest/IngestDocumentTests.java
core/src/test/java/org/elasticsearch/ingest/IngestProcessorNotInstalledOnAllNodesIT.java
core/src/test/java/org/elasticsearch/ingest/PipelineExecutionServiceTests.java
core/src/test/java/org/elasticsearch/ingest/PipelineFactoryTests.java
core/src/test/java/org/elasticsearch/ingest/PipelineStoreTests.java
core/src/test/java/org/elasticsearch/ingest/ValueSourceTests.java
core/src/test/java/org/elasticsearch/nodesinfo/NodeInfoStreamingTests.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/AbstractStringProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/AppendProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/ConvertProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/DateFormat.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/DateIndexNameProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/DateProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/FailProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/FailProcessorException.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/ForEachProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/Grok.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/GrokMatchGroup.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/GrokProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/GsubProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/IngestCommonPlugin.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/JoinProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/LowercaseProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/RemoveProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/RenameProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/ScriptProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/SetProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/SortProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/SplitProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/TrimProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/UppercaseProcessor.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/AbstractStringProcessorTestCase.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/AppendProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/AppendProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/ConvertProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/ConvertProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/DateFormatTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/DateIndexNameFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/DateIndexNameProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/DateProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/DateProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/FailProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/FailProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/ForEachProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/ForEachProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/GrokProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/GrokProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/GrokTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/GsubProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/GsubProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/IngestCommonRestIT.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/JoinProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/JoinProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/LowercaseProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/LowercaseProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/RemoveProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/RemoveProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/RenameProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/RenameProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/ScriptProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/ScriptProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/SetProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/SetProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/SortProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/SplitProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/SplitProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/TrimProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/TrimProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/UppercaseProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/UppercaseProcessorTests.java
plugins/ingest-attachment/src/main/java/org/elasticsearch/ingest/attachment/AttachmentProcessor.java
plugins/ingest-attachment/src/test/java/org/elasticsearch/ingest/attachment/AttachmentProcessorFactoryTests.java
plugins/ingest-attachment/src/test/java/org/elasticsearch/ingest/attachment/AttachmentProcessorTests.java
plugins/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/GeoIpProcessor.java
plugins/ingest-geoip/src/test/java/org/elasticsearch/ingest/geoip/GeoIpProcessorFactoryTests.java
plugins/ingest-geoip/src/test/java/org/elasticsearch/ingest/geoip/GeoIpProcessorTests.java
qa/smoke-test-ingest-with-all-dependencies/src/test/java/org/elasticsearch/ingest/AbstractScriptTestCase.java
qa/smoke-test-ingest-with-all-dependencies/src/test/java/org/elasticsearch/ingest/IngestDocumentMustacheIT.java
qa/smoke-test-ingest-with-all-dependencies/src/test/java/org/elasticsearch/ingest/TemplateServiceIT.java
qa/smoke-test-ingest-with-all-dependencies/src/test/java/org/elasticsearch/ingest/ValueSourceMustacheIT.java
test/framework/src/main/java/org/elasticsearch/ingest/RandomDocumentPicks.java
test/framework/src/main/java/org/elasticsearch/ingest/TestProcessor.java
test/framework/src/main/java/org/elasticsearch/ingest/TestTemplateService.java
comments:
ingest: merged o.e.ingest.core with o.e.ingest and in ingest-common module added o.e.ingest.common package

and moved all code to that package.

time:
2016-06-21T06:45:46Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
comments:
Revert #18839 as it causes file leaks

```
   > Throwable #1: java.lang.RuntimeException: file handle leaks: [SeekableByteChannel(/var/lib/jenkins/workspace/elastic+elasticsearch+master+g1gc/core/build/testrun/integTest/J0/temp/org.elasticsearch.search.suggest.CompletionSuggestSearch2xIT_518545A20D129C8C-001/tempDir-001/data/nodes/1/indices/4sTECv6WSJOJsw9L4CGamg/0/index/segments_1), SeekableByteChannel(/var/lib/jenkins/workspace/elastic+elasticsearch+master+g1gc/core/build/testrun/integTest/J0/temp/org.elasticsearch.search.suggest.CompletionSuggestSearch2xIT_518545A20D129C8C-001/tempDir-001/data/nodes/1/indices/4sTECv6WSJOJsw9L4CGamg/0/index/segments_1)]
   > 	at __randomizedtesting.SeedInfo.seed([518545A20D129C8C]:0)
   > 	at org.apache.lucene.mockfile.LeakFS.onClose(LeakFS.java:63)
   > 	at org.apache.lucene.mockfile.FilterFileSystem.close(FilterFileSystem.java:77)
   > 	at org.apache.lucene.mockfile.FilterFileSystem.close(FilterFileSystem.java:78)
   > 	at java.lang.Thread.run(Thread.java:745)
   > Caused by: java.lang.Exception
   > 	at org.apache.lucene.mockfile.LeakFS.onOpen(LeakFS.java:46)
   > 	at org.apache.lucene.mockfile.HandleTrackingFS.callOpenHook(HandleTrackingFS.java:81)
   > 	at org.apache.lucene.mockfile.HandleTrackingFS.newByteChannel(HandleTrackingFS.java:271)
   > 	at org.apache.lucene.mockfile.FilterFileSystemProvider.newByteChannel(FilterFileSystemProvider.java:212)
   > 	at org.apache.lucene.mockfile.HandleTrackingFS.newByteChannel(HandleTrackingFS.java:240)
   > 	at java.nio.file.Files.newByteChannel(Files.java:361)
   > 	at java.nio.file.Files.newByteChannel(Files.java:407)
   > 	at org.apache.lucene.store.SimpleFSDirectory.openInput(SimpleFSDirectory.java:77)
   > 	at org.apache.lucene.store.FilterDirectory.openInput(FilterDirectory.java:94)
   > 	at org.apache.lucene.util.LuceneTestCase.slowFileExists(LuceneTestCase.java:2695)
   > 	at org.apache.lucene.store.MockDirectoryWrapper.openInput(MockDirectoryWrapper.java:737)
   > 	at org.apache.lucene.store.FilterDirectory.openInput(FilterDirectory.java:94)
   > 	at org.elasticsearch.common.lucene.Lucene$1.doBody(Lucene.java:237)
   > 	at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:685)
   > 	at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:637)
   > 	at org.elasticsearch.common.lucene.Lucene.checkSegmentInfoIntegrity(Lucene.java:242)
   > 	at org.elasticsearch.index.store.Store$MetadataSnapshot.loadMetadata(Store.java:847)
   > 	at org.elasticsearch.index.store.Store$MetadataSnapshot.<init>(Store.java:740)
   > 	at org.elasticsearch.index.store.Store.getMetadata(Store.java:260)
   > 	at org.elasticsearch.index.store.Store.getMetadata(Store.java:240)
   > 	at org.elasticsearch.index.shard.IndexShard.doCheckIndex(IndexShard.java:1310)
   > 	at org.elasticsearch.common.util.CancellableThreads.executeIO(CancellableThreads.java:102)
   > 	at org.elasticsearch.index.shard.IndexShard.checkIndex(IndexShard.java:1288)
   > 	at org.elasticsearch.index.shard.IndexShard.internalPerformTranslogRecovery(IndexShard.java:921)
   > 	at org.elasticsearch.index.shard.IndexShard.skipTranslogRecovery(IndexShard.java:964)
   > 	at org.elasticsearch.indices.recovery.RecoveryTarget.prepareForTranslogOperations(RecoveryTarget.java:297)
   > 	at
   ```

time:
2016-06-21T02:14:53Z
class:
comments:
Fix newlines in README

time:
2016-06-21T02:11:18Z
class:
comments:
Add link to Discourse and IRC to

time:
2016-06-20T21:22:04Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Locals.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ELambda.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCallInvoke.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicAPITests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOptimizationTests.java
comments:
Merge pull request #18983 from rmuir/lambda_types

Infer lambda arguments/return type

time:
2016-06-20T18:54:45Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Locals.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ELambda.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCallInvoke.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicAPITests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOptimizationTests.java
comments:
Infer lambda arguments/return type

time:
2016-06-20T18:23:32Z
class:
comments:
add indices nodes info flag to docs

time:
2016-06-20T18:20:23Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/node/service/NodeService.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/info/RestNodesInfoAction.java
core/src/test/java/org/elasticsearch/nodesinfo/SimpleNodesInfoIT.java
comments:
add indices flag to nodes info request; use boolean to express 'null' indexing buffer value on the wire

time:
2016-06-20T17:40:11Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/CompilerSettings.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefMath.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngineService.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECapturingFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SEach.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFunction.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/CastTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefBootstrapTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOptimizationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ScriptTestCase.java
comments:
Merge pull request #18958 from rmuir/explicit_casts

Fix explicit casts and improve tests.

time:
2016-06-20T17:39:13Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/main/TransportMainAction.java
core/src/main/java/org/elasticsearch/client/FilterClient.java
core/src/main/java/org/elasticsearch/client/node/NodeClientModule.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodeService.java
core/src/main/java/org/elasticsearch/cluster/service/ClusterService.java
core/src/main/java/org/elasticsearch/common/settings/AbstractScopedSettings.java
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/common/util/BigArrays.java
core/src/main/java/org/elasticsearch/discovery/zen/elect/ElectMasterService.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/env/EnvironmentModule.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/env/NodeEnvironmentModule.java
core/src/main/java/org/elasticsearch/gateway/GatewayModule.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/store/FsDirectoryService.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/NodeModule.java
core/src/main/java/org/elasticsearch/node/service/NodeService.java
core/src/main/java/org/elasticsearch/plugins/PluginsModule.java
core/src/main/java/org/elasticsearch/script/CompiledScript.java
core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/transport/local/LocalTransport.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/main/java/org/elasticsearch/tribe/TribeClientNode.java
core/src/main/java/org/elasticsearch/tribe/TribeModule.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
core/src/main/java/org/elasticsearch/watcher/ResourceWatcherModule.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TaskManagerTestCase.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
core/src/test/java/org/elasticsearch/action/main/MainActionTests.java
core/src/test/java/org/elasticsearch/action/support/replication/BroadcastReplicationTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexServiceTests.java
core/src/test/java/org/elasticsearch/cluster/node/DiscoveryNodeServiceTests.java
core/src/test/java/org/elasticsearch/common/network/NetworkModuleTests.java
core/src/test/java/org/elasticsearch/common/settings/ScopedSettingsTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsModuleTests.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryModuleTests.java
core/src/test/java/org/elasticsearch/discovery/ZenFaultDetectionTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ElectMasterServiceTests.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPingIT.java
core/src/test/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateActionTests.java
core/src/test/java/org/elasticsearch/http/HttpServerTests.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingDisabledTests.java
core/src/test/java/org/elasticsearch/index/store/FsDirectoryServiceTests.java
core/src/test/java/org/elasticsearch/index/store/IndexStoreTests.java
core/src/test/java/org/elasticsearch/indices/cluster/ClusterStateChanges.java
core/src/test/java/org/elasticsearch/indices/state/SimpleIndexStateIT.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/script/ScriptSettingsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregatorParsingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/BaseAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/BasePipelineAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/transport/NettySizeHeaderFrameDecoderTests.java
core/src/test/java/org/elasticsearch/transport/NettyTransportServiceHandshakeTests.java
core/src/test/java/org/elasticsearch/transport/TransportModuleTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyScheduledPingTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
core/src/test/java/org/elasticsearch/transport/netty/SimpleNettyTransportTests.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
modules/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovySecurityTests.java
modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MustacheScriptEngineService.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/TemplateQueryParserTests.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/FunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/LambdaLocals.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Locals.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngineService.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ANode.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBool.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBoolean.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECapturingFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConditional.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConstant.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EDecimal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EExplicit.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ELambda.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENull.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENumeric.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LArrayLength.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCallInvoke.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCallLocal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewObj.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LRegex.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LStatic.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LString.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LVariable.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBreak.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SCatch.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SContinue.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclaration.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDo.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SEach.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFunction.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIf.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIfElse.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SReturn.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SThrow.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STry.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SWhile.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ArrayTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefBootstrapTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/FunctionRefTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/LambdaTests.java
plugins/discovery-azure/src/main/java/org/elasticsearch/discovery/azure/AzureUnicastHostsProvider.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/discovery/ec2/AwsEc2UnicastHostsProvider.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryTests.java
plugins/discovery-gce/src/main/java/org/elasticsearch/discovery/gce/GceUnicastHostsProvider.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoveryTests.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
plugins/repository-azure/src/test/java/org/elasticsearch/repositories/azure/AzureRepositoryF.java
test/framework/src/main/java/org/elasticsearch/common/util/MockBigArrays.java
test/framework/src/main/java/org/elasticsearch/node/MockNode.java
test/framework/src/main/java/org/elasticsearch/node/NodeMocksPlugin.java
test/framework/src/main/java/org/elasticsearch/script/MockScriptEngine.java
test/framework/src/main/java/org/elasticsearch/test/AbstractQueryTestCase.java
test/framework/src/main/java/org/elasticsearch/test/ESSingleNodeTestCase.java
test/framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
test/framework/src/main/java/org/elasticsearch/test/NodeConfigurationSource.java
test/framework/src/main/java/org/elasticsearch/test/transport/AssertingLocalTransport.java
test/framework/src/main/java/org/elasticsearch/test/transport/MockTransportService.java
comments:
Merge branch 'master' into explicit_casts

time:
2016-06-20T17:33:51Z
class:
modules/lang-painless/src/test/java/org/elasticsearch/painless/CastTests.java
comments:
add simple arguments test

time:
2016-06-20T17:05:55Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/FunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/LambdaLocals.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Locals.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ANode.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBool.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBoolean.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECapturingFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConditional.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConstant.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EDecimal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EExplicit.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ELambda.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENull.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENumeric.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LArrayLength.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCallInvoke.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCallLocal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewObj.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LRegex.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LStatic.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LString.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LVariable.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBreak.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SCatch.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SContinue.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclaration.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDo.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SEach.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFunction.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIf.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIfElse.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SReturn.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SThrow.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STry.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SWhile.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefBootstrapTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/FunctionRefTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/LambdaTests.java
comments:
Merge pull request #18954 from rmuir/lambda_captures

Painless: add lambda captures

time:
2016-06-20T17:01:59Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFunction.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
comments:
throw error if the tree is totally malformed

time:
2016-06-20T16:58:41Z
class:
comments:
Wrong name for values field

We wrote that the document is:

```json
{
  "value" : ["foo", "bar", "baz"]
}
```

But the processor is using a `values` field:

```json
{
  "foreach" : {
    "field" : "values",
    "processors" : [
      // ...
    ]
  }
}
```

It should be `values`.

time:
2016-06-20T16:49:30Z
class:
comments:
Fail doc tests when any shard fails

ES only sends a non-200 response all shards fail but we should
fail the tests generated by docs if any of them fail.

Depending on the outcome of #18978 this might be a temporary
workaround.

time:
2016-06-20T14:47:24Z
class:
core/src/main/java/org/elasticsearch/client/FilterClient.java
comments:
Add extra ctor to FilterClient to support Guice proxies

just don't ask it's bad but some plugins are so involved they need this.

Closes #the_issue_that_never_existed

time:
2016-06-20T14:46:23Z
class:
modules/lang-painless/src/test/java/org/elasticsearch/painless/LambdaTests.java
comments:
add a few more tests

time:
2016-06-20T14:00:59Z
class:
comments:
Update snapshots.asciidoc (#18923)

time:
2016-06-20T12:37:13Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
comments:
Catch ClosedByInterruptException when interrupting check index

time:
2016-06-20T12:32:53Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefMath.java
comments:
remove unused import

time:
2016-06-20T12:24:41Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ELambda.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/LambdaTests.java
comments:
add docs

time:
2016-06-20T11:57:00Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/FunctionRef.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/FunctionRefTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/LambdaTests.java
comments:
Improve error messages for lambdas when the number of arguments is wrong

time:
2016-06-20T11:42:56Z
class:
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/store/FsDirectoryService.java
core/src/test/java/org/elasticsearch/index/store/FsDirectoryServiceTests.java
core/src/test/java/org/elasticsearch/index/store/IndexStoreTests.java
comments:
Expose MMapDirectory.preLoad(). #18880

The MMapDirectory has a switch that allows the content of files to be loaded
into the filesystem cache upon opening. This commit exposes it with the new
`index.store.pre_load` setting.

time:
2016-06-20T11:18:19Z
class:
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/common/util/BigArrays.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/NodeModule.java
test/framework/src/main/java/org/elasticsearch/common/util/MockBigArrays.java
test/framework/src/main/java/org/elasticsearch/node/MockNode.java
test/framework/src/main/java/org/elasticsearch/node/NodeMocksPlugin.java
test/framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
test/framework/src/main/java/org/elasticsearch/test/NodeConfigurationSource.java
comments:
Detach BigArrays from Guice (#18973)

BigArrays can be fully constructed without Guice, this change cleans up
it's creation and the mocking in MockNode.

time:
2016-06-20T11:10:35Z
class:
core/src/main/java/org/elasticsearch/common/settings/AbstractScopedSettings.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
core/src/test/java/org/elasticsearch/common/settings/ScopedSettingsTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsModuleTests.java
core/src/test/java/org/elasticsearch/indices/state/SimpleIndexStateIT.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
comments:
Improve error message if a setting is not found (#18920)

Today we only emit that the setting wasn't found unless we have
some DYM suggestions. Yet, if a setting is not found at all and there
are no suggestions due to typos it's likely a removed setting or the plugin
that is supposed to be configured is not installed.
This commit adds some info text to the exception to help the user debugging
the problem before opening bugreports.

Instead of emitting:

`unknown setting [foo.bar]`

we now emit:

`unknown setting [foo.bar] please check the migration guide for removed settings and ensure that the plugin you are configuring is installed`

Relates to #18663

time:
2016-06-20T10:16:22Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
comments:
index shard should be able to cancel check index on close. (#18839)

If someone sets `index.shard.check_on_startup`, indexing start up time can be slow (by design, it diligently goes and checks all data). If for some reason the shard is closed in that time, the store ref is kept around and prevents a new shard copy to be allocated to this node via the shard level locks. This is especially tricky if the shard is close due to a cancelled recovery which may re-restart soon.

This commit adds a cancellable threads instance to each IndexShard and perform index checking underneath it, so it can be cancelled on close.

time:
2016-06-20T10:15:29Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/main/TransportMainAction.java
core/src/main/java/org/elasticsearch/client/node/NodeClientModule.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodeService.java
core/src/main/java/org/elasticsearch/discovery/zen/elect/ElectMasterService.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/env/EnvironmentModule.java
core/src/main/java/org/elasticsearch/env/NodeEnvironmentModule.java
core/src/main/java/org/elasticsearch/gateway/GatewayModule.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/service/NodeService.java
core/src/main/java/org/elasticsearch/plugins/PluginsModule.java
core/src/main/java/org/elasticsearch/transport/local/LocalTransport.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/main/java/org/elasticsearch/tribe/TribeClientNode.java
core/src/main/java/org/elasticsearch/tribe/TribeModule.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
core/src/main/java/org/elasticsearch/watcher/ResourceWatcherModule.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TaskManagerTestCase.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
core/src/test/java/org/elasticsearch/action/main/MainActionTests.java
core/src/test/java/org/elasticsearch/action/support/replication/BroadcastReplicationTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexServiceTests.java
core/src/test/java/org/elasticsearch/cluster/node/DiscoveryNodeServiceTests.java
core/src/test/java/org/elasticsearch/common/network/NetworkModuleTests.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryModuleTests.java
core/src/test/java/org/elasticsearch/discovery/ZenFaultDetectionTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ElectMasterServiceTests.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPingIT.java
core/src/test/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateActionTests.java
core/src/test/java/org/elasticsearch/http/HttpServerTests.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingDisabledTests.java
core/src/test/java/org/elasticsearch/indices/cluster/ClusterStateChanges.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregatorParsingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/BaseAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/BasePipelineAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/transport/NettySizeHeaderFrameDecoderTests.java
core/src/test/java/org/elasticsearch/transport/NettyTransportServiceHandshakeTests.java
core/src/test/java/org/elasticsearch/transport/TransportModuleTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyScheduledPingTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
core/src/test/java/org/elasticsearch/transport/netty/SimpleNettyTransportTests.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/TemplateQueryParserTests.java
plugins/discovery-azure/src/main/java/org/elasticsearch/discovery/azure/AzureUnicastHostsProvider.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/discovery/ec2/AwsEc2UnicastHostsProvider.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryTests.java
plugins/discovery-gce/src/main/java/org/elasticsearch/discovery/gce/GceUnicastHostsProvider.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoveryTests.java
plugins/repository-azure/src/test/java/org/elasticsearch/repositories/azure/AzureRepositoryF.java
test/framework/src/main/java/org/elasticsearch/node/MockNode.java
test/framework/src/main/java/org/elasticsearch/test/AbstractQueryTestCase.java
test/framework/src/main/java/org/elasticsearch/test/ESSingleNodeTestCase.java
test/framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
test/framework/src/main/java/org/elasticsearch/test/transport/AssertingLocalTransport.java
test/framework/src/main/java/org/elasticsearch/test/transport/MockTransportService.java
comments:
Merge pull request #18969 from s1monw/remove_version_module

Remove a bunch of unneeded Modules

time:
2016-06-20T09:53:07Z
class:
core/src/main/java/org/elasticsearch/client/node/NodeClientModule.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/plugins/PluginsModule.java
test/framework/src/main/java/org/elasticsearch/test/AbstractQueryTestCase.java
comments:
Remove NodeClientModule and PluginsModule

time:
2016-06-20T09:45:52Z
class:
core/src/main/java/org/elasticsearch/node/Node.java
comments:
Don't create enviroment more than once

time:
2016-06-20T09:38:48Z
class:
core/src/test/java/org/elasticsearch/search/aggregations/BaseAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/BasePipelineAggregationTestCase.java
comments:
Share test injector creation

time:
2016-06-20T09:37:31Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefBootstrapTests.java
comments:
remove arity restriction (as def call incorporates all lambdas and all their captures)

time:
2016-06-20T09:28:14Z
class:
core/src/main/java/org/elasticsearch/env/EnvironmentModule.java
core/src/main/java/org/elasticsearch/env/NodeEnvironmentModule.java
core/src/main/java/org/elasticsearch/gateway/GatewayModule.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/tribe/TribeModule.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
core/src/main/java/org/elasticsearch/watcher/ResourceWatcherModule.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregatorParsingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/BaseAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/BasePipelineAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/TemplateQueryParserTests.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryTests.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoveryTests.java
test/framework/src/main/java/org/elasticsearch/test/AbstractQueryTestCase.java
comments:
Remove obsolete Modules that can simply be inlined in node creation

time:
2016-06-20T09:05:34Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Locals.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/LambdaTests.java
comments:
Function/Lambda parameters do not need to be lenient...

time:
2016-06-20T08:55:52Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/main/TransportMainAction.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodeService.java
core/src/main/java/org/elasticsearch/discovery/zen/elect/ElectMasterService.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/service/NodeService.java
core/src/main/java/org/elasticsearch/transport/local/LocalTransport.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/main/java/org/elasticsearch/tribe/TribeClientNode.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TaskManagerTestCase.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
core/src/test/java/org/elasticsearch/action/main/MainActionTests.java
core/src/test/java/org/elasticsearch/action/support/replication/BroadcastReplicationTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexServiceTests.java
core/src/test/java/org/elasticsearch/cluster/node/DiscoveryNodeServiceTests.java
core/src/test/java/org/elasticsearch/common/network/NetworkModuleTests.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryModuleTests.java
core/src/test/java/org/elasticsearch/discovery/ZenFaultDetectionTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ElectMasterServiceTests.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPingIT.java
core/src/test/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateActionTests.java
core/src/test/java/org/elasticsearch/http/HttpServerTests.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingDisabledTests.java
core/src/test/java/org/elasticsearch/indices/cluster/ClusterStateChanges.java
core/src/test/java/org/elasticsearch/transport/NettySizeHeaderFrameDecoderTests.java
core/src/test/java/org/elasticsearch/transport/NettyTransportServiceHandshakeTests.java
core/src/test/java/org/elasticsearch/transport/TransportModuleTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyScheduledPingTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
core/src/test/java/org/elasticsearch/transport/netty/SimpleNettyTransportTests.java
plugins/discovery-azure/src/main/java/org/elasticsearch/discovery/azure/AzureUnicastHostsProvider.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/discovery/ec2/AwsEc2UnicastHostsProvider.java
plugins/discovery-gce/src/main/java/org/elasticsearch/discovery/gce/GceUnicastHostsProvider.java
plugins/repository-azure/src/test/java/org/elasticsearch/repositories/azure/AzureRepositoryF.java
test/framework/src/main/java/org/elasticsearch/node/MockNode.java
test/framework/src/main/java/org/elasticsearch/test/ESSingleNodeTestCase.java
test/framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
test/framework/src/main/java/org/elasticsearch/test/transport/AssertingLocalTransport.java
test/framework/src/main/java/org/elasticsearch/test/transport/MockTransportService.java
comments:
Remove VersionModule and use Version#current consistently.

We pretended to be able to ackt like a different version node for so long it's
time to be honest and remove this ability. It's just confusing and where needed
and tested we should build dedicated extension points.

time:
2016-06-20T06:17:09Z
class:
core/src/main/java/org/elasticsearch/script/CompiledScript.java
core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/script/ScriptSettingsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
modules/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovySecurityTests.java
modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MustacheScriptEngineService.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngineService.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
test/framework/src/main/java/org/elasticsearch/script/MockScriptEngine.java
comments:
 Compile each Groovy script in its own classloader

 closes #18572

time:
2016-06-19T21:25:18Z
class:
core/src/main/java/org/elasticsearch/cluster/service/ClusterService.java
comments:
Throw if the local node is not set

This commit adds an IllegalStateException if attempting to get the local
node from the cluster service when it is not set.

Relates #18963

time:
2016-06-19T21:17:45Z
class:
modules/lang-painless/src/test/java/org/elasticsearch/painless/ArrayTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefBootstrapTests.java
comments:
Merge pull request #18960 from uschindler/forbiddenapis-2.2

Update forbiddenapis to 2.2

time:
2016-06-19T18:40:38Z
class:
modules/lang-painless/src/test/java/org/elasticsearch/painless/ArrayTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefBootstrapTests.java
comments:
Update forbiddenapis to 2.2 and fix painless tests

time:
2016-06-19T07:19:45Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/CompilerSettings.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefMath.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngineService.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECapturingFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SEach.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFunction.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/CastTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefBootstrapTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOptimizationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ScriptTestCase.java
comments:
Fix explicit casts and improve tests.

time:
2016-06-18T17:39:37Z
class:
core/src/test/java/org/elasticsearch/index/replication/ESIndexLevelReplicationTestCase.java
comments:
mark ESIndexLevelReplicationTestCase as abstract so it won't fail naming conventions

time:
2016-06-18T17:27:48Z
class:
comments:
Build: Require exactly gradle 2.13

see #18935
the newest version of gradle is `3.2`, problem still not fixed?

time:
2016-06-18T17:13:50Z
class:
core/src/test/java/org/elasticsearch/index/replication/ESIndexLevelReplicationTestCase.java
comments:
ESIndexLevelReplicationTestCase.java fix line lengths

time:
2016-06-18T16:53:47Z
class:
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationOperation.java
core/src/test/java/org/elasticsearch/index/replication/ESIndexLevelReplicationTestCase.java
core/src/test/java/org/elasticsearch/index/replication/IndexLevelReplicationTests.java
core/src/test/java/org/elasticsearch/index/replication/RecoveryDuringReplicationTests.java
test/framework/src/main/java/org/elasticsearch/test/ESTestCase.java
comments:
Introduce Replication unit tests using real shards (#18930)

This commit introduce unit testing infrastructure to test replication operations using real index shards. This is infra is complementary to the full integration tests and unit testing of ReplicationOperation we already have. The new ESIndexLevelReplicationTestCase base makes it easier to test and simulate failure mode that require real shards and but do not need the full blow stack of a complete node.

The commit also add a simple "nothing is wrong" test plus a test that checks we don't drop docs during the various stages of recovery.

For now, only single doc indexing is supported but this can be easily extended in the future.

time:
2016-06-18T16:44:54Z
class:
core/src/test/java/org/elasticsearch/cluster/service/ClusterServiceTests.java
comments:
testSingleBatchSubmission - random numbers don't have to be unique

time:
2016-06-18T15:06:18Z
class:
core/src/main/java/org/joda/time/base/BaseDateTime.java
comments:
Remove forked joda time BaseDateTime class (#18953)

This class was forked in 0.20 to remove a volatile keyword. While there
is no issue attached to the commit, no evidence of the criticality of the
change nor does it seem to be correct since we set this value internally as well
I think this class should be used as is from joda time even if we have to pay
the price of volatile reads. We can't do 3rd party optimization in our codebase that
way it just not maintainable.

This was added in 2280915d3cc3e9fe0fe5fab57ae57774e9044af7

time:
2016-06-18T14:23:35Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/LambdaLocals.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Locals.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ANode.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBool.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBoolean.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECapturingFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConditional.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConstant.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EDecimal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EExplicit.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ELambda.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENull.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENumeric.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LArrayLength.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCallInvoke.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCallLocal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewObj.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LRegex.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LStatic.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LString.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LVariable.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBreak.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SCatch.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SContinue.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclaration.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDo.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SEach.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFunction.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIf.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIfElse.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SReturn.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SThrow.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STry.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SWhile.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/LambdaTests.java
comments:
Painless: add lambda captures

time:
2016-06-18T12:21:14Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Compiler.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Constant.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Globals.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/LambdaLocals.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Locals.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ALink.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AStatement.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBool.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBoolean.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECapturingFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConditional.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConstant.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EDecimal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EExplicit.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ELambda.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENull.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENumeric.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ILambda.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LArrayLength.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCallInvoke.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCallLocal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewObj.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LRegex.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LStatic.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LString.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LVariable.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBreak.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SCatch.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SContinue.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclaration.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDo.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SEach.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFunction.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIf.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIfElse.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SReturn.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SThrow.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STry.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SWhile.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ReservedWordTests.java
comments:
Merge pull request #18951 from rmuir/refactor_variables

Refactor painless variables handling

time:
2016-06-18T08:54:12Z
class:
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchFieldsTests.java
comments:
fix compilation

time:
2016-06-18T06:40:01Z
class:
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
comments:
Add ClusterName#value as the default instead of it's toString method

time:
2016-06-17T21:40:52Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Compiler.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Constant.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Globals.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/LambdaLocals.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Locals.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ALink.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AStatement.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBool.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBoolean.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECapturingFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConditional.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConstant.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EDecimal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EExplicit.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ELambda.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENull.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENumeric.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ILambda.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LArrayLength.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCallInvoke.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCallLocal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewObj.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LRegex.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LStatic.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LString.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LVariable.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBreak.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SCatch.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SContinue.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclaration.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDo.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SEach.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFunction.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIf.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIfElse.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SReturn.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SThrow.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STry.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SWhile.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ReservedWordTests.java
comments:
Refactor variables

time:
2016-06-17T21:31:03Z
class:
comments:
Docs: Fixed code callout error.

time:
2016-06-17T20:41:25Z
class:
core/src/main/java/org/elasticsearch/search/fetch/script/ScriptFieldsFetchSubPhase.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchFieldsTests.java
comments:
Include script field even if it value is null

Include script field even if it value is null.

Closes #16408.

time:
2016-06-17T20:18:41Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/EnhancedPainlessLexer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessLexer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/SlashStrategy.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/LambdaTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/RegexTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/antlr/ParserTests.java
comments:
Painless: move semicolon hack into lexer

Perviously we used token level lookbehind in the parser. That worked,
but only if the parser didn't have any ambiguity *at all*. Since the
parser has ambiguity it didn't work everywhere. In particular it failed
when parsing blocks in lambdas like `a -> {int b = a + 2; b * b}`.

This moves the hack from the parser into the lexer. There we can use
token lookbehind (same trick) to *insert* semicolons into the token
stream. This works much better for antlr because antlr's prediction
code can work with real tokens.

Also, the lexer is simpler than the parser, so if there is a place
to introduce a hack, that is a better place.

time:
2016-06-17T19:27:46Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/Preference.java
core/src/test/java/org/elasticsearch/cluster/routing/OperationRoutingTests.java
core/src/test/java/org/elasticsearch/recovery/RecoveryWhileUnderLoadIT.java
core/src/test/java/org/elasticsearch/search/preference/SearchPreferenceIT.java
comments:
Remove only node preference

This commit removes the search preference _only_node as the same
functionality can be obtained by using the search preference
_only_nodes. This commit also adds a test that ensures that _only_nodes
will continue to support specifying node IDs.

Relates #18875

time:
2016-06-17T19:19:52Z
class:
comments:
Add note that thread pool settings are node-level

This commit adds a note to the breaking changes docs that since commit
da74323141a69bd06fc19a70bc072143e9f0e986, thread pool settings are no
longer cluster-level settings and thus not dynamically updatable.

time:
2016-06-17T16:14:45Z
class:
comments:
[DOCS] fix missing rollover-index link

time:
2016-06-17T15:41:23Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/discovery/Discovery.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/test/NoopDiscovery.java
comments:
Merge branch 'master' of https://github.com/elastic/elasticsearch

time:
2016-06-17T15:35:57Z
class:
benchmarks/src/main/java/org/elasticsearch/benchmark/routing/allocation/AllocationBenchmark.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/LivenessResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/TransportLivenessAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/TransportCancelTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TransportListTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/TransportVerifyRepositoryAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/main/MainResponse.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodesResponse.java
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/action/support/tasks/TransportTasksAction.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/ClusterName.java
core/src/main/java/org/elasticsearch/cluster/ClusterNameModule.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/service/ClusterService.java
core/src/main/java/org/elasticsearch/common/network/NetworkModule.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/NodesFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/ZenPing.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/gateway/Gateway.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/indices/store/IndicesStore.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/InternalOrder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/InternalTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/Terms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsParser.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/test/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/CancellableTasksTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TaskManagerTestCase.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TestTaskPlugin.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TransportTasksActionTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/shrink/TransportShrinkActionTests.java
core/src/test/java/org/elasticsearch/action/bulk/TransportBulkActionTookTests.java
core/src/test/java/org/elasticsearch/action/support/AutoCreateIndexTests.java
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/master/TransportMasterNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/nodes/TransportNodesActionTests.java
core/src/test/java/org/elasticsearch/action/support/replication/BroadcastReplicationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportReplicationActionTests.java
core/src/test/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationActionTests.java
core/src/test/java/org/elasticsearch/action/termvectors/AbstractTermVectorsTestCase.java
core/src/test/java/org/elasticsearch/client/transport/FailAndRetryMockTransport.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientHeadersTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterModuleTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateTests.java
core/src/test/java/org/elasticsearch/cluster/NodeConnectionsServiceTests.java
core/src/test/java/org/elasticsearch/cluster/action/shard/ShardFailedClusterStateTaskExecutorTests.java
core/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java
core/src/test/java/org/elasticsearch/cluster/health/ClusterStateHealthTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/OperationRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/PrimaryTermsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingTableTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ActiveAllocationIdTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AddIncrementallyTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationPriorityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AwarenessAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceConfigurationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/CatAllocationTestCase.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ClusterRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ConcurrentRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/DeadNodesAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ElectReplicaAsPrimaryDuringRelocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ExpectedShardSizeAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedNodeRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FilterAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FilterRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/IndexBalanceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/MaxRetryAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/NodeVersionAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferLocalPrimariesToRelocatingPrimariesTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferPrimaryAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PrimaryElectionRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PrimaryNotRelocatedWhileBeingRecoveredTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RandomAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RebalanceAfterActiveTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ReplicaAllocatedAfterPrimaryTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RoutingNodesIntegrityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SameShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardVersioningTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardsLimitAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardNoReplicasRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardOneReplicaRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/StartedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/TenShardsOneReplicaRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ThrottlingAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/UpdateNumberOfReplicasTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/ClusterStateToStringTests.java
core/src/test/java/org/elasticsearch/cluster/service/ClusterServiceTests.java
core/src/test/java/org/elasticsearch/cluster/structure/RoutingIteratorTests.java
core/src/test/java/org/elasticsearch/discovery/ZenFaultDetectionTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenPingTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPingIT.java
core/src/test/java/org/elasticsearch/discovery/zen/publish/PendingClusterStatesQueueTests.java
core/src/test/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateActionTests.java
core/src/test/java/org/elasticsearch/gateway/GatewayMetaStateTests.java
core/src/test/java/org/elasticsearch/gateway/GatewayServiceTests.java
core/src/test/java/org/elasticsearch/gateway/PrimaryShardAllocatorTests.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/http/HttpServerTests.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingDisabledTests.java
core/src/test/java/org/elasticsearch/indices/cluster/ClusterStateChanges.java
core/src/test/java/org/elasticsearch/indices/cluster/IndicesClusterStateServiceRandomUpdatesTests.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreTests.java
core/src/test/java/org/elasticsearch/mget/SimpleMgetIT.java
core/src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ShardSizeTermsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ShardSizeTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TermsDocCountErrorIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TermsTests.java
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTestCase.java
core/src/test/java/org/elasticsearch/transport/NettySizeHeaderFrameDecoderTests.java
core/src/test/java/org/elasticsearch/transport/NettyTransportServiceHandshakeTests.java
core/src/test/java/org/elasticsearch/transport/TransportModuleTests.java
core/src/test/java/org/elasticsearch/transport/local/SimpleLocalTransportTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyScheduledPingTests.java
core/src/test/java/org/elasticsearch/transport/netty/SimpleNettyTransportTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/DoubleTermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndicesRequestTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/LongTermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MinDocCountTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/StringTermsTests.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/TransportRethrottleAction.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/AmazonEC2Mock.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryTests.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoveryTests.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/AwsS3Service.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/InternalAwsS3Service.java
plugins/repository-s3/src/main/java/org/elasticsearch/plugin/repository/s3/S3RepositoryPlugin.java
plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3Repository.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/AmazonS3Wrapper.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/TestAwsS3Service.java
plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/AbstractS3SnapshotRestoreTest.java
test/framework/src/main/java/org/elasticsearch/cluster/MockInternalClusterInfoService.java
test/framework/src/main/java/org/elasticsearch/test/ClusterServiceUtils.java
test/framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
test/framework/src/main/java/org/elasticsearch/test/ESSingleNodeTestCase.java
test/framework/src/main/java/org/elasticsearch/test/ExternalNode.java
test/framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
test/framework/src/main/java/org/elasticsearch/test/transport/MockTransportService.java
comments:
Merge branch 'master' into enhancement/rollover_api

time:
2016-06-17T15:32:38Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/discovery/Discovery.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/test/NoopDiscovery.java
comments:
Inline reroute with process of node join/master election (#18938)

In the past, we had the semantics where the very first cluster state a node processed after joining could not contain shard assignment to it. This was to make sure the node cleans up local / stale shard copies before receiving new ones that might confuse it. Since then a lot of work in this area, most notably the introduction of allocation ids and #17270 . This means we don't have to be careful and just reroute in the same cluster state change where we process the join, keeping things simple and following the same pattern we have in other places.

time:
2016-06-17T15:23:12Z
class:
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/AmazonEC2Mock.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/AwsS3Service.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/InternalAwsS3Service.java
plugins/repository-s3/src/main/java/org/elasticsearch/plugin/repository/s3/S3RepositoryPlugin.java
plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3Repository.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/AmazonS3Wrapper.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/TestAwsS3Service.java
plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/AbstractS3SnapshotRestoreTest.java
comments:
Merge branch 'pr/update-aws-sdk'

# Conflicts:
#	plugins/repository-s3/src/main/java/org/elasticsearch/plugin/repository/s3/S3RepositoryPlugin.java

time:
2016-06-17T15:14:01Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/InternalOrder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/InternalTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/Terms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsParser.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ShardSizeTermsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TermsDocCountErrorIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/DoubleTermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/LongTermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MinDocCountTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/StringTermsTests.java
comments:
Revert "Remove support for sorting terms aggregation by ascending count"

This is delayed after alpha4 since Kibana relies on it.

time:
2016-06-17T15:07:19Z
class:
benchmarks/src/main/java/org/elasticsearch/benchmark/routing/allocation/AllocationBenchmark.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/LivenessResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/TransportLivenessAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/TransportCancelTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TransportListTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/TransportVerifyRepositoryAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/main/MainResponse.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodesResponse.java
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/action/support/tasks/TransportTasksAction.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/ClusterName.java
core/src/main/java/org/elasticsearch/cluster/ClusterNameModule.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/service/ClusterService.java
core/src/main/java/org/elasticsearch/common/network/NetworkModule.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/NodesFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/ZenPing.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/gateway/Gateway.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/indices/store/IndicesStore.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/test/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/CancellableTasksTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TaskManagerTestCase.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TestTaskPlugin.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TransportTasksActionTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/shrink/TransportShrinkActionTests.java
core/src/test/java/org/elasticsearch/action/bulk/TransportBulkActionTookTests.java
core/src/test/java/org/elasticsearch/action/support/AutoCreateIndexTests.java
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/master/TransportMasterNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/nodes/TransportNodesActionTests.java
core/src/test/java/org/elasticsearch/action/support/replication/BroadcastReplicationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportReplicationActionTests.java
core/src/test/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationActionTests.java
core/src/test/java/org/elasticsearch/action/termvectors/AbstractTermVectorsTestCase.java
core/src/test/java/org/elasticsearch/client/transport/FailAndRetryMockTransport.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientHeadersTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterModuleTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateTests.java
core/src/test/java/org/elasticsearch/cluster/NodeConnectionsServiceTests.java
core/src/test/java/org/elasticsearch/cluster/action/shard/ShardFailedClusterStateTaskExecutorTests.java
core/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java
core/src/test/java/org/elasticsearch/cluster/health/ClusterStateHealthTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/OperationRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/PrimaryTermsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingTableTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ActiveAllocationIdTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AddIncrementallyTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationPriorityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AwarenessAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceConfigurationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/CatAllocationTestCase.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ClusterRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ConcurrentRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/DeadNodesAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ElectReplicaAsPrimaryDuringRelocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ExpectedShardSizeAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedNodeRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FilterAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FilterRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/IndexBalanceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/MaxRetryAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/NodeVersionAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferLocalPrimariesToRelocatingPrimariesTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferPrimaryAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PrimaryElectionRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PrimaryNotRelocatedWhileBeingRecoveredTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RandomAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RebalanceAfterActiveTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ReplicaAllocatedAfterPrimaryTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RoutingNodesIntegrityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SameShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardVersioningTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardsLimitAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardNoReplicasRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardOneReplicaRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/StartedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/TenShardsOneReplicaRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ThrottlingAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/UpdateNumberOfReplicasTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/ClusterStateToStringTests.java
core/src/test/java/org/elasticsearch/cluster/service/ClusterServiceTests.java
core/src/test/java/org/elasticsearch/cluster/structure/RoutingIteratorTests.java
core/src/test/java/org/elasticsearch/discovery/ZenFaultDetectionTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenPingTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPingIT.java
core/src/test/java/org/elasticsearch/discovery/zen/publish/PendingClusterStatesQueueTests.java
core/src/test/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateActionTests.java
core/src/test/java/org/elasticsearch/gateway/GatewayMetaStateTests.java
core/src/test/java/org/elasticsearch/gateway/GatewayServiceTests.java
core/src/test/java/org/elasticsearch/gateway/PrimaryShardAllocatorTests.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/http/HttpServerTests.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingDisabledTests.java
core/src/test/java/org/elasticsearch/indices/cluster/ClusterStateChanges.java
core/src/test/java/org/elasticsearch/indices/cluster/IndicesClusterStateServiceRandomUpdatesTests.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreTests.java
core/src/test/java/org/elasticsearch/mget/SimpleMgetIT.java
core/src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ShardSizeTestCase.java
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTestCase.java
core/src/test/java/org/elasticsearch/transport/NettySizeHeaderFrameDecoderTests.java
core/src/test/java/org/elasticsearch/transport/NettyTransportServiceHandshakeTests.java
core/src/test/java/org/elasticsearch/transport/TransportModuleTests.java
core/src/test/java/org/elasticsearch/transport/local/SimpleLocalTransportTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyScheduledPingTests.java
core/src/test/java/org/elasticsearch/transport/netty/SimpleNettyTransportTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndicesRequestTests.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/TransportRethrottleAction.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryTests.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoveryTests.java
test/framework/src/main/java/org/elasticsearch/cluster/MockInternalClusterInfoService.java
test/framework/src/main/java/org/elasticsearch/test/ClusterServiceUtils.java
test/framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
test/framework/src/main/java/org/elasticsearch/test/ESSingleNodeTestCase.java
test/framework/src/main/java/org/elasticsearch/test/ExternalNode.java
test/framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
test/framework/src/main/java/org/elasticsearch/test/transport/MockTransportService.java
comments:
Cleanup ClusterService dependencies and detached from Guice (#18941)

This change removes some unnecessary dependencies from ClusterService
and cleans up ClusterName creation. ClusterService is now not created
by guice anymore.

time:
2016-06-17T15:02:00Z
class:
plugins/repository-s3/src/main/java/org/elasticsearch/plugin/repository/s3/S3RepositoryPlugin.java
comments:
Revert change about registering Repository settings

Will create another issue to change that. Related to this discussion: https://github.com/elastic/elasticsearch/pull/17784/files/f4cd3bd3480bf6c0a51faf408d8ea9c8a8733a6b#r67291936

time:
2016-06-17T14:33:11Z
class:
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/cluster/ClusterStateTaskExecutor.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
core/src/main/java/org/elasticsearch/cluster/service/ClusterService.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/indices/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AbstractAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
core/src/main/java/org/elasticsearch/search/aggregations/PipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/InternalOrder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/InternalTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/Terms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/AbstractPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/BucketHelpers.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorBuilders.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/avg/AvgBucketPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/max/MaxBucketPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/min/MinBucketPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/PercentilesBucketPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/StatsBucketPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/ExtendedStatsBucketParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/ExtendedStatsBucketPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/sum/SumBucketPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketselector/BucketSelectorPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/cumulativesum/CumulativeSumPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/DerivativePipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/EwmaModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltLinearModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltWintersModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/LinearModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/SimpleModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TestTaskPlugin.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientHeadersTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/service/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/service/ClusterServiceTests.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsFilteringIT.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/index/SettingsListenerIT.java
core/src/test/java/org/elasticsearch/index/WaitUntilRefreshIT.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapperPlugin.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
core/src/test/java/org/elasticsearch/indices/IndicesOptionsIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/analysis/DummyAnalysisPlugin.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerIT.java
core/src/test/java/org/elasticsearch/indices/template/IndexTemplateFilteringIT.java
core/src/test/java/org/elasticsearch/ingest/IngestCloseIT.java
core/src/test/java/org/elasticsearch/nodesinfo/plugin/dummy1/TestPlugin.java
core/src/test/java/org/elasticsearch/plugins/PluginsServiceTests.java
core/src/test/java/org/elasticsearch/plugins/responseheader/TestResponseHeaderPlugin.java
core/src/test/java/org/elasticsearch/script/ScriptFieldIT.java
core/src/test/java/org/elasticsearch/search/SearchServiceTests.java
core/src/test/java/org/elasticsearch/search/SearchTimeoutIT.java
core/src/test/java/org/elasticsearch/search/aggregations/BasePipelineAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateScriptMocks.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IpRangeIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ShardSizeTermsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TermsDocCountErrorIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TermsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/BucketScriptTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/BucketSelectorTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/CumulativeSumTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/DerivativeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/SerialDifferenceTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/AbstractBucketMetricsTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/AvgBucketTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/ExtendedStatsBucketTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/MaxBucketTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/MinBucketTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/PercentilesBucketTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/StatsBucketTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/SumBucketTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgTests.java
core/src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsIT.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptPlugin.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScorePluginIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoBoundingBoxIT.java
core/src/test/java/org/elasticsearch/search/highlight/CustomHighlighterPlugin.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggesterPlugin.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/MockRepository.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportIT.java
core/src/test/java/org/elasticsearch/update/UpdateByNativeScriptIT.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/matrix/MatrixAggregationPlugin.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/IngestCommonPlugin.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionPlugin.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyPlugin.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/DoubleTermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndicesRequestTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/LongTermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MinDocCountTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/StringTermsTests.java
modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MustachePlugin.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Compiler.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessPlugin.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFunction.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/Debugger.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolateRequestBuilder.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolateSourceBuilder.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolatorPlugin.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/ReindexPlugin.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/CancelTests.java
plugins/analysis-icu/src/main/java/org/elasticsearch/plugin/analysis/icu/AnalysisICUPlugin.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/plugin/analysis/kuromoji/AnalysisKuromojiPlugin.java
plugins/analysis-phonetic/src/main/java/org/elasticsearch/plugin/analysis/AnalysisPhoneticPlugin.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/plugin/analysis/smartcn/AnalysisSmartChinesePlugin.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/plugin/analysis/stempel/AnalysisStempelPlugin.java
plugins/discovery-azure/src/main/java/org/elasticsearch/plugin/discovery/azure/AzureDiscoveryPlugin.java
plugins/discovery-azure/src/test/java/org/elasticsearch/cloud/azure/AzureComputeServiceSimpleMock.java
plugins/discovery-azure/src/test/java/org/elasticsearch/cloud/azure/AzureComputeServiceTwoNodesMock.java
plugins/discovery-azure/src/test/java/org/elasticsearch/discovery/azure/AzureDiscoveryClusterFormationTests.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/plugin/discovery/ec2/Ec2DiscoveryPlugin.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/cloud/aws/AWSSignersTests.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryClusterFormationTests.java
plugins/discovery-gce/src/main/java/org/elasticsearch/plugin/discovery/gce/GceDiscoveryPlugin.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoverTests.java
plugins/ingest-attachment/src/main/java/org/elasticsearch/ingest/attachment/IngestAttachmentPlugin.java
plugins/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/IngestGeoIpPlugin.java
plugins/jvm-example/src/main/java/org/elasticsearch/plugin/example/JvmExamplePlugin.java
plugins/lang-javascript/src/main/java/org/elasticsearch/plugin/javascript/JavaScriptPlugin.java
plugins/lang-python/src/main/java/org/elasticsearch/plugin/python/PythonPlugin.java
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/MapperAttachmentsPlugin.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/plugin/mapper/MapperMurmur3Plugin.java
plugins/mapper-size/src/main/java/org/elasticsearch/plugin/mapper/MapperSizePlugin.java
plugins/repository-azure/src/main/java/org/elasticsearch/plugin/repository/azure/AzureRepositoryPlugin.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureRepositoryServiceIntegTestCase.java
plugins/repository-gcs/src/main/java/org/elasticsearch/plugin/repository/gcs/GoogleCloudStoragePlugin.java
plugins/repository-hdfs/src/main/java/org/elasticsearch/repositories/hdfs/HdfsPlugin.java
plugins/repository-s3/src/main/java/org/elasticsearch/plugin/repository/s3/S3RepositoryPlugin.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/TestAwsS3Service.java
plugins/store-smb/src/main/java/org/elasticsearch/plugin/store/smb/SMBStorePlugin.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/InstallPluginCommandTests.java
test/framework/src/main/java/org/elasticsearch/cluster/MockInternalClusterInfoService.java
test/framework/src/main/java/org/elasticsearch/index/MockEngineFactoryPlugin.java
test/framework/src/main/java/org/elasticsearch/ingest/IngestTestPlugin.java
test/framework/src/main/java/org/elasticsearch/node/NodeMocksPlugin.java
test/framework/src/main/java/org/elasticsearch/script/MockScriptEngine.java
test/framework/src/main/java/org/elasticsearch/search/MockSearchService.java
test/framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
test/framework/src/main/java/org/elasticsearch/test/InternalSettingsPlugin.java
test/framework/src/main/java/org/elasticsearch/test/MockIndexEventListener.java
test/framework/src/main/java/org/elasticsearch/test/store/MockFSIndexStore.java
test/framework/src/main/java/org/elasticsearch/test/transport/AssertingLocalTransport.java
test/framework/src/main/java/org/elasticsearch/test/transport/MockTransportService.java
comments:
Merge branch 'master' into enhancement/rollover_api

time:
2016-06-17T14:20:03Z
class:
comments:
Update integrations.asciidoc (#18915)

time:
2016-06-17T13:07:28Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/InternalOrder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/InternalTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/Terms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsParser.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ShardSizeTermsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TermsDocCountErrorIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/DoubleTermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/LongTermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MinDocCountTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/StringTermsTests.java
comments:
Merge pull request #18940 from jimferenczi/terms_count_asc

Remove support for sorting terms aggregation by ascending count

time:
2016-06-17T13:06:49Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/InternalOrder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/InternalTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/Terms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsParser.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ShardSizeTermsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TermsDocCountErrorIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/DoubleTermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/LongTermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MinDocCountTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/StringTermsTests.java
comments:
Remove support for sorting terms aggregation by ascending count

closes #17614

time:
2016-06-17T12:35:49Z
class:
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AbstractAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
core/src/main/java/org/elasticsearch/search/aggregations/PipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/AbstractPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/BucketHelpers.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorBuilders.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/avg/AvgBucketPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/max/MaxBucketPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/min/MinBucketPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/PercentilesBucketPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/StatsBucketPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/ExtendedStatsBucketParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/ExtendedStatsBucketPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/sum/SumBucketPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketselector/BucketSelectorPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/cumulativesum/CumulativeSumPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/DerivativePipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/EwmaModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltLinearModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltWintersModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/LinearModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/SimpleModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffPipelineAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/test/java/org/elasticsearch/search/aggregations/BasePipelineAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/BucketScriptTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/BucketSelectorTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/CumulativeSumTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/DerivativeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/SerialDifferenceTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/AbstractBucketMetricsTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/AvgBucketTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/ExtendedStatsBucketTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/MaxBucketTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/MinBucketTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/PercentilesBucketTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/StatsBucketTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/SumBucketTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgTests.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolateRequestBuilder.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolateSourceBuilder.java
comments:
Rename PipelineAggregatorBuilder to PipelineAggregationBuilder.

This is a follow-up to #18377.

time:
2016-06-17T12:22:49Z
class:
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/InstallPluginCommandTests.java
comments:
Merge pull request #18942 from jimferenczi/did_you_mean_plugin

Add did-you-mean for plugin cli

time:
2016-06-17T11:50:18Z
class:
benchmarks/src/main/java/org/elasticsearch/benchmark/routing/allocation/AllocationBenchmark.java
benchmarks/src/main/java/org/elasticsearch/benchmark/routing/allocation/Allocators.java
core/src/main/java/org/elasticsearch/ResourceNotFoundException.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/TransportGetTaskAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TransportListTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexShardStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexStatus.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkRequest.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequest.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardRequest.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardResponse.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsAction.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchResponse.java
core/src/main/java/org/elasticsearch/action/support/broadcast/BroadcastShardResponse.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/cluster/ClusterStateTaskExecutor.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
core/src/main/java/org/elasticsearch/cluster/service/ClusterService.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/main/java/org/elasticsearch/common/settings/SettingsModule.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/env/EnvironmentModule.java
core/src/main/java/org/elasticsearch/http/HttpServer.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexNumericFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/SortedNumericDVIndexFieldData.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/QueryParser.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/indices/breaker/CircuitBreakerModule.java
core/src/main/java/org/elasticsearch/indices/breaker/CircuitBreakerService.java
core/src/main/java/org/elasticsearch/indices/breaker/HierarchyCircuitBreakerService.java
core/src/main/java/org/elasticsearch/ingest/IngestService.java
core/src/main/java/org/elasticsearch/ingest/PipelineStore.java
core/src/main/java/org/elasticsearch/ingest/ProcessorsRegistry.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/NodeModule.java
core/src/main/java/org/elasticsearch/node/service/NodeService.java
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/plugins/ScriptPlugin.java
core/src/main/java/org/elasticsearch/rest/RestController.java
core/src/main/java/org/elasticsearch/rest/RestHandler.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/health/RestClusterHealthAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/hotthreads/RestNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/info/RestNodesInfoAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/stats/RestNodesStatsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/tasks/RestCancelTasksAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/tasks/RestListTasksAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/settings/RestClusterGetSettingsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/settings/RestClusterUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/state/RestClusterStateAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/stats/RestClusterStatsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestShrinkIndexAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/cache/clear/RestClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/stats/RestIndicesStatsAction.java
core/src/main/java/org/elasticsearch/rest/action/support/RestActions.java
core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
core/src/main/java/org/elasticsearch/script/NativeScriptFactory.java
core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java
core/src/main/java/org/elasticsearch/script/ScriptEngineRegistry.java
core/src/main/java/org/elasticsearch/script/ScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/BestBucketsDeferringCollector.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/explain/ExplainFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/matchedqueries/MatchedQueriesFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/parent/ParentFieldSubFetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/script/ScriptFieldsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/source/FetchSourceSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/version/VersionFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
core/src/main/java/org/elasticsearch/tasks/TaskManager.java
core/src/main/java/org/elasticsearch/threadpool/ExecutorBuilder.java
core/src/main/java/org/elasticsearch/threadpool/FixedExecutorBuilder.java
core/src/main/java/org/elasticsearch/threadpool/ScalingExecutorBuilder.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPoolModule.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/RecordingTaskManagerListener.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TasksIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TestTaskPlugin.java
core/src/test/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequestTests.java
core/src/test/java/org/elasticsearch/action/ingest/SimulatePipelineRequestParsingTests.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientHeadersTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterModuleTests.java
core/src/test/java/org/elasticsearch/cluster/service/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/service/ClusterServiceTests.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsFilteringIT.java
core/src/test/java/org/elasticsearch/common/rounding/TimeZoneRoundingTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsModuleTests.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsIntegrationIT.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpClient.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpRequestSizeLimitIT.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/SettingsListenerIT.java
core/src/test/java/org/elasticsearch/index/WaitUntilRefreshIT.java
core/src/test/java/org/elasticsearch/index/fielddata/plain/HalfFloatFielddataTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/NumberFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapperPlugin.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
core/src/test/java/org/elasticsearch/indices/IndicesOptionsIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/analysis/DummyAnalysisPlugin.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerIT.java
core/src/test/java/org/elasticsearch/indices/template/IndexTemplateFilteringIT.java
core/src/test/java/org/elasticsearch/ingest/IngestCloseIT.java
core/src/test/java/org/elasticsearch/ingest/PipelineStoreTests.java
core/src/test/java/org/elasticsearch/ingest/ProcessorsRegistryTests.java
core/src/test/java/org/elasticsearch/ingest/core/ConfigurationUtilsTests.java
core/src/test/java/org/elasticsearch/ingest/core/PipelineFactoryTests.java
core/src/test/java/org/elasticsearch/nodesinfo/plugin/dummy1/TestPlugin.java
core/src/test/java/org/elasticsearch/plugins/PluginsServiceTests.java
core/src/test/java/org/elasticsearch/plugins/responseheader/TestResponseHeaderPlugin.java
core/src/test/java/org/elasticsearch/rest/RestControllerTests.java
core/src/test/java/org/elasticsearch/rest/action/main/RestMainActionTests.java
core/src/test/java/org/elasticsearch/rest/action/support/RestTableTests.java
core/src/test/java/org/elasticsearch/script/FileScriptTests.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptContextTests.java
core/src/test/java/org/elasticsearch/script/ScriptFieldIT.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/script/ScriptSettingsTests.java
core/src/test/java/org/elasticsearch/search/SearchServiceTests.java
core/src/test/java/org/elasticsearch/search/SearchTimeoutIT.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregatorParsingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/BaseAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/BasePipelineAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateScriptMocks.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IpRangeIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactoryTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsIT.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptIT.java
core/src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptPlugin.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScorePluginIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoBoundingBoxIT.java
core/src/test/java/org/elasticsearch/search/highlight/CustomHighlighterPlugin.java
core/src/test/java/org/elasticsearch/search/sort/AbstractSortTestCase.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggesterPlugin.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/MockRepository.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportIT.java
core/src/test/java/org/elasticsearch/update/UpdateByNativeScriptIT.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/matrix/MatrixAggregationPlugin.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/IngestCommonPlugin.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/ScriptProcessor.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/ForEachProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/ScriptProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/ScriptProcessorTests.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionPlugin.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyPlugin.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndicesRequestTests.java
modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MustachePlugin.java
modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MustacheScriptEngineService.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/TemplateQueryParserTests.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerCaster.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Compiler.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefMath.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/FunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Operation.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessPlugin.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngineService.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessLexer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECapturingFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LRegex.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFunction.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/AdditionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/AndTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicStatementTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/CompoundAssignmentTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/Debugger.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefBootstrapTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOptimizationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DivisionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/IncrementTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/LambdaTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/MultiplicationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/OrTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/RegexTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/RemainderTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ScriptTestCase.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ShiftTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/StringTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/SubtractionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/XorTests.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolatorHighlightSubFetchPhase.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolatorPlugin.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorHighlightSubFetchPhaseTests.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/ReindexPlugin.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/CancelTests.java
plugins/analysis-icu/src/main/java/org/elasticsearch/plugin/analysis/icu/AnalysisICUPlugin.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/plugin/analysis/kuromoji/AnalysisKuromojiPlugin.java
plugins/analysis-phonetic/src/main/java/org/elasticsearch/plugin/analysis/AnalysisPhoneticPlugin.java
comments:
Merge branch 'master' into feature/http_client

time:
2016-06-17T11:46:27Z
class:
buildSrc/src/main/java/org/elasticsearch/test/NamingConventionsCheck.java
comments:
Build: do not load integ test class if --skip-integ-tests-in-disguise is specified in NamingConventionsCheck

Projects that don't depend on elasticsearch-test fail otherwise because org.elasticsearch.test.EsIntegTestCase (default integ test class) is not in the classpath. They should provide their onw integ test base class, but having integration tests should not be mandatory. One can simply set skipIntegTestsInDisguise to true to prevent loading of integ test class.

time:
2016-06-17T10:17:48Z
class:
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/InstallPluginCommandTests.java
comments:
Add did-you-mean for plugin cli
This commit adds error messages like: `Unknown plugin xpack, did you mean [x-pack]?`

Closes #18896

time:
2016-06-17T08:09:21Z
class:
comments:
grammar

time:
2016-06-17T07:22:15Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterStateTaskExecutor.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
core/src/main/java/org/elasticsearch/cluster/service/ClusterService.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/test/java/org/elasticsearch/cluster/service/ClusterServiceTests.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
comments:
Simplify NodeJoinController to make use of new cluster state batching infra (#18832)

The NodeJoinController is responsible for processing joins from nodes, both normally and during master election. For both use cases, the class processes incoming joins in batches in order to be efficient and to accumulated enough joins (i.e., >= min_master_nodes) to seal an election and ensure the new cluster state can be committed. Since the class was written, we introduced a new infrastructure to support batch changes to the cluster state at the `ClusterService` level. This commit rewrites NodeJoinController to use that infra and be simpler.

The PR also introduces a new concept to ClusterService allowing to submit tasks in batches, guaranteeing that all tasks submitted in a batch will be processed together (potentially with more tasks).  On top of that I added some extra safety checks to the ClusterService, around potential double submission of task objects into the queue.

This is done in preparation to revive #17811

time:
2016-06-17T07:03:00Z
class:
core/src/test/java/org/elasticsearch/search/geo/GeoBoundingBoxIT.java
comments:
Upgrade to Lucene 6.1.0. #18926

time:
2016-06-17T04:03:38Z
class:
comments:
update docs

time:
2016-06-16T22:39:21Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
comments:
Merge pull request #18933 from uschindler/painless-issue-18929

Fix compound assignment with string concats

time:
2016-06-16T22:30:09Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
comments:
Fix compound assignment with string concats. in Java 9 there is no stringbuilder on stack! This closes #18929

time:
2016-06-16T21:47:14Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Compiler.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFunction.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/Debugger.java
comments:
Merge pull request #18932 from rmuir/painless_debug_exception

improve Debugger to print code even if it hits exception

time:
2016-06-16T21:35:25Z
class:
core/src/main/java/org/elasticsearch/indices/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TestTaskPlugin.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientHeadersTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/service/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsFilteringIT.java
core/src/test/java/org/elasticsearch/index/SettingsListenerIT.java
core/src/test/java/org/elasticsearch/index/WaitUntilRefreshIT.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapperPlugin.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
core/src/test/java/org/elasticsearch/indices/IndicesOptionsIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/analysis/DummyAnalysisPlugin.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerIT.java
core/src/test/java/org/elasticsearch/indices/template/IndexTemplateFilteringIT.java
core/src/test/java/org/elasticsearch/ingest/IngestCloseIT.java
core/src/test/java/org/elasticsearch/nodesinfo/plugin/dummy1/TestPlugin.java
core/src/test/java/org/elasticsearch/plugins/PluginsServiceTests.java
core/src/test/java/org/elasticsearch/plugins/responseheader/TestResponseHeaderPlugin.java
core/src/test/java/org/elasticsearch/script/ScriptFieldIT.java
core/src/test/java/org/elasticsearch/search/SearchServiceTests.java
core/src/test/java/org/elasticsearch/search/SearchTimeoutIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateScriptMocks.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IpRangeIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsIT.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptPlugin.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScorePluginIT.java
core/src/test/java/org/elasticsearch/search/highlight/CustomHighlighterPlugin.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggesterPlugin.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/MockRepository.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportIT.java
core/src/test/java/org/elasticsearch/update/UpdateByNativeScriptIT.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/matrix/MatrixAggregationPlugin.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/IngestCommonPlugin.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionPlugin.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyPlugin.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndicesRequestTests.java
modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MustachePlugin.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessPlugin.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolatorPlugin.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/ReindexPlugin.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/CancelTests.java
plugins/analysis-icu/src/main/java/org/elasticsearch/plugin/analysis/icu/AnalysisICUPlugin.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/plugin/analysis/kuromoji/AnalysisKuromojiPlugin.java
plugins/analysis-phonetic/src/main/java/org/elasticsearch/plugin/analysis/AnalysisPhoneticPlugin.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/plugin/analysis/smartcn/AnalysisSmartChinesePlugin.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/plugin/analysis/stempel/AnalysisStempelPlugin.java
plugins/discovery-azure/src/main/java/org/elasticsearch/plugin/discovery/azure/AzureDiscoveryPlugin.java
plugins/discovery-azure/src/test/java/org/elasticsearch/cloud/azure/AzureComputeServiceSimpleMock.java
plugins/discovery-azure/src/test/java/org/elasticsearch/cloud/azure/AzureComputeServiceTwoNodesMock.java
plugins/discovery-azure/src/test/java/org/elasticsearch/discovery/azure/AzureDiscoveryClusterFormationTests.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/plugin/discovery/ec2/Ec2DiscoveryPlugin.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/cloud/aws/AWSSignersTests.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryClusterFormationTests.java
plugins/discovery-gce/src/main/java/org/elasticsearch/plugin/discovery/gce/GceDiscoveryPlugin.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoverTests.java
plugins/ingest-attachment/src/main/java/org/elasticsearch/ingest/attachment/IngestAttachmentPlugin.java
plugins/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/IngestGeoIpPlugin.java
plugins/jvm-example/src/main/java/org/elasticsearch/plugin/example/JvmExamplePlugin.java
plugins/lang-javascript/src/main/java/org/elasticsearch/plugin/javascript/JavaScriptPlugin.java
plugins/lang-python/src/main/java/org/elasticsearch/plugin/python/PythonPlugin.java
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/MapperAttachmentsPlugin.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/plugin/mapper/MapperMurmur3Plugin.java
plugins/mapper-size/src/main/java/org/elasticsearch/plugin/mapper/MapperSizePlugin.java
plugins/repository-azure/src/main/java/org/elasticsearch/plugin/repository/azure/AzureRepositoryPlugin.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureRepositoryServiceIntegTestCase.java
plugins/repository-gcs/src/main/java/org/elasticsearch/plugin/repository/gcs/GoogleCloudStoragePlugin.java
plugins/repository-hdfs/src/main/java/org/elasticsearch/repositories/hdfs/HdfsPlugin.java
plugins/repository-s3/src/main/java/org/elasticsearch/plugin/repository/s3/S3RepositoryPlugin.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/TestAwsS3Service.java
plugins/store-smb/src/main/java/org/elasticsearch/plugin/store/smb/SMBStorePlugin.java
test/framework/src/main/java/org/elasticsearch/cluster/MockInternalClusterInfoService.java
test/framework/src/main/java/org/elasticsearch/index/MockEngineFactoryPlugin.java
test/framework/src/main/java/org/elasticsearch/ingest/IngestTestPlugin.java
test/framework/src/main/java/org/elasticsearch/node/NodeMocksPlugin.java
test/framework/src/main/java/org/elasticsearch/script/MockScriptEngine.java
test/framework/src/main/java/org/elasticsearch/search/MockSearchService.java
test/framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
test/framework/src/main/java/org/elasticsearch/test/InternalSettingsPlugin.java
test/framework/src/main/java/org/elasticsearch/test/MockIndexEventListener.java
test/framework/src/main/java/org/elasticsearch/test/store/MockFSIndexStore.java
test/framework/src/main/java/org/elasticsearch/test/transport/AssertingLocalTransport.java
test/framework/src/main/java/org/elasticsearch/test/transport/MockTransportService.java
comments:
Merge pull request #18906 from rjernst/plugin_name_api

Plugins: Remove name() and description() from api

time:
2016-06-16T21:34:50Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Compiler.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFunction.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/Debugger.java
comments:
improve Debugger to print code even if it hits exception

time:
2016-06-16T21:27:32Z
class:
benchmarks/src/main/java/org/elasticsearch/benchmark/routing/allocation/AllocationBenchmark.java
benchmarks/src/main/java/org/elasticsearch/benchmark/routing/allocation/Allocators.java
buildSrc/src/main/java/org/elasticsearch/test/NamingConventionsCheck.java
buildSrc/src/test/java/org/elasticsearch/test/NamingConventionsCheckBadClasses.java
core/src/main/java/org/apache/lucene/document/XInetAddressPoint.java
core/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java
core/src/main/java/org/apache/lucene/queries/MinDocQuery.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/elasticsearch/ResourceNotFoundException.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/ActionRequest.java
core/src/main/java/org/elasticsearch/action/DocWriteResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/CancelTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/TransportCancelTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/GetTaskAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/GetTaskRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/GetTaskRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/GetTaskResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/TransportGetTaskAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/ListTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TaskGroup.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TransportListTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/TransportRestoreSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexShardStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/TransportShrinkAction.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequestBuilder.java
core/src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java
core/src/main/java/org/elasticsearch/action/bulk/BulkShardResponse.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/DeleteRequest.java
core/src/main/java/org/elasticsearch/action/delete/DeleteRequestBuilder.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequest.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardRequest.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardResponse.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsAction.java
core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java
core/src/main/java/org/elasticsearch/action/get/TransportMultiGetAction.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/index/IndexRequestBuilder.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/ingest/IngestActionFilter.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateExecutionService.java
core/src/main/java/org/elasticsearch/action/ingest/TrackingResultProcessor.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchResponse.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/search/SearchResponse.java
core/src/main/java/org/elasticsearch/action/search/TransportMultiSearchAction.java
core/src/main/java/org/elasticsearch/action/support/WriteRequest.java
core/src/main/java/org/elasticsearch/action/support/WriteRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/WriteResponse.java
core/src/main/java/org/elasticsearch/action/support/broadcast/BroadcastShardResponse.java
core/src/main/java/org/elasticsearch/action/support/master/AcknowledgedRequest.java
core/src/main/java/org/elasticsearch/action/support/master/MasterNodeRequest.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodesRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicatedWriteRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationOperation.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationResponse.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationTask.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportBroadcastReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportWriteAction.java
core/src/main/java/org/elasticsearch/action/support/single/instance/InstanceShardOperationRequest.java
core/src/main/java/org/elasticsearch/action/support/tasks/BaseTasksRequest.java
core/src/main/java/org/elasticsearch/action/support/tasks/TasksRequestBuilder.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/action/update/UpdateHelper.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequest.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequestBuilder.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCheck.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapSettings.java
core/src/main/java/org/elasticsearch/bootstrap/JavaVersion.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/client/ClusterAdminClient.java
core/src/main/java/org/elasticsearch/client/Requests.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/RestoreInProgress.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeMappingRefreshAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/SnapshotId.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/Preference.java
core/src/main/java/org/elasticsearch/cluster/routing/RestoreSource.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/FilterAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ThrottlingAllocationDecider.java
core/src/main/java/org/elasticsearch/common/ParseField.java
core/src/main/java/org/elasticsearch/common/geo/GeoHashUtils.java
core/src/main/java/org/elasticsearch/common/geo/GeoPoint.java
core/src/main/java/org/elasticsearch/common/geo/GeoUtils.java
core/src/main/java/org/elasticsearch/common/io/stream/Streamable.java
core/src/main/java/org/elasticsearch/common/io/stream/Writeable.java
core/src/main/java/org/elasticsearch/common/logging/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MatchNoDocsQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MoreLikeThisQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/network/NetworkModule.java
core/src/main/java/org/elasticsearch/common/rounding/TimeZoneRounding.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/common/settings/PropertyPlaceholder.java
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/settings/SettingsModule.java
core/src/main/java/org/elasticsearch/common/unit/TimeValue.java
core/src/main/java/org/elasticsearch/common/util/concurrent/EsExecutors.java
core/src/main/java/org/elasticsearch/common/xcontent/AbstractObjectParser.java
core/src/main/java/org/elasticsearch/common/xcontent/ConstructingObjectParser.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/env/EnvironmentModule.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/http/HttpServer.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/analysis/PatternReplaceCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/cache/request/ShardRequestCache.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexNumericFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/OrdinalsBuilder.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexGeoPointFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/SortedNumericDVIndexFieldData.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/Uid.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/InnerHitBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchPhrasePrefixQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchPhraseQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ParentIdQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/QueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoPolygonQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/InMemoryGeoBoundingBoxQuery.java
core/src/main/java/org/elasticsearch/index/shard/CommitPoint.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/RefreshListeners.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/shard/StoreRecovery.java
core/src/main/java/org/elasticsearch/index/snapshots/IndexShardRepository.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshot.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/index/store/StoreFileMetaData.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/index/translog/TranslogWriter.java
core/src/main/java/org/elasticsearch/indices/AbstractIndexShardCacheEntity.java
core/src/main/java/org/elasticsearch/indices/IndicesQueryCache.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/analysis/HunspellService.java
core/src/main/java/org/elasticsearch/indices/breaker/CircuitBreakerModule.java
core/src/main/java/org/elasticsearch/indices/breaker/CircuitBreakerService.java
core/src/main/java/org/elasticsearch/indices/breaker/HierarchyCircuitBreakerService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryFileChunkRequest.java
core/src/main/java/org/elasticsearch/ingest/IngestService.java
core/src/main/java/org/elasticsearch/ingest/PipelineStore.java
core/src/main/java/org/elasticsearch/ingest/ProcessorsRegistry.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmInfo.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/NodeModule.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/node/service/NodeService.java
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/plugins/ScriptPlugin.java
core/src/main/java/org/elasticsearch/repositories/Repository.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreFormat.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
core/src/main/java/org/elasticsearch/repositories/uri/URLRepository.java
core/src/main/java/org/elasticsearch/rest/RestController.java
core/src/main/java/org/elasticsearch/rest/RestHandler.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/health/RestClusterHealthAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/hotthreads/RestNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/info/RestNodesInfoAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/stats/RestNodesStatsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/tasks/RestCancelTasksAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/tasks/RestGetTaskAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/tasks/RestListTasksAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/settings/RestClusterGetSettingsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/settings/RestClusterUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/state/RestClusterStateAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/stats/RestClusterStatsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestShrinkIndexAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/cache/clear/RestClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/stats/RestIndicesStatsAction.java
comments:
Merge branch 'master' into enhancement/rollover_api

time:
2016-06-16T20:49:48Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessLexer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LRegex.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/LambdaTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/RegexTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/StringTests.java
comments:
Merge branch 'master' into plugin_name_api

time:
2016-06-16T20:49:28Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/TransportGetTaskAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TransportListTasksAction.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchResponse.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/main/java/org/elasticsearch/common/settings/SettingsModule.java
core/src/main/java/org/elasticsearch/env/EnvironmentModule.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexNumericFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/SortedNumericDVIndexFieldData.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/QueryParser.java
core/src/main/java/org/elasticsearch/indices/breaker/CircuitBreakerModule.java
core/src/main/java/org/elasticsearch/indices/breaker/CircuitBreakerService.java
core/src/main/java/org/elasticsearch/indices/breaker/HierarchyCircuitBreakerService.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/plugins/ScriptPlugin.java
core/src/main/java/org/elasticsearch/rest/action/support/RestActions.java
core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
core/src/main/java/org/elasticsearch/script/NativeScriptFactory.java
core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java
core/src/main/java/org/elasticsearch/script/ScriptEngineRegistry.java
core/src/main/java/org/elasticsearch/script/ScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/BestBucketsDeferringCollector.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactory.java
core/src/main/java/org/elasticsearch/tasks/TaskManager.java
core/src/main/java/org/elasticsearch/threadpool/ExecutorBuilder.java
core/src/main/java/org/elasticsearch/threadpool/FixedExecutorBuilder.java
core/src/main/java/org/elasticsearch/threadpool/ScalingExecutorBuilder.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPoolModule.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/RecordingTaskManagerListener.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TasksIT.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterModuleTests.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsFilteringIT.java
core/src/test/java/org/elasticsearch/common/rounding/TimeZoneRoundingTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsModuleTests.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsIntegrationIT.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpRequestSizeLimitIT.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/SettingsListenerIT.java
core/src/test/java/org/elasticsearch/index/WaitUntilRefreshIT.java
core/src/test/java/org/elasticsearch/index/fielddata/plain/HalfFloatFielddataTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/NumberFieldTypeTests.java
core/src/test/java/org/elasticsearch/indices/IndicesOptionsIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerIT.java
core/src/test/java/org/elasticsearch/plugins/PluginsServiceTests.java
core/src/test/java/org/elasticsearch/script/FileScriptTests.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptContextTests.java
core/src/test/java/org/elasticsearch/script/ScriptFieldIT.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/script/ScriptSettingsTests.java
core/src/test/java/org/elasticsearch/search/SearchTimeoutIT.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregatorParsingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/BaseAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/BasePipelineAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateScriptMocks.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IpRangeIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactoryTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsIT.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptIT.java
core/src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptPlugin.java
core/src/test/java/org/elasticsearch/search/sort/AbstractSortTestCase.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/MockRepository.java
core/src/test/java/org/elasticsearch/update/UpdateByNativeScriptIT.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionPlugin.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyPlugin.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MustachePlugin.java
modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MustacheScriptEngineService.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/TemplateQueryParserTests.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/FunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Operation.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessPlugin.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngineService.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessLexer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECapturingFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LRegex.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicStatementTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefBootstrapTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/LambdaTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/RegexTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolatorPlugin.java
plugins/discovery-azure/src/main/java/org/elasticsearch/plugin/discovery/azure/AzureDiscoveryPlugin.java
plugins/discovery-azure/src/test/java/org/elasticsearch/discovery/azure/AzureDiscoveryClusterFormationTests.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/AwsEc2Service.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/plugin/discovery/ec2/Ec2DiscoveryPlugin.java
plugins/discovery-gce/src/main/java/org/elasticsearch/plugin/discovery/gce/GceDiscoveryPlugin.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoverTests.java
plugins/lang-javascript/src/main/java/org/elasticsearch/plugin/javascript/JavaScriptPlugin.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-python/src/main/java/org/elasticsearch/plugin/python/PythonPlugin.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/MapperAttachmentsPlugin.java
plugins/repository-azure/src/main/java/org/elasticsearch/plugin/repository/azure/AzureRepositoryPlugin.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/storage/AzureStorageSettingsFilterTests.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/AwsS3Service.java
plugins/repository-s3/src/main/java/org/elasticsearch/plugin/repository/s3/S3RepositoryPlugin.java
qa/smoke-test-ingest-with-all-dependencies/src/test/java/org/elasticsearch/ingest/AbstractScriptTestCase.java
test/framework/src/main/java/org/elasticsearch/index/MockEngineFactoryPlugin.java
test/framework/src/main/java/org/elasticsearch/script/MockScriptEngine.java
test/framework/src/main/java/org/elasticsearch/search/aggregations/bucket/script/NativeSignificanceScoreScriptNoParams.java
test/framework/src/main/java/org/elasticsearch/search/aggregations/bucket/script/NativeSignificanceScoreScriptWithParams.java
test/framework/src/main/java/org/elasticsearch/test/AbstractQueryTestCase.java
test/framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
test/framework/src/main/java/org/elasticsearch/test/ESTestCase.java
test/framework/src/main/java/org/elasticsearch/test/InternalSettingsPlugin.java
test/framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
test/framework/src/main/java/org/elasticsearch/test/MockIndexEventListener.java
test/framework/src/main/java/org/elasticsearch/test/store/MockFSIndexStore.java
test/framework/src/main/java/org/elasticsearch/test/tasks/MockTaskManager.java
test/framework/src/main/java/org/elasticsearch/test/tasks/MockTaskManagerListener.java
test/framework/src/main/java/org/elasticsearch/test/transport/AssertingLocalTransport.java
test/framework/src/main/java/org/elasticsearch/test/transport/MockTransportService.java
comments:
Merge branch 'master' into plugin_name_api

time:
2016-06-16T19:06:01Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/StringTests.java
comments:
Painless: Disable java-9 indy string thing

It is breaking some of the doc tests. Also add a unit test that
shows the failure.

Relates to #18929

time:
2016-06-16T19:00:31Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessLexer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LRegex.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/RegexTests.java
comments:
Painless: Add flag support to regexes

Painless: Add support for //m
Painless: Add support for //s
Painless: Add support for //i
Painless: Add support for //u
Painless: Add support for //U
Painless: Add support for //l
  This means "literal" and is exposed for completeness sake with
  the java api.
Painless: Add support for //c
  c enables Java's CANON_EQ (canonical equivalence) flag which makes
  unicode characters that are canonically equal match. Java's javadoc
  gives "a\u030A" being equal to "\u00E5". That is that the "a" code
  point followed by the "combining ring above" code point is equal to
  the "a with combining ring above" code point.
Update docs and add multi-flag test
Whitelist most of the Pattern class.

time:
2016-06-16T17:49:03Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/LambdaTests.java
comments:
Merge pull request #18924 from rmuir/improve_lambda_syntax

improve lambda syntax (allow single expression)

time:
2016-06-16T17:18:10Z
class:
core/src/main/java/org/elasticsearch/indices/analysis/AnalysisModule.java
comments:
Remove outtdated comment referring to name/description for Plugin class

time:
2016-06-16T16:40:30Z
class:
modules/lang-painless/src/test/java/org/elasticsearch/painless/LambdaTests.java
comments:
add more simple tests

time:
2016-06-16T15:02:06Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/LambdaTests.java
comments:
improve lambda syntax (allow single expression)

time:
2016-06-16T14:31:54Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/FunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicStatementTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/LambdaTests.java
comments:
Merge pull request #18911 from rmuir/noncapturing_lambdas

non-capturing lambda support

time:
2016-06-16T14:03:51Z
class:
core/src/main/java/org/elasticsearch/rest/action/support/RestActions.java
comments:
Fix flat_settings REST parameter

* Get XContent params from request in Nodes rest actions
* Adding test for nodes info rest api

time:
2016-06-16T13:52:58Z
class:
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/main/java/org/elasticsearch/common/settings/SettingsModule.java
core/src/main/java/org/elasticsearch/env/EnvironmentModule.java
core/src/main/java/org/elasticsearch/indices/breaker/CircuitBreakerModule.java
core/src/main/java/org/elasticsearch/indices/breaker/CircuitBreakerService.java
core/src/main/java/org/elasticsearch/indices/breaker/HierarchyCircuitBreakerService.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/threadpool/ExecutorBuilder.java
core/src/main/java/org/elasticsearch/threadpool/FixedExecutorBuilder.java
core/src/main/java/org/elasticsearch/threadpool/ScalingExecutorBuilder.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPoolModule.java
core/src/test/java/org/elasticsearch/cluster/ClusterModuleTests.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsFilteringIT.java
core/src/test/java/org/elasticsearch/common/settings/SettingsModuleTests.java
core/src/test/java/org/elasticsearch/index/SettingsListenerIT.java
core/src/test/java/org/elasticsearch/indices/IndicesOptionsIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerIT.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregatorParsingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/BaseAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/BasePipelineAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsIT.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/MockRepository.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/TemplateQueryParserTests.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolatorPlugin.java
plugins/discovery-azure/src/main/java/org/elasticsearch/plugin/discovery/azure/AzureDiscoveryPlugin.java
plugins/discovery-azure/src/test/java/org/elasticsearch/discovery/azure/AzureDiscoveryClusterFormationTests.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/AwsEc2Service.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/plugin/discovery/ec2/Ec2DiscoveryPlugin.java
plugins/discovery-gce/src/main/java/org/elasticsearch/plugin/discovery/gce/GceDiscoveryPlugin.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoverTests.java
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/MapperAttachmentsPlugin.java
plugins/repository-azure/src/main/java/org/elasticsearch/plugin/repository/azure/AzureRepositoryPlugin.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/storage/AzureStorageSettingsFilterTests.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/AwsS3Service.java
plugins/repository-s3/src/main/java/org/elasticsearch/plugin/repository/s3/S3RepositoryPlugin.java
test/framework/src/main/java/org/elasticsearch/index/MockEngineFactoryPlugin.java
test/framework/src/main/java/org/elasticsearch/test/AbstractQueryTestCase.java
test/framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
test/framework/src/main/java/org/elasticsearch/test/ESTestCase.java
test/framework/src/main/java/org/elasticsearch/test/InternalSettingsPlugin.java
test/framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
test/framework/src/main/java/org/elasticsearch/test/MockIndexEventListener.java
test/framework/src/main/java/org/elasticsearch/test/store/MockFSIndexStore.java
test/framework/src/main/java/org/elasticsearch/test/transport/AssertingLocalTransport.java
test/framework/src/main/java/org/elasticsearch/test/transport/MockTransportService.java
comments:
Cut over settings registration to a pull model (#18890)

Today we have a push model for registering basically anything. All our extension points
are defined on modules which we pass in to plugins. This is harder to maintain and adds
unnecessary dependencies on the modules itself. This change moves towards a pull model
where the plugin offers a getter kind of method to get the extensions. This will also
help in the future if we need to pass dependencies to the extension points which can
easily be defined on the method as arguments if a pull model is used.

time:
2016-06-16T13:45:46Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/TransportGetTaskAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TransportListTasksAction.java
core/src/main/java/org/elasticsearch/tasks/TaskManager.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/RecordingTaskManagerListener.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TasksIT.java
test/framework/src/main/java/org/elasticsearch/test/tasks/MockTaskManager.java
test/framework/src/main/java/org/elasticsearch/test/tasks/MockTaskManagerListener.java
comments:
Move waitForTaskCompletion into TaskManager

This allows for listening for the waiting to start using
MockTaskManager. This allows us to work around a race condition
in the TasksIT.

time:
2016-06-16T13:36:29Z
class:
core/src/test/java/org/elasticsearch/http/netty/NettyHttpRequestSizeLimitIT.java
comments:
Force test infra to use node client in NettyHttpRequestSizeLimitIT

time:
2016-06-16T13:29:49Z
class:
core/src/main/java/org/elasticsearch/index/query/QueryParser.java
comments:
Remove dead code

time:
2016-06-16T12:42:33Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Operation.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessLexer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LRegex.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/RegexTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
comments:
Painless: =~ and ==~ operators

Adds support for the find operator (=~) and the match operator (==~)
to painless's regexes. Also whitelists most of the Matcher class and
documents regex support in painless.

The find operator (=~) returns a boolean that is the result of building
a matcher on the lhs with the Pattern on the RHS and calling `find` on
it. Use it like this:

```
if (ctx._source.last =~ /b/)
```

The match operator (==~) returns boolean like find but instead of calling
`find` on the Matcher it calls `matches`.

```
if (ctx._source.last ==~ /[^aeiou].*[aeiou]/)
```

Finally, if you want the actual matcher you do:

```
Matcher m = /[aeiou]/.matcher(ctx._source.last)
```

time:
2016-06-16T12:31:39Z
class:
core/src/main/java/org/elasticsearch/action/search/MultiSearchResponse.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
comments:
Merge pull request #18586 from a2lin/msearch_error_fix

Adding status field in _msearch error request bodies

time:
2016-06-16T12:28:02Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/bucket/BestBucketsDeferringCollector.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactory.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactoryTests.java
comments:
Merge pull request #18779 from jimferenczi/breadth_first_heuristic

Automatically set the collection mode to breadth_first in the terms aggregation when the cardinality of the field is unknown or smaller than the requested size.

time:
2016-06-16T12:07:57Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefBootstrapTests.java
comments:
Merge pull request #18913 from uschindler/painless_megamorphic_opto

Remove useless dropArguments in megamorphic cache

time:
2016-06-16T09:46:11Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
comments:
painless: Remove stale comment and remove declared exception

time:
2016-06-16T09:33:40Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/bucket/BestBucketsDeferringCollector.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactory.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactoryTests.java
comments:
Set collection mode to breadth_first in the terms aggregation when the cardinality of the field is unknown or smaller than the requested size.

closes #9825

time:
2016-06-16T09:08:10Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefBootstrapTests.java
comments:
painless: remove useless dropArguments and throws statement in megamorphic cache; add tests

time:
2016-06-16T08:39:34Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/node/service/NodeService.java
core/src/test/java/org/elasticsearch/nodesinfo/NodeInfoStreamingTests.java
core/src/test/java/org/elasticsearch/nodesinfo/SimpleNodesInfoIT.java
comments:
Add total_indexing_buffer/_in_bytes to nodes info API

time:
2016-06-16T08:10:04Z
class:
core/src/test/java/org/elasticsearch/common/rounding/TimeZoneRoundingTests.java
comments:
Improve TimeZoneRoundingTests error messages

Currently the error messages for failing tests in the TimeZoneRoundingTests test
suite are hard to read because they usually report the actual end expected date
in milliseconds utc (e.g. "Expected: <1414270860000L> but: was <1414270800000L>".
This makes failing tests hard to read.

This change introduces a new Matcher that can be used for equality checks for
long dates but reports the error both as a formated date string according to
some time zone and also as the actual long values, so you get messages like
"Expected: 2014-10-26T00:01:00.000+03:00 [1414270860000] but:  was
"2014-10-26T00:00:00.000+03:00 [1414270800000]".

Also clean cleaning up some helper methods and generally simplifying a few test
cases. Otherwise this change shouldn't affect either the scope of the test or
anything about the rounding implementation itself.

time:
2016-06-16T07:46:39Z
class:
core/src/main/java/org/elasticsearch/index/fielddata/IndexNumericFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/SortedNumericDVIndexFieldData.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsIntegrationIT.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsTests.java
core/src/test/java/org/elasticsearch/index/fielddata/plain/HalfFloatFielddataTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/NumberFieldTypeTests.java
comments:
Expose half-floats. #18887

They have been implemented in https://issues.apache.org/jira/browse/LUCENE-7289.
Ranges are implemented so that the accuracy loss only occurs at index time,
which means that if you are searching for values between A and B, the query will
match exactly all documents whose value rounded to the closest half-float point
is between A and B.

time:
2016-06-16T07:35:13Z
class:
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/plugins/ScriptPlugin.java
core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
core/src/main/java/org/elasticsearch/script/NativeScriptFactory.java
core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java
core/src/main/java/org/elasticsearch/script/ScriptEngineRegistry.java
core/src/main/java/org/elasticsearch/script/ScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/WaitUntilRefreshIT.java
core/src/test/java/org/elasticsearch/plugins/PluginsServiceTests.java
core/src/test/java/org/elasticsearch/script/FileScriptTests.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptContextTests.java
core/src/test/java/org/elasticsearch/script/ScriptFieldIT.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/script/ScriptSettingsTests.java
core/src/test/java/org/elasticsearch/search/SearchTimeoutIT.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregatorParsingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/BaseAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/BasePipelineAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateScriptMocks.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IpRangeIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptIT.java
core/src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptPlugin.java
core/src/test/java/org/elasticsearch/search/sort/AbstractSortTestCase.java
core/src/test/java/org/elasticsearch/update/UpdateByNativeScriptIT.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionPlugin.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyPlugin.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MustachePlugin.java
modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MustacheScriptEngineService.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/TemplateQueryParserTests.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessPlugin.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngineService.java
plugins/lang-javascript/src/main/java/org/elasticsearch/plugin/javascript/JavaScriptPlugin.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-python/src/main/java/org/elasticsearch/plugin/python/PythonPlugin.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
qa/smoke-test-ingest-with-all-dependencies/src/test/java/org/elasticsearch/ingest/AbstractScriptTestCase.java
test/framework/src/main/java/org/elasticsearch/script/MockScriptEngine.java
test/framework/src/main/java/org/elasticsearch/search/aggregations/bucket/script/NativeSignificanceScoreScriptNoParams.java
test/framework/src/main/java/org/elasticsearch/search/aggregations/bucket/script/NativeSignificanceScoreScriptWithParams.java
test/framework/src/main/java/org/elasticsearch/test/AbstractQueryTestCase.java
test/framework/src/main/java/org/elasticsearch/test/ESTestCase.java
comments:
Simplify ScriptModule and script registration (#18903)

Registering a script engine or native scripts still uses Guice today
and is much more complicated than needed. This change moves to a pull
based model where script plugins have to implement a dedicated interface
`ScriptPlugin` and defines simple getter returning instances rather than
classes.

time:
2016-06-16T07:25:17Z
class:
core/src/main/java/org/elasticsearch/action/search/MultiSearchResponse.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
comments:
Closes #18013. Added status field to _msearch response bodies.

time:
2016-06-16T05:30:55Z
class:
core/src/test/java/org/elasticsearch/http/netty/NettyHttpRequestSizeLimitIT.java
comments:
Force single-node cluster in NettyHttpRequestSizeLimitIT

time:
2016-06-16T05:25:43Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/FunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicStatementTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/LambdaTests.java
comments:
get non-capturing lambdas working

time:
2016-06-16T03:52:58Z
class:
comments:
Merge pull request #18909 from philipskokoh/master

TransportClient instead of Client in the code snippet at Transport Client documentation

time:
2016-06-16T03:51:39Z
class:
comments:
Fix typo

time:
2016-06-16T03:32:49Z
class:
comments:
TransportClient instead of Client in the code

time:
2016-06-16T00:54:15Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECapturingFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
comments:
Merge pull request #18907 from rmuir/fix_horrible_capture

Fix horrible capture

time:
2016-06-16T00:30:16Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECapturingFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EFunctionRef.java
comments:
clean up a bit more

time:
2016-06-16T00:12:22Z
class:
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TestTaskPlugin.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientHeadersTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/service/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsFilteringIT.java
core/src/test/java/org/elasticsearch/index/SettingsListenerIT.java
core/src/test/java/org/elasticsearch/index/WaitUntilRefreshIT.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapperPlugin.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
core/src/test/java/org/elasticsearch/indices/IndicesOptionsIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/analysis/DummyAnalysisPlugin.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerIT.java
core/src/test/java/org/elasticsearch/indices/template/IndexTemplateFilteringIT.java
core/src/test/java/org/elasticsearch/ingest/IngestCloseIT.java
core/src/test/java/org/elasticsearch/nodesinfo/plugin/dummy1/TestPlugin.java
core/src/test/java/org/elasticsearch/plugins/PluginsServiceTests.java
core/src/test/java/org/elasticsearch/plugins/responseheader/TestResponseHeaderPlugin.java
core/src/test/java/org/elasticsearch/script/ScriptFieldIT.java
core/src/test/java/org/elasticsearch/search/SearchServiceTests.java
core/src/test/java/org/elasticsearch/search/SearchTimeoutIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateScriptMocks.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IpRangeIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsIT.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptPlugin.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScorePluginIT.java
core/src/test/java/org/elasticsearch/search/highlight/CustomHighlighterPlugin.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggesterPlugin.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/MockRepository.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportIT.java
core/src/test/java/org/elasticsearch/update/UpdateByNativeScriptIT.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/matrix/MatrixAggregationPlugin.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/IngestCommonPlugin.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionPlugin.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyPlugin.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndicesRequestTests.java
modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MustachePlugin.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessPlugin.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolatorPlugin.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/ReindexPlugin.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/CancelTests.java
plugins/analysis-icu/src/main/java/org/elasticsearch/plugin/analysis/icu/AnalysisICUPlugin.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/plugin/analysis/kuromoji/AnalysisKuromojiPlugin.java
plugins/analysis-phonetic/src/main/java/org/elasticsearch/plugin/analysis/AnalysisPhoneticPlugin.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/plugin/analysis/smartcn/AnalysisSmartChinesePlugin.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/plugin/analysis/stempel/AnalysisStempelPlugin.java
plugins/discovery-azure/src/main/java/org/elasticsearch/plugin/discovery/azure/AzureDiscoveryPlugin.java
plugins/discovery-azure/src/test/java/org/elasticsearch/cloud/azure/AzureComputeServiceSimpleMock.java
plugins/discovery-azure/src/test/java/org/elasticsearch/cloud/azure/AzureComputeServiceTwoNodesMock.java
plugins/discovery-azure/src/test/java/org/elasticsearch/discovery/azure/AzureDiscoveryClusterFormationTests.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/plugin/discovery/ec2/Ec2DiscoveryPlugin.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/cloud/aws/AWSSignersTests.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryClusterFormationTests.java
plugins/discovery-gce/src/main/java/org/elasticsearch/plugin/discovery/gce/GceDiscoveryPlugin.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoverTests.java
plugins/ingest-attachment/src/main/java/org/elasticsearch/ingest/attachment/IngestAttachmentPlugin.java
plugins/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/IngestGeoIpPlugin.java
plugins/jvm-example/src/main/java/org/elasticsearch/plugin/example/JvmExamplePlugin.java
plugins/lang-javascript/src/main/java/org/elasticsearch/plugin/javascript/JavaScriptPlugin.java
plugins/lang-python/src/main/java/org/elasticsearch/plugin/python/PythonPlugin.java
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/MapperAttachmentsPlugin.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/plugin/mapper/MapperMurmur3Plugin.java
plugins/mapper-size/src/main/java/org/elasticsearch/plugin/mapper/MapperSizePlugin.java
plugins/repository-azure/src/main/java/org/elasticsearch/plugin/repository/azure/AzureRepositoryPlugin.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureRepositoryServiceIntegTestCase.java
plugins/repository-gcs/src/main/java/org/elasticsearch/plugin/repository/gcs/GoogleCloudStoragePlugin.java
plugins/repository-hdfs/src/main/java/org/elasticsearch/repositories/hdfs/HdfsPlugin.java
plugins/repository-s3/src/main/java/org/elasticsearch/plugin/repository/s3/S3RepositoryPlugin.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/TestAwsS3Service.java
plugins/store-smb/src/main/java/org/elasticsearch/plugin/store/smb/SMBStorePlugin.java
test/framework/src/main/java/org/elasticsearch/cluster/MockInternalClusterInfoService.java
test/framework/src/main/java/org/elasticsearch/index/MockEngineFactoryPlugin.java
test/framework/src/main/java/org/elasticsearch/ingest/IngestTestPlugin.java
test/framework/src/main/java/org/elasticsearch/node/NodeMocksPlugin.java
test/framework/src/main/java/org/elasticsearch/script/MockScriptEngine.java
test/framework/src/main/java/org/elasticsearch/search/MockSearchService.java
test/framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
test/framework/src/main/java/org/elasticsearch/test/InternalSettingsPlugin.java
test/framework/src/main/java/org/elasticsearch/test/MockIndexEventListener.java
test/framework/src/main/java/org/elasticsearch/test/store/MockFSIndexStore.java
test/framework/src/main/java/org/elasticsearch/test/transport/AssertingLocalTransport.java
test/framework/src/main/java/org/elasticsearch/test/transport/MockTransportService.java
comments:
Plugins: Remove name() and description() from api

In 2.0 we added plugin descriptors which require defining a name and
description for the plugin. However, we still have name() and
description() which must be overriden from the Plugin class. This still
exists for classpath plugins. But classpath plugins are mainly for
tests, and even then, referring to classpath plugins with their class is
a better idea. This change removes name() and description(), replacing
the name for classpath plugins with the full class name.

time:
2016-06-15T23:57:01Z
class:
plugins/ingest-attachment/src/main/java/org/elasticsearch/ingest/attachment/IngestAttachmentPlugin.java
comments:
fix compile for ingest plugin lambda

time:
2016-06-15T23:33:59Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECapturingFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
comments:
don't let megamorphic cache "capture" arbitrary arguments.

pass the shit we need as bootstrap params

time:
2016-06-15T22:42:48Z
class:
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TasksIT.java
comments:
Test: wait for task to start before waiting for it to finish (#18902)

time:
2016-06-15T22:25:25Z
class:
comments:
Fix thread pool docs regarding dynamic settings

Thread pool settings are no longer dynamically updatable since
da74323141a69bd06fc19a70bc072143e9f0e986. This commit removes a leftover
note from the thread pool module docs that incorrectly states that
thread pool settings are dynamically updatable.

time:
2016-06-15T21:57:18Z
class:
core/src/main/java/org/elasticsearch/ingest/IngestService.java
core/src/main/java/org/elasticsearch/ingest/PipelineStore.java
core/src/main/java/org/elasticsearch/ingest/ProcessorsRegistry.java
core/src/main/java/org/elasticsearch/node/NodeModule.java
core/src/main/java/org/elasticsearch/node/service/NodeService.java
core/src/test/java/org/elasticsearch/action/ingest/SimulatePipelineRequestParsingTests.java
core/src/test/java/org/elasticsearch/ingest/IngestCloseIT.java
core/src/test/java/org/elasticsearch/ingest/PipelineStoreTests.java
core/src/test/java/org/elasticsearch/ingest/ProcessorsRegistryTests.java
core/src/test/java/org/elasticsearch/ingest/core/ConfigurationUtilsTests.java
core/src/test/java/org/elasticsearch/ingest/core/PipelineFactoryTests.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/IngestCommonPlugin.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/ScriptProcessor.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/ForEachProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/ScriptProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/ScriptProcessorTests.java
plugins/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/IngestGeoIpPlugin.java
qa/smoke-test-ingest-with-all-dependencies/src/test/java/org/elasticsearch/ingest/AbstractScriptTestCase.java
qa/smoke-test-ingest-with-all-dependencies/src/test/java/org/elasticsearch/ingest/IngestDocumentMustacheIT.java
qa/smoke-test-ingest-with-all-dependencies/src/test/java/org/elasticsearch/ingest/TemplateServiceIT.java
qa/smoke-test-ingest-with-all-dependencies/src/test/java/org/elasticsearch/ingest/ValueSourceMustacheIT.java
qa/smoke-test-ingest-with-all-dependencies/src/test/java/org/elasticsearch/smoketest/IngestWithDependenciesIT.java
test/framework/src/main/java/org/elasticsearch/ingest/IngestTestPlugin.java
comments:
new ScriptProcessor for Ingest (#18193)

add new ScriptProcessor for executing ES Scripts within pipelines

time:
2016-06-15T21:06:46Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerCaster.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefMath.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/AdditionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/AndTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/CompoundAssignmentTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefBootstrapTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOptimizationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DivisionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/IncrementTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/MultiplicationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/OrTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/RemainderTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ScriptTestCase.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ShiftTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/StringTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/SubtractionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/XorTests.java
comments:
Merge pull request #18899 from rmuir/more_def_cleanup

fix bugs in operators and more improvements for the dynamic case

time:
2016-06-15T21:01:56Z
class:
comments:
Refine wording in benchmark README and correct typos

time:
2016-06-15T20:53:43Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkRequest.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestShrinkIndexAction.java
comments:
Merge pull request #18802 from areek/enhancement/shrink_request_parser

Add Shrink request source parser to parse create index request body

time:
2016-06-15T20:45:47Z
class:
comments:
Fix typo in benchmark README

time:
2016-06-15T20:27:30Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
comments:
Small refactoring and cleanup to separate the polymorphic and megamorphic case

time:
2016-06-15T19:49:40Z
class:
benchmarks/src/main/java/org/elasticsearch/benchmark/routing/allocation/AllocationBenchmark.java
benchmarks/src/main/java/org/elasticsearch/benchmark/routing/allocation/Allocators.java
buildSrc/src/main/java/org/elasticsearch/test/NamingConventionsCheck.java
buildSrc/src/test/java/org/elasticsearch/test/NamingConventionsCheckBadClasses.java
core/src/main/java/org/apache/lucene/document/XInetAddressPoint.java
core/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java
core/src/main/java/org/apache/lucene/queries/MinDocQuery.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/elasticsearch/ResourceNotFoundException.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/ActionRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/CancelTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/TransportCancelTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/GetTaskAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/GetTaskRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/GetTaskRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/GetTaskResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/TransportGetTaskAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/ListTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TaskGroup.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TransportListTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexShardStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexStatus.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequest.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardRequest.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardResponse.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsAction.java
core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java
core/src/main/java/org/elasticsearch/action/get/TransportMultiGetAction.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/search/SearchResponse.java
core/src/main/java/org/elasticsearch/action/search/TransportMultiSearchAction.java
core/src/main/java/org/elasticsearch/action/support/broadcast/BroadcastShardResponse.java
core/src/main/java/org/elasticsearch/action/support/master/AcknowledgedRequest.java
core/src/main/java/org/elasticsearch/action/support/master/MasterNodeRequest.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodesRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationTask.java
core/src/main/java/org/elasticsearch/action/support/single/instance/InstanceShardOperationRequest.java
core/src/main/java/org/elasticsearch/action/support/tasks/BaseTasksRequest.java
core/src/main/java/org/elasticsearch/action/support/tasks/TasksRequestBuilder.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/bootstrap/JavaVersion.java
core/src/main/java/org/elasticsearch/client/ClusterAdminClient.java
core/src/main/java/org/elasticsearch/client/Requests.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeMappingRefreshAction.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/Preference.java
core/src/main/java/org/elasticsearch/common/geo/GeoHashUtils.java
core/src/main/java/org/elasticsearch/common/geo/GeoPoint.java
core/src/main/java/org/elasticsearch/common/geo/GeoUtils.java
core/src/main/java/org/elasticsearch/common/io/stream/Streamable.java
core/src/main/java/org/elasticsearch/common/io/stream/Writeable.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MatchNoDocsQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MoreLikeThisQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/network/NetworkModule.java
core/src/main/java/org/elasticsearch/common/rounding/TimeZoneRounding.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/common/unit/TimeValue.java
core/src/main/java/org/elasticsearch/common/xcontent/AbstractObjectParser.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/http/HttpServer.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/analysis/PatternReplaceCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/cache/request/ShardRequestCache.java
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/OrdinalsBuilder.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexGeoPointFieldData.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/Uid.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoPolygonQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/InMemoryGeoBoundingBoxQuery.java
core/src/main/java/org/elasticsearch/index/shard/CommitPoint.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/RefreshListeners.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/shard/StoreRecovery.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshot.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/index/store/StoreFileMetaData.java
core/src/main/java/org/elasticsearch/indices/AbstractIndexShardCacheEntity.java
core/src/main/java/org/elasticsearch/indices/IndicesQueryCache.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryFileChunkRequest.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreFormat.java
core/src/main/java/org/elasticsearch/rest/RestController.java
core/src/main/java/org/elasticsearch/rest/RestHandler.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/health/RestClusterHealthAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/hotthreads/RestNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/info/RestNodesInfoAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/stats/RestNodesStatsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/tasks/RestCancelTasksAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/tasks/RestGetTaskAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/tasks/RestListTasksAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/settings/RestClusterGetSettingsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/settings/RestClusterUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/state/RestClusterStateAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/stats/RestClusterStatsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/cache/clear/RestClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/stats/RestIndicesStatsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestTasksAction.java
core/src/main/java/org/elasticsearch/rest/action/search/RestMultiSearchAction.java
core/src/main/java/org/elasticsearch/search/Highlighters.java
core/src/main/java/org/elasticsearch/search/Scroll.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoGridAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/GeoCentroidAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/InternalGeoCentroid.java
core/src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/explain/ExplainFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/matchedqueries/MatchedQueriesFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/parent/ParentFieldSubFetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/script/ScriptFieldsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/source/FetchSourceSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/version/VersionFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
core/src/main/java/org/elasticsearch/search/highlight/Highlighters.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchResponse.java
core/src/main/java/org/elasticsearch/search/profile/AbstractInternalProfileTree.java
core/src/main/java/org/elasticsearch/search/profile/AbstractProfiler.java
core/src/main/java/org/elasticsearch/search/profile/ProfileShardResult.java
core/src/main/java/org/elasticsearch/search/profile/Profilers.java
core/src/main/java/org/elasticsearch/search/profile/SearchProfileShardResults.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/AggregationProfileBreakdown.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/AggregationProfileShardResult.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/AggregationProfiler.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/AggregationTimingType.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/InternalAggregationProfileTree.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/ProfilingAggregator.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/ProfilingLeafBucketCollector.java
core/src/main/java/org/elasticsearch/search/profile/query/InternalQueryProfileTree.java
core/src/main/java/org/elasticsearch/search/profile/query/QueryProfileShardResult.java
core/src/main/java/org/elasticsearch/search/profile/query/QueryProfiler.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/query/QuerySearchResult.java
core/src/main/java/org/elasticsearch/search/rescore/RescorePhase.java
core/src/main/java/org/elasticsearch/search/slice/SliceQuery.java
core/src/main/java/org/elasticsearch/search/slice/TermsSliceQuery.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestPhase.java
core/src/main/java/org/elasticsearch/tasks/PersistedTaskInfo.java
core/src/main/java/org/elasticsearch/tasks/RawTaskStatus.java
core/src/main/java/org/elasticsearch/tasks/Task.java
core/src/main/java/org/elasticsearch/tasks/TaskInfo.java
core/src/main/java/org/elasticsearch/tasks/TaskManager.java
core/src/main/java/org/elasticsearch/tasks/TaskPersistenceService.java
core/src/main/java/org/elasticsearch/tasks/TaskResult.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransportChannel.java
core/src/test/java/org/elasticsearch/VersionTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/CancellableTasksTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/RecordingTaskManagerListener.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TaskManagerTestCase.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TasksIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TransportTasksActionTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequestTests.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
core/src/test/java/org/elasticsearch/action/search/TransportMultiSearchActionTests.java
core/src/test/java/org/elasticsearch/action/support/master/TransportMasterNodeActionUtils.java
core/src/test/java/org/elasticsearch/bootstrap/JavaVersionTests.java
core/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterChangedEventTests.java
core/src/test/java/org/elasticsearch/cluster/routing/OperationRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RandomAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/structure/RoutingIteratorTests.java
core/src/test/java/org/elasticsearch/common/rounding/TimeZoneRoundingTests.java
core/src/test/java/org/elasticsearch/common/unit/TimeValueTests.java
core/src/test/java/org/elasticsearch/common/xcontent/BaseXContentTestCase.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsIntegrationIT.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpClient.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpRequestSizeLimitIT.java
core/src/test/java/org/elasticsearch/index/analysis/CharFilterTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractGeoFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/UidTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/DateFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/TextFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/SimpleExternalMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeohashMappingGeoPointTests.java
core/src/test/java/org/elasticsearch/index/mapper/ip/IpFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/shard/RefreshListenersTests.java
core/src/test/java/org/elasticsearch/index/shard/StoreRecoveryTests.java
core/src/test/java/org/elasticsearch/index/snapshots/blobstore/FileInfoTests.java
core/src/test/java/org/elasticsearch/indices/IndexingMemoryControllerTests.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerSingleNodeTests.java
core/src/test/java/org/elasticsearch/indices/IndicesQueryCacheTests.java
core/src/test/java/org/elasticsearch/indices/IndicesRequestCacheTests.java
core/src/test/java/org/elasticsearch/indices/cluster/AbstractIndicesClusterStateServiceTestCase.java
core/src/test/java/org/elasticsearch/indices/cluster/ClusterStateChanges.java
core/src/test/java/org/elasticsearch/indices/cluster/IndicesClusterStateServiceRandomUpdatesTests.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsIT.java
core/src/test/java/org/elasticsearch/rest/RestControllerTests.java
core/src/test/java/org/elasticsearch/rest/action/main/RestMainActionTests.java
core/src/test/java/org/elasticsearch/rest/action/support/RestTableTests.java
core/src/test/java/org/elasticsearch/search/SearchModuleTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/BooleanTermsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ChildrenIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ReverseNestedIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TermsDocCountErrorIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TermsTests.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoBoundingBoxIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/highlight/CustomHighlighterPlugin.java
core/src/test/java/org/elasticsearch/search/msearch/MultiSearchIT.java
core/src/test/java/org/elasticsearch/search/nested/SimpleNestedIT.java
core/src/test/java/org/elasticsearch/search/preference/SearchPreferenceIT.java
core/src/test/java/org/elasticsearch/search/profile/aggregation/AggregationProfilerIT.java
core/src/test/java/org/elasticsearch/search/profile/query/QueryProfilerIT.java
core/src/test/java/org/elasticsearch/search/profile/query/QueryProfilerTests.java
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
core/src/test/java/org/elasticsearch/search/slice/SearchSliceIT.java
core/src/test/java/org/elasticsearch/tasks/PersistedTaskInfoTests.java
comments:
Merge branch 'master' into enhancement/shrink_request_parser

time:
2016-06-15T19:47:28Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefMath.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DivisionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/IncrementTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/MultiplicationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/OrTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/RemainderTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ShiftTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/StringTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/SubtractionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/XorTests.java
comments:
Merge branch 'more_def_cleanup' of https://github.com/rmuir/elasticsearch into more_def_cleanup

time:
2016-06-15T19:46:58Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
comments:
fix typo

time:
2016-06-15T19:29:42Z
class:
core/src/main/java/org/elasticsearch/ResourceNotFoundException.java
comments:
Fix exception on task not found

Silly protected method....

time:
2016-06-15T19:10:46Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexShardStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexStatus.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequest.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardRequest.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardResponse.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsAction.java
core/src/main/java/org/elasticsearch/action/support/broadcast/BroadcastShardResponse.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsIntegrationIT.java
comments:
Allow FieldStatsRequest to disable cache

time:
2016-06-15T19:06:50Z
class:
comments:
Docs: Fix typo in RestIT

time:
2016-06-15T18:57:17Z
class:
comments:
update docs

time:
2016-06-15T18:43:38Z
class:
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
comments:
Relax plugin id url heuristic, since java uses single slash instead of double

time:
2016-06-15T18:38:37Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefMath.java
comments:
speed up compound assignments

time:
2016-06-15T18:02:19Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DivisionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/IncrementTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/MultiplicationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/OrTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/RemainderTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ShiftTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/StringTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/SubtractionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/XorTests.java
comments:
add compound assignment tests

time:
2016-06-15T17:48:53Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefMath.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/AdditionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/AndTests.java
comments:
Merge branch 'more_def_cleanup' of https://github.com/rmuir/elasticsearch into more_def_cleanup

time:
2016-06-15T17:48:38Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
comments:
Remove unneeded type adaption and add error message on violation

time:
2016-06-15T17:37:10Z
class:
modules/lang-painless/src/test/java/org/elasticsearch/painless/AndTests.java
comments:
and compound assignment

time:
2016-06-15T17:30:21Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefMath.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/AdditionTests.java
comments:
get compound assignment working

time:
2016-06-15T17:07:13Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
comments:
Some small cleanups around the lookup

time:
2016-06-15T17:00:22Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
comments:
Fix bug with first param (receiver) on the cache lookup

time:
2016-06-15T16:56:43Z
class:
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/InstallPluginCommandTests.java
comments:
Merge pull request #18876 from rjernst/plugin_install_unknown

Emit nicer error message when trying to install unknown plugin

time:
2016-06-15T16:37:07Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/AdditionTests.java
comments:
Merge branch 'more_def_cleanup' of https://github.com/rmuir/elasticsearch into more_def_cleanup

time:
2016-06-15T16:36:45Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
comments:
Use rethrow puzzler in the ClassValue

time:
2016-06-15T16:32:38Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/AdditionTests.java
comments:
some cleanup

time:
2016-06-15T16:26:11Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
comments:
Move type changes up to static part

time:
2016-06-15T16:21:42Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
comments:
Add megamorphic cache

time:
2016-06-15T16:02:31Z
class:
core/src/test/java/org/elasticsearch/http/netty/NettyHttpRequestSizeLimitIT.java
comments:
Mute NHRSLIT while investigating

time:
2016-06-15T14:54:54Z
class:
benchmarks/src/main/java/org/elasticsearch/benchmark/DateBenchmark.java
benchmarks/src/main/java/org/elasticsearch/benchmark/HelloBenchmark.java
comments:
Remove obsolete benchmarks / comments

time:
2016-06-15T14:48:02Z
class:
benchmarks/src/main/java/org/elasticsearch/benchmark/DateBenchmark.java
benchmarks/src/main/java/org/elasticsearch/benchmark/HelloBenchmark.java
benchmarks/src/main/java/org/elasticsearch/benchmark/routing/allocation/AllocationBenchmark.java
benchmarks/src/main/java/org/elasticsearch/benchmark/routing/allocation/Allocators.java
comments:
Add microbenchmarking infrastructure (#18891)

With this commit we add a benchmarks project that contains the necessary build
infrastructure and an example benchmark. It is added as a separate project to avoid
interfering with the regular build too much (especially sanity checks) and to keep
the microbenchmarks isolated.

Microbenchmarks are generated with `gradle :benchmarks:jmhJar` and can be run with
` gradle :benchmarks:jmh`.

We intentionally do not use the
[jmh-gradle-plugin](https://github.com/melix/jmh-gradle-plugin) as it causes all
sorts of problems (dependencies are not properly excluded, not all JMH parameters
can be set) and it adds another abstraction layer that is not needed.

Closes #18242

time:
2016-06-15T13:49:11Z
class:
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/explain/ExplainFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/matchedqueries/MatchedQueriesFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/parent/ParentFieldSubFetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/script/ScriptFieldsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/source/FetchSourceSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/version/VersionFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolatorHighlightSubFetchPhase.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorHighlightSubFetchPhaseTests.java
comments:
Simplify SubFetchPhase interface (#18881)

This interface used to have dedicated methods to prevent calling execute
methods. These methods are unnecessary as the checks can simply be
done inside the execute methods itself. This simplifies the interface
as well as its usage.

time:
2016-06-15T13:07:11Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefBootstrapTests.java
comments:
split MIC from PIC

time:
2016-06-15T13:02:36Z
class:
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TasksIT.java
comments:
Test: Remove and untrue assertion

Task status might change between list and get.

time:
2016-06-15T12:48:41Z
class:
buildSrc/src/main/java/org/elasticsearch/test/NamingConventionsCheck.java
buildSrc/src/test/java/org/elasticsearch/test/NamingConventionsCheckBadClasses.java
core/src/main/java/org/apache/lucene/document/XInetAddressPoint.java
core/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java
core/src/main/java/org/apache/lucene/queries/MinDocQuery.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/ActionRequest.java
core/src/main/java/org/elasticsearch/action/DocWriteResponse.java
core/src/main/java/org/elasticsearch/action/IndicesRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/TransportLivenessAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/CancelTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/TransportCancelTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/GetTaskAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/GetTaskRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/GetTaskRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/GetTaskResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/TransportGetTaskAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/ListTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TaskGroup.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TransportListTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/TransportRestoreSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/TransportShrinkAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequestBuilder.java
core/src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java
core/src/main/java/org/elasticsearch/action/bulk/BulkShardResponse.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/DeleteRequest.java
core/src/main/java/org/elasticsearch/action/delete/DeleteRequestBuilder.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsAction.java
core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java
core/src/main/java/org/elasticsearch/action/get/TransportMultiGetAction.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/index/IndexRequestBuilder.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/ingest/IngestActionFilter.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateExecutionService.java
core/src/main/java/org/elasticsearch/action/ingest/TrackingResultProcessor.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/search/SearchResponse.java
core/src/main/java/org/elasticsearch/action/search/TransportMultiSearchAction.java
core/src/main/java/org/elasticsearch/action/support/WriteRequest.java
core/src/main/java/org/elasticsearch/action/support/WriteRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/WriteResponse.java
core/src/main/java/org/elasticsearch/action/support/master/AcknowledgedRequest.java
core/src/main/java/org/elasticsearch/action/support/master/MasterNodeRequest.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodesRequest.java
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicatedWriteRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationOperation.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationResponse.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationTask.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportBroadcastReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportWriteAction.java
core/src/main/java/org/elasticsearch/action/support/single/instance/InstanceShardOperationRequest.java
core/src/main/java/org/elasticsearch/action/support/tasks/BaseTasksRequest.java
core/src/main/java/org/elasticsearch/action/support/tasks/TasksRequestBuilder.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/action/update/UpdateHelper.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequest.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequestBuilder.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCheck.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapSettings.java
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/main/java/org/elasticsearch/bootstrap/JavaVersion.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/client/ClusterAdminClient.java
core/src/main/java/org/elasticsearch/client/IndicesAdminClient.java
core/src/main/java/org/elasticsearch/client/Requests.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/RestoreInProgress.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeMappingRefreshAction.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterShardHealth.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexGraveyard.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/SnapshotId.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/Preference.java
core/src/main/java/org/elasticsearch/cluster/routing/RestoreSource.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/FilterAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/NodeVersionAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/RebalanceOnlyWhenActiveAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ReplicaAfterPrimaryActiveAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/SameShardAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ThrottlingAllocationDecider.java
core/src/main/java/org/elasticsearch/common/ParseField.java
core/src/main/java/org/elasticsearch/common/blobstore/BlobContainer.java
core/src/main/java/org/elasticsearch/common/blobstore/BlobMetaData.java
core/src/main/java/org/elasticsearch/common/blobstore/BlobPath.java
core/src/main/java/org/elasticsearch/common/blobstore/BlobStore.java
core/src/main/java/org/elasticsearch/common/blobstore/fs/FsBlobContainer.java
core/src/main/java/org/elasticsearch/common/blobstore/support/AbstractBlobContainer.java
core/src/main/java/org/elasticsearch/common/geo/GeoHashUtils.java
core/src/main/java/org/elasticsearch/common/geo/GeoPoint.java
core/src/main/java/org/elasticsearch/common/geo/GeoUtils.java
core/src/main/java/org/elasticsearch/common/io/stream/Streamable.java
core/src/main/java/org/elasticsearch/common/io/stream/Writeable.java
core/src/main/java/org/elasticsearch/common/logging/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/logging/Loggers.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MatchNoDocsQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MoreLikeThisQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/network/NetworkModule.java
core/src/main/java/org/elasticsearch/common/recycler/Recycler.java
core/src/main/java/org/elasticsearch/common/rounding/DateTimeUnit.java
core/src/main/java/org/elasticsearch/common/rounding/TimeZoneRounding.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/common/settings/PropertyPlaceholder.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/unit/TimeValue.java
core/src/main/java/org/elasticsearch/common/util/AbstractBigArray.java
core/src/main/java/org/elasticsearch/common/util/BigArrays.java
core/src/main/java/org/elasticsearch/common/util/PageCacheRecycler.java
core/src/main/java/org/elasticsearch/common/util/concurrent/EsExecutors.java
core/src/main/java/org/elasticsearch/common/xcontent/AbstractObjectParser.java
core/src/main/java/org/elasticsearch/common/xcontent/ConstructingObjectParser.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/main/java/org/elasticsearch/http/HttpServer.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/analysis/PatternReplaceCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/cache/request/ShardRequestCache.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/SegmentsStats.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/engine/VersionValue.java
core/src/main/java/org/elasticsearch/index/fielddata/ScriptDocValues.java
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/OrdinalsBuilder.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexGeoPointFieldData.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/Uid.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/LegacyIpFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/LegacyIpIndexFieldData.java
core/src/main/java/org/elasticsearch/index/mapper/object/RootObjectMapper.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/InnerHitBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchPhrasePrefixQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchPhraseQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ParentIdQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/QueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoPolygonQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/InMemoryGeoBoundingBoxQuery.java
core/src/main/java/org/elasticsearch/index/shard/CommitPoint.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/InternalIndexingStats.java
core/src/main/java/org/elasticsearch/index/shard/LocalShardSnapshot.java
core/src/main/java/org/elasticsearch/index/shard/RefreshListeners.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/shard/StoreRecovery.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/index/snapshots/IndexShardRepository.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshot.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/index/store/StoreFileMetaData.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/index/translog/TranslogSnapshot.java
core/src/main/java/org/elasticsearch/index/translog/TranslogWriter.java
core/src/main/java/org/elasticsearch/indices/AbstractIndexShardCacheEntity.java
core/src/main/java/org/elasticsearch/indices/IndexingMemoryController.java
comments:
Merge branch 'master' into pr/update-aws-sdk

time:
2016-06-15T12:29:46Z
class:
core/src/main/java/org/elasticsearch/http/HttpServer.java
core/src/main/java/org/elasticsearch/rest/RestController.java
core/src/main/java/org/elasticsearch/rest/RestHandler.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/health/RestClusterHealthAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/hotthreads/RestNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/info/RestNodesInfoAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/stats/RestNodesStatsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/tasks/RestCancelTasksAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/tasks/RestListTasksAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/settings/RestClusterGetSettingsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/settings/RestClusterUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/state/RestClusterStateAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/stats/RestClusterStatsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/cache/clear/RestClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/stats/RestIndicesStatsAction.java
core/src/test/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequestTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpClient.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpRequestSizeLimitIT.java
core/src/test/java/org/elasticsearch/rest/RestControllerTests.java
core/src/test/java/org/elasticsearch/rest/action/main/RestMainActionTests.java
core/src/test/java/org/elasticsearch/rest/action/support/RestTableTests.java
test/framework/src/main/java/org/elasticsearch/test/rest/FakeRestRequest.java
comments:
Exclude admin / diagnostic requests from HTTP request limiting

With this commit we exclude certain HTTP requests that are needed to inspect the cluster
from HTTP request limiting to ensure these commands are processed even in critical
memory conditions.

Relates #17951, relates #18145, closes #18833

time:
2016-06-15T09:44:46Z
class:
buildSrc/src/main/java/org/elasticsearch/test/NamingConventionsCheck.java
buildSrc/src/test/java/org/elasticsearch/test/NamingConventionsCheckBadClasses.java
core/src/main/java/org/apache/lucene/document/XInetAddressPoint.java
core/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java
core/src/main/java/org/apache/lucene/queries/MinDocQuery.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/ActionRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/CancelTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/TransportCancelTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/GetTaskAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/GetTaskRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/GetTaskRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/GetTaskResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/TransportGetTaskAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/ListTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TaskGroup.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TransportListTasksAction.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsAction.java
core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java
core/src/main/java/org/elasticsearch/action/get/TransportMultiGetAction.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/search/TransportMultiSearchAction.java
core/src/main/java/org/elasticsearch/action/support/master/AcknowledgedRequest.java
core/src/main/java/org/elasticsearch/action/support/master/MasterNodeRequest.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodesRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationTask.java
core/src/main/java/org/elasticsearch/action/support/single/instance/InstanceShardOperationRequest.java
core/src/main/java/org/elasticsearch/action/support/tasks/BaseTasksRequest.java
core/src/main/java/org/elasticsearch/action/support/tasks/TasksRequestBuilder.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/bootstrap/JavaVersion.java
core/src/main/java/org/elasticsearch/client/ClusterAdminClient.java
core/src/main/java/org/elasticsearch/client/Requests.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeMappingRefreshAction.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/Preference.java
core/src/main/java/org/elasticsearch/common/geo/GeoHashUtils.java
core/src/main/java/org/elasticsearch/common/geo/GeoPoint.java
core/src/main/java/org/elasticsearch/common/geo/GeoUtils.java
core/src/main/java/org/elasticsearch/common/io/stream/Streamable.java
core/src/main/java/org/elasticsearch/common/io/stream/Writeable.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MatchNoDocsQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MoreLikeThisQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/network/NetworkModule.java
core/src/main/java/org/elasticsearch/common/rounding/TimeZoneRounding.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/unit/TimeValue.java
core/src/main/java/org/elasticsearch/common/xcontent/AbstractObjectParser.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/cache/request/ShardRequestCache.java
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/OrdinalsBuilder.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexGeoPointFieldData.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/Uid.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoPolygonQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/InMemoryGeoBoundingBoxQuery.java
core/src/main/java/org/elasticsearch/index/shard/CommitPoint.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/shard/StoreRecovery.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshot.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/index/store/StoreFileMetaData.java
core/src/main/java/org/elasticsearch/indices/AbstractIndexShardCacheEntity.java
core/src/main/java/org/elasticsearch/indices/IndicesQueryCache.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryFileChunkRequest.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreFormat.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/tasks/RestCancelTasksAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/tasks/RestGetTaskAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/tasks/RestListTasksAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestTasksAction.java
core/src/main/java/org/elasticsearch/rest/action/search/RestMultiSearchAction.java
core/src/main/java/org/elasticsearch/search/Highlighters.java
core/src/main/java/org/elasticsearch/search/Scroll.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoGridAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/GeoCentroidAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/InternalGeoCentroid.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
core/src/main/java/org/elasticsearch/search/highlight/Highlighters.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/rescore/RescorePhase.java
core/src/main/java/org/elasticsearch/search/slice/SliceQuery.java
core/src/main/java/org/elasticsearch/search/slice/TermsSliceQuery.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestPhase.java
core/src/main/java/org/elasticsearch/tasks/PersistedTaskInfo.java
core/src/main/java/org/elasticsearch/tasks/RawTaskStatus.java
core/src/main/java/org/elasticsearch/tasks/Task.java
core/src/main/java/org/elasticsearch/tasks/TaskInfo.java
core/src/main/java/org/elasticsearch/tasks/TaskManager.java
core/src/main/java/org/elasticsearch/tasks/TaskPersistenceService.java
core/src/main/java/org/elasticsearch/tasks/TaskResult.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransportChannel.java
core/src/test/java/org/elasticsearch/VersionTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/CancellableTasksTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/RecordingTaskManagerListener.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TaskManagerTestCase.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TasksIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TransportTasksActionTests.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
core/src/test/java/org/elasticsearch/action/search/TransportMultiSearchActionTests.java
core/src/test/java/org/elasticsearch/action/support/master/TransportMasterNodeActionUtils.java
core/src/test/java/org/elasticsearch/bootstrap/JavaVersionTests.java
core/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterChangedEventTests.java
core/src/test/java/org/elasticsearch/cluster/routing/OperationRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RandomAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/structure/RoutingIteratorTests.java
core/src/test/java/org/elasticsearch/common/rounding/TimeZoneRoundingTests.java
core/src/test/java/org/elasticsearch/common/unit/TimeValueTests.java
core/src/test/java/org/elasticsearch/common/xcontent/BaseXContentTestCase.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsIntegrationIT.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractGeoFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/UidTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/DateFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/TextFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/SimpleExternalMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeohashMappingGeoPointTests.java
core/src/test/java/org/elasticsearch/index/mapper/ip/IpFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/shard/StoreRecoveryTests.java
core/src/test/java/org/elasticsearch/index/snapshots/blobstore/FileInfoTests.java
core/src/test/java/org/elasticsearch/indices/IndexingMemoryControllerTests.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerSingleNodeTests.java
core/src/test/java/org/elasticsearch/indices/IndicesQueryCacheTests.java
core/src/test/java/org/elasticsearch/indices/IndicesRequestCacheTests.java
core/src/test/java/org/elasticsearch/indices/cluster/AbstractIndicesClusterStateServiceTestCase.java
core/src/test/java/org/elasticsearch/indices/cluster/ClusterStateChanges.java
core/src/test/java/org/elasticsearch/indices/cluster/IndicesClusterStateServiceRandomUpdatesTests.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsIT.java
core/src/test/java/org/elasticsearch/search/SearchModuleTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/BooleanTermsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ChildrenIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ReverseNestedIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TermsDocCountErrorIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TermsTests.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoBoundingBoxIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/highlight/CustomHighlighterPlugin.java
core/src/test/java/org/elasticsearch/search/msearch/MultiSearchIT.java
core/src/test/java/org/elasticsearch/search/nested/SimpleNestedIT.java
core/src/test/java/org/elasticsearch/search/preference/SearchPreferenceIT.java
core/src/test/java/org/elasticsearch/tasks/PersistedTaskInfoTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/DoubleTermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/LongTermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SimpleSortTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/StringTermsTests.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerCaster.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Compiler.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefMath.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/FeatureTest.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/FunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Locals.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/ScriptImpl.java
comments:
Merge branch 'master' into feature/http_client

time:
2016-06-15T09:43:48Z
class:
comments:
Build: remove explicit targetCompatibility from forbiddenapis config

targetCompatibility set to the project is enough.

time:
2016-06-15T08:56:46Z
class:
comments:
docs: fix typo

Closes #18877

time:
2016-06-15T07:26:34Z
class:
core/src/test/java/org/elasticsearch/search/SearchModuleTests.java
comments:
[TEST] Fix Highlighters assertion - not guice injected anymore

time:
2016-06-15T07:13:02Z
class:
core/src/main/java/org/elasticsearch/search/Highlighters.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/rescore/RescorePhase.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestPhase.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolatorHighlightSubFetchPhase.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolatorPlugin.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorHighlightSubFetchPhaseTests.java
test/framework/src/main/java/org/elasticsearch/search/MockSearchService.java
comments:
Simplify FetchSubPhase registration and detach it from Guice (#18862)

this commit removes FetchSubPhrase registration by class to registration
by instance. No Guice binding needed anymore.

time:
2016-06-15T06:42:49Z
class:
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/InstallPluginCommandTests.java
comments:
Add test for plugin install heuristic

time:
2016-06-15T06:42:34Z
class:
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
comments:
Plugins: Emit nicer error message when trying to install unknown plugin

When installing plugins, we first try the elastic download service for
official plugins, then try maven coordinates, and finally try the
argument as a url. This can lead to confusing error messages about
unknown protocols when eg an official plugin name is mispelled. This
change adds a heuristic for determining if the argument in the final
case is in fact a url that we should try, and gives a simplified error
message in the case it is definitely not a url.

closes #17226

time:
2016-06-15T03:52:21Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/AdditionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefBootstrapTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOptimizationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ScriptTestCase.java
comments:
remove null guards from +, if not needed.

improve DefBootstrapTests

time:
2016-06-15T01:46:43Z
class:
comments:
Test: make secure mock setup work with ibm jdk

time:
2016-06-15T01:34:24Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/Preference.java
core/src/test/java/org/elasticsearch/cluster/routing/OperationRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/structure/RoutingIteratorTests.java
core/src/test/java/org/elasticsearch/search/preference/SearchPreferenceIT.java
comments:
Add search preference to prefer multiple nodes

The search preference _prefer_node allows specifying a single node to
prefer when routing a request. This functionality can be enhanced by
permitting multiple nodes to be preferred. This commit replaces the
search preference _prefer_node with the search preference _prefer_nodes
which supplants the former by specifying a single node and otherwise
adds functionality.

Relates #18872

time:
2016-06-15T00:40:16Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/AdditionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/AndTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/CompoundAssignmentTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DivisionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/MultiplicationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/OrTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/RemainderTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ShiftTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/SubtractionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/XorTests.java
comments:
clean up compound assignment tests, fix shift bug

time:
2016-06-14T23:19:50Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerCaster.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOptimizationTests.java
comments:
fix perf bug with xor promotion

time:
2016-06-14T22:30:34Z
class:
buildSrc/src/main/java/org/elasticsearch/test/NamingConventionsCheck.java
buildSrc/src/test/java/org/elasticsearch/test/NamingConventionsCheckBadClasses.java
comments:
Move NamingConventionsCheck into buildSrc

This will let things that don't depend on :test:framework like the
client use it.

Also skip initializing the classes we check because we don't care
about their initialization behavior because we're not executing them.
This makes the naming conventions check pretty close to instant
from a "human eye" perspective.

time:
2016-06-14T21:45:26Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerCaster.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
comments:
Merge pull request #18871 from jdconrad/cast

Fix Casting Bug

time:
2016-06-14T21:29:29Z
class:
core/src/test/java/org/elasticsearch/search/msearch/MultiSearchIT.java
comments:
test: don't return 0, at least one request must be added to msearch request
also the maxConcurrentSearchRequests() setter only support positive values.

time:
2016-06-14T21:28:47Z
class:
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
comments:
Add a test.

time:
2016-06-14T21:27:45Z
class:
core/src/test/java/org/elasticsearch/search/aggregations/bucket/BooleanTermsIT.java
comments:
Test: don't use 0 size for terms aggregation

It is no longer allowed.

time:
2016-06-14T21:16:38Z
class:
comments:
Build: targetCompatibility and sourceCompatibility are enough to make sure we compile client and client-sniffer with target and source 1.7

time:
2016-06-14T21:12:23Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerCaster.java
comments:
Correct type checking during casting related to Object.

time:
2016-06-14T20:16:19Z
class:
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationTask.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TasksIT.java
comments:
Clean up after test failure

If the test fails we properly clean up. Also add a toString
implementation so we get useful results on failure.

time:
2016-06-14T19:30:43Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/AdditionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/AndTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicExpressionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ComparisonTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOperationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOptimizationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DivisionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/MultiplicationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/OrTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/PromotionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/RemainderTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ScriptTestCase.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ShiftTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/StringTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/SubtractionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/UnaryTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/XorTests.java
comments:
Merge pull request #18867 from rmuir/more_indy_typing

improve unary operators and cleanup tests

time:
2016-06-14T19:07:56Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/AdditionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/AndTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicExpressionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ComparisonTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOperationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOptimizationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DivisionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/MultiplicationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/OrTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/PromotionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/RemainderTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ScriptTestCase.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ShiftTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/StringTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/SubtractionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/UnaryTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/XorTests.java
comments:
refactor tests

time:
2016-06-14T18:32:29Z
class:
comments:
Test docs for plugins

We weren't doing it before because we weren't starting the plugins.
Now we are.

The hardest part of this was handling the files the tests expect
to be on the filesystem. extraConfigFiles was broken.

time:
2016-06-14T17:59:26Z
class:
comments:
Merge pull request #18865 from rjernst/fix_extra_config_file

Test: Fix integ test extra config files to work with more than one

time:
2016-06-14T17:57:18Z
class:
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsAction.java
core/src/main/java/org/elasticsearch/index/cache/request/ShardRequestCache.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/AbstractIndexShardCacheEntity.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/IndicesRequestCacheTests.java
comments:
Cache FieldStats

This caches FieldStats at the field level. For one off requests or for
few indicies this doesn't save anything, but when there are 30 indices,
5 shards, 1 replica, 100 parallel requests this is about twice as fast
as not caching. I expect lots of usage won't see much benefit from this
but pointing kibana to a cluster with many indexes and shards, will be
faster.

Closes #18717

time:
2016-06-14T17:54:50Z
class:
comments:
Test: Fix integ test extra config files to work with more than one

Groovy does some crazy capturing when using closures inside a loop. In
this case, it somehow decided the local loop variable would be
modified, and so each closure was getting a wrapped value that would be
updated on each loop iteration, until all the closures pointed at the
last value. This change fixes the loop to extract the object to be used by
the closures.

time:
2016-06-14T17:37:34Z
class:
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/ActionRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/CancelTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/TransportCancelTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/GetTaskAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/GetTaskRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/GetTaskRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/GetTaskResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/get/TransportGetTaskAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/ListTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TaskGroup.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TransportListTasksAction.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationTask.java
core/src/main/java/org/elasticsearch/action/support/tasks/TasksRequestBuilder.java
core/src/main/java/org/elasticsearch/client/ClusterAdminClient.java
core/src/main/java/org/elasticsearch/client/Requests.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/common/network/NetworkModule.java
core/src/main/java/org/elasticsearch/common/xcontent/AbstractObjectParser.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/tasks/RestCancelTasksAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/tasks/RestGetTaskAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/tasks/RestListTasksAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestTasksAction.java
core/src/main/java/org/elasticsearch/tasks/PersistedTaskInfo.java
core/src/main/java/org/elasticsearch/tasks/RawTaskStatus.java
core/src/main/java/org/elasticsearch/tasks/Task.java
core/src/main/java/org/elasticsearch/tasks/TaskInfo.java
core/src/main/java/org/elasticsearch/tasks/TaskManager.java
core/src/main/java/org/elasticsearch/tasks/TaskPersistenceService.java
core/src/main/java/org/elasticsearch/tasks/TaskResult.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/CancellableTasksTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/RecordingTaskManagerListener.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TaskManagerTestCase.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TasksIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TransportTasksActionTests.java
core/src/test/java/org/elasticsearch/common/xcontent/BaseXContentTestCase.java
core/src/test/java/org/elasticsearch/tasks/PersistedTaskInfoTests.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBaseReindexRestHandler.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkByScrollRequest.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkByScrollRequestBuilder.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/RestRethrottleAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/TransportRethrottleAction.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/CancelTests.java
comments:
Create get task API that falls back to the .tasks index

This adds a get task API that supports GET /_tasks/${taskId} and
removes that responsibility from the list tasks API. The get task
API supports wait_for_complation just as the list tasks API does
but doesn't support any of the list task API's filters. In exchange,
it supports falling back to the .results index when the task isn't
running any more. Like any good GET API it 404s when it doesn't
find the task.

Then we change reindex, update-by-query, and delete-by-query to
persist the task result when wait_for_completion=false. The leads
to the neat behavior that, once you start a reindex with
wait_for_completion=false, you can fetch the result of the task by
using the get task API and see the result when it has finished.

Also rename the .results index to .tasks.

time:
2016-06-14T17:01:04Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOperationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOptimizationTests.java
comments:
Merge pull request #18849 from rmuir/give_indy_ops_types

Remove casts and boxing for dynamic math

time:
2016-06-14T16:51:29Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
comments:
rename this variable

time:
2016-06-14T15:04:58Z
class:
core/src/main/java/org/elasticsearch/search/Highlighters.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
core/src/main/java/org/elasticsearch/search/highlight/Highlighters.java
core/src/test/java/org/elasticsearch/search/SearchModuleTests.java
core/src/test/java/org/elasticsearch/search/highlight/CustomHighlighterPlugin.java
comments:
Register Highlighter instances instead of classes (#18859)

This change detaches highlighter registration from Guice. It's just a
small step into the right direction.

time:
2016-06-14T14:32:42Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoGridAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregator.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ChildrenIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ReverseNestedIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TermsDocCountErrorIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/DoubleTermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/LongTermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/StringTermsTests.java
test/framework/src/main/java/org/elasticsearch/search/aggregations/bucket/AbstractTermsTestCase.java
comments:
#18854 Remove size 0 options in aggregations

Remove size 0 options in aggregations

time:
2016-06-14T14:22:11Z
class:
core/src/main/java/org/elasticsearch/common/rounding/TimeZoneRounding.java
core/src/test/java/org/elasticsearch/common/rounding/TimeZoneRoundingTests.java
comments:
Merge pull request #18800 from cbuescher/fix-interval-rounding-uneven

Fix invalid rounding value for TimeIntervalRounding close to DST transitions

time:
2016-06-14T13:56:49Z
class:
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
comments:
Test: Fix error message check for Windows

Betrayal! CRLF strikes again. Weakened the test from equals to
containsString.

time:
2016-06-14T13:36:00Z
class:
core/src/main/java/org/elasticsearch/common/rounding/TimeZoneRounding.java
comments:
Don't throw IllegalInstantException to determine DST gap

By taking the logic from DateTimeZone#convertLocalToUTC(long, boolean) we
can avoid throwing the exception.

time:
2016-06-14T13:25:44Z
class:
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java
core/src/main/java/org/elasticsearch/action/get/TransportMultiGetAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/index/mapper/Uid.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityTests.java
core/src/test/java/org/elasticsearch/index/mapper/UidTests.java
test/framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Remove dead code and dead parameters (#18855)

time:
2016-06-14T12:59:51Z
class:
core/src/main/java/org/elasticsearch/common/rounding/TimeZoneRounding.java
core/src/test/java/org/elasticsearch/common/rounding/TimeZoneRoundingTests.java
comments:
Fix invalid rounding value for TimeIntervalRounding close to DST transition

There are edge cases where rounding a date to a certain interval using a time
zone with DST shifts can currently cause the rounded date to be bigger than the
original date. This happens when rounding a date closely after a DST start and
the rounded date falls into the DST gap.

Here is an example for CET time zone, where local time is set forward by one
hour at 2016-03-27T02:00:00+01:00 to 2016-03-27T03:00:00.000+02:00:

The date 2016-03-27T03:01:00.000+02:00 (1459040460000) which is just after the
DST change is first converted to local time (1459047660000). If we then apply
interval rounding for a 14m interval in local time, this  takes us to
1459047240000, which unfortunately falls into the DST gap.  When converting
this back to UTC, joda provides options to throw exceptions on illegal dates
like this, or correct this by adjusting the date to the new time zone offset.
We currently do the later, but this leads to converting this illegal date back
to 2016-03-27T03:54:00.000+02:00 (1459043640000), giving us a date that is
larger than the original date we wanted to round.

This change fixes this by using the "strict" option of 'convertLocalToUTC()'
to detect rounded dates that fall into the DST gap. If this happens, we can use
the time of the DST change instead as the interval start.

Even before this change, intervals around DST shifts like this can be shorter
than the desired interval.  This, for example, happens when the requested
interval width doesn't completely fit into the remaining time span when the DST
shift happens. For example, using a 14m interval in UTC+1 (CET before DST
starts) leads to the following valid rounding values around the time where DST
happens:

2016-03-27T01:30:00+01:00
2016-03-27T01:44:00+01:00
2016-03-27T01:58:00+01:00
2016-03-27T02:12:00+01:00
2016-03-27T02:26:00+01:00
...

while the rounding values in UTC+2 (CET after DST start) are placed like this
around the same time:

2016-03-27T02:40:00+02:00
2016-03-27T02:54:00+02:00
2016-03-27T03:08:00+02:00
2016-03-27T03:22:00+02:00
...

From this we can see then when we switch from UTC+1 to UTC+2 at 02:00 the last
rounding value in UTC+1 is at 01:58 and the first valid one in UTC+2 is at
03:08, so even if we decide to put all the dates in between into one rounding
interval, it will only cover 10 minutes. With this change we choose to use the
moment of DST shift as an aditional interval separator, leaving us with a 2min
interval from [01:58,02:00) before the shift and an 8min interval from
[03:00,03:08) after the shift.

This change also adds tests for the above example and adds randomization to the
existing TimeIntervalRounding tests.

time:
2016-06-14T12:45:03Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoGridAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregationBuilder.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/DoubleTermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/LongTermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/StringTermsTests.java
comments:
changes from review

time:
2016-06-14T12:34:11Z
class:
comments:
Fixed link in PR template to CONTRIBUTING

time:
2016-06-14T12:33:15Z
class:
comments:
Updated from parameter description. (#18852)

Not sure that my description better but origin description looks very weird,
and i try to make emphasize to offset...

time:
2016-06-14T12:22:55Z
class:
comments:
Fixing typos (#18851)

time:
2016-06-14T12:14:03Z
class:
client/src/main/java/org/elasticsearch/client/RequestLogger.java
client/src/main/java/org/elasticsearch/client/RestClient.java
comments:
remove message parameter from RequestLogger methods

This prevents useless string allocation.

time:
2016-06-14T12:07:02Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoGridAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregator.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ChildrenIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ReverseNestedIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TermsDocCountErrorIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/DoubleTermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/LongTermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/StringTermsTests.java
test/framework/src/main/java/org/elasticsearch/search/aggregations/bucket/AbstractTermsTestCase.java
comments:
Remove size 0 options in aggregations

This removes the ability to set `size: 0` in the `terms`, `significant_terms` and `geohash_grid` aggregations for the reasons described in https://github.com/elastic/elasticsearch/issues/18838

Closes #18838

time:
2016-06-14T11:45:38Z
class:
client/src/main/java/org/elasticsearch/client/RequestLogger.java
client/src/main/java/org/elasticsearch/client/RestClient.java
comments:
Rename RequestLogger#log methods to distinguish between the two

One method is to log a request that yielded a response, the other one for a failed request

time:
2016-06-14T07:43:31Z
class:
comments:
Build: make client and client-sniffer depend on lucene-test version 5, last 1.7 compatible version

time:
2016-06-14T04:49:13Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOperationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOptimizationTests.java
comments:
painless: remove casts and boxing for dynamic math

time:
2016-06-13T23:39:37Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefMath.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Utility.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECapturingFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SEach.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/AndTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BinaryOperatorTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefBootstrapTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOperationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/OrTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/UnaryTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/XorTests.java
comments:
Merge pull request #18847 from rmuir/refactor_def_math

painless: refactor def math

time:
2016-06-13T22:56:28Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefMath.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Utility.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECapturingFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SEach.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/AndTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BinaryOperatorTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefBootstrapTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOperationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/OrTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/UnaryTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/XorTests.java
comments:
Refactor def math

time:
2016-06-13T22:16:17Z
class:
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
comments:
MasterFaultDetection can leak an exception during shutdown

time:
2016-06-13T22:11:45Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Locals.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/ErrorHandlingLexer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessLexer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserBaseVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/SlashStrategy.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/StashingTokenFactory.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LRegex.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFunction.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ArrayTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/RegexTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
comments:
Painless: Add support for /regex/

Adds `/regex/` as a regex constructor. A couple of fun points:
1. This makes generic the idea of arbitrary stuff adding a constant.
Both SFunction and LRegex create a statically initialized constant.
Both go through Locals to do this because they LRegex isn't directly
iterable from SScript.
2. Differentiating `/` as-in-division from `/` as-in-start-of-regex
is hard. See:
http://www-archive.mozilla.org/js/language/js20-2002-04/rationale/syntax.html#regular-expressions
The javascript folks have a way, way tougher time of it then we do
because they have semicolon insertion. We have the much simpler
delimiter rules. Even with our simpler life we still have to add
a hack to get lexing `/regex/` to work properly. I chose to add
token-level lookbehind because it seems to be a pretty contained hack.
I considered and rejected lexer modes, a lexer member variable,
having the parser set variables on the lexer (this is a fairly common
solution for js, I believe), and moving regex parsing to the parser
level.
3. I've only added a very small subset of java.util.regex to the
whitelist because it is the subset I needed to test LRegex sanely.
More deserves to be added, and maybe more regex syntax like `=~` and
`==~`. Those can probably be added without too much pain.

time:
2016-06-13T18:27:50Z
class:
modules/percolator/src/main/java/org/elasticsearch/percolator/ExtractQueryTermsService.java
modules/percolator/src/test/java/org/elasticsearch/percolator/ExtractQueryTermsServiceTests.java
comments:
Merge pull request #18845 from martijnvg/percolator_dismax_query

Add percolator query extraction support for dismax query

time:
2016-06-13T18:14:35Z
class:
modules/percolator/src/main/java/org/elasticsearch/percolator/ExtractQueryTermsService.java
modules/percolator/src/test/java/org/elasticsearch/percolator/ExtractQueryTermsServiceTests.java
comments:
percolator: add query extraction support for dismax query

time:
2016-06-13T18:05:33Z
class:
comments:
Pluralize "index" (#18811)

This doesn't just happen to "an index" unless you're restoring just one.  It reads better this way, IMO.

time:
2016-06-13T17:36:26Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserBaseVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFunction.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ArrayTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/FunctionRefTests.java
comments:
Merge pull request #18831 from rmuir/moreRefs

painless: array constructor references

time:
2016-06-13T17:35:11Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
comments:
remove stray tab, fix comment

time:
2016-06-13T17:19:12Z
class:
core/src/main/java/org/elasticsearch/Version.java
comments:
Merge pull request #18844 from rjernst/bump_version_alpha4

Set next version back to alpha4

time:
2016-06-13T16:57:44Z
class:
comments:
default values for BM25 Similarity (#18778)

assuming elasticsearch uses the lucene default values

time:
2016-06-13T16:28:39Z
class:
qa/smoke-test-reindex-with-painless/src/test/java/org/elasticsearch/smoketest/SmokeTestReindexWithPainlessIT.java
comments:
Port reindex's script tests to painless

All but the timeout ones work. Those are skipped for now.

time:
2016-06-13T16:26:45Z
class:
core/src/main/java/org/elasticsearch/Version.java
comments:
Set next version back to alpha4

time:
2016-06-13T14:37:21Z
class:
comments:
Fix lang-painless packaging test

This commit fixes a failing lang-painless packaging test after a change
to the dependencies was made in commit
0bfb166eeba0ba8f292550cb9100708c88e4a4c9.

time:
2016-06-13T13:58:36Z
class:
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolateQueryBuilderTests.java
comments:
test: fixed test bug

time:
2016-06-13T13:29:32Z
class:
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolateQueryBuilder.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolateQueryBuilderTests.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorQuerySearchIT.java
comments:
test: Added extra tests for percolating with nested documents.

time:
2016-06-13T12:02:01Z
class:
client/src/main/java/org/elasticsearch/client/RestClient.java
comments:
remove TODO around copying hosts when rotating the collection, it's not a problem for now

time:
2016-06-13T10:59:30Z
class:
client/src/main/java/org/elasticsearch/client/DeadHostState.java
client/src/main/java/org/elasticsearch/client/RequestLogger.java
comments:
added comments to clarify RequestLogger and DeadHostState

time:
2016-06-13T10:02:09Z
class:
client-sniffer/src/test/java/org/elasticsearch/client/sniff/HostsSnifferTests.java
client/src/test/java/org/elasticsearch/client/RestClientIntegTests.java
comments:
[TEST] add comment on using animal-sniffer suppress annotation

time:
2016-06-13T09:14:30Z
class:
core/src/main/java/org/elasticsearch/common/RandomBasedUUIDGenerator.java
core/src/main/java/org/elasticsearch/common/Randomness.java
core/src/test/java/org/elasticsearch/cluster/ClusterChangedEventTests.java
core/src/test/java/org/elasticsearch/common/UUIDTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexSameIndexTests.java
comments:
Revert "Make random UUIDs reproducible in tests"

This reverts commit a25b8ee1bf2e70bc28f688731ef43962a3ef18ce.

time:
2016-06-13T09:14:30Z
class:
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexSameIndexTests.java
comments:
Revert "Mark field in ReindexSameIndexTests as final"

This reverts commit 6d8692576e49ed9d4d570e1631a25f015f271cb8.

time:
2016-06-13T08:20:23Z
class:
core/src/main/java/org/elasticsearch/search/rescore/RescorePhase.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestPhase.java
comments:
Remove redundant parseElementst() method in RescorePhase and SuggestPhase

The default implementation in SearchPhase does the same.

time:
2016-06-13T08:13:08Z
class:
core/src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/search/TransportMultiSearchAction.java
core/src/main/java/org/elasticsearch/rest/action/search/RestMultiSearchAction.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
core/src/test/java/org/elasticsearch/action/search/TransportMultiSearchActionTests.java
core/src/test/java/org/elasticsearch/search/msearch/MultiSearchIT.java
comments:
msearch: Cap the number of searches the msearch api will concurrently execute

By default the number of searches msearch executes is capped by the number of
nodes multiplied with the default size of the search threadpool. This default can be
overwritten by using the newly added `max_concurrent_searches` parameter.

Before the msearch api would concurrently execute all searches concurrently. If many large
msearch requests would be executed this could lead to some searches being rejected
while other searches in the msearch request would succeed.

The goal of this change is to avoid this exhausting of the search TP.

Closes #17926

time:
2016-06-13T07:20:39Z
class:
comments:
Build: changed forbidden-apis targetCompatibility to 1.7 for client and client-sniffer

time:
2016-06-12T16:53:37Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFunction.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ArrayTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/FunctionRefTests.java
comments:
add array ctor refs

time:
2016-06-12T15:25:52Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserBaseVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
comments:
cleanup grammar

time:
2016-06-12T06:23:15Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/FunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessLexer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ELambda.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFunction.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/FunctionRefTests.java
comments:
Merge pull request #18828 from rmuir/ownReferences

painless: method references to user functions

time:
2016-06-11T20:34:17Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ELambda.java
comments:
Remove unused field

time:
2016-06-11T20:03:45Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
comments:
need not be public, should not be public

time:
2016-06-11T20:01:50Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
comments:
Add comments

time:
2016-06-11T19:53:15Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFunction.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
comments:
Remove some hardcoded strings, fix exception handling (remove rethrow), add some utility methods around the "handle$" fields

time:
2016-06-11T19:51:32Z
class:
modules/lang-painless/src/test/java/org/elasticsearch/painless/FunctionRefTests.java
comments:
test interface default methods

time:
2016-06-11T19:20:39Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFunction.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
comments:
More cleanup

time:
2016-06-11T19:04:49Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
comments:
fix too long line

time:
2016-06-11T19:02:43Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/FunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EFunctionRef.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/FunctionRefTests.java
comments:
def case working

time:
2016-06-11T19:00:06Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFunction.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
comments:
Unfuck the MethodWriter nesting. All MethodWriters should only live separately from each other, no nesting

time:
2016-06-11T18:33:48Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/FunctionRefTests.java
comments:
make this static final

time:
2016-06-11T18:29:15Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/FunctionRefTests.java
comments:
write refs for functions

time:
2016-06-11T17:48:04Z
class:
modules/lang-painless/src/test/java/org/elasticsearch/painless/FunctionRefTests.java
comments:
remove unnecessary semicolon and return

time:
2016-06-11T17:23:17Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/FunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessLexer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFunction.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/FunctionRefTests.java
comments:
merge master

time:
2016-06-11T16:51:25Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicStatementTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
comments:
Painless: Add } as a delimiter. Kindof.

Add `}` is statement delimiter but only in places where it is
otherwise a valid part of the syntax, specificall the end of a block.
We do this by matching but not consuming it. Antlr 4 doesn't have
syntax for this so we have to kind of hack it together by actually
matching the `}` and then seeking backwards in the token stream to
"unmatch" it. This looks reasonably efficient. Not perfect, but way
better than the alternatives.

I tried and rejected a few options:
1. Actually consuming the `}` and piping a boolean all through the
grammar from the last statement in a block to the delimiter. This
ended up being a rather large change and made the grammar way more
complicated.
2. Adding a semantic predicate to delimiter that just does the
lookahead. This doesn't work out well because it doesn't work (I
never figured out why) and because it generates an *amazing*
`adaptivePredict` which makes a super huge DFA. It looks super
inefficient.

Closes #18821

time:
2016-06-11T00:43:14Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessLexer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserBaseVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ELambda.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicStatementTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/antlr/ParserTests.java
comments:
Merge pull request #18824 from jdconrad/stubby

Add Lambda Stub Node

time:
2016-06-10T23:22:17Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequest.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/support/master/AcknowledgedRequest.java
core/src/main/java/org/elasticsearch/action/support/master/MasterNodeRequest.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodesRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/single/instance/InstanceShardOperationRequest.java
core/src/main/java/org/elasticsearch/action/support/tasks/BaseTasksRequest.java
core/src/main/java/org/elasticsearch/common/io/stream/Streamable.java
core/src/main/java/org/elasticsearch/common/io/stream/Writeable.java
core/src/main/java/org/elasticsearch/common/unit/TimeValue.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/search/Scroll.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/test/java/org/elasticsearch/common/unit/TimeValueTests.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/FeatureTest.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/FunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/ScriptImpl.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECapturingFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SEach.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/package-info.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefBootstrapTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/FunctionRefTests.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkByScrollRequest.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/BulkByScrollTask.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/BulkIndexByScrollResponse.java
comments:
Merge branch 'master' into stubby

time:
2016-06-10T23:18:36Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessLexer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserBaseVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ELambda.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicStatementTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/antlr/ParserTests.java
comments:
Added a stub node for lambda expressions.

time:
2016-06-10T22:24:16Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequest.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/support/master/AcknowledgedRequest.java
core/src/main/java/org/elasticsearch/action/support/master/MasterNodeRequest.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodesRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/single/instance/InstanceShardOperationRequest.java
core/src/main/java/org/elasticsearch/action/support/tasks/BaseTasksRequest.java
core/src/main/java/org/elasticsearch/common/io/stream/Streamable.java
core/src/main/java/org/elasticsearch/common/io/stream/Writeable.java
core/src/main/java/org/elasticsearch/common/unit/TimeValue.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/search/Scroll.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/test/java/org/elasticsearch/common/unit/TimeValueTests.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkByScrollRequest.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/BulkByScrollTask.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/BulkIndexByScrollResponse.java
comments:
Make TimeValue Writeable instead of Streamable

Writeable is better for immutable objects like TimeValue.

Switch to writeZLong which takes up less space than the original
writeLong in the majority of cases. Since we expect negative
TimeValues we shouldn't use
writeVLong.

time:
2016-06-10T22:15:00Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/FeatureTest.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/FunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/ScriptImpl.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECapturingFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SEach.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/package-info.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefBootstrapTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/FunctionRefTests.java
comments:
Merge pull request #18818 from rmuir/capturingReferences

painless: add capturing method references

time:
2016-06-10T21:37:57Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECapturingFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/package-info.java
comments:
don't use loadLocal, add new node to package-info

time:
2016-06-10T21:10:56Z
class:
core/src/main/java/org/apache/lucene/document/XInetAddressPoint.java
core/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java
core/src/main/java/org/apache/lucene/queries/MinDocQuery.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/search/SearchResponse.java
core/src/main/java/org/elasticsearch/bootstrap/JavaVersion.java
core/src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeMappingRefreshAction.java
core/src/main/java/org/elasticsearch/common/RandomBasedUUIDGenerator.java
core/src/main/java/org/elasticsearch/common/Randomness.java
core/src/main/java/org/elasticsearch/common/geo/GeoHashUtils.java
core/src/main/java/org/elasticsearch/common/geo/GeoPoint.java
core/src/main/java/org/elasticsearch/common/geo/GeoUtils.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MatchNoDocsQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MoreLikeThisQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/analysis/PatternReplaceCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/OrdinalsBuilder.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexGeoPointFieldData.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoPolygonQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/InMemoryGeoBoundingBoxQuery.java
core/src/main/java/org/elasticsearch/index/shard/CommitPoint.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/RefreshListeners.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/shard/StoreRecovery.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshot.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/index/store/StoreFileMetaData.java
core/src/main/java/org/elasticsearch/indices/IndicesQueryCache.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryFileChunkRequest.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreFormat.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/GeoCentroidAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/InternalGeoCentroid.java
core/src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchResponse.java
core/src/main/java/org/elasticsearch/search/profile/AbstractInternalProfileTree.java
core/src/main/java/org/elasticsearch/search/profile/AbstractProfiler.java
core/src/main/java/org/elasticsearch/search/profile/ProfileShardResult.java
core/src/main/java/org/elasticsearch/search/profile/Profilers.java
core/src/main/java/org/elasticsearch/search/profile/SearchProfileShardResults.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/AggregationProfileBreakdown.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/AggregationProfileShardResult.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/AggregationProfiler.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/AggregationTimingType.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/InternalAggregationProfileTree.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/ProfilingAggregator.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/ProfilingLeafBucketCollector.java
core/src/main/java/org/elasticsearch/search/profile/query/InternalQueryProfileTree.java
core/src/main/java/org/elasticsearch/search/profile/query/QueryProfileShardResult.java
core/src/main/java/org/elasticsearch/search/profile/query/QueryProfiler.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/query/QuerySearchResult.java
core/src/main/java/org/elasticsearch/search/slice/SliceQuery.java
core/src/main/java/org/elasticsearch/search/slice/TermsSliceQuery.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransportChannel.java
core/src/test/java/org/elasticsearch/VersionTests.java
core/src/test/java/org/elasticsearch/action/support/master/TransportMasterNodeActionUtils.java
core/src/test/java/org/elasticsearch/bootstrap/JavaVersionTests.java
core/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterChangedEventTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RandomAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/common/UUIDTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpRequestSizeLimitIT.java
core/src/test/java/org/elasticsearch/index/analysis/CharFilterTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractGeoFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/core/DateFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/TextFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/SimpleExternalMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeohashMappingGeoPointTests.java
core/src/test/java/org/elasticsearch/index/mapper/ip/IpFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/shard/RefreshListenersTests.java
core/src/test/java/org/elasticsearch/index/shard/StoreRecoveryTests.java
core/src/test/java/org/elasticsearch/index/snapshots/blobstore/FileInfoTests.java
core/src/test/java/org/elasticsearch/indices/IndexingMemoryControllerTests.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerSingleNodeTests.java
core/src/test/java/org/elasticsearch/indices/IndicesQueryCacheTests.java
core/src/test/java/org/elasticsearch/indices/cluster/AbstractIndicesClusterStateServiceTestCase.java
core/src/test/java/org/elasticsearch/indices/cluster/ClusterStateChanges.java
core/src/test/java/org/elasticsearch/indices/cluster/IndicesClusterStateServiceRandomUpdatesTests.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoBoundingBoxIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/nested/SimpleNestedIT.java
core/src/test/java/org/elasticsearch/search/profile/aggregation/AggregationProfilerIT.java
core/src/test/java/org/elasticsearch/search/profile/query/QueryProfilerIT.java
core/src/test/java/org/elasticsearch/search/profile/query/QueryProfilerTests.java
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
core/src/test/java/org/elasticsearch/search/slice/SearchSliceIT.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SimpleSortTests.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Compiler.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Locals.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Writer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserBaseVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ALink.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AStatement.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBool.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBoolean.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECapturingFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConditional.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConstant.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EDecimal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EExplicit.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENull.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENumeric.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LArrayLength.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCallInvoke.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCallLocal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewObj.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LStatic.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LString.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LVariable.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBreak.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SCatch.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SContinue.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclaration.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDo.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SEach.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFunction.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIf.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIfElse.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SReturn.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SThrow.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STry.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SWhile.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/package-info.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/FunctionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ReservedWordTests.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolateQuery.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolateQueryTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexSameIndexTests.java
test/framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
comments:
Merge branch 'master' into capturingReferences

time:
2016-06-10T20:59:59Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Analyzer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Compiler.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Locals.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Writer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserBaseVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ALink.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AStatement.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBool.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBoolean.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConditional.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConstant.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EDecimal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EExplicit.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENull.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENumeric.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LArrayLength.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCallInvoke.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCallLocal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewObj.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LStatic.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LString.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LVariable.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBreak.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SCatch.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SContinue.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclaration.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDo.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SEach.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFunction.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIf.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIfElse.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SReturn.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SThrow.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STry.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SWhile.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/package-info.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/FunctionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ReservedWordTests.java
comments:
Add functions to Painless.

Closes #18810

time:
2016-06-10T19:26:49Z
class:
core/src/main/java/org/elasticsearch/transport/netty/NettyTransportChannel.java
comments:
Rename NettyTransportChannel#close

This commit renames the NettyTransportChannel#close method to
NettyTransportChannel#release to clarify the semantics.

time:
2016-06-10T18:24:58Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/FeatureTest.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/FunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/ScriptImpl.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECapturingFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SEach.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefBootstrapTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/FunctionRefTests.java
comments:
painless: add capturing method references

time:
2016-06-10T15:06:50Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/TransportRolloverAction.java
comments:
removed support for customs from create index request

time:
2016-06-10T15:02:36Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverResponse.java
comments:
removed redundant Fields class

time:
2016-06-10T14:42:56Z
class:
comments:
[docs] Flow the refresh docs

They were making multiple pages but that is silly. They should all
be one page.

time:
2016-06-10T14:20:45Z
class:
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexSameIndexTests.java
comments:
Mark field in ReindexSameIndexTests as final

This commit restores a final modifier on the field
AutoCreateIndex#AUTO_CREATE_INDEX that was inadvertently removed in
a25b8ee1bf2e70bc28f688731ef43962a3ef18ce.

time:
2016-06-10T14:18:12Z
class:
core/src/main/java/org/apache/lucene/document/XInetAddressPoint.java
core/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java
core/src/main/java/org/apache/lucene/queries/MinDocQuery.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/bootstrap/JavaVersion.java
core/src/main/java/org/elasticsearch/common/geo/GeoHashUtils.java
core/src/main/java/org/elasticsearch/common/geo/GeoPoint.java
core/src/main/java/org/elasticsearch/common/geo/GeoUtils.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MatchNoDocsQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MoreLikeThisQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/OrdinalsBuilder.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexGeoPointFieldData.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoPolygonQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/InMemoryGeoBoundingBoxQuery.java
core/src/main/java/org/elasticsearch/index/shard/StoreRecovery.java
core/src/main/java/org/elasticsearch/indices/IndicesQueryCache.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/GeoCentroidAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/InternalGeoCentroid.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
core/src/main/java/org/elasticsearch/search/slice/SliceQuery.java
core/src/main/java/org/elasticsearch/search/slice/TermsSliceQuery.java
core/src/test/java/org/elasticsearch/VersionTests.java
core/src/test/java/org/elasticsearch/bootstrap/JavaVersionTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractGeoFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/SimpleExternalMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeohashMappingGeoPointTests.java
core/src/test/java/org/elasticsearch/index/mapper/ip/IpFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
core/src/test/java/org/elasticsearch/index/shard/StoreRecoveryTests.java
core/src/test/java/org/elasticsearch/indices/IndicesQueryCacheTests.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoBoundingBoxIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/nested/SimpleNestedIT.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SimpleSortTests.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolateQuery.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolateQueryTests.java
test/framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
comments:
Upgrade to lucene-6.1.0-snapshot-3a57bea.

time:
2016-06-10T14:18:06Z
class:
core/src/main/java/org/elasticsearch/common/RandomBasedUUIDGenerator.java
core/src/main/java/org/elasticsearch/common/Randomness.java
core/src/test/java/org/elasticsearch/cluster/ClusterChangedEventTests.java
core/src/test/java/org/elasticsearch/common/UUIDTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexSameIndexTests.java
comments:
Make random UUIDs reproducible in tests

Today we use a random source of UUIDs for assigning allocation IDs,
cluster IDs, etc. Yet, the source of randomness for this is not
reproducible in tests. Since allocation IDs end up as keys in hash maps,
this means allocation decisions and not reproducible in tests and this
leads to non-reproducible test failures. This commit modifies the
behavior of random UUIDs so that they are reproducible under tests. The
behavior for production code is not changed, we still use a true source
of secure randomness but under tests we just use a reproducible source
of non-secure randomness.

It is important to note that there is a test,
UUIDTests#testThreadedRandomUUID that relies on the UUIDs being truly
random. Thus, we have to modify the setup for this test to use a true
source of randomness. Thus, this is one test that will never be
reproducible but it is intentionally so.

Relates #18808

time:
2016-06-10T13:57:09Z
class:
core/src/main/java/org/elasticsearch/index/shard/CommitPoint.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshot.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/index/store/StoreFileMetaData.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryFileChunkRequest.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreFormat.java
core/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/index/snapshots/blobstore/FileInfoTests.java
comments:
Better handling of an empty shard's segments_N file

When trying to restore a snapshot of an index created in a previous
version of Elasticsearch, it is possible that empty shards in the
snapshot have a segments_N file that has an unsupported Lucene version
and a missing checksum.  This leads to issues with restoring the
snapshot.  This commit handles this special case by avoiding a restore
of a shard that has no data, since there is nothing to restore anyway.

Closes #18707

time:
2016-06-10T13:43:18Z
class:
core/src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
core/src/test/java/org/elasticsearch/index/mapper/core/DateFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/TextFieldMapperTests.java
comments:
Better error message when mapping configures null

Closes #18803

time:
2016-06-10T11:39:47Z
class:
core/src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
comments:
Fix sync flush total shards statistics (#18766)

time:
2016-06-10T10:47:41Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeMappingRefreshAction.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/test/java/org/elasticsearch/action/support/master/TransportMasterNodeActionUtils.java
core/src/test/java/org/elasticsearch/cluster/ClusterChangedEventTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RandomAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/IndexingMemoryControllerTests.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerSingleNodeTests.java
core/src/test/java/org/elasticsearch/indices/cluster/AbstractIndicesClusterStateServiceTestCase.java
core/src/test/java/org/elasticsearch/indices/cluster/ClusterStateChanges.java
core/src/test/java/org/elasticsearch/indices/cluster/IndicesClusterStateServiceRandomUpdatesTests.java
comments:
Make IndicesClusterStateService unit testable (#17270)

Testability of ICSS is achieved by introducing interfaces for IndicesService, IndexService and IndexShard. These interfaces extract all relevant methods used by ICSS (which do not deal directly with store) and give the possibility to easily mock all the store behavior away in the tests (and cuts down on dependencies).

time:
2016-06-10T10:46:33Z
class:
comments:
[TEST] use jdk-internal bundled signature (rather than the previously removed jdk-non-portable)

time:
2016-06-10T09:42:25Z
class:
client-sniffer/src/main/java/org/elasticsearch/client/sniff/Sniffer.java
comments:
move shutdownNow within try block

time:
2016-06-10T09:40:35Z
class:
client/src/main/java/org/elasticsearch/client/DeadHostState.java
comments:
make DeadHostState final

time:
2016-06-10T09:40:13Z
class:
client-sniffer/src/test/java/org/elasticsearch/client/sniff/HostsSnifferTests.java
client/src/test/java/org/elasticsearch/client/RestClientIntegTests.java
comments:
[TEST] Remove usage of @SuppressForbidden due to sun HttpServer usage, resolve some violations that were hidden by it

time:
2016-06-10T09:39:08Z
class:
client-sniffer/src/main/java/org/elasticsearch/client/sniff/Sniffer.java
comments:
catch Exception rather than Throwable

time:
2016-06-10T09:18:21Z
class:
core/src/main/java/org/elasticsearch/action/search/SearchResponse.java
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/analysis/PatternReplaceCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/shard/RefreshListeners.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregator.java
core/src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchResponse.java
core/src/main/java/org/elasticsearch/search/profile/AbstractInternalProfileTree.java
core/src/main/java/org/elasticsearch/search/profile/AbstractProfiler.java
core/src/main/java/org/elasticsearch/search/profile/ProfileShardResult.java
core/src/main/java/org/elasticsearch/search/profile/Profilers.java
core/src/main/java/org/elasticsearch/search/profile/SearchProfileShardResults.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/AggregationProfileBreakdown.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/AggregationProfileShardResult.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/AggregationProfiler.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/AggregationTimingType.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/InternalAggregationProfileTree.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/ProfilingAggregator.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/ProfilingLeafBucketCollector.java
core/src/main/java/org/elasticsearch/search/profile/query/InternalQueryProfileTree.java
core/src/main/java/org/elasticsearch/search/profile/query/QueryProfileShardResult.java
core/src/main/java/org/elasticsearch/search/profile/query/QueryProfiler.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/query/QuerySearchResult.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpRequestSizeLimitIT.java
core/src/test/java/org/elasticsearch/index/analysis/CharFilterTests.java
core/src/test/java/org/elasticsearch/index/shard/RefreshListenersTests.java
core/src/test/java/org/elasticsearch/search/profile/aggregation/AggregationProfilerIT.java
core/src/test/java/org/elasticsearch/search/profile/query/QueryProfilerIT.java
core/src/test/java/org/elasticsearch/search/profile/query/QueryProfilerTests.java
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
core/src/test/java/org/elasticsearch/search/slice/SearchSliceIT.java
comments:
Merge branch 'master' into feature/http_client

time:
2016-06-10T08:41:29Z
class:
core/src/main/java/org/elasticsearch/action/search/SearchResponse.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregator.java
core/src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchResponse.java
core/src/main/java/org/elasticsearch/search/profile/AbstractInternalProfileTree.java
core/src/main/java/org/elasticsearch/search/profile/AbstractProfiler.java
core/src/main/java/org/elasticsearch/search/profile/ProfileShardResult.java
core/src/main/java/org/elasticsearch/search/profile/Profilers.java
core/src/main/java/org/elasticsearch/search/profile/SearchProfileShardResults.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/AggregationProfileBreakdown.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/AggregationProfileShardResult.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/AggregationProfiler.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/AggregationTimingType.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/InternalAggregationProfileTree.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/ProfilingAggregator.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/ProfilingLeafBucketCollector.java
core/src/main/java/org/elasticsearch/search/profile/query/InternalQueryProfileTree.java
core/src/main/java/org/elasticsearch/search/profile/query/QueryProfileShardResult.java
core/src/main/java/org/elasticsearch/search/profile/query/QueryProfiler.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/query/QuerySearchResult.java
core/src/test/java/org/elasticsearch/search/profile/aggregation/AggregationProfilerIT.java
core/src/test/java/org/elasticsearch/search/profile/query/QueryProfilerIT.java
core/src/test/java/org/elasticsearch/search/profile/query/QueryProfilerTests.java
comments:
#18414 Adds aggregation profiling to the profile API

Adds aggregation profiling to the profile API

time:
2016-06-10T08:11:21Z
class:
client-sniffer/src/test/java/org/elasticsearch/client/sniff/HostsSnifferTests.java
client/src/test/java/org/elasticsearch/client/RestClientIntegTests.java
comments:
[TEST] use animalsniffer annotation @IgnoreJRERequirement (similar to @SuppressForbidden) rather than exclusion pattern

time:
2016-06-10T08:02:07Z
class:
core/src/main/java/org/elasticsearch/action/search/SearchResponse.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregator.java
core/src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchResponse.java
core/src/main/java/org/elasticsearch/search/profile/AbstractInternalProfileTree.java
core/src/main/java/org/elasticsearch/search/profile/AbstractProfiler.java
core/src/main/java/org/elasticsearch/search/profile/ProfileShardResult.java
core/src/main/java/org/elasticsearch/search/profile/Profilers.java
core/src/main/java/org/elasticsearch/search/profile/SearchProfileShardResults.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/AggregationProfileBreakdown.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/AggregationProfileShardResult.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/AggregationProfiler.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/AggregationTimingType.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/InternalAggregationProfileTree.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/ProfilingAggregator.java
core/src/main/java/org/elasticsearch/search/profile/aggregation/ProfilingLeafBucketCollector.java
core/src/main/java/org/elasticsearch/search/profile/query/InternalQueryProfileTree.java
core/src/main/java/org/elasticsearch/search/profile/query/QueryProfileShardResult.java
core/src/main/java/org/elasticsearch/search/profile/query/QueryProfiler.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/query/QuerySearchResult.java
core/src/test/java/org/elasticsearch/search/profile/aggregation/AggregationProfilerIT.java
core/src/test/java/org/elasticsearch/search/profile/query/QueryProfilerIT.java
core/src/test/java/org/elasticsearch/search/profile/query/QueryProfilerTests.java
comments:
Adds aggregation profiling (not including reduce phase)

Add Aggregation profiling initially only be for the shard phases (i.e. the reduce phase will not be profiled in this change)

This change refactors the query profiling class to extract abstract classes where it is useful for other profiler types to share code.

time:
2016-06-10T07:51:47Z
class:
comments:
Build: add animalsniffer to detect usage of java8 apis in client and client-sniffer

time:
2016-06-10T07:49:03Z
class:
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
core/src/test/java/org/elasticsearch/search/slice/SearchSliceIT.java
comments:
Merge pull request #18782 from jimferenczi/max_slices_per_scroll

Add an index setting to limit the maximum number of slices allowed in a scroll request.

time:
2016-06-10T07:43:32Z
class:
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
core/src/test/java/org/elasticsearch/search/slice/SearchSliceIT.java
comments:
Add an index setting to limit the maximum number of slices allowed in a scroll request (default to 1024).

time:
2016-06-10T05:46:04Z
class:
core/src/test/java/org/elasticsearch/http/netty/NettyHttpRequestSizeLimitIT.java
comments:
Remove trace logging from NettyHttpRequestSizeLimitIT

With this commit we revert back to normal behavior as the
underlying issue has been fixed with #18627.

time:
2016-06-09T21:48:49Z
class:
comments:
Build: enable dependency licenses check for client-sniffer, exclude org.elasticsearch jars from checks

time:
2016-06-09T21:44:34Z
class:
client-sniffer/src/test/java/org/elasticsearch/client/sniff/HostsSnifferTests.java
client/src/test/java/org/elasticsearch/client/RestClientIntegTests.java
client/src/test/java/org/elasticsearch/client/SuppressForbidden.java
comments:
make forbiddenApisTest work for client and client-sniffer

time:
2016-06-09T17:48:41Z
class:
core/src/main/java/org/elasticsearch/index/shard/RefreshListeners.java
comments:
Squash a race condition in RefreshListeners

It presented as listeners never being called if you refresh at the same
time as the listener is added. It was caught rarely by
testConcurrentRefresh. mostly this is removing code and adding a comment:

```
Note that it is not safe for us to abort early if we haven't advanced the
position here because we set and read lastRefreshedLocation outside of a
synchronized block. We do that so that waiting for a refresh that has
already passed is just a volatile read but the cost is that any check
whether or not we've advanced the position will introduce a race between
adding the listener and the position check. We could work around this by
moving this assignment into the synchronized block below and double
checking lastRefreshedLocation in addOrNotify's synchronized block but
that doesn't seem worth it given that we already skip this process early
if there aren't any listeners to iterate.
```

time:
2016-06-09T17:43:19Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/TransportRolloverAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestRolloverIndexAction.java
core/src/test/java/org/elasticsearch/action/admin/indices/rollover/RolloverIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/rollover/RolloverRequestTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/rollover/TransportRolloverActionTests.java
comments:
Allow users to override the name for the rollover index
@areek, there's an extra `}`, can you maybe fix it when you'll be in the codebase again?


time:
2016-06-09T17:08:53Z
class:
comments:
[docs] s/lags/Flags/

Copy and paste lots an `F`.

time:
2016-06-09T16:53:24Z
class:
comments:
change rollover rest-api placeholder name

time:
2016-06-09T16:41:20Z
class:
comments:
[docs] Pattern replace char filter now support flags

time:
2016-06-09T16:39:23Z
class:
core/src/main/java/org/elasticsearch/index/analysis/PatternReplaceCharFilterFactory.java
core/src/test/java/org/elasticsearch/index/analysis/CharFilterTests.java
comments:
Support flags in pattern replace char filter

Works just like pattern analyzer's flags param.

Closes #18362.

time:
2016-06-09T16:38:12Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/TransportRolloverAction.java
core/src/test/java/org/elasticsearch/action/admin/indices/rollover/RolloverIT.java
comments:
fail rollover request if rollover index already exists

time:
2016-06-09T16:08:36Z
class:
core/src/main/java/org/elasticsearch/index/shard/RefreshListeners.java
core/src/test/java/org/elasticsearch/index/shard/RefreshListenersTests.java
comments:
[test] Check if RefreshListeners was called immediately

Return a boolean from RefreshListeners, true if we called the listener
inline and false if we didn't, and check it in the test.

time:
2016-06-09T15:55:10Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/TransportRolloverAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestRolloverIndexAction.java
core/src/test/java/org/elasticsearch/action/admin/indices/rollover/RolloverIT.java
comments:
renamed simulated mode to dry_run mode

time:
2016-06-09T15:43:45Z
class:
core/src/main/java/org/elasticsearch/action/DocWriteResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/TransportShrinkAction.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequestBuilder.java
core/src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java
core/src/main/java/org/elasticsearch/action/bulk/BulkShardResponse.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/DeleteRequest.java
core/src/main/java/org/elasticsearch/action/delete/DeleteRequestBuilder.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/index/IndexRequestBuilder.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/ingest/IngestActionFilter.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateExecutionService.java
core/src/main/java/org/elasticsearch/action/ingest/TrackingResultProcessor.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/search/SearchResponse.java
core/src/main/java/org/elasticsearch/action/support/WriteRequest.java
core/src/main/java/org/elasticsearch/action/support/WriteRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/WriteResponse.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicatedWriteRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationOperation.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationResponse.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportBroadcastReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportWriteAction.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/action/update/UpdateHelper.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequest.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequestBuilder.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCheck.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/common/logging/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/rounding/TimeZoneRounding.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/common/settings/PropertyPlaceholder.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/util/concurrent/EsExecutors.java
core/src/main/java/org/elasticsearch/common/xcontent/ConstructingObjectParser.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/RefreshListeners.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/index/translog/TranslogWriter.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/analysis/HunspellService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmInfo.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/NodeModule.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestShrinkIndexAction.java
core/src/main/java/org/elasticsearch/rest/action/bulk/RestBulkAction.java
core/src/main/java/org/elasticsearch/rest/action/delete/RestDeleteAction.java
core/src/main/java/org/elasticsearch/rest/action/index/RestIndexAction.java
core/src/main/java/org/elasticsearch/rest/action/search/RestMultiSearchAction.java
core/src/main/java/org/elasticsearch/rest/action/update/RestUpdateAction.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/ScrollContext.java
core/src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
core/src/main/java/org/elasticsearch/search/slice/DocValuesSliceQuery.java
core/src/main/java/org/elasticsearch/search/slice/SliceBuilder.java
core/src/main/java/org/elasticsearch/search/slice/SliceQuery.java
core/src/main/java/org/elasticsearch/search/slice/TermsSliceQuery.java
core/src/main/java/org/elasticsearch/threadpool/ExecutorBuilder.java
core/src/main/java/org/elasticsearch/threadpool/FixedExecutorBuilder.java
core/src/main/java/org/elasticsearch/threadpool/ScalingExecutorBuilder.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPoolModule.java
core/src/test/java/org/elasticsearch/action/RejectionActionIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TaskManagerTestCase.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/shrink/TransportShrinkActionTests.java
core/src/test/java/org/elasticsearch/action/bulk/BulkProcessorRetryIT.java
core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java
core/src/test/java/org/elasticsearch/action/bulk/BulkShardRequestTests.java
core/src/test/java/org/elasticsearch/action/bulk/TransportBulkActionTookTests.java
core/src/test/java/org/elasticsearch/action/ingest/TrackingResultProcessorTests.java
core/src/test/java/org/elasticsearch/action/support/ListenableActionFutureTests.java
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/master/TransportMasterNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/nodes/TransportNodesActionTests.java
core/src/test/java/org/elasticsearch/action/support/replication/BroadcastReplicationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ReplicationOperationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportReplicationActionTests.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportWriteActionTests.java
core/src/test/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationActionTests.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapCheckTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientTests.java
core/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java
core/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteIT.java
core/src/test/java/org/elasticsearch/cluster/health/ClusterStateHealthTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/IndexMetaDataTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/OperationRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/cluster/service/ClusterServiceTests.java
core/src/test/java/org/elasticsearch/common/rounding/TimeZoneRoundingTests.java
core/src/test/java/org/elasticsearch/common/settings/PropertyPlaceholderTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/YamlSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/PrioritizedExecutorsTests.java
core/src/test/java/org/elasticsearch/common/xcontent/ConstructingObjectParserTests.java
core/src/test/java/org/elasticsearch/discovery/ZenFaultDetectionTests.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPingIT.java
core/src/test/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateActionTests.java
core/src/test/java/org/elasticsearch/document/DocumentActionsIT.java
core/src/test/java/org/elasticsearch/document/ShardInfoIT.java
core/src/test/java/org/elasticsearch/env/NodeEnvironmentTests.java
core/src/test/java/org/elasticsearch/gateway/AsyncShardFetchTests.java
core/src/test/java/org/elasticsearch/gateway/GatewayIndexStateIT.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpChannelTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerTransportTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/WaitUntilRefreshIT.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/IndexFieldDataServiceTests.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingDisabledTests.java
core/src/test/java/org/elasticsearch/index/mapper/all/AllFieldMapperPositionIncrementGapTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldsIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/string/StringFieldMapperPositionIncrementGapTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/shard/RefreshListenersTests.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
core/src/test/java/org/elasticsearch/index/termvectors/TermVectorsServiceTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/indices/IndicesOptionsIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreTests.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
core/src/test/java/org/elasticsearch/ingest/IngestClientIT.java
core/src/test/java/org/elasticsearch/ingest/IngestProcessorNotInstalledOnAllNodesIT.java
core/src/test/java/org/elasticsearch/ingest/PipelineStoreTests.java
core/src/test/java/org/elasticsearch/ingest/core/PipelineFactoryTests.java
core/src/test/java/org/elasticsearch/mget/SimpleMgetIT.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmGcMonitorServiceSettingsTests.java
core/src/test/java/org/elasticsearch/routing/AliasRoutingIT.java
core/src/test/java/org/elasticsearch/routing/SimpleRoutingIT.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/search/SearchServiceTests.java
core/src/test/java/org/elasticsearch/search/SearchTimeoutIT.java
core/src/test/java/org/elasticsearch/search/SearchWithRejectionsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ReverseNestedIT.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoBoundingBoxIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoShapeQueryTests.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
core/src/test/java/org/elasticsearch/search/nested/SimpleNestedIT.java
core/src/test/java/org/elasticsearch/search/query/MultiMatchQueryIT.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
core/src/test/java/org/elasticsearch/search/scroll/SearchScrollIT.java
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
core/src/test/java/org/elasticsearch/search/slice/DocValuesSliceQueryTests.java
core/src/test/java/org/elasticsearch/search/slice/SearchSliceIT.java
core/src/test/java/org/elasticsearch/search/slice/SliceBuilderTests.java
core/src/test/java/org/elasticsearch/search/slice/TermsSliceQueryTests.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearch2xIT.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/ContextSuggestSearch2xIT.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggesterSearchIT.java
core/src/test/java/org/elasticsearch/similarity/SimilarityIT.java
core/src/test/java/org/elasticsearch/threadpool/FixedThreadPoolTests.java
core/src/test/java/org/elasticsearch/threadpool/ScalingThreadPoolTests.java
core/src/test/java/org/elasticsearch/threadpool/SimpleThreadPoolIT.java
core/src/test/java/org/elasticsearch/threadpool/ThreadPoolSerializationTests.java
core/src/test/java/org/elasticsearch/threadpool/UpdateThreadPoolSettingsTests.java
core/src/test/java/org/elasticsearch/timestamp/SimpleTimestampIT.java
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTestCase.java
core/src/test/java/org/elasticsearch/transport/NettySizeHeaderFrameDecoderTests.java
core/src/test/java/org/elasticsearch/transport/NettyTransportServiceHandshakeTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyScheduledPingTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
core/src/test/java/org/elasticsearch/ttl/SimpleTTLIT.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
core/src/test/java/org/elasticsearch/watcher/ResourceWatcherServiceTests.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/AbstractStringProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/AppendProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/ConvertProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/DateFormat.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/DateIndexNameProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/DateProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/FailProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/FailProcessorException.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/ForEachProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/Grok.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/GrokMatchGroup.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/GrokProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/GsubProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/IngestCommonPlugin.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/JoinProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/LowercaseProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/RemoveProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/RenameProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/SetProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/SortProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/SplitProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/TrimProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/UppercaseProcessor.java
comments:
Merge branch 'master' into feature/http_client

time:
2016-06-09T15:39:52Z
class:
client/src/test/java/org/elasticsearch/client/RestClientIntegTests.java
client/src/test/java/org/elasticsearch/client/SuppressForbidden.java
comments:
[TEST] add SuppresForbidden annotation for client project

time:
2016-06-09T15:32:51Z
class:
comments:
Build: temporarily disable dependency licenses check (till our own get filtered out)

time:
2016-06-09T15:26:08Z
class:
core/src/test/java/org/elasticsearch/index/shard/RefreshListenersTests.java
comments:
[test] Check for listener calling error

Failing to call a refresh listener is logger at WARN but that'll
cause test failure. This adds explicit assertions that there are
no errors.

time:
2016-06-09T15:09:15Z
class:
client-sniffer/src/test/java/org/elasticsearch/client/sniff/SnifferBuilderTests.java
comments:
fix line length

time:
2016-06-09T15:06:58Z
class:
client-sniffer/src/test/java/org/elasticsearch/client/sniff/HostsSnifferBuilderTests.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/SnifferBuilderTests.java
client/src/test/java/org/elasticsearch/client/RestClientBuilderTests.java
comments:
fix failing tests

time:
2016-06-09T14:57:57Z
class:
client/src/test/java/org/elasticsearch/client/RestClientBuilderTests.java
comments:
fix line length

time:
2016-06-09T14:51:08Z
class:
client/src/main/java/org/elasticsearch/client/RestClient.java
comments:
use switch for status codes and add comments

time:
2016-06-09T14:41:59Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkRequest.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestShrinkIndexAction.java
comments:
Add Shrink request source parser to parse create index request body

Follow up to https://github.com/elastic/elasticsearch/pull/18732#discussion_r66407196

time:
2016-06-09T14:39:59Z
class:
client/src/main/java/org/elasticsearch/client/RestClient.java
comments:
s/elasticsearchResponse/response

time:
2016-06-09T14:38:43Z
class:
client/src/main/java/org/elasticsearch/client/RestClient.java
comments:
add comments on retries

time:
2016-06-09T14:34:01Z
class:
client/src/main/java/org/elasticsearch/client/RestClient.java
comments:
nextHost to return Iterable<HttpHost> rather than Iterator

time:
2016-06-09T14:31:09Z
class:
client/src/main/java/org/elasticsearch/client/DeadHostState.java
client/src/main/java/org/elasticsearch/client/RestClient.java
comments:
rename deadUntil to deadUntilNanos

time:
2016-06-09T14:27:52Z
class:
client-sniffer/src/main/java/org/elasticsearch/client/sniff/HostsSniffer.java
client-sniffer/src/main/java/org/elasticsearch/client/sniff/Sniffer.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/HostsSnifferBuilderTests.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/SnifferBuilderTests.java
client/src/main/java/org/elasticsearch/client/RestClient.java
client/src/test/java/org/elasticsearch/client/RestClientBuilderTests.java
comments:
renamed all time intervals arguments and members to include the time unit in their name

time:
2016-06-09T13:11:48Z
class:
comments:
[TEST] wait for yellow before query execution

We can remove this once https://github.com/elastic/elasticsearch/pull/18759
is in.

time:
2016-06-09T12:38:32Z
class:
client-sniffer/src/main/java/org/elasticsearch/client/sniff/HostsSniffer.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/HostsSnifferTests.java
client/src/main/java/org/elasticsearch/client/Response.java
client/src/main/java/org/elasticsearch/client/ResponseException.java
client/src/main/java/org/elasticsearch/client/RestClient.java
client/src/test/java/org/elasticsearch/client/RestClientIntegTests.java
client/src/test/java/org/elasticsearch/client/RestClientMultipleHostsTests.java
client/src/test/java/org/elasticsearch/client/RestClientSingleHostTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpCompressionIT.java
core/src/test/java/org/elasticsearch/options/detailederrors/DetailedErrorsDisabledIT.java
core/src/test/java/org/elasticsearch/options/detailederrors/DetailedErrorsEnabledIT.java
core/src/test/java/org/elasticsearch/plugins/ResponseHeaderPluginIT.java
core/src/test/java/org/elasticsearch/rest/CorsNotSetIT.java
core/src/test/java/org/elasticsearch/rest/CorsRegexIT.java
core/src/test/java/org/elasticsearch/rest/action/main/RestMainActionIT.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
test/framework/src/main/java/org/elasticsearch/test/rest/ESRestTestCase.java
test/framework/src/main/java/org/elasticsearch/test/rest/RestTestExecutionContext.java
test/framework/src/main/java/org/elasticsearch/test/rest/client/RestTestClient.java
test/framework/src/main/java/org/elasticsearch/test/rest/client/RestTestResponse.java
test/framework/src/main/java/org/elasticsearch/test/rest/section/DoSection.java
comments:
rename ElasticsearchResponse to Response and ElasticsearchResponseException to ResponseException

time:
2016-06-09T12:27:30Z
class:
client-sniffer/src/main/java/org/elasticsearch/client/sniff/HostsSniffer.java
client-sniffer/src/main/java/org/elasticsearch/client/sniff/Sniffer.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/HostsSnifferBuilderTests.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/HostsSnifferTests.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/SnifferBuilderTests.java
comments:
Decouple HostsSniffer from Sniffer

Sniffer now requires a HostsSniffer instance as a constructor argument, HostsSniffer has its won Builder helper. Also synchronized accesses to scheduledExecutorService in SnifferTask.

time:
2016-06-08T22:38:02Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/Condition.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/MaxAgeCondition.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/MaxDocsCondition.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/TransportRolloverAction.java
comments:
add documentation

time:
2016-06-08T21:38:28Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
comments:
Merge pull request #18789 from rmuir/java9_localdate_you_just_had_to_do_this_didnt_you

painless: exempt LocalDate from bridge method checks on java 9

time:
2016-06-08T20:08:00Z
class:
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
comments:
Improve performance of applyDeletedShards

This commit addresses a performance issue in
IndicesClusterStateService#applyDeletedShards. Namely, the current
implementation is O(number of indices * number of shards). This is
because of an outer loop over the indices and an inner loop over the
assigned shards, all to check if a shard is in the outer index. Instead,
we can group the shards by index, and then just do a map lookup for each
index.

Testing this on a single-node with 2500 indices, each with 2 shards,
creating an index before this optimization takes 0.90s and after this
optimization takes 0.19s.

Relates #18788

time:
2016-06-08T19:55:59Z
class:
comments:
Installation and removal instructions for Ingest Plugins (#18769)

* Add install and remove instructions to ingest-geoip and ingest-attachment docs

time:
2016-06-08T19:47:09Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
comments:
Exempt LocalDate from bridge method checks on java 9

The painless whitelist has a lot of self-checking, in this case, it checks
for missing covariant overrides. It fails on java 9, because LocalDate.getEra()
now returns IsoEra instead of Era: https://bugs.openjdk.java.net/browse/JDK-8072746

To our checker, it thinks we were lazy with whitelisting :)

This means painless works on java 9 again

time:
2016-06-08T19:40:35Z
class:
core/src/test/java/org/elasticsearch/env/NodeEnvironmentTests.java
comments:
[TEST] Fix NodeEnvironmentTests on Windows - use Path.resolve instead of platform dependent path seperator

time:
2016-06-08T19:03:35Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/TransportRolloverAction.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestRolloverIndexAction.java
comments:
fix rest tests

time:
2016-06-08T18:16:06Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/TransportRolloverAction.java
core/src/test/java/org/elasticsearch/action/admin/indices/rollover/RolloverIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/rollover/RolloverRequestTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/rollover/TransportRolloverActionTests.java
comments:
add body support for create index request

time:
2016-06-08T18:03:48Z
class:
comments:
Packaging tests: ingest-grok is now ingest-common

time:
2016-06-08T18:00:15Z
class:
modules/reindex/src/main/java/org/elasticsearch/index/reindex/BulkByScrollTask.java
comments:
[reindex] Extract runnable to inner class

Makes it more readable

time:
2016-06-08T17:52:43Z
class:
modules/reindex/src/test/java/org/elasticsearch/index/reindex/RethrottleTests.java
comments:
Remove extra logging

The test shouldn't be failing any more.

time:
2016-06-08T17:52:43Z
class:
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractAsyncBulkByScrollAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/BulkByScrollTask.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/AsyncBulkByScrollActionTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/BulkByScrollTaskTests.java
comments:
Fix a race condition in reindex's rethrottle

If you rethrottled the request while is was performing a scroll
request then it wouldn't properly pick up the rethrottle for that
batch. This was causing test failure and might cause issues for
users. The work around is simple though: just issue the rethrottle
again with a slightly faster throttle than the first time.

Caught by:
https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+multijob-os-compatibility/os=centos/525/console

time:
2016-06-08T17:50:59Z
class:
core/src/main/java/org/elasticsearch/action/support/WriteRequestBuilder.java
core/src/test/java/org/elasticsearch/document/DocumentActionsIT.java
core/src/test/java/org/elasticsearch/gateway/GatewayIndexStateIT.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldsIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/string/StringFieldMapperPositionIncrementGapTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/termvectors/TermVectorsServiceTests.java
core/src/test/java/org/elasticsearch/indices/IndicesOptionsIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
core/src/test/java/org/elasticsearch/mget/SimpleMgetIT.java
core/src/test/java/org/elasticsearch/search/SearchServiceTests.java
core/src/test/java/org/elasticsearch/search/SearchTimeoutIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ReverseNestedIT.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoBoundingBoxIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoShapeQueryTests.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
core/src/test/java/org/elasticsearch/search/nested/SimpleNestedIT.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
core/src/test/java/org/elasticsearch/search/scroll/SearchScrollIT.java
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/ContextSuggestSearch2xIT.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggesterSearchIT.java
core/src/test/java/org/elasticsearch/similarity/SimilarityIT.java
core/src/test/java/org/elasticsearch/timestamp/SimpleTimestampIT.java
core/src/test/java/org/elasticsearch/ttl/SimpleTTLIT.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
modules/lang-expression/src/test/java/org/elasticsearch/script/expression/MoreExpressionTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchFieldsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovyScriptTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/UpdateByQueryWhileModifyingTests.java
comments:
Remove setRefresh

It has been replaced with `setRefreshPolicy` which has support for
waiting until refresh with `setRefreshPolicy(WAIT_FOR)`.

Related to #1063

time:
2016-06-08T16:49:20Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
comments:
Merge remote-tracking branch 'dakrone/igs-false2'

time:
2016-06-08T16:48:36Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
comments:
Change the default of `include_global_state` from true to false for restores

This changes the default value to be false *only* for restore operations.

Resolves #18569

time:
2016-06-08T16:41:48Z
class:
plugins/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/GeoIpProcessor.java
plugins/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/IngestGeoIpPlugin.java
plugins/ingest-geoip/src/test/java/org/elasticsearch/ingest/geoip/GeoIpProcessorFactoryTests.java
plugins/ingest-geoip/src/test/java/org/elasticsearch/ingest/geoip/GeoIpProcessorTests.java
comments:
ingest: Upgrade geoip processor's dependencies and database files

The database files have been doubled in size compared to the previous files being used.
For this reason the database files are now gzip compressed, which required using
`GZIPInputStream` when loading database files.

time:
2016-06-08T16:38:40Z
class:
core/src/main/java/org/elasticsearch/common/xcontent/ConstructingObjectParser.java
core/src/test/java/org/elasticsearch/common/xcontent/ConstructingObjectParserTests.java
comments:
Support optional ctor args in ConstructingObjectParser

You declare them like
```
static {
  PARSER.declareInt(optionalConstructorArg(), new ParseField("animal"));
}
```

Other than being optional they follow all of the rules of regular
`constructorArg()`s. Parsing an object with optional constructor args
is going to be slightly less efficient than parsing an object with
all required args if some of the optional args aren't specified because
ConstructingObjectParser isn't able to build the target before the
end of the json object.

time:
2016-06-08T15:33:55Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/TransportRolloverAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestRolloverIndexAction.java
core/src/test/java/org/elasticsearch/action/admin/indices/rollover/RolloverIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/rollover/TransportRolloverActionTests.java
comments:
minor cleanup

time:
2016-06-08T13:40:14Z
class:
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
comments:
[TEST] add a dedicated test for empty files

time:
2016-06-08T12:22:31Z
class:
core/src/test/java/org/elasticsearch/index/seqno/CheckpointsIT.java
comments:
Fix global checkpoints test bug

This commit fixes a test bug in a global checkpoints integration
test. Namely, if the replica shard is slow to start and is peer
recovered from the primary, it will not have the expected global
checkpoint due to these not being persisted and transferred on recovery.

Relates #18755

time:
2016-06-08T12:21:38Z
class:
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
comments:
Add sequence numbers to cat shards API

This commit adds the max sequence number and local and global
checkpoints to the cat shards API.

Relates #18772

time:
2016-06-08T11:05:52Z
class:
core/src/main/java/org/elasticsearch/common/rounding/TimeZoneRounding.java
core/src/test/java/org/elasticsearch/common/rounding/TimeZoneRoundingTests.java
comments:
Fix problem with TimeIntervalRounding on DST end

Due to an error in our current TimeIntervalRounding, two dates can
round to the same key, even when they are 1h apart when using
short interval roundings (e.g. 20m) and a time zone with DST change.

Here is an example for the CET time zone:

On 25 October 2015, 03:00:00 clocks are turned backward 1 hour to
02:00:00 local standard time. The dates
"2015-10-25T02:15:00+02:00" (1445732100000) (before DST end) and
"2015-10-25T02:15:00+01:00" (1445735700000) (after DST end)
are thus 1h apart, but currently they round to the same value
"2015-10-25T02:00:00.000+01:00" (1445734800000).

This violates an important invariant of rounding, namely that the
rounded value must be less or equal to the value that is rounded.
It also leads to wrong histogram bucket counts because documents in
[02:00:00+02:00, 02:20:00+02:00) go to the same bucket as documents
from [02:00:00+01:00, 02:20:00+01:00).

The problem happens because in TimeIntervalRounding#roundKey() we
need to perform the rounding operation in local time, but on
converting back to UTC we don't honor the original values time zone
offset. This fix changes that and adds tests both for DST start and
DST end as well as a test that demonstrates what happens to bucket
sizes when the dst change is not evently divisibly by the interval.

time:
2016-06-08T10:37:50Z
class:
client-sniffer/src/test/java/org/elasticsearch/client/sniff/HostsSnifferTests.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/SnifferBuilderTests.java
client/src/main/java/org/elasticsearch/client/RestClient.java
client/src/test/java/org/elasticsearch/client/RestClientBuilderTests.java
client/src/test/java/org/elasticsearch/client/RestClientIntegTests.java
client/src/test/java/org/elasticsearch/client/RestClientMultipleHostsTests.java
client/src/test/java/org/elasticsearch/client/RestClientSingleHostTests.java
test/framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
test/framework/src/main/java/org/elasticsearch/test/rest/client/RestTestClient.java
comments:
require hosts when creating RestClient.Builder

Also fix order of arguments when using assertEquals

time:
2016-06-08T10:37:24Z
class:
client-sniffer/src/main/java/org/elasticsearch/client/sniff/Sniffer.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/SnifferBuilderTests.java
comments:
require RestClient when creating Sniffer.Builder

time:
2016-06-08T09:51:46Z
class:
core/src/test/java/org/elasticsearch/search/slice/SliceBuilderTests.java
comments:
Fix ut: make sure that the number of slices is bigger than 1 in the SliceBuilder tests.

time:
2016-06-08T09:43:02Z
class:
client-sniffer/src/main/java/org/elasticsearch/client/sniff/HostsSniffer.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/HostsSnifferTests.java
comments:
remove TODO around using /_cat/nodes rather than /_nodes, test compatibility with 2.x

 _cat/nodes returns the http address only in 5.x. Would be nice to use as we could drop the jackson dependency, but we care more about being compatible with 2.x.
 Not compatible with previous versions as the format of returned http addresses have changed since 2.0.

Also fixed test bug that caused sporadic failures.

time:
2016-06-08T02:38:47Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/Condition.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/MaxAgeCondition.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/MaxDocsCondition.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/TransportRolloverAction.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/test/java/org/elasticsearch/action/admin/indices/rollover/ConditionTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/rollover/RolloverIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/rollover/TransportRolloverActionTests.java
comments:
incorporate feedback

time:
2016-06-08T02:37:10Z
class:
comments:
remove unused request param

time:
2016-06-07T21:57:53Z
class:
core/src/main/java/org/elasticsearch/action/DocWriteResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/TransportShrinkAction.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequestBuilder.java
core/src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java
core/src/main/java/org/elasticsearch/action/bulk/BulkShardResponse.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/DeleteRequest.java
core/src/main/java/org/elasticsearch/action/delete/DeleteRequestBuilder.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/index/IndexRequestBuilder.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/ingest/IngestActionFilter.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateExecutionService.java
core/src/main/java/org/elasticsearch/action/ingest/TrackingResultProcessor.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/search/SearchResponse.java
core/src/main/java/org/elasticsearch/action/support/WriteRequest.java
core/src/main/java/org/elasticsearch/action/support/WriteRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/WriteResponse.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicatedWriteRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationOperation.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationResponse.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportBroadcastReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportWriteAction.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/action/update/UpdateHelper.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequest.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequestBuilder.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCheck.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/common/util/concurrent/EsExecutors.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/main/java/org/elasticsearch/index/seqno/GlobalCheckpointSyncAction.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/RefreshListeners.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/index/translog/TranslogWriter.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmInfo.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/NodeModule.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestShrinkIndexAction.java
core/src/main/java/org/elasticsearch/rest/action/bulk/RestBulkAction.java
core/src/main/java/org/elasticsearch/rest/action/delete/RestDeleteAction.java
core/src/main/java/org/elasticsearch/rest/action/index/RestIndexAction.java
core/src/main/java/org/elasticsearch/rest/action/update/RestUpdateAction.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/ScrollContext.java
core/src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
core/src/main/java/org/elasticsearch/search/slice/DocValuesSliceQuery.java
core/src/main/java/org/elasticsearch/search/slice/SliceBuilder.java
core/src/main/java/org/elasticsearch/search/slice/SliceQuery.java
core/src/main/java/org/elasticsearch/search/slice/TermsSliceQuery.java
core/src/main/java/org/elasticsearch/threadpool/ExecutorBuilder.java
core/src/main/java/org/elasticsearch/threadpool/FixedExecutorBuilder.java
core/src/main/java/org/elasticsearch/threadpool/ScalingExecutorBuilder.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPoolModule.java
core/src/test/java/org/elasticsearch/action/RejectionActionIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TaskManagerTestCase.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/shrink/TransportShrinkActionTests.java
core/src/test/java/org/elasticsearch/action/bulk/BulkProcessorRetryIT.java
core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java
core/src/test/java/org/elasticsearch/action/bulk/BulkShardRequestTests.java
core/src/test/java/org/elasticsearch/action/bulk/TransportBulkActionTookTests.java
core/src/test/java/org/elasticsearch/action/ingest/TrackingResultProcessorTests.java
core/src/test/java/org/elasticsearch/action/support/ListenableActionFutureTests.java
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/master/TransportMasterNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/nodes/TransportNodesActionTests.java
core/src/test/java/org/elasticsearch/action/support/replication/BroadcastReplicationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ReplicationOperationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportReplicationActionTests.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportWriteActionTests.java
core/src/test/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationActionTests.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapCheckTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientTests.java
core/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java
core/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteIT.java
core/src/test/java/org/elasticsearch/cluster/health/ClusterStateHealthTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/IndexMetaDataTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/OperationRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/cluster/service/ClusterServiceTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/PrioritizedExecutorsTests.java
core/src/test/java/org/elasticsearch/discovery/ZenFaultDetectionTests.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPingIT.java
core/src/test/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateActionTests.java
core/src/test/java/org/elasticsearch/document/ShardInfoIT.java
core/src/test/java/org/elasticsearch/env/NodeEnvironmentTests.java
core/src/test/java/org/elasticsearch/gateway/AsyncShardFetchTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpChannelTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerTransportTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/WaitUntilRefreshIT.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/IndexFieldDataServiceTests.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingDisabledTests.java
core/src/test/java/org/elasticsearch/index/mapper/all/AllFieldMapperPositionIncrementGapTests.java
core/src/test/java/org/elasticsearch/index/shard/RefreshListenersTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreTests.java
core/src/test/java/org/elasticsearch/ingest/IngestClientIT.java
core/src/test/java/org/elasticsearch/ingest/IngestProcessorNotInstalledOnAllNodesIT.java
core/src/test/java/org/elasticsearch/ingest/PipelineStoreTests.java
core/src/test/java/org/elasticsearch/ingest/core/PipelineFactoryTests.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmGcMonitorServiceSettingsTests.java
core/src/test/java/org/elasticsearch/routing/AliasRoutingIT.java
core/src/test/java/org/elasticsearch/routing/SimpleRoutingIT.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/search/SearchWithRejectionsIT.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/query/MultiMatchQueryIT.java
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
core/src/test/java/org/elasticsearch/search/slice/DocValuesSliceQueryTests.java
core/src/test/java/org/elasticsearch/search/slice/SearchSliceIT.java
core/src/test/java/org/elasticsearch/search/slice/SliceBuilderTests.java
core/src/test/java/org/elasticsearch/search/slice/TermsSliceQueryTests.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearch2xIT.java
core/src/test/java/org/elasticsearch/threadpool/FixedThreadPoolTests.java
core/src/test/java/org/elasticsearch/threadpool/ScalingThreadPoolTests.java
core/src/test/java/org/elasticsearch/threadpool/SimpleThreadPoolIT.java
core/src/test/java/org/elasticsearch/threadpool/ThreadPoolSerializationTests.java
core/src/test/java/org/elasticsearch/threadpool/UpdateThreadPoolSettingsTests.java
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTestCase.java
core/src/test/java/org/elasticsearch/transport/NettySizeHeaderFrameDecoderTests.java
core/src/test/java/org/elasticsearch/transport/NettyTransportServiceHandshakeTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyScheduledPingTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
core/src/test/java/org/elasticsearch/watcher/ResourceWatcherServiceTests.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/AbstractStringProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/AppendProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/ConvertProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/DateFormat.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/DateIndexNameProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/DateProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/FailProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/FailProcessorException.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/ForEachProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/Grok.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/GrokMatchGroup.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/GrokProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/GsubProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/IngestCommonPlugin.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/JoinProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/LowercaseProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/RemoveProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/RenameProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/SetProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/SortProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/SplitProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/TrimProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/UppercaseProcessor.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/AbstractStringProcessorTestCase.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/AppendProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/AppendProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/ConvertProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/ConvertProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/DateFormatTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/DateIndexNameFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/DateIndexNameProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/DateProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/DateProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/FailProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/FailProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/ForEachProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/ForEachProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/GrokProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/GrokProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/GrokTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/GsubProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/GsubProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/IngestCommonRestIT.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/JoinProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/JoinProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/LowercaseProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/LowercaseProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/RemoveProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/RemoveProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/RenameProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/RenameProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/SetProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/SetProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/SortProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/SplitProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/SplitProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/TrimProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/TrimProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/UppercaseProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/UppercaseProcessorTests.java
modules/ingest-grok/src/main/java/org/elasticsearch/ingest/grok/IngestGrokPlugin.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/BulkTests.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/TemplateQueryParserTests.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerCaster.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Compiler.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/FunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngineService.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/ScriptImpl.java
comments:
Merge branch 'master' into feature/seq_no

* master: (51 commits)
  Switch QueryBuilders to new MatchPhraseQueryBuilder
  Added method to allow creation of new methods on-the-fly.
  more cleanups
  Remove cluster name from data path
  Remove explicit parallel new GC flag
  rehash the docvalues in DocValuesSliceQuery using BitMixer.mix instead of the naive Long.hashCode.
  switch FunctionRef over to methodhandles
  ingest: Move processors from core to ingest-common module.
  Fix some typos (#18746)
  Fix ut
  convert FunctionRef/Def usage to methodhandles.
  Add the ability to partition a scroll in multiple slices. API:
  use painless types in FunctionRef
  Update ingest-node.asciidoc
  compute functional interface stuff in Definition
  Use method name in bootstrap check might fork test
  Make checkstyle happy (add Lookup import, line length)
  Don't hide LambdaConversionException and behave like real javac compiled code when a conversion fails. This works anyways, because fallback is allowed to throw any Throwable
  Pass through the lookup given by invokedynamic to the LambdaMetaFactory. Without it real lambdas won't work, as their implementations are private to script class
  checkstyle have your upper L
  ...

time:
2016-06-07T21:07:37Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
comments:
Revert "Change the default of `include_global_state` from true to false."

This reverts commit 052a62250ca880f4e5d2746822ac58139b36efda.

time:
2016-06-07T21:06:20Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
comments:
Change the default of `include_global_state` from true to false.

Resolves #18569

time:
2016-06-07T18:47:29Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Writer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
comments:
Merge pull request #18771 from jdconrad/methods

Add Method to Get New MethodWriters

time:
2016-06-07T18:35:23Z
class:
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/test/java/org/elasticsearch/search/query/MultiMatchQueryIT.java
comments:
Switch QueryBuilders to new MatchPhraseQueryBuilder

It was doing deprecated things with MatchQueryBuilder.

time:
2016-06-07T18:24:33Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Writer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
comments:
Added method to allow creation of new methods on-the-fly.

time:
2016-06-07T18:22:49Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerCaster.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/FunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngineService.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/ScriptImpl.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewObj.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SEach.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicAPITests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefBootstrapTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/FunctionRefTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/OverloadTests.java
comments:
Merge pull request #18748 from rmuir/painless_method_references

painless: method reference support

time:
2016-06-07T16:42:19Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerCaster.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
comments:
more cleanups

time:
2016-06-07T16:14:23Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/test/java/org/elasticsearch/env/NodeEnvironmentTests.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/EvilSecurityTests.java
qa/evil-tests/src/test/java/org/elasticsearch/env/NodeEnvironmentEvilTests.java
comments:
Merge remote-tracking branch 'dakrone/no-cluster-name-in-path'

time:
2016-06-07T16:13:48Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/test/java/org/elasticsearch/env/NodeEnvironmentTests.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/EvilSecurityTests.java
qa/evil-tests/src/test/java/org/elasticsearch/env/NodeEnvironmentEvilTests.java
comments:
Remove cluster name from data path

Previously Elasticsearch used $DATA_DIR/$CLUSTER_NAME/nodes for the path
where data is stored, this commit changes that to be $DATA_DIR/nodes.

On startup, if the old folder structure is detected it will be used.
This behavior will be removed in Elasticsearch 6.0

Resolves #17810

time:
2016-06-07T16:05:38Z
class:
comments:
Remove explicit parallel new GC flag

Unless explicitly disabled, the parallel new collector is enabled
automatically as soon as the CMS collector is enabled:

  void Arguments::set_cms_and_parnew_gc_flags() {
    assert(
      !UseSerialGC && !UseParallelOldGC && !UseParallelGC,
      "Error");
    assert(UseConcMarkSweepGC, "CMS is expected to be on here");

    // If we are using CMS, we prefer to UseParNewGC,
    // unless explicitly forbidden.
    if (FLAG_IS_DEFAULT(UseParNewGC)) {
      FLAG_SET_ERGO(bool, UseParNewGC, true);
    }

While it's fine to be explicit, the UseParNewGC flag is deprecatd in JDK
8 and produces warning messages in JDK 9:

  Java HotSpot(TM) 64-Bit Server VM warning: Option UseParNewGC was
  deprecated in version 9.0 and will likely be removed in a future
  release.

Thus, we can and should just remove this flag from the default JVM
options.

Relates #18767

time:
2016-06-07T15:58:32Z
class:
core/src/main/java/org/elasticsearch/search/slice/DocValuesSliceQuery.java
core/src/test/java/org/elasticsearch/search/slice/DocValuesSliceQueryTests.java
comments:
rehash the docvalues in DocValuesSliceQuery using BitMixer.mix instead of the naive Long.hashCode.

time:
2016-06-07T15:56:44Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/FunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EFunctionRef.java
comments:
switch FunctionRef over to methodhandles

time:
2016-06-07T15:32:52Z
class:
core/src/main/java/org/elasticsearch/action/ingest/SimulateExecutionService.java
core/src/main/java/org/elasticsearch/action/ingest/TrackingResultProcessor.java
core/src/main/java/org/elasticsearch/node/NodeModule.java
core/src/test/java/org/elasticsearch/action/ingest/TrackingResultProcessorTests.java
core/src/test/java/org/elasticsearch/ingest/IngestClientIT.java
core/src/test/java/org/elasticsearch/ingest/IngestProcessorNotInstalledOnAllNodesIT.java
core/src/test/java/org/elasticsearch/ingest/PipelineStoreTests.java
core/src/test/java/org/elasticsearch/ingest/core/PipelineFactoryTests.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/AbstractStringProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/AppendProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/ConvertProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/DateFormat.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/DateIndexNameProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/DateProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/FailProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/FailProcessorException.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/ForEachProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/Grok.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/GrokMatchGroup.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/GrokProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/GsubProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/IngestCommonPlugin.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/JoinProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/LowercaseProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/RemoveProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/RenameProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/SetProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/SortProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/SplitProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/TrimProcessor.java
modules/ingest-common/src/main/java/org/elasticsearch/ingest/UppercaseProcessor.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/AbstractStringProcessorTestCase.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/AppendProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/AppendProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/ConvertProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/ConvertProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/DateFormatTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/DateIndexNameFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/DateIndexNameProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/DateProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/DateProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/FailProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/FailProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/ForEachProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/ForEachProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/GrokProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/GrokProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/GrokTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/GsubProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/GsubProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/IngestCommonRestIT.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/JoinProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/JoinProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/LowercaseProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/LowercaseProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/RemoveProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/RemoveProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/RenameProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/RenameProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/SetProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/SetProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/SortProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/SplitProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/SplitProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/TrimProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/TrimProcessorTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/UppercaseProcessorFactoryTests.java
modules/ingest-common/src/test/java/org/elasticsearch/ingest/UppercaseProcessorTests.java
modules/ingest-grok/src/main/java/org/elasticsearch/ingest/grok/IngestGrokPlugin.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/CancelTests.java
qa/smoke-test-ingest-with-all-dependencies/src/test/java/org/elasticsearch/ingest/IngestMustacheRemoveProcessorIT.java
qa/smoke-test-ingest-with-all-dependencies/src/test/java/org/elasticsearch/ingest/IngestMustacheSetProcessorIT.java
test/framework/src/main/java/org/elasticsearch/ingest/IngestTestPlugin.java
comments:
ingest: Move processors from core to ingest-common module.

Folded grok processor into ingest-common module.

The rest tests have been moved to ingest-common module as well, because these tests don't run in the rest-api-spec module but in the distribution:integ-test-zip module
and adding a test plugin there felt just wrong to me. I think this is ok. I left a tiny ingest rest test behind in that tests with an empty pipeline.

Removed messy tests, these tests were already covered in the rest tests

Added ingest test plugin in test infra so that each module testing integration with ingest doesn't need write its own plugin

Moved reindex ingest tests to qa module

Closes #18490

time:
2016-06-07T14:41:39Z
class:
core/src/main/java/org/elasticsearch/action/search/SearchResponse.java
comments:
Fix some typos (#18746)

* Update java-doc of SearchResponse.getProfileResults()

* Fix a trivial typo in Reference document

time:
2016-06-07T14:29:18Z
class:
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
comments:
Fix ut

time:
2016-06-07T14:23:57Z
class:
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/ScrollContext.java
core/src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
core/src/main/java/org/elasticsearch/search/slice/DocValuesSliceQuery.java
core/src/main/java/org/elasticsearch/search/slice/SliceBuilder.java
core/src/main/java/org/elasticsearch/search/slice/SliceQuery.java
core/src/main/java/org/elasticsearch/search/slice/TermsSliceQuery.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/slice/DocValuesSliceQueryTests.java
core/src/test/java/org/elasticsearch/search/slice/SearchSliceIT.java
core/src/test/java/org/elasticsearch/search/slice/SliceBuilderTests.java
core/src/test/java/org/elasticsearch/search/slice/TermsSliceQueryTests.java
comments:
Merge pull request #18237 from jimferenczi/scroll_by_slice

Add the ability to partition a scroll in multiple slices.

time:
2016-06-07T14:23:49Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/FunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EFunctionRef.java
comments:
convert FunctionRef/Def usage to methodhandles.

time:
2016-06-07T14:21:53Z
class:
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/ScrollContext.java
core/src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
core/src/main/java/org/elasticsearch/search/slice/DocValuesSliceQuery.java
core/src/main/java/org/elasticsearch/search/slice/SliceBuilder.java
core/src/main/java/org/elasticsearch/search/slice/SliceQuery.java
core/src/main/java/org/elasticsearch/search/slice/TermsSliceQuery.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/slice/DocValuesSliceQueryTests.java
core/src/test/java/org/elasticsearch/search/slice/SearchSliceIT.java
core/src/test/java/org/elasticsearch/search/slice/SliceBuilderTests.java
core/src/test/java/org/elasticsearch/search/slice/TermsSliceQueryTests.java
comments:
Add the ability to partition a scroll in multiple slices.
API:

```
curl -XGET 'localhost:9200/twitter/tweet/_search?scroll=1m' -d '{
    "slice": {
        "field": "_uid", <1>
        "id": 0, <2>
        "max": 10 <3>
    },
    "query": {
        "match" : {
            "title" : "elasticsearch"
        }
    }
}
```

<1> (optional) The field name used to do the slicing (_uid by default)
<2> The id of the slice

By default the splitting is done on the shards first and then locally on each shard using the _uid field
with the following formula:
`slice(doc) = floorMod(hashCode(doc._uid), max)`
For instance if the number of shards is equal to 2 and the user requested 4 slices then the slices 0 and 2 are assigned
to the first shard and the slices 1 and 3 are assigned to the second shard.

Each scroll is independent and can be processed in parallel like any scroll request.

Closes #13494

time:
2016-06-07T13:49:54Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/FunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EFunctionRef.java
comments:
use painless types in FunctionRef

time:
2016-06-07T13:47:38Z
class:
comments:
Update ingest-node.asciidoc

Fixed forgotten rename from `match_formats` to `formats` in documentation (changed in https://github.com/elastic/elasticsearch/commit/dd2184ab259fb544659ec28ce97467729e2974fe)

time:
2016-06-07T13:41:03Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
comments:
compute functional interface stuff in Definition

time:
2016-06-07T13:33:17Z
class:
core/src/test/java/org/elasticsearch/bootstrap/BootstrapCheckTests.java
comments:
Use method name in bootstrap check might fork test

This commit modifies the bootstrap check invocations in the might fork
tests to use the underlying test name when setting up the logging prefix
when invoking the bootstrap checks. This is done to give clear logs in
case of failure.

time:
2016-06-07T13:26:57Z
class:
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCheck.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmInfo.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapCheckTests.java
comments:
Merge pull request #18756 from jasontedor/on-out-of-memory-error

Bootstrap check for OnOutOfMemoryError and seccomp

time:
2016-06-07T11:06:23Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
comments:
Make checkstyle happy (add Lookup import, line length)

time:
2016-06-07T11:00:36Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
comments:
Don't hide LambdaConversionException and behave like real javac compiled code when a conversion fails. This works anyways, because fallback is allowed to throw any Throwable

time:
2016-06-07T10:32:59Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
comments:
Pass through the lookup given by invokedynamic to the LambdaMetaFactory. Without it real lambdas won't work, as their implementations are private to script class

time:
2016-06-07T09:37:34Z
class:
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorFieldMapperTests.java
comments:
fix testMultiplePercolatorFields to account for seq_no fields

time:
2016-06-07T09:05:28Z
class:
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
comments:
checkstyle have your upper L

time:
2016-06-07T08:22:11Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
comments:
fix javadocs

time:
2016-06-07T08:06:41Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/TransportShrinkAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestShrinkIndexAction.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/shrink/TransportShrinkActionTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/IndexMetaDataTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/OperationRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
comments:
Allow `_shrink` to N shards if source shards is a multiple of N (#18699)

Today we allow to shrink to 1 shard but that might not be possible due to
too many document or a single shard doesn't meet the requirements for the index.
The logic can be expanded to N shards if the source index shards is a multiple of N.
This guarantees that there are not hotspots created due to different number of shards
being shrunk into one.

time:
2016-06-07T03:26:22Z
class:
core/src/test/java/org/elasticsearch/index/shard/RefreshListenersTests.java
comments:
Fix compilation issue in RefreshListenersTests

This commit fixes a compilation issue in RefreshListenersTests that
arose from code being integrated into master, and then a large pull
request refactoring the handling of thread pools was later merged into
master.

time:
2016-06-07T02:39:28Z
class:
core/src/main/java/org/elasticsearch/action/DocWriteResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequestBuilder.java
core/src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java
core/src/main/java/org/elasticsearch/action/bulk/BulkShardResponse.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/DeleteRequest.java
core/src/main/java/org/elasticsearch/action/delete/DeleteRequestBuilder.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/index/IndexRequestBuilder.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/ingest/IngestActionFilter.java
core/src/main/java/org/elasticsearch/action/support/WriteRequest.java
core/src/main/java/org/elasticsearch/action/support/WriteRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/WriteResponse.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicatedWriteRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationOperation.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationResponse.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportBroadcastReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportWriteAction.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/action/update/UpdateHelper.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequest.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequestBuilder.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ThrottlingAllocationDecider.java
core/src/main/java/org/elasticsearch/common/logging/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/common/settings/PropertyPlaceholder.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/util/concurrent/EsExecutors.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/RefreshListeners.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/index/translog/TranslogWriter.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/analysis/HunspellService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/rest/action/bulk/RestBulkAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/delete/RestDeleteAction.java
core/src/main/java/org/elasticsearch/rest/action/index/RestIndexAction.java
core/src/main/java/org/elasticsearch/rest/action/search/RestMultiSearchAction.java
core/src/main/java/org/elasticsearch/rest/action/update/RestUpdateAction.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/threadpool/ExecutorBuilder.java
core/src/main/java/org/elasticsearch/threadpool/FixedExecutorBuilder.java
core/src/main/java/org/elasticsearch/threadpool/ScalingExecutorBuilder.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPoolModule.java
core/src/test/java/org/elasticsearch/action/RejectionActionIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TaskManagerTestCase.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
core/src/test/java/org/elasticsearch/action/bulk/BulkProcessorRetryIT.java
core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java
core/src/test/java/org/elasticsearch/action/bulk/BulkShardRequestTests.java
core/src/test/java/org/elasticsearch/action/bulk/TransportBulkActionTookTests.java
core/src/test/java/org/elasticsearch/action/support/ListenableActionFutureTests.java
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/master/TransportMasterNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/nodes/TransportNodesActionTests.java
core/src/test/java/org/elasticsearch/action/support/replication/BroadcastReplicationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ReplicationOperationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportReplicationActionTests.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportWriteActionTests.java
core/src/test/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationActionTests.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientTests.java
core/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java
core/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteIT.java
core/src/test/java/org/elasticsearch/cluster/health/ClusterStateHealthTests.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RandomShardRoutingMutator.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ThrottlingAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/service/ClusterServiceTests.java
core/src/test/java/org/elasticsearch/common/settings/PropertyPlaceholderTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/YamlSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/PrioritizedExecutorsTests.java
core/src/test/java/org/elasticsearch/discovery/ZenFaultDetectionTests.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPingIT.java
core/src/test/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateActionTests.java
core/src/test/java/org/elasticsearch/document/ShardInfoIT.java
core/src/test/java/org/elasticsearch/gateway/AsyncShardFetchTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpChannelTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerTransportTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/WaitUntilRefreshIT.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/IndexFieldDataServiceTests.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingDisabledTests.java
core/src/test/java/org/elasticsearch/index/mapper/all/AllFieldMapperPositionIncrementGapTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/shard/RefreshListenersTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreTests.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmGcMonitorServiceSettingsTests.java
core/src/test/java/org/elasticsearch/routing/AliasRoutingIT.java
core/src/test/java/org/elasticsearch/routing/SimpleRoutingIT.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/search/SearchServiceTests.java
core/src/test/java/org/elasticsearch/search/SearchWithRejectionsIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearch2xIT.java
core/src/test/java/org/elasticsearch/threadpool/FixedThreadPoolTests.java
core/src/test/java/org/elasticsearch/threadpool/ScalingThreadPoolTests.java
core/src/test/java/org/elasticsearch/threadpool/SimpleThreadPoolIT.java
core/src/test/java/org/elasticsearch/threadpool/ThreadPoolSerializationTests.java
core/src/test/java/org/elasticsearch/threadpool/UpdateThreadPoolSettingsTests.java
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTestCase.java
core/src/test/java/org/elasticsearch/transport/NettySizeHeaderFrameDecoderTests.java
core/src/test/java/org/elasticsearch/transport/NettyTransportServiceHandshakeTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyScheduledPingTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
core/src/test/java/org/elasticsearch/watcher/ResourceWatcherServiceTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/BulkTests.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/TemplateQueryParserTests.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Compiler.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/ScriptImpl.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Variables.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserBaseVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConditional.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SCatch.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclaration.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDo.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SEach.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIf.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIfElse.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STry.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SWhile.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/package-info.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicStatementTests.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractAsyncBulkIndexByScrollAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBaseReindexRestHandler.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/BulkByScrollTask.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/RestDeleteByQueryAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/RestReindexAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/RestUpdateByQueryAction.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/AbstractAsyncBulkIndexByScrollActionScriptTestCase.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/AbstractAsyncBulkIndexByScrollActionTestCase.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/AsyncBulkByScrollActionTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/BulkByScrollTaskTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/RetryTests.java
plugins/discovery-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureTestCase.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTestCase.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryTests.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoveryTests.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureWithThirdPartyIntegTestCase.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/AzureTestUtils.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTestCase.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/ESPolicyUnitTests.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/EvilSecurityTests.java
qa/evil-tests/src/test/java/org/elasticsearch/tribe/TribeUnitTests.java
qa/smoke-test-ingest-with-all-dependencies/src/test/java/org/elasticsearch/ingest/IngestDocumentMustacheIT.java
qa/smoke-test-ingest-with-all-dependencies/src/test/java/org/elasticsearch/ingest/IngestMustacheSetProcessorIT.java
test/framework/src/main/java/org/elasticsearch/test/ESTestCase.java
test/framework/src/main/java/org/elasticsearch/test/client/NoOpClient.java
test/framework/src/main/java/org/elasticsearch/threadpool/TestThreadPool.java
comments:
Merge branch 'master' into painless_method_references

time:
2016-06-07T02:18:44Z
class:
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCheck.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmInfo.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapCheckTests.java
comments:
Bootstrap check for OnError and seccomp

This commit adds a bootstrap check for the JVM option OnError being in
use and seccomp being enabled. These two options are incompatible
because OnError allows the user to specify an arbitrary program to fork
when the JVM encounters an fatal error, and seccomp enables system call
filters that prevents forking.

time:
2016-06-07T02:09:12Z
class:
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/util/concurrent/EsExecutors.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/threadpool/ExecutorBuilder.java
core/src/main/java/org/elasticsearch/threadpool/FixedExecutorBuilder.java
core/src/main/java/org/elasticsearch/threadpool/ScalingExecutorBuilder.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPoolModule.java
core/src/test/java/org/elasticsearch/action/RejectionActionIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TaskManagerTestCase.java
core/src/test/java/org/elasticsearch/action/bulk/BulkProcessorRetryIT.java
core/src/test/java/org/elasticsearch/action/bulk/TransportBulkActionTookTests.java
core/src/test/java/org/elasticsearch/action/support/ListenableActionFutureTests.java
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/master/TransportMasterNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/nodes/TransportNodesActionTests.java
core/src/test/java/org/elasticsearch/action/support/replication/BroadcastReplicationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportReplicationActionTests.java
core/src/test/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationActionTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java
core/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java
core/src/test/java/org/elasticsearch/cluster/health/ClusterStateHealthTests.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationServiceTests.java
core/src/test/java/org/elasticsearch/cluster/service/ClusterServiceTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/PrioritizedExecutorsTests.java
core/src/test/java/org/elasticsearch/discovery/ZenFaultDetectionTests.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPingIT.java
core/src/test/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateActionTests.java
core/src/test/java/org/elasticsearch/gateway/AsyncShardFetchTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpChannelTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerTransportTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/IndexFieldDataServiceTests.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingDisabledTests.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreTests.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmGcMonitorServiceSettingsTests.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/search/SearchWithRejectionsIT.java
core/src/test/java/org/elasticsearch/threadpool/FixedThreadPoolTests.java
core/src/test/java/org/elasticsearch/threadpool/ScalingThreadPoolTests.java
core/src/test/java/org/elasticsearch/threadpool/SimpleThreadPoolIT.java
core/src/test/java/org/elasticsearch/threadpool/ThreadPoolSerializationTests.java
core/src/test/java/org/elasticsearch/threadpool/UpdateThreadPoolSettingsTests.java
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTestCase.java
core/src/test/java/org/elasticsearch/transport/NettySizeHeaderFrameDecoderTests.java
core/src/test/java/org/elasticsearch/transport/NettyTransportServiceHandshakeTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyScheduledPingTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
core/src/test/java/org/elasticsearch/watcher/ResourceWatcherServiceTests.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/TemplateQueryParserTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/AbstractAsyncBulkIndexByScrollActionTestCase.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/AsyncBulkByScrollActionTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/BulkByScrollTaskTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/RetryTests.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryTests.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoveryTests.java
test/framework/src/main/java/org/elasticsearch/test/ESTestCase.java
test/framework/src/main/java/org/elasticsearch/test/client/NoOpClient.java
test/framework/src/main/java/org/elasticsearch/threadpool/TestThreadPool.java
comments:
Register thread pool settings

This commit refactors the handling of thread pool settings so that the
individual settings can be registered rather than registering the top
level group. With this refactoring, individual plugins must now register
their own settings for custom thread pools that they need, but a
dedicated API is provided for this in the thread pool module. This
commit also renames the prefix on the thread pool settings from
"threadpool" to "thread_pool". This enables a hard break on the settings
so that:
 - some of the settings can be given more sensible names (e.g., the max
   number of threads in a scaling thread pool is now named "max" instead
   of "size")
 - change the soft limit on the number of threads in the bulk and
   indexing thread pools to a hard limit
 - the settings names for custom plugins for thread pools can be
   prefixed (e.g., "xpack.watcher.thread_pool.size")
 - remove dynamic thread pool settings

Relates #18674

time:
2016-06-07T01:29:27Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Compiler.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/ScriptImpl.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Variables.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserBaseVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConditional.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SCatch.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclaration.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDo.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SEach.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIf.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIfElse.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STry.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SWhile.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/package-info.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicStatementTests.java
comments:
Merge pull request #18757 from jdconrad/each

Static For Each

time:
2016-06-07T01:21:08Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SEach.java
comments:
Cleaned up SEach node.

time:
2016-06-07T01:04:59Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
comments:
remove outdated TODO

time:
2016-06-07T00:59:39Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AStatement.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SArrayEach.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBreak.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SCatch.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SContinue.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclaration.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDo.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SEach.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIf.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIfElse.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SReturn.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SThrow.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STry.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SWhile.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/package-info.java
comments:
Reverted S-node design change.

time:
2016-06-07T00:30:42Z
class:
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicStatementTests.java
comments:
enable test

time:
2016-06-07T00:07:32Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
comments:
add def iteration over arrays

time:
2016-06-06T23:41:37Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDefEach.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SEach.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicStatementTests.java
comments:
implement dynamic case for iterables

time:
2016-06-06T23:07:12Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SArrayEach.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDefEach.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SEach.java
comments:
Added a for each stub node for a target type of def.

time:
2016-06-06T22:58:56Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDefEach.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SEach.java
comments:
More comments.

time:
2016-06-06T22:54:28Z
class:
core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestRolloverIndexAction.java
comments:
remove put method

time:
2016-06-06T22:50:45Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/Condition.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/TransportRolloverAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestRolloverIndexAction.java
core/src/test/java/org/elasticsearch/action/admin/indices/rollover/ConditionTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/rollover/RolloverIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/rollover/TransportRolloverActionTests.java
comments:
enhance rollover request

time:
2016-06-06T22:34:51Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SArrayEach.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SEach.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/package-info.java
comments:
Updated package info documentation.

time:
2016-06-06T22:30:21Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
comments:
Merge branch 'master' into each

time:
2016-06-06T22:25:09Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AStatement.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SArrayEach.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SEach.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicStatementTests.java
comments:
Added foreach for array types.

time:
2016-06-06T21:58:00Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
comments:
ban slow methods in MethodHandle

time:
2016-06-06T21:31:42Z
class:
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCheck.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmInfo.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapCheckTests.java
comments:
Bootstrap check for OnOutOfMemoryError and seccomp

This commit adds a bootstrap check for the JVM option OnOutOfMemoryError
being in use and seccomp being enabled. These two options are
incompatible because OnOutOfMemoryError allows the user to specify an
arbitrary program to fork when the JVM encounters an
OutOfMemoryError, and seccomp enables system call filters that prevents
forking.

This commit also adds support for bootstrap checks that are always
enforced, whether or not Elasticsearch is in production mode.

time:
2016-06-06T21:29:03Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
comments:
remove unnecessary caching

time:
2016-06-06T21:00:13Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
comments:
Fix typo in template validation message

This commit addresses a typo in a template validation message in
MetaDataIndexTemplateService.java.

Relates #18754

time:
2016-06-06T20:53:31Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SEach.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicStatementTests.java
comments:
Working iterable foreach with tests.

time:
2016-06-06T20:11:46Z
class:
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/test/java/org/elasticsearch/action/admin/indices/rollover/RolloverIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/rollover/TransportRolloverActionTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapperTests.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregatorParsingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/BaseAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/BasePipelineAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/TemplateQueryParserTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/AttachmentUnitTestCase.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/SizeMappingTests.java
test/framework/src/main/java/org/elasticsearch/index/MapperTestUtils.java
test/framework/src/main/java/org/elasticsearch/test/AbstractQueryTestCase.java
comments:
add named writable registry glue

time:
2016-06-06T20:10:36Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/Condition.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/TransportRolloverAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestRolloverIndexAction.java
comments:
simplify conditions and rollover request

time:
2016-06-06T19:34:35Z
class:
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
comments:
Merge branch 'master' into each

time:
2016-06-06T19:33:25Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Variables.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SEach.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicStatementTests.java
comments:
Implementation of iterable.

time:
2016-06-06T17:49:40Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SEach.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/package-info.java
comments:
Stubbed foreach node.

time:
2016-06-06T16:23:01Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/DocWriteResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/TransportRestoreSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequestBuilder.java
core/src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java
core/src/main/java/org/elasticsearch/action/bulk/BulkShardResponse.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/DeleteRequest.java
core/src/main/java/org/elasticsearch/action/delete/DeleteRequestBuilder.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/index/IndexRequestBuilder.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/ingest/IngestActionFilter.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/WriteRequest.java
core/src/main/java/org/elasticsearch/action/support/WriteRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/WriteResponse.java
core/src/main/java/org/elasticsearch/action/support/master/AcknowledgedRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicatedWriteRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationOperation.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationResponse.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportBroadcastReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportWriteAction.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/action/update/UpdateHelper.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequest.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequestBuilder.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCheck.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapSettings.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/RestoreInProgress.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterShardHealth.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexGraveyard.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/SnapshotId.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RestoreSource.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/FilterAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ThrottlingAllocationDecider.java
core/src/main/java/org/elasticsearch/common/ParseField.java
core/src/main/java/org/elasticsearch/common/blobstore/BlobContainer.java
core/src/main/java/org/elasticsearch/common/blobstore/BlobMetaData.java
core/src/main/java/org/elasticsearch/common/blobstore/BlobPath.java
core/src/main/java/org/elasticsearch/common/blobstore/BlobStore.java
core/src/main/java/org/elasticsearch/common/blobstore/fs/FsBlobContainer.java
core/src/main/java/org/elasticsearch/common/blobstore/support/AbstractBlobContainer.java
core/src/main/java/org/elasticsearch/common/logging/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/recycler/Recycler.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/common/settings/PropertyPlaceholder.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/util/AbstractBigArray.java
core/src/main/java/org/elasticsearch/common/util/BigArrays.java
core/src/main/java/org/elasticsearch/common/util/PageCacheRecycler.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/InnerHitBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchPhrasePrefixQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchPhraseQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ParentIdQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/QueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/RefreshListeners.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/shard/StoreRecovery.java
core/src/main/java/org/elasticsearch/index/snapshots/IndexShardRepository.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/index/translog/TranslogWriter.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/analysis/HunspellService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/ingest/core/CompoundProcessor.java
core/src/main/java/org/elasticsearch/ingest/core/ConfigurationUtils.java
core/src/main/java/org/elasticsearch/ingest/core/Pipeline.java
core/src/main/java/org/elasticsearch/ingest/processor/TrackingResultProcessor.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/NodeModule.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/repositories/Repository.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
core/src/main/java/org/elasticsearch/repositories/uri/URLRepository.java
core/src/main/java/org/elasticsearch/rest/action/bulk/RestBulkAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestRecoveryAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestSnapshotAction.java
core/src/main/java/org/elasticsearch/rest/action/delete/RestDeleteAction.java
core/src/main/java/org/elasticsearch/rest/action/index/RestIndexAction.java
core/src/main/java/org/elasticsearch/rest/action/search/RestMultiSearchAction.java
core/src/main/java/org/elasticsearch/rest/action/update/RestUpdateAction.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/AbstractAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/Aggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregation.java
core/src/main/java/org/elasticsearch/search/aggregations/PipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/global/GlobalAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/SamplerAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/AbstractPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/BucketHelpers.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/avg/AvgBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/max/MaxBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/min/MinBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/PercentilesBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/StatsBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/ExtendedStatsBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/sum/SumBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketselector/BucketSelectorPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/cumulativesum/CumulativeSumPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/DerivativePipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/support/AggregationContext.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceConfig.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/highlight/AbstractHighlighterBuilder.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/rescore/QueryRescorerBuilder.java
core/src/main/java/org/elasticsearch/search/sort/FieldSortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/ScriptSortBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
core/src/main/java/org/elasticsearch/snapshots/ConcurrentSnapshotExecutionException.java
core/src/main/java/org/elasticsearch/snapshots/InvalidSnapshotNameException.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/Snapshot.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotCreationException.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotException.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotId.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotInfo.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotMissingException.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotRestoreException.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/snapshots/SnapshotBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java
core/src/test/java/org/elasticsearch/action/bulk/BulkShardRequestTests.java
core/src/test/java/org/elasticsearch/action/ingest/SimulateExecutionServiceTests.java
core/src/test/java/org/elasticsearch/action/support/replication/BroadcastReplicationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ReplicationOperationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportReplicationActionTests.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportWriteActionTests.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapSettingsTests.java
core/src/test/java/org/elasticsearch/bwcompat/RepositoryUpgradabilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteIT.java
core/src/test/java/org/elasticsearch/cluster/health/ClusterStateHealthTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RandomShardRoutingMutator.java
core/src/test/java/org/elasticsearch/cluster/routing/ShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FilterAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/NodeVersionAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ThrottlingAllocationTests.java
core/src/test/java/org/elasticsearch/common/bytes/PagedBytesReferenceTests.java
core/src/test/java/org/elasticsearch/common/settings/PropertyPlaceholderTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/YamlSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/util/BigArraysTests.java
core/src/test/java/org/elasticsearch/common/util/BytesRefHashTests.java
core/src/test/java/org/elasticsearch/common/util/LongHashTests.java
core/src/test/java/org/elasticsearch/common/util/LongObjectHashMapTests.java
core/src/test/java/org/elasticsearch/document/ShardInfoIT.java
core/src/test/java/org/elasticsearch/gateway/PrimaryShardAllocatorTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpChannelTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerTransportTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/SearchSlowLogTests.java
core/src/test/java/org/elasticsearch/index/WaitUntilRefreshIT.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/mapper/MapperServiceTests.java
core/src/test/java/org/elasticsearch/index/mapper/all/AllFieldMapperPositionIncrementGapTests.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/BoostingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
comments:
Merge branch 'master' into each

time:
2016-06-06T16:14:05Z
class:
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
comments:
[TEST] ensure green before we filter allocations otherwise follow up ensureGreen() will fail

time:
2016-06-06T15:37:53Z
class:
core/src/main/java/org/elasticsearch/action/DocWriteResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequestBuilder.java
core/src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java
core/src/main/java/org/elasticsearch/action/bulk/BulkShardResponse.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/DeleteRequest.java
core/src/main/java/org/elasticsearch/action/delete/DeleteRequestBuilder.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/index/IndexRequestBuilder.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/ingest/IngestActionFilter.java
core/src/main/java/org/elasticsearch/action/support/WriteRequest.java
core/src/main/java/org/elasticsearch/action/support/WriteRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/WriteResponse.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicatedWriteRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationOperation.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationResponse.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportBroadcastReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportWriteAction.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/action/update/UpdateHelper.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequest.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequestBuilder.java
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/RefreshListeners.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/index/translog/TranslogWriter.java
core/src/main/java/org/elasticsearch/rest/action/bulk/RestBulkAction.java
core/src/main/java/org/elasticsearch/rest/action/delete/RestDeleteAction.java
core/src/main/java/org/elasticsearch/rest/action/index/RestIndexAction.java
core/src/main/java/org/elasticsearch/rest/action/update/RestUpdateAction.java
core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java
core/src/test/java/org/elasticsearch/action/bulk/BulkShardRequestTests.java
core/src/test/java/org/elasticsearch/action/support/replication/BroadcastReplicationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ReplicationOperationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportReplicationActionTests.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportWriteActionTests.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteIT.java
core/src/test/java/org/elasticsearch/document/ShardInfoIT.java
core/src/test/java/org/elasticsearch/index/WaitUntilRefreshIT.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/mapper/all/AllFieldMapperPositionIncrementGapTests.java
core/src/test/java/org/elasticsearch/index/shard/RefreshListenersTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/routing/AliasRoutingIT.java
core/src/test/java/org/elasticsearch/routing/SimpleRoutingIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearch2xIT.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/BulkTests.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
comments:
Add support for waiting until a refresh occurs

This adds support for setting the refresh request parameter to
`wait_for` in the `index`, `delete`, `update`, and `bulk` APIs. When
`refresh=wait_for` is set those APIs will not return until their
results have been made visible to search by a refresh.

Also it adds a `forced_refresh` field to the response of `index`,
`delete`, `update`, and to each item in a bulk response. This will
be true for requests with `?refresh` or `?refresh=true` and will be
true for some requests (see below) with `refresh=wait_for` but ought
to otherwise always be false.

`refresh=wait_for` is implemented as a list of
`Tuple<Translog.Location, Consumer<Boolean>>`s in the new `RefreshListeners`
class that is managed by `IndexShard`. The dynamic, index scoped
`index.max_refresh_listeners` setting controls a maximum number of
listeners allowed in any shard. If more than that many listeners
accumulate in the engine then a refresh will be forced, the thread that
adds the listener will be blocked until the refresh completes, and then the
listener will be called with a `forcedRefresh` flag so it knows that it was
the "straw that broke the camel's back". These listeners are only used by
`refresh=wait_for` and that flag manifests itself as `forced_refresh` being
`true` in the response.

About half of this change comes from piping async-ness down to the appropriate
layer in a way that is compatible with the ongoing with with sequence ids.

Closes #1063

You can look up the winding story of all the commits here:
https://github.com/elastic/elasticsearch/pull/17986

Here are the commit messages in case they are intersting to you:
commit 59a753b89109828d2b8f0de05cb104fc663cf95e
Author: Nik Everett <nik9000@gmail.com>
Date:   Mon Jun 6 10:18:23 2016 -0400

    Replace a method reference with implementing an interface

    Saves a single allocation and forces more commonality
    between the WriteResults.

commit 31f7861a85b457fb7378a6f27fa0a0c171538f68
Author: Nik Everett <nik9000@gmail.com>
Date:   Mon Jun 6 10:07:55 2016 -0400

    Revert "Replace static method that takes consumer with delegate class that takes an interface"

    This reverts commit 777e23a6592c75db0081a53458cc760f4db69507.

commit 777e23a6592c75db0081a53458cc760f4db69507
Author: Nik Everett <nik9000@gmail.com>
Date:   Mon Jun 6 09:29:35 2016 -0400

    Replace static method that takes consumer with delegate class that takes an interface

    Same number of allocations, much less code duplication.

commit 9b49a480ca9587a0a16ebe941662849f38289644
Author: Nik Everett <nik9000@gmail.com>
Date:   Mon Jun 6 08:25:38 2016 -0400

    Patch from boaz

commit c2bc36524fda119fd0514415127e8901d94409c8
Author: Nik Everett <nik9000@gmail.com>
Date:   Thu Jun 2 14:46:27 2016 -0400

    Fix docs

    After updating to master we are actually testing them.

commit 03975ac056e44954eb0a371149d410dcf303e212
Author: Nik Everett <nik9000@gmail.com>
Date:   Thu Jun 2 14:20:11 2016 -0400

    Cleanup after merge from master

commit 9c9a1deb002c5bebb2a997c89fa12b3d7978e02e
Author: Nik Everett <nik9000@gmail.com>
Date:   Thu Jun 2 14:09:14 2016 -0400

    Breaking changes notes

commit 1c3e64ae06c07a85f7af80534fab88279adb30b4
Merge: 9e63ad6 f67e580
Author: Nik Everett <nik9000@gmail.com>
Date:   Thu Jun 2 14:00:05 2016 -0400

    Merge branch 'master' into block_until_refresh2

commit 9e63ad6de52d0b28f0b6d7203721baf1ebf6f56b
Author: Nik Everett <nik9000@gmail.com>
Date:   Thu Jun 2 13:21:27 2016 -0400

    Test for TransportWriteAction

commit 522ecb59d39b3c9e8df0d3b8df34b9e7aeaf0ce9
Author: Nik Everett <nik9000@gmail.com>
Date:   Thu Jun 2 10:30:18 2016 -0400

    Document deprecation

commit 0cd67b947f58867e704a1f0e66928a6fb5a11f11
Author: Nik Everett <nik9000@gmail.com>
Date:   Thu Jun 2 10:26:23 2016 -0400

    Deprecate setRefresh(boolean)

    Users should use `setRefresh(RefreshPolicy)` instead.

commit aeb1be3f2c501990b33fb1f8230d496035f498ef
Author: Nik Everett <nik9000@gmail.com>
Date:   Thu Jun 2 10:12:27 2016 -0400

    Remove checkstyle suppression

    It is fixed

commit 00d09a9caa638b6f90f4896b5502dd98d8fad56e
Author: Nik Everett <nik9000@gmail.com>
Date:   Thu Jun 2 10:08:28 2016 -0400

    Improve comment

commit 788164b898a6ee2878a273961230122b7386c3c9
Author: Nik Everett <nik9000@gmail.com>
Date:   Thu Jun 2 10:01:01 2016 -0400

    S/ReplicatedWriteResponse/WriteResponse/

    Now it lines up with WriteRequest.

commit b74cf3fe778352b140355afcaa08d3d4412d749d
Author: Nik Everett <nik9000@gmail.com>
Date:   Wed Jun 1 18:27:52 2016 -0400

    Preserve `?refresh` behavior

    `?refresh` means the same things as `?refresh=true`.

commit 30f972bdaeaaa0de6fe67746cdb8628aa86f5a8c
Author: Nik Everett <nik9000@gmail.com>
Date:   Wed Jun 1 17:39:05 2016 -0400

    Handle hanging documents

    If a document is added to the index during a refresh we weren't properly
    firing its refresh listener. This happened because the way we detect
    whether a refresh makes something visible or not is imperfect. It is
    ok because it always errs on the side of thinking that something isn't
    yet visible.

    So when a document arrives during a refresh the refresh listeners
    won't think it made it into a refresh when, often, it does. The way
    we work around this is by telling Elasticsearch that it ought to
    trigger a refresh if there are any pending refresh listeners even
    if there aren't pending documents to update. Lucene short circuits
    the refresh so it doesn't take that much effort, but the refresh
    listeners still get the signal that a refresh has come in and they
    still pick up the change and notify the listener.

    This means that the time that a listener can wait is actually slightly
    longer than the refresh interval.

commit d523b5702b60c7ba309fb0dcf3cd3a4798f11960
Author: Nik Everett <nik9000@gmail.com>
Date:   Wed Jun 1 14:34:01 2016 -0400

    Explain Integer.MAX_VALUE

commit 4ffb7c0e954343cc1c04b3d7be2ebad66d3a016b
Author: Nik Everett <nik9000@gmail.com>
Date:   Wed Jun 1 14:27:39 2016 -0400

    Fire all refresh listeners in a single thread

    Rather than queueing a runnable each.

commit 19606ec3bbe612095df45eba734c5b7eb2709c01
Author: Nik Everett <nik9000@gmail.com>
Date:   Wed Jun 1 14:09:52 2016 -0400

    Assert translog ordering

commit 6bb4e5c75e850f4a42518f06fbc955f7ec76d245
Author: Nik Everett <nik9000@gmail.com>
Date:   Wed Jun 1 13:17:44 2016 -0400

    Support null RefreshListeners in InternalEngine

    Just skip using it.

commit 74be1480d6e44af2b354ff9ea47c234d4870b6c2
Author: Nik Everett <nik9000@gmail.com>
Date:   Tue May 31 18:02:03 2016 -0400

    Move funny ShardInfo hack for bulk into bulk

    This should make it easier to understand because it is closer to where it
    matters....

commit 2b771f8dabd488e056cfdc9989608d18264ddfb0
Author: Nik Everett <nik9000@gmail.com>
Date:   Tue May 31 17:39:46 2016 -0400

    Pull listener out into an inner class with javadoc and stuff

commit 058481ad72019c0492b03a7a4ac32a48673697d3
Author: Nik Everett <nik9000@gmail.com>
Date:   Tue May 31 17:33:42 2016 -0400

    Fix javadoc links

commit d2123b1cabf29bce8ff561d4a4c1c1d5b42bccad
Author: Nik Everett <nik9000@gmail.com>
Date:   Tue May 31 17:28:09 2016 -0400

    Make more stuff final

commit 8453fc4f7850f6a02fb5971c17a942a3e3fd9f7b
Author: Nik Everett <nik9000@gmail.com>
Date:   Tue May 31 17:26:48 2016 -0400

    Javadoc

commit fb16d2fc7016c1e8e1621d481e8781c7ef43326c
Author: Nik Everett <nik9000@gmail.com>
Date:   Tue May 31 16:14:48 2016 -0400

    Rewrite refresh docs

commit 5797d1b1c4d233c0db918c0d08c21731ddccd05e
Author: Nik Everett <nik9000@gmail.com>
Date:   Tue May 31 15:02:34 2016 -0400

    Fix forced_refresh flag

    It wasn't being set.

commit 43ce50a1de250a9e073a2ca6cbf55c1b4c74b11b
Author: Nik Everett <nik9000@gmail.com>
Date:   Tue May 31 14:02:56 2016 -0400

    Delay translog sync and flush until after refresh

    The sync might have occurred for us during the refresh so we
    have less work to do. Maybe.

commit bb2739202e084703baf02cfa58f09517598cf14e
Author: Nik Everett <nik9000@gmail.com>
Date:   Tue May 31 13:08:08 2016 -0400

    Remove duplication in WritePrimaryResult and WriteReplicaResult

commit 2f579f89b4867a880396f2e7fcffc508449ff2de
Author: Nik Everett <nik9000@gmail.com>
Date:   Tue May 31 12:19:05 2016 -0400

    Clean up registration of RefreshListeners

commit 87ab6e60ca5ba945bf0fba84784b2bbe53506abf
Author: Nik Everett <nik9000@gmail.com>
Date:   Tue May 31 11:28:30 2016 -0400

    Shorten lock time in RefreshListeners

    Also use null to represent no listeners rather than an empty list.
    This saves allocating a new ArrayList every refresh cycle on every
    index.

commit 0d49d9c5720dadfb67da3fa760397bf6d874601c
Author: Nik Everett <nik9000@gmail.com>
Date:   Tue May 24 10:46:18 2016 -0400

    Flip relationship between RefreshListeners and Engine

    Now RefreshListeners comes to Engine from EngineConfig.

commit b2704b8a39382953f8f91a9743e894ee289f7514
Author: Nik Everett <nik9000@gmail.com>
Date:   Tue May 24 09:37:58 2016 -0400

    Remove unused imports

    Maybe I added them?

commit 04343a22647f19304d9dc716b3fac9b183227f63
Author: Nik Everett <nik9000@gmail.com>
Date:   Tue May 24 09:37:52 2016 -0400

    Javadoc

commit da1e765678890a02d61d8a29aa433274beb5e00c
Author: Nik Everett <nik9000@gmail.com>
Date:   Tue May 24 09:26:35 2016 -0400

    Reply with non-null

    Also move the fsync and flush to before the refresh listener stuff.

commit 5d8eecd0d904b497844b4c81c46477bd6178ed3a
Author: Nik Everett <nik9000@gmail.com>
Date:   Tue May 24 08:58:47 2016 -0400

    Remove funky synchronization in AsyncReplicaAction

commit 1ec71eea0f4e1228ae1497d982307be818ef4b65
Author: Nik Everett <nik9000@gmail.com>
Date:   Tue May 24 08:01:14 2016 -0400

    s/LinkedTransferQueue/ArrayList/

commit 7da36a4ceed2ccf7955138c3b005237fa41efcb4
Author: Nik Everett <nik9000@gmail.com>
Date:   Tue May 24 07:46:38 2016 -0400

    More cleanup for RefreshListeners

commit 957e9b77007c32ee75dde152c6622bab065d5993
Author: Nik Everett <nik9000@gmail.com>
Date:   Tue May 24 07:34:13 2016 -0400

    /Consumer<Runnable>/Executor/

commit 4d8bf5d4a70dcc56150c8d8d14165cd23d308b3c
Author: Nik Everett <nik9000@gmail.com>
Date:   Mon May 23 22:20:42 2016 -0400

    explain

commit 15d948a348089bb2937eec5ac4e96f3ec67dbe32
Author: Nik Everett <nik9000@gmail.com>
Date:   Mon May 23 22:17:59 2016 -0400

    Better....

commit dc28951d02973fc03b4d51913b5f96de14b75607
Author: Nik Everett <nik9000@gmail.com>
Date:   Mon May 23 21:09:20 2016 -0400

    Javadocs and compromises

commit 8eebaa89c0a1ee74982fbe0d56d1485ca2ae09db
Author: Nik Everett <nik9000@gmail.com>
Date:   Mon May 23 20:52:49 2016 -0400

    Take boaz's changes to their logic conclusion and unbreak important stuff like bulk

commit 7056b96ea412f275005b93e3570bcff895859ed5
Author: Nik Everett <nik9000@gmail.com>
Date:   Mon May 23 15:49:32 2016 -0400

    Patch from boaz

commit 87be7eaed09a274cc6a99d1a3da81d2d7bf9dd64
Author: Nik Everett <nik9000@gmail.com>
Date:   Mon May 23 15:49:13 2016 -0400

    Revert "Move async parts of replica operation outside of the lock"

    This reverts commit 13807ad10b6f5ecd39f98c9f20874f9f352c5bc2.

commit 13807ad10b6f5ecd39f98c9f20874f9f352c5bc2
Author: Nik Everett <nik9000@gmail.com>
Date:   Fri May 20 22:53:15 2016 -0400

    Move async parts of replica operation outside of the lock

commit b8cadcef565908b276484f7f5f988fd58b38d8b6
Author: Nik Everett <nik9000@gmail.com>
Date:   Fri May 20 16:17:20 2016 -0400

    Docs

commit 91149e0580233bf79c2273b419fe9374ca746648
Author: Nik Everett <nik9000@gmail.com>
Date:   Fri May 20 15:17:40 2016 -0400

    Finally!

commit 1ff50c2faf56665d221f00a18d9ac88745904bf5
Author: Nik Everett <nik9000@gmail.com>
Date:   Fri May 20 15:01:53 2016 -0400

    Remove Translog#lastWriteLocation

    I wasn't being careful enough with locks so it wasn't right anyway.
    Instead this builds a synthetic Tranlog.Location when you call
    getWriteLocation with much more relaxed equality guarantees. Rather
    than being equal to the last Translog.Location returned it is
    simply guaranteed to be greater than the last translog returned
    and less than the next.

commit 55596ea68b5484490c3637fbad0d95564236478b
Author: Nik Everett <nik9000@gmail.com>
Date:   Fri May 20 14:40:06 2016 -0400

    Remove listener from shardOperationOnPrimary

    Create instead asyncShardOperationOnPrimary which is called after
    all of the replica operations are started to handle any async
    operations.

commit 3322e26211bf681b37132274ee158ae330afc28b
Author: Nik Everett <nik9000@gmail.com>
Date:   Tue May 17 17:20:02 2016 -0400

    Increase default maximum number of listeners to 1000

commit 88171a8322a424e624d48960fb4c98dd43e4d671
Author: Nik Everett <nik9000@gmail.com>
Date:   Tue May 17 16:40:57 2016 -0400

    Rename test

commit 179c27c4f829f2c6ded65967652cf85adaf2ae52
Author: Nik Everett <nik9000@gmail.com>
Date:   Tue May 17 16:35:27 2016 -0400

    Move refresh listeners into their own class

    They still live at the IndexShard level but they live on their
    own in RefreshListeners which interacts with IndexShard using a
    couple of callbacks and a registration method. This lets us test
    the listeners without standing up an entire IndexShard. We still
    test the listeners against an InternalEngine, because the interplay
    between InternalEngine, Translog, and RefreshListeners is complex
    and important to get right.

commit d8926d5fc1d24b4da8ccff7e0f0907b98c583c41
Author: Nik Everett <nik9000@gmail.com>
Date:   Tue May 17 11:02:38 2016 -0400

    Move refresh listeners into IndexShard

commit df91cde398eb720143a85a8c6fa19bdc3a74e07d
Author: Nik Everett <nik9000@gmail.com>
Date:   Mon May 16 16:01:03 2016 -0400

    unused import

commit 066da45b08148b266e4173166662fc1b3f66ed53
Author: Nik Everett <nik9000@gmail.com>
Date:   Mon May 16 15:54:11 2016 -0400

    Remove RefreshListener interface

    Just pass a Translog.Location and a Consumer<Boolean> when registering.

commit b971d6d3301c7522b2e7eb90d5d8dd96a77fa625
Author: Nik Everett <nik9000@gmail.com>
Date:   Mon May 16 14:41:06 2016 -0400

    Docs for setForcedRefresh

commit 6c43be821eaf61141d3ec520f988aad3a96a3941
Author: Nik Everett <nik9000@gmail.com>
Date:   Mon May 16 14:34:39 2016 -0400

    Rename refresh setter and getter

commit e61b7391f91263a4c4d6107bfbc2a828bbcc805c
Author: Nik Everett <nik9000@gmail.com>
Date:   Mon Apr 25 22:48:09 2016 -0400

    Trigger listeners even when there is no refresh

    Each refresh gives us an opportunity to pick up any listeners we may
    have left behind.

commit 0c9b0477085c021f503db775640d25668e02f635
Author: Nik Everett <nik9000@gmail.com>
Date:   Mon Apr 25 20:30:06 2016 -0400

    REST

commit 8250343240de7e63118c663a230a7a314807a754
Author: Nik Everett <nik9000@gmail.com>
Date:   Mon Apr 25 19:34:22 2016 -0400

    Switch to estimated count

    We don't need a linear time count of the number of listeners - a volatile
    variable is good enough to guess. It probably undercounts more than it
    overcounts but it isn't a huge problem.

commit bd531167fe54f1bde6f6d4ddb0a8de5a7bcc18a2
Author: Nik Everett <nik9000@gmail.com>
Date:   Mon Apr 25 18:21:02 2016 -0400

    Don't try and set forced refresh on bulk items without a response

    NullPointerExceptions are bad. If the entire request fails then the user
    has worse problems then "did these force a refresh".

commit bcfded11515af5e0b3c3e36f3c2f73f5cd26512e
Author: Nik Everett <nik9000@gmail.com>
Date:   Mon Apr 25 18:14:20 2016 -0400

    Replace LinkedList and synchronized with LinkedTransferQueue

commit 8a80cc70a76375a7593745884cb987535b37ca80
Author: Nik Everett <nik9000@gmail.com>
Date:   Mon Apr 25 17:38:24 2016 -0400

    Support for update

commit 1f36966742f851b7328015151ef6fc8f95299af2
Author: Nik Everett <nik9000@gmail.com>
Date:   Mon Apr 25 15:46:06 2016 -0400

    Cleanup translog tests

commit 8d121bf35eb265b8a0aee9710afeb1b054a113d4
Author: Nik Everett <nik9000@gmail.com>
Date:   Mon Apr 25 15:40:53 2016 -0400

    Cleanup listener implementation

    Much more testing too!

commit 2058f4a808762c4588309f21b13b677245832f2c
Author: Nik Everett <nik9000@gmail.com>
Date:   Mon Apr 25 11:45:55 2016 -0400

    Pass back information about whether we refreshed

commit e445cb0cb91ebdbcfdbf566696edb2bf1c84a882
Author: Nik Everett <nik9000@gmail.com>
Date:   Mon Apr 25 11:03:31 2016 -0400

    Javadoc

commit 611cbeeaeb458f4b428bfc43a1ee6652adf4baff
Author: Nik Everett <nik9000@gmail.com>
Date:   Mon Apr 25 11:01:40 2016 -0400

    Move ReplicationResponse

    now it is in the same package as its request

commit 9919758b644fd73895fb88cd6a4909a8387eb2e2
Author: Nik Everett <nik9000@gmail.com>
Date:   Mon Apr 25 11:00:14 2016 -0400

    Oh boy that wasn't working

commit 247cb483c4459dea8e95e0e3bd2e4bf8d452c598
Author: Nik Everett <nik9000@gmail.com>
Date:   Mon Apr 25 10:29:37 2016 -0400

    Basic block_until_refresh exposed to java client

    and basic "is it plugged in" style tests.

commit 46c855c9971cb2b748206d2afa6a2d88724be3ba
Author: Nik Everett <nik9000@gmail.com>
Date:   Mon Apr 25 10:11:10 2016 -0400

    Move test to own class

commit a5ffd892d0a352ae7e9757f2640fc2a1fa656bf2
Author: Nik Everett <nik9000@gmail.com>
Date:   Mon Apr 25 07:44:25 2016 -0400

    WIP

commit 213bebb6ece11b85d17e44af9a54fc2e5e332d39
Author: Nik Everett <nik9000@gmail.com>
Date:   Fri Apr 22 21:35:52 2016 -0400

    Add refresh listeners

commit a2bc7f30e6d4857a1224ef5a89909b36c8f33731
Author: Nik Everett <nik9000@gmail.com>
Date:   Fri Apr 22 21:11:55 2016 -0400

    Return last written location from refresh

commit 85033a87551da89f36a23d4dfd5016db218e08ee
Author: Nik Everett <nik9000@gmail.com>
Date:   Fri Apr 22 20:28:21 2016 -0400

    Never reply to replica actions while you have the operation lock

    This last thing was causing periodic test failures because we were
    replying while we had the operation lock. Now, we probably could get
    away with that in most cases but the tests don't like it and it isn't
    a good idea to do network io while you have a lock anyway. So this
    prevents it.

commit 1f25cf35e796835b3827b8a4110e09e5de61784c
Author: Nik Everett <nik9000@gmail.com>
Date:   Fri Apr 22 19:56:18 2016 -0400

    Cleanup

commit 52c5f7c3f04710901f503334239a611c0e21c85a
Author: Nik Everett <nik9000@gmail.com>
Date:   Fri Apr 22 19:33:00 2016 -0400

    Add a listener to shard operations

commit 5b142dc331214c8eef90587144f4b3f959f9eced
Author: Nik Everett <nik9000@gmail.com>
Date:   Fri Apr 22 18:03:52 2016 -0400

    Cleanup

commit 3d22b2d7ceb473db339259452a7c4f117ce86069
Author: Nik Everett <nik9000@gmail.com>
Date:   Fri Apr 22 17:59:55 2016 -0400

    Push the listener into shardOperationOnPrimary

commit 34b378943b8185451acf6350f661c0ad33b5836d
Author: Nik Everett <nik9000@gmail.com>
Date:   Fri Apr 22 17:48:47 2016 -0400

    Doc

commit b42b8da968d42cc7414020c7b199606a5dcce50a
Author: Nik Everett <nik9000@gmail.com>
Date:   Fri Apr 22 17:45:40 2016 -0400

    Don't finish early if the primary finishes early

    We use a "fake" pending shard that we resolve when the replicas have
    all started.

commit 0fc045b56e1e02a48c30383ac50a281d5af7e0b6
Author: Nik Everett <nik9000@gmail.com>
Date:   Fri Apr 22 17:30:06 2016 -0400

    Make performOnPrimary asyncS

    Instead of returning Tuple<Response, ReplicaRequest> it returns
    ReplicaRequest and takes a ActionListener<Response> as an argument.
    We call the listener immediately to preserve backwards compatibility
    for now.

commit 80119b9a26ede96a865af45904c3ac69d5b19b59
Author: Nik Everett <nik9000@gmail.com>
Date:   Fri Apr 22 16:51:53 2016 -0400

    Factor out common code in shardOperationOnPrimary

commit 0642083676702618f900fa842c08802a04c1a53e
Author: Nik Everett <nik9000@gmail.com>
Date:   Fri Apr 22 16:32:29 2016 -0400

    Factor out common code from shardOperationOnReplica

commit 8bdc415fedaaa9f2d0c555590a13ec4699a7c3f7
Author: Nik Everett <nik9000@gmail.com>
Date:   Fri Apr 22 16:23:28 2016 -0400

    Create ReplicatedMutationRequest

    Superclass for index, delete, and bulkShard requests.

commit 0f8fa846a2822c4293df32fed18c9b99660b39ff
Author: Nik Everett <nik9000@gmail.com>
Date:   Fri Apr 22 16:10:30 2016 -0400

    Create TransportReplicatedMutationAction

    It is the superclass of replication actions that mutate data: index, delete,
    and shardBulk. shardFlush and shardRefresh are replication actions but they
    do not extend TransportReplicatedMutationAction because they don't change
    the data, only shuffle it around.

time:
2016-06-06T15:27:26Z
class:
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientTests.java
comments:
Throw exception if using a closed transport client

Today when attempting to use a closed transport client, an exception
saying that no nodes are available is thrown. This is because when a
transport client is closed, its internal list of nodes is cleared. But
this exception is puzzling and can be made clearer. This commit changes
the behavior so that attempting to execute a request using a closed
transport client throws an illegal state exception.

Relates #18722

time:
2016-06-06T15:16:22Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/ActionRequest.java
core/src/main/java/org/elasticsearch/action/IndicesRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanation.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/TransportLivenessAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/ListTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/TransportRestoreSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/TransportShrinkAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/action/search/ParsedScrollId.java
core/src/main/java/org/elasticsearch/action/search/SearchDfsQueryAndFetchAsyncAction.java
core/src/main/java/org/elasticsearch/action/search/SearchDfsQueryThenFetchAsyncAction.java
core/src/main/java/org/elasticsearch/action/search/SearchQueryAndFetchAsyncAction.java
core/src/main/java/org/elasticsearch/action/search/SearchQueryThenFetchAsyncAction.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/search/TransportSearchHelper.java
core/src/main/java/org/elasticsearch/action/support/TransportAction.java
core/src/main/java/org/elasticsearch/action/support/master/AcknowledgedRequest.java
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCheck.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapSettings.java
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/client/Client.java
core/src/main/java/org/elasticsearch/client/IndicesAdminClient.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/RestoreInProgress.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterShardHealth.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexGraveyard.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/SnapshotId.java
core/src/main/java/org/elasticsearch/cluster/routing/DelayedAllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/RestoreSource.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/FailedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/StartedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AbstractAllocateAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateEmptyPrimaryAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateReplicaAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommands.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/BasePrimaryAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/MoveAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/FilterAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/NodeVersionAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/RebalanceOnlyWhenActiveAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ReplicaAfterPrimaryActiveAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/SameShardAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ThrottlingAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/service/ClusterService.java
core/src/main/java/org/elasticsearch/common/Base64.java
core/src/main/java/org/elasticsearch/common/ParseField.java
core/src/main/java/org/elasticsearch/common/RandomBasedUUIDGenerator.java
core/src/main/java/org/elasticsearch/common/TimeBasedUUIDGenerator.java
core/src/main/java/org/elasticsearch/common/blobstore/BlobContainer.java
core/src/main/java/org/elasticsearch/common/blobstore/BlobMetaData.java
core/src/main/java/org/elasticsearch/common/blobstore/BlobPath.java
core/src/main/java/org/elasticsearch/common/blobstore/BlobStore.java
core/src/main/java/org/elasticsearch/common/blobstore/fs/FsBlobContainer.java
core/src/main/java/org/elasticsearch/common/blobstore/support/AbstractBlobContainer.java
core/src/main/java/org/elasticsearch/common/joda/Joda.java
core/src/main/java/org/elasticsearch/common/logging/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/logging/Loggers.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java
core/src/main/java/org/elasticsearch/common/network/NetworkModule.java
core/src/main/java/org/elasticsearch/common/recycler/Recycler.java
core/src/main/java/org/elasticsearch/common/rounding/DateTimeUnit.java
core/src/main/java/org/elasticsearch/common/rounding/TimeZoneRounding.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/common/settings/PropertyPlaceholder.java
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/util/AbstractBigArray.java
core/src/main/java/org/elasticsearch/common/util/BigArrays.java
core/src/main/java/org/elasticsearch/common/util/PageCacheRecycler.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java
core/src/main/java/org/elasticsearch/common/xcontent/cbor/CborXContent.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContent.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/smile/SmileXContent.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/elect/ElectMasterService.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/analysis/CharMatcher.java
core/src/main/java/org/elasticsearch/index/analysis/StopTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/engine/CommitStats.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/SegmentsStats.java
core/src/main/java/org/elasticsearch/index/engine/VersionValue.java
core/src/main/java/org/elasticsearch/index/fielddata/ScriptDocValues.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/LegacyIpFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/LegacyIpIndexFieldData.java
core/src/main/java/org/elasticsearch/index/mapper/object/RootObjectMapper.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/InnerHitBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchPhrasePrefixQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchPhraseQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ParentIdQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/QueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/InternalIndexingStats.java
core/src/main/java/org/elasticsearch/index/shard/LocalShardSnapshot.java
core/src/main/java/org/elasticsearch/index/shard/StoreRecovery.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/index/snapshots/IndexShardRepository.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/store/FsDirectoryService.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/index/translog/TranslogSnapshot.java
core/src/main/java/org/elasticsearch/indices/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/analysis/HunspellService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryState.java
core/src/main/java/org/elasticsearch/ingest/core/CompoundProcessor.java
core/src/main/java/org/elasticsearch/ingest/core/ConfigurationUtils.java
core/src/main/java/org/elasticsearch/ingest/core/IngestDocument.java
core/src/main/java/org/elasticsearch/ingest/core/Pipeline.java
core/src/main/java/org/elasticsearch/ingest/processor/TrackingResultProcessor.java
core/src/main/java/org/elasticsearch/monitor/os/OsProbe.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/NodeModule.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
core/src/main/java/org/elasticsearch/plugins/RemovePluginCommand.java
core/src/main/java/org/elasticsearch/repositories/Repository.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreFormat.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
core/src/main/java/org/elasticsearch/repositories/uri/URLRepository.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/reroute/RestClusterRerouteAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestShrinkIndexAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestRecoveryAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestSnapshotAction.java
core/src/main/java/org/elasticsearch/rest/action/fieldstats/RestFieldStatsAction.java
core/src/main/java/org/elasticsearch/rest/action/search/RestMultiSearchAction.java
core/src/main/java/org/elasticsearch/script/ClassPermission.java
core/src/main/java/org/elasticsearch/script/GeneralScriptException.java
core/src/main/java/org/elasticsearch/script/ScriptException.java
core/src/main/java/org/elasticsearch/script/ScriptMetaData.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/search/DocValueFormat.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/AbstractAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/Aggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregation.java
core/src/main/java/org/elasticsearch/search/aggregations/PipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/global/GlobalAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/BinaryRangeAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/SamplerAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/AbstractPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/BucketHelpers.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/avg/AvgBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/max/MaxBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/min/MinBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/PercentilesBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/StatsBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/ExtendedStatsBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/sum/SumBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptPipelineAggregatorBuilder.java
comments:
Merge branch 'master' into feature/seq_no

* master: (184 commits)
  Add back pending deletes (#18698)
  refactor matrix agg documentation from modules to main agg section
  Implement ctx.op = "delete" on _update_by_query and _reindex
  Close SearchContext if query rewrite failed
  Wrap lines at 140 characters (:qa projects)
  Remove log file
  painless: Add support for the new Java 9 MethodHandles#arrayLength() factory (see https://bugs.openjdk.java.net/browse/JDK-8156915)
  More complete exception message in settings tests
  Use java from path if JAVA_HOME is not set
  Fix uncaught checked exception in AzureTestUtils
  [TEST] wait for yellow after setup doc tests (#18726)
  Fix recovery throttling to properly handle relocating non-primary shards (#18701)
  Fix merge stats rendering in RestIndicesAction (#18720)
  [TEST] mute RandomAllocationDeciderTests.testRandomDecisions
  Reworked docs for index-shrink API (#18705)
  Improve painless compile-time exceptions
  Adds UUIDs to snapshots
  Add test rethrottle test case for delete-by-query
  Do not start scheduled pings until transport start
  Adressing review comments
  ...

time:
2016-06-06T13:45:57Z
class:
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
comments:
[TEST] fix assertion that index was fully deleted

time:
2016-06-06T13:41:11Z
class:
client/src/main/java/org/elasticsearch/client/RequestLogger.java
client/src/test/java/org/elasticsearch/client/RequestLoggerTests.java
comments:
wrap entity only when not repeatable and improve RequestLoggerTests

time:
2016-06-06T13:39:39Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
comments:
don't do a no-op filter, that was just for testing

time:
2016-06-06T13:27:19Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/FunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngineService.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/ScriptImpl.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewObj.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicAPITests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefBootstrapTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/FunctionRefTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/OverloadTests.java
comments:
initial messy impl of painless method references

time:
2016-06-06T13:14:09Z
class:
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
test/framework/src/main/java/org/elasticsearch/test/ESTestCase.java
comments:
Add back pending deletes (#18698)

Triggering the pending deletes logic was accidentally removed in the clean up PR #18602.

time:
2016-06-06T13:13:42Z
class:
client/src/main/java/org/elasticsearch/client/RequestLogger.java
comments:
wrap log statement with logger.isDebugEnabled

time:
2016-06-06T13:12:13Z
class:
client-sniffer/src/main/java/org/elasticsearch/client/sniff/HostsSniffer.java
client-sniffer/src/main/java/org/elasticsearch/client/sniff/Sniffer.java
comments:
use TimeUnit and long to keep track of time

time:
2016-06-06T13:02:52Z
class:
comments:
Build: add hamcrest and securemock to version.properties

time:
2016-06-06T12:39:00Z
class:
comments:
refactor matrix agg documentation from modules to main agg section

time:
2016-06-06T10:53:04Z
class:
core/src/main/java/org/elasticsearch/action/ActionListenerResponseHandler.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationOperation.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/seqno/GlobalCheckpointService.java
core/src/main/java/org/elasticsearch/index/seqno/GlobalCheckpointSyncAction.java
core/src/main/java/org/elasticsearch/index/seqno/LocalCheckpointService.java
core/src/main/java/org/elasticsearch/index/seqno/SeqNoStats.java
core/src/main/java/org/elasticsearch/index/seqno/SequenceNumbersService.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTargetHandler.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTargetService.java
core/src/main/java/org/elasticsearch/indices/recovery/RemoteRecoveryTargetHandler.java
core/src/test/java/org/elasticsearch/action/support/replication/ReplicationOperationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportReplicationActionTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/IndexServiceTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/seqno/CheckpointsIT.java
core/src/test/java/org/elasticsearch/index/seqno/GlobalCheckpointTests.java
core/src/test/java/org/elasticsearch/index/seqno/LocalCheckpointServiceTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerSingleNodeTests.java
test/framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Introduced Global checkpoints for Sequence Numbers (#15485)

Global checkpoints are update by the primary and represent the common part of history across shard copies, as know at a given time. The primary is also in charge of periodically broadcast this information to the replicas. See #10708 for more details.

time:
2016-06-06T09:11:29Z
class:
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractAsyncBulkIndexByScrollAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBaseReindexRestHandler.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/BulkByScrollTask.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/RestDeleteByQueryAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/RestReindexAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/RestUpdateByQueryAction.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/AbstractAsyncBulkIndexByScrollActionScriptTestCase.java
comments:
Implement ctx.op = "delete" on _update_by_query and _reindex

closes #18043

time:
2016-06-06T07:40:56Z
class:
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/rest/action/search/RestMultiSearchAction.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/test/java/org/elasticsearch/search/SearchServiceTests.java
comments:
Close SearchContext if query rewrite failed

 If a query failed to be rewritten and throws an exception, the SearchContext is not properly closed, skewing the ref count on the underlying Store.

time:
2016-06-05T19:55:44Z
class:
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/ESPolicyUnitTests.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/EvilSecurityTests.java
qa/evil-tests/src/test/java/org/elasticsearch/tribe/TribeUnitTests.java
qa/smoke-test-ingest-with-all-dependencies/src/test/java/org/elasticsearch/ingest/IngestDocumentMustacheIT.java
qa/smoke-test-ingest-with-all-dependencies/src/test/java/org/elasticsearch/ingest/IngestMustacheSetProcessorIT.java
comments:
Wrap lines at 140 characters (:qa projects)

time:
2016-06-03T23:06:18Z
class:
client/src/main/java/org/elasticsearch/client/RestClient.java
comments:
raise default socket timeout to 10s and default connect timeout to 1s

time:
2016-06-03T23:05:53Z
class:
test/framework/src/main/java/org/elasticsearch/test/rest/ESRestTestCase.java
comments:
[TEST] remove unused method

time:
2016-06-03T22:56:42Z
class:
comments:
Build: add missing licenses, SHAs and enable dependency licenses check

time:
2016-06-03T22:21:30Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
comments:
Merge pull request #18734 from uschindler/painless_arraylength_java9_factory

painless: Add support for the new Java 9 MethodHandles#arrayLength() factory

time:
2016-06-03T21:59:26Z
class:
client-sniffer/src/main/java/org/elasticsearch/client/sniff/Sniffer.java
client/src/main/java/org/elasticsearch/client/RestClient.java
test/framework/src/main/java/org/elasticsearch/test/rest/client/RestTestClient.java
comments:
Allow to pass socket facttry registry to createDefaultHttpClient method

time:
2016-06-03T21:56:53Z
class:
comments:
Remove log file

Looks like accidentally committed.

time:
2016-06-03T21:35:11Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
comments:
painless: Add support for the new Java 9 MethodHandles#arrayLength() factory (see https://bugs.openjdk.java.net/browse/JDK-8156915)

time:
2016-06-03T21:25:17Z
class:
core/src/test/java/org/elasticsearch/plugins/ResponseHeaderPluginIT.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
test/framework/src/main/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
test/framework/src/main/java/org/elasticsearch/test/hamcrest/ElasticsearchMatchers.java
comments:
[TEST] remove status matcher and hasStatus assertion

All it does is checking the status code of a response, which can be done with a single line in each test

time:
2016-06-03T20:34:42Z
class:
core/src/main/java/org/elasticsearch/common/logging/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/settings/PropertyPlaceholder.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/indices/analysis/HunspellService.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/test/java/org/elasticsearch/common/settings/PropertyPlaceholderTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/YamlSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
plugins/discovery-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureTestCase.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTestCase.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureWithThirdPartyIntegTestCase.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/AzureTestUtils.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTestCase.java
comments:
Merge pull request #17335 from rjernst/placeholder

Cleanup placeholder replacement

time:
2016-06-03T20:18:46Z
class:
core/src/test/java/org/elasticsearch/common/settings/loader/YamlSettingsLoaderTests.java
comments:
More complete exception message in settings tests

This commit adds additional details to the exception message assertions
in the YAML settings loader tests.

time:
2016-06-03T20:09:24Z
class:
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/Condition.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/RolloverResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/rollover/TransportRolloverAction.java
core/src/main/java/org/elasticsearch/client/IndicesAdminClient.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/common/network/NetworkModule.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestRolloverIndexAction.java
core/src/test/java/org/elasticsearch/action/admin/indices/rollover/RolloverIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/rollover/TransportRolloverActionTests.java
comments:
adds _rollover api

time:
2016-06-03T19:30:18Z
class:
comments:
Use java from path if JAVA_HOME is not set

This commit adds support to the Windows scripts for finding java.exe via
the path if JAVA_HOME is not set.

Relates #18685

time:
2016-06-03T18:17:25Z
class:
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/AzureTestUtils.java
comments:
Fix uncaught checked exception in AzureTestUtils

This commit fixes an uncaught checked IOException now thrown in
AzureTestUtils after 3adaf096758a6015ca4f733e2e49ee5528ac3cd5.

time:
2016-06-03T17:32:03Z
class:
core/src/main/java/org/apache/log4j/Java9Hack.java
core/src/main/java/org/apache/lucene/document/XInetAddressPoint.java
core/src/main/java/org/apache/lucene/index/XPointValues.java
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XFuzzySuggester.java
core/src/main/java/org/apache/lucene/spatial/geopoint/search/XGeoPointDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/ActionListenerResponseHandler.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/ActionRequest.java
core/src/main/java/org/elasticsearch/action/DocWriteResponse.java
core/src/main/java/org/elasticsearch/action/IndicesRequest.java
core/src/main/java/org/elasticsearch/action/RealtimeRequest.java
core/src/main/java/org/elasticsearch/action/ReplicationResponse.java
core/src/main/java/org/elasticsearch/action/TaskOperationFailure.java
core/src/main/java/org/elasticsearch/action/TransportActionNodeProxy.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanation.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/NodeExplanation.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/TransportLivenessAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/TransportCancelTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/ListTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TaskInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TransportListTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsGroup.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/TransportRestoreSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexShardStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotShardsStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/DeleteStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/DeleteStoredScriptRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/DeleteStoredScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/DeleteStoredScriptResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/GetStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/GetStoredScriptRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/GetStoredScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/GetStoredScriptResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/PutStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/PutStoredScriptRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/PutStoredScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/PutStoredScriptResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/TransportDeleteStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/TransportGetStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/TransportPutStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/tasks/PendingClusterTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/RenderSearchTemplateRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/TransportRenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/DetailAnalyzeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/SyncedFlushResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/ShardSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoresResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/TransportIndicesShardStoresAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/TransportShrinkAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStatsFlags.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/ShardUpgradeStatus.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/DeleteResponse.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/explain/ExplainRequest.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStats.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequest.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsResponse.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardResponse.java
core/src/main/java/org/elasticsearch/action/fieldstats/IndexConstraint.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/action/get/GetRequest.java
core/src/main/java/org/elasticsearch/action/get/GetRequestBuilder.java
core/src/main/java/org/elasticsearch/action/get/GetResponse.java
core/src/main/java/org/elasticsearch/action/get/MultiGetRequest.java
core/src/main/java/org/elasticsearch/action/get/MultiGetRequestBuilder.java
core/src/main/java/org/elasticsearch/action/get/MultiGetResponse.java
core/src/main/java/org/elasticsearch/action/get/MultiGetShardRequest.java
core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java
core/src/main/java/org/elasticsearch/action/get/TransportShardMultiGetAction.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/index/IndexResponse.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/delete/DeleteIndexedScriptAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/delete/DeleteIndexedScriptRequest.java
core/src/main/java/org/elasticsearch/action/indexedscripts/delete/DeleteIndexedScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/indexedscripts/delete/DeleteIndexedScriptResponse.java
core/src/main/java/org/elasticsearch/action/indexedscripts/delete/TransportDeleteIndexedScriptAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/delete/package-info.java
core/src/main/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequest.java
core/src/main/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptResponse.java
core/src/main/java/org/elasticsearch/action/indexedscripts/get/TransportGetIndexedScriptAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/get/package-info.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptRequest.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptResponse.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/TransportPutIndexedScriptAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/package-info.java
core/src/main/java/org/elasticsearch/action/ingest/IngestProxyActionFilter.java
core/src/main/java/org/elasticsearch/action/ingest/PutPipelineTransportAction.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateDocumentBaseResult.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateDocumentResult.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateDocumentVerboseResult.java
core/src/main/java/org/elasticsearch/action/ingest/SimulatePipelineRequest.java
core/src/main/java/org/elasticsearch/action/ingest/SimulatePipelineResponse.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateProcessorResult.java
core/src/main/java/org/elasticsearch/action/ingest/WriteableIngestDocument.java
core/src/main/java/org/elasticsearch/action/percolate/MultiPercolateAction.java
core/src/main/java/org/elasticsearch/action/percolate/MultiPercolateRequest.java
core/src/main/java/org/elasticsearch/action/percolate/MultiPercolateRequestBuilder.java
core/src/main/java/org/elasticsearch/action/percolate/MultiPercolateResponse.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateAction.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateRequest.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateResponse.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java
core/src/main/java/org/elasticsearch/action/percolate/TransportMultiPercolateAction.java
core/src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
core/src/main/java/org/elasticsearch/action/search/ClearScrollResponse.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchResponse.java
core/src/main/java/org/elasticsearch/action/search/ParsedScrollId.java
core/src/main/java/org/elasticsearch/action/search/SearchDfsQueryAndFetchAsyncAction.java
core/src/main/java/org/elasticsearch/action/search/SearchDfsQueryThenFetchAsyncAction.java
core/src/main/java/org/elasticsearch/action/search/SearchQueryAndFetchAsyncAction.java
core/src/main/java/org/elasticsearch/action/search/SearchQueryThenFetchAsyncAction.java
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/search/SearchResponse.java
core/src/main/java/org/elasticsearch/action/search/TransportSearchHelper.java
core/src/main/java/org/elasticsearch/action/support/ChildTaskActionRequest.java
core/src/main/java/org/elasticsearch/action/support/ChildTaskRequest.java
core/src/main/java/org/elasticsearch/action/support/HandledTransportAction.java
core/src/main/java/org/elasticsearch/action/support/ToXContentToBytes.java
core/src/main/java/org/elasticsearch/action/support/TransportAction.java
core/src/main/java/org/elasticsearch/action/support/broadcast/BroadcastShardRequest.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/action/support/master/AcknowledgedRequest.java
core/src/main/java/org/elasticsearch/action/support/master/MasterNodeRequest.java
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeAction.java
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeReadAction.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodeRequest.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodesResponse.java
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationOperation.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/tasks/BaseTasksRequest.java
core/src/main/java/org/elasticsearch/action/support/tasks/TasksRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/tasks/TransportTasksAction.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsResponse.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsResponse.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportMultiTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/update/UpdateHelper.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequest.java
core/src/main/java/org/elasticsearch/action/update/UpdateResponse.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCheck.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapSettings.java
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/main/java/org/elasticsearch/bootstrap/Elasticsearch.java
core/src/main/java/org/elasticsearch/bootstrap/JVMCheck.java
core/src/main/java/org/elasticsearch/bootstrap/JavaVersion.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/cache/recycler/PageCacheRecycler.java
core/src/main/java/org/elasticsearch/cli/Command.java
core/src/main/java/org/elasticsearch/cli/SettingCommand.java
core/src/main/java/org/elasticsearch/client/Client.java
core/src/main/java/org/elasticsearch/client/ClusterAdminClient.java
core/src/main/java/org/elasticsearch/client/IndicesAdminClient.java
core/src/main/java/org/elasticsearch/client/ParentTaskAssigningClient.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/AbstractDiffable.java
core/src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/Diffable.java
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/RestoreInProgress.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterHealthStatus.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterShardHealth.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexGraveyard.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
comments:
Merge branch 'master' into rjernst-placeholder

* master: (911 commits)
  [TEST] wait for yellow after setup doc tests (#18726)
  Fix recovery throttling to properly handle relocating non-primary shards (#18701)
  Fix merge stats rendering in RestIndicesAction (#18720)
  [TEST] mute RandomAllocationDeciderTests.testRandomDecisions
  Reworked docs for index-shrink API (#18705)
  Improve painless compile-time exceptions
  Adds UUIDs to snapshots
  Add test rethrottle test case for delete-by-query
  Do not start scheduled pings until transport start
  Adressing review comments
  Only filter intial recovery (post API) when shrinking an index (#18661)
  Add tests to check that toQuery() doesn't return null
  Removing handling of null lucene query where we catch this at parse time
  Handle empty query bodies at parse time and remove EmptyQueryBuilder
  Mute failing assertions in IndexWithShadowReplicasIT until fix
  Remove allow running as root
  Add upgrade-not-supported warning to alpha release notes
  remove unrecognized javadoc tag from matrix aggregation module
  set ValuesSourceConfig fields as private
  Adding MultiValuesSource support classes and documentation to matrix stats agg module
  ...

time:
2016-06-03T16:28:31Z
class:
client/src/main/java/org/elasticsearch/client/ElasticsearchResponse.java
core/src/test/java/org/elasticsearch/options/detailederrors/DetailedErrorsDisabledIT.java
core/src/test/java/org/elasticsearch/options/detailederrors/DetailedErrorsEnabledIT.java
core/src/test/java/org/elasticsearch/plugins/ResponseHeaderPluginIT.java
core/src/test/java/org/elasticsearch/rest/CorsNotSetIT.java
core/src/test/java/org/elasticsearch/rest/CorsRegexIT.java
test/framework/src/main/java/org/elasticsearch/test/rest/client/RestTestResponse.java
comments:
rename ElasticsearchResponse#getFirstHeader to getHeader

time:
2016-06-03T16:27:27Z
class:
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/GceInstancesServiceImpl.java
comments:
We don't need many URLs here but just one

time:
2016-06-03T16:26:48Z
class:
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceMockUtils.java
comments:
Fix getResource to call it from the current class

time:
2016-06-03T16:23:52Z
class:
client/src/test/java/org/elasticsearch/client/RequestLoggerTests.java
comments:
[TEST] expand RequestLoggerTests to all the supported http methods

time:
2016-06-03T16:21:19Z
class:
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
comments:
[TEST] create standard RestClient at first request and reuse it

A RestClient instance is now created whenever EsIntegTestCase#getRestClient is invoked for the first time. It is then kept until the cluster is cleared (depending on the cluster scope of the test).

Renamed other two restClient methods to createRestClient, as that instance needs to be closed and managed in the tests.

time:
2016-06-03T16:14:00Z
class:
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/GceMetadataService.java
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/GceMetadataServiceImpl.java
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/GceModule.java
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/network/GceNameResolver.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoverTests.java
comments:
Remove GceMetadataService interface as not needed

time:
2016-06-03T16:04:55Z
class:
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/GceMetadataService.java
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/GceMetadataServiceImpl.java
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/network/GceNameResolver.java
comments:
Don't use String concatenation but actual URI

time:
2016-06-03T16:00:54Z
class:
core/src/test/java/org/elasticsearch/http/netty/NettyHttpCompressionIT.java
core/src/test/java/org/elasticsearch/options/detailederrors/DetailedErrorsDisabledIT.java
core/src/test/java/org/elasticsearch/options/detailederrors/DetailedErrorsEnabledIT.java
core/src/test/java/org/elasticsearch/plugins/ResponseHeaderPluginIT.java
core/src/test/java/org/elasticsearch/rest/CorsNotSetIT.java
core/src/test/java/org/elasticsearch/rest/CorsRegexIT.java
core/src/test/java/org/elasticsearch/rest/action/main/RestMainActionIT.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
test/framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
comments:
[TEST] create standard RestClient at first request and reuse it

A RestClient instance is now created whenever EsIntegTestCase#getRestClient is invoked for the first time. It is then kept until the cluster is cleared (depending on the cluster scope of the test).

Renamed other two restClient methods to createRestClient, as that instance needs to be closed and managed in the tests.

time:
2016-06-03T15:33:09Z
class:
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/GceInstancesServiceImpl.java
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/GceMetadataService.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoverTests.java
comments:
Use a unique GCE_HOST setting

time:
2016-06-03T15:26:53Z
class:
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/GceInstancesService.java
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/GceInstancesServiceImpl.java
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/GceModule.java
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/network/GceNameResolver.java
plugins/discovery-gce/src/main/java/org/elasticsearch/discovery/gce/GceUnicastHostsProvider.java
plugins/discovery-gce/src/main/java/org/elasticsearch/plugin/discovery/gce/GceDiscoveryPlugin.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoverTests.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoveryTests.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceInstancesServiceMock.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceMetadataServiceMock.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceMockUtils.java
comments:
Rename GceComputeService to GceInstancesService

time:
2016-06-03T15:22:24Z
class:
core/src/main/java/org/apache/log4j/Java9Hack.java
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/ActionRequest.java
core/src/main/java/org/elasticsearch/action/IndicesRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanation.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/TransportLivenessAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/ListTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsGroup.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/ShardSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/TransportIndicesShardStoresAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/TransportShrinkAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStatsFlags.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/ShardUpgradeStatus.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/explain/ExplainRequest.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/action/get/GetResponse.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/ingest/PutPipelineTransportAction.java
core/src/main/java/org/elasticsearch/action/ingest/SimulatePipelineRequest.java
core/src/main/java/org/elasticsearch/action/search/ParsedScrollId.java
core/src/main/java/org/elasticsearch/action/search/SearchDfsQueryAndFetchAsyncAction.java
core/src/main/java/org/elasticsearch/action/search/SearchDfsQueryThenFetchAsyncAction.java
core/src/main/java/org/elasticsearch/action/search/SearchQueryAndFetchAsyncAction.java
core/src/main/java/org/elasticsearch/action/search/SearchQueryThenFetchAsyncAction.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/search/SearchResponse.java
core/src/main/java/org/elasticsearch/action/search/TransportSearchHelper.java
core/src/main/java/org/elasticsearch/action/support/HandledTransportAction.java
core/src/main/java/org/elasticsearch/action/support/TransportAction.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/action/support/master/AcknowledgedRequest.java
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeAction.java
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeReadAction.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodesResponse.java
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCheck.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapSettings.java
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/main/java/org/elasticsearch/bootstrap/Elasticsearch.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/cli/Command.java
core/src/main/java/org/elasticsearch/cli/SettingCommand.java
core/src/main/java/org/elasticsearch/client/Client.java
core/src/main/java/org/elasticsearch/client/IndicesAdminClient.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterHealthStatus.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterShardHealth.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexGraveyard.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/routing/AllocationId.java
core/src/main/java/org/elasticsearch/cluster/routing/DelayedAllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/IllegalShardRoutingStateException.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/FailedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/StartedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AbstractAllocateAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateEmptyPrimaryAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateReplicaAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommands.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/BasePrimaryAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/MoveAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/FilterAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/MaxRetryAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/NodeVersionAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/RebalanceOnlyWhenActiveAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ReplicaAfterPrimaryActiveAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/SameShardAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ShardsLimitAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/SnapshotInProgressAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/service/ClusterService.java
core/src/main/java/org/elasticsearch/common/Base64.java
core/src/main/java/org/elasticsearch/common/ParseField.java
core/src/main/java/org/elasticsearch/common/RandomBasedUUIDGenerator.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/Table.java
core/src/main/java/org/elasticsearch/common/TimeBasedUUIDGenerator.java
core/src/main/java/org/elasticsearch/common/blobstore/BlobContainer.java
core/src/main/java/org/elasticsearch/common/blobstore/BlobMetaData.java
core/src/main/java/org/elasticsearch/common/blobstore/BlobPath.java
core/src/main/java/org/elasticsearch/common/blobstore/BlobStore.java
core/src/main/java/org/elasticsearch/common/blobstore/fs/FsBlobContainer.java
core/src/main/java/org/elasticsearch/common/blobstore/support/AbstractBlobContainer.java
core/src/main/java/org/elasticsearch/common/component/Lifecycle.java
core/src/main/java/org/elasticsearch/common/geo/GeoPoint.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/common/joda/Joda.java
core/src/main/java/org/elasticsearch/common/logging/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/logging/Loggers.java
core/src/main/java/org/elasticsearch/common/lucene/index/FilterableTermsEnum.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java
core/src/main/java/org/elasticsearch/common/lucene/uid/PerThreadIDAndVersionLookup.java
core/src/main/java/org/elasticsearch/common/lucene/uid/Versions.java
core/src/main/java/org/elasticsearch/common/network/NetworkModule.java
core/src/main/java/org/elasticsearch/common/path/PathTrie.java
core/src/main/java/org/elasticsearch/common/recycler/Recycler.java
core/src/main/java/org/elasticsearch/common/rounding/DateTimeUnit.java
core/src/main/java/org/elasticsearch/common/rounding/TimeZoneRounding.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/settings/SettingsModule.java
core/src/main/java/org/elasticsearch/common/unit/Fuzziness.java
core/src/main/java/org/elasticsearch/common/util/AbstractBigArray.java
core/src/main/java/org/elasticsearch/common/util/BigArrays.java
core/src/main/java/org/elasticsearch/common/util/BloomFilter.java
core/src/main/java/org/elasticsearch/common/util/PageCacheRecycler.java
core/src/main/java/org/elasticsearch/common/util/iterable/Iterables.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/cbor/CborXContent.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContent.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/smile/SmileXContent.java
core/src/main/java/org/elasticsearch/common/xcontent/support/XContentMapValues.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/elect/ElectMasterService.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/NodesFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/env/ESFileStore.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/gateway/AsyncShardFetch.java
core/src/main/java/org/elasticsearch/gateway/DanglingIndicesState.java
core/src/main/java/org/elasticsearch/gateway/Gateway.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/http/HttpServer.java
core/src/main/java/org/elasticsearch/http/HttpTransportSettings.java
core/src/main/java/org/elasticsearch/http/netty/ESHttpContentDecompressor.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/main/java/org/elasticsearch/http/netty/cors/CorsHandler.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/VersionType.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisRegistry.java
core/src/main/java/org/elasticsearch/index/analysis/CharMatcher.java
core/src/main/java/org/elasticsearch/index/analysis/FingerprintAnalyzer.java
core/src/main/java/org/elasticsearch/index/analysis/FingerprintAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StopTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/cache/IndexCache.java
core/src/main/java/org/elasticsearch/index/engine/CommitStats.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/SegmentsStats.java
core/src/main/java/org/elasticsearch/index/engine/VersionValue.java
core/src/main/java/org/elasticsearch/index/fielddata/ScriptDocValues.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/main/java/org/elasticsearch/index/mapper/ContentPath.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/ParseContext.java
core/src/main/java/org/elasticsearch/index/mapper/ParsedDocument.java
core/src/main/java/org/elasticsearch/index/mapper/SourceToParse.java
core/src/main/java/org/elasticsearch/index/mapper/StringFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/TermBasedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/Uid.java
core/src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper2x.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/KeywordFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyByteFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDoubleFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyFloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyIntegerFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyLongFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyNumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyShortFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TextFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/BaseGeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
comments:
Merge branch 'master' into pr/15724-gce-network-host-master

time:
2016-06-03T14:56:29Z
class:
client-sniffer/src/test/java/org/elasticsearch/client/sniff/SnifferBuilderTests.java
comments:
[TEST] restore needed LogManager.reset to prevent logging to sysout

time:
2016-06-03T14:42:07Z
class:
core/src/test/java/org/elasticsearch/http/netty/NettyHttpCompressionIT.java
core/src/test/java/org/elasticsearch/plugins/ResponseHeaderPluginIT.java
core/src/test/java/org/elasticsearch/rest/CorsNotSetIT.java
core/src/test/java/org/elasticsearch/rest/CorsRegexIT.java
core/src/test/java/org/elasticsearch/rest/action/main/RestMainActionIT.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
comments:
[TEST] add a lot of forgotten try with resources to wrap ElasticsearchResponses

time:
2016-06-03T14:37:28Z
class:
comments:
[TEST] wait for yellow after setup doc tests (#18726)

* [TEST] wait for yellow after setup doc tests

We have many places in the doc where we expect and index to be
yellow before we execute a query. Therefore we have to
always wait for yellow after setup.

time:
2016-06-03T14:20:12Z
class:
client/src/test/java/org/elasticsearch/client/RestClientIntegTests.java
comments:
[TEST] add RestClient integration test

Relies on real HttpServer to test the actual interaction between RestClient and HttpClient, and how requests get sent in real life.

time:
2016-06-03T14:20:12Z
class:
client/src/test/java/org/elasticsearch/client/CloseableBasicHttpResponse.java
client/src/test/java/org/elasticsearch/client/RestClientMultipleHostsTests.java
client/src/test/java/org/elasticsearch/client/RestClientSingleHostTests.java
client/src/test/java/org/elasticsearch/client/RestClientTestUtil.java
client/src/test/java/org/elasticsearch/client/TrackingFailureListener.java
comments:
[TEST] add RestClient unit tests

 Unit tests rely on mockito to mock the internal HttpClient instance. No http request is performed, we only simulate interaction between RestClient and its internal HttpClient.

time:
2016-06-03T14:20:12Z
class:
client/src/test/java/org/elasticsearch/client/RestClientBuilderTests.java
comments:
[TEST] rename restClientTests back to RestClientBuilderTests

time:
2016-06-03T14:20:11Z
class:
client-sniffer/src/main/java/org/elasticsearch/client/sniff/Sniffer.java
client/src/main/java/org/elasticsearch/client/RestClient.java
comments:
don't use setDefaultHeaders from HttpClient

Store default headers ourselves instead, otherwise default ones cannot be replaced. Don't allow for multiple headers with same key, last one wins and replaces previous ones with same key.

Also fail with null params or headers.

time:
2016-06-03T14:01:07Z
class:
client/src/test/java/org/elasticsearch/client/RestClientTests.java
comments:
[TEST] add setHosts test and rename RestClientBuilderTests to RestClientTests

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/RestClient.java
comments:
check hosts is not null nor empty earlier, remove check from nextHost

if we check at set time, we don't need to check each single time in nextHost

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/DeadHostState.java
comments:
add toString to DeadHostState class

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/ElasticsearchResponse.java
comments:
add javadocs on closing responses

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/RestClient.java
comments:
add support for PATCH and TRACE methods

Although elasticsearch doesn't support these methods (RestController doesn't even allow to register handler for them), the RestClient should allow to send requests using them.

time:
2016-06-03T14:01:07Z
class:
client-sniffer/src/test/java/org/elasticsearch/client/sniff/HostsSnifferTests.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/SnifferBuilderTests.java
client/src/test/java/org/elasticsearch/client/RestClientBuilderTests.java
comments:
[TEST] remove okhttp test dependency

Use sun HttpServer instead and disable forbidden-apis for test classes. It turns out to be more flexible than okhttp as it allows get & delete with body.

time:
2016-06-03T14:01:07Z
class:
client-sniffer/src/test/java/org/elasticsearch/client/sniff/HostsSnifferTests.java
comments:
[TEST] be more specific around http method used for sniffing

time:
2016-06-03T14:01:07Z
class:
client-sniffer/src/main/java/org/elasticsearch/client/sniff/HostsSniffer.java
client-sniffer/src/main/java/org/elasticsearch/client/sniff/Sniffer.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/HostsSnifferTests.java
client-sniffer/src/test/java/org/elasticsearch/client/sniff/SnifferBuilderTests.java
comments:
move client sniffer to its own project

Create a new subproject called client-sniffer that contains the o.e.client.sniff package. Since it is going to go to a separate jar, due to its additional functionalities and dependency on jackson, it makes sense to have it as a separate project that depends on client. This way we make sure that client doesn't depend on it etc.

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/RestClient.java
client/src/main/java/org/elasticsearch/client/sniff/HostsSniffer.java
client/src/main/java/org/elasticsearch/client/sniff/Sniffer.java
comments:
add some javadocs

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/ElasticsearchResponseException.java
client/src/main/java/org/elasticsearch/client/HttpDeleteWithEntity.java
client/src/main/java/org/elasticsearch/client/HttpGetWithEntity.java
client/src/main/java/org/elasticsearch/client/RequestLogger.java
comments:
make some classes and methods package private

ElasticsearchResponseException, as well as ElasticsearchResponse, should only be created from o.e.client package.
RequestLogger should only be used from this package too.

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/Connection.java
client/src/main/java/org/elasticsearch/client/DeadHostState.java
client/src/main/java/org/elasticsearch/client/RestClient.java
client/src/main/java/org/elasticsearch/client/sniff/Sniffer.java
client/src/test/java/org/elasticsearch/client/sniff/SnifferBuilderTests.java
comments:
make host state immutable

Instead of having a Connection mutable object that holds the state of the connection to each host, we now have immutable objects only. We keep two sets, one with all the hosts, one with the blacklisted ones. Once we blacklist a host we associate it with a DeadHostState which keeps track of the number of failed attempts and when the host should be retried. A new state object is created each and every time the state of the host needs to be updated.

time:
2016-06-03T14:01:07Z
class:
test/framework/src/main/java/org/elasticsearch/test/rest/client/RestTestClient.java
comments:
remove usage of deprecated api

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/ElasticsearchResponseException.java
client/src/main/java/org/elasticsearch/client/RestClient.java
comments:
include response body in ElasticsearchResponseException error message

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/RestClient.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
test/framework/src/main/java/org/elasticsearch/test/rest/ESRestTestCase.java
test/framework/src/main/java/org/elasticsearch/test/rest/RestTestExecutionContext.java
test/framework/src/main/java/org/elasticsearch/test/rest/Stash.java
test/framework/src/main/java/org/elasticsearch/test/rest/client/RestException.java
test/framework/src/main/java/org/elasticsearch/test/rest/client/RestTestClient.java
test/framework/src/main/java/org/elasticsearch/test/rest/client/RestTestResponse.java
test/framework/src/main/java/org/elasticsearch/test/rest/client/http/HttpDeleteWithEntity.java
test/framework/src/main/java/org/elasticsearch/test/rest/client/http/HttpGetWithEntity.java
test/framework/src/main/java/org/elasticsearch/test/rest/client/http/HttpRequestBuilder.java
test/framework/src/main/java/org/elasticsearch/test/rest/client/http/HttpResponse.java
test/framework/src/main/java/org/elasticsearch/test/rest/section/DoSection.java
comments:
Replace rest test client with low level RestClient

We still have a wrapper called RestTestClient that is very specific to Rest tests, as well as RestTestResponse etc. but all the low level bits around http connections etc. are now handled by RestClient.

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/RestClient.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpCompressionIT.java
core/src/test/java/org/elasticsearch/options/detailederrors/DetailedErrorsDisabledIT.java
core/src/test/java/org/elasticsearch/options/detailederrors/DetailedErrorsEnabledIT.java
core/src/test/java/org/elasticsearch/plugins/ResponseHeaderPluginIT.java
core/src/test/java/org/elasticsearch/rest/CorsNotSetIT.java
core/src/test/java/org/elasticsearch/rest/CorsRegexIT.java
core/src/test/java/org/elasticsearch/rest/action/main/RestMainActionIT.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
test/framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
test/framework/src/main/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
test/framework/src/main/java/org/elasticsearch/test/hamcrest/ElasticsearchMatchers.java
comments:
[TEST] add rest client test dependency and replace usage of HttpRequestBuilder with RestClient in integration tests

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/RestClient.java
comments:
support missing OPTIONS method, it is supported in elasticsearch core

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/ElasticsearchResponseException.java
client/src/main/java/org/elasticsearch/client/RestClient.java
client/src/test/java/org/elasticsearch/client/sniff/HostsSnifferTests.java
comments:
Expose whole ElasticsearchResponse within ElasticsearchResponseException

The only small problem is that the response gets closed straightaway and its body read immediately into a string. Should be ok to load it all into memory eagerly though in case of errors. Otherwise it becomes cumbersome to have an exception implement Closeable...

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/ElasticsearchResponse.java
comments:
add getFirstHeader method to ElasticsearchResponse

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/RestClient.java
client/src/main/java/org/elasticsearch/client/sniff/HostsSniffer.java
comments:
adapt params argument, they can only be Strings in performRequest method

time:
2016-06-03T14:01:07Z
class:
comments:
add project substitution for org.elasticsearch:client so that we can add it as a dep in other projects

time:
2016-06-03T14:01:07Z
class:
comments:
use versions  from versions.properties

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/RequestLogger.java
client/src/test/java/org/elasticsearch/client/RequestLoggerTests.java
comments:
fix usage of deprecated apis

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/RestClient.java
client/src/main/java/org/elasticsearch/client/sniff/Sniffer.java
client/src/test/java/org/elasticsearch/client/RestClientBuilderTests.java
comments:
add support for headers: default ones and per request

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/Connection.java
client/src/main/java/org/elasticsearch/client/RestClient.java
comments:
simplify Connection class

The connection class can be greatly simplified now that we don't ping anymore. Pings required a special initial state (UNKNOWN) for connections, to indicate that they require pinging although they are not dead. At this point we don't need the State enum anymore, as connections can only be dead or alive based on the number of failed attempts. markResurrected is also not needed, as it was again a way to make pings required. RestClient can simply pick a dead connection now and use it, no need to change its state when picking the connection.

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/Connection.java
client/src/main/java/org/elasticsearch/client/ConnectionPool.java
client/src/main/java/org/elasticsearch/client/RestClient.java
client/src/main/java/org/elasticsearch/client/StaticConnectionPool.java
client/src/main/java/org/elasticsearch/client/sniff/HostsSniffer.java
client/src/main/java/org/elasticsearch/client/sniff/Sniffer.java
client/src/main/java/org/elasticsearch/client/sniff/SniffingConnectionPool.java
client/src/test/java/org/elasticsearch/client/RestClientBuilderTests.java
client/src/test/java/org/elasticsearch/client/StaticConnectionPoolTests.java
client/src/test/java/org/elasticsearch/client/sniff/HostsSnifferTests.java
client/src/test/java/org/elasticsearch/client/sniff/SnifferBuilderTests.java
client/src/test/java/org/elasticsearch/client/sniff/SniffingConnectionPoolBuilderTests.java
comments:
remove notion of connection pool, turn around dependency between RestClient and Sniffer

RestClient exposes a setNodes method, which Sniffer can call to update its nodes.

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/ConnectionPool.java
client/src/main/java/org/elasticsearch/client/RestClient.java
client/src/main/java/org/elasticsearch/client/sniff/SniffingConnectionPool.java
comments:
remove streams leftover

Given that we don't use streams anymore, we can check straightaway if the connection iterator is empty before returning it and resurrect a connection when needed directly in the connection pool, no lastResortConnection method required.

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/ConnectionPool.java
client/src/main/java/org/elasticsearch/client/RestClient.java
client/src/main/java/org/elasticsearch/client/sniff/SniffingConnectionPool.java
client/src/test/java/org/elasticsearch/client/sniff/SnifferTests.java
comments:
remove streams and java 8 only api, build with source and target 1.7

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/RestClient.java
client/src/main/java/org/elasticsearch/client/sniff/Sniffer.java
client/src/main/java/org/elasticsearch/client/sniff/SniffingConnectionPool.java
client/src/test/java/org/elasticsearch/client/RestClientBuilderTests.java
client/src/test/java/org/elasticsearch/client/RestClientTests.java
client/src/test/java/org/elasticsearch/client/sniff/SniffingConnectionPoolBuilderTests.java
client/src/test/java/org/elasticsearch/client/sniff/SniffingConnectionPoolTests.java
comments:
add builders for simple creation of RestClient and SniffingConnectionPool instances

We have quite some constructor parameters and some defaults should be applied, builders help simplifying creation of objects for users.

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/AbstractStaticConnectionPool.java
client/src/main/java/org/elasticsearch/client/ConnectionPool.java
client/src/main/java/org/elasticsearch/client/StaticConnectionPool.java
client/src/main/java/org/elasticsearch/client/sniff/SniffingConnectionPool.java
client/src/test/java/org/elasticsearch/client/RestClientTests.java
comments:
remove ConnectionPool interface

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/RequestLogger.java
client/src/main/java/org/elasticsearch/client/RestClient.java
client/src/main/java/org/elasticsearch/client/sniff/Sniffer.java
client/src/test/java/org/elasticsearch/client/RequestLoggerTests.java
comments:
add curl format trace logging for requests and responses

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/RestClient.java
comments:
add missing parentheses

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/ElasticsearchResponseException.java
client/src/main/java/org/elasticsearch/client/RestClient.java
client/src/main/java/org/elasticsearch/client/sniff/Sniffer.java
client/src/test/java/org/elasticsearch/client/sniff/SnifferTests.java
comments:
prevent unclosed response entities in ElasticsearchResponseException, eagerly read response string in case of error status code

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/ElasticsearchResponseException.java
client/src/main/java/org/elasticsearch/client/RestClient.java
client/src/main/java/org/elasticsearch/client/sniff/Sniffer.java
client/src/test/java/org/elasticsearch/client/sniff/SnifferTests.java
comments:
return the response as part of ElasticsearchResponseException

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/ConnectionPool.java
client/src/main/java/org/elasticsearch/client/RestClient.java
client/src/main/java/org/elasticsearch/client/StaticConnectionPool.java
client/src/main/java/org/elasticsearch/client/sniff/SniffingConnectionPool.java
client/src/test/java/org/elasticsearch/client/RestClientTests.java
client/src/test/java/org/elasticsearch/client/StaticConnectionPoolTests.java
comments:
remove pinging from static connection pool, can be replaced by a low connect timeout on each request

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/AbstractStaticConnectionPool.java
client/src/main/java/org/elasticsearch/client/StaticConnectionPool.java
client/src/main/java/org/elasticsearch/client/sniff/Sniffer.java
client/src/main/java/org/elasticsearch/client/sniff/SniffingConnectionPool.java
comments:
add some javadocs to connection pool classes

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/sniff/SniffingConnectionPool.java
client/src/test/java/org/elasticsearch/client/sniff/SnifferTests.java
client/src/test/java/org/elasticsearch/client/sniff/SniffingConnectionPoolTests.java
comments:
remove Scheme enum

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/RestClient.java
client/src/main/java/org/elasticsearch/client/Transport.java
client/src/test/java/org/elasticsearch/client/RestClientTests.java
comments:
Remove Transport class, move all of it within RestClient class

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/AbstractStaticConnectionPool.java
client/src/main/java/org/elasticsearch/client/Connection.java
client/src/main/java/org/elasticsearch/client/ConnectionPool.java
client/src/main/java/org/elasticsearch/client/ElasticsearchResponseException.java
client/src/main/java/org/elasticsearch/client/RestClient.java
client/src/main/java/org/elasticsearch/client/StatefulConnection.java
client/src/main/java/org/elasticsearch/client/StaticConnectionPool.java
client/src/main/java/org/elasticsearch/client/Transport.java
client/src/main/java/org/elasticsearch/client/sniff/SniffingConnectionPool.java
client/src/test/java/org/elasticsearch/client/TransportTests.java
comments:
merge Connection and StatefulConnection into one class, remove generic type from Transport

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/sniff/Sniffer.java
client/src/main/java/org/elasticsearch/client/sniff/SniffingConnectionPool.java
client/src/test/java/org/elasticsearch/client/sniff/SnifferTests.java
client/src/test/java/org/elasticsearch/client/sniff/SniffingConnectionPoolTests.java
comments:
move sniff related stuff to sniff package

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/AbstractStaticConnectionPool.java
client/src/main/java/org/elasticsearch/client/SniffingConnectionPool.java
client/src/main/java/org/elasticsearch/client/StaticConnectionPool.java
client/src/test/java/org/elasticsearch/client/SniffingConnectionPoolTests.java
client/src/test/java/org/elasticsearch/client/StaticConnectionPoolTests.java
comments:
get rid of connection selector predicate

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/AbstractStaticConnectionPool.java
client/src/main/java/org/elasticsearch/client/Connection.java
client/src/main/java/org/elasticsearch/client/ElasticsearchResponse.java
client/src/main/java/org/elasticsearch/client/ElasticsearchResponseException.java
client/src/main/java/org/elasticsearch/client/Node.java
client/src/main/java/org/elasticsearch/client/RequestLogger.java
client/src/main/java/org/elasticsearch/client/Sniffer.java
client/src/main/java/org/elasticsearch/client/SniffingConnectionPool.java
client/src/main/java/org/elasticsearch/client/StatefulConnection.java
client/src/main/java/org/elasticsearch/client/StaticConnectionPool.java
client/src/main/java/org/elasticsearch/client/Transport.java
client/src/test/java/org/elasticsearch/client/NodeTests.java
client/src/test/java/org/elasticsearch/client/SnifferTests.java
client/src/test/java/org/elasticsearch/client/SniffingConnectionPoolTests.java
client/src/test/java/org/elasticsearch/client/StaticConnectionPoolTests.java
comments:
get rid of Node abstraction

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/RestClient.java
client/src/main/java/org/elasticsearch/client/RetryTimeoutException.java
client/src/main/java/org/elasticsearch/client/Transport.java
client/src/main/java/org/elasticsearch/client/Verb.java
comments:
get rid of retry timeout exception

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/Transport.java
comments:
remove Verb enum

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/AbstractStaticConnectionPool.java
client/src/main/java/org/elasticsearch/client/Connection.java
client/src/main/java/org/elasticsearch/client/ConnectionPool.java
client/src/main/java/org/elasticsearch/client/ElasticsearchResponse.java
client/src/main/java/org/elasticsearch/client/ElasticsearchResponseException.java
client/src/main/java/org/elasticsearch/client/HttpDeleteWithEntity.java
client/src/main/java/org/elasticsearch/client/HttpGetWithEntity.java
client/src/main/java/org/elasticsearch/client/IndexClient.java
client/src/main/java/org/elasticsearch/client/Node.java
client/src/main/java/org/elasticsearch/client/RequestLogger.java
client/src/main/java/org/elasticsearch/client/RestClient.java
client/src/main/java/org/elasticsearch/client/RetryTimeoutException.java
client/src/main/java/org/elasticsearch/client/Sniffer.java
client/src/main/java/org/elasticsearch/client/SniffingConnectionPool.java
client/src/main/java/org/elasticsearch/client/StatefulConnection.java
client/src/main/java/org/elasticsearch/client/StaticConnectionPool.java
client/src/main/java/org/elasticsearch/client/Transport.java
client/src/main/java/org/elasticsearch/client/Verb.java
client/src/test/java/org/elasticsearch/client/NodeTests.java
client/src/test/java/org/elasticsearch/client/RestClientTests.java
client/src/test/java/org/elasticsearch/client/SnifferTests.java
client/src/test/java/org/elasticsearch/client/SniffingConnectionPoolTests.java
client/src/test/java/org/elasticsearch/client/StaticConnectionPoolTests.java
client/src/test/java/org/elasticsearch/client/TransportTests.java
comments:
Introduce notion of Transport, Connection and ConnectionPool

There are two implementations of connection pool, a static one that allows to enable/disable pings, and a sniffing one that sniffs nodes from the nodes info api.

Transport retrieves a stream of connections from the connection for each request and calls onSuccess or onFailure depending on the result of the request.

Transport also supports a max retry timeout to control the timeout for the request retries overall.

time:
2016-06-03T14:01:07Z
class:
comments:
clarify why jarhell and dependency license check are disabled, add okhttp mockwebserver dependency

Also enable forbiddenApisTest (will fail till we get rid of the sun http web server in RestClientTests that will be replaced with mockwebserver)

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/IndexClient.java
client/src/main/java/org/elasticsearch/client/RestClient.java
client/src/test/java/org/elasticsearch/client/RestClientTests.java
comments:
Fix checkstyle issues, setup thirdPartyAudit checks and enable forbiddenApisMain

time:
2016-06-03T14:01:07Z
class:
client/src/main/java/org/elasticsearch/client/IndexClient.java
client/src/main/java/org/elasticsearch/client/RestClient.java
client/src/test/java/org/elasticsearch/client/RestClientTests.java
comments:
RestClient prototype

time:
2016-06-03T12:11:34Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ThrottlingAllocationDecider.java
core/src/test/java/org/elasticsearch/cluster/routing/RandomShardRoutingMutator.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RandomAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ThrottlingAllocationTests.java
comments:
Fix recovery throttling to properly handle relocating non-primary shards (#18701)

Relocation of non-primary shards is realized by recovering from the primary shard. Recovery throttling wrongly equates non-primary relocation as recovering a shard from the non-primary relocation source, however.

Closes #18640

time:
2016-06-03T11:42:09Z
class:
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
comments:
Fix merge stats rendering in RestIndicesAction (#18720)

give the table description:
```
        table.addCell("merges.total", "sibling:pri;alias:mt,mergesTotal;default:false;text-align:right;desc:number of completed merge ops");
        table.addCell("pri.merges.total", "default:false;text-align:right;desc:number of completed merge ops");

        table.addCell("merges.total_docs", "sibling:pri;alias:mtd,mergesTotalDocs;default:false;text-align:right;desc:docs merged");
        table.addCell("pri.merges.total_docs", "default:false;text-align:right;desc:docs merged");

        table.addCell("merges.total_size", "sibling:pri;alias:mts,mergesTotalSize;default:false;text-align:right;desc:size merged");
        table.addCell("pri.merges.total_size", "default:false;text-align:right;desc:size merged");
```
this is how it should be.

time:
2016-06-03T09:37:22Z
class:
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RandomAllocationDeciderTests.java
comments:
[TEST] mute RandomAllocationDeciderTests.testRandomDecisions

we have a pr already: https://github.com/elastic/elasticsearch/pull/18701

time:
2016-06-03T07:50:51Z
class:
comments:
Reworked docs for index-shrink API (#18705)

time:
2016-06-03T00:43:01Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerCaster.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Compiler.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Location.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngineService.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/ScriptImpl.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Variables.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Writer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/ErrorHandlingLexer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/ParserErrorStrategy.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ALink.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ANode.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AStatement.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBool.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBoolean.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConditional.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConstant.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EDecimal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EExplicit.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENull.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENumeric.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LArrayLength.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewObj.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LStatic.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LString.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LVariable.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBreak.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SCatch.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SContinue.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclaration.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDo.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIf.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIfElse.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SReturn.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SThrow.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STry.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SWhile.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/package-info.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ConditionalTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DivisionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/FunctionRefTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/OverloadTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/RemainderTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ReservedWordTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/antlr/ParserTests.java
comments:
Merge pull request #18711 from rmuir/painless_compile_exceptions

Improve painless compile-time exceptions

time:
2016-06-02T22:30:11Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
comments:
Fixed a grammar mistake in a comment.

time:
2016-06-02T22:23:47Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerCaster.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Compiler.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Location.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngineService.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/ScriptImpl.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Variables.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Writer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/ErrorHandlingLexer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/ParserErrorStrategy.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ALink.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ANode.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AStatement.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBool.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBoolean.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConditional.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConstant.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EDecimal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EExplicit.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENull.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENumeric.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LArrayLength.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewObj.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LStatic.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LString.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LVariable.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBreak.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SCatch.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SContinue.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclaration.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDo.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIf.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIfElse.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SReturn.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SThrow.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STry.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SWhile.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/package-info.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ConditionalTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DivisionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/FunctionRefTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/OverloadTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/RemainderTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ReservedWordTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/antlr/ParserTests.java
comments:
Improve painless compile-time exceptions

time:
2016-06-02T21:01:48Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/TransportRestoreSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/cluster/RestoreInProgress.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/metadata/SnapshotId.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RestoreSource.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/StoreRecovery.java
core/src/main/java/org/elasticsearch/index/snapshots/IndexShardRepository.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/repositories/Repository.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
core/src/main/java/org/elasticsearch/repositories/uri/URLRepository.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestRecoveryAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestSnapshotAction.java
core/src/main/java/org/elasticsearch/snapshots/ConcurrentSnapshotExecutionException.java
core/src/main/java/org/elasticsearch/snapshots/InvalidSnapshotNameException.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/Snapshot.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotCreationException.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotException.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotId.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotInfo.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotMissingException.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotRestoreException.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/snapshots/SnapshotBlocksIT.java
core/src/test/java/org/elasticsearch/bwcompat/RepositoryUpgradabilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/routing/ShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/NodeVersionAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/gateway/PrimaryShardAllocatorTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/repositories/blobstore/BlobStoreRepositoryTests.java
core/src/test/java/org/elasticsearch/rest/action/cat/RestRecoveryActionTests.java
core/src/test/java/org/elasticsearch/snapshots/AbstractSnapshotIntegTestCase.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/SnapshotBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/snapshots/SnapshotTests.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/MockRepository.java
plugins/repository-azure/src/main/java/org/elasticsearch/repositories/azure/AzureRepository.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/storage/AzureStorageServiceMock.java
test/framework/src/main/java/org/elasticsearch/common/io/FileTestUtils.java
test/framework/src/main/java/org/elasticsearch/test/ESSingleNodeTestCase.java
comments:
Adds UUIDs to snapshots

This commit adds a UUID for each snapshot, in addition to the already
existing repository and snapshot name. The addition of UUIDs will enable
more robust handling of the deletion of previous snapshots and lingering
files from partially failed delete operations, on top of being able to
uniquely track each snapshot.

Closes #18228
Relates #18156

time:
2016-06-02T19:04:18Z
class:
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkByScrollRequestBuilder.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkIndexByScrollRequestBuilder.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/DeleteByQueryRequestBuilder.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/RethrottleRequest.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/CancelTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/RethrottleTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/RetryTests.java
comments:
Add test rethrottle test case for delete-by-query

and remove some type parameters that we don't need that were getting
in the way.

time:
2016-06-02T17:12:21Z
class:
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
comments:
Do not start scheduled pings until transport start

Today, scheduled pings in NettyTransport can start before the transport
is started. Instead, these pings should not be scheduled until after the
transport is started. This commit modifies NettyTransport so that this
is the case.

Relates #18702

time:
2016-06-02T16:40:36Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/InnerHitBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchPhrasePrefixQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchPhraseQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ParentIdQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/QueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParser.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/highlight/AbstractHighlighterBuilder.java
core/src/main/java/org/elasticsearch/search/rescore/QueryRescorerBuilder.java
core/src/main/java/org/elasticsearch/search/sort/FieldSortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/ScriptSortBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/BoostingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NestedQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RandomQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/plugin/CustomQueryParserIT.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/FilterIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/FiltersIT.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/rescore/QueryRescoreBuilderTests.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/TemplateQueryParserTests.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolateQueryBuilder.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolatorFieldMapper.java
modules/percolator/src/main/java/org/elasticsearch/percolator/TransportPercolateAction.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorFieldMapperTests.java
test/framework/src/main/java/org/elasticsearch/test/AbstractQueryTestCase.java
comments:
Merge pull request #17624

Handle empty query bodies at parse time and remove EmptyQueryBuilder.

time:
2016-06-02T14:19:23Z
class:
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/rescore/QueryRescorerBuilder.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/FilterIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/FiltersIT.java
core/src/test/java/org/elasticsearch/search/rescore/QueryRescoreBuilderTests.java
test/framework/src/main/java/org/elasticsearch/test/AbstractQueryTestCase.java
comments:
Adressing review comments

time:
2016-06-02T13:38:51Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/FilterAllocationDecider.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FilterAllocationDeciderTests.java
comments:
Only filter intial recovery (post API) when shrinking an index (#18661)

Today we use `index.routing.allocation.include._id` to filter the allocation
for the shrink target index. That has the sideeffect that the user has to
delete that setting / change it once the primary has been recovered (shrink is done)
This PR adds a dedicated filter that can only be set internally that only filters
allocation for unassigned shards.

time:
2016-06-02T09:25:56Z
class:
test/framework/src/main/java/org/elasticsearch/test/AbstractQueryTestCase.java
comments:
Add tests to check that toQuery() doesn't return null

time:
2016-06-02T09:25:56Z
class:
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregationBuilder.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTests.java
comments:
Removing handling of null lucene query where we catch this at parse time

time:
2016-06-02T09:25:56Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/InnerHitBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchPhrasePrefixQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchPhraseQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ParentIdQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/QueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParser.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/highlight/AbstractHighlighterBuilder.java
core/src/main/java/org/elasticsearch/search/rescore/QueryRescorerBuilder.java
core/src/main/java/org/elasticsearch/search/sort/FieldSortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/ScriptSortBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/BoostingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NestedQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RandomQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/plugin/CustomQueryParserIT.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/FilterIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/FiltersIT.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/TemplateQueryParserTests.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolateQueryBuilder.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolatorFieldMapper.java
modules/percolator/src/main/java/org/elasticsearch/percolator/TransportPercolateAction.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorFieldMapperTests.java
test/framework/src/main/java/org/elasticsearch/test/AbstractQueryTestCase.java
comments:
Handle empty query bodies at parse time and remove EmptyQueryBuilder

Currently we support empty query clauses like the filter in

"constant_score" : {  "filter" : { } }

How these clauses are handled depends on the surrounding query.
They later are either ignored, converted to match all or no documents or
passed up further in the query hierarchy. During parsing these claues are
currently represented as EmptyQueryBuilders. When not handled anywhere else,
these special cases need to be checked for on the shard when building the
lucene query.

This is trappy, so this PR changes the parsing of compound queries. Instead
of returning QueryBuilder, the core query parsing method
QueryShardContext#parseInnerQueryBuilder() now return an Optional which can
be empty in the case of empty query clauses. This has the advantage of forcing
callers to deal with this sooner or later. When encountering empty Optionals,
compound query builders now have the choice to ignore them, pass them on or
rewrite to a different query, depending on context.

time:
2016-06-02T09:23:44Z
class:
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
comments:
Mute failing assertions in IndexWithShadowReplicasIT until fix

time:
2016-06-02T09:03:28Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
comments:
Remove allow running as root

This commit removes the escape hatch for running Elasticsearch as root.

Relates #18694

time:
2016-06-02T08:18:16Z
class:
comments:
Add upgrade-not-supported warning to alpha release notes

time:
2016-06-01T22:30:20Z
class:
modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/matrix/stats/MatrixStatsResults.java
modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/matrix/stats/RunningStats.java
comments:
remove unrecognized javadoc tag from matrix aggregation module

time:
2016-06-01T21:39:42Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/support/AggregationContext.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceConfig.java
modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/support/MultiValuesSourceAggregationBuilder.java
comments:
set ValuesSourceConfig fields as private

time:
2016-06-01T21:39:42Z
class:
core/src/main/java/org/elasticsearch/common/ParseField.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregation.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceConfig.java
modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/MatrixStatsAggregationBuilders.java
modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/matrix/MatrixAggregationPlugin.java
modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/matrix/stats/InternalMatrixStats.java
modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/matrix/stats/MatrixStats.java
modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/matrix/stats/MatrixStatsAggregationBuilder.java
modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/matrix/stats/MatrixStatsAggregator.java
modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/matrix/stats/MatrixStatsAggregatorFactory.java
modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/matrix/stats/MatrixStatsParser.java
modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/matrix/stats/MatrixStatsResults.java
modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/matrix/stats/RunningStats.java
modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/support/MultiValuesSource.java
modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/support/MultiValuesSourceAggregationBuilder.java
modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/support/MultiValuesSourceAggregatorFactory.java
modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/support/MultiValuesSourceParser.java
modules/aggs-matrix-stats/src/test/java/org/elasticsearch/search/aggregations/matrix/stats/BaseMatrixStatsTestCase.java
modules/aggs-matrix-stats/src/test/java/org/elasticsearch/search/aggregations/matrix/stats/RunningStatsTests.java
comments:
Adding MultiValuesSource support classes and documentation to matrix stats agg module

time:
2016-06-01T21:39:42Z
class:
modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/MatrixStatsAggregationBuilders.java
modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/matrix/MatrixAggregationPlugin.java
modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/matrix/stats/InternalMatrixStats.java
modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/matrix/stats/MatrixStats.java
modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/matrix/stats/MatrixStatsAggregator.java
modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/matrix/stats/MatrixStatsAggregatorBuilder.java
modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/matrix/stats/MatrixStatsAggregatorFactory.java
modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/matrix/stats/MatrixStatsParser.java
modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/matrix/stats/MatrixStatsResults.java
modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/matrix/stats/RunningStats.java
modules/aggs-matrix-stats/src/test/java/org/elasticsearch/search/aggregations/matrix/MatrixAggregationRestIT.java
modules/aggs-matrix-stats/src/test/java/org/elasticsearch/search/aggregations/matrix/stats/MatrixStatsTestCase.java
modules/aggs-matrix-stats/src/test/java/org/elasticsearch/search/aggregations/matrix/stats/RunningStatsTests.java
comments:
New Matrix Stats Aggregation module

This commit adds a new aggs-matrix-stats module. The module presents a new class of aggregations called Matrix Aggregations. Matrix aggregations work on multiple fields and produce a matrix as output. The first matrix aggregation provided by the module is matrix_stats aggregation. This aggregation computes the following statistics over a set of fields:

* Covariance
* Correlation

For completeness (and interpretation purposes) the following per-field statistics are also provided:

* sample count
* population mean
* population variance
* population skewness
* population kurtosis

time:
2016-06-01T20:31:16Z
class:
comments:
Add note regarding Windows service heap size

This commit adds a note regarding the difference in configuration for
the Windows service heap size from any other installation of
Elasticsearch.

Relates #18606

time:
2016-06-01T20:25:51Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCheck.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapSettings.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapSettingsTests.java
comments:
Rename boostrap.mlockall to bootstrap.memory_lock

The setting bootstrap.mlockall is useful on both POSIX-like systems
(POSIX mlockall) and Windows (Win32 VirtualLock). But mlockall is really
a POSIX only thing so the name should not be tied POSIX. This commit
renames the setting to "bootstrap.memory_lock".

Relates #18669

time:
2016-06-01T18:16:12Z
class:
comments:
Update reindex.asciidoc (#18687)

Potentially fixing some copy/paste errors
# Conflicts:
#	docs/reference/docs/reindex.asciidoc

time:
2016-06-01T16:54:49Z
class:
modules/reindex/src/main/java/org/elasticsearch/index/reindex/BulkByScrollTask.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/RethrottleTests.java
comments:
Add more logging to reindex rethrottle

The tests are failing in CI and we can't track down the cause. This should
help!

time:
2016-06-01T16:47:25Z
class:
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
comments:
[TEST] Increase timeout to wait on folder deletion in IndexWithShadowReplicasIT

time:
2016-06-01T15:14:13Z
class:
core/src/main/java/org/elasticsearch/plugins/ListPluginsCommand.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/ListPluginsCommandTests.java
comments:
Display plugins versions

This is useful to determine if a plugin needs to be updated when using deployment automation solution (like Ansible).

time:
2016-06-01T15:02:09Z
class:
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
test/framework/src/main/java/org/elasticsearch/test/ESTestCase.java
comments:
[TEST] Fix tests that rely on assumption that data dirs are removed after index deletion (#18681)

Relates to #18602

time:
2016-06-01T13:22:55Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
core/src/main/java/org/elasticsearch/action/support/master/AcknowledgedRequest.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexGraveyard.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
comments:
Acknowledge index deletion requests based on standard cluster state acknowledgment (#18602)

Index deletion requests currently use a custom acknowledgement mechanism that wait for the data nodes to actually delete the data before acknowledging the request to the client. This was initially put into place as a new index with same name could only be created if the old index was wiped as we used the index name as data folder on the data nodes. With PR #16442, we now use the index uuid as folder name which avoids collision between indices that are named the same (deleted and recreated). This allows us to get rid of the custom acknowledgment mechanism altogether and rely on the standard cluster state-based acknowledgment instead.

Closes #18558

time:
2016-06-01T11:27:11Z
class:
plugins/discovery-ec2/src/main/java/org/elasticsearch/plugin/discovery/ec2/Ec2DiscoveryPlugin.java
comments:
Register "cloud.node.auto_attributes" setting (#18678)

time:
2016-06-01T08:54:51Z
class:
core/src/test/java/org/elasticsearch/index/shard/StoreRecoveryTests.java
comments:
Fix StoreRecoveryTests after 6.0.1 upgrade.

time:
2016-06-01T08:49:01Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexServiceTests.java
core/src/test/java/org/elasticsearch/index/mapper/MapperServiceTests.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
comments:
Merge branch 'fix/validate_index_template'

time:
2016-06-01T08:31:10Z
class:
core/src/main/java/org/elasticsearch/Version.java
comments:
Upgrade to Lucene 6.0.1.

time:
2016-06-01T08:29:12Z
class:
core/src/main/java/org/elasticsearch/ingest/core/CompoundProcessor.java
core/src/main/java/org/elasticsearch/ingest/core/ConfigurationUtils.java
core/src/main/java/org/elasticsearch/ingest/core/Pipeline.java
core/src/main/java/org/elasticsearch/ingest/processor/TrackingResultProcessor.java
core/src/test/java/org/elasticsearch/action/ingest/SimulateExecutionServiceTests.java
core/src/test/java/org/elasticsearch/ingest/PipelineExecutionServiceTests.java
core/src/test/java/org/elasticsearch/ingest/PipelineStoreTests.java
core/src/test/java/org/elasticsearch/ingest/core/CompoundProcessorTests.java
core/src/test/java/org/elasticsearch/ingest/core/PipelineFactoryTests.java
core/src/test/java/org/elasticsearch/ingest/core/ValueSourceTests.java
core/src/test/java/org/elasticsearch/ingest/processor/ForEachProcessorTests.java
core/src/test/java/org/elasticsearch/ingest/processor/TrackingResultProcessorTests.java
comments:
ingest: added `ignore_failure` option to all processors

If this option is enabled on a processor it silently catches any processor related failure and continues executing the rest of the pipeline.

 Closes #18493

time:
2016-06-01T08:28:35Z
class:
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/test/java/org/elasticsearch/transport/NettyTransportServiceHandshakeTests.java
comments:
Throw IllegalStateException when handshake fails due to version or cluster mismatch (#18676)

We do throw ConnectTransportException which is logged in trace level hiding a potentially
important information  when an old or wrong node wants to connect. We should throw ISE and
log as warn.

time:
2016-06-01T08:19:30Z
class:
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AbstractAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/Aggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
core/src/main/java/org/elasticsearch/search/aggregations/PipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/global/GlobalAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/SamplerAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/AbstractPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/BucketHelpers.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/avg/AvgBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/max/MaxBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/min/MinBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/PercentilesBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/StatsBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/ExtendedStatsBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/sum/SumBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketselector/BucketSelectorPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/cumulativesum/CumulativeSumPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/DerivativePipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/test/java/org/elasticsearch/search/aggregations/BaseAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/BasePipelineAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/AbstractBucketMetricsTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgTests.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolateRequestBuilder.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolateSourceBuilder.java
comments:
AggregatorBuilder and PipelineAggregatorBuilder do not need generics. #18368

Similar reasoning as #18133 but for the aggs API. One important change is that
I moved the base PipelineAggregatorBuilder class to the o.e.s.aggregations
package instead of o.e.s.aggregations.pipeline so that the create method does
not need to be public.

time:
2016-06-01T07:43:11Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/common/recycler/Recycler.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/util/AbstractBigArray.java
core/src/main/java/org/elasticsearch/common/util/BigArrays.java
core/src/main/java/org/elasticsearch/common/util/PageCacheRecycler.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/NodeModule.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/support/AggregationContext.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/test/java/org/elasticsearch/common/bytes/PagedBytesReferenceTests.java
core/src/test/java/org/elasticsearch/common/util/BigArraysTests.java
core/src/test/java/org/elasticsearch/common/util/BytesRefHashTests.java
core/src/test/java/org/elasticsearch/common/util/LongHashTests.java
core/src/test/java/org/elasticsearch/common/util/LongObjectHashMapTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpChannelTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerTransportTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/SearchSlowLogTests.java
core/src/test/java/org/elasticsearch/transport/NettySizeHeaderFrameDecoderTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
test/framework/src/main/java/org/elasticsearch/common/util/MockBigArrays.java
test/framework/src/main/java/org/elasticsearch/common/util/MockPageCacheRecycler.java
test/framework/src/main/java/org/elasticsearch/node/NodeMocksPlugin.java
test/framework/src/main/java/org/elasticsearch/search/MockSearchService.java
test/framework/src/main/java/org/elasticsearch/test/ESSingleNodeTestCase.java
test/framework/src/main/java/org/elasticsearch/test/ESTestCase.java
test/framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
test/framework/src/main/java/org/elasticsearch/test/TestSearchContext.java
comments:
Move PageCacheRecycler into BigArrays (#18666)

PageCacheRecycler is really just an implementation detail of
BigArrays. There is no need to leak this class anywhere outside of it.

time:
2016-06-01T07:41:48Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexServiceTests.java
core/src/test/java/org/elasticsearch/index/mapper/MapperServiceTests.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
comments:
Index Template: parse and validate mappings in template when template puts

Share applying template with MetaDataCreateIndexService and MetaDataIndexTemplateService
Add some unit test
Collapse addMappingsToMapperService and move it to MapperService
Extract validateTemplate method
use expectThrows in testcase
Add TODO comment

Closes #2415

time:
2016-06-01T07:11:08Z
class:
comments:
[TEST] Set BWC version to 5.0.0-SNAP since this is it's min compat version

time:
2016-06-01T03:04:13Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterShardHealth.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java
core/src/test/java/org/elasticsearch/cluster/health/ClusterStateHealthTests.java
comments:
Make cluster health classes immutable and have them implement Writeable
instead of Streamable

Closes #18673

time:
2016-05-31T23:56:55Z
class:
core/src/main/java/org/elasticsearch/common/blobstore/BlobContainer.java
comments:
Fix javadoc that stated a throws clause that didn't exist.

time:
2016-05-31T23:22:55Z
class:
core/src/main/java/org/elasticsearch/common/blobstore/BlobContainer.java
core/src/main/java/org/elasticsearch/common/blobstore/BlobMetaData.java
core/src/main/java/org/elasticsearch/common/blobstore/BlobPath.java
core/src/main/java/org/elasticsearch/common/blobstore/BlobStore.java
core/src/main/java/org/elasticsearch/common/blobstore/fs/FsBlobContainer.java
core/src/main/java/org/elasticsearch/common/blobstore/support/AbstractBlobContainer.java
core/src/test/java/org/elasticsearch/snapshots/BlobStoreFormatIT.java
plugins/repository-hdfs/src/main/java/org/elasticsearch/repositories/hdfs/HdfsBlobContainer.java
test/framework/src/main/java/org/elasticsearch/repositories/ESBlobStoreContainerTestCase.java
comments:
Clarify the semantics of the BlobContainer interface

This commit clarifies the behavior that must be adhered to by any
implementors of the BlobContainer interface.  This is done through
expanded Javadocs.

Closes #18157
Closes #15580

time:
2016-05-31T21:26:48Z
class:
comments:
Merge pull request #18670 from rjernst/save_eclipse

Build: Rework eclipse settings copy so it does not get automatically cleaned

time:
2016-05-31T21:20:21Z
class:
comments:
Build: Rework eclipse settings copy so it does not get automatically cleaned

Gradle has "rules" for certain task names, and clean is one of these.
When you run clean, it searches for any tasks named cleanX, and tries to
reverse engineer the X task. For eclipse, this means it finds
cleanEclipse, and internally runs it (but this does not show up as a
dependency of clean in tasks list!!). Since we added .settings as an
additional file to delete with cleanEclipse, this gets deleted when
running just "clean". It doesn't delete the other files because those
have their own clean methods, and dependencies are not followed in this
insanity. This change simply makes a separate task for cleaning eclipse
settings.

time:
2016-05-31T18:51:58Z
class:
core/src/main/java/org/elasticsearch/cache/recycler/PageCacheRecycler.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpChannelTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerTransportTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/transport/NettySizeHeaderFrameDecoderTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
test/framework/src/main/java/org/elasticsearch/cache/recycler/MockPageCacheRecycler.java
comments:
Remove thread pool from page cache recycler

The page cache recycler has a dependency on thread pool that was there
for historical reasons but is no longer needed. This commit removes this
now unneeded dependency.

Relates #18664

time:
2016-05-31T17:42:17Z
class:
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
comments:
Fix ConcurrentModificationException in ReplicaShardAllocator

time:
2016-05-31T16:36:04Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/IndicesRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/TransportLivenessAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/TransportShrinkAction.java
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/main/java/org/elasticsearch/client/IndicesAdminClient.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/NodeVersionAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/RebalanceOnlyWhenActiveAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ReplicaAfterPrimaryActiveAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/SameShardAllocationDecider.java
core/src/main/java/org/elasticsearch/common/network/NetworkModule.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/SegmentsStats.java
core/src/main/java/org/elasticsearch/index/fielddata/ScriptDocValues.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/ip/LegacyIpFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/LegacyIpIndexFieldData.java
core/src/main/java/org/elasticsearch/index/mapper/object/RootObjectMapper.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/LocalShardSnapshot.java
core/src/main/java/org/elasticsearch/index/shard/StoreRecovery.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryState.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestShrinkIndexAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/main/java/org/elasticsearch/script/ClassPermission.java
core/src/main/java/org/elasticsearch/search/DocValueFormat.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/BinaryRangeAggregator.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/shrink/TransportShrinkActionTests.java
core/src/test/java/org/elasticsearch/bootstrap/JarHellTests.java
core/src/test/java/org/elasticsearch/bwcompat/IpFieldBwCompatIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/ack/AckIT.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/ShardRoutingHelper.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceConfigurationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ExpectedShardSizeAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/NodeVersionAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java
core/src/test/java/org/elasticsearch/index/query/CommonTermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/shard/StoreRecoveryTests.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedTranslogIT.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
core/src/test/java/org/elasticsearch/indices/IndexingMemoryControllerTests.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerSingleNodeTests.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/range/BinaryRangeAggregatorTests.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/DateField.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/DateObject.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/DateObjectValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/GeoField.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/NumericField.java
modules/lang-expression/src/test/java/org/elasticsearch/script/expression/MoreExpressionTests.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Variables.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/OverloadTests.java
plugins/store-smb/src/test/java/org/elasticsearch/index/store/SmbMMapDirectoryTests.java
plugins/store-smb/src/test/java/org/elasticsearch/index/store/SmbSimpleFSDirectoryTests.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/EvilJarHellTests.java
test/framework/src/main/java/org/elasticsearch/index/store/EsBaseDirectoryTestCase.java
comments:
Merge branch 'master' into each

time:
2016-05-31T16:34:54Z
class:
core/src/main/java/org/elasticsearch/Version.java
comments:
Changed version back to 5.0.0

time:
2016-05-31T16:33:22Z
class:
core/src/main/java/org/elasticsearch/index/fielddata/ScriptDocValues.java
core/src/main/java/org/elasticsearch/script/ClassPermission.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/DateField.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/DateObject.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/DateObjectValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/GeoField.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/NumericField.java
modules/lang-expression/src/test/java/org/elasticsearch/script/expression/MoreExpressionTests.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Variables.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/OverloadTests.java
comments:
Merge pull request #18658 from rmuir/jodaTime

improve date api for expressions/painless fields

time:
2016-05-31T14:37:58Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/NodeVersionAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/RebalanceOnlyWhenActiveAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ReplicaAfterPrimaryActiveAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/SameShardAllocationDecider.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/ack/AckIT.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceConfigurationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ExpectedShardSizeAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/NodeVersionAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedTranslogIT.java
comments:
Remove custom iterators from RoutingNodes (#18615)

Contains a number of cleanups related to recent changes in RoutingNodes:

- PR #17821 (Immutable ShardRouting) changed RoutingNode to use a map indexed by ShardId to manage ShardRouting elements. This means that we can directly select the right ShardRouting without iterating over all elements. This lets us get rid of RoutingNodeIterator and all kind of iterations all over the place.
- Second cleanup is an extension of #18390 (Expose cluster state before reroute in RoutingAllocation instead of RoutingNodes). We should not reexpose RoutingTable in RoutingNodes and only use it in the constructor. This makes it clear that the RoutingTable is only used to construct the RoutingNodes and can diverge from it afterwards (only RoutingNodes is mutable).
- Remove AllocationService.applyNewNodes() (that is already done as part of construction of RoutingNodes)

time:
2016-05-31T14:33:38Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
comments:
Estimate shard size for shrinked indices (#18659)

When we shrink an index we can estimate the shards size for the primary
from the source index. This is important for allocation decisions since we
should try out best to ensure we have enough space on the node we shrink the
index.

time:
2016-05-31T14:28:03Z
class:
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/CommonTermsQueryBuilderTests.java
comments:
Treat zero token in `common` terms query as MatchNoDocsQuery

Currently we return `null` when the query in a common terms query has
zero tokens after analysis. It would be better if query builders
`toQuery()` would never return null and return a meaningful lucene
query instead. Since an ExtendedCommonTermsQuery with no terms gets
rewritten to a MatchNoDocsQuery later, it is enough to leave out the
check for zero tokens.

time:
2016-05-31T13:58:55Z
class:
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/SegmentsStats.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsIT.java
comments:
Merge pull request #18651 from mikemccand/remove_iw_max_memory_stat

Remove index_writer_max_memory stat from segment stats

time:
2016-05-31T13:43:16Z
class:
comments:
Update configuration.asciidoc

Correct configuration of `path.conf`

time:
2016-05-31T13:32:33Z
class:
core/src/main/java/org/elasticsearch/index/fielddata/ScriptDocValues.java
core/src/main/java/org/elasticsearch/script/ClassPermission.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/DateField.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/DateObject.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/DateObjectValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/GeoField.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/NumericField.java
modules/lang-expression/src/test/java/org/elasticsearch/script/expression/MoreExpressionTests.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Variables.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/OverloadTests.java
comments:
improve date api for expressions/painless fields

time:
2016-05-31T12:50:00Z
class:
core/src/main/java/org/elasticsearch/index/mapper/ip/LegacyIpFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/LegacyIpIndexFieldData.java
core/src/main/java/org/elasticsearch/search/DocValueFormat.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/BinaryRangeAggregator.java
core/src/test/java/org/elasticsearch/bwcompat/IpFieldBwCompatIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/range/BinaryRangeAggregatorTests.java
comments:
Make ip fields backward-compatible at query time. #18593

The fact that ip fields used a different doc values representation in 2.x causes
issues when querying 2.x and 5.0 indices in the same request. This changes 2.x
doc values on ip fields/2.x to be hidden behind binary doc values that use the
same encoding as 5.0. This way the coordinating node will be able to merge shard
responses that have different major versions.

One known issue is that this makes sorting/aggregating slower on ip fields for
indices that have been generated with elasticsearch 2.x.

time:
2016-05-31T10:29:29Z
class:
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/SegmentsStats.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsIT.java
comments:
Remove index_writer_max_memory stat from segment stats

time:
2016-05-31T09:51:10Z
class:
comments:
Added release notes for 5.0.0-alpha3

time:
2016-05-31T09:50:50Z
class:
comments:
Include shrink-index.asciidoc

time:
2016-05-31T09:31:52Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/TransportLivenessAction.java
comments:
Never trip circuit breaker in liveness request (#18627)

We don't want transport clients to disconnect due to circuit breakers
preventing the liveness request from executing.

Relates to #17951

time:
2016-05-31T08:41:44Z
class:
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/IndicesRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/ShrinkResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/shrink/TransportShrinkAction.java
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/main/java/org/elasticsearch/client/IndicesAdminClient.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java
core/src/main/java/org/elasticsearch/common/network/NetworkModule.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/LocalShardSnapshot.java
core/src/main/java/org/elasticsearch/index/shard/StoreRecovery.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryState.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestShrinkIndexAction.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/shrink/TransportShrinkActionTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/ShardRoutingHelper.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/shard/StoreRecoveryTests.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
core/src/test/java/org/elasticsearch/indices/IndexingMemoryControllerTests.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerSingleNodeTests.java
plugins/store-smb/src/test/java/org/elasticsearch/index/store/SmbMMapDirectoryTests.java
plugins/store-smb/src/test/java/org/elasticsearch/index/store/SmbSimpleFSDirectoryTests.java
test/framework/src/main/java/org/elasticsearch/index/store/EsBaseDirectoryTestCase.java
comments:
Add primitive to shrink an index into a single shard (#18270)

This adds a low level primitive operations to shrink an existing
index into a new index with a single shard. This primitive expects
all shards of the source index to allocated on a single node. Once the target index is initializing on the shrink node it takes a snapshot of the source index shards and copies all files into the target indices data folder. An [optimization](https://issues.apache.org/jira/browse/LUCENE-7300) coming in Lucene 6.1 will also allow for optional constant time copy if hard-links are supported by the filesystem. All mappings are merged into the new indexes metadata once the snapshots have been taken on the merge node.

To shrink an existing index all shards must be moved to a single node (one instance of each shard) and the index must be read-only:

```BASH
$ curl -XPUT 'http://localhost:9200/logs/_settings' -d '{
    "settings" : {
        "index.routing.allocation.require._name" : "shrink_node_name",
        "index.blocks.write" : true 
    }
}
```
once all shards are started on the shrink node. the new index can be created via:

```BASH
$ curl -XPUT 'http://localhost:9200/logs/_shrink/logs_single_shard' -d '{
    "settings" : {
        "index.codec" : "best_compression",
        "index.number_of_replicas" : 1
    }
}'
```

This API will perform all needed check before the new index is created and selects the shrink node based on the allocation of the source index. This call returns immediately, to monitor shrink progress the recovery API should be used since all copy operations are reflected in the recovery API with byte copy progress etc.

The shrink operation does not modify the source index, if a shrink operation should
be canceled or if the shrink failed, the target index can simply be deleted and
all resources are released.

time:
2016-05-31T07:08:36Z
class:
core/src/test/java/org/elasticsearch/bootstrap/JarHellTests.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/EvilJarHellTests.java
comments:
Merge pull request #18646 from rjernst/jarhell_evil_tests

Tests: Remove unnecessary evil jarhell tests

time:
2016-05-31T07:00:10Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/object/RootObjectMapper.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java
comments:
Process dynamic templates in order. #18638

When calling `findTemplateBuilder(context, currentFieldName, "text", null)`,
elasticsearch ignores all templates that have a `match_mapping_type` set since
no dynamic type is provided (the last parameter, which is null in that case).
So this should only be called _last_. Otherwise, if a path-based template
matches, it will have precedence over all type-based templates.

Closes #18625

time:
2016-05-31T04:39:56Z
class:
core/src/test/java/org/elasticsearch/bootstrap/JarHellTests.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/EvilJarHellTests.java
comments:
Tests: Remove unnecessary evil jarhell tests

We have 3 evil tests for jarhell. They have been failing in java 9
because of how evil they are. The first checks the leniency we add for
jarhell in the jdk itself. This is unecessary, since if the leniency
wasn't there, we would already be failing all jarhell checks. The second
is checking the compile version is compatible with the jdk. This is
simpler since we don't need to fake the java version: we know 1.7 should
be compatibile with both java 8 and 9, so we can use that as a constant.
Finally the last test checks if the java version system property is
broken. This is simply something we should not check, we have to trust
that java specifies it correctly, and again, if it was broken, all
jarhell checks would be broken.

time:
2016-05-30T23:22:14Z
class:
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCheck.java
core/src/main/java/org/elasticsearch/common/logging/Loggers.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/monitor/os/OsProbe.java
core/src/test/java/org/elasticsearch/action/support/nodes/TransportNodesActionTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
core/src/test/java/org/elasticsearch/search/basic/SearchWhileRelocatingIT.java
core/src/test/java/org/elasticsearch/search/suggest/SuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/phrase/NoisyChannelSpellCheckerTests.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/SuggestSearchTests.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/InstallPluginCommandTests.java
comments:
Merge branch 'master' into each

time:
2016-05-30T19:37:34Z
class:
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
comments:
testCorruptionOnNetworkLayerFinalizingRecovery should keep on trying to assign replicas

In rare cases it can reach the limit set by index.allocation.max_retries

time:
2016-05-30T15:22:03Z
class:
core/src/test/java/org/elasticsearch/search/basic/SearchWhileRelocatingIT.java
core/src/test/java/org/elasticsearch/search/suggest/SuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/phrase/NoisyChannelSpellCheckerTests.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/SuggestSearchTests.java
comments:
Improve phrase suggest test speed (#18633)

There is no reason to read the entire marvel hero file to test the features,
it might take several seconds to do so which is unnecessary.
This commit also splits SearchSuggestTests into core and modules/mustache 
also add @Nighlty to forbidden API to make sure we don't use it since they won't run in CI these days.

time:
2016-05-30T14:57:33Z
class:
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCheck.java
core/src/main/java/org/elasticsearch/common/logging/Loggers.java
core/src/main/java/org/elasticsearch/monitor/os/OsProbe.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/InstallPluginCommandTests.java
comments:
Do not use Lucene SuppressForbidden

Lucene SuppressForbidden is marked lucene.internal and should not be
used outside of Lucene. This commit removes the uses of this class
within Elasticsearch. Instead,
org.elasticsearch.common.SuppressForbidden should be used, which was
already the case in most places.

time:
2016-05-30T14:55:44Z
class:
core/src/main/java/org/elasticsearch/indices/IndicesService.java
comments:
No need to inject the ClusterService into IndicesService (#18639)

It's already available where it's needed.

time:
2016-05-30T13:26:20Z
class:
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/test/java/org/elasticsearch/action/support/nodes/TransportNodesActionTests.java
comments:
Fix filtering of node ids for TransportNodesAction (#18634)

* Fix filtering of node ids for TransportNodesAction

Don't mix up member variables  with local variables
in constructor.

closes #18618

time:
2016-05-30T09:57:42Z
class:
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
comments:
[TEST] mute testDeleteIndexStore test

Issue: https://github.com/elastic/elasticsearch/issues/18558

time:
2016-05-30T07:19:35Z
class:
comments:
Remove extra bin/ directory in bin folder

Recent changes adds an extra bin/ directory that contains Windows bat files in the normal Bin folder of elasticsearch. For exemple the script elasticsearch.bat is located in bin/bin/elasticsearch.bat instead of bin/elasticsearch.bat.

time:
2016-05-29T12:01:16Z
class:
comments:
Fix min. master nodes links in boostrap check docs

This commit fixes two links to the minimum master nodes configuration
section of the docs in the bootstrap check docs.

time:
2016-05-29T09:56:02Z
class:
comments:
Update bootstrap-checks.asciidoc

Fixed asciidoc

time:
2016-05-29T09:50:36Z
class:
comments:
Update configuring.asciidoc

Minor asciidoc changes

time:
2016-05-28T10:51:09Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
comments:
Merge pull request #18621 from rmuir/java.time

add java.time packages to painless whitelist

time:
2016-05-28T06:14:49Z
class:
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
comments:
Use at least 2 docs to see deleted docs

Closes #18623

time:
2016-05-28T00:41:31Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Compiler.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/ScriptImpl.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AStatement.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConditional.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBreak.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SCatch.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SContinue.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclaration.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDo.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIf.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIfElse.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SReturn.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SThrow.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STry.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SWhile.java
comments:
Added initial infrastructure to allow for each to be made.

time:
2016-05-27T20:50:38Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserBaseVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserVisitor.java
comments:
Added foreach in grammar.

time:
2016-05-27T19:07:27Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
comments:
add java.time packages to painless whitelist

time:
2016-05-27T17:57:50Z
class:
modules/percolator/src/main/java/org/elasticsearch/percolator/ExtractQueryTermsService.java
modules/percolator/src/test/java/org/elasticsearch/percolator/ExtractQueryTermsServiceTests.java
comments:
percolator: Don't bail query term extraction when a must clause contains an unsupported query, if there is at least one other must clause in a boolean query that can be extracted.

time:
2016-05-27T14:58:13Z
class:
comments:
Additional bootstrap check doc fixes

This commit fixes some additional poorly-formatted internal and external
links in the bootstrap check docs.

time:
2016-05-27T14:49:31Z
class:
comments:
Merge pull request #18616 from alexshadow007/patch-1

Update repository-gcs.asciidoc

time:
2016-05-27T14:44:58Z
class:
comments:
Update repository-gcs.asciidoc

Fixed link

time:
2016-05-27T13:43:19Z
class:
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/VersionValue.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
comments:
Fix translog replay multiple operations same doc

Modifying the translog replay to not replay again into the translog
introduced a bug for the case of multiple operations for the same
doc. Namely, since we were no longer updating the version map for each
operation, the second operation for a doc would be treated as a creation
instead of as an update. This commit fixes this bug by placing these
operations into version map. This commit includes a failing test case.

Relates #18611

time:
2016-05-27T13:37:20Z
class:
core/src/main/java/org/elasticsearch/common/rounding/DateTimeUnit.java
core/src/main/java/org/elasticsearch/common/rounding/TimeZoneRounding.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/DerivativePipelineAggregatorBuilder.java
core/src/test/java/org/elasticsearch/common/rounding/DateTimeUnitTests.java
core/src/test/java/org/elasticsearch/common/rounding/TimeZoneRoundingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/DateDerivativeIT.java
comments:
Merge pull request #18589: Improve TimeUnitRounding for edge cases and DST transitions

time:
2016-05-27T13:31:40Z
class:
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
comments:
Move DocStats under Engine to get more accurate numbers (#18587)

Today we pull doc stats from an index reader which might not reflect reality.
IndexWriter might have merged all deletes away but due to a missing refresh
the stats are completely off. This change pulls doc stats from the IndexWriter
directly instead of relying on refreshes to run regularly. Note: Buffered deletes
are still not visible until the segments are flushed to disk.

time:
2016-05-27T13:28:57Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryIT.java
comments:
Only fail relocation target shard if failing source shard is a primary (#18574)

If the relocation source fails during the relocation of a shard from one node to another, the
relocation target is currently failed as well. For replica shards this is not necessary,
however, as the actual shard recovery of the relocation target is done via the primary shard.

time:
2016-05-27T13:19:49Z
class:
comments:
Fix bootstrap check docs

This commit fixes some incorrect links in the bootstrap check docs.

time:
2016-05-27T13:18:11Z
class:
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/DateDerivativeIT.java
comments:
Adding tests for derivatives on date histogram aggregation with time zones

time:
2016-05-27T13:18:11Z
class:
core/src/main/java/org/elasticsearch/common/rounding/DateTimeUnit.java
core/src/main/java/org/elasticsearch/common/rounding/TimeZoneRounding.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/DerivativePipelineAggregatorBuilder.java
core/src/test/java/org/elasticsearch/common/rounding/DateTimeUnitTests.java
core/src/test/java/org/elasticsearch/common/rounding/TimeZoneRoundingTests.java
comments:
Improve TimeUnitRounding for edge cases and DST transitions

Our current testing for TimeUnitRoundings rounding() and nextRoundingValue()
methods that are used especially for date histograms lacked proper randomization
for time zones. We only did randomized tests for fixed offset time zones
(e.g. +01:00, -05:00) but didn't account for real world time zones with
DST transitions.

Adding those tests revealed a couple of problems with our current rounding logic.
In some cases, usually happening around those transitions, rounding a value down
could land on a value that itself is not a proper rounded value. Also sometimes
the nextRoundingValue would not line up properly with the rounded value of all
dates in the next unit interval.

This change improves the current rounding logic in TimeUnitRounding in two ways:
it makes sure that calling round(date) always returns a date that when rounded
again won't change (making round() idempotent) by handling special cases happening
during dst transitions by performing a second rounding. It also changes the
nextRoundingValue() method to itself rely on the round method to make sure we
always return rounded values for the unit interval boundaries.

Also adding tests for randomized TimeUnitRounding that assert important basic
properties the rounding values should have. For better understanding and readability
a few of the pathological edge cases are also added as a special test case.

time:
2016-05-27T12:51:19Z
class:
modules/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovySecurityTests.java
comments:
Upgrade joda-time to 2.9.4

This commit upgrades joda-time to version 2.9.4 to integrate a bug fix
there into Elasticsearch.

Relates #18609

time:
2016-05-27T12:40:38Z
class:
comments:
Revert "Revert "Update the minimum required version of gradle to 2.13""

This reverts commit 0b965167fd43a807d9dcaa43e876a5fac0ccf0cb.
All the CI machines have been updated to gradle 2.13, we should be ok upgrading the required minimum version.

time:
2016-05-27T11:41:45Z
class:
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhase.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightUtils.java
core/src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SourceScoreOrderFragmentsBuilder.java
core/src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SourceSimpleFragmentsBuilder.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TopHitsIT.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
comments:
Nested inner hits shouldn't use relative paths

Like on other places in the query dsl the full field name should be used.
Before this change this wasn't the case for nested inner hits when source filtering was used.
Highlighting has a workaround, which is now removed as the source of nested inner hits can only be refered by the full name.

Closes #16653

time:
2016-05-27T11:16:43Z
class:
comments:
Revert "Update the minimum required version of gradle to 2.13"

This reverts commit 8c6cbf0305156351a4d56950f96f7ff953d288eb. We need to update all our CI machines first, then get this change back in.

time:
2016-05-27T10:48:05Z
class:
plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3Repository.java
comments:
Fix log use_throttle_retries

time:
2016-05-27T10:35:00Z
class:
comments:
Merge pull request #18595 from javanna/enhancement/gradle_2.13

Update minimum gradle version and remove assumption around target compatibility

time:
2016-05-27T10:26:06Z
class:
comments:
Don't assume that we always compile for java 1.8 or 1.9

This change makes it possible to compile a separate project with e.g. targetCompatibility 1.7. Adds specific options (compact profile) only when compiling for >= 1.8.

time:
2016-05-27T10:26:06Z
class:
comments:
Update the minimum required version of gradle to 2.13

It came out with improvements around idea integration and language levels. This will make it possible to have the upcoming java client as a new project compiled against java 7 and have idea working on the right language level.

time:
2016-05-27T10:04:11Z
class:
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/InternalIndexingStats.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/index/translog/TranslogSnapshot.java
core/src/main/java/org/elasticsearch/indices/IndexingMemoryController.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
comments:
Do not replay into translog on local recovery

When performing a local recovery, the engine replays operations
recovered from the translog into the translog again. These duplicated
operations are eventually cleared after successful recovery on flush,
but there is no need to play these operations into the translog at
all. This commit modifies the local recovery process so as to not replay
these operations into the translog.

Relates #18547

time:
2016-05-27T10:03:35Z
class:
comments:
Add bootstrap check docs

This commit adds documentation for the bootstrap checks and provides
either links or inline guidance for setting the necessary settings to
pass the bootstrap checks.

Relates #18605

time:
2016-05-27T08:13:35Z
class:
core/src/main/java/org/apache/log4j/Java9Hack.java
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/ActionRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanation.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/ListTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStatsFlags.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/search/ParsedScrollId.java
core/src/main/java/org/elasticsearch/action/search/SearchDfsQueryAndFetchAsyncAction.java
core/src/main/java/org/elasticsearch/action/search/SearchDfsQueryThenFetchAsyncAction.java
core/src/main/java/org/elasticsearch/action/search/SearchQueryAndFetchAsyncAction.java
core/src/main/java/org/elasticsearch/action/search/SearchQueryThenFetchAsyncAction.java
core/src/main/java/org/elasticsearch/action/search/TransportSearchHelper.java
core/src/main/java/org/elasticsearch/action/support/TransportAction.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/bootstrap/Elasticsearch.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/cli/Command.java
core/src/main/java/org/elasticsearch/cli/SettingCommand.java
core/src/main/java/org/elasticsearch/client/Client.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/routing/DelayedAllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/FailedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/StartedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AbstractAllocateAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateEmptyPrimaryAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateReplicaAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommands.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/BasePrimaryAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/MoveAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/MaxRetryAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/service/ClusterService.java
core/src/main/java/org/elasticsearch/common/Base64.java
core/src/main/java/org/elasticsearch/common/RandomBasedUUIDGenerator.java
core/src/main/java/org/elasticsearch/common/TimeBasedUUIDGenerator.java
core/src/main/java/org/elasticsearch/common/blobstore/BlobPath.java
core/src/main/java/org/elasticsearch/common/joda/Joda.java
core/src/main/java/org/elasticsearch/common/logging/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java
core/src/main/java/org/elasticsearch/common/network/NetworkModule.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java
core/src/main/java/org/elasticsearch/common/xcontent/cbor/CborXContent.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContent.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/smile/SmileXContent.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/elect/ElectMasterService.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/analysis/CharMatcher.java
core/src/main/java/org/elasticsearch/index/analysis/FingerprintAnalyzer.java
core/src/main/java/org/elasticsearch/index/analysis/FingerprintAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StopTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/cache/IndexCache.java
core/src/main/java/org/elasticsearch/index/engine/CommitStats.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueryCache.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueryCacheStats.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/store/FsDirectoryService.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/index/translog/TranslogWriter.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
core/src/main/java/org/elasticsearch/ingest/core/CompoundProcessor.java
core/src/main/java/org/elasticsearch/ingest/core/IngestDocument.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
core/src/main/java/org/elasticsearch/plugins/ListPluginsCommand.java
core/src/main/java/org/elasticsearch/plugins/PluginCli.java
core/src/main/java/org/elasticsearch/plugins/RemovePluginCommand.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreFormat.java
core/src/main/java/org/elasticsearch/rest/BytesRestResponse.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/reroute/RestClusterRerouteAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/stats/RestIndicesStatsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/main/java/org/elasticsearch/rest/action/fieldstats/RestFieldStatsAction.java
core/src/main/java/org/elasticsearch/script/GeneralScriptException.java
core/src/main/java/org/elasticsearch/script/ScriptEngineRegistry.java
core/src/main/java/org/elasticsearch/script/ScriptException.java
core/src/main/java/org/elasticsearch/script/ScriptMetaData.java
core/src/main/java/org/elasticsearch/script/ScriptMode.java
core/src/main/java/org/elasticsearch/script/ScriptModes.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/script/ScriptSettings.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/fetch/matchedqueries/MatchedQueriesFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/highlight/CustomQueryScorer.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotInfo.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/main/java/org/elasticsearch/tasks/Task.java
core/src/main/java/org/elasticsearch/tasks/TaskManager.java
core/src/main/java/org/elasticsearch/tasks/TaskResult.java
core/src/main/java/org/elasticsearch/tasks/TaskResultsService.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransportChannel.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
core/src/test/java/org/apache/log4j/Java9HackTests.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanationTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/CancellableTasksTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TaskManagerTestCase.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TasksIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TestTaskPlugin.java
core/src/test/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequestTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIT.java
core/src/test/java/org/elasticsearch/action/bulk/TransportBulkActionTookTests.java
core/src/test/java/org/elasticsearch/action/ingest/SimulateExecutionServiceTests.java
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/master/TransportMasterNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/nodes/TransportNodesActionTests.java
core/src/test/java/org/elasticsearch/action/support/replication/BroadcastReplicationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportReplicationActionTests.java
core/src/test/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationActionTests.java
core/src/test/java/org/elasticsearch/bootstrap/ElasticsearchCliTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientIT.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientRetryIT.java
core/src/test/java/org/elasticsearch/cluster/NoMasterNodeIT.java
core/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java
core/src/test/java/org/elasticsearch/cluster/health/ClusterStateHealthTests.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AwarenessAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/DeadNodesAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ExpectedShardSizeAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/MaxRetryAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/NodeVersionAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ThrottlingAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/cluster/service/ClusterServiceTests.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsFilteringIT.java
core/src/test/java/org/elasticsearch/cluster/shards/ClusterSearchShardsIT.java
core/src/test/java/org/elasticsearch/cluster/structure/RoutingIteratorTests.java
core/src/test/java/org/elasticsearch/common/Base64Tests.java
core/src/test/java/org/elasticsearch/common/blobstore/BlobPathTests.java
core/src/test/java/org/elasticsearch/common/joda/DateMathParserTests.java
core/src/test/java/org/elasticsearch/common/logging/LoggingConfigurationTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunctionTests.java
core/src/test/java/org/elasticsearch/common/rounding/TimeZoneRoundingTests.java
core/src/test/java/org/elasticsearch/common/settings/ScopedSettingsTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsTests.java
core/src/test/java/org/elasticsearch/common/unit/TimeValueTests.java
core/src/test/java/org/elasticsearch/common/xcontent/BaseXContentTestCase.java
core/src/test/java/org/elasticsearch/common/xcontent/builder/XContentBuilderTests.java
core/src/test/java/org/elasticsearch/deps/joda/SimpleJodaTests.java
core/src/test/java/org/elasticsearch/discovery/ZenFaultDetectionTests.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/gateway/PrimaryShardAllocatorTests.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpRequestSizeLimitIT.java
core/src/test/java/org/elasticsearch/http/netty/NettyPipeliningDisabledIT.java
core/src/test/java/org/elasticsearch/http/netty/NettyPipeliningEnabledIT.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/SettingsListenerIT.java
core/src/test/java/org/elasticsearch/index/analysis/CharMatcherTests.java
core/src/test/java/org/elasticsearch/index/analysis/FingerprintAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineMergeIT.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingDisabledTests.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/boost/FieldLevelBoostTests.java
core/src/test/java/org/elasticsearch/index/mapper/compound/CompoundTypesTests.java
core/src/test/java/org/elasticsearch/index/mapper/copyto/CopyToMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/internal/TypeFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/TypeFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
core/src/test/java/org/elasticsearch/index/mapper/nested/NestedMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/simple/SimpleMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/StringFieldMapperPositionIncrementGapTests.java
core/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterIT.java
core/src/test/java/org/elasticsearch/index/percolator/PercolatorQueryCacheTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractTermQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/BoostingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/CommonTermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ExistsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FuzzyQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeohashCellQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IndicesQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchAllQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchNoneQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchPhrasePrefixQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchPhraseQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MultiMatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NestedQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ParentIdQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/PrefixQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryDSLDocumentationTests.java
core/src/test/java/org/elasticsearch/index/query/QueryShardContextTests.java
core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RandomQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RegexpQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ScriptQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanContainingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanFirstQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNearQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNotQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanOrQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanWithinQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TypeQueryBuilderTests.java
comments:
Merge branch 'master' into pr/update-aws-sdk

time:
2016-05-27T08:13:16Z
class:
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/AwsS3Service.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/InternalAwsS3Service.java
plugins/repository-s3/src/main/java/org/elasticsearch/plugin/repository/s3/S3RepositoryPlugin.java
plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3Repository.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/TestAwsS3Service.java
comments:
Fix after review

* changes `throttle_retries` to `use_throttle_retries`
* removes registering of all individual repository settings when the plugin starts. Not needed
* adds more comment about deprecated method in AWS SDK we need to implement though in a Delegate class within our tests

time:
2016-05-27T06:44:20Z
class:
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TasksIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TestTaskPlugin.java
core/src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIT.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientRetryIT.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsFilteringIT.java
core/src/test/java/org/elasticsearch/cluster/shards/ClusterSearchShardsIT.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpRequestSizeLimitIT.java
core/src/test/java/org/elasticsearch/http/netty/NettyPipeliningDisabledIT.java
core/src/test/java/org/elasticsearch/http/netty/NettyPipeliningEnabledIT.java
core/src/test/java/org/elasticsearch/index/SettingsListenerIT.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineMergeIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsIT.java
core/src/test/java/org/elasticsearch/options/detailederrors/DetailedErrorsDisabledIT.java
core/src/test/java/org/elasticsearch/options/detailederrors/DetailedErrorsEnabledIT.java
core/src/test/java/org/elasticsearch/plugins/ResponseHeaderPluginIT.java
core/src/test/java/org/elasticsearch/rest/CorsNotSetIT.java
core/src/test/java/org/elasticsearch/rest/CorsRegexIT.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScorePluginIT.java
core/src/test/java/org/elasticsearch/search/highlight/CustomHighlighterSearchIT.java
core/src/test/java/org/elasticsearch/snapshots/AbstractSnapshotIntegTestCase.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortIntegrationIT.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
core/src/test/java/org/elasticsearch/ttl/SimpleTTLIT.java
plugins/discovery-azure/src/test/java/org/elasticsearch/discovery/azure/AzureDiscoveryClusterFormationTests.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryClusterFormationTests.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoverTests.java
plugins/repository-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreServiceIntegTests.java
plugins/repository-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreTests.java
test/framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
test/framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
test/framework/src/test/java/org/elasticsearch/test/test/InternalTestClusterTests.java
comments:
Introduce dedicated master nodes in testing infrastructure (#18514)

This PR changes the InternalTestCluster to support dedicated master nodes. The creation of dedicated master nodes can be controlled using a new `supportsMasterNodes` parameter to the ClusterScope annotation. If set to true (the default), dedicated master nodes will randomly be used. If set to false,  no master nodes will be created and data nodes will also be allowed to become masters. If active, test runs will either have 1 or 3 masternodes

time:
2016-05-26T23:49:13Z
class:
core/src/main/java/org/elasticsearch/action/ActionRequest.java
core/src/main/java/org/elasticsearch/action/support/TransportAction.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/tasks/Task.java
core/src/main/java/org/elasticsearch/tasks/TaskManager.java
core/src/main/java/org/elasticsearch/tasks/TaskResult.java
core/src/main/java/org/elasticsearch/tasks/TaskResultsService.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TasksIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TestTaskPlugin.java
comments:
Add ability to store results for long running tasks

The results of the tasks are stored in a special index .results

time:
2016-05-26T21:51:34Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java
core/src/main/java/org/elasticsearch/script/GeneralScriptException.java
core/src/main/java/org/elasticsearch/script/ScriptException.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunctionTests.java
core/src/test/java/org/elasticsearch/script/ScriptContextTests.java
core/src/test/java/org/elasticsearch/script/ScriptExceptionTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionExecutableScript.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionSearchScript.java
modules/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionTests.java
modules/lang-expression/src/test/java/org/elasticsearch/script/expression/MoreExpressionTests.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
modules/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovySecurityTests.java
modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MustacheScriptEngineService.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Compiler.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Executable.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/ScriptImpl.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Writer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ANode.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConditional.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LArrayLength.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewObj.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBreak.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SCatch.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SContinue.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclaration.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDo.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIf.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIfElse.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SReturn.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SThrow.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STry.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SWhile.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/CompoundAssignmentTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOperationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOptimizationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DivisionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/OverloadTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/RemainderTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ScriptTestCase.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/StringTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/TryCatchTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
comments:
Merge pull request #18600 from rmuir/new_script_exception

replace ScriptException with a better one

time:
2016-05-26T20:16:22Z
class:
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicAPITests.java
comments:
Add an update script equivalent test.

time:
2016-05-26T19:03:42Z
class:
comments:
Remove a leftover "es." prefix from docs

This commit removes a leftover usage of the "es." in the CLI syntax in
the zip/targz docs.

time:
2016-05-26T19:03:13Z
class:
core/src/main/java/org/elasticsearch/script/ScriptService.java
comments:
move instanceof to catch block

time:
2016-05-26T18:46:09Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
core/src/main/java/org/elasticsearch/plugins/RemovePluginCommand.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
core/src/test/java/org/elasticsearch/tribe/TribeServiceTests.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/EvilSecurityTests.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/RemovePluginCommandTests.java
comments:
Merge pull request #18594 from jasontedor/plugins-cleanup

Plugins cleanup

time:
2016-05-26T18:10:32Z
class:
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
comments:
Fix when plugins directory is symlink

This commit fixes an issue with the plugins directory being a symbolic
link. Namely, the install plugins command attempts to always create the
plugins directory just in case it does not exist. The JDK method used
here guarantees that the directory is created, and an exception is not
thrown if the directory could not be created because it already
exists. The problem is that this JDK method does not respect symlinks so
its internal existence checks fails, it proceeds to attempt to create
the directory, but the directory creation fails because the symlink
exists. This is documented as being not an issue. We work around this by
checking if there is a symlink where we expect the plugins directory to
be, and only attempt to create if not. We add a unit test that plugin
installation to a symlinked plugins directory works as expected.

time:
2016-05-26T17:01:43Z
class:
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
comments:
Fix ReplicaShardAllocatorTests when unassigned reason is ALLOCATION_FAILED

When mocking unassigned shards which have failed with reason ALLOCATION_FAILED we
have to ensure that the failed allocation counter is strictly positive.

time:
2016-05-26T16:27:34Z
class:
comments:
Merge pull request #18601 from rjernst/distribution_readme

Use license, notice and readme files from root for distributions

time:
2016-05-26T16:19:38Z
class:
comments:
Build: Use license, notice and readme files from root for distributions

The distributions had their own copies of these extra files, which was a
carry over from maven. This change removes the duplicate files and
copies them from the root of the project.

closes #18597

time:
2016-05-26T16:12:31Z
class:
comments:
Merge pull request #18599 from rjernst/remove_extraneous_readme

Remove extra mostly duplicate readme file

time:
2016-05-26T15:54:35Z
class:
comments:
Remove extra mostly duplicate readme file

It looks like the readme was duplicated when plugins were merged back
into the repo. We removed all these extra files from the plugins, this
removes the remaining duplicate from core.

closes #18597

time:
2016-05-26T15:43:29Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java
core/src/main/java/org/elasticsearch/script/GeneralScriptException.java
core/src/main/java/org/elasticsearch/script/ScriptException.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunctionTests.java
core/src/test/java/org/elasticsearch/script/ScriptContextTests.java
core/src/test/java/org/elasticsearch/script/ScriptExceptionTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionExecutableScript.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionSearchScript.java
modules/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionTests.java
modules/lang-expression/src/test/java/org/elasticsearch/script/expression/MoreExpressionTests.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
modules/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovySecurityTests.java
modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MustacheScriptEngineService.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Compiler.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Executable.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/ScriptImpl.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Writer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ANode.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConditional.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LArrayLength.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewObj.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBreak.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SCatch.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SContinue.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclaration.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDo.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIf.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIfElse.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SReturn.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SThrow.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STry.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SWhile.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/CompoundAssignmentTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOperationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOptimizationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DivisionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/OverloadTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/RemainderTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ScriptTestCase.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/StringTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/TryCatchTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
comments:
replace ScriptException with a better one

time:
2016-05-26T15:32:10Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessLexer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserBaseVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/package-info.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/FunctionRefTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ScoreTests.java
comments:
Merge pull request #18578 from jdconrad/ref

Add Function Reference Stub to Painless

time:
2016-05-26T14:16:25Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
core/src/test/java/org/elasticsearch/tribe/TribeServiceTests.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/EvilSecurityTests.java
comments:
Remove custom plugins path

This commit removes the ability to specify a custom plugins
path. Instead, the plugins path will always be a subdirectory called
"plugins" off of the home directory.

time:
2016-05-26T14:14:39Z
class:
core/src/main/java/org/elasticsearch/plugins/RemovePluginCommand.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/RemovePluginCommandTests.java
comments:
Fix plugin command name in remove plugin command

This commit fixes the name of the plugin command that is output when a
user attempts to remove a plugin that does not exist.

time:
2016-05-26T14:06:59Z
class:
comments:
Merge pull request #18590 from mikemccand/index_queue_limit_docs

Document the hard limits from on index and bulk thread pool sizes

time:
2016-05-26T13:40:22Z
class:
comments:
Document the hard limits from #15585 on index and bulk thread pool sizes

time:
2016-05-26T11:39:55Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanation.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/routing/DelayedAllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/FailedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/StartedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateEmptyPrimaryAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/service/ClusterService.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
test/framework/src/main/java/org/elasticsearch/test/ESAllocationTestCase.java
comments:
Simplify delayed shard allocation (#18351)

This commit simplifies the delayed shard allocation implementation by assigning clear responsibilities to the various components that are affected by delayed shard allocation:

- UnassignedInfo gets a boolean flag delayed which determines whether assignment of the shard should be delayed. The flag gets persisted in the cluster state and is thus available across nodes, i.e. each node knows whether a shard was delayed-unassigned in a specific cluster state. Before, nodes other than the current master were unaware of that information.
- This flag is initially set as true if the shard becomes unassigned due to a node leaving and the index setting index.unassigned.node_left.delayed_timeout being strictly positive. From then on, unassigned shards can only transition from delayed to non-delayed, never in the other direction.
- The reroute step is in charge of removing the delay marker (comparing timestamp when node left to current timestamp).
- A dedicated service DelayedAllocationService, reacting to cluster change events, has the responsibility to schedule reroutes to remove the delay marker.

Closes #18293

time:
2016-05-26T08:07:38Z
class:
test/framework/src/main/java/org/elasticsearch/search/aggregations/bucket/script/NativeSignificanceScoreScriptNoParams.java
test/framework/src/main/java/org/elasticsearch/search/aggregations/bucket/script/NativeSignificanceScoreScriptWithParams.java
test/framework/src/main/java/org/elasticsearch/search/aggregations/bucket/script/TestScript.java
comments:
Validate parameters of native sig score scripts so that we know which ones are not set.

time:
2016-05-25T22:07:46Z
class:
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
comments:
Merge pull request #18581 from rjernst/staging_plugins

Plugins: Changing staging property to be the hash instead of a boolean

time:
2016-05-25T21:47:12Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/index/analysis/StopTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/store/FsDirectoryService.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
core/src/test/java/org/elasticsearch/index/query/QueryDSLDocumentationTests.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/matchedqueries/MatchedQueriesIT.java
core/src/test/java/org/elasticsearch/search/profile/query/RandomQueryGenerator.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
core/src/test/java/org/elasticsearch/search/sort/GeoDistanceSortBuilderIT.java
core/src/test/java/org/elasticsearch/validate/SimpleValidateQueryIT.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuCollationTokenFilterFactory.java
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/AttachmentMapper.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/InstallPluginCommandTests.java
test/framework/src/main/java/org/elasticsearch/common/io/PathUtilsForTesting.java
test/framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
test/framework/src/main/java/org/elasticsearch/test/store/MockFSDirectoryService.java
comments:
Merge branch 'master' into staging_plugins

time:
2016-05-25T21:44:56Z
class:
comments:
Update usage of es.staging.plugins sysprop to pass build hash

time:
2016-05-25T21:42:24Z
class:
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/InstallPluginCommandTests.java
comments:
Merge pull request #18583 from rjernst/official_plugins

Use resource files for list of modules and plugins

time:
2016-05-25T21:38:10Z
class:
qa/evil-tests/src/test/java/org/elasticsearch/plugins/InstallPluginCommandTests.java
comments:
Remove unused line in official plugins test.

time:
2016-05-25T21:23:57Z
class:
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/InstallPluginCommandTests.java
comments:
Add test that x-pack is in official plugins list

time:
2016-05-25T21:21:33Z
class:
qa/evil-tests/src/test/java/org/elasticsearch/plugins/InstallPluginCommandTests.java
comments:
Add test for official plugins list being sorted

time:
2016-05-25T21:15:36Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/index/analysis/StopTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/store/FsDirectoryService.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/test/java/org/elasticsearch/index/query/QueryDSLDocumentationTests.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/matchedqueries/MatchedQueriesIT.java
core/src/test/java/org/elasticsearch/search/profile/query/RandomQueryGenerator.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
core/src/test/java/org/elasticsearch/search/sort/GeoDistanceSortBuilderIT.java
core/src/test/java/org/elasticsearch/validate/SimpleValidateQueryIT.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuCollationTokenFilterFactory.java
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/AttachmentMapper.java
test/framework/src/main/java/org/elasticsearch/common/io/PathUtilsForTesting.java
test/framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
test/framework/src/main/java/org/elasticsearch/test/store/MockFSDirectoryService.java
comments:
Remove deprecation suppression

Failing the build on deprecation warnings was removed in
19b3ec88af95166fd654ce2f8d62a1f9b473ba8f. This commit removes the
suppressed deprecation warnings so that their use is surfaced in the
build now.

Relates #18582

time:
2016-05-25T20:55:17Z
class:
comments:
Merge pull request #18580 from rjernst/buildsrc_ide

Build: Remove buildSrc as a project in IDEs

time:
2016-05-25T20:42:24Z
class:
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
comments:
Plugins: use resource files for list of modules and plugins

This adds modules.txt and plugins.txt to the core jar resource files,
which the install plugin command statically loads, in place of the
previously hardcoded lists (which have often gone out of date).

time:
2016-05-25T19:36:31Z
class:
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
comments:
Plugins: Changing staging property to be the hash instead of a boolean

With the unified release, we will have staged releases based on a
unified hash (hash of all the hashes), so using the elasticsearch hash
for plugins staging will no longer work. This change makes the
`es.plugins.staging` property take the staging hash it should use.

time:
2016-05-25T19:20:39Z
class:
modules/ingest-grok/src/main/java/org/elasticsearch/ingest/grok/GrokProcessor.java
modules/ingest-grok/src/test/java/org/elasticsearch/ingest/grok/GrokProcessorFactoryTests.java
modules/ingest-grok/src/test/java/org/elasticsearch/ingest/grok/GrokProcessorTests.java
comments:
add ability to specify multiple grok patterns (#18074)

- now you can specify a list of grok patterns to match your field with
and the first one to successfully match wins.
- only non-null captures will be inserted into your matched document.

Fixes #17903.

time:
2016-05-25T19:08:57Z
class:
comments:
Build: Remove buildSrc as a project in IDEs

We have have a virtual build-tools project which pulls in all the same
IDE settings we have for other projects, so there is no longer a need
for hacking buildSrc into our IDEs.

time:
2016-05-25T18:46:27Z
class:
comments:
Merge pull request #18579 from rjernst/ignore_deprecation

Build: ignore deprecation warnings

time:
2016-05-25T18:41:40Z
class:
comments:
Build: ignore deprecation warnings

We currently fail on any deprecations found during the build. However,
this includes things deprecated within ES, which adds a heavy burden in
order to deprecate apis (requring to add suppressions to all internal
callers of the API).

This change adds `-deprecation` to xlint. We should consider in the
future having a task to "see" what deprecated apis we currently use for
analysis.

time:
2016-05-25T17:34:21Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessLexer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserBaseVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EFunctionRef.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/package-info.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/FunctionRefTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ScoreTests.java
comments:
Add method reference stub to Painless.

time:
2016-05-25T16:57:13Z
class:
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/internal/TypeFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/TypeFieldTypeTests.java
comments:
Merge pull request #18220 from jimferenczi/_type_doc_values

Make doc_values accessible for _type

time:
2016-05-25T16:56:13Z
class:
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/internal/TypeFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/TypeFieldTypeTests.java
comments:
Make doc_values accessible for _type

`doc_values` for _type field are created but any attempt to load them throws an IAE.

This PR re-enables `doc_values` loading for _type, it also enables `fielddata` loading for indices created between 2.0 and 2.1 since doc_values were disabled during that period.

It also restores the old docs that gives example on how to sort or aggregate on _type field.

time:
2016-05-25T15:44:13Z
class:
modules/lang-painless/src/test/java/org/elasticsearch/painless/ScoreTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ScriptTestCase.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
comments:
Merge pull request #18560 from rjernst/score_tests

Tests: Make painless score tests unit tests

time:
2016-05-25T14:49:08Z
class:
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/elect/ElectMasterService.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
comments:
Log warning if minimum_master_nodes is set to less than a quorum of master-eligible nodes (#15625)

The setting minimum_master_nodes is crucial to avoid split brains in a cluster. In order to avoid data loss, it should always be configured to at least a quorum (majority) of master-eligible nodes.

This commit adds a warning to the logs on the master node if the value is set to less than quorum of master-eligible nodes.

time:
2016-05-25T14:46:09Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/ListTasksResponse.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java
core/src/main/java/org/elasticsearch/common/xcontent/cbor/CborXContent.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContent.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/smile/SmileXContent.java
core/src/main/java/org/elasticsearch/rest/action/fieldstats/RestFieldStatsAction.java
core/src/main/java/org/elasticsearch/script/ScriptMetaData.java
core/src/test/java/org/elasticsearch/common/xcontent/BaseXContentTestCase.java
core/src/test/java/org/elasticsearch/common/xcontent/builder/XContentBuilderTests.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/boost/FieldLevelBoostTests.java
core/src/test/java/org/elasticsearch/index/mapper/compound/CompoundTypesTests.java
core/src/test/java/org/elasticsearch/index/mapper/copyto/CopyToMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
core/src/test/java/org/elasticsearch/index/mapper/nested/NestedMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/simple/SimpleMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/StringFieldMapperPositionIncrementGapTests.java
core/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterIT.java
core/src/test/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/similarity/SimilarityTests.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregatorParsingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ParentIdAggIT.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/morelikethis/MoreLikeThisIT.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
core/src/test/java/org/elasticsearch/search/suggest/ContextSuggestSearch2xIT.java
core/src/test/java/org/elasticsearch/search/suggest/completion/GeoContextMappingTests.java
core/src/test/java/org/elasticsearch/similarity/SimilarityIT.java
core/src/test/java/org/elasticsearch/timestamp/SimpleTimestampIT.java
core/src/test/java/org/elasticsearch/ttl/SimpleTTLIT.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/EquivalenceTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchFieldsTests.java
modules/percolator/src/test/java/org/elasticsearch/percolator/MultiPercolatorIT.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorQuerySearchIT.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/SimpleAttachmentMapperTests.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/SizeMappingIT.java
comments:
Disable XContent auto closing of object and arrays

time:
2016-05-25T14:28:34Z
class:
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/test/java/org/elasticsearch/common/settings/SettingTests.java
comments:
Remove inaccurate Javadoc on Setting constructor

The 'Setting' constructor has some outdated Javadoc that suggested that it would automatically apply 'Property.NodeScope' if no scope is supplied, but no scope is added in that case.

time:
2016-05-25T09:51:28Z
class:
core/src/main/java/org/elasticsearch/index/translog/Translog.java
comments:
Drop 1.x BWC and cut over to Writeable for Translog.Operation (#18565)

We still maintain BWC for the translog operations back to 1.1 which is not
supported in the current version anyway. This commit drops the bwc and moves
the operations to the Writeable interface enforcing immutability.

time:
2016-05-25T09:35:59Z
class:
core/src/main/java/org/elasticsearch/search/highlight/CustomQueryScorer.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/highlight/PlainHighlighterTests.java
comments:
Merge pull request #18495 from brwe/geo-query-highlight-II

skip all geo point queries in plain highlighter

time:
2016-05-25T09:02:11Z
class:
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageServiceImpl.java
comments:
Fix comment and rename blob_container to blobContainer

time:
2016-05-25T08:53:04Z
class:
core/src/main/java/org/apache/log4j/Java9Hack.java
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanation.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStatsFlags.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/search/ParsedScrollId.java
core/src/main/java/org/elasticsearch/action/search/SearchDfsQueryAndFetchAsyncAction.java
core/src/main/java/org/elasticsearch/action/search/SearchDfsQueryThenFetchAsyncAction.java
core/src/main/java/org/elasticsearch/action/search/SearchQueryAndFetchAsyncAction.java
core/src/main/java/org/elasticsearch/action/search/SearchQueryThenFetchAsyncAction.java
core/src/main/java/org/elasticsearch/action/search/TransportSearchHelper.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/bootstrap/Elasticsearch.java
core/src/main/java/org/elasticsearch/cli/Command.java
core/src/main/java/org/elasticsearch/cli/SettingCommand.java
core/src/main/java/org/elasticsearch/client/Client.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/FailedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/StartedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AbstractAllocateAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateEmptyPrimaryAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateReplicaAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommands.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/BasePrimaryAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/MoveAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/MaxRetryAllocationDecider.java
core/src/main/java/org/elasticsearch/common/Base64.java
core/src/main/java/org/elasticsearch/common/RandomBasedUUIDGenerator.java
core/src/main/java/org/elasticsearch/common/TimeBasedUUIDGenerator.java
core/src/main/java/org/elasticsearch/common/blobstore/BlobPath.java
core/src/main/java/org/elasticsearch/common/joda/Joda.java
core/src/main/java/org/elasticsearch/common/logging/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/network/NetworkModule.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/analysis/CharMatcher.java
core/src/main/java/org/elasticsearch/index/analysis/FingerprintAnalyzer.java
core/src/main/java/org/elasticsearch/index/analysis/FingerprintAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/cache/IndexCache.java
core/src/main/java/org/elasticsearch/index/engine/CommitStats.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueryCache.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueryCacheStats.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/translog/TranslogWriter.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
core/src/main/java/org/elasticsearch/ingest/core/CompoundProcessor.java
core/src/main/java/org/elasticsearch/ingest/core/IngestDocument.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
core/src/main/java/org/elasticsearch/plugins/ListPluginsCommand.java
core/src/main/java/org/elasticsearch/plugins/PluginCli.java
core/src/main/java/org/elasticsearch/plugins/RemovePluginCommand.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreFormat.java
core/src/main/java/org/elasticsearch/rest/BytesRestResponse.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/reroute/RestClusterRerouteAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/stats/RestIndicesStatsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/main/java/org/elasticsearch/script/ScriptEngineRegistry.java
core/src/main/java/org/elasticsearch/script/ScriptMode.java
core/src/main/java/org/elasticsearch/script/ScriptModes.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/script/ScriptSettings.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/fetch/matchedqueries/MatchedQueriesFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotInfo.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransportChannel.java
core/src/test/java/org/apache/log4j/Java9HackTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanationTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/CancellableTasksTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TaskManagerTestCase.java
core/src/test/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequestTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteTests.java
core/src/test/java/org/elasticsearch/action/bulk/TransportBulkActionTookTests.java
core/src/test/java/org/elasticsearch/action/ingest/SimulateExecutionServiceTests.java
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/master/TransportMasterNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/nodes/TransportNodesActionTests.java
core/src/test/java/org/elasticsearch/action/support/replication/BroadcastReplicationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportReplicationActionTests.java
core/src/test/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationActionTests.java
core/src/test/java/org/elasticsearch/bootstrap/ElasticsearchCliTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientIT.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientRetryIT.java
core/src/test/java/org/elasticsearch/cluster/NoMasterNodeIT.java
core/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java
core/src/test/java/org/elasticsearch/cluster/health/ClusterStateHealthTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AwarenessAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/DeadNodesAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ExpectedShardSizeAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/MaxRetryAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/NodeVersionAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ThrottlingAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/cluster/service/ClusterServiceTests.java
core/src/test/java/org/elasticsearch/cluster/structure/RoutingIteratorTests.java
core/src/test/java/org/elasticsearch/common/Base64Tests.java
core/src/test/java/org/elasticsearch/common/blobstore/BlobPathTests.java
core/src/test/java/org/elasticsearch/common/joda/DateMathParserTests.java
core/src/test/java/org/elasticsearch/common/logging/LoggingConfigurationTests.java
core/src/test/java/org/elasticsearch/common/rounding/TimeZoneRoundingTests.java
core/src/test/java/org/elasticsearch/common/settings/ScopedSettingsTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsTests.java
core/src/test/java/org/elasticsearch/common/unit/TimeValueTests.java
core/src/test/java/org/elasticsearch/deps/joda/SimpleJodaTests.java
core/src/test/java/org/elasticsearch/discovery/ZenFaultDetectionTests.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/gateway/PrimaryShardAllocatorTests.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpRequestSizeLimitIT.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/CharMatcherTests.java
core/src/test/java/org/elasticsearch/index/analysis/FingerprintAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingDisabledTests.java
core/src/test/java/org/elasticsearch/index/percolator/PercolatorQueryCacheTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractTermQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/BoostingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/CommonTermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ExistsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FuzzyQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeohashCellQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IndicesQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchAllQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchNoneQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchPhrasePrefixQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchPhraseQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MultiMatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NestedQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ParentIdQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/PrefixQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryDSLDocumentationTests.java
core/src/test/java/org/elasticsearch/index/query/QueryShardContextTests.java
core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RandomQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RegexpQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ScriptQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanContainingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanFirstQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNearQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNotQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanOrQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanWithinQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TypeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WildcardQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/indices/IndicesOptionsIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateIT.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreTests.java
core/src/test/java/org/elasticsearch/ingest/IngestClientIT.java
core/src/test/java/org/elasticsearch/ingest/PipelineExecutionServiceTests.java
core/src/test/java/org/elasticsearch/ingest/core/CompoundProcessorTests.java
core/src/test/java/org/elasticsearch/ingest/processor/DateProcessorFactoryTests.java
core/src/test/java/org/elasticsearch/ingest/processor/TrackingResultProcessorTests.java
core/src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/rest/BytesRestResponseTests.java
core/src/test/java/org/elasticsearch/script/FileScriptTests.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptContextTests.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/script/ScriptSettingsTests.java
core/src/test/java/org/elasticsearch/search/SearchModuleTests.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregatorParsingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/BaseAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/BasePipelineAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateRangeIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateRangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateScriptMocks.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TopHitsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/highlight/HighlightBuilderTests.java
core/src/test/java/org/elasticsearch/search/preference/SearchPreferenceIT.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
core/src/test/java/org/elasticsearch/search/rescore/QueryRescoreBuilderTests.java
core/src/test/java/org/elasticsearch/search/scroll/SearchScrollIT.java
core/src/test/java/org/elasticsearch/search/sort/AbstractSortTestCase.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearch2xIT.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearchIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/MockRepository.java
core/src/test/java/org/elasticsearch/threadpool/ScalingThreadPoolTests.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
comments:
Merge branch 'master' into azure/fix-delete

time:
2016-05-25T08:02:14Z
class:
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
comments:
Expand wildcards to closed indices in /_cat/indices (#18545)

Closed indices are already displayed when no indices are explicitly selected. This commit ensures that closed indices are also shown when wildcard filtering is used. It also addresses another issue that is caused by the fact that the cat action is based internally on 3 different cluster states (one when we query the cluster state to get all indices, one when we query cluster health, and one when we query indices stats). We currently fail the cat request when the user specifies a concrete index as parameter that does not exist. The implementation works as intended in that regard. It checks this not only for the first cluster state request, but also the subsequent indices stats one. This means that if the index is deleted before the cat action has queried the indices stats, it rightfully fails. In case the user provides wildcards (or no parameter at all), however, we fail the indices stats as we pass the resolved concrete indices to the indices stats request and fail to distinguish whether these indices have been resolved by wildcards or explicitly requested by the user. This means that if an index has been deleted before the indices stats request gets to execute, we fail the overall cat request. The fix is to let the indices stats request do the resolving again and not pass the concrete indices.

Closes #16419
Closes #17395

time:
2016-05-25T07:36:07Z
class:
modules/reindex/src/main/java/org/elasticsearch/index/reindex/DeleteByQueryRequest.java
comments:
Makes DeleteByQueryRequest implements CompositeIndicesRequest

time:
2016-05-25T05:32:50Z
class:
comments:
fix simulate spec test for new exception handling (#18564)

time:
2016-05-25T02:53:50Z
class:
modules/lang-painless/src/test/java/org/elasticsearch/painless/ScoreTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ScriptTestCase.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
comments:
Tests: Make score tests unit tests

This change simply removes the need for single node tests from score
tests.

time:
2016-05-24T23:48:53Z
class:
comments:
Fix smoke test RC plugin installation

This commit fixes the smoke test RC plugin installation command to set
the es.plugins.staging system properly correctly.

time:
2016-05-24T23:46:08Z
class:
comments:
Fix plugin installation command

This commit fixes the plugin installation command produced by the
release candidate driver.

time:
2016-05-24T21:25:40Z
class:
core/src/main/java/org/elasticsearch/ingest/core/CompoundProcessor.java
core/src/test/java/org/elasticsearch/action/ingest/SimulateExecutionServiceTests.java
core/src/test/java/org/elasticsearch/ingest/IngestClientIT.java
core/src/test/java/org/elasticsearch/ingest/PipelineExecutionServiceTests.java
core/src/test/java/org/elasticsearch/ingest/core/CompoundProcessorTests.java
core/src/test/java/org/elasticsearch/ingest/processor/TrackingResultProcessorTests.java
comments:
Expose underlying processor to blame for thrown exception within CompoundProcessor (#18342)

Fixes #17823

time:
2016-05-24T21:03:25Z
class:
comments:
Fix list of poi dependencies for ingest-attachment

This commit fixes the list of poi dependencies for the ingest-attachment
plugin after they were upgraded in
1d40c4bbc1f8c3414cfc64a30e08ab097aed19d4.

time:
2016-05-24T20:55:55Z
class:
core/src/main/java/org/elasticsearch/node/Node.java
comments:
Log OS and JVM on startup

This commit adds the OS and JVM to the initial logline on startup.

Relates #18557

time:
2016-05-24T20:51:20Z
class:
comments:
Merge pull request #18556 from rjernst/package_versions

Build: Use dash for deb package version and underscore for rpm

time:
2016-05-24T19:44:22Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsResponse.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreFormat.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotInfo.java
comments:
Removes multiple toXContent entry points for SnapshotInfo

SnapshotInfo had a toXContent and an externalToXContent, the former for
writing snapshot info to the snapshot blob and the latter for writing the
snapshot info to the APIs. This commit unifies writing x-content to one
method, toXContent, which distinguishes which format to write the
snapshot info in based on the Params parameter.  In addition, it makes
use of the already existing snapshot specific params found in the
BlobStoreFormat.

Closes #18494

time:
2016-05-24T19:11:13Z
class:
comments:
Build: Use dash for deb package version and underscore for rpm

This change tweaks the metadata version associated with the deb and rpm
packages. For rpm, dashes are allowed in versions, so we can use the
version as it already exists. For rpm, dashes are not allowed, so this
uses underscores instead. This only affects prerelease versions (eg
alpha/beta/rc), and usually someone doesn't specify the version, so the
inconsistency doesn't matter that much.

time:
2016-05-24T18:06:21Z
class:
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
comments:
Test for deadlock when relocating and indexing concurrently

see #18553

Reproduces with

gradle :core:integTest -Dtests.class=org.elasticsearch.recovery.RelocationIT -Dtests.method="testIndexAndRelocateConcurrently"  -Dtests.iters=20 -Dtests.failfast=true -Dtests.logger.level=DEBUG -Dtests.seed=9BE7064B819064FA:C44B70F31707D081 -Dtests.timeoutSuite=60000!

time:
2016-05-24T17:25:16Z
class:
comments:
s/tests.logger.level/tests.es.logger.level/

This is a leftover spot that wasn't changed. It was breaking
ClusterSettingsIT#ClusterSettingsIT because that test expected
the test's log level to default to the default logger level for
the nodes.

time:
2016-05-24T16:15:52Z
class:
comments:
Add wait for yellow to doc snippet so it runs cleanly

Found by http://build-us-00.elastic.co/job/es_core_master_window-2008/3866/console

time:
2016-05-24T16:02:55Z
class:
modules/reindex/src/test/java/org/elasticsearch/index/reindex/RetryTests.java
comments:
Add retry test case for delete-by-query

Tests that we retry failed searches, scrolls, and bulks.

time:
2016-05-24T15:59:05Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequestBuilder.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AbstractAllocateAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateReplicaAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommands.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/BasePrimaryAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/MoveAllocationCommand.java
core/src/main/java/org/elasticsearch/common/network/NetworkModule.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/reroute/RestClusterRerouteAction.java
core/src/test/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequestTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteTests.java
comments:
Move parsing of allocation commands into REST

Port them to the ObjectParser.

Don't let plugins register custom allocation commands

time:
2016-05-24T15:26:36Z
class:
core/src/test/java/org/elasticsearch/common/unit/TimeValueTests.java
comments:
Add test for parsing fractional seconds

This commit adds a test that ensures that strings containing a
fractional number of seconds are correctly parsed into milliseconds.

Relates #18548

time:
2016-05-24T15:17:27Z
class:
comments:
Docs: Replace [source,json] with [source,js]

The syntax highlighter only supports [source,js].

Also adds a check to the rest test generator that runs during
the build that'll fail the build if it sees `[source,json]`.

time:
2016-05-24T14:46:05Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
comments:
Set version to 5.0.0-alpha3 (#18550)

* Set version to 5.0.0-alpha3

* Updated version in qa/backwards tests too

time:
2016-05-24T11:28:20Z
class:
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryAction.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequest.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequestBuilder.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryResponse.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/IndexDeleteByQueryResponse.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryAction.java
plugins/delete-by-query/src/main/java/org/elasticsearch/plugin/deletebyquery/DeleteByQueryPlugin.java
plugins/delete-by-query/src/main/java/org/elasticsearch/rest/action/deletebyquery/RestDeleteByQueryAction.java
plugins/delete-by-query/src/test/java/org/elasticsearch/action/deletebyquery/IndexDeleteByQueryResponseTests.java
plugins/delete-by-query/src/test/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryActionTests.java
plugins/delete-by-query/src/test/java/org/elasticsearch/plugin/deletebyquery/DeleteByQueryTests.java
plugins/delete-by-query/src/test/java/org/elasticsearch/plugin/deletebyquery/test/rest/DeleteByQueryRestIT.java
comments:
Remove Delete-By-Query plugin

closes #18469

time:
2016-05-24T10:47:21Z
class:
comments:
Merge pull request #18544 from MaineC/docs/add_autosense_to_query_dsl

Add back doc execution to query dsl.

time:
2016-05-24T10:43:41Z
class:
comments:
Add back doc execution to query dsl.

Relates to #18211

This reverts commit 20aafb1196192d4f9f7faea8ce9a36b278e501a1.

time:
2016-05-24T10:14:36Z
class:
comments:
Merge pull request #18424 from MaineC/docs/add_console_to_highlighting

Docs/add console to highlighting

time:
2016-05-24T09:01:57Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/client/Client.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/common/network/NetworkModule.java
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/CancellableTasksTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TaskManagerTestCase.java
core/src/test/java/org/elasticsearch/action/bulk/TransportBulkActionTookTests.java
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/master/TransportMasterNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/nodes/TransportNodesActionTests.java
core/src/test/java/org/elasticsearch/action/support/replication/BroadcastReplicationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportReplicationActionTests.java
core/src/test/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationActionTests.java
core/src/test/java/org/elasticsearch/cluster/NoMasterNodeIT.java
core/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java
core/src/test/java/org/elasticsearch/cluster/health/ClusterStateHealthTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/service/ClusterServiceTests.java
core/src/test/java/org/elasticsearch/discovery/ZenFaultDetectionTests.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingDisabledTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractTermQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/BoostingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/CommonTermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ExistsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FuzzyQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeohashCellQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IndicesQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchAllQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchNoneQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchPhrasePrefixQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchPhraseQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MultiMatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NestedQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ParentIdQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/PrefixQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RandomQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RegexpQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ScriptQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanContainingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanFirstQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNearQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNotQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanOrQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanWithinQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TypeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WildcardQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/indices/IndicesOptionsIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreTests.java
core/src/test/java/org/elasticsearch/search/SearchModuleTests.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregatorParsingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/BaseAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/BasePipelineAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TopHitsTests.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearch2xIT.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearchIT.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
modules/percolator/src/main/java/org/elasticsearch/percolator/ExtractQueryTermsService.java
modules/percolator/src/main/java/org/elasticsearch/percolator/MultiPercolateAction.java
modules/percolator/src/main/java/org/elasticsearch/percolator/MultiPercolateRequest.java
modules/percolator/src/main/java/org/elasticsearch/percolator/MultiPercolateRequestBuilder.java
modules/percolator/src/main/java/org/elasticsearch/percolator/MultiPercolateResponse.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolateAction.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolateQuery.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolateQueryBuilder.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolateRequest.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolateRequestBuilder.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolateResponse.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolateSourceBuilder.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolatorFieldMapper.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolatorHighlightSubFetchPhase.java
modules/percolator/src/main/java/org/elasticsearch/percolator/PercolatorPlugin.java
modules/percolator/src/main/java/org/elasticsearch/percolator/RestMultiPercolateAction.java
modules/percolator/src/main/java/org/elasticsearch/percolator/RestPercolateAction.java
modules/percolator/src/main/java/org/elasticsearch/percolator/TransportMultiPercolateAction.java
modules/percolator/src/main/java/org/elasticsearch/percolator/TransportPercolateAction.java
modules/percolator/src/test/java/org/elasticsearch/percolator/ExtractQueryTermsServiceTests.java
modules/percolator/src/test/java/org/elasticsearch/percolator/MultiPercolatorIT.java
modules/percolator/src/test/java/org/elasticsearch/percolator/MultiPercolatorRequestTests.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolateQueryBuilderTests.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolateQueryTests.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorAggregationsIT.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorBackwardsCompatibilityTests.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorFieldMapperTests.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorHighlightSubFetchPhaseTests.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorQuerySearchIT.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorRestIT.java
modules/percolator/src/test/java/org/elasticsearch/percolator/PercolatorTestUtil.java
test/framework/src/main/java/org/elasticsearch/test/AbstractQueryTestCase.java
test/framework/src/main/java/org/elasticsearch/test/ClusterServiceUtils.java
test/framework/src/main/java/org/elasticsearch/test/IndexSettingsModule.java
test/framework/src/main/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
comments:
Moved the percolator from core to its own module

Significant changes:
* AbstractQueryTestCase has moved to the test framework module, in order for query builder tests in modules and plugins
* Added support to AbstractQueryTestCase to register plugins
* Lift the restriction that only one percolator could be added per index. This validation existed in MapperService, but because the percolator moved to a module it could no longer exist there. Instead of bringing it back it was removed. This validation existed since the percolator cache only supported one percolator query per document, since the percolator cache has been removed this restriction could removed as well.
* While moving percolator tests to the new module, also removed a couple of tests for the deprecated percolate and mpercolate api. These APIs are now sugar  APIs for bwc and rediect to the searvh and msearvh APIs. Some tests were still testing as if percolate and mpercolate API did the percolation, but this no longer the case and these tests could be removed.

time:
2016-05-24T04:11:31Z
class:
modules/lang-painless/src/test/java/org/elasticsearch/painless/TryCatchTests.java
comments:
Merge pull request #18538 from rmuir/painless_test_try_catch

painless: add trap tests

time:
2016-05-24T03:36:40Z
class:
modules/lang-painless/src/test/java/org/elasticsearch/painless/TryCatchTests.java
comments:
painless: add trap tests

time:
2016-05-24T00:40:45Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicAPITests.java
comments:
Merge pull request #18533 from rmuir/painless_more_whitelisting

improve painless whitelist coverage of java api

time:
2016-05-24T00:35:44Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Analyzer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Compiler.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/CompilerSettings.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngineService.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Variables.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessLexer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserBaseVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ALink.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ANode.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AStatement.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBool.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBoolean.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConditional.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConstant.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EDecimal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EExplicit.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENull.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENumeric.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LArrayLength.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewObj.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LStatic.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LString.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LVariable.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBreak.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SCatch.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SContinue.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclaration.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDo.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIf.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIfElse.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SReturn.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SThrow.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STry.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SWhile.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/package-info.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/NoSemiColonTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ScriptTestCase.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/antlr/ParserTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/CancelTests.java
test/framework/src/main/java/org/elasticsearch/test/ESTestCase.java
test/framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
test/framework/src/main/java/org/elasticsearch/test/junit/listeners/ReproduceInfoPrinter.java
comments:
Merge branch 'master' into painless_more_whitelisting

time:
2016-05-24T00:11:54Z
class:
modules/reindex/src/test/java/org/elasticsearch/index/reindex/CancelTests.java
test/framework/src/main/java/org/elasticsearch/test/ESTestCase.java
comments:
Merge pull request #18532 from rjernst/less_assert_busy

Tests: Remove unnecessary Callable variant of assertBusy

time:
2016-05-23T23:39:52Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Analyzer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Compiler.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/CompilerSettings.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngineService.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Variables.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessLexer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserBaseVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ALink.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ANode.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AStatement.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBool.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBoolean.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConditional.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConstant.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EDecimal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EExplicit.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENull.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENumeric.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LArrayLength.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewObj.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LStatic.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LString.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LVariable.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBreak.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SCatch.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SContinue.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclaration.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDo.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIf.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIfElse.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SReturn.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SThrow.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STry.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SWhile.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/package-info.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/NoSemiColonTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ScriptTestCase.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/antlr/ParserTests.java
comments:
Remove Painless grammar ambiguities.

Closes #18531

time:
2016-05-23T23:38:21Z
class:
test/framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
test/framework/src/main/java/org/elasticsearch/test/junit/listeners/ReproduceInfoPrinter.java
comments:
Remove support for -Des.* system properties in integration tests

This now requires that system properties passed to Gradle must be in the form of "-Dtests.es.*" instead of
"-Des.*". It then chops off "tests.es." and passes that as a "-E" property to Elasticsearch.

Also changed system properties:

- `tests.logger.level` became `tests.es.logger.level`
- `node.mode` became `tests.es.node.mode`
- `node.local` became `tests.es.node.local`

time:
2016-05-23T23:35:28Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicAPITests.java
comments:
improve painless whitelist coverage of java api

time:
2016-05-23T23:17:43Z
class:
modules/reindex/src/test/java/org/elasticsearch/index/reindex/CancelTests.java
test/framework/src/main/java/org/elasticsearch/test/ESTestCase.java
comments:
Tests: Remove unnecessary Callable variant of assertBusy

The assertBusy method currently has both a Runnable and Callable
version. This has caused confusion with type inference and lambdas
sometimes, in particular with java 9. This change removes the callable
version as nothing was actually using it.

time:
2016-05-23T20:44:59Z
class:
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateScriptMocks.java
comments:
Remove unnecessary boxing and use of deprecated Double ctors

time:
2016-05-23T19:52:19Z
class:
comments:
Merge pull request #18527 from rjernst/java9_release

Build: Use -release with java 9 instead of -source/-target

time:
2016-05-23T19:51:01Z
class:
comments:
Build: Use -release with java 9 instead of -source/-target

This uses the new -release flag for javac which does not require setting
the bootclasspath as -source/-target did.

time:
2016-05-23T18:55:25Z
class:
comments:
Remove travis configuration file

This commit removes the Travis configuration file as it's out-of-date.

Relates #18525

time:
2016-05-23T18:47:22Z
class:
test/framework/src/main/java/org/elasticsearch/test/ExternalNode.java
comments:
Cleanup settings and system properties entanglement

This commit cleans up some additional places where system properties
were being used to pass settings to Elasticsearch.

Relates #18524

time:
2016-05-23T18:38:40Z
class:
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractAsyncBulkByScrollAction.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexTestCase.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/RetryTests.java
comments:
Rerwite RetryTests to very carefully block the executors

This reproduces every time. No more randomness! Hurray!

time:
2016-05-23T18:38:40Z
class:
modules/reindex/src/test/java/org/elasticsearch/index/reindex/RetryTests.java
comments:
[reindex] Retry the retry test if it didn't cause retries

The retry test has failed a couple of times in CI because it wasn't able
to cause any retries. Putting it in a bash `while` loop shows that it
eventually does fail that way. The seed "4F6477A9C999CA20" seems especially
good at failing to get retries. It doesn't fail all the time, but more
than most.

This adds a retry to each test case, retrying a maximum of 10 times or
until it causes the retries. I've seen it fail to get retries 7 times
in a row but not go beyond that. Retrying doesn't seem to really hurt
the test runtime all that much. Most of the time is in the startup
cost.

Failing CI build that triggered this:
https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+periodic/852/console

time:
2016-05-23T18:28:11Z
class:
comments:
Remove stale transport mode instructions from docs

This commit removes some stale instructions for setting the transport
mode via an environment variable from the testing docs.

time:
2016-05-23T15:43:16Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanation.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanationTests.java
comments:
Merge remote-tracking branch 'dakrone/explain-add-fetch-in-progress'

time:
2016-05-23T15:42:57Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanation.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanationTests.java
comments:
Add whether the shard state fetch is pending to the allocation explain API

If the shard state fetch is still pending, this will now return a
message like:

```json
{
  "shard" : {
    "index" : "i",
    "index_uuid" : "de1W1374T4qgvUP4a9Ieaw",
    "id" : 0,
    "primary" : false
  },
  "assigned" : false,
  "shard_state_fetch_pending": true,
  "unassigned_info" : {
    "reason" : "INDEX_CREATED",
    "at" : "2016-04-26T16:34:53.227Z"
  },
  "allocation_delay_ms" : 0,
  "remaining_delay_ms" : 0,
  "nodes" : {
    "z-CbkiELT-SoWT91HIszLA" : {
      "node_name" : "Brain Cell",
      "node_attributes" : {
        "testattr" : "test"
      },
      "store" : {
        "shard_copy" : "NONE"
      },
      "final_decision" : "NO",
      "final_explanation" : "the shard state fetch is pending",
      "weight" : 5.0,
      "decisions" : [ ]
    }
  }
}
```

Adds the `shard_state_fetch_pending` field and uses the state to
influence the final decision and final explanation.

Relates to #17372

time:
2016-05-23T13:27:19Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/SettingsModule.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataMappingServiceTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsModuleTests.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
comments:
Merge branch 'master' into docs/add_console_to_search

time:
2016-05-23T10:27:38Z
class:
core/src/main/java/org/elasticsearch/common/joda/Joda.java
core/src/test/java/org/elasticsearch/common/joda/DateMathParserTests.java
core/src/test/java/org/elasticsearch/deps/joda/SimpleJodaTests.java
comments:
Merge pull request #18509 from terradatum/epoch

Support full range of Java Long for epoch DateTime

time:
2016-05-23T10:17:42Z
class:
test/framework/src/main/java/org/elasticsearch/test/rest/parser/RestTestSuiteParser.java
test/framework/src/main/java/org/elasticsearch/test/rest/spec/RestApi.java
test/framework/src/main/java/org/elasticsearch/test/rest/spec/RestApiParser.java
test/framework/src/main/java/org/elasticsearch/test/rest/spec/RestSpec.java
test/framework/src/test/java/org/elasticsearch/test/rest/test/RestApiParserFailingTests.java
test/framework/src/test/java/org/elasticsearch/test/rest/test/RestApiParserTests.java
comments:
prevent registration of duplicated rest spec (#18504)

Rather than having one win against the other, reject duplicated apis. Also enforce the convention that see the api name have the same name as the name of the rest spec file that defines it.

time:
2016-05-23T09:32:42Z
class:
core/src/main/java/org/elasticsearch/action/search/ParsedScrollId.java
core/src/main/java/org/elasticsearch/action/search/SearchDfsQueryAndFetchAsyncAction.java
core/src/main/java/org/elasticsearch/action/search/SearchDfsQueryThenFetchAsyncAction.java
core/src/main/java/org/elasticsearch/action/search/SearchQueryAndFetchAsyncAction.java
core/src/main/java/org/elasticsearch/action/search/SearchQueryThenFetchAsyncAction.java
core/src/main/java/org/elasticsearch/action/search/TransportSearchHelper.java
core/src/main/java/org/elasticsearch/common/Base64.java
core/src/main/java/org/elasticsearch/common/RandomBasedUUIDGenerator.java
core/src/main/java/org/elasticsearch/common/TimeBasedUUIDGenerator.java
core/src/main/java/org/elasticsearch/index/engine/CommitStats.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
core/src/main/java/org/elasticsearch/ingest/core/IngestDocument.java
core/src/test/java/org/elasticsearch/common/Base64Tests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/search/scroll/SearchScrollIT.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchFieldsTests.java
plugins/delete-by-query/src/test/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryActionTests.java
plugins/ingest-attachment/src/test/java/org/elasticsearch/ingest/attachment/AttachmentProcessorTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MultifieldAttachmentMapperTests.java
comments:
Remove custom Base64 implementation. #18413

This replaces o.e.common.Base64 with java.util.Base64.

time:
2016-05-23T08:50:40Z
class:
core/src/main/java/org/elasticsearch/common/blobstore/BlobPath.java
core/src/test/java/org/elasticsearch/common/blobstore/BlobPathTests.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/MockRepository.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/blobstore/AzureBlobContainer.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/blobstore/AzureBlobStore.java
plugins/repository-gcs/src/main/java/org/elasticsearch/common/blobstore/gcs/GoogleCloudStorageBlobContainer.java
plugins/repository-gcs/src/main/java/org/elasticsearch/common/blobstore/gcs/GoogleCloudStorageBlobStore.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/blobstore/S3BlobContainer.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/blobstore/S3BlobStore.java
comments:
Change BlobPath.buildAsString() method

time:
2016-05-23T08:31:14Z
class:
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractAsyncBulkByScrollAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/UpdateByQueryRequestBuilder.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/AsyncBulkByScrollActionTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/CancelTestUtils.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/CancelTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/DeleteByQueryCancelTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexCancelTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/UpdateByQueryCancelTests.java
comments:
Update reindex cancel tests

time:
2016-05-23T08:11:35Z
class:
core/src/main/java/org/elasticsearch/index/analysis/CharMatcher.java
core/src/test/java/org/elasticsearch/index/analysis/CharMatcherTests.java
comments:
Add `Character.MODIFIER_SYMBOL` to the list of symbol categories. #18402

Closes #18388

time:
2016-05-23T08:03:44Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/test/java/org/elasticsearch/cluster/structure/RoutingIteratorTests.java
core/src/test/java/org/elasticsearch/search/preference/SearchPreferenceIT.java
comments:
Merge pull request #18483 from jimferenczi/fix_only_nodes

Fix _only_nodes preferences

time:
2016-05-23T07:44:52Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/test/java/org/elasticsearch/cluster/structure/RoutingIteratorTests.java
core/src/test/java/org/elasticsearch/search/preference/SearchPreferenceIT.java
comments:
Fixes for _only_nodes preferences:
  * Handle multiple attributes/name (coma separated).
  * Shuffle the nodes that match the preferences.

Fix #12546
Fix #12700

time:
2016-05-23T06:56:40Z
class:
core/src/main/java/org/elasticsearch/search/fetch/matchedqueries/MatchedQueriesFetchSubPhase.java
comments:
Speed up named queries. #18470

Named queries have a performance bug when they are used with expensive queries
that need to perform a lot of work up-front like fuzzy or range queries
(including with points). The reason is that they currently re-create the weight
and scorer for every hit. Instead we should create weights exactly once and
use a single Scorer for all documents that are on the same segment.

time:
2016-05-22T22:43:45Z
class:
comments:
Merge pull request #18512 from uschindler/forbiddenapis-2.1-update

Update to forbiddenapis 2.1

time:
2016-05-22T21:11:37Z
class:
comments:
Update to forbiddenapis 2.1

time:
2016-05-22T20:50:31Z
class:
comments:
docs: fix typo

time:
2016-05-22T20:42:19Z
class:
core/src/main/java/org/elasticsearch/index/percolator/ExtractQueryTermsService.java
core/src/test/java/org/elasticsearch/index/percolator/ExtractQueryTermsServiceTests.java
comments:
percolator: Add support dor MatchNoDocsQuery in query terms extract service

Before the query extraction would have been aborted and the percolator query would be marked as unknown.
This resulted in a situation that these queries always need to be evaluated by the memory index at search time.
By adding support for this query many more percolator query candidate hits can skip the expensive memory index verification step. For example the `match` query parser returns a MatchNoDocsQuery if the query terms are removed by text analysis (lets query text only contained stop words).

time:
2016-05-22T20:08:20Z
class:
core/src/main/java/org/elasticsearch/common/joda/Joda.java
core/src/test/java/org/elasticsearch/common/joda/DateMathParserTests.java
core/src/test/java/org/elasticsearch/deps/joda/SimpleJodaTests.java
comments:
Support full range of Java Long for epoch DateTime

Remove the arbitrary limit on epoch_millis and epoch_seconds of 13 and 10
characters, respectively. Instead allow any character combination that can
be converted to a Java Long.

Update the docs to reflect this change.

time:
2016-05-22T05:58:55Z
class:
comments:
Fix git info lookup to use correct dir where git exists

time:
2016-05-22T01:26:28Z
class:
modules/reindex/src/test/java/org/elasticsearch/index/reindex/AsyncBulkByScrollActionTests.java
comments:
Fix line-length violations in ABBSAT.java

This commit fixes line-length violations in
AsyncBulkByScrollActionTests.java.

time:
2016-05-22T01:04:43Z
class:
core/src/main/java/org/apache/log4j/Java9Hack.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStatsFlags.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/bootstrap/Elasticsearch.java
core/src/main/java/org/elasticsearch/cli/Command.java
core/src/main/java/org/elasticsearch/cli/SettingCommand.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/FailedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/StartedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateEmptyPrimaryAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/FilterAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/MaxRetryAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ShardsLimitAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/SnapshotInProgressAllocationDecider.java
core/src/main/java/org/elasticsearch/common/logging/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/rounding/DateTimeUnit.java
core/src/main/java/org/elasticsearch/common/rounding/TimeZoneRounding.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/settings/SettingsModule.java
core/src/main/java/org/elasticsearch/common/unit/Fuzziness.java
core/src/main/java/org/elasticsearch/common/util/BloomFilter.java
core/src/main/java/org/elasticsearch/common/util/iterable/Iterables.java
core/src/main/java/org/elasticsearch/env/ESFileStore.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisRegistry.java
core/src/main/java/org/elasticsearch/index/analysis/FingerprintAnalyzer.java
core/src/main/java/org/elasticsearch/index/analysis/FingerprintAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/cache/IndexCache.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/StringFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/TermBasedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper2x.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/KeywordFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyByteFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDoubleFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyFloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyIntegerFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyLongFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyNumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyShortFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TextFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/BaseGeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SeqNoFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/LegacyIpFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorHighlightSubFetchPhase.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueryCache.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueryCacheStats.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/PercolateQuery.java
core/src/main/java/org/elasticsearch/index/query/PercolateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/search/MatchQuery.java
core/src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/translog/TranslogWriter.java
core/src/main/java/org/elasticsearch/indices/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveriesCollection.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTargetService.java
core/src/main/java/org/elasticsearch/ingest/processor/SortProcessor.java
core/src/main/java/org/elasticsearch/monitor/MonitorService.java
core/src/main/java/org/elasticsearch/monitor/fs/FsInfo.java
core/src/main/java/org/elasticsearch/monitor/fs/FsProbe.java
core/src/main/java/org/elasticsearch/monitor/fs/FsService.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmGcMonitorService.java
core/src/main/java/org/elasticsearch/node/NodeModule.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
core/src/main/java/org/elasticsearch/plugins/ListPluginsCommand.java
core/src/main/java/org/elasticsearch/plugins/PluginCli.java
core/src/main/java/org/elasticsearch/plugins/RemovePluginCommand.java
core/src/main/java/org/elasticsearch/rest/BytesRestResponse.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/reroute/RestClusterRerouteAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/stats/RestIndicesStatsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/main/java/org/elasticsearch/script/AbstractDoubleSearchScript.java
core/src/main/java/org/elasticsearch/script/AbstractLongSearchScript.java
core/src/main/java/org/elasticsearch/script/AbstractSearchScript.java
core/src/main/java/org/elasticsearch/script/LeafSearchScript.java
core/src/main/java/org/elasticsearch/script/NativeScriptFactory.java
core/src/main/java/org/elasticsearch/script/ScriptEngineRegistry.java
core/src/main/java/org/elasticsearch/script/ScriptMode.java
core/src/main/java/org/elasticsearch/script/ScriptModes.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/script/ScriptSettings.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilders.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
core/src/main/java/org/elasticsearch/search/aggregations/Aggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/children/ChildrenAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoGridAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/global/GlobalAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/AbstractHistogramBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/missing/MissingAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/missing/MissingParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/AbstractRangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/DateRangeAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/DateRangeParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ip/IpRangeAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ip/IpRangeParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedSamplerParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/SamplerAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/UnmappedSignificantTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/AbstractTermsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/support/IncludeExclude.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/avg/AvgAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/avg/AvgParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/GeoBoundsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/GeoBoundsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/GeoCentroidAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/GeoCentroidParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/max/MaxAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/max/MaxParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/min/MinAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/min/MinParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractPercentilesParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/StatsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/StatsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/ExtendedStatsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/ExtendedStatsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/sum/SumAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/sum/SumParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/ValueCountAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/ValueCountParser.java
core/src/main/java/org/elasticsearch/search/aggregations/support/AbstractValuesSourceParser.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchResponse.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/profile/AbstractProfileBreakdown.java
core/src/main/java/org/elasticsearch/search/profile/ProfileResult.java
core/src/main/java/org/elasticsearch/search/profile/ProfileShardResult.java
core/src/main/java/org/elasticsearch/search/profile/Profilers.java
core/src/main/java/org/elasticsearch/search/profile/SearchProfileShardResults.java
core/src/main/java/org/elasticsearch/search/profile/query/CollectorResult.java
core/src/main/java/org/elasticsearch/search/profile/query/InternalProfileCollector.java
core/src/main/java/org/elasticsearch/search/profile/query/InternalQueryProfileTree.java
core/src/main/java/org/elasticsearch/search/profile/query/ProfileCollector.java
core/src/main/java/org/elasticsearch/search/profile/query/ProfileScorer.java
core/src/main/java/org/elasticsearch/search/profile/query/ProfileWeight.java
core/src/main/java/org/elasticsearch/search/profile/query/QueryProfileBreakdown.java
core/src/main/java/org/elasticsearch/search/profile/query/QueryProfiler.java
core/src/main/java/org/elasticsearch/search/profile/query/QueryTimingType.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransportChannel.java
core/src/test/java/org/apache/log4j/Java9HackTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteTests.java
core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java
core/src/test/java/org/elasticsearch/bootstrap/ElasticsearchCliTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientIT.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientRetryIT.java
core/src/test/java/org/elasticsearch/cluster/DiskUsageTests.java
core/src/test/java/org/elasticsearch/cluster/ack/AckClusterUpdateSettingsIT.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataMappingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AwarenessAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/DeadNodesAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ExpectedShardSizeAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/MaxRetryAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/NodeVersionAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ThrottlingAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/common/blobstore/FsBlobStoreContainerTests.java
core/src/test/java/org/elasticsearch/common/blobstore/FsBlobStoreTests.java
core/src/test/java/org/elasticsearch/common/logging/LoggingConfigurationTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunctionTests.java
core/src/test/java/org/elasticsearch/common/rounding/DateTimeUnitTests.java
core/src/test/java/org/elasticsearch/common/rounding/TimeZoneRoundingTests.java
core/src/test/java/org/elasticsearch/common/settings/ScopedSettingsTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsModuleTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsTests.java
core/src/test/java/org/elasticsearch/common/unit/FuzzinessTests.java
core/src/test/java/org/elasticsearch/common/util/iterable/IterablesTests.java
core/src/test/java/org/elasticsearch/gateway/PrimaryShardAllocatorTests.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpRequestSizeLimitIT.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisServiceTests.java
core/src/test/java/org/elasticsearch/index/analysis/FingerprintAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/mapper/DocumentFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java
comments:
Merge branch 'master' into feature/seq_no

* master: (158 commits)
  Document the hack
  Refactor property placeholder use of env. vars
  Force java9 log4j hack in testing
  Fix log4j buggy java version detection
  Make java9 work again
  Don't mkdir directly in deb init script
  Fix env. var placeholder test so it's reproducible
  Remove ScriptMode class in favor of boolean true/false
  [rest api spec] fix doc urls
  Netty request/response tracer should wait for send
  Filter client/server VM options from jvm.options
  [rest api spec] fix url for reindex api docs
  Remove use of a Fields class in snapshot responses that contains x-content keys, in favor of declaring/using the keys directly.
  Limit retries of failed allocations per index (#18467)
  Proxy box method to use valueOf.
  Use the build-in valueOf method instead of the custom one.
  Fixed tests and added a comment to the box method.
  Fix boxing.
  Do not decode path when sending error
  Fix race condition in snapshot initialization
  ...

time:
2016-05-21T21:22:10Z
class:
core/src/main/java/org/apache/log4j/Java9Hack.java
core/src/main/java/org/elasticsearch/common/logging/LogConfigurator.java
core/src/test/java/org/apache/log4j/Java9HackTests.java
core/src/test/java/org/elasticsearch/common/logging/LoggingConfigurationTests.java
core/src/test/java/org/elasticsearch/threadpool/ScalingThreadPoolTests.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionSearchScript.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
test/framework/src/main/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
test/framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
test/framework/src/test/java/org/elasticsearch/test/test/SuiteScopeClusterIT.java
test/framework/src/test/java/org/elasticsearch/test/test/TestScopeClusterIT.java
comments:
Merge pull request #18496 from rjernst/java9

Make java9 work again

time:
2016-05-21T21:19:58Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStatsFlags.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/bootstrap/Elasticsearch.java
core/src/main/java/org/elasticsearch/cli/Command.java
core/src/main/java/org/elasticsearch/cli/SettingCommand.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/FailedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/StartedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateEmptyPrimaryAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/MaxRetryAllocationDecider.java
core/src/main/java/org/elasticsearch/common/logging/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/settings/SettingsModule.java
core/src/main/java/org/elasticsearch/common/util/BloomFilter.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisRegistry.java
core/src/main/java/org/elasticsearch/index/analysis/FingerprintAnalyzer.java
core/src/main/java/org/elasticsearch/index/analysis/FingerprintAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/cache/IndexCache.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorHighlightSubFetchPhase.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueryCache.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueryCacheStats.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/PercolateQuery.java
core/src/main/java/org/elasticsearch/index/query/PercolateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/translog/TranslogWriter.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
core/src/main/java/org/elasticsearch/plugins/ListPluginsCommand.java
core/src/main/java/org/elasticsearch/plugins/PluginCli.java
core/src/main/java/org/elasticsearch/plugins/RemovePluginCommand.java
core/src/main/java/org/elasticsearch/rest/BytesRestResponse.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/reroute/RestClusterRerouteAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/stats/RestIndicesStatsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/main/java/org/elasticsearch/script/ScriptEngineRegistry.java
core/src/main/java/org/elasticsearch/script/ScriptMode.java
core/src/main/java/org/elasticsearch/script/ScriptModes.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/script/ScriptSettings.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilders.java
core/src/main/java/org/elasticsearch/search/aggregations/Aggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/children/ChildrenAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoGridAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/global/GlobalAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/AbstractHistogramBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/missing/MissingAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/missing/MissingParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/AbstractRangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/DateRangeAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/DateRangeParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ip/IpRangeAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ip/IpRangeParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedSamplerParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/SamplerAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/UnmappedSignificantTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/AbstractTermsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/avg/AvgAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/avg/AvgParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/GeoBoundsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/GeoBoundsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/GeoCentroidAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/GeoCentroidParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/max/MaxAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/max/MaxParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/min/MinAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/min/MinParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractPercentilesParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/StatsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/StatsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/ExtendedStatsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/ExtendedStatsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/sum/SumAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/sum/SumParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/ValueCountAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/ValueCountParser.java
core/src/main/java/org/elasticsearch/search/aggregations/support/AbstractValuesSourceParser.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransportChannel.java
core/src/test/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteTests.java
core/src/test/java/org/elasticsearch/bootstrap/ElasticsearchCliTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientIT.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientRetryIT.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataMappingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AwarenessAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/DeadNodesAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ExpectedShardSizeAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/MaxRetryAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/NodeVersionAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ThrottlingAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/common/blobstore/FsBlobStoreContainerTests.java
core/src/test/java/org/elasticsearch/common/blobstore/FsBlobStoreTests.java
core/src/test/java/org/elasticsearch/common/rounding/TimeZoneRoundingTests.java
core/src/test/java/org/elasticsearch/common/settings/ScopedSettingsTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsModuleTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsTests.java
core/src/test/java/org/elasticsearch/gateway/PrimaryShardAllocatorTests.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpRequestSizeLimitIT.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisServiceTests.java
core/src/test/java/org/elasticsearch/index/analysis/FingerprintAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/percolator/PercolatorFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/percolator/PercolatorQueryCacheTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/PercolateQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/PercolateQueryTests.java
core/src/test/java/org/elasticsearch/index/query/QueryDSLDocumentationTests.java
core/src/test/java/org/elasticsearch/index/query/QueryShardContextTests.java
core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNearQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNotQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanOrQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateIT.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsIT.java
core/src/test/java/org/elasticsearch/ingest/processor/DateProcessorFactoryTests.java
core/src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
core/src/test/java/org/elasticsearch/rest/BytesRestResponseTests.java
core/src/test/java/org/elasticsearch/script/FileScriptTests.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptContextTests.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/script/ScriptSettingsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregatorParsingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/BaseAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/BasePipelineAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ChildrenTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateRangeIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateRangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DiversifiedSamplerIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DiversifiedSamplerTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoDistanceRangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GlobalTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/HistogramTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IpRangeIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IpRangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/NaNSortingIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/RangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SamplerIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SamplerTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TermsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/significant/SignificanceHeuristicTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AbstractNumericMetricTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ExtendedStatsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/FilterTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/FiltersTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/GeoBoundsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/GeoCentroidTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/MaxTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/MinTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/MissingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/PercentileRanksTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/PercentilesTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ScriptedMetricTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/StatsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TopHitsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregationHelperTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffIT.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/highlight/HighlightBuilderTests.java
core/src/test/java/org/elasticsearch/search/percolator/PercolatorQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
core/src/test/java/org/elasticsearch/search/rescore/QueryRescoreBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/AbstractSortTestCase.java
core/src/test/java/org/elasticsearch/snapshots/FsBlobStoreRepositoryIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/threadpool/ScalingThreadPoolTests.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
comments:
Merge branch 'master' into java9

time:
2016-05-21T21:14:12Z
class:
core/src/main/java/org/apache/log4j/Java9Hack.java
comments:
Document the hack

time:
2016-05-21T21:06:56Z
class:
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/test/java/org/elasticsearch/common/settings/SettingsTests.java
comments:
Refactor property placeholder use of env. vars

This commit is a slight refactoring of the use of environment variables
in replacing property placeholders. In commit
115f983827c0c29652bd444c072b658b76651317 the constructor for
Settings.Builder was made package visible to provide a hook for tests to
mock obtaining environment variables. But we do not need to go that far
and can instead provide a small hook for this for tests without opening
up the constructor. Thus, in this commit we refactor
Settings.Builder#replacePropertyPlaceholders to a package-visible method
that accepts a function providing environment variables by names. The
public-visible method just delegates to this method passing in
System::getenv and tests can use the package-visible method to mock the
behavior they need without relying on external environment variables.

time:
2016-05-21T20:41:38Z
class:
core/src/main/java/org/apache/log4j/Java9Hack.java
core/src/test/java/org/apache/log4j/Java9HackTests.java
core/src/test/java/org/elasticsearch/common/logging/LoggingConfigurationTests.java
test/framework/src/main/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
comments:
Force java9 log4j hack in testing

time:
2016-05-21T20:18:12Z
class:
core/src/main/java/org/apache/log4j/Java9Hack.java
core/src/main/java/org/elasticsearch/common/logging/LogConfigurator.java
comments:
Fix log4j buggy java version detection

time:
2016-05-21T16:41:51Z
class:
core/src/test/java/org/elasticsearch/threadpool/ScalingThreadPoolTests.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionSearchScript.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOperationTests.java
test/framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
test/framework/src/test/java/org/elasticsearch/test/test/SuiteScopeClusterIT.java
test/framework/src/test/java/org/elasticsearch/test/test/TestScopeClusterIT.java
comments:
Make java9 work again

This change makes ES compile with java9 again, build 118.
* There are a handful of changes due to failure to determine types during compile.
* The attachment plugins which use tika needed to have tika upgraded in order to pickup fixes there for java 9.
* azure discovery and s3 repository indirectly depend on jaxb, which is no longer in the default modules. They now add a jaxb dependency externally, and make JarHell allow for this package.

time:
2016-05-21T05:04:33Z
class:
comments:
Merge pull request #18503 from dakrone/remove-mkdir

Don't mkdir directly in deb init script

time:
2016-05-20T21:52:16Z
class:
comments:
Don't mkdir directly in deb init script

Elasticsearch will create the log and data path directories when it
starts, there is no need to do this in the init script

Resolves #18307

time:
2016-05-20T21:22:14Z
class:
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/main/java/org/elasticsearch/script/ScriptEngineRegistry.java
core/src/main/java/org/elasticsearch/script/ScriptMode.java
core/src/main/java/org/elasticsearch/script/ScriptModes.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/script/ScriptSettings.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/script/FileScriptTests.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptContextTests.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/script/ScriptSettingsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregatorParsingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/BaseAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/BasePipelineAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionPlugin.java
modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MustachePlugin.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/TemplateQueryParserTests.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessPlugin.java
qa/smoke-test-ingest-with-all-dependencies/src/test/java/org/elasticsearch/ingest/AbstractMustacheTestCase.java
test/framework/src/main/java/org/elasticsearch/script/MockScriptEngine.java
comments:
Merge remote-tracking branch 'dakrone/remove-script-mode'

time:
2016-05-20T21:11:37Z
class:
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/test/java/org/elasticsearch/common/settings/SettingsTests.java
comments:
Fix env. var placeholder test so it's reproducible

This commit modifies the settings test for environment variables
placeholders so that it is reproducible. The underlying issue is that
the set of environment variables from system to system can vary, and
this means that's we can never be sure that a failing test will be
reproducible. This commit simplifies this test to not rely on external
forces that could influence reproducibility.

Relates #18501

time:
2016-05-20T21:01:30Z
class:
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/main/java/org/elasticsearch/script/ScriptEngineRegistry.java
core/src/main/java/org/elasticsearch/script/ScriptMode.java
core/src/main/java/org/elasticsearch/script/ScriptModes.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/script/ScriptSettings.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/script/FileScriptTests.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptContextTests.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/script/ScriptSettingsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregatorParsingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/BaseAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/BasePipelineAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionPlugin.java
modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MustachePlugin.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/TemplateQueryParserTests.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessPlugin.java
qa/smoke-test-ingest-with-all-dependencies/src/test/java/org/elasticsearch/ingest/AbstractMustacheTestCase.java
test/framework/src/main/java/org/elasticsearch/script/MockScriptEngine.java
comments:
Remove ScriptMode class in favor of boolean true/false

This removes the ScriptMode class entirely, which was an enum with two
options (ON and OFF) which essentially boiled down to true and false.
Now the boolean values are used instead.

time:
2016-05-20T20:48:16Z
class:
comments:
[rest api spec] fix doc urls

time:
2016-05-20T20:26:46Z
class:
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransportChannel.java
comments:
Netty request/response tracer should wait for send

We write to Netty channels in an async fashion, but notify listeners via
a transport service adapter before we are certain that the channel write
succeeded. In particular, the tracer logs are implemented via a
transport service adapter and this means that we can write tracer logs
before a write was successful and in some cases the write might fail
leading to misleading logs. This commit attaches the transport service
adapters to channel writes as a listener so that the notification occurs
only after a successful write.

Relates #18500

time:
2016-05-20T19:25:45Z
class:
comments:
Filter client/server VM options from jvm.options

The default jvm.options file ships with the -server flag to force the
server VM on systems where the server VM is not the default. However,
the method of starting the JVM via the Windows service does not support
the command-line flags for selecting the VM because it starts from a
DLL that is specific to the server or client VM. Thus, we need to
filter these options from the jvm.options configuration file when
installing the Windows service.

Relates #18473

time:
2016-05-20T19:22:56Z
class:
comments:
[rest api spec] fix url for reindex api docs

time:
2016-05-20T19:07:41Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusResponse.java
comments:
Remove use of a Fields class in snapshot responses that contains
x-content keys, in favor of declaring/using the keys directly.

Closes #18497

time:
2016-05-20T18:37:45Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/FailedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/StartedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateEmptyPrimaryAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/MaxRetryAllocationDecider.java
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/reroute/RestClusterRerouteAction.java
core/src/test/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AwarenessAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/DeadNodesAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ExpectedShardSizeAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/MaxRetryAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/NodeVersionAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ThrottlingAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/gateway/PrimaryShardAllocatorTests.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
comments:
Limit retries of failed allocations per index (#18467)

Today if a shard fails during initialization phase due to misconfiguration, broken disks,
missing analyzers, not installed plugins etc. elasticsaerch keeps on trying to initialize
or rather allocate that shard. Yet, in the worst case scenario this ends in an endless
allocation loop. To prevent this loop and all it's sideeffects like spamming log files over
and over again this commit adds an allocation decider that stops allocating a shard that
failed more than N times in a row to allocate. The number or retries can be configured via
`index.allocation.max_retry` and it's default is set to `5`. Once the setting is updated
shards with less failures than the number set per index will be allowed to allocate again.

Internally we maintain a counter on the UnassignedInfo that is reset to `0` once the shards
has been started.

Relates to #18417

time:
2016-05-20T18:26:41Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Analyzer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerCaster.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Compiler.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/CompilerSettings.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessPlugin.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngineService.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Utility.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Variables.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Writer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ALink.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AStatement.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBool.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBoolean.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConditional.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConstant.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EDecimal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EExplicit.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENull.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENumeric.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LArrayLength.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewObj.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LString.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LVariable.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBreak.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SContinue.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclaration.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDo.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIfElse.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SReturn.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SThrow.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STry.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SWhile.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/package-info.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ArrayTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicAPITests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicExpressionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicStatementTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/CompoundAssignmentTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ConditionalTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOperationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/EqualsTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/FloatOverflowDisabledTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/FloatOverflowTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/IntegerOverflowDisabledTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/IntegerOverflowTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/NeedsScoreTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/NoSemiColonTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ScriptTestCase.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/StringTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/UtilityTests.java
comments:
Merge pull request #18463 from rmuir/whitelist_cleanup

painless: steps at definition cleanup

time:
2016-05-20T18:22:18Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
comments:
Proxy box method to use valueOf.

time:
2016-05-20T18:13:43Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
comments:
Use the build-in valueOf method instead of the custom one.

time:
2016-05-20T18:07:10Z
class:
core/src/main/java/org/elasticsearch/search/highlight/CustomQueryScorer.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/highlight/PlainHighlighterTests.java
comments:
skip all geo point queries in plain highlighter

Geo queries and plain highlighter do not seem to work well
together (https://issues.apache.org/jira/browse/LUCENE-7293)
so we need to skip all geo related queries when we highlight.

closes #17537

time:
2016-05-20T18:04:09Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/EqualsTests.java
comments:
Fixed tests and added a comment to the box method.

time:
2016-05-20T17:38:06Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicAPITests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOperationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/EqualsTests.java
comments:
Fix boxing.

time:
2016-05-20T16:15:30Z
class:
core/src/main/java/org/elasticsearch/rest/BytesRestResponse.java
core/src/test/java/org/elasticsearch/rest/BytesRestResponseTests.java
comments:
Do not decode path when sending error

Today when sending a REST error to a client, we send the decoded
path. But decoding that path can already be the cause of the error in
which case decoding it again will just throw an exception leading to us
never sending an error back to the client. It would be better to send
the entire raw path to the client and that is what we do in this commit.

Relates #18477

time:
2016-05-20T14:59:13Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/bootstrap/Elasticsearch.java
core/src/main/java/org/elasticsearch/cli/Command.java
core/src/main/java/org/elasticsearch/cli/SettingCommand.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/common/logging/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/rounding/DateTimeUnit.java
core/src/main/java/org/elasticsearch/common/rounding/TimeZoneRounding.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/settings/SettingsModule.java
core/src/main/java/org/elasticsearch/common/util/BloomFilter.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisRegistry.java
core/src/main/java/org/elasticsearch/index/analysis/FingerprintAnalyzer.java
core/src/main/java/org/elasticsearch/index/analysis/FingerprintAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/translog/TranslogWriter.java
core/src/main/java/org/elasticsearch/monitor/fs/FsInfo.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmGcMonitorService.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
core/src/main/java/org/elasticsearch/plugins/ListPluginsCommand.java
core/src/main/java/org/elasticsearch/plugins/PluginCli.java
core/src/main/java/org/elasticsearch/plugins/RemovePluginCommand.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilders.java
core/src/main/java/org/elasticsearch/search/aggregations/Aggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/children/ChildrenAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoGridAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/global/GlobalAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/AbstractHistogramBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/missing/MissingAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/missing/MissingParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/AbstractRangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/DateRangeAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/DateRangeParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ip/IpRangeAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ip/IpRangeParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedSamplerParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/SamplerAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/UnmappedSignificantTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/AbstractTermsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/support/IncludeExclude.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/avg/AvgAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/avg/AvgParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/GeoBoundsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/GeoBoundsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/GeoCentroidAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/GeoCentroidParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/max/MaxAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/max/MaxParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/min/MinAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/min/MinParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractPercentilesParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/StatsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/StatsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/ExtendedStatsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/ExtendedStatsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/sum/SumAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/sum/SumParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/ValueCountAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/ValueCountParser.java
core/src/main/java/org/elasticsearch/search/aggregations/support/AbstractValuesSourceParser.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/test/java/org/elasticsearch/bootstrap/ElasticsearchCliTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientIT.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientRetryIT.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataMappingServiceTests.java
core/src/test/java/org/elasticsearch/common/blobstore/FsBlobStoreContainerTests.java
core/src/test/java/org/elasticsearch/common/blobstore/FsBlobStoreTests.java
core/src/test/java/org/elasticsearch/common/rounding/DateTimeUnitTests.java
core/src/test/java/org/elasticsearch/common/rounding/TimeZoneRoundingTests.java
core/src/test/java/org/elasticsearch/common/settings/ScopedSettingsTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsModuleTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisServiceTests.java
core/src/test/java/org/elasticsearch/index/analysis/FingerprintAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/CircuitBreakerServiceIT.java
core/src/test/java/org/elasticsearch/ingest/processor/DateProcessorFactoryTests.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmGcMonitorServiceSettingsTests.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmGcMonitorServiceTests.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmMonitorTests.java
core/src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
core/src/test/java/org/elasticsearch/search/aggregations/BaseAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ChildrenTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateRangeIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateRangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DiversifiedSamplerIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DiversifiedSamplerTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoDistanceRangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GlobalTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/HistogramTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IpRangeIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IpRangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/NaNSortingIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/RangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SamplerIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SamplerTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TermsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/significant/SignificanceHeuristicTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AbstractNumericMetricTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ExtendedStatsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/FilterTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/FiltersTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/GeoBoundsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/GeoCentroidTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/MaxTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/MinTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/MissingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/PercentileRanksTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/PercentilesTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ScriptedMetricTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/StatsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TopHitsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregationHelperTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffIT.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/snapshots/FsBlobStoreRepositoryIT.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/EquivalenceTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MinDocCountTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentileRanksTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentilesTests.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerCaster.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Utility.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Writer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConditional.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EExplicit.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewObj.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SReturn.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/package-info.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ArrayTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicExpressionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/CompoundAssignmentTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ConditionalTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOperationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/EqualsTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/StringTests.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractAsyncBulkByScrollAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractAsyncBulkIndexByScrollAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBaseReindexRestHandler.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkByQueryRestHandler.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/DeleteByQueryAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/DeleteByQueryRequest.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/DeleteByQueryRequestBuilder.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/ReindexPlugin.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/RestDeleteByQueryAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/RestReindexAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/RestRethrottleAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/RestUpdateByQueryAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/TransportDeleteByQueryAction.java
comments:
Merge branch 'clean' into whitelist_cleanup

time:
2016-05-20T14:52:08Z
class:
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
comments:
Fix race condition in snapshot initialization

When a snapshot initialization fails, the create snapshot method may return before the snapshot metadata in the cluster state is removed. This can cause follow up snapshot-API related calls to fail due to a snapshot still running. This is causing CI failures when we try to delete indices that were participating in failed snapshot to a read-only repository.

Closes #18121

time:
2016-05-20T14:40:55Z
class:
comments:
Passthrough test logger level to nodes

This commit passes the system property tests.logger.level down to the
external nodes launched in integration tests. Specific tests that want
to override the default logging level should push down a setting to
the nodes using cluster configuration instead of pushing down a system
property to the nodes using cluster configuration.

Relates #18489

time:
2016-05-20T14:12:30Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/common/rounding/DateTimeUnit.java
core/src/main/java/org/elasticsearch/common/rounding/TimeZoneRounding.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/main/java/org/elasticsearch/common/settings/SettingsModule.java
core/src/main/java/org/elasticsearch/common/util/BloomFilter.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisRegistry.java
core/src/main/java/org/elasticsearch/index/translog/TranslogWriter.java
core/src/main/java/org/elasticsearch/monitor/fs/FsInfo.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmGcMonitorService.java
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilders.java
core/src/main/java/org/elasticsearch/search/aggregations/Aggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/children/ChildrenAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoGridAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/global/GlobalAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/AbstractHistogramBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/missing/MissingAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/missing/MissingParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/AbstractRangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/DateRangeAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/DateRangeParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ip/IpRangeAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ip/IpRangeParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedSamplerParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/SamplerAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/UnmappedSignificantTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/AbstractTermsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/support/IncludeExclude.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/avg/AvgAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/avg/AvgParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/GeoBoundsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/GeoBoundsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/GeoCentroidAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/GeoCentroidParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/max/MaxAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/max/MaxParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/min/MinAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/min/MinParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractPercentilesParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/StatsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/StatsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/ExtendedStatsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/ExtendedStatsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/sum/SumAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/sum/SumParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/ValueCountAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/ValueCountParser.java
core/src/main/java/org/elasticsearch/search/aggregations/support/AbstractValuesSourceParser.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataMappingServiceTests.java
core/src/test/java/org/elasticsearch/common/blobstore/FsBlobStoreContainerTests.java
core/src/test/java/org/elasticsearch/common/blobstore/FsBlobStoreTests.java
core/src/test/java/org/elasticsearch/common/rounding/DateTimeUnitTests.java
core/src/test/java/org/elasticsearch/common/rounding/TimeZoneRoundingTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisServiceTests.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/CircuitBreakerServiceIT.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmGcMonitorServiceSettingsTests.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmGcMonitorServiceTests.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmMonitorTests.java
core/src/test/java/org/elasticsearch/search/aggregations/BaseAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ChildrenTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateRangeIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateRangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DiversifiedSamplerIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DiversifiedSamplerTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoDistanceRangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GlobalTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/HistogramTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IpRangeIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IpRangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/NaNSortingIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/RangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SamplerIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SamplerTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TermsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/significant/SignificanceHeuristicTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AbstractNumericMetricTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ExtendedStatsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/FilterTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/FiltersTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/GeoBoundsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/GeoCentroidTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/MaxTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/MinTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/MissingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/PercentileRanksTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/PercentilesTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ScriptedMetricTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/StatsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TopHitsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregationHelperTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffIT.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/snapshots/FsBlobStoreRepositoryIT.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/EquivalenceTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MinDocCountTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentileRanksTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentilesTests.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractAsyncBulkByScrollAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractAsyncBulkIndexByScrollAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBaseReindexRestHandler.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkByQueryRestHandler.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/DeleteByQueryAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/DeleteByQueryRequest.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/DeleteByQueryRequestBuilder.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/ReindexPlugin.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/RestDeleteByQueryAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/RestReindexAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/RestRethrottleAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/RestUpdateByQueryAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/TransportDeleteByQueryAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/TransportReindexAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/TransportUpdateByQueryAction.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/AbstractAsyncBulkIndexByScrollActionScriptTestCase.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/AbstractAsyncBulkIndexByScrollActionTestCase.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/AbstractAsyncBulkIndexbyScrollActionMetadataTestCase.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/AsyncBulkByScrollActionTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/BulkIndexByScrollResponseMatcher.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/DeleteByQueryBasicTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/DeleteByQueryCancelTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/DeleteByQueryConcurrentTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexMetadataTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexScriptTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexTestCase.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/UpdateByQueryMetadataTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/UpdateByQueryWithScriptTests.java
plugins/repository-azure/src/test/java/org/elasticsearch/repositories/azure/AzureBlobStoreTests.java
plugins/repository-gcs/src/main/java/org/elasticsearch/common/blobstore/gcs/GoogleCloudStorageBlobContainer.java
plugins/repository-gcs/src/main/java/org/elasticsearch/common/blobstore/gcs/GoogleCloudStorageBlobStore.java
plugins/repository-gcs/src/main/java/org/elasticsearch/plugin/repository/gcs/GoogleCloudStorageModule.java
plugins/repository-gcs/src/main/java/org/elasticsearch/plugin/repository/gcs/GoogleCloudStoragePlugin.java
plugins/repository-gcs/src/main/java/org/elasticsearch/repositories/gcs/GoogleCloudStorageRepository.java
plugins/repository-gcs/src/main/java/org/elasticsearch/repositories/gcs/GoogleCloudStorageService.java
plugins/repository-gcs/src/test/java/org/elasticsearch/common/blobstore/gcs/GoogleCloudStorageBlobStoreContainerTests.java
plugins/repository-gcs/src/test/java/org/elasticsearch/common/blobstore/gcs/GoogleCloudStorageBlobStoreTests.java
plugins/repository-gcs/src/test/java/org/elasticsearch/common/blobstore/gcs/MockHttpTransport.java
plugins/repository-gcs/src/test/java/org/elasticsearch/repositories/gcs/GoogleCloudStorageBlobStoreRepositoryTests.java
plugins/repository-gcs/src/test/java/org/elasticsearch/repositories/gcs/GoogleCloudStorageRepositoryRestIT.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/RepositoryS3SettingsTests.java
test/framework/src/main/java/org/elasticsearch/repositories/ESBlobStoreContainerTestCase.java
test/framework/src/main/java/org/elasticsearch/repositories/ESBlobStoreRepositoryIntegTestCase.java
test/framework/src/main/java/org/elasticsearch/repositories/ESBlobStoreTestCase.java
comments:
Merge branch 'master' into azure/fix-delete

time:
2016-05-20T14:04:39Z
class:
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/blobstore/AzureBlobContainer.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageServiceImpl.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureIntegTestCase.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureRepositoryServiceIntegTestCase.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureWithThirdPartyIntegTestCase.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/AzureTestUtils.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/storage/AzureStorageServiceTests.java
plugins/repository-azure/src/test/java/org/elasticsearch/repositories/azure/AzureBlobStoreTests.java
plugins/repository-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreServiceIntegTests.java
plugins/repository-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreTests.java
test/framework/src/main/java/org/elasticsearch/test/ESBlobStoreContainerTestCase.java
test/framework/src/main/java/org/elasticsearch/test/ESBlobStoreRepositoryIntegTestCase.java
test/framework/src/main/java/org/elasticsearch/test/ESBlobStoreTestCase.java
comments:
Cleanup the PR and apply advices from the review

* ESBlobStore tests must move to the test framework if we want to be able to reuse them in the context of plugins.
* To be able to identify more easily what are Integration Tests vs Unit Tests, this commit renames `*AzureTestCase` to `*AzureIntegTestCase`.
* Move some debug level logs to trace level
* Collapse when possible identical catch blocks
* `blobNameFromUri()` does not need anymore to get the container name. We just split the URI after 3 `/` and simply get the remaining part.
* Added a Unit test for that
* As we renamed some existing classes, checkstyle is now complaining about the lines width.
* While we are at it, let's replace all calls to `execute().actionGet()` with `get()`
* Move `readSettingsFromFile()` in a Util class. Note that this class might be useful for other plugins (S3/EC2/Azure-discovery for instance) so may be we should move it to the test framework?
* Replace some part of the code with lambdas

time:
2016-05-20T13:36:09Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Analyzer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Compiler.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Writer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ALink.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AStatement.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBool.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBoolean.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConditional.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConstant.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EDecimal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EExplicit.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENull.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENumeric.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LArrayLength.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewObj.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LString.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LVariable.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBreak.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SContinue.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclaration.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDo.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIfElse.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SReturn.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SThrow.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STry.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SWhile.java
comments:
simplify tree node use of compiler settings

time:
2016-05-20T13:12:52Z
class:
core/src/test/java/org/elasticsearch/http/netty/NettyHttpRequestSizeLimitIT.java
comments:
Increase log level for NettyHttpRequestSizeLimitIT

This test fails spuriosly in CI and is not reproducible locally.

With this commit we temporarily increase the log level in a few
packages that are suspected to reveal the cause.

time:
2016-05-20T12:58:08Z
class:
core/src/test/java/org/elasticsearch/threadpool/ScalingThreadPoolTests.java
comments:
Fix scaling thread pool test bug

This commit fixes a test bug in the scaling thread pool configuration
test. In particular, the test randomization could select min and max for
a thread pool configuration where both are equal to zero. This is a
violation of the requirements of the ThreadPoolExecutor. With this
commit, we now ensure that the max is bounded below by one.

time:
2016-05-20T12:52:16Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStatsFlags.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/cache/IndexCache.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorHighlightSubFetchPhase.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueryCache.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueryCacheStats.java
core/src/main/java/org/elasticsearch/index/query/PercolateQuery.java
core/src/main/java/org/elasticsearch/index/query/PercolateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/stats/RestIndicesStatsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/test/java/org/elasticsearch/index/percolator/PercolatorFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/percolator/PercolatorQueryCacheTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/PercolateQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/PercolateQueryTests.java
core/src/test/java/org/elasticsearch/index/query/QueryShardContextTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsIT.java
core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
core/src/test/java/org/elasticsearch/search/highlight/HighlightBuilderTests.java
core/src/test/java/org/elasticsearch/search/rescore/QueryRescoreBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/AbstractSortTestCase.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/TemplateQueryParserTests.java
test/framework/src/main/java/org/elasticsearch/test/TestSearchContext.java
test/framework/src/test/java/org/elasticsearch/search/MockSearchServiceTests.java
comments:
percolator: Removed percolator cache

Before 5.0 for it was required that the percolator queries were cached in jvm heap as Lucene queries for two reasons:
1) Performance. The percolator evaluated all percolator queries all the time. There was no pre-selecting queries that are likely to match like we have today.
2) Updates made to percolator queries were visible in realtime, Today these changes are visible in near realtime. So updating no longer requires the percolator to have the queries in jvm heap.

So having the percolator queries in jvm heap via the percolator cache is now less attractive. Especially when there are many percolator queries then these queries can consume many GBs of jvm heap.
Removing the percolator cache does make the percolate query slower compared to how the execution time in 5.0.0-alpha1 and alpha2, but it is still faster compared to 2.x and before.

time:
2016-05-20T12:42:29Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerCaster.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessPlugin.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBool.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBoolean.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConditional.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConstant.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EDecimal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENull.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENumeric.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LArrayLength.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LString.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDo.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIfElse.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SReturn.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SThrow.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SWhile.java
comments:
improve style for these constants

time:
2016-05-20T12:39:18Z
class:
comments:
Revert "Doc: /_reindex: Add a note about the source size parameter"

This reverts commit 4de284866875b987110df66229fb7c7d0b9cd4d8.

time:
2016-05-20T12:26:19Z
class:
comments:
Doc: /_reindex: Add a note about the source size parameter

Closes #18484

time:
2016-05-20T12:12:15Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessPlugin.java
comments:
More elegant way to force class initialization

time:
2016-05-20T12:10:55Z
class:
comments:
update shas for httpclient and httpcore

time:
2016-05-20T12:03:46Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
comments:
Remove Definitions's copy-ctor; fix RuntimeClass to be unmodifiable
Please note: The maps inside the pirvate singleton instance of Defininition are no longer unmodifiable, but nothing from the outside can modify it! All private :-)

time:
2016-05-20T11:36:55Z
class:
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/QueryDSLDocumentationTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNearQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNotQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanOrQueryBuilderTests.java
core/src/test/java/org/elasticsearch/search/percolator/PercolatorQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
comments:
Improve adding clauses to `span_near` and `span_or` query

Currently the query builders expose the clauses of the span
query as a modifiable list. Instead we should make the that
getter return an unmodifiable list. Also renaming the method
used to add a clause from `clause(spanQuery)` to
`addClause(spanQuery)`.

time:
2016-05-20T10:56:24Z
class:
core/src/main/java/org/elasticsearch/index/translog/TranslogWriter.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
comments:
Snapshotting and sync could cause a dead lock TranslogWriter (#18481)

 #18360 introduced an extra lock in order to allow writes while syncing the translog. This caused a potential deadlock with snapshotting code where we first acquire the instance lock, followed by a sync (which acquires the syncLock). However, the sync logic acquires the syncLock first, followed by the instance lock.

I considered solving this by not syncing the translog on snapshot - I think we can get away with just flushing it. That however will create subtleties around snapshoting and whether operations in them are persisted. I opted instead to have slightly uglier code with nest synchronized, where the scope of the change is contained to the TranslogWriter class alone.

time:
2016-05-20T10:35:08Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Analyzer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerCaster.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Compiler.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Variables.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Writer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ALink.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AStatement.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBool.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBoolean.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConditional.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConstant.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EDecimal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EExplicit.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENull.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENumeric.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LArrayLength.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewObj.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LString.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LVariable.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBreak.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SContinue.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclaration.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDo.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIfElse.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SReturn.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SThrow.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STry.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SWhile.java
comments:
Remove the Definition instance passed around everywhere

time:
2016-05-20T10:02:42Z
class:
test/framework/src/main/java/org/elasticsearch/test/rest/client/RestClient.java
test/framework/src/main/java/org/elasticsearch/test/rest/client/StrictHostnameVerifier.java
test/framework/src/main/java/org/elasticsearch/test/rest/client/StrictHostnameVerifierTests.java
comments:
update http client version to 4.5.2 and http-core 4.4.4 (#18399)

StrictHostnameVerifier can now be removed

time:
2016-05-20T09:22:03Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerCaster.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Variables.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EExplicit.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewObj.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LVariable.java
comments:
Make Definition's public API completely static.
TODO: Remove Definition arguments everywhere and hide INSTANCE field!

time:
2016-05-20T09:05:40Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
comments:
Add utility type constant

time:
2016-05-20T09:04:38Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerCaster.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Utility.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Writer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EExplicit.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ArrayTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ConditionalTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOperationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/EqualsTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/StringTests.java
comments:
Fixed bugs in comparison with Def.  Fixed may tests.n

time:
2016-05-20T09:02:06Z
class:
comments:
Added Type name for DFI (#18480)

time:
2016-05-20T08:56:50Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
comments:
more constants

time:
2016-05-20T08:48:41Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerCaster.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBool.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBoolean.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConditional.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConstant.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EDecimal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENull.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENumeric.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LArrayLength.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LString.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDo.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIfElse.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SReturn.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SThrow.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SWhile.java
comments:
Restore constants as static final (first step)

time:
2016-05-20T06:38:14Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerCaster.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Utility.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConditional.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewObj.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SReturn.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/package-info.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicExpressionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/CompoundAssignmentTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ConditionalTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/EqualsTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/StringTests.java
comments:
Removed transforms.  No user-facing boxing.

time:
2016-05-20T01:52:10Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/bootstrap/Elasticsearch.java
core/src/main/java/org/elasticsearch/cli/Command.java
core/src/main/java/org/elasticsearch/cli/SettingCommand.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/common/logging/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/rounding/DateTimeUnit.java
core/src/main/java/org/elasticsearch/common/rounding/TimeZoneRounding.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/settings/SettingsModule.java
core/src/main/java/org/elasticsearch/common/util/BloomFilter.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisRegistry.java
core/src/main/java/org/elasticsearch/index/analysis/FingerprintAnalyzer.java
core/src/main/java/org/elasticsearch/index/analysis/FingerprintAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/translog/TranslogWriter.java
core/src/main/java/org/elasticsearch/monitor/fs/FsInfo.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmGcMonitorService.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
core/src/main/java/org/elasticsearch/plugins/ListPluginsCommand.java
core/src/main/java/org/elasticsearch/plugins/PluginCli.java
core/src/main/java/org/elasticsearch/plugins/RemovePluginCommand.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilders.java
core/src/main/java/org/elasticsearch/search/aggregations/Aggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/children/ChildrenAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoGridAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/global/GlobalAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/AbstractHistogramBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/missing/MissingAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/missing/MissingParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/AbstractRangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/DateRangeAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/DateRangeParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ip/IpRangeAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ip/IpRangeParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedSamplerParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/SamplerAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/UnmappedSignificantTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/AbstractTermsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/support/IncludeExclude.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/avg/AvgAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/avg/AvgParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/GeoBoundsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/GeoBoundsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/GeoCentroidAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/GeoCentroidParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/max/MaxAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/max/MaxParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/min/MinAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/min/MinParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractPercentilesParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/StatsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/StatsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/ExtendedStatsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/ExtendedStatsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/sum/SumAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/sum/SumParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/ValueCountAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/ValueCountParser.java
core/src/main/java/org/elasticsearch/search/aggregations/support/AbstractValuesSourceParser.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/test/java/org/elasticsearch/bootstrap/ElasticsearchCliTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientIT.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientRetryIT.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataMappingServiceTests.java
core/src/test/java/org/elasticsearch/common/blobstore/FsBlobStoreContainerTests.java
core/src/test/java/org/elasticsearch/common/blobstore/FsBlobStoreTests.java
core/src/test/java/org/elasticsearch/common/rounding/DateTimeUnitTests.java
core/src/test/java/org/elasticsearch/common/rounding/TimeZoneRoundingTests.java
core/src/test/java/org/elasticsearch/common/settings/ScopedSettingsTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsModuleTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisServiceTests.java
core/src/test/java/org/elasticsearch/index/analysis/FingerprintAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/CircuitBreakerServiceIT.java
core/src/test/java/org/elasticsearch/ingest/processor/DateProcessorFactoryTests.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmGcMonitorServiceSettingsTests.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmGcMonitorServiceTests.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmMonitorTests.java
core/src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
core/src/test/java/org/elasticsearch/search/aggregations/BaseAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ChildrenTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateRangeIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateRangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DiversifiedSamplerIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DiversifiedSamplerTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoDistanceRangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GlobalTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/HistogramTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IpRangeIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IpRangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/NaNSortingIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/RangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SamplerIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SamplerTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TermsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/significant/SignificanceHeuristicTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AbstractNumericMetricTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ExtendedStatsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/FilterTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/FiltersTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/GeoBoundsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/GeoCentroidTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/MaxTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/MinTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/MissingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/PercentileRanksTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/PercentilesTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ScriptedMetricTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/StatsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TopHitsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregationHelperTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffIT.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/snapshots/FsBlobStoreRepositoryIT.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/EquivalenceTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MinDocCountTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentileRanksTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentilesTests.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractAsyncBulkByScrollAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractAsyncBulkIndexByScrollAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBaseReindexRestHandler.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkByQueryRestHandler.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/DeleteByQueryAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/DeleteByQueryRequest.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/DeleteByQueryRequestBuilder.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/ReindexPlugin.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/RestDeleteByQueryAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/RestReindexAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/RestRethrottleAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/RestUpdateByQueryAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/TransportDeleteByQueryAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/TransportReindexAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/TransportUpdateByQueryAction.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/AbstractAsyncBulkIndexByScrollActionScriptTestCase.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/AbstractAsyncBulkIndexByScrollActionTestCase.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/AbstractAsyncBulkIndexbyScrollActionMetadataTestCase.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/AsyncBulkByScrollActionTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/BulkIndexByScrollResponseMatcher.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/DeleteByQueryBasicTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/DeleteByQueryCancelTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/DeleteByQueryConcurrentTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexMetadataTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexScriptTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexTestCase.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/RetryTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/UpdateByQueryMetadataTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/UpdateByQueryWithScriptTests.java
comments:
Merge branch 'master' into clean

time:
2016-05-20T01:51:55Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerCaster.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOperationTests.java
comments:
Removed user-facing boxing.

time:
2016-05-19T22:46:05Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
comments:
move unused @SuppressWarnings one level up

time:
2016-05-19T22:03:36Z
class:
modules/reindex/src/test/java/org/elasticsearch/index/reindex/RetryTests.java
comments:
[reindex] Mark test awaits fix because it is unstable

Fix coming.

time:
2016-05-19T20:03:11Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
comments:
dce

time:
2016-05-19T19:35:26Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngineService.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/NeedsScoreTests.java
comments:
nuke eclipse warnings

time:
2016-05-19T19:28:59Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
comments:
fix typo

time:
2016-05-19T19:25:31Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/CompilerSettings.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngineService.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Utility.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/FloatOverflowDisabledTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/FloatOverflowTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/IntegerOverflowDisabledTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/IntegerOverflowTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ScriptTestCase.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/UtilityTests.java
comments:
nuke overflow detection as we cannot guarantee for def. simplify life :)

time:
2016-05-19T18:08:08Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/bootstrap/Elasticsearch.java
core/src/main/java/org/elasticsearch/cli/Command.java
core/src/main/java/org/elasticsearch/cli/SettingCommand.java
core/src/main/java/org/elasticsearch/common/logging/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
core/src/main/java/org/elasticsearch/plugins/ListPluginsCommand.java
core/src/main/java/org/elasticsearch/plugins/PluginCli.java
core/src/main/java/org/elasticsearch/plugins/RemovePluginCommand.java
core/src/test/java/org/elasticsearch/bootstrap/ElasticsearchCliTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientIT.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientRetryIT.java
core/src/test/java/org/elasticsearch/common/settings/ScopedSettingsTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsTests.java
core/src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/EvilElasticsearchCliTests.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/InstallPluginCommandTests.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/ListPluginsCommandTests.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/RemovePluginCommandTests.java
qa/evil-tests/src/test/java/org/elasticsearch/tribe/TribeUnitTests.java
qa/smoke-test-client/src/test/java/org/elasticsearch/smoketest/ESSmokeClientTestCase.java
test/framework/src/main/java/org/elasticsearch/bootstrap/ESElasticsearchCliTestCase.java
test/framework/src/main/java/org/elasticsearch/test/ESSingleNodeTestCase.java
test/framework/src/main/java/org/elasticsearch/test/ExternalNode.java
test/framework/src/main/java/org/elasticsearch/test/ExternalTestCluster.java
test/framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
test/framework/src/main/java/org/elasticsearch/test/junit/listeners/ReproduceInfoPrinter.java
comments:
Remove settings and system properties entanglement

Today when parsing settings during bootstrap, we add a system property
for every Elasticsearch setting. Additionally, settings can be set via
system properties. This commit simplifies this situation.
 - settings are no longer propogated to system properties
 - system properties can not be used to set settings
 - the "es." prefix on settings is no longer required (nor permitted)
 - test logging has a dedicated system property (tests.logger.level)

Relates #18198

time:
2016-05-19T17:42:23Z
class:
comments:
Docs: Improved tokenizer docs (#18356)

* Docs: Improved tokenizer docs

Added descriptions and runnable examples

* Addressed Nik's comments

* Added TESTRESPONSEs for all tokenizer examples

* Added TESTRESPONSEs for all analyzer examples too

* Added docs, examples, and TESTRESPONSES for character filters

* Skipping two tests:

One interprets "$1" as a stack variable - same problem exists with the REST tests

The other because the "took" value is always different

* Fixed tests with "took"

* Fixed failing tests and removed preserve_original from fingerprint analyzer

time:
2016-05-19T17:37:13Z
class:
core/src/main/java/org/elasticsearch/index/analysis/FingerprintAnalyzer.java
core/src/main/java/org/elasticsearch/index/analysis/FingerprintAnalyzerProvider.java
core/src/test/java/org/elasticsearch/index/analysis/FingerprintAnalyzerTests.java
comments:
Remove the preserve_original option from the FingerprintAnalyzer (#18471)

The preserve_original option to the ASCIIFoldingFilter doesn't
play well with the FingerprintFilter, as it ends up producing
fingerprints like:

    "and consistent godel gödel is said sentence this yes"

The goal of the OpenRefine algorithm is to product a small normalized
ASCII fingerprint. There's no need to expose preserve_original.

time:
2016-05-19T16:44:53Z
class:
comments:
Disable DeleteByQueryRestIT delete_by_query/10_basic/Basic delete_by_query

Because of a REST test namespace conflict introduced by 18329. Issue tracked in 18469

time:
2016-05-19T16:12:48Z
class:
core/src/test/java/org/elasticsearch/common/rounding/TimeZoneRoundingTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/ingest/processor/DateProcessorFactoryTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateRangeIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateRangeTests.java
test/framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
test/framework/src/main/java/org/elasticsearch/test/ESTestCase.java
comments:
Improve random DateTimeZone creation in tests

We often require a random joda DateTimeZone in our tests. Currently
there are a few options for generating such a random DateTimeZone
from the set of available ids. Currently most random picks are not
really reproducable across different jvms because they rely on order
in the ids set implementation. The helper in DateProcessorFactoryTests
thus performs a sort on the set of ids before random picking from
the result, so I moved this to ESTestCase to make it publicly
available and changed all other tests to use that method.

time:
2016-05-19T15:12:37Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
comments:
Log IndexShard.refresh logs under trace (#18435)

We log them every second...

time:
2016-05-19T14:59:37Z
class:
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
comments:
Enforce MatchQueryBuilder#maxExpansions() to be strictly positive

time:
2016-05-19T14:55:21Z
class:
core/src/main/java/org/apache/lucene/document/XInetAddressPoint.java
core/src/main/java/org/apache/lucene/index/XPointValues.java
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XFuzzySuggester.java
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/DocWriteResponse.java
core/src/main/java/org/elasticsearch/action/RealtimeRequest.java
core/src/main/java/org/elasticsearch/action/ReplicationResponse.java
core/src/main/java/org/elasticsearch/action/TaskOperationFailure.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanation.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/NodeExplanation.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/TransportCancelTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/ListTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TaskInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TransportListTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsGroup.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexShardStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotShardsStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/DeleteStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/DeleteStoredScriptRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/DeleteStoredScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/DeleteStoredScriptResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/GetStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/GetStoredScriptRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/GetStoredScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/GetStoredScriptResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/PutStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/PutStoredScriptRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/PutStoredScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/PutStoredScriptResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/TransportDeleteStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/TransportGetStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/TransportPutStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/tasks/PendingClusterTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/RenderSearchTemplateRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/TransportRenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/DetailAnalyzeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/SyncedFlushResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/ShardSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoresResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/TransportIndicesShardStoresAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/ShardUpgradeStatus.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/DeleteResponse.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/explain/ExplainRequest.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStats.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequest.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsResponse.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardResponse.java
core/src/main/java/org/elasticsearch/action/fieldstats/IndexConstraint.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/action/get/GetRequest.java
core/src/main/java/org/elasticsearch/action/get/GetRequestBuilder.java
core/src/main/java/org/elasticsearch/action/get/GetResponse.java
core/src/main/java/org/elasticsearch/action/get/MultiGetRequest.java
core/src/main/java/org/elasticsearch/action/get/MultiGetRequestBuilder.java
core/src/main/java/org/elasticsearch/action/get/MultiGetResponse.java
core/src/main/java/org/elasticsearch/action/get/MultiGetShardRequest.java
core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java
core/src/main/java/org/elasticsearch/action/get/TransportShardMultiGetAction.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/index/IndexResponse.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/delete/DeleteIndexedScriptRequest.java
core/src/main/java/org/elasticsearch/action/indexedscripts/delete/DeleteIndexedScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/indexedscripts/delete/DeleteIndexedScriptResponse.java
core/src/main/java/org/elasticsearch/action/indexedscripts/delete/TransportDeleteIndexedScriptAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequest.java
core/src/main/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptResponse.java
core/src/main/java/org/elasticsearch/action/indexedscripts/get/TransportGetIndexedScriptAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptRequest.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptResponse.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/TransportPutIndexedScriptAction.java
core/src/main/java/org/elasticsearch/action/ingest/PutPipelineTransportAction.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateDocumentBaseResult.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateDocumentResult.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateDocumentVerboseResult.java
core/src/main/java/org/elasticsearch/action/ingest/SimulatePipelineRequest.java
core/src/main/java/org/elasticsearch/action/ingest/SimulatePipelineResponse.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateProcessorResult.java
core/src/main/java/org/elasticsearch/action/ingest/WriteableIngestDocument.java
core/src/main/java/org/elasticsearch/action/percolate/MultiPercolateResponse.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateResponse.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java
core/src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
core/src/main/java/org/elasticsearch/action/search/ClearScrollResponse.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchResponse.java
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/search/SearchResponse.java
core/src/main/java/org/elasticsearch/action/search/TransportSearchHelper.java
core/src/main/java/org/elasticsearch/action/support/ChildTaskActionRequest.java
core/src/main/java/org/elasticsearch/action/support/HandledTransportAction.java
core/src/main/java/org/elasticsearch/action/support/broadcast/BroadcastShardRequest.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/action/support/master/MasterNodeRequest.java
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeAction.java
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeReadAction.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodeRequest.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodesResponse.java
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationOperation.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/tasks/BaseTasksRequest.java
core/src/main/java/org/elasticsearch/action/support/tasks/TasksRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/tasks/TransportTasksAction.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsResponse.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsResponse.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportMultiTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/update/UpdateHelper.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequest.java
core/src/main/java/org/elasticsearch/action/update/UpdateResponse.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCheck.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapSettings.java
core/src/main/java/org/elasticsearch/cli/Command.java
core/src/main/java/org/elasticsearch/client/Client.java
core/src/main/java/org/elasticsearch/client/ClusterAdminClient.java
core/src/main/java/org/elasticsearch/client/ParentTaskAssigningClient.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/Diffable.java
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterHealthStatus.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexGraveyard.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/metadata/RepositoriesMetaData.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodeService.java
core/src/main/java/org/elasticsearch/cluster/routing/AllocationId.java
core/src/main/java/org/elasticsearch/cluster/routing/IllegalShardRoutingStateException.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTableValidation.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/FailedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RerouteExplanation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/StartedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AbstractAllocateAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateEmptyPrimaryAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateReplicaAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateStalePrimaryAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommands.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/BasePrimaryAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/FilterAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ShardsLimitAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/SnapshotInProgressAllocationDecider.java
core/src/main/java/org/elasticsearch/common/MacAddressProvider.java
core/src/main/java/org/elasticsearch/common/ParseField.java
core/src/main/java/org/elasticsearch/common/ParseFieldMatcherSupplier.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/Table.java
core/src/main/java/org/elasticsearch/common/TimeBasedUUIDGenerator.java
core/src/main/java/org/elasticsearch/common/UUIDs.java
core/src/main/java/org/elasticsearch/common/component/Lifecycle.java
core/src/main/java/org/elasticsearch/common/geo/GeoDistance.java
core/src/main/java/org/elasticsearch/common/geo/GeoPoint.java
core/src/main/java/org/elasticsearch/common/geo/ShapeRelation.java
core/src/main/java/org/elasticsearch/common/geo/SpatialStrategy.java
core/src/main/java/org/elasticsearch/common/geo/builders/GeometryCollectionBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/common/inject/InjectorImpl.java
core/src/main/java/org/elasticsearch/common/io/stream/NamedWriteable.java
core/src/main/java/org/elasticsearch/common/io/stream/NamedWriteableAwareStreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/NamedWriteableRegistry.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/common/io/stream/Writeable.java
core/src/main/java/org/elasticsearch/common/lucene/index/FilterableTermsEnum.java
core/src/main/java/org/elasticsearch/common/lucene/search/MatchNoDocsQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/Queries.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/CombineFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FieldValueFactorFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/uid/PerThreadIDAndVersionLookup.java
core/src/main/java/org/elasticsearch/common/lucene/uid/Versions.java
core/src/main/java/org/elasticsearch/common/network/NetworkModule.java
core/src/main/java/org/elasticsearch/common/path/PathTrie.java
core/src/main/java/org/elasticsearch/common/rounding/DateTimeUnit.java
core/src/main/java/org/elasticsearch/common/rounding/TimeZoneRounding.java
core/src/main/java/org/elasticsearch/common/settings/AbstractScopedSettings.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/settings/SettingsModule.java
core/src/main/java/org/elasticsearch/common/settings/loader/XContentSettingsLoader.java
core/src/main/java/org/elasticsearch/common/transport/DummyTransportAddress.java
core/src/main/java/org/elasticsearch/common/transport/InetSocketTransportAddress.java
comments:
Merge branch 'master' into pr/update-aws-sdk

time:
2016-05-19T14:50:37Z
class:
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/AwsS3Service.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/InternalAwsS3Service.java
plugins/repository-s3/src/main/java/org/elasticsearch/plugin/repository/s3/S3RepositoryPlugin.java
plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3Repository.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/TestAwsS3Service.java
plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/AbstractS3SnapshotRestoreTest.java
comments:
Move `throttle_retries` under `repositories.s3.` prefix or per repository

I initially wrongly put this setting under `cloud.aws.s3.` prefix which does not make sense. It should be placed at the same place as `max_retries`.

Also applied @tlrx comments. We should set this even if max_retries is not set (when using default values).

Also added some documentation about this setting.

time:
2016-05-19T14:07:50Z
class:
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractAsyncBulkByScrollAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractAsyncBulkIndexByScrollAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBaseReindexRestHandler.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkByQueryRestHandler.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/DeleteByQueryAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/DeleteByQueryRequest.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/DeleteByQueryRequestBuilder.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/ReindexPlugin.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/RestDeleteByQueryAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/RestReindexAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/RestRethrottleAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/RestUpdateByQueryAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/TransportDeleteByQueryAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/TransportReindexAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/TransportUpdateByQueryAction.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/AbstractAsyncBulkIndexByScrollActionScriptTestCase.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/AbstractAsyncBulkIndexByScrollActionTestCase.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/AbstractAsyncBulkIndexbyScrollActionMetadataTestCase.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/AsyncBulkByScrollActionTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/BulkIndexByScrollResponseMatcher.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/DeleteByQueryBasicTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/DeleteByQueryCancelTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/DeleteByQueryConcurrentTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexMetadataTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexScriptTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexTestCase.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/UpdateByQueryMetadataTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/UpdateByQueryWithScriptTests.java
comments:
Port Delete By Query to Reindex infrastructure

closes #16883

time:
2016-05-19T13:47:07Z
class:
core/src/main/java/org/elasticsearch/index/analysis/AnalysisRegistry.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisServiceTests.java
comments:
Add better error message when analyzer created without tokenizer or analyzer type (#18455)

Closes #15492

time:
2016-05-19T13:29:48Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerCaster.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessPlugin.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngineService.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Variables.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBool.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBoolean.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConditional.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConstant.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EDecimal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENull.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENumeric.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LArrayLength.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LString.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDo.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIfElse.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SReturn.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SThrow.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SWhile.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicAPITests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicStatementTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/NoSemiColonTests.java
comments:
First steps at whitelist cleanup

time:
2016-05-19T13:25:29Z
class:
core/src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilders.java
core/src/main/java/org/elasticsearch/search/aggregations/Aggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/children/ChildrenAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoGridAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/global/GlobalAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/AbstractHistogramBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/missing/MissingAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/missing/MissingParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/AbstractRangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/DateRangeAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/DateRangeParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ip/IpRangeAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ip/IpRangeParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedSamplerParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/SamplerAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/UnmappedSignificantTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/AbstractTermsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/avg/AvgAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/avg/AvgParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/GeoBoundsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/GeoBoundsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/GeoCentroidAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/GeoCentroidParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/max/MaxAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/max/MaxParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/min/MinAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/min/MinParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractPercentilesParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/StatsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/StatsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/ExtendedStatsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/ExtendedStatsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/sum/SumAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/sum/SumParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/ValueCountAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/ValueCountParser.java
core/src/main/java/org/elasticsearch/search/aggregations/support/AbstractValuesSourceParser.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/test/java/org/elasticsearch/search/aggregations/BaseAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ChildrenTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateRangeIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateRangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DiversifiedSamplerIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DiversifiedSamplerTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoDistanceRangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GlobalTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/HistogramTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IpRangeIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IpRangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/NaNSortingIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/RangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SamplerIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SamplerTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TermsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/significant/SignificanceHeuristicTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AbstractNumericMetricTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ExtendedStatsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/FilterTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/FiltersTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/GeoBoundsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/GeoCentroidTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/MaxTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/MinTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/MissingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/PercentileRanksTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/PercentilesTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ScriptedMetricTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/StatsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TopHitsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregationHelperTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffIT.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/EquivalenceTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MinDocCountTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentileRanksTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentilesTests.java
comments:
Rename AggregatorBuilder and all of its subclasses to
AggregationBuilder, in keeping consistent with the Java APIs.

Closes #18377
Closes #18367

time:
2016-05-19T13:11:43Z
class:
comments:
Add CONSOLE annotations to request body docs

time:
2016-05-19T11:45:53Z
class:
comments:
Add CONSOLE to field-stats docs.

time:
2016-05-19T11:26:23Z
class:
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
core/src/test/java/org/elasticsearch/common/blobstore/FsBlobStoreContainerTests.java
core/src/test/java/org/elasticsearch/common/blobstore/FsBlobStoreTests.java
core/src/test/java/org/elasticsearch/snapshots/FsBlobStoreRepositoryIT.java
plugins/repository-gcs/src/main/java/org/elasticsearch/common/blobstore/gcs/GoogleCloudStorageBlobContainer.java
plugins/repository-gcs/src/main/java/org/elasticsearch/common/blobstore/gcs/GoogleCloudStorageBlobStore.java
plugins/repository-gcs/src/main/java/org/elasticsearch/plugin/repository/gcs/GoogleCloudStorageModule.java
plugins/repository-gcs/src/main/java/org/elasticsearch/plugin/repository/gcs/GoogleCloudStoragePlugin.java
plugins/repository-gcs/src/main/java/org/elasticsearch/repositories/gcs/GoogleCloudStorageRepository.java
plugins/repository-gcs/src/main/java/org/elasticsearch/repositories/gcs/GoogleCloudStorageService.java
plugins/repository-gcs/src/test/java/org/elasticsearch/common/blobstore/gcs/GoogleCloudStorageBlobStoreContainerTests.java
plugins/repository-gcs/src/test/java/org/elasticsearch/common/blobstore/gcs/GoogleCloudStorageBlobStoreTests.java
plugins/repository-gcs/src/test/java/org/elasticsearch/common/blobstore/gcs/MockHttpTransport.java
plugins/repository-gcs/src/test/java/org/elasticsearch/repositories/gcs/GoogleCloudStorageBlobStoreRepositoryTests.java
plugins/repository-gcs/src/test/java/org/elasticsearch/repositories/gcs/GoogleCloudStorageRepositoryRestIT.java
test/framework/src/main/java/org/elasticsearch/repositories/ESBlobStoreContainerTestCase.java
test/framework/src/main/java/org/elasticsearch/repositories/ESBlobStoreRepositoryIntegTestCase.java
test/framework/src/main/java/org/elasticsearch/repositories/ESBlobStoreTestCase.java
comments:
Add Google Cloud Storage repository plugin

Closes #12880
I might be wrong but I think that this setting is not filtered when you call `GET _snapshot/gcsrepo`.
I believe that if you add a similar test as this one: https://github.com/elastic/elasticsearch/blob/master/plugins/repository-s3/src/test/resources/rest-api-spec/test/repository_s3/20_repository.yaml it would fail.

I did not try but just come to this conclusion while working on https://github.com/elastic/elasticsearch/pull/17784/files and on #18945 


time:
2016-05-19T11:08:30Z
class:
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
comments:
test: Don't generate a value of 0, because FuzzyQuery constructor does't allow that

time:
2016-05-19T10:17:13Z
class:
comments:
Add CONSOLE to explain

time:
2016-05-19T09:05:17Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataMappingServiceTests.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
comments:
parent/child: Allow adding additional child types that point to an existing parent type

From 2.0 adding child types to existing types was forbidden because the`_parent` field stores the join between parent and child at index time.
This is to protect from the fact that types that weren't a parent before become a parent while previously indexed documents would not have a join field.
 This would break the parent/child queries.

The restriction was a bit too strict in the sense that also if a type was a parent type the restriction would forbid adding child types that point to a parent type (so child points already point to it).
This change make sure that the restriction only applies if that type isn't a parent type already.

Closes #17956

time:
2016-05-19T09:01:36Z
class:
comments:
Add CONSOLE to inner hits examples.

time:
2016-05-19T08:42:35Z
class:
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/SettingsModule.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/test/java/org/elasticsearch/common/settings/SettingsModuleTests.java
comments:
Register `indices.query.bool.max_clause_count` setting (#18341)

* Register `indices.query.bool.max_clause_count` setting

This commit registers `indices.query.bool.max_clause_count` as a node
level setting and removes support for its synonym setting
`index.query.bool.max_clause_count`.

Closes #18336

time:
2016-05-19T08:30:58Z
class:
comments:
Add CONSOLE to scroll docs

Relates to #18160

time:
2016-05-19T07:54:44Z
class:
comments:
Merge pull request #18441 from MaineC/docs/add_console_to_search_request_options

Docs/add console to search request options

time:
2016-05-19T07:40:10Z
class:
core/src/main/java/org/elasticsearch/index/translog/TranslogWriter.java
comments:
FSync translog outside of the writers global lock (#18360)

FSync translog outside of the writers global lock

Today we aquire a write global lock that blocks all modification to the
translog file while we fsync / checkpoint the file. Yet, we don't necessarily
needt to block concurrent operations here. This can lead to a lot of blocked
threads if the machine has high concurrency (lot os CPUs) but uses slow disks
(spinning disks) which is absolutely unnecessary. We just need to protect from
fsyncing / checkpointing concurrently but we can fill buffers and write to the
underlying file in a concurrent fashion.

This change introduces an additional lock that we hold while fsyncing but moves
the checkpointing code outside of the writers global lock.

time:
2016-05-19T07:33:29Z
class:
comments:
Add indent

time:
2016-05-19T07:32:46Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/common/rounding/DateTimeUnit.java
core/src/main/java/org/elasticsearch/common/rounding/TimeZoneRounding.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/main/java/org/elasticsearch/common/util/BloomFilter.java
core/src/main/java/org/elasticsearch/monitor/fs/FsInfo.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmGcMonitorService.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/support/IncludeExclude.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/test/java/org/elasticsearch/common/rounding/DateTimeUnitTests.java
core/src/test/java/org/elasticsearch/common/rounding/TimeZoneRoundingTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingTests.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/CircuitBreakerServiceIT.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmGcMonitorServiceSettingsTests.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmGcMonitorServiceTests.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmMonitorTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramIT.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/RepositoryS3SettingsTests.java
comments:
Merge branch 'master' into docs/add_console_to_search_request_options

time:
2016-05-19T07:19:05Z
class:
core/src/main/java/org/elasticsearch/common/util/BloomFilter.java
comments:
Merge pull request #18457 from s1monw/remove_bloom

Remove dead BloomFilter code

time:
2016-05-18T21:00:57Z
class:
core/src/main/java/org/elasticsearch/common/util/BloomFilter.java
comments:
Remove dead BloomFilter code

We don't use this class for a quite a while. lets trash it.

time:
2016-05-18T19:11:49Z
class:
comments:
Add a wait_for_stats=yellow to a docs snippet

It was making unstable tests.

time:
2016-05-18T16:38:41Z
class:
comments:
Merge pull request #18442 from MaineC/docs/add_console_to_fromsize

Add CONSOLE to from/size docs

time:
2016-05-18T16:14:37Z
class:
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/RepositoryS3SettingsTests.java
comments:
Fix inequality symbol in test assertion

This commit fixes the inequality symbol used in a test assertion in
RepositoryS3SettingsTests#testInvalidChunkBufferSizeRepositorySettings. The
inequality symbol was previously backwards but fixed in commit
cad0608cdb28e2b8485e5c01c26579a35cb84356 but fixing the inequality
symbol here was missed in that commit.

Closes #18449

time:
2016-05-18T15:33:21Z
class:
core/src/main/java/org/elasticsearch/Version.java
comments:
Added version 2.3.3 with bwc indices

time:
2016-05-18T15:29:02Z
class:
core/src/main/java/org/elasticsearch/common/rounding/DateTimeUnit.java
core/src/main/java/org/elasticsearch/common/rounding/TimeZoneRounding.java
core/src/test/java/org/elasticsearch/common/rounding/DateTimeUnitTests.java
core/src/test/java/org/elasticsearch/common/rounding/TimeZoneRoundingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramIT.java
comments:
Fix TimeZoneRounding#nextRoundingValue for hour, minute and second units

Currently rounding intervals obtained by nextRoundingValue() for hour, minute and
second units can include an extra hour when happening at DST transitions that add
an extra hour (eg CEST -> CET). This changes the rounding logic for time units
smaller or equal to an hour to fix this.

Closes #18326

time:
2016-05-18T15:23:33Z
class:
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageServiceImpl.java
plugins/repository-azure/src/test/java/org/elasticsearch/repositories/azure/AzureBlobStoreTests.java
comments:
Fix remove of azure files

Probably when we updated Azure SDK, we introduced a regression.
Actually, we are not able to remove files anymore.

For example, if you register a new azure repository, the snapshot service tries to create a temp file and then remove it.
Removing does not work and you can see in logs:

```
[2016-05-18 11:03:24,914][WARN ][org.elasticsearch.cloud.azure.blobstore] [azure] can not remove [tests-ilmRPJ8URU-sh18yj38O6g/] in container {elasticsearch-snapshots}: The specified blob does not exist.
```

This fix deals with that. It now list all the files in a flatten mode, remove in the full URL the server and the container name.

As an example, when you are removing a blob which full name is `https://dpi24329.blob.core.windows.net/elasticsearch-snapshots/bar/test` you need to actually call Azure SDK with `bar/test` as the path, `elasticsearch-snapshots` is the container.

To run the test, you need to pass some parameters: `-Dtests.thirdparty=true -Dtests.config=/path/to/elasticsearch.yml`

Where `elasticsearch.yml` contains something like:

```
cloud.azure.storage.default.account: account
cloud.azure.storage.default.key: key
```

Related to #16472
Closes #18436.

time:
2016-05-18T15:21:55Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/support/IncludeExclude.java
comments:
Aggregations fix: support include/exclude strings formatted for IP and date fields in terms and significant_terms aggregations.

Closes #17705

time:
2016-05-18T15:03:00Z
class:
comments:
Remove last vestigates of /bin/sh shebangs

This commit removes the remaining /bin/sh shebangs in favor of
/bin/bash.

Relates #18448

time:
2016-05-18T14:43:56Z
class:
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/blobstore/AzureBlobContainer.java
comments:
Add more logs

time:
2016-05-18T14:43:28Z
class:
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageService.java
comments:
Default azure container should be `elasticsearch-snapshots`

This bug has been introduced in 5.0 when we refactored settings

time:
2016-05-18T13:52:08Z
class:
comments:
Switch to more match query for better illustration

time:
2016-05-18T13:45:20Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/main/java/org/elasticsearch/env/ESFileStore.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveriesCollection.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTargetService.java
core/src/main/java/org/elasticsearch/monitor/MonitorService.java
core/src/main/java/org/elasticsearch/monitor/fs/FsInfo.java
core/src/main/java/org/elasticsearch/monitor/fs/FsProbe.java
core/src/main/java/org/elasticsearch/monitor/fs/FsService.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmGcMonitorService.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java
core/src/test/java/org/elasticsearch/cluster/DiskUsageTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/IndexingMemoryControllerTests.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/CircuitBreakerServiceIT.java
core/src/test/java/org/elasticsearch/monitor/fs/DeviceStatsTests.java
core/src/test/java/org/elasticsearch/monitor/fs/FsProbeTests.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmGcMonitorServiceSettingsTests.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmGcMonitorServiceTests.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmMonitorTests.java
core/src/test/java/org/elasticsearch/recovery/RecoveriesCollectionTests.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerCaster.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EExplicit.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOperationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/StringTests.java
test/framework/src/main/java/org/elasticsearch/cluster/MockInternalClusterInfoService.java
comments:
Merge branch 'master' into docs/add_console_to_highlighting

