time:
2015-12-04T23:34:08Z
class:
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionPlugin.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/plugin/discovery/ec2/Ec2DiscoveryPlugin.java
plugins/repository-s3/src/main/java/org/elasticsearch/plugin/repository/s3/S3RepositoryPlugin.java
comments:
Merge pull request #15253 from rmuir/getClassLoader

ban RuntimePermission("getClassLoader")

time:
2015-12-04T22:24:52Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/test/java/org/elasticsearch/plugins/PluginsServiceTests.java
comments:
Merge pull request #15200 from rjernst/old_plugin_error

Add nicer error message when a plugin descriptor is missing

time:
2015-12-04T22:11:37Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/test/java/org/elasticsearch/plugins/PluginsServiceTests.java
comments:
Plugins: Add nicer error message when an existing plugin's descriptor is missing

Currently, when a user tries to install an old plugin (pre 2.x) on a 2.x
node, the error message is cryptic (just printing the file path that was
missing, when looking for the descriptor). This improves the message to
be more explicit that the descriptor is missing, and suggests the
problem might be the plugin was built before 2.0.

closes #15197

time:
2015-12-04T21:43:40Z
class:
test-framework/src/main/java/org/elasticsearch/test/rest/Rest0IT.java
test-framework/src/main/java/org/elasticsearch/test/rest/Rest1IT.java
test-framework/src/main/java/org/elasticsearch/test/rest/Rest2IT.java
test-framework/src/main/java/org/elasticsearch/test/rest/Rest3IT.java
test-framework/src/main/java/org/elasticsearch/test/rest/Rest4IT.java
test-framework/src/main/java/org/elasticsearch/test/rest/Rest5IT.java
test-framework/src/main/java/org/elasticsearch/test/rest/Rest6IT.java
test-framework/src/main/java/org/elasticsearch/test/rest/Rest7IT.java
comments:
Build: Remove duplicate runs of packaged rest tests

We currently use the full suite of packaged rest tests for each
distribution. We also used to run rest tests within core integ tests,
but this stopped working when we split out the test-framework, since the
test files are in there.

This change simplifies the code to run packaged rest tests just once,
for the integ-test-zip, and removes the unused rest tests from
test-framework. Distributions rest tests now check that all modules
were loaded.

time:
2015-12-04T21:36:29Z
class:
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
comments:
Cleanup ClusterServiceIT#testClusterStateBatchedUpdates

This commit addresses some issues that arose during the review of #14899
but were lost during squash while integrating into master.
 - the number of test threads is dropped to at most eight
 - a local variable is renamed for clarity
 - task priorities are randomized

time:
2015-12-04T21:25:36Z
class:
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
comments:
Fix test bug in ClusterServiceIT#testClusterStateBatchedUpdates

This commit fixes a test bug in
ClusterService#testClusterStateBatchedUpdates. In particular, in the
case that an executor did not receive a task assignment from the random
assignments, it would not have an entry in the map of executors to
counts of assigned tasks. The fix is to just check if each executor has
an entry in the counts map.

time:
2015-12-04T21:11:04Z
class:
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerTests.java
comments:
Merge pull request #15252 from jasontedor/indexing-memory-controller-check-idle-simplification

Simplify IndexingMemoryController#checkIdle

time:
2015-12-04T21:10:43Z
class:
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerTests.java
comments:
Simplify IndexingMemoryController#checkIdle

This commit further simplifies IndexingMemoryController#checkIdle after
the changes in #15251.

time:
2015-12-04T20:58:36Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/PluginsAndModules.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/PluginsInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/forcemerge/RestForceMergeAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestPluginsAction.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerTests.java
core/src/test/java/org/elasticsearch/plugins/PluginInfoTests.java
core/src/test/java/org/elasticsearch/plugins/PluginsServiceTests.java
distribution/integ-test-zip/src/test/java/org/elasticsearch/test/rest/RestIT.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/CountMethodFunctionValues.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/CountMethodValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/DateMethodFunctionValues.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/DateMethodValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionExecutableScript.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionPlugin.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionSearchScript.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/FieldDataFunctionValues.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/FieldDataValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ReplaceableConstFunctionValues.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ReplaceableConstValueSource.java
modules/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionRestIT.java
modules/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionTests.java
modules/lang-expression/src/test/java/org/elasticsearch/script/expression/IndexedExpressionTests.java
modules/lang-expression/src/test/java/org/elasticsearch/script/expression/MoreExpressionTests.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyPlugin.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/BucketScriptTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/BucketSelectorTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/BulkTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/CardinalityTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ContextAndHeaderTransportTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/DateRangeTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/DoubleTermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/EquivalenceTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ExtendedStatsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/FunctionScoreTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/GeoDistanceTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/GeoShapeIntegrationTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HDRPercentileRanksTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HDRPercentilesTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HistogramTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IPv4RangeTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndexLookupTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndexedScriptTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndicesRequestTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/LongTermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MaxTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MinDocCountTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MinTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/RandomScoreFunctionTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/RangeTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ScriptIndexSettingsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ScriptQuerySearchTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ScriptedMetricTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchFieldsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchStatsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SimpleSortTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/StatsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/StringTermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentileRanksTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentilesTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/package-info.java
modules/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovyRestIT.java
modules/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovyScriptTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovySecurityTests.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/EvilSecurityTests.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/PluginManagerTests.java
test-framework/src/main/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
comments:
Merge branch 'master' into getClassLoader

time:
2015-12-04T20:58:02Z
class:
plugins/discovery-ec2/src/main/java/org/elasticsearch/plugin/discovery/ec2/Ec2DiscoveryPlugin.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionPlugin.java
plugins/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
plugins/repository-s3/src/main/java/org/elasticsearch/plugin/repository/s3/S3RepositoryPlugin.java
comments:
ban RuntimePermission("getClassLoader")

this gives more isolation between modules and plugins.

time:
2015-12-04T20:18:40Z
class:
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerTests.java
comments:
Merge pull request #15251 from jasontedor/stateless-indexing-memory-controller

IndexingMemoryController should not track shard index states

time:
2015-12-04T20:16:22Z
class:
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
comments:
Absorb core ShardsIndicesStatusChecker logic into body of run

time:
2015-12-04T20:01:47Z
class:
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerTests.java
comments:
IndexingMemoryController should not track shard index states

This commit modifies IndexingMemoryController to be stateless. Rather
than statefully tracking the indexing status of shards,
IndexingMemoryController can grab all available shards, check their idle
state, and then resize the buffers based on the number of and which
shards are not idle.

The driver for this change is a performance regression that can arise in
some scenarios after #13918. One scenario under which this performance
regression can arise is if an index is deleted and then created
again. Because IndexingMemoryController was previously statefully
tracking the state of shards via a map of ShardIds, the new shards with
the same ShardIds as previously existing shards would not be detected
and therefore their version maps would never be resized from the
defaults. This led to an explosion in the number of merges causing a
degradation in performance.

Closes #15225

time:
2015-12-04T19:44:27Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/PluginsAndModules.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/PluginsInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestPluginsAction.java
core/src/test/java/org/elasticsearch/plugins/PluginInfoTests.java
core/src/test/java/org/elasticsearch/plugins/PluginsServiceTests.java
distribution/integ-test-zip/src/test/java/org/elasticsearch/test/rest/RestIT.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/CountMethodFunctionValues.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/CountMethodValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/DateMethodFunctionValues.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/DateMethodValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionExecutableScript.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionPlugin.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionSearchScript.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/FieldDataFunctionValues.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/FieldDataValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ReplaceableConstFunctionValues.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ReplaceableConstValueSource.java
modules/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionRestIT.java
modules/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionTests.java
modules/lang-expression/src/test/java/org/elasticsearch/script/expression/IndexedExpressionTests.java
modules/lang-expression/src/test/java/org/elasticsearch/script/expression/MoreExpressionTests.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyPlugin.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/BucketScriptTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/BucketSelectorTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/BulkTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/CardinalityTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ContextAndHeaderTransportTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/DateRangeTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/DoubleTermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/EquivalenceTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ExtendedStatsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/FunctionScoreTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/GeoDistanceTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/GeoShapeIntegrationTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HDRPercentileRanksTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HDRPercentilesTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HistogramTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IPv4RangeTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndexLookupTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndexedScriptTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndicesRequestTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/LongTermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MaxTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MinDocCountTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MinTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/RandomScoreFunctionTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/RangeTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ScriptIndexSettingsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ScriptQuerySearchTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ScriptedMetricTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchFieldsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchStatsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SimpleSortTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/StatsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/StringTermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentileRanksTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentilesTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/package-info.java
modules/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovyRestIT.java
modules/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovyScriptTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovySecurityTests.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/EvilSecurityTests.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/PluginManagerTests.java
test-framework/src/main/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
comments:
Merge pull request #15233 from rjernst/jigsaw

Add modules to distributions, and move lang-expression and lang-groovy to them

time:
2015-12-04T19:40:08Z
class:
comments:
Tweaked module error message against non integ-test-zip and made checks
for limiting configuration to certain distributions prettier

time:
2015-12-04T19:29:49Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/index/IndexRequestBuilder.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/update/UpdateHelper.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequestBuilder.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/Diff.java
core/src/main/java/org/elasticsearch/cluster/DiffableUtils.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/main/java/org/elasticsearch/common/geo/builders/LineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiPolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/PolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/NodesFaultDetection.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/FieldTypeLookup.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldTypeReference.java
core/src/main/java/org/elasticsearch/index/mapper/Mapper.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/MergeMappingException.java
core/src/main/java/org/elasticsearch/index/mapper/SourceToParse.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/BaseGeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperLegacy.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/forcemerge/RestForceMergeAction.java
core/src/main/java/org/elasticsearch/rest/action/index/RestIndexAction.java
core/src/main/java/org/elasticsearch/rest/action/update/RestUpdateAction.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/action/index/IndexRequestTests.java
core/src/test/java/org/elasticsearch/action/update/UpdateRequestTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ActiveAllocationIdTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/DiffableTests.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeLookupTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMetadataMapper.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/merge/JavaMultiFieldMergeTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterIT.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
core/src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/AttachmentMapper.java
plugins/mapper-size/src/main/java/org/elasticsearch/index/mapper/size/SizeFieldMapper.java
comments:
Merge branch 'master' into jigsaw

time:
2015-12-04T19:24:21Z
class:
comments:
Merge pull request #15210 from rjernst/buildsrc_test_cleanup

Cleanup integ test classes in buildSrc to be less groovyish

time:
2015-12-04T17:21:57Z
class:
core/src/main/java/org/elasticsearch/rest/action/admin/indices/forcemerge/RestForceMergeAction.java
comments:
Merge remote-tracking branch 'dakrone/remove-get-forcemerge'

time:
2015-12-04T16:32:11Z
class:
comments:
Update Azure Service Management API to 0.9.0

Azure team released new versions of their Java SDK.

According to https://github.com/Azure/azure-sdk-for-java/wiki/Azure-SDK-for-Java-Features, it comes with 2 versions.
We should at least update to `0.9.0` of V1 but also consider moving to the new APIs (V2).

This commit first updates to latest API V1.

```xml
<dependency>
    <groupId>com.microsoft.azure</groupId>
    <artifactId>azure-svc-mgmt-compute</artifactId>
    <version>0.9.0</version>
</dependency>
```

Closes #15209

time:
2015-12-04T16:15:49Z
class:
core/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/FieldTypeLookup.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
comments:
Make MappedFieldType.checkTypeName part of MappedFieldType.checkCompatibility.

time:
2015-12-04T15:36:08Z
class:
core/src/main/java/org/elasticsearch/discovery/zen/fd/NodesFaultDetection.java
comments:
Merge pull request #15212 from ywelsch/fix/rejectedexecution-on-shutdown

Ignore RejectedExecutionException in NodesFaultDetection

time:
2015-12-04T15:35:53Z
class:
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/PipelineExecutionServiceTests.java
comments:
[TEST] adapt to upstream changes

time:
2015-12-04T15:35:20Z
class:
core/src/main/java/org/elasticsearch/discovery/zen/fd/NodesFaultDetection.java
comments:
Ignore RejectedExecutionException in NodesFaultDetection

Closes #15212

time:
2015-12-04T13:46:29Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/FieldTypeLookup.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldTypeReference.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeLookupTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/merge/JavaMultiFieldMergeTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterIT.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
core/src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationIT.java
comments:
Merge pull request #15175 from jpountz/fix/check_mapping_compat_up_front

Check mapping compatibility up-front.

time:
2015-12-04T13:17:07Z
class:
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/PipelineExecutionService.java
comments:
adapt to upstream changes

time:
2015-12-04T13:10:01Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/index/IndexRequestBuilder.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/update/UpdateHelper.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequestBuilder.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/Diff.java
core/src/main/java/org/elasticsearch/cluster/DiffableUtils.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeMappingRefreshAction.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/main/java/org/elasticsearch/common/cli/Terminal.java
core/src/main/java/org/elasticsearch/common/compress/CompressorFactory.java
core/src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressedIndexInput.java
core/src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressedStreamInput.java
core/src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressor.java
core/src/main/java/org/elasticsearch/common/geo/builders/LineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiPolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/PolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/common/lease/Releasables.java
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisRegistry.java
core/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/Mapper.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/MergeMappingException.java
core/src/main/java/org/elasticsearch/index/mapper/SourceToParse.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/BaseGeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperLegacy.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/cache/query/IndicesQueryCache.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/store/IndicesStore.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
core/src/main/java/org/elasticsearch/rest/action/index/RestIndexAction.java
core/src/main/java/org/elasticsearch/rest/action/update/RestUpdateAction.java
core/src/main/java/org/elasticsearch/script/Template.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/SignificanceHeuristicStreams.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/max/MaxBucketPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/min/MinBucketPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelStreams.java
core/src/main/java/org/elasticsearch/search/suggest/Suggesters.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestionContext.java
core/src/main/java/org/elasticsearch/snapshots/Snapshot.java
core/src/main/java/org/elasticsearch/transport/local/LocalTransport.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
core/src/test/java/org/elasticsearch/action/index/IndexRequestTests.java
core/src/test/java/org/elasticsearch/action/update/UpdateRequestTests.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/client/transport/FailAndRetryMockTransport.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ActiveAllocationIdTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/DiffableTests.java
core/src/test/java/org/elasticsearch/common/cli/TerminalTests.java
core/src/test/java/org/elasticsearch/common/compress/lzf/CompressedStreamOutput.java
core/src/test/java/org/elasticsearch/common/compress/lzf/CorruptedCompressorTests.java
core/src/test/java/org/elasticsearch/common/compress/lzf/LZFCompressedStreamOutput.java
core/src/test/java/org/elasticsearch/common/compress/lzf/LZFCompressedStreamTests.java
core/src/test/java/org/elasticsearch/common/compress/lzf/LZFTestCompressor.java
core/src/test/java/org/elasticsearch/common/compress/lzf/LZFXContentTests.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/IndexSettingsTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisTestsHelper.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
core/src/test/java/org/elasticsearch/index/codec/CodecTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMetadataMapper.java
core/src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterIT.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
core/src/test/java/org/elasticsearch/indices/cache/query/IndicesQueryCacheTests.java
core/src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationIT.java
core/src/test/java/org/elasticsearch/recovery/RecoveryWhileUnderLoadIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/significant/SignificanceHeuristicTests.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/compress/SearchSourceCompressTests.java
core/src/test/java/org/elasticsearch/search/suggest/ContextCompletionSuggestSearchIT.java
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeServiceImpl.java
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/AttachmentMapper.java
plugins/mapper-size/src/main/java/org/elasticsearch/index/mapper/size/SizeFieldMapper.java
test-framework/src/main/java/org/elasticsearch/test/IndexSettingsModule.java
test-framework/src/main/java/org/elasticsearch/test/TestSearchContext.java
test-framework/src/main/java/org/elasticsearch/test/store/MockFSDirectoryService.java
test-framework/src/main/java/org/elasticsearch/test/transport/CapturingTransport.java
comments:
Merge branch 'master' into feature/ingest

time:
2015-12-04T13:02:04Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/FieldTypeLookup.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldTypeReference.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeLookupTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/merge/JavaMultiFieldMergeTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterIT.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
core/src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationIT.java
comments:
Check mapping compatibility up-front.

Today we only check mapping compatibility when adding mappers to the
lookup structure. However, at this stage, the mapping has already been merged
partially, so we can leave mappings in a bad state. This commit removes the
compatibility check from Mapper.merge entirely and performs it _before_ we
call Mapper.merge.

One minor regression is that the exception messages don't group together errors
that come from MappedFieldType.checkCompatibility and Mapper.merge. Since we
run the former before the latter, Mapper.merge won't even have a chance to let
the user know about conflicts if conflicts were discovered by
MappedFieldType.checkCompatibility.

Close #15049

time:
2015-12-04T12:55:54Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/Mapper.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/MergeMappingException.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/BaseGeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperLegacy.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMetadataMapper.java
core/src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterIT.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
core/src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/AttachmentMapper.java
plugins/mapper-size/src/main/java/org/elasticsearch/index/mapper/size/SizeFieldMapper.java
comments:
Merge pull request #15177 from jpountz/remove/MergeMappingException

Remove MergeMappingException.

time:
2015-12-04T11:57:52Z
class:
core/src/main/java/org/elasticsearch/common/geo/builders/LineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiPolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/PolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
comments:
Geo: Remove `translated` state from LineStringBuilder

The `translated` flag makes LineStringBuilder stateful and gets set
to true under certain conditions when building a Shape or Geometry
from the ShapeBuilder. This makes building operations not be idempotent,
so calling build() more than once on a LineStringBuilder might change the
builder itself. This PR fixes this by replacing the instance variable by
a local `translated` flag that is only updated internally during the
building process and created again on any subsequent calls to build()
or buildGeometry().

time:
2015-12-04T11:56:26Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/Mapper.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/MergeMappingException.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/BaseGeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperLegacy.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMetadataMapper.java
core/src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterIT.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
core/src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/AttachmentMapper.java
plugins/mapper-size/src/main/java/org/elasticsearch/index/mapper/size/SizeFieldMapper.java
comments:
Remove MergeMappingException.

Failures to merge a mapping can either come as a MergeMappingException if they
come from Mapper.merge or as an IllegalArgumentException if they come from
FieldTypeLookup.checkCompatibility. I think we should settle on one: this pull
request replaces all usage of MergeMappingException with
IllegalArgumentException.

time:
2015-12-04T10:51:22Z
class:
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/index/IndexRequestBuilder.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/update/UpdateHelper.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequestBuilder.java
core/src/main/java/org/elasticsearch/index/mapper/SourceToParse.java
core/src/main/java/org/elasticsearch/rest/action/index/RestIndexAction.java
core/src/main/java/org/elasticsearch/rest/action/update/RestUpdateAction.java
core/src/test/java/org/elasticsearch/action/index/IndexRequestTests.java
core/src/test/java/org/elasticsearch/action/update/UpdateRequestTests.java
core/src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
comments:
Java api: allow to specify ttl as a time value (either as a string or using TimeValue)

The ttl could be specified as a time value only via the REST layer. That is now possible via java api too, either as a string or as a proper TimeValue. The internal format in IndexRequest becomes now TimeValue, which will then still converted to a long before storing the document.

Closes #15047

time:
2015-12-04T10:33:50Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/Diff.java
core/src/main/java/org/elasticsearch/cluster/DiffableUtils.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ActiveAllocationIdTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/DiffableTests.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
comments:
Merge pull request #14964 from ywelsch/feature/persist-allocid-indexmetadata

Persist currently started allocation IDs to index metadata

time:
2015-12-04T10:31:48Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ActiveAllocationIdTests.java
comments:
Persist currently started allocation IDs to index metadata

Closes #14964

time:
2015-12-04T10:24:22Z
class:
core/src/main/java/org/elasticsearch/cluster/Diff.java
core/src/main/java/org/elasticsearch/cluster/DiffableUtils.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/test/java/org/elasticsearch/cluster/serialization/DiffableTests.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
comments:
Add capabilities for serializing map-based cluster state diffs

- Supports ImmutableOpenIntMap besides java.util.Map and ImmutableOpenMap
- Map keys can be any value (not only String)
- Map values do not have to implement Diffable interface. In that case custom value serializer needs to be provided.

time:
2015-12-04T09:01:02Z
class:
comments:
Merge pull request #15231 from bt5e/master

fixed minor typo

time:
2015-12-04T08:58:03Z
class:
comments:
Merge pull request #15227 from popol1991/patch-1

Update scripting.asciidoc

time:
2015-12-04T08:48:00Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySettings.java
comments:
Remove ancient deprecated and alternative recovery settings

Several settings have been deprecated or are replaced with new settings after refactorings
in version 1.x. This commit removes the support for these settings.

The settings are:

 * `index.shard.recovery.translog_size`
 * `index.shard.recovery.translog_ops`
 * `index.shard.recovery.file_chunk_size`
 * `index.shard.recovery.concurrent_streams`
 * `index.shard.recovery.concurrent_small_file_streams`
 * `indices.recovery.max_size_per_sec`

time:
2015-12-04T08:25:43Z
class:
comments:
fix bats tests

time:
2015-12-04T07:59:01Z
class:
comments:
Merge pull request #15205 from imacube/imacube-plugins-s3-update

Update repository-s3.asciidoc

time:
2015-12-04T07:38:56Z
class:
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
comments:
fix broken plugin warning

time:
2015-12-04T07:34:33Z
class:
comments:
Merge pull request #15226 from rjernst/fix_update_shas

Fix updateShas to not barf on disabled license checks and even compile correctly

time:
2015-12-04T07:23:34Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
comments:
improve logger output on startup

time:
2015-12-04T07:03:14Z
class:
comments:
Fix distros to put modules dir int he right place and qa rest tests to
use the real zip

time:
2015-12-04T06:48:51Z
class:
comments:
add modules check to plugins smoke test

time:
2015-12-04T06:43:07Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/PluginsAndModules.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/test/java/org/elasticsearch/plugins/PluginInfoTests.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/PluginManagerTests.java
test-framework/src/main/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
comments:
update lists, rename stuff to be clearer, remove public method that is unused

time:
2015-12-04T06:13:17Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/PluginsInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestPluginsAction.java
core/src/test/java/org/elasticsearch/plugins/PluginInfoTests.java
test-framework/src/main/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
comments:
list modules separately in pluginservice

time:
2015-12-04T06:07:22Z
class:
comments:
force integ tests for modules to run before distribution integ tests

time:
2015-12-04T04:53:48Z
class:
comments:
fixed minor typo

time:
2015-12-04T04:53:06Z
class:
comments:
added gradle checks for modules configuration, and ability to add
modules to integ test cluster
@rjernst why do we have these checks here? Can't a module contain packaging files? If it needs them, where should they be placed? These questions come from ingest, I am looking into making it a module in the feature/ingest module.

I just opened a WIP PR for it, probably better to have this discussion there: #15601


time:
2015-12-04T04:36:02Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
comments:
don't let pluginmanager install modules

time:
2015-12-04T04:25:57Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
comments:
add leniency for tests

time:
2015-12-04T04:02:44Z
class:
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/common/cli/Terminal.java
core/src/test/java/org/elasticsearch/common/cli/TerminalTests.java
comments:
Merge branch 'master' into jigsaw

time:
2015-12-04T04:01:03Z
class:
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/test/java/org/elasticsearch/plugins/PluginsServiceTests.java
comments:
add module loading logic (untested)

time:
2015-12-04T03:59:33Z
class:
comments:
Merge pull request #15230 from rjernst/buildsrc_eclipse_settings

Add .settings for buildSrc on gradle eclipse

time:
2015-12-04T03:56:11Z
class:
comments:
Build: Add .settings for buildSrc on gradle eclipse

We have eclipse settings added to all projects when running gradle
eclipse, but buildSrc is its own special project that is not
encapsulated by allprojects blocks. This adds eclipse settings to
buildSrc.

time:
2015-12-04T03:37:27Z
class:
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/EvilSecurityTests.java
comments:
add test for modules/

time:
2015-12-04T03:34:24Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/env/Environment.java
comments:
add modules/ infra (but no loading via pluginservice yet)

time:
2015-12-04T03:01:33Z
class:
core/src/main/java/org/elasticsearch/common/cli/Terminal.java
core/src/test/java/org/elasticsearch/common/cli/TerminalTests.java
comments:
Merge pull request #15228 from rjernst/cli_error

Cli tools: Use toString instead of getMessage for exceptions

time:
2015-12-04T01:27:45Z
class:
core/src/main/java/org/elasticsearch/common/cli/Terminal.java
core/src/test/java/org/elasticsearch/common/cli/TerminalTests.java
comments:
Cli tools: Use toString instead of getMessage for exceptions

When not in debug mode, we currently only print the message of an
exception. However, this is not usually useful without knowing what the
exception type was. This change makes cli tools use toString() on the
exception so we get the type + message.

time:
2015-12-04T01:24:20Z
class:
comments:
Update scripting.asciidoc

Fixed minor typo in the example of native scripting request.

time:
2015-12-03T23:21:14Z
class:
comments:
Build: Fix updateShas to not barf on disabled license checks and even compile correctly

These were just results of not testing properly after refactoring.

closes #15224

time:
2015-12-03T22:52:51Z
class:
distribution/integ-test-zip/src/test/java/org/elasticsearch/test/rest/RestIT.java
comments:
Add integ-test-zip distribution

time:
2015-12-03T22:18:26Z
class:
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/CountMethodFunctionValues.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/CountMethodValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/DateMethodFunctionValues.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/DateMethodValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionExecutableScript.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionPlugin.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionSearchScript.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/FieldDataFunctionValues.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/FieldDataValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ReplaceableConstFunctionValues.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ReplaceableConstValueSource.java
modules/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionRestIT.java
modules/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionTests.java
modules/lang-expression/src/test/java/org/elasticsearch/script/expression/IndexedExpressionTests.java
modules/lang-expression/src/test/java/org/elasticsearch/script/expression/MoreExpressionTests.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyPlugin.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/BucketScriptTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/BucketSelectorTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/BulkTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/CardinalityTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ContextAndHeaderTransportTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/DateRangeTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/DoubleTermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/EquivalenceTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ExtendedStatsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/FunctionScoreTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/GeoDistanceTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/GeoShapeIntegrationTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HDRPercentileRanksTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HDRPercentilesTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HistogramTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IPv4RangeTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndexLookupTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndexedScriptTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndicesRequestTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/LongTermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MaxTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MinDocCountTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MinTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/RandomScoreFunctionTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/RangeTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ScriptIndexSettingsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ScriptQuerySearchTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ScriptedMetricTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchFieldsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchStatsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SimpleSortTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/StatsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/StringTermsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentileRanksTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentilesTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/package-info.java
modules/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovyRestIT.java
modules/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovyScriptTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovySecurityTests.java
comments:
Added modules, distributions now include them (just plugins installed in
a diff dir)

time:
2015-12-03T22:17:01Z
class:
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
comments:
Merge pull request #15221 from jasontedor/avoid-trace-logging-allocations-in-transport-broadcast-by-node-action

Avoid trace logging allocations in TransportBroadcastByNodeAction

time:
2015-12-03T20:56:15Z
class:
core/src/main/java/org/elasticsearch/rest/action/admin/indices/forcemerge/RestForceMergeAction.java
comments:
Remove `GET` option for /_forcemerge

POST should be used to indicate this is not just a retrieval operation.

Resolves #15165

time:
2015-12-03T20:17:09Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessor.java
comments:
Merge pull request #15181 from martijnvg/ingest_geoip_only_read_mmdb_files

[Ingest] The geoip processor should only try to read *.mmdb files from the geoip config directory

time:
2015-12-03T19:38:16Z
class:
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
comments:
Avoid trace logging allocations in TransportBroadcastByNodeAction

This commit wraps the trace logging statements in
TransportBroadcastByNodeAction in trace enabled checks to avoid
unnecessarily allocating objects.

The most egregious offenders were the two trace logging statements in
BroadcastByNodeTransportRequestHandler#onShardOperation. Aside from the
usual object allocations that occur when invoking ESLogger#trace (the
allocated object array for the varargs Object... parameter), these two
logging statements were invoking ShardRouting#shortSummary generating a
bunch of char arrays and Strings (from the StringBuilder, and so a bunch
of array copies as well). In a scenario where there are a lot of shards
and this method is being invoked frequently (e.g., constantly hitting
the _stats endpoint), these two unprotected trace logging statements
were generating a lot of unnecessary allocations.

time:
2015-12-03T19:10:54Z
class:
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
comments:
Merge pull request #15023 from jasontedor/shard-started-batch

Use general cluster state batching mechanism for shard started

time:
2015-12-03T19:08:35Z
class:
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
comments:
Remove obsolete flag in ShardStateAction$ShardRoutingEntry

time:
2015-12-03T19:04:10Z
class:
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
comments:
Apply shard starts in a single batch

time:
2015-12-03T19:04:10Z
class:
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
comments:
Use general cluster state batching mechanism for shard started

This commit modifies the handling of shard started cluster state updates
to use the general cluster state batching mechanism. An advantage of
this approach is we now get correct per-listener notification on
failures.

time:
2015-12-03T19:02:48Z
class:
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
comments:
Merge pull request #15016 from jasontedor/shard-failure-batch

Use general cluster state batching mechanism for shard failures

time:
2015-12-03T18:42:05Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
comments:
Remove unnecessary method in AllocationService

time:
2015-12-03T18:41:34Z
class:
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
comments:
Rename variable for clarity in ShardFailedClusterStateHandler#execute

time:
2015-12-03T17:27:20Z
class:
comments:
Made requested changes

Moved section to before testing section and made requested formatting changes.

time:
2015-12-03T16:27:35Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/GrokProcessor.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/grok/GrokProcessorFactoryTests.java
comments:
Merge pull request #15167 from talevy/custom_grok_patterns

add ability to define custom grok patterns within processor config

time:
2015-12-03T16:24:07Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/GrokProcessor.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/grok/GrokProcessorFactoryTests.java
comments:
add ability to define custom grok patterns within processor config

time:
2015-12-03T16:08:00Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/GrokProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/PatternUtils.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/grok/GrokTests.java
comments:
Merge pull request #15166 from talevy/remove_pattern_utils

move PatternUtils#loadBankFromStream into GrokProcessor.Factory

time:
2015-12-03T15:26:08Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
comments:
Merge pull request #15217 from jpountz/fix/simplify_MetaDataMappingService

Simplify MetaDataMappingService.

time:
2015-12-03T15:06:51Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
comments:
Simplify MetaDataMappingService.

Now that we create all types on indices that receive a mapping update, creation
of temporary indices could get simpler.

time:
2015-12-03T14:19:04Z
class:
plugins/ingest/src/test/java/org/elasticsearch/ingest/IngestDocumentTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/PipelineTests.java
comments:
Removed pipeline tests with a simpler tests

The PipelineTests tried to test if the configured map/list in set processor wasn't modified while documents were ingested. Creating a pipeline programmatically created more noise than the test needed. The new tests in IngestDocumentTests have the same goal, but is much smaller and clearer by directly testing against IngestDocument.

time:
2015-12-03T14:05:19Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
comments:
Remove unnecessary early-out in MetaDataMappingService#executeRefresh

This commit removes a simple early-out check in
MetaDataMappingService#executeRefresh. The early-out is unnecessary
because the cluster state task execution framework will not invoke
ClusterStateTaskExecutor#execute if the list of tasks is empty.

time:
2015-12-03T14:05:19Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
comments:
Update stale Javadoc in MetaDataMappingService#executeRefresh

This commit updates a stale Javadoc on
MetaDataMappingService#executeRefresh. Previously this method handled
refresh and update tasks. Update tasks have been removed and the method
was renamed, but the Javadoc was not updated to reflect this.

time:
2015-12-03T13:24:19Z
class:
comments:
Fix version order for breaking changes docs

time:
2015-12-03T12:35:16Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
comments:
index template: Disallow index template pattern to be the same as an alias name

This can cause index creation to fail down the line.

time:
2015-12-03T09:49:54Z
class:
comments:
Build: Cleanup test classes in buildSrc to be less groovyish

time:
2015-12-03T09:00:48Z
class:
core/src/test/java/org/elasticsearch/recovery/RecoveryWhileUnderLoadIT.java
comments:
reduced the number of shards in RecoveryWhileUnderLoadIT.testRecoveryWhileRelocating

time:
2015-12-03T08:55:07Z
class:
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/store/IndicesStore.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
comments:
Move IndicesService.canDeleteShardContent to use IndexSettings

Just a minor cleanup/simplification

Closes #15059
Closes #15150

time:
2015-12-03T08:46:30Z
class:
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
comments:
Merge pull request #15029 from jpountz/remove/onIndexService

Remove Plugin.onIndexService.

time:
2015-12-03T08:41:06Z
class:
core/src/test/java/org/elasticsearch/indices/cache/query/IndicesQueryCacheTests.java
comments:
Add missing license header.

time:
2015-12-03T08:38:08Z
class:
core/src/main/java/org/elasticsearch/indices/cache/query/IndicesQueryCache.java
core/src/test/java/org/elasticsearch/indices/cache/query/IndicesQueryCacheTests.java
comments:
Merge pull request #15202 from jpountz/fix/clear_empty_query_cache

Fix NPE when a segment with an empty cache gets closed.

time:
2015-12-03T07:27:27Z
class:
comments:
Merge pull request #15207 from rmuir/nuke_third_party_sigs.txt

forbidden third-party-signatures -> core-signatures

time:
2015-12-03T06:45:06Z
class:
comments:
forbidden third-party-signatures -> core-signatures

This is a relic from shading where it was trickier to implement.
Third party signatures are already in e.g. the test list, there
is no reason to separate them out.

Instead, we could have a third party signatures that does
something different... like keep tabs on third party libraries.

time:
2015-12-03T00:07:57Z
class:
comments:
Update repository-s3.asciidoc

Documentation of AWS VPC public vs. private subnets and their affects on accessing S3.

time:
2015-12-02T21:29:04Z
class:
core/src/main/java/org/elasticsearch/common/lease/Releasables.java
comments:
Remove unused import in o.e.c.l.Releasables

time:
2015-12-02T20:59:20Z
class:
core/src/main/java/org/elasticsearch/indices/cache/query/IndicesQueryCache.java
core/src/test/java/org/elasticsearch/indices/cache/query/IndicesQueryCacheTests.java
comments:
Fix NPE when a segment with an empty cache gets closed.

This is due to the fact that the query cache will still call the
onDocIdSetEviction callback in this case but with a number of entries equal to
zero.

Close #15043

time:
2015-12-02T19:03:56Z
class:
comments:
Build: Fix dependency licenses check to correctly skip projects without dependencies

time:
2015-12-02T18:01:33Z
class:
core/src/test/java/org/elasticsearch/search/suggest/ContextCompletionSuggestSearchIT.java
comments:
[TEST] geo completions work with geo point fields

time:
2015-12-02T16:00:43Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisRegistry.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
core/src/main/java/org/elasticsearch/script/Template.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/SignificanceHeuristicStreams.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/max/MaxBucketPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/min/MinBucketPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelStreams.java
core/src/main/java/org/elasticsearch/search/suggest/Suggesters.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestionContext.java
core/src/main/java/org/elasticsearch/snapshots/Snapshot.java
core/src/main/java/org/elasticsearch/transport/local/LocalTransport.java
core/src/test/java/org/elasticsearch/client/transport/FailAndRetryMockTransport.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/IndexSettingsTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisTestsHelper.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
core/src/test/java/org/elasticsearch/index/codec/CodecTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/significant/SignificanceHeuristicTests.java
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeServiceImpl.java
test-framework/src/main/java/org/elasticsearch/test/IndexSettingsModule.java
test-framework/src/main/java/org/elasticsearch/test/TestSearchContext.java
test-framework/src/main/java/org/elasticsearch/test/store/MockFSDirectoryService.java
test-framework/src/main/java/org/elasticsearch/test/transport/CapturingTransport.java
comments:
Merge pull request #15187 from jasontedor/ban-type-unsafe-empty-collections-fields

Remove and forbid use of the type-unsafe empty Collections fields

time:
2015-12-02T15:55:25Z
class:
core/src/main/java/org/elasticsearch/script/Template.java
comments:
Remove unchecked warnings rendered unnecessary

time:
2015-12-02T15:49:35Z
class:
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeServiceImpl.java
comments:
Cleaner type-inference assistance

time:
2015-12-02T15:41:59Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisRegistry.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
core/src/main/java/org/elasticsearch/script/Template.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/SignificanceHeuristicStreams.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/max/MaxBucketPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/min/MinBucketPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelStreams.java
core/src/main/java/org/elasticsearch/search/suggest/Suggesters.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestionContext.java
core/src/main/java/org/elasticsearch/snapshots/Snapshot.java
core/src/main/java/org/elasticsearch/transport/local/LocalTransport.java
core/src/test/java/org/elasticsearch/client/transport/FailAndRetryMockTransport.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/IndexSettingsTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisTestsHelper.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
core/src/test/java/org/elasticsearch/index/codec/CodecTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/significant/SignificanceHeuristicTests.java
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeServiceImpl.java
test-framework/src/main/java/org/elasticsearch/test/IndexSettingsModule.java
test-framework/src/main/java/org/elasticsearch/test/TestSearchContext.java
test-framework/src/main/java/org/elasticsearch/test/store/MockFSDirectoryService.java
test-framework/src/main/java/org/elasticsearch/test/transport/CapturingTransport.java
comments:
Remove and forbid use of the type-unsafe empty Collections fields

This commit removes and now forbids all uses of the type-unsafe empty
Collections fields Collections#EMPTY_LIST, Collections#EMPTY_MAP, and
Collections#EMPTY_SET. The type-safe methods Collections#emptyList,
Collections#emptyMap, and Collections#emptySet should be used instead.

time:
2015-12-02T15:32:49Z
class:
core/src/main/java/org/elasticsearch/cluster/action/index/NodeMappingRefreshAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
comments:
Merge pull request #15142 from jpountz/fix/index_level_mappings

Treat mappings at an index-level feature.

time:
2015-12-02T15:32:12Z
class:
core/src/main/java/org/elasticsearch/cluster/action/index/NodeMappingRefreshAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
comments:
Treat mappings at an index-level feature.

Today we try to have type-level granularity when dealing with mappings. This
does not play well with the cross-type validations that we are adding. For
instance we prevent the `_parent` field to point to an existing type. This
validation would be skipped today in the case of dedicated master nodes, since
those master nodes would only create the type that is being updated when
updating a mapping.

time:
2015-12-02T13:38:49Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessor.java
comments:
The geoip processor should only try to read *.mmdb files from the geoip config directory

time:
2015-12-02T12:20:11Z
class:
core/src/main/java/org/elasticsearch/common/compress/CompressorFactory.java
core/src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressedIndexInput.java
core/src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressedStreamInput.java
core/src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressor.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/common/compress/lzf/CompressedStreamOutput.java
core/src/test/java/org/elasticsearch/common/compress/lzf/CorruptedCompressorTests.java
core/src/test/java/org/elasticsearch/common/compress/lzf/LZFCompressedStreamOutput.java
core/src/test/java/org/elasticsearch/common/compress/lzf/LZFCompressedStreamTests.java
core/src/test/java/org/elasticsearch/common/compress/lzf/LZFTestCompressor.java
core/src/test/java/org/elasticsearch/common/compress/lzf/LZFXContentTests.java
core/src/test/java/org/elasticsearch/search/compress/SearchSourceCompressTests.java
comments:
Merge pull request #15172 from rmuir/nuke_unused_deps

remove unused core dependencies

time:
2015-12-02T11:23:51Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataTests.java
comments:
metadata: If an alias and index share the same name then a descriptive error should be thrown

In 1.x it is possible via index templates to create an index with an alias with the same name as the index. The index name must match the index template and have an alias with the same name as the index being created.

time:
2015-12-02T11:17:43Z
class:
comments:
docs: undo accidental rename added via: 5e07644788a29a36c1c91fd7e1de7b113464fdf9

time:
2015-12-02T10:21:15Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/cluster/AckedClusterStateTaskListener.java
core/src/main/java/org/elasticsearch/cluster/AckedClusterStateUpdateTask.java
core/src/main/java/org/elasticsearch/cluster/ClusterService.java
core/src/main/java/org/elasticsearch/cluster/ClusterStateTaskConfig.java
core/src/main/java/org/elasticsearch/cluster/ClusterStateTaskExecutor.java
core/src/main/java/org/elasticsearch/cluster/ClusterStateTaskListener.java
core/src/main/java/org/elasticsearch/cluster/ClusterStateUpdateTask.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/CustomFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/FieldTypeLookup.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/highlight/AbstractHighlighterBuilder.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightBuilder.java
core/src/main/java/org/elasticsearch/search/highlight/HighlighterParseElement.java
core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/common/geo/builders/AbstractShapeBuilderTestCase.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTests.java
core/src/test/java/org/elasticsearch/http/netty/pipelining/HttpPipeliningHandlerTests.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeLookupTests.java
core/src/test/java/org/elasticsearch/index/mapper/MapperServiceTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
core/src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AbstractGeoTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TopHitsIT.java
core/src/test/java/org/elasticsearch/search/highlight/HighlightBuilderTests.java
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
core/src/test/java/org/elasticsearch/snapshots/AbstractSnapshotIntegTestCase.java
core/src/test/java/org/elasticsearch/transport/NettySizeHeaderFrameDecoderTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyScheduledPingTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
core/src/test/java/org/elasticsearch/transport/netty/SimpleNettyTransportTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/GeoDistanceTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchFieldsTests.java
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/AttachmentMapper.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/SimpleAttachmentMapperTests.java
test-framework/src/main/java/org/elasticsearch/test/cluster/NoopClusterService.java
test-framework/src/main/java/org/elasticsearch/test/cluster/TestClusterService.java
test-framework/src/main/java/org/elasticsearch/test/disruption/BlockClusterStateProcessing.java
test-framework/src/main/java/org/elasticsearch/test/disruption/SlowClusterStateProcessing.java
comments:
Merge branch 'master' into feature/ingest

time:
2015-12-02T10:16:02Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/geoip/DatabaseReaderService.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessor.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/geoip/DatabaseReaderServiceTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessorFactoryTests.java
comments:
Removed the lazy cache in DatabaseReaderService and eagerly build all available databases.

time:
2015-12-02T09:22:52Z
class:
comments:
Remove "empty" licenses dir

Follow up #15168

We don't need to have "fake" licenses dir anymore.

time:
2015-12-02T09:08:35Z
class:
comments:
Fix build failure caused by Licenses Check in test-framework module

Typical failure:

```
:test-framework:dependencyLicenses (Thread[main,5,main]) started.
:test-framework:dependencyLicenses
Executing task ':test-framework:dependencyLicenses' (up-to-date check took 0.0 secs) due to:
  Task has not declared any outputs.
:test-framework:dependencyLicenses FAILED
:test-framework:dependencyLicenses (Thread[main,5,main]) completed. Took 0.023 secs.

FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':test-framework:dependencyLicenses'.
> Licences dir /mnt/jenkins/workspace/es_core_master_strong/test-framework/licenses does not exist, but there are dependencies
```

Related to #15168

time:
2015-12-02T08:25:52Z
class:
comments:
Fixing typo

Replace "Too shade or not to shade..." with "To shade or not to shade..."

(cherry picked from commit f44c5a4)
(cherry picked from commit 12d5510)

time:
2015-12-02T07:50:53Z
class:
comments:
Merge pull request #15168 from rjernst/precommit_cleanup

Cleanup precommit task gradle code

time:
2015-12-02T06:36:54Z
class:
comments:
Build: Cleanup precommit task gradle code

This change attempts to simplify the gradle tasks for precommit. One
major part of that is using a "less groovy style", as well as being more
consistent about how tasks are created and where they are configured. It
also allows the things creating the tasks to set up inter task
dependencies, instead of assuming them (ie decoupling from tasks
eleswhere in the build).

time:
2015-12-02T05:37:30Z
class:
comments:
Enable ES_INCLUDE

time:
2015-12-02T04:03:54Z
class:
core/src/main/java/org/elasticsearch/common/compress/CompressorFactory.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
comments:
improve exception and remove complex test, such indexes will not be loaded into a closed state.

we will not load them at all.

time:
2015-12-02T03:22:11Z
class:
core/src/main/java/org/elasticsearch/common/compress/CompressorFactory.java
core/src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressedIndexInput.java
core/src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressedStreamInput.java
core/src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressor.java
core/src/test/java/org/elasticsearch/common/compress/lzf/CompressedStreamOutput.java
core/src/test/java/org/elasticsearch/common/compress/lzf/CorruptedCompressorTests.java
core/src/test/java/org/elasticsearch/common/compress/lzf/LZFCompressedStreamOutput.java
core/src/test/java/org/elasticsearch/common/compress/lzf/LZFCompressedStreamTests.java
core/src/test/java/org/elasticsearch/common/compress/lzf/LZFTestCompressor.java
core/src/test/java/org/elasticsearch/common/compress/lzf/LZFXContentTests.java
core/src/test/java/org/elasticsearch/search/compress/SearchSourceCompressTests.java
comments:
remove unused dependencies

time:
2015-12-01T23:46:02Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/GrokProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/PatternUtils.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/grok/GrokTests.java
comments:
move PatternUtils#loadBankFromStream into GrokProcessor.Factory

time:
2015-12-01T19:07:34Z
class:
comments:
Merge pull request #15149 from rmuir/compact3

compile against compact3 profile

time:
2015-12-01T19:07:17Z
class:
comments:
[DOCS] add missing comma

time:
2015-12-01T19:04:46Z
class:
comments:
Build: Add ability to specify the compact profile for javac

time:
2015-12-01T18:58:24Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/rename/RenameProcessor.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/rename/RenameProcessorTests.java
comments:
Make rename processor less error prone

Rename processor now checks whether the field to rename exists and throws exception if it doesn't. It also checks that the new field to rename to doesn't exist yet, and throws exception otherwise. Also we make sure that the rename operation is atomic, otherwise things may break between the remove and the set and we'd leave the document in an inconsistent state.

Note that the requirement for the new field name to not exist simplifies the usecase for e.g. { "rename" : { "list.1": "list.2"} } as such a rename wouldn't be accepted if list is actually a list given that either list.2 already exists or the index is out of bounds for the existing list. If one really wants to replace an existing field, that field needs to be removed first through remove processor and then rename can be used.

time:
2015-12-01T18:16:28Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
comments:
Fix typo in field name in MetaDataMappingService

time:
2015-12-01T17:20:25Z
class:
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestPlugin.java
comments:
and now make use of the lifecycle infrastructure

time:
2015-12-01T17:18:44Z
class:
comments:
Fix REST test command line instructions

Closes #15154

time:
2015-12-01T17:14:53Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/FieldTypeLookup.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeLookupTests.java
core/src/test/java/org/elasticsearch/index/mapper/MapperServiceTests.java
comments:
Merge pull request #15156 from jpountz/fix/default_type

Don't treat _default_ as a regular type.

time:
2015-12-01T17:13:11Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/GrokProcessor.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/grok/GrokProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/grok/GrokTests.java
comments:
Merge pull request #15132 from talevy/no_match_for_grok

[Ingest] No match for grok

time:
2015-12-01T17:03:11Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/FieldTypeLookup.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeLookupTests.java
core/src/test/java/org/elasticsearch/index/mapper/MapperServiceTests.java
comments:
Don't treat _default_ as a regular type.

This adds safety that you can't index into the `_default_` type (it was possible
before), and can't add default mappers to the field type lookups (was not
happening in tests but I think this is still a good check).

Also MapperService.types() now excludes `_default` so that eg. the `ids` query
does not try to search on this type anymore.

time:
2015-12-01T16:58:58Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/GrokProcessor.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/grok/GrokProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/grok/GrokTests.java
comments:
throw exception when grok processor does not match

time:
2015-12-01T16:32:37Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/Processor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/GrokProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestModule.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/PipelineStore.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/grok/GrokProcessorFactoryTests.java
comments:
Removed pollution from the Processor.Factory interface.

1) It no longer extends from Closeable.
2) Removed the config directory setter. Implementation that relied on it, now get the location to the config dir via their constructors.
I suppose I missed this from last week.

does it make sense to have this be a default for all processor factories? I understand they do not all need one, but I think consistency would be good. 

The main reason I bring this up is that I am interested in introducing the ability for Processors to support `on_failure` processors to be executed. This would either be implemented by each processor separately, or it would be inherited by an abstract Processor and abstract Processor.Factory. In either case, the knowledge of the global `Map<String, ProcessorFactoryProvider> processorFactoryProviders` object would be required to construct the processors from a config. I was thinking of having this be passed to the processor factories in a similar fashion to how the config path is being done for grok and geoip.

what do you think?

@martijnvg

@talevy If we create a base class then adding the config path as one of its parameters makes sense to me. 


time:
2015-12-01T16:19:47Z
class:
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
comments:
Apply shard failures in a single batch

time:
2015-12-01T16:12:34Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessor.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessorTests.java
comments:
geo processor should add a list of doubles instead of an array to the ingest document

time:
2015-12-01T15:37:32Z
class:
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
comments:
Merge pull request #15144 from jpountz/fix/ignored_merge_failure

Mappings: Don't ignore merge failures.

time:
2015-12-01T15:19:23Z
class:
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
comments:
Use general cluster state batching mechanism for shard failures

This commit modifies the handling of shard failure cluster state updates
to use the general cluster state batching mechanism. An advantage of
this approach is we now get correct per-listener notification on
failures.

time:
2015-12-01T15:02:04Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/IngestDocument.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/IngestDocumentTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/PipelineTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/RandomDocumentPicks.java
comments:
If a list or map value gets set on ingest document a deep copy needs to be made.

If this is not done this can lead to processor configuration being changed by an bulk or index request.

time:
2015-12-01T14:40:54Z
class:
comments:
compile against compact3 profile

time:
2015-12-01T14:28:33Z
class:
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/highlight/AbstractHighlighterBuilder.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightBuilder.java
core/src/main/java/org/elasticsearch/search/highlight/HighlighterParseElement.java
core/src/test/java/org/elasticsearch/search/highlight/HighlightBuilderTests.java
comments:
Merge pull request #15113 from cbuescher/highligh-builder-refactoring

Make HighlighterBuilder implement Writable, equals and hashCode

time:
2015-12-01T14:17:09Z
class:
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/highlight/AbstractHighlighterBuilder.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightBuilder.java
core/src/main/java/org/elasticsearch/search/highlight/HighlighterParseElement.java
core/src/test/java/org/elasticsearch/search/highlight/HighlightBuilderTests.java
comments:
Refactor HighlighterBuilder

This change pulls out the common fields that HighlighterBuilder shares with
its nested Field class into a new abstract CommonHighlighterOptions superclass
which also gets equals() and hashCode() method and methods to serialize the
common fields to a StreamOutput and read them from a stream.

Relates to #15044

time:
2015-12-01T13:07:32Z
class:
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/GeoDistanceTests.java
comments:
Query DSL: Enforce distance is greater than 0 in geo distance query

Validation is not done as part of the distance setter method and tested in GeoDistanceQueryBuilderTests. Fixed GeoDistanceTests to adapt to the new validation.

Closes #15135

time:
2015-12-01T12:53:23Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationIT.java
comments:
Merge pull request #15130 from jasontedor/fix-batch-update-mappings

Preserve existing mappings on batch mapping updates

time:
2015-12-01T12:52:32Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
comments:
Add each mapping at most once on batch mapping updates

When creating an index on master for the purpose of updating mappings, a
mapping being updated could needlessly be merged multiple times. This
commit ensures that each mapping is merged at most once while preparing
to update mappings.

time:
2015-12-01T12:52:32Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
comments:
Add the default mapping at most once on batch mapping updates

When creating an index on master for the purpose of updating mappings,
the default mapping could needlessly be added multiple times. This
commit ensures that the default mapping is added at most once while
preparing to update mappings.

time:
2015-12-01T12:52:32Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationIT.java
comments:
Preserve existing mappings on batch mapping updates

This commit addresses an issues introduced in #14899 to apply mapping
updates in batches. The issue is that an existing mapping for a type
could be lost if that type came in a batch that already contained a
mapping update for another type on the same index. The underlying issue
was that the existing mapping would not be merged in because the merging
logic was only tripped once per index, rather than for all types seeing
updates for each index. Resolving this issue is simply a matter of
ensuring that all existing types seeing updates are merged in.

Closes #15129

time:
2015-12-01T11:46:09Z
class:
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
comments:
Merge remote-tracking branch 'origin/master'

time:
2015-12-01T11:22:07Z
class:
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
comments:
Mappings: Don't ignore merge failures.

time:
2015-12-01T11:13:06Z
class:
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
comments:
[TEST] stabilize SimpleSearchIT.testQueryNumericFieldWithRegex

Provide mappings explicitly instead of relying on dynamic mapping, also add missing ensureGreen.

Closes #15105

time:
2015-12-01T11:00:30Z
class:
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java
comments:
Reject refresh usage in bulk items when using and fix NPE when no source

The REST bulk API rejects use of `refresh` at the item level. But the Java API lets the user setting it.

We need to have the same behavior and don't let think the user he can define `refresh` per bulk item.

Note that the user can still define `refresh` on the bulk itself.

Also a user can create with Java API an IndexRequest without any source which is causing a NPE when evaluating the bulk item size.

Closes #7361.
Closes #15120.

time:
2015-12-01T10:41:51Z
class:
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateIT.java
comments:
[TEST] mark test as awaitsfix: RareClusterStateIT.testDeleteCreateInOneBulk()

time:
2015-12-01T10:27:26Z
class:
core/src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
comments:
multi field names may not contain dots

related to #14957

time:
2015-12-01T08:57:22Z
class:
core/src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationIT.java
comments:
AwaitsFix testDynamicUpdates

pending on https://github.com/elastic/elasticsearch/issues/15129

time:
2015-11-30T23:12:08Z
class:
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTests.java
core/src/test/java/org/elasticsearch/http/netty/pipelining/HttpPipeliningHandlerTests.java
core/src/test/java/org/elasticsearch/transport/NettySizeHeaderFrameDecoderTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyScheduledPingTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
core/src/test/java/org/elasticsearch/transport/netty/SimpleNettyTransportTests.java
comments:
Merge pull request #15127 from rmuir/unit_tests_port_0

Fix unit tests to bind to port 0.

time:
2015-11-30T22:22:58Z
class:
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTests.java
core/src/test/java/org/elasticsearch/http/netty/pipelining/HttpPipeliningHandlerTests.java
core/src/test/java/org/elasticsearch/transport/NettySizeHeaderFrameDecoderTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyScheduledPingTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
core/src/test/java/org/elasticsearch/transport/netty/SimpleNettyTransportTests.java
comments:
Fix unit tests to bind to port 0.

I will followup with ITs and other modules. By fixing this, these tests become more reliable (will never sporatically
fail due to other stuff on your machine: ports are assigned by the OS), and it allows us to move forward with
gradle parallel builds, in my tests this is a nice speedup, but we can't do it until tests are cleaned up

time:
2015-11-30T21:47:13Z
class:
comments:
Merge pull request #15126 from rjernst/bump_failures_summary

Increase the number of failed tests shown in test summary

time:
2015-11-30T21:40:39Z
class:
comments:
Build: Increase the number of failed tests shown in test summary

We had increased this in maven, but it was lost in the transition to
gradle. This change adds it as a configurable setting the the logger for
randomized testing and bumps it to 25.

time:
2015-11-30T16:16:01Z
class:
comments:
Merge pull request #15108 from joschi/editorconfig

Add simple EditorConfig

time:
2015-11-30T16:07:52Z
class:
comments:
Update scripting.asciidoc

Fix script syntax for script_score

Closes #15096

time:
2015-11-30T15:50:08Z
class:
comments:
[docs] Updating the Python client docxs

time:
2015-11-30T15:01:55Z
class:
comments:
S3 repository: fix spelling error

Reported at https://github.com/elastic/elasticsearch-cloud-aws/pull/221

time:
2015-11-30T14:45:40Z
class:
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/convert/ConvertProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/gsub/GsubProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/join/JoinProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/lowercase/LowercaseProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/remove/RemoveProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/rename/RenameProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/set/SetProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/split/SplitProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/trim/TrimProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/uppercase/UppercaseProcessorFactoryTests.java
comments:
also change the tests to deal with Exception instead of IOException

time:
2015-11-30T14:37:16Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/AbstractStringProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/convert/ConvertProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/DateProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/GrokProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/gsub/GsubProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/join/JoinProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/meta/MetaDataProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/remove/RemoveProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/rename/RenameProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/set/SetProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/split/SplitProcessor.java
comments:
Replaced IOException with Exception on factory implementations'  `Processor.Factory#create(Map)` method.

time:
2015-11-30T14:28:12Z
class:
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/AttachmentMapper.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/SimpleAttachmentMapperTests.java
comments:
fix toXContent() for mapper attachments field

We must use simpleName() instead of name() because otherwise when the mapping
is generated as a string the field name will be the full path with dots
and that is illegal from es 2.0 on.

closes https://github.com/elastic/elasticsearch-mapper-attachments/issues/169

time:
2015-11-30T14:19:30Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/cluster/AckedClusterStateTaskListener.java
core/src/main/java/org/elasticsearch/cluster/AckedClusterStateUpdateTask.java
core/src/main/java/org/elasticsearch/cluster/ClusterService.java
core/src/main/java/org/elasticsearch/cluster/ClusterStateTaskConfig.java
core/src/main/java/org/elasticsearch/cluster/ClusterStateTaskExecutor.java
core/src/main/java/org/elasticsearch/cluster/ClusterStateTaskListener.java
core/src/main/java/org/elasticsearch/cluster/ClusterStateUpdateTask.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/snapshots/AbstractSnapshotIntegTestCase.java
test-framework/src/main/java/org/elasticsearch/test/cluster/NoopClusterService.java
test-framework/src/main/java/org/elasticsearch/test/cluster/TestClusterService.java
test-framework/src/main/java/org/elasticsearch/test/disruption/BlockClusterStateProcessing.java
test-framework/src/main/java/org/elasticsearch/test/disruption/SlowClusterStateProcessing.java
comments:
Merge pull request #14899 from jasontedor/cluster-state-batch

Split cluster state update tasks into roles

time:
2015-11-30T14:17:43Z
class:
comments:
[doc] Information on JVM fork count

I spent 20 minutes reading gradle docs to figure out how to do this. No one
else should have to do that.

Also, some of the documentation was out of date.

time:
2015-11-30T14:03:20Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/set/SetProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestModule.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/set/SetProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/set/SetProcessorTests.java
comments:
Renamed `add` processor to `set` processor.

This name makes more sense, because if a field already exists it overwrites it.

time:
2015-11-30T13:59:24Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterService.java
core/src/main/java/org/elasticsearch/cluster/ClusterStateTaskConfig.java
core/src/main/java/org/elasticsearch/cluster/ClusterStateTaskListener.java
comments:
Add docs for cluster state update task batching

time:
2015-11-30T13:59:24Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterStateTaskListener.java
comments:
ClusterStateTaskListener#onNoLongerMaster now throws NotMasterException

time:
2015-11-30T13:59:24Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterStateTaskExecutor.java
core/src/main/java/org/elasticsearch/cluster/ClusterStateUpdateTask.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
test-framework/src/main/java/org/elasticsearch/test/cluster/TestClusterService.java
comments:
Add builder to create cluster state executor results

time:
2015-11-30T13:59:23Z
class:
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
comments:
Simplify loop in InternalClusterService#runTasksForExecutor

time:
2015-11-30T13:59:23Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterStateTaskExecutor.java
core/src/main/java/org/elasticsearch/cluster/ClusterStateUpdateTask.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
test-framework/src/main/java/org/elasticsearch/test/cluster/TestClusterService.java
comments:
Explicitly correspond cluster state tasks and execution results

time:
2015-11-30T13:59:23Z
class:
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
comments:
Simplify InternalClusterService#submitStateUpdateTask with lambdas

time:
2015-11-30T13:59:23Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
comments:
Simplify grouping of cluster state update tasks

time:
2015-11-30T13:59:23Z
class:
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
comments:
Add test for cluster state batch updates

time:
2015-11-30T13:59:23Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/cluster/AckedClusterStateTaskListener.java
core/src/main/java/org/elasticsearch/cluster/AckedClusterStateUpdateTask.java
core/src/main/java/org/elasticsearch/cluster/ClusterService.java
core/src/main/java/org/elasticsearch/cluster/ClusterStateTaskConfig.java
core/src/main/java/org/elasticsearch/cluster/ClusterStateTaskExecutor.java
core/src/main/java/org/elasticsearch/cluster/ClusterStateTaskListener.java
core/src/main/java/org/elasticsearch/cluster/ClusterStateUpdateTask.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/snapshots/AbstractSnapshotIntegTestCase.java
test-framework/src/main/java/org/elasticsearch/test/cluster/NoopClusterService.java
test-framework/src/main/java/org/elasticsearch/test/cluster/TestClusterService.java
test-framework/src/main/java/org/elasticsearch/test/disruption/BlockClusterStateProcessing.java
test-framework/src/main/java/org/elasticsearch/test/disruption/SlowClusterStateProcessing.java
comments:
Split cluster state update tasks into roles

This commit splits cluster state update tasks into roles. Those roles
are:
 - task info
 - task configuration
 - task executor
 - task listener

All tasks that have the same executor will be executed in batches. This
removes the need for local batching as was previously in
MetaDataMappingService.

Additionally, this commit reintroduces batching on mapping update calls.

Relates #13627

time:
2015-11-30T13:47:03Z
class:
comments:
Add simple EditorConfig

The EditorConfig file applies the formatting rules described in CONTRIBUTING.md.

time:
2015-11-30T12:58:03Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/IngestDocument.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/rename/RenameProcessor.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/IngestClientIT.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/IngestDocumentTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/AbstractStringProcessorTestCase.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/add/AddProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/convert/ConvertProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/gsub/GsubProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/join/JoinProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/remove/RemoveProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/rename/RenameProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/split/SplitProcessorTests.java
comments:
IngestDocument to support accessing and modifying list items

When reading, through #getFieldValue and #hasField, and a list is encountered, the next element in the path is treated as the index of the item that the path points to (e.g. `list.0.key`). If the index is not a number or out of bounds, an exception gets thrown.

Added #appendFieldValue method that has the same behaviour as setFieldValue, but when a list is the last element in the path, instead of replacing the whole list it will simply add a new element to the existing list. This method is currently unused, we have to decide whether the set processor or a new processor should use it.

A few other changes made:
- Renamed hasFieldValue to hasField, as this method is not really about values but only keys. It will return true if a key is there but its value is null, while it returns false only when a field is not there at all.
- Changed null semantic in getFieldValue. null gets returned only when it was an actual value in the source, an exception is thrown otherwise when trying to access a non existing field, so that null != field not present.
- Made remove stricter about non existing fields. Throws error when trying to remove a non existing field. This is more consistent with the other methods in IngestDocument which are strict about fields that are not present.

Relates to #14324

time:
2015-11-30T10:47:17Z
class:
comments:
add java-api doc about shading / embedding

Two new sections added

* Dealing with JAR dependency conflicts
* Embedding jar with dependencies

Closes #15071.

time:
2015-11-30T10:09:41Z
class:
core/src/test/java/org/elasticsearch/common/geo/builders/AbstractShapeBuilderTestCase.java
comments:
Tests: Correction in AbstractShapeBuilderTestCase

Removed check that two shapes that are different according
to equals() have different hashCode since that is not required
by the contract of hashCode.

time:
2015-11-30T10:01:21Z
class:
core/src/main/java/org/elasticsearch/index/fieldvisitor/AllFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/CustomFieldsVisitor.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AbstractGeoTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TopHitsIT.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchFieldsTests.java
comments:
Merge pull request #15017 from jimferenczi/fields_option

Refuse to load fields from _source when using the `fields` option and support wildcards.

time:
2015-11-30T10:00:32Z
class:
core/src/main/java/org/elasticsearch/index/fieldvisitor/AllFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/CustomFieldsVisitor.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AbstractGeoTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TopHitsIT.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchFieldsTests.java
comments:
Fixes #14489
  Do not to load fields from _source when using the `fields` option.
  Non stored (non existing) fields are ignored by the fields visitor when using the `fields` option.

Fixes #10783
  Support * wildcard to retrieve stored fields when using the `fields` option.
  Supported pattern styles are "xxx*", "*xxx", "*xxx*" and "xxx*yyy".

time:
2015-11-30T09:24:27Z
class:
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionFieldStats.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/EncryptedDocMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MetadataMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MultifieldAttachmentMapperTests.java
test-framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
comments:
Merge remote-tracking branch 'es/master' into feature/ingest

time:
2015-11-30T07:43:23Z
class:
comments:
Document that _index is a virtual field and only supports term queries

Closes #15070
Closes #15081

time:
2015-11-30T07:05:10Z
class:
comments:
Merge pull request #15085 from kaneshin/docs/modify/post_filter

Remove a trailing comma from an example data of JSON

time:
2015-11-30T06:41:29Z
class:
comments:
REST spec: Added the verbose flag to indices.segments

Relates to #9111

time:
2015-11-30T03:55:23Z
class:
comments:
Merge pull request #15098 from rjernst/integ_test_output

Improve output when integ test fails

time:
2015-11-30T03:51:50Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/env/Environment.java
comments:
Remove leftover debugging code

time:
2015-11-30T03:44:43Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/env/Environment.java
comments:
Build: Improve output when integ test fails

This outputs a lot more info when integ tests fail to start, as well as
(should) fix windows (at least in my VM run) integ tests.

time:
2015-11-29T22:25:11Z
class:
comments:
Merge pull request #15097 from rmuir/buglevel

Add workaround for JDK-6427854

time:
2015-11-29T21:12:52Z
class:
comments:
Add workaround for JDK-6427854

See e.g. http://build-us-00.elastic.co/job/es_feature_ingest/2831/consoleFull

The bug can still happen, so we should let netty do this workaround

time:
2015-11-29T17:15:30Z
class:
comments:
Merge pull request #15093 from rmuir/gradle_windoze_integ_tests

Fix integration tests and 'gradle run' to work on windoze

time:
2015-11-29T17:12:18Z
class:
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/EncryptedDocMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MetadataMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MultifieldAttachmentMapperTests.java
comments:
Merge pull request #15094 from rmuir/windoze_charsets

do not assert charset or exact lengths for mapper-attachments tests.

time:
2015-11-29T16:48:54Z
class:
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/EncryptedDocMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MetadataMapperTests.java
comments:
don't assert exact expected lengths for documents.

This will change depending on newline of the operating system

time:
2015-11-29T16:40:27Z
class:
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/EncryptedDocMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MetadataMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MultifieldAttachmentMapperTests.java
comments:
do not assert charset for mapper-attachments tests.

Its enough to test the content type for what we are testing.

Currently tests are flaky if charset is detected as e.g. windows-1252 vs iso-8859-1 and so on.
In fact, they fail on windows 100% of the time.

We are not trying to test charset detection heuristics (which might be different even due to newlines in tests or other things).
If we want to do test that, we should test it separately.

time:
2015-11-29T15:39:18Z
class:
comments:
Fix integration tests and gradle run to work on windoze

time:
2015-11-29T11:21:15Z
class:
comments:
Merge pull request #14801 from bleskes/resiliency_update

Update the resiliency page to 2.0.0

time:
2015-11-29T11:17:53Z
class:
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionFieldStats.java
comments:
Merge pull request #15090 from mikemccand/improve_completion_stats

Pull Fields instance once from LeafReader in completion stats.

Closes #6593

time:
2015-11-29T11:13:47Z
class:
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionFieldStats.java
comments:
improve javadocs

time:
2015-11-29T11:00:11Z
class:
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionFieldStats.java
comments:
only pull Fields once from the reader

time:
2015-11-29T03:44:16Z
class:
comments:
Merge pull request #15089 from rjernst/extra_config_file_delay

Fix delayed extra config file checks to be right before copy

time:
2015-11-29T02:06:36Z
class:
comments:
Build: Fix delayed extra config file checks to be right before copy

The current delay waits until later after normal configuration, but
still just after resolution (ie when paths would be known for
dependencies but not actual execution). This delays the checks further
to be done right before we actually execute the copy task.

closes #15068

time:
2015-11-29T01:19:39Z
class:
comments:
Merge pull request #15088 from rjernst/integ_test_command_line

Move debug options setting to before command line is logged

time:
2015-11-29T01:10:41Z
class:
comments:
Merge pull request #15031 from nik9000/integ_for_packages

Fix deb and rpm tests

time:
2015-11-29T01:05:11Z
class:
comments:
Build: Move debug options setting to before command line is logged

Currently if running with --info, the command line for ES, along with
env vars, are logged before they may be ammended to add debug options.
This moves the adding JAVA_OPTS to before we print the command.

time:
2015-11-29T00:57:09Z
class:
comments:
Build: Setup standalone tests to compile in intellij

This adds the standalone tests so they will compile (and thus can be
modified with import completion) within IntelliJ. It also explicitly
sets up buildSrc as a module.

Note that this does *not* mean eg evil-tests can be run from intellij.
These are special tests that require special settings (eg disabling
security manager). They need to be run from the command line.

closes #15075

time:
2015-11-29T00:44:53Z
class:
comments:
Remove strange checks and clean dirs

time:
2015-11-29T00:07:06Z
class:
comments:
[build] Fix deb and rpm tests

Gradle is causing so much trouble here! Its too cute for its own good.

time:
2015-11-28T22:06:24Z
class:
comments:
Merge pull request #15086 from rjernst/packaging_artifact_ids

Fix rpm and deb generated poms to have correct artifactId

time:
2015-11-28T19:30:49Z
class:
comments:
Build: Fix rpm and deb generated poms to have correct artifactId

For all our distributions, we use "elasticsearch" as the artifactId.
This fixes the id for the generated poms of rpm and deb distributions.

time:
2015-11-28T17:25:42Z
class:
comments:
Polish doc

Closes #15011

time:
2015-11-28T16:50:28Z
class:
comments:
Remove a trailing comma from an example data of JSON

time:
2015-11-28T16:46:47Z
class:
comments:
Merge pull request #14871 from jamiemccarthy/doc-fix

Fix doc of nested_path sort option

time:
2015-11-28T15:00:29Z
class:
test-framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
comments:
Changed some of the language in documentation

Closes #14920

time:
2015-11-28T14:09:22Z
class:
comments:
Merge pull request #14900 from shikhar/patch-1

link to es-restlog plugin

time:
2015-11-28T10:31:42Z
class:
comments:
Merge pull request #15051 from apatrida/patch-1

body attribute was at wrong nesting level

time:
2015-11-28T10:15:25Z
class:
core/src/main/java/org/elasticsearch/bootstrap/JNACLibrary.java
core/src/main/java/org/elasticsearch/bootstrap/JNAKernel32Library.java
core/src/main/java/org/elasticsearch/bootstrap/Seccomp.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/common/network/NetworkModule.java
core/src/main/java/org/elasticsearch/common/network/NetworkService.java
core/src/main/java/org/elasticsearch/common/settings/SettingsFilter.java
core/src/main/java/org/elasticsearch/common/settings/SettingsModule.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoPolygonQuery.java
core/src/main/java/org/elasticsearch/index/translog/BufferingTranslogWriter.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/index/translog/TranslogWriter.java
core/src/main/java/org/elasticsearch/monitor/MonitorModule.java
core/src/main/java/org/elasticsearch/monitor/MonitorService.java
core/src/main/java/org/elasticsearch/monitor/fs/FsProbe.java
core/src/main/java/org/elasticsearch/monitor/fs/FsService.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmMonitorService.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmService.java
core/src/main/java/org/elasticsearch/monitor/os/OsService.java
core/src/main/java/org/elasticsearch/monitor/process/ProcessService.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/NodeModule.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/repositories/verify/RestVerifyRepositoryAction.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsBackwardCompatibilityIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/test/search/aggregations/bucket/SharedSignificantTermsTestMethods.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/AnalysisTestUtils.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java
plugins/analysis-phonetic/src/test/java/org/elasticsearch/index/analysis/SimplePhoneticAnalysisTests.java
plugins/analysis-smartcn/src/test/java/org/elasticsearch/index/analysis/SimpleSmartChineseAnalysisTests.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/PolishAnalysisTests.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/SimplePolishTokenFilterTests.java
plugins/mapper-murmur3/src/test/java/org/elasticsearch/index/mapper/murmur3/Murmur3FieldMapperUpgradeTests.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/SizeFieldMapperUpgradeTests.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/SeccompTests.java
comments:
Merge branch 'master' into feature/ingest

time:
2015-11-27T21:57:34Z
class:
core/src/main/java/org/elasticsearch/bootstrap/JNAKernel32Library.java
core/src/main/java/org/elasticsearch/bootstrap/Seccomp.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/SeccompTests.java
comments:
Merge pull request #15055 from rmuir/fun_with_windows

set ActiveProcessLimit=1 on windows

time:
2015-11-27T16:36:57Z
class:
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
comments:
Tests: Correction in AbstractQueryTestCase

Removed check that two query builder that are different according
to equals() have different hashCode since that is not required
by the contract of hashCode.

time:
2015-11-27T14:51:19Z
class:
core/src/main/java/org/elasticsearch/common/network/NetworkService.java
comments:
Declare NetworkService non-final to support mocking in tests

time:
2015-11-27T13:13:36Z
class:
comments:
Merge pull request #15033 from yokotaso/patch-2

Wrong properties is used in document.

time:
2015-11-27T09:32:21Z
class:
plugins/mapper-murmur3/src/test/java/org/elasticsearch/index/mapper/murmur3/Murmur3FieldMapperUpgradeTests.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/SizeFieldMapperUpgradeTests.java
comments:
[TEST] Fix MapperUpgrade tests to use a dedicated master to ensure dangeling index import works predictably

When importing dangling indices on a single node that is data and master eligable the async dangling index
call can still be in-flight when the cluster is checked for green / yellow. Adding a dedicated master node
and a data only node that does the importing fixes this issus just like we do in OldIndexBackwardsCompatibilityIT

time:
2015-11-27T06:50:09Z
class:
core/src/main/java/org/elasticsearch/bootstrap/JNAKernel32Library.java
core/src/main/java/org/elasticsearch/bootstrap/Seccomp.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/SeccompTests.java
comments:
set ActiveProcessLimit=1 on windows

This blocks process creation, similar to the approach for BSD.

time:
2015-11-27T02:18:57Z
class:
core/src/main/java/org/elasticsearch/bootstrap/JNACLibrary.java
core/src/main/java/org/elasticsearch/bootstrap/Seccomp.java
comments:
Merge pull request #15039 from rmuir/setrlimit

set RLIMIT_NPROC = 0 on bsd/os X systems.

time:
2015-11-27T02:18:16Z
class:
comments:
Merge pull request #15038 from rmuir/java_ram

Give enough ram so javac won't OOM

time:
2015-11-27T00:11:11Z
class:
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/repositories/verify/RestVerifyRepositoryAction.java
comments:
Remove outdated comment and cleanup RestVerifyRepositoryAction

time:
2015-11-26T17:34:02Z
class:
comments:
body attribute was at wrong nesting level

time:
2015-11-26T17:12:15Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Pipeline.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/Processor.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestPlugin.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/PipelineExecutionService.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/PipelineStore.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilter.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineRequest.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineTransportAction.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/AbstractStringProcessorTestCase.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/add/AddProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/convert/ConvertProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/gsub/GsubProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/join/JoinProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/remove/RemoveProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/rename/RenameProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/split/SplitProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/PipelineExecutionServiceTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/PipelineStoreTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilterTests.java
comments:
PipelineStore no longer is a lifecycle component
Client in PipelineStore gets provided via a guice provider
Processor and Factory throw Exception instead of IOException
Removed PipelineExecutionService.Listener with ActionListener

time:
2015-11-26T16:00:16Z
class:
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineRequestParsingTests.java
comments:
fix compile errors

time:
2015-11-26T14:46:32Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/IngestDocument.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/Processor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/meta/MetaDataProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestModule.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/PipelineExecutionService.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilter.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/WriteableIngestDocument.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineRequest.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/IngestDocumentTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/meta/MetaDataProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/meta/MetaDataProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/PipelineExecutionServiceTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilterTests.java
comments:
ingest: Add `meta` processor that allows to modify the metadata attributes of document being processed

time:
2015-11-26T13:47:38Z
class:
core/src/main/java/org/elasticsearch/index/translog/BufferingTranslogWriter.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/index/translog/TranslogWriter.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
comments:
Merge pull request #15012 from s1monw/issues/14866

Prevent writing to closed channel if translog is already closed

time:
2015-11-26T13:42:39Z
class:
core/src/main/java/org/elasticsearch/common/SearchScrollIterator.java
core/src/test/java/org/elasticsearch/common/SearchScrollIteratorTests.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestModule.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestPlugin.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/PipelineDefinition.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/PipelineStore.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/PipelineStoreClient.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/delete/DeletePipelineTransportAction.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/get/GetPipelineResponse.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/get/GetPipelineTransportAction.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/put/PutPipelineTransportAction.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/IngestClientIT.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/PipelineStoreTests.java
comments:
* Inlined PipelineStoreClient class into the PipelineStore class
* Moved PipelineReference to a top level class and named it PipelineDefinition
* Pulled some logic from the crud transport classes to the PipelineStore
* Use IOUtils#close(...) where appropriate

time:
2015-11-26T13:05:32Z
class:
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/common/network/NetworkModule.java
core/src/main/java/org/elasticsearch/common/network/NetworkService.java
core/src/main/java/org/elasticsearch/common/settings/SettingsFilter.java
core/src/main/java/org/elasticsearch/common/settings/SettingsModule.java
core/src/main/java/org/elasticsearch/monitor/MonitorModule.java
core/src/main/java/org/elasticsearch/monitor/MonitorService.java
core/src/main/java/org/elasticsearch/monitor/fs/FsProbe.java
core/src/main/java/org/elasticsearch/monitor/fs/FsService.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmMonitorService.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmService.java
core/src/main/java/org/elasticsearch/monitor/os/OsService.java
core/src/main/java/org/elasticsearch/monitor/process/ProcessService.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/NodeModule.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/AnalysisTestUtils.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java
plugins/analysis-phonetic/src/test/java/org/elasticsearch/index/analysis/SimplePhoneticAnalysisTests.java
plugins/analysis-smartcn/src/test/java/org/elasticsearch/index/analysis/SimpleSmartChineseAnalysisTests.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/PolishAnalysisTests.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/SimplePolishTokenFilterTests.java
comments:
Merge pull request #15035 from s1monw/simplify_monitoring_service

Simplify MonitorService construction and detach from guice

time:
2015-11-26T12:41:00Z
class:
core/src/main/java/org/elasticsearch/common/settings/SettingsFilter.java
core/src/main/java/org/elasticsearch/monitor/MonitorService.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/AnalysisTestUtils.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java
plugins/analysis-phonetic/src/test/java/org/elasticsearch/index/analysis/SimplePhoneticAnalysisTests.java
plugins/analysis-smartcn/src/test/java/org/elasticsearch/index/analysis/SimpleSmartChineseAnalysisTests.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/PolishAnalysisTests.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/SimplePolishTokenFilterTests.java
comments:
Fix compile errors

time:
2015-11-26T12:24:45Z
class:
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/ParsedSimulateRequest.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateExecutionService.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineRequest.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineTransportAction.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateExecutionServiceTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineRequestParsingTests.java
comments:
Simulate api improvements

Move ParsedSimulateRequest to SimulatePipelineRequest and remove Parser class in favor of static parse methods.
Simplified execute methods in SimulateExecutionService.

time:
2015-11-26T09:57:33Z
class:
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsBackwardCompatibilityIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
core/src/test/java/org/elasticsearch/test/search/aggregations/bucket/SharedSignificantTermsTestMethods.java
comments:
run bwc test also as integ test and share methods

We had no itegration test before with long terms and several shards only
a bwc test.

related to #14948

time:
2015-11-26T09:16:46Z
class:
comments:
Give enough ram so javac won't OOM

Today its based on the automatic -Xmx, but this
will fail in some environments (e.g. vagrant).

time:
2015-11-26T09:14:45Z
class:
core/src/main/java/org/elasticsearch/index/translog/BufferingTranslogWriter.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/index/translog/TranslogWriter.java
comments:
Move ensureOpen calls under lock

We used to check on several places if we are still open but non of these
places did the check under the lock which leaves a small window where we
potentially get closed but still access an already closed channel or another
IO resource.

time:
2015-11-26T08:50:41Z
class:
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/common/network/NetworkModule.java
core/src/main/java/org/elasticsearch/common/network/NetworkService.java
core/src/main/java/org/elasticsearch/common/settings/SettingsFilter.java
core/src/main/java/org/elasticsearch/common/settings/SettingsModule.java
core/src/main/java/org/elasticsearch/monitor/MonitorModule.java
core/src/main/java/org/elasticsearch/monitor/MonitorService.java
core/src/main/java/org/elasticsearch/monitor/fs/FsProbe.java
core/src/main/java/org/elasticsearch/monitor/fs/FsService.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmMonitorService.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmService.java
core/src/main/java/org/elasticsearch/monitor/os/OsService.java
core/src/main/java/org/elasticsearch/monitor/process/ProcessService.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/NodeModule.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
comments:
Simplify MonitorService construction and detach from guice

This is a pretty trivial change that moves most of the monitor service related
object creation from guice into the monitor service. This is a babystep towards removing
guice on the node level as well. Instead of opening huge PRs I try to do this in baby-steps
that are easier to digest.

time:
2015-11-26T07:58:53Z
class:
core/src/main/java/org/elasticsearch/bootstrap/JNACLibrary.java
core/src/main/java/org/elasticsearch/bootstrap/Seccomp.java
comments:
set RLIMIT_NPROC = 0 on bsd/os X systems.

This BSD-specific limit prevents child process creation.

time:
2015-11-26T05:22:23Z
class:
comments:
property name is not right

`ignore_script` is not right. `ignored_script' is right.

See org.elasticsearch.index.analysis.CJKBigramFilterFactory

time:
2015-11-25T20:52:20Z
class:
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoPolygonQuery.java
comments:
Geo: Fix toString() in GeoDistanceRangeQuery and GeoPolygonQuery

Minor typo in the two queries toString() method. They were former
filters the toString() seems to have been forgotten while renaming.

time:
2015-11-25T19:26:30Z
class:
comments:
Merge pull request #14996 from rjernst/logged_exec

Add wrapper around gradle Exec task for easier logging

time:
2015-11-25T19:26:02Z
class:
comments:
Build: Add wrapper around gradle Exec task for easier logging

The Exec task outputs stdout/stderr to the standard streams by default.
However, to keep output short, we currently capture this, and only
output if the task failed. This change makes a small wrapper around Exec
to facilitate this behavior anywhere we use Exec.

time:
2015-11-25T18:34:33Z
class:
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
comments:
Remove Plugin.onIndexService.

time:
2015-11-25T18:11:49Z
class:
comments:
Merge pull request #15027 from nik9000/skip_package_integ

Disable rpm and deb integ tests

time:
2015-11-25T17:45:05Z
class:
comments:
Merge remote-tracking branch 'es/master' into feature/ingest

time:
2015-11-25T17:35:30Z
class:
comments:
Disable rpm and deb integ tests

They are broken and we didn't know it.

time:
2015-11-25T17:32:56Z
class:
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/PipelineStore.java
comments:
made updatePipelines() to not make it prone to race conditions

time:
2015-11-25T17:08:53Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/IngestDocument.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/WriteableIngestDocument.java
comments:
use MetaData enum for metadata field names

Also rename getName to getFieldName in MetaData to prevent confusion with name() enum method.

time:
2015-11-25T17:08:53Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/IngestDocument.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/AbstractStringProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/add/AddProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/convert/ConvertProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/DateProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/GrokProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/gsub/GsubProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/join/JoinProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/remove/RemoveProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/rename/RenameProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/split/SplitProcessor.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/IngestDocumentTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/RandomDocumentPicks.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/AbstractStringProcessorTestCase.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/add/AddProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/convert/ConvertProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/date/DateProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/gsub/GsubProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/join/JoinProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/remove/RemoveProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/rename/RenameProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/split/SplitProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilterTests.java
comments:
Replace property with field in IngestDocument

getPropertyValue => getFieldValue
hasPropertyValue => hasFieldValue
setPropertyValue => setFieldValue
removeProperty => removeField

time:
2015-11-25T17:00:53Z
class:
comments:
Merge pull request #14997 from rjernst/extra_config_input

Allow extra config for integ test to be anything project.file() accepts

time:
2015-11-25T15:36:08Z
class:
comments:
Merge pull request #15018 from jasontedor/gradle-daemon-is-a-demon

Gradle daemon is a demon

time:
2015-11-25T15:26:33Z
class:
comments:
Merge pull request #15013 from jimmidyson/kubernetes-community-plugin

Docs: Add Kubernetes discovery community plugin

time:
2015-11-25T15:17:39Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/DateFormat.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/DateParser.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/DateParserFactory.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/DateProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/ISO8601DateParser.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/JodaPatternDateParser.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/TAI64NDateParser.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/UnixDateParser.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/UnixMsDateParser.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/date/DateFormatTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/date/DateParserTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/date/DateProcessorTests.java
comments:
Merge pull request #15019 from javanna/enhancement/java8_date_parser

date formats: use a function instead of our own interface

time:
2015-11-25T14:58:01Z
class:
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/date/DateProcessorFactoryTests.java
comments:
[TEST] generate random timezone out of the available ones in joda

time:
2015-11-25T14:37:35Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/DateFormat.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/DateParser.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/DateParserFactory.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/DateProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/ISO8601DateParser.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/JodaPatternDateParser.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/TAI64NDateParser.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/UnixDateParser.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/UnixMsDateParser.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/date/DateFormatTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/date/DateParserTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/date/DateProcessorTests.java
comments:
date formats: use a function instead of our own interface

Also turn the different date formats into an enum.

time:
2015-11-25T14:33:12Z
class:
comments:
Gradle daemon is a demon

This commit adds a property that will prevent the Gradle daemon from
being used for builds (even if one is running). This is to avoid some
nasty issues (e.g., SIGBUS faults and other mmap diasters) that result
from class loaders not being closed properly.

time:
2015-11-25T13:59:10Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/bootstrap/JNANatives.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/routing/AllocationId.java
core/src/main/java/org/elasticsearch/common/Base64.java
core/src/main/java/org/elasticsearch/common/geo/builders/CircleBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/EnvelopeBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/GeometryCollectionBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/LineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiLineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiPointBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiPolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/PointBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/PolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/Multibinder.java
core/src/main/java/org/elasticsearch/common/inject/spi/Message.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
core/src/main/java/org/elasticsearch/index/analysis/Analysis.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/index/snapshots/IndexShardSnapshotException.java
core/src/main/java/org/elasticsearch/index/snapshots/IndexShardSnapshotFailedException.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryStatus.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
core/src/main/java/org/elasticsearch/indices/recovery/SharedFSRecoverySourceHandler.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/InternalSignificantTerms.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/common/geo/builders/AbstractShapeBuilderTestCase.java
core/src/test/java/org/elasticsearch/common/geo/builders/CirlceBuilderTests.java
core/src/test/java/org/elasticsearch/common/geo/builders/EnvelopeBuilderTests.java
core/src/test/java/org/elasticsearch/common/geo/builders/PointBuilderTests.java
core/src/test/java/org/elasticsearch/common/unit/DistanceUnitTests.java
core/src/test/java/org/elasticsearch/discovery/ZenFaultDetectionTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsBackwardCompatibilityIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/significant/SignificanceHeuristicTests.java
plugins/mapper-murmur3/src/test/java/org/elasticsearch/index/mapper/murmur3/Murmur3FieldMapperUpgradeTests.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/SizeFieldMapperUpgradeTests.java
test-framework/src/main/java/org/elasticsearch/test/rest/RestTestExecutionContext.java
test-framework/src/main/java/org/elasticsearch/test/rest/client/RestClient.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/DoSectionParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/ApiCallSection.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/DoSection.java
test-framework/src/main/java/org/elasticsearch/test/rest/support/Features.java
test-framework/src/test/java/org/elasticsearch/test/rest/test/DoSectionParserTests.java
comments:
Merge branch 'master' into feature/ingest

time:
2015-11-25T12:54:29Z
class:
comments:
Add Kubernetes discovery community plugin

time:
2015-11-25T12:54:13Z
class:
core/src/main/java/org/elasticsearch/index/translog/BufferingTranslogWriter.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
comments:
Prevent writing to closed channel if translog is already closed

We handle AlreadyClosedExceptions gracefully wherever IndexShard / Engine
is used. In some cases, instead of throwing the appropriate exception we
bubble up ChannelClosedException instead which causes shard failures etc.
Today, it seems like that this can only happen if the engine is closed without
acquireing the lock which means that the shard has failed already so the impact is really
just a confusing log message. Yet, this change enforces throwing the right exception
if the translog is already closed.

Closes #14866

time:
2015-11-25T10:46:19Z
class:
plugins/mapper-murmur3/src/test/java/org/elasticsearch/index/mapper/murmur3/Murmur3FieldMapperUpgradeTests.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/SizeFieldMapperUpgradeTests.java
comments:
Tests: For single data path for *FieldMapperUpgradeTests.

time:
2015-11-25T09:49:30Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
comments:
Merge pull request #14981 from jpountz/fix/assert_version_sanity

Check that the declared versions match the backward indices.

time:
2015-11-25T09:49:06Z
class:
plugins/mapper-murmur3/src/test/java/org/elasticsearch/index/mapper/murmur3/Murmur3FieldMapperUpgradeTests.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/SizeFieldMapperUpgradeTests.java
comments:
Merge pull request #14977 from jpountz/test/plugin_mapping_upgrade

Add a test that upgrades succeed even if a mapping contains fields that come from a plugin.

time:
2015-11-25T09:42:38Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/bootstrap/JNANatives.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/common/Base64.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/Multibinder.java
core/src/main/java/org/elasticsearch/common/inject/spi/Message.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
core/src/main/java/org/elasticsearch/index/analysis/Analysis.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/index/snapshots/IndexShardSnapshotException.java
core/src/main/java/org/elasticsearch/index/snapshots/IndexShardSnapshotFailedException.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryStatus.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
core/src/main/java/org/elasticsearch/indices/recovery/SharedFSRecoverySourceHandler.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/test/java/org/elasticsearch/discovery/ZenFaultDetectionTests.java
comments:
Merge pull request #14827 from MaineC/bug-fix/10021-error-listeners

Adds exception objects to log messages.

time:
2015-11-25T09:26:46Z
class:
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/date/DateProcessorFactoryTests.java
comments:
[TEST] fix locale comparison

time:
2015-11-25T08:57:20Z
class:
core/src/main/java/org/elasticsearch/common/geo/builders/CircleBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/EnvelopeBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/GeometryCollectionBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/LineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiLineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiPointBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiPolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/PointBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/PolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/test/java/org/elasticsearch/common/geo/builders/AbstractShapeBuilderTestCase.java
core/src/test/java/org/elasticsearch/common/geo/builders/CirlceBuilderTests.java
core/src/test/java/org/elasticsearch/common/geo/builders/EnvelopeBuilderTests.java
core/src/test/java/org/elasticsearch/common/geo/builders/PointBuilderTests.java
core/src/test/java/org/elasticsearch/common/unit/DistanceUnitTests.java
comments:
Merge pull request #14933 from cbuescher/shapes-refactor-point

Make PointBuilder, CircleBuilder & EnvelopeBuilder implement Writable

time:
2015-11-25T08:34:56Z
class:
comments:
Build: Allow extra config for integ test to be anything project.file() accepts

This change delays the lookup for whatever is passed to extra config as
the source file to happen at execution time. This allows using eg a task
which generates a file, but maintains the checks that the file is not a
dir and that it exists at runtime.

time:
2015-11-25T07:43:25Z
class:
core/src/main/java/org/elasticsearch/common/geo/builders/CircleBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/EnvelopeBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/PointBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/test/java/org/elasticsearch/common/geo/builders/AbstractShapeBuilderTestCase.java
core/src/test/java/org/elasticsearch/common/geo/builders/EnvelopeBuilderTests.java
comments:
Making EnvelopeBuilder writable and adding equals/hashCode

time:
2015-11-25T03:57:35Z
class:
comments:
Fix typo in TTL field docs

Closes #14994

time:
2015-11-25T00:37:32Z
class:
comments:
Build: Split extra config files for integ test into separate task

This doesn't work when there are no extra config files, since gradle
sees the copy task and says "there is nothing to do".

time:
2015-11-25T00:09:47Z
class:
comments:
Build: Fix extra config to create a file, not a directory for the destination file

Also added some checks to catch misconfiguration (dir or non existing file).

time:
2015-11-24T23:23:40Z
class:
comments:
Merge pull request #14992 from rjernst/override_integ_test_config

Add ability to specify extra configuration files for integ test

time:
2015-11-24T23:19:51Z
class:
comments:
Build: Add ability to specify extra configuration files for integ test

This change allows copy extra files into the integ test cluster before
it runs. However, it explicitly forbids overwriting elasticsearch.yml,
since that is generated.

time:
2015-11-24T22:38:35Z
class:
comments:
Merge pull request #14988 from rjernst/plugin_rest_spec

Copy rest specs for plugins that are added to integ test cluster

time:
2015-11-24T22:34:21Z
class:
comments:
Build: Copy rest specs for plugins that are added to integ test cluster

This change allows having rest tests using the api spec of plugins that
the rest test is testing against.

time:
2015-11-24T21:09:33Z
class:
comments:
Merge pull request #14986 from rjernst/easier_plugin_install

Simplify adding plugins that are another project in the build

time:
2015-11-24T20:53:11Z
class:
comments:
Build: Simplify adding plugins that are another project in the build

The current mechanism for adding plugins to the integTest cluster is to
have a FileCollection. This works well for the integTests for a single
plugin, which automatically adds itself to be installed. However, for qa
tests where many plugins may be installed, and from other projects, it
is cumbersome to add configurations, dependencies and dependsOn
statements over and over. This simplifies installing a plugin from
another project by moving this common setup into the cluster
configuration code.

time:
2015-11-24T19:40:02Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
comments:
Check that the declared versions match the backward indices.

time:
2015-11-24T19:19:35Z
class:
comments:
The RPM upload script should keep other existing RPM versions available

time:
2015-11-24T19:04:46Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/routing/AllocationId.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/common/network/Cidrs.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/Mapping.java
core/src/main/java/org/elasticsearch/index/mapper/MetadataFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SeqNoFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BaseTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryParser.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShardStateMetaData.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/mapper/MapperRegistry.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IPv4RangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/InternalIPv4Range.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IpRangeParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/InternalSignificantTerms.java
core/src/test/java/org/elasticsearch/cluster/routing/AllocationIdTests.java
core/src/test/java/org/elasticsearch/common/network/CidrsTests.java
core/src/test/java/org/elasticsearch/common/util/MultiDataPathUpgraderTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/codec/CodecTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapperPlugin.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMetadataMapper.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/SimpleExternalMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/index/IndexTypeMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/TypeFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/BoostingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/CommonTermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ExistsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FuzzyQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeohashCellQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IndicesQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchAllQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchNoneQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MissingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MultiMatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NestedQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/PrefixQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RegexpQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ScriptQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanContainingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanFirstQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNearQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNotQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanOrQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanTermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanWithinQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/TermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TypeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WildcardQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/shard/ShardPathTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsBackwardCompatibilityIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/significant/SignificanceHeuristicTests.java
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/MapperAttachmentsPlugin.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/DateAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/EncryptedDocMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/LanguageDetectionAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MapperTestUtils.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MetadataMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MultifieldAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/SimpleAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/StandaloneRunner.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/VariousDocTests.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/plugin/mapper/MapperMurmur3Plugin.java
plugins/mapper-murmur3/src/test/java/org/elasticsearch/index/mapper/murmur3/Murmur3FieldMapperTests.java
plugins/mapper-size/src/main/java/org/elasticsearch/index/mapper/size/SizeFieldMapper.java
plugins/mapper-size/src/main/java/org/elasticsearch/plugin/mapper/MapperSizePlugin.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/SizeMappingTests.java
comments:
merge from master

time:
2015-11-24T18:48:32Z
class:
test-framework/src/main/java/org/elasticsearch/test/rest/RestTestExecutionContext.java
test-framework/src/main/java/org/elasticsearch/test/rest/client/RestClient.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/DoSectionParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/ApiCallSection.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/DoSection.java
test-framework/src/main/java/org/elasticsearch/test/rest/support/Features.java
test-framework/src/test/java/org/elasticsearch/test/rest/test/DoSectionParserTests.java
comments:
Merge remote-tracking branch 'dakrone/rest-test-headers'

time:
2015-11-24T18:43:54Z
class:
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilterTests.java
comments:
add a few more asserts to IngestActionFilterTests

time:
2015-11-24T18:32:18Z
class:
core/src/main/java/org/elasticsearch/Version.java
comments:
Added bwc indices for 2.0.1 and 2.1.0 and versions 2.0.2-SNAPSHOT and 2.1.1-SNAPSHOT

time:
2015-11-24T18:14:19Z
class:
plugins/mapper-murmur3/src/test/java/org/elasticsearch/index/mapper/murmur3/Murmur3FieldMapperUpgradeTests.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/SizeFieldMapperUpgradeTests.java
comments:
Add a test that upgrades succeed even if a mapping contains fields that come from a plugin.

time:
2015-11-24T16:24:00Z
class:
comments:
Merge pull request #14959 from rjernst/cluster_waiting

Allow customizing wait condition and cluster settings

time:
2015-11-24T16:23:16Z
class:
comments:
Change waitfor max time back to 30 seconds, in case jenkins is slow

time:
2015-11-24T16:18:11Z
class:
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerIT.java
core/src/test/java/org/elasticsearch/recovery/RecoveryWhileUnderLoadIT.java
comments:
Introduce a relocated state during primary relocation

* this is a temporary fix until a more permanent fix is done on master *

During primary relocation, some operation can be done on the source primary but reach the target primary only after the relocation is completed. At the moment the new primary will have a new primary term and as such it will reject the operations from the old one, causing data loss.

This changes relocations to move the source primary to a relocated state, prevent any new operations from happening on it and waits for ongoing operations to complete.

Long we term we may also conisder not incrementing the primary term on relocation.

time:
2015-11-24T15:25:02Z
class:
test-framework/src/main/java/org/elasticsearch/test/rest/RestTestExecutionContext.java
test-framework/src/main/java/org/elasticsearch/test/rest/client/RestClient.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/DoSectionParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/ApiCallSection.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/DoSection.java
test-framework/src/main/java/org/elasticsearch/test/rest/support/Features.java
test-framework/src/test/java/org/elasticsearch/test/rest/test/DoSectionParserTests.java
comments:
Add support for headers in REST tests

This adds support for arbitrary headers sent with each REST request, it
will allow us to test things like different xcontent-encoding (see
50_with_headers.yaml for what this looks like).

Headers are specified at the same level as `catch`, so a request would
look like:

```yaml
- do:
    headers:
      Content-Type: application/yaml
    get:
      index: test_1
      type:  _all
      id:    1
```

time:
2015-11-24T14:49:25Z
class:
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/WriteableIngestDocument.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateDocumentSimpleResult.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateProcessorResult.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/IngestClientIT.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/IngestDocumentTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/WriteableIngestDocumentTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateDocumentSimpleResultTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateExecutionServiceTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineResponseTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateProcessorResultTests.java
comments:
Rename Data leftovers

time:
2015-11-24T14:01:43Z
class:
comments:
Merge pull request #14873 from williammwang/master

Clarify where index.similarity.default.type is set

time:
2015-11-24T13:31:53Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Pipeline.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/AbstractStringProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/add/AddProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/convert/ConvertProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/gsub/GsubExpression.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/gsub/GsubProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/join/JoinProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/lowercase/LowercaseProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/mutate/MutateProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/remove/RemoveProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/rename/RenameProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/split/SplitProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/trim/TrimProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/uppercase/UppercaseProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestModule.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/PipelineFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/RandomDocumentPicks.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/AbstractStringProcessorTestCase.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/add/AddProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/add/AddProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/convert/ConvertProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/convert/ConvertProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/gsub/GsubProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/gsub/GsubProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/join/JoinProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/join/JoinProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/lowercase/LowercaseProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/lowercase/LowercaseProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/mutate/MutateProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/mutate/MutateProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/remove/RemoveProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/remove/RemoveProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/rename/RenameProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/rename/RenameProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/split/SplitProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/split/SplitProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/trim/TrimProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/trim/TrimProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/uppercase/UppercaseProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/uppercase/UppercaseProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/PipelineStoreTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilterTests.java
comments:
Split mutate processor into one processor per function

time:
2015-11-24T12:41:40Z
class:
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilterTests.java
comments:
test: also test what happens if all index requests fail to be processed by the pipeline

time:
2015-11-24T11:46:43Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/AllocationId.java
comments:
Merge pull request #14962 from ywelsch/fix/objectparser-for-allocationid

Use ObjectParser to parse AllocationID

time:
2015-11-24T11:40:30Z
class:
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/PipelineExecutionService.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilter.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/IngestClientIT.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilterTests.java
comments:
Instead of failing the entire bulk request if the pipeline fails, only fail a bulk item.

time:
2015-11-24T11:35:28Z
class:
comments:
Docs: Fix :issue: and :pull: asciidoc replacements

Closes #14922

time:
2015-11-24T11:13:54Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/AllocationId.java
comments:
Use ObjectParser to parse AllocationID

time:
2015-11-24T10:04:48Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/InternalSignificantTerms.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsBackwardCompatibilityIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/significant/SignificanceHeuristicTests.java
comments:
aggs: fix significant terms reduce for long terms

Significant terms were not reduced correctly if they were long terms.
Also, clean up the bwc test a little. Upgrades are not needed.

related to #13522

time:
2015-11-24T09:23:53Z
class:
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/routing/AllocationId.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/FailedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/StartedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocators.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
core/src/main/java/org/elasticsearch/common/network/Cidrs.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/Mapping.java
core/src/main/java/org/elasticsearch/index/mapper/MetadataFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BaseTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryParser.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShardStateMetaData.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/mapper/MapperRegistry.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IPv4RangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/InternalIPv4Range.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IpRangeParser.java
core/src/test/java/org/elasticsearch/action/support/replication/ClusterStateCreationUtils.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/routing/AllocationIdTests.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/RandomShardRoutingMutator.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/common/network/CidrsTests.java
core/src/test/java/org/elasticsearch/common/util/MultiDataPathUpgraderTests.java
core/src/test/java/org/elasticsearch/gateway/PrimaryShardAllocatorTests.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/codec/CodecTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapperPlugin.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMetadataMapper.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/SimpleExternalMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/index/IndexTypeMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/TypeFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/BoostingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/CommonTermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ExistsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FuzzyQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeohashCellQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IndicesQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchAllQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchNoneQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MissingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MultiMatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NestedQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/PrefixQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RegexpQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ScriptQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanContainingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanFirstQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNearQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNotQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanOrQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanTermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanWithinQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/TermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TypeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WildcardQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/shard/ShardPathTests.java
core/src/test/java/org/elasticsearch/indexlifecycle/IndexLifecycleActionIT.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerSingleNodeTests.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateIT.java
core/src/test/java/org/elasticsearch/recovery/RecoveryWhileUnderLoadIT.java
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/MapperAttachmentsPlugin.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/DateAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/EncryptedDocMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/LanguageDetectionAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MapperTestUtils.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MetadataMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MultifieldAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/SimpleAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/StandaloneRunner.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/VariousDocTests.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/plugin/mapper/MapperMurmur3Plugin.java
plugins/mapper-murmur3/src/test/java/org/elasticsearch/index/mapper/murmur3/Murmur3FieldMapperTests.java
plugins/mapper-size/src/main/java/org/elasticsearch/index/mapper/size/SizeFieldMapper.java
plugins/mapper-size/src/main/java/org/elasticsearch/plugin/mapper/MapperSizePlugin.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/SizeMappingTests.java
test-framework/src/main/java/org/elasticsearch/test/BackgroundIndexer.java
test-framework/src/main/java/org/elasticsearch/test/ESAllocationTestCase.java
comments:
Merge branch 'master' into feature/ingest

time:
2015-11-24T08:54:22Z
class:
comments:
Merge pull request #14926 from rjernst/maven_cleanup

Remove old files replaced by gradle

time:
2015-11-24T08:53:25Z
class:
comments:
Merge pull request #14925 from rjernst/maven_test_parity

Add back leaveTemporary and ifNoTests

time:
2015-11-24T08:48:58Z
class:
comments:
Build: Allow customizing wait condition and cluster settings

The current wait condition for an integ test cluster being up is a
simple http get on the root path for elasticsearch. However, it is
useful to allow having arbitrary wait conditions. This change reworks
the wait task to first check that each node process started successfully
and has a socket up, followed by an arbitrary wait condition which
defaults to the current http get.

Also, cluster settings are allowed to be added, and overriden. Finally,
custom setup commands are made relative to the elasticsearch home dir
for each node.

time:
2015-11-24T08:28:06Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/Mapping.java
core/src/main/java/org/elasticsearch/index/mapper/MetadataFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/mapper/MapperRegistry.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/codec/CodecTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapperPlugin.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMetadataMapper.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/SimpleExternalMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/index/IndexTypeMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/TypeFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/MapperAttachmentsPlugin.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/DateAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/EncryptedDocMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/LanguageDetectionAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MapperTestUtils.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MetadataMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MultifieldAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/SimpleAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/StandaloneRunner.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/VariousDocTests.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/plugin/mapper/MapperMurmur3Plugin.java
plugins/mapper-murmur3/src/test/java/org/elasticsearch/index/mapper/murmur3/Murmur3FieldMapperTests.java
plugins/mapper-size/src/main/java/org/elasticsearch/index/mapper/size/SizeFieldMapper.java
plugins/mapper-size/src/main/java/org/elasticsearch/plugin/mapper/MapperSizePlugin.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/SizeMappingTests.java
comments:
Merge pull request #14896 from jpountz/fix/mapper_plugins

Register field mappers at the node level.

time:
2015-11-24T07:59:37Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/Mapping.java
core/src/main/java/org/elasticsearch/index/mapper/MetadataFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/mapper/MapperRegistry.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/codec/CodecTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapperPlugin.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMetadataMapper.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/SimpleExternalMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/index/IndexTypeMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/TypeFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/MapperAttachmentsPlugin.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/DateAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/EncryptedDocMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/LanguageDetectionAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MapperTestUtils.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MetadataMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MultifieldAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/SimpleAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/StandaloneRunner.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/VariousDocTests.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/plugin/mapper/MapperMurmur3Plugin.java
plugins/mapper-murmur3/src/test/java/org/elasticsearch/index/mapper/murmur3/Murmur3FieldMapperTests.java
plugins/mapper-size/src/main/java/org/elasticsearch/index/mapper/size/SizeFieldMapper.java
plugins/mapper-size/src/main/java/org/elasticsearch/plugin/mapper/MapperSizePlugin.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/SizeMappingTests.java
comments:
Register field mappers at the node level.

This moves the registration of field mappers from the index level to the node
level and also ensures that mappers coming from plugins are treated no
differently from core mappers.

time:
2015-11-24T01:51:14Z
class:
core/src/main/java/org/elasticsearch/common/network/Cidrs.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IPv4RangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/InternalIPv4Range.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IpRangeParser.java
core/src/test/java/org/elasticsearch/common/network/CidrsTests.java
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
comments:
Merge pull request #14874 from jasontedor/ipv4-parsing

Do not be lenient when parsing CIDRs

time:
2015-11-24T01:46:23Z
class:
core/src/main/java/org/elasticsearch/common/network/Cidrs.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IPv4RangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/InternalIPv4Range.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IpRangeParser.java
core/src/test/java/org/elasticsearch/common/network/CidrsTests.java
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
comments:
Do not be lenient when parsing CIDRs

This commit fixes some leniency in the parsing of CIDRs. The leniency
that existed before includes not validating the octet values nor
validating the network mask; in some cases issues with these values were
silently ignored. Parsing is now done according to the guidelines in RFC
4632, page 6.

Closes #14862

time:
2015-11-23T23:51:32Z
class:
comments:
Merge pull request #14952 from rjernst/attach_without_subdir

Rework extra plugins support to be through sibling directories

time:
2015-11-23T23:47:56Z
class:
comments:
die extra plugins

time:
2015-11-23T23:15:40Z
class:
comments:
Fix xplugins to not omit the first level project name

time:
2015-11-23T23:01:55Z
class:
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStats.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/cluster/routing/AllocationId.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/FailedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/StartedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocators.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
core/src/main/java/org/elasticsearch/common/logging/jdk/JdkESLogger.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BaseTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryParser.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShardStateMetaData.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/test/java/org/elasticsearch/action/support/replication/ClusterStateCreationUtils.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/routing/AllocationIdTests.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/RandomShardRoutingMutator.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/common/cache/CacheTests.java
core/src/test/java/org/elasticsearch/common/logging/jdk/JDKESLoggerTests.java
core/src/test/java/org/elasticsearch/common/util/MultiDataPathUpgraderTests.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsIntegrationIT.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsTests.java
core/src/test/java/org/elasticsearch/gateway/PrimaryShardAllocatorTests.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/BoostingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/CommonTermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ExistsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FuzzyQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeohashCellQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IndicesQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchAllQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchNoneQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MissingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MultiMatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NestedQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/PrefixQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RegexpQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ScriptQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanContainingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanFirstQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNearQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNotQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanOrQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanTermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanWithinQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TypeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WildcardQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/shard/ShardPathTests.java
core/src/test/java/org/elasticsearch/indexlifecycle/IndexLifecycleActionIT.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerSingleNodeTests.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateIT.java
core/src/test/java/org/elasticsearch/recovery/RecoveryWhileUnderLoadIT.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
test-framework/src/main/java/org/elasticsearch/test/BackgroundIndexer.java
test-framework/src/main/java/org/elasticsearch/test/ESAllocationTestCase.java
comments:
Merge branch 'master' into attach_without_subdir

time:
2015-11-23T22:54:08Z
class:
comments:
Fix testing instructions with x-plugins

time:
2015-11-23T22:44:37Z
class:
comments:
Change extra plugins to x-plugins directory instead of extra-plugin- prefix

time:
2015-11-23T22:25:48Z
class:
comments:
Merge pull request #14951 from mikemccand/upgrade_lucene_1715952

Upgrade Lucene to 5.4.0-snapshot-1715952

time:
2015-11-23T22:15:45Z
class:
comments:
Build: Rework extra plugins support to be through sibling directories

This change removes the subdirectory support for extra-plugins, and
replaces it with an iteration of sibling directories with the prefix
"extra-plugin-".

time:
2015-11-23T22:13:49Z
class:
comments:
upgrade lucene to 5.4.0-snapshot-1715952

time:
2015-11-23T17:57:06Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
comments:
Remove leftover TODOs in o.e.c.r.RoutingTable

time:
2015-11-23T17:24:42Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/IngestDocument.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/Pipeline.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/Processor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/DateProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/GrokProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/mutate/MutateProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/PipelineExecutionService.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilter.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/TransportData.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/ParsedSimulateRequest.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateDocumentSimpleResult.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateExecutionService.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateProcessorResult.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/DataTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/IngestClientIT.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/date/DateProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/mutate/MutateProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/PipelineExecutionServiceTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilterTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/TransportDataTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/ParsedSimulateRequestParserTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateDocumentSimpleResultTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateExecutionServiceTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineResponseTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateProcessorResultTests.java
comments:
renamed Data to IngestDocument
moved all metadata related fields to a single metadata map
removed specific metadata getters with a generic getMetadata()

time:
2015-11-23T17:14:02Z
class:
core/src/main/java/org/elasticsearch/index/shard/ShardStateMetaData.java
comments:
Fix issue where shard state metadata is written while containing no allocation id

Such a write can happen when upgrading shard state metadata using the MultiDataPathUpgrader

Relates to #14831
good catch. Can we add a comment as to why we do that ? so in the future we know when it's safe to remove :) (although your commit message deserves a huge +1 for clearly explaining it..)


time:
2015-11-23T16:54:57Z
class:
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
comments:
Improve stability of UpdateIT

With this commit, we reduce the amount of work
that UpdateIT does and add progress logging.

Closes #14877

time:
2015-11-23T16:44:36Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/AllocationId.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShardStateMetaData.java
core/src/test/java/org/elasticsearch/cluster/routing/AllocationIdTests.java
core/src/test/java/org/elasticsearch/common/util/MultiDataPathUpgraderTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/shard/ShardPathTests.java
comments:
Merge pull request #14831 from ywelsch/feature/persist-allocid-shardstate

Persist allocation ID with shard state metadata on nodes

time:
2015-11-23T16:35:33Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/AllocationId.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShardStateMetaData.java
core/src/test/java/org/elasticsearch/cluster/routing/AllocationIdTests.java
core/src/test/java/org/elasticsearch/common/util/MultiDataPathUpgraderTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/shard/ShardPathTests.java
comments:
Persist allocation ID with shard state metadata on nodes

Closes #14831

time:
2015-11-23T13:16:40Z
class:
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BaseTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryParser.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/BoostingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/CommonTermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ExistsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FuzzyQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeohashCellQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IndicesQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchAllQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchNoneQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MissingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MultiMatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NestedQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/PrefixQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RegexpQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ScriptQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanContainingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanFirstQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNearQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNotQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanOrQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanTermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanWithinQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TypeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WildcardQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilderTests.java
comments:
Merge pull request #14249 from MaineC/enhancement/8964

Switch query parsers to use ParseField

time:
2015-11-23T12:58:27Z
class:
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/test/java/org/elasticsearch/recovery/RecoveryWhileUnderLoadIT.java
test-framework/src/main/java/org/elasticsearch/test/BackgroundIndexer.java
comments:
merge master

time:
2015-11-23T12:52:32Z
class:
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/test/java/org/elasticsearch/recovery/RecoveryWhileUnderLoadIT.java
test-framework/src/main/java/org/elasticsearch/test/BackgroundIndexer.java
comments:
Improve trace logging in TransportReplicationAction and error reporting at RecoveryWhileUnderLoadIT

Things that helped me traced down an issue.

Closes #14931

time:
2015-11-23T12:18:34Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/FailedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/StartedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocators.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/test/java/org/elasticsearch/action/support/replication/ClusterStateCreationUtils.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/routing/AllocationIdTests.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/RandomShardRoutingMutator.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/gateway/PrimaryShardAllocatorTests.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/indexlifecycle/IndexLifecycleActionIT.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateIT.java
test-framework/src/main/java/org/elasticsearch/test/ESAllocationTestCase.java
comments:
merge master

time:
2015-11-23T12:16:15Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/FailedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/StartedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocators.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/test/java/org/elasticsearch/action/support/replication/ClusterStateCreationUtils.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/routing/AllocationIdTests.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/RandomShardRoutingMutator.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/gateway/PrimaryShardAllocatorTests.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/indexlifecycle/IndexLifecycleActionIT.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateIT.java
test-framework/src/main/java/org/elasticsearch/test/ESAllocationTestCase.java
comments:
Make sure the remaining delay of unassigned shard is updated with every reroute

For example: if a node left the cluster and an async store fetch was triggered. In that time no shard is marked as delayed (and strictly speaking it's not yet delayed). This caused test for shard delays post node left to fail. see : http://build-us-00.elastic.co/job/es_core_master_windows-2012-r2/2074/testReport/

 To fix this, the delay update is now done by the Allocation Service, based of a fixed time stamp that is determined at the beginning of the reroute.

 Also, this commit fixes a bug where unassigned info instances were reused across shard routings, causing calculated delays to be leaked.

Closes #14890

time:
2015-11-23T12:15:22Z
class:
comments:
feedback

time:
2015-11-23T12:14:02Z
class:
comments:
Fix example for s3 repository bucket name

Closes #13588.

time:
2015-11-23T11:14:31Z
class:
comments:
Merge branch 'docs/mapper-attachments'

time:
2015-11-23T10:50:07Z
class:
core/src/test/java/org/elasticsearch/recovery/RecoveryWhileUnderLoadIT.java
comments:
re enable RecoveryWhileUnderLoadIT now that #14918 is merged.

time:
2015-11-23T10:47:47Z
class:
core/src/main/java/org/elasticsearch/action/bulk/BulkProcessor.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStats.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCLIParser.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/common/geo/builders/BaseLineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/BasePolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/GeometryCollectionBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/LineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiLineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiPointBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiPolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/PointCollection.java
core/src/main/java/org/elasticsearch/common/geo/builders/PolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/common/logging/jdk/JdkESLogger.java
core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmInfo.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/benchmark/mapping/ManyMappingsBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/monitor/os/OsProbeBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/recovery/ReplicaRecoveryBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/GlobalOrdinalsBenchmark.java
core/src/test/java/org/elasticsearch/bootstrap/JarHellTests.java
core/src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
core/src/test/java/org/elasticsearch/common/cache/CacheTests.java
core/src/test/java/org/elasticsearch/common/logging/jdk/JDKESLoggerTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsTests.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsIntegrationIT.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerSingleNodeTests.java
core/src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTestCase.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptEngineTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptMultiThreadedTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonSecurityTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/StandaloneRunner.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/VariousDocTests.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTestCase.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/BootstrapCliParserTests.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/EvilJarHellTests.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/EvilSecurityTests.java
qa/evil-tests/src/test/java/org/elasticsearch/common/cli/CliToolTests.java
qa/evil-tests/src/test/java/org/elasticsearch/node/internal/EvilInternalSettingsPreparerTests.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/PluginManagerTests.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
qa/evil-tests/src/test/java/org/elasticsearch/tribe/TribeUnitTests.java
test-framework/src/main/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
test-framework/src/main/java/org/elasticsearch/common/cli/CliToolTestCase.java
test-framework/src/main/java/org/elasticsearch/test/ESTestCase.java
comments:
Merge branch 'master' into feature/seq_no

time:
2015-11-23T10:37:46Z
class:
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BaseTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryParser.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/BoostingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/CommonTermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ExistsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FuzzyQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeohashCellQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IndicesQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchAllQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchNoneQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MissingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MultiMatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NestedQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/PrefixQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RegexpQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ScriptQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanContainingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanFirstQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNearQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNotQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanOrQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanTermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanWithinQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TypeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WildcardQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilderTests.java
comments:
Switches from manual field parsing to ParseField

This switches query parsing from manual field parsing to using ParseField.

Also adds unit tests for each query that check original json can be parsed
into query builders.

Relates to #8964

time:
2015-11-23T10:35:44Z
class:
core/src/main/java/org/elasticsearch/common/geo/builders/CircleBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/PointBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/test/java/org/elasticsearch/common/geo/builders/AbstractShapeBuilderTestCase.java
core/src/test/java/org/elasticsearch/common/geo/builders/CirlceBuilderTests.java
core/src/test/java/org/elasticsearch/common/unit/DistanceUnitTests.java
comments:
Making CircleBuilder writable and adding equals/hashcode

time:
2015-11-23T10:24:43Z
class:
core/src/main/java/org/elasticsearch/common/geo/builders/CircleBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/EnvelopeBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/GeometryCollectionBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/LineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiLineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiPointBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiPolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/PointBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/PolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/test/java/org/elasticsearch/common/geo/builders/AbstractShapeBuilderTestCase.java
core/src/test/java/org/elasticsearch/common/geo/builders/PointBuilderTests.java
comments:
Geo: Make ShapeBuilders implement Writable

We recently refactored the queries to make them parsable on the
coordinating note and adding serialization and equals/hashCode
capability to them. So far ShapeBuilders nested inside queries
were still transported as a byte array that needs to be parsed
later on the shard receiving the query. To be able to also
serialize geo shapes this way, we also need to make all the
implementations of ShapeBuilder implement Writable.

This PR adds this to PointBuilder and also adds tests for
serialization, equality and hashCode.

time:
2015-11-23T10:22:40Z
class:
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerSingleNodeTests.java
comments:
Set an newly created IndexShard's ShardRouting before exposing it to operations

The work for #10708 requires tighter integration with the current shard routing of a shard. As such, we need to make sure it is set before the IndexService exposes the shard to external operations.

Closes #14918

time:
2015-11-23T09:05:17Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersRequest.java
core/src/main/java/org/elasticsearch/action/bulk/BulkProcessor.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStats.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequest.java
core/src/main/java/org/elasticsearch/action/fieldstats/IndexConstraint.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCLIParser.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/ClusterService.java
core/src/main/java/org/elasticsearch/cluster/DiskUsage.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/common/geo/ShapeRelation.java
core/src/main/java/org/elasticsearch/common/geo/builders/BaseLineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/BasePolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/GeometryCollectionBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/LineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiLineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiPointBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiPolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/PointCollection.java
core/src/main/java/org/elasticsearch/common/geo/builders/PolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/common/logging/jdk/JdkESLogger.java
core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/metrics/EWMA.java
core/src/main/java/org/elasticsearch/common/metrics/MeterMetric.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/unit/DistanceUnit.java
core/src/main/java/org/elasticsearch/common/util/concurrent/AbstractRunnable.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmInfo.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/snapshots/get/RestGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestSnapshotAction.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGrid.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/DateRangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IPv4RangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/InternalIPv4Range.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IpRangeParser.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/action/fieldstats/FieldStatsRequestTests.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportReplicationActionTests.java
core/src/test/java/org/elasticsearch/benchmark/mapping/ManyMappingsBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/monitor/os/OsProbeBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/recovery/ReplicaRecoveryBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/GlobalOrdinalsBenchmark.java
core/src/test/java/org/elasticsearch/bootstrap/JarHellTests.java
core/src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
core/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/common/cache/CacheTests.java
core/src/test/java/org/elasticsearch/common/geo/ShapeBuilderTests.java
core/src/test/java/org/elasticsearch/common/io/stream/StreamTests.java
core/src/test/java/org/elasticsearch/common/logging/jdk/JDKESLoggerTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsTests.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsIntegrationIT.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
core/src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
core/src/test/java/org/elasticsearch/search/SearchTimeoutIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoShapeQueryTests.java
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/test/geo/RandomShapeGenerator.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IndexableBinaryStringTools.java
plugins/analysis-phonetic/src/main/java/org/elasticsearch/index/analysis/PhoneticTokenFilterFactory.java
plugins/discovery-azure/src/main/java/org/elasticsearch/cloud/azure/AzureDiscoveryModule.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTestCase.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ExtendedStatsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/GeoShapeIntegrationTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HDRPercentileRanksTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HDRPercentilesTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MaxTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MinTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchTimeoutTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/StatsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentileRanksTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentilesTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/package-info.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptEngineTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptMultiThreadedTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonSecurityTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/StandaloneRunner.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/VariousDocTests.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/AzureRepositoryModule.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/blobstore/AzureBlobContainer.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/blobstore/AzureBlobStore.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageService.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageServiceImpl.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageSettings.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageSettingsFilter.java
plugins/repository-azure/src/main/java/org/elasticsearch/plugin/repository/azure/AzureRepositoryPlugin.java
plugins/repository-azure/src/main/java/org/elasticsearch/repositories/azure/AzureRepository.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureRepositoryServiceTestCase.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/storage/AzureStorageServiceMock.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/storage/AzureStorageServiceTest.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/storage/AzureStorageSettingsFilterTest.java
plugins/repository-azure/src/test/java/org/elasticsearch/repositories/azure/AzureRepositoryF.java
plugins/repository-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSettingsParserTest.java
plugins/repository-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreTests.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/blobstore/DefaultS3OutputStream.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/blobstore/S3BlobStore.java
plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3Repository.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTestCase.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/blobstore/S3BlobStoreTests.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/BootstrapCliParserTests.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/EvilJarHellTests.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/EvilSecurityTests.java
qa/evil-tests/src/test/java/org/elasticsearch/common/cli/CliToolTests.java
qa/evil-tests/src/test/java/org/elasticsearch/node/internal/EvilInternalSettingsPreparerTests.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/PluginManagerTests.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
qa/evil-tests/src/test/java/org/elasticsearch/tribe/TribeUnitTests.java
test-framework/src/main/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
test-framework/src/main/java/org/elasticsearch/common/cli/CliToolTestCase.java
test-framework/src/main/java/org/elasticsearch/search/aggregations/metrics/AbstractNumericTestCase.java
test-framework/src/main/java/org/elasticsearch/test/CompositeTestCluster.java
test-framework/src/main/java/org/elasticsearch/test/ESAllocationTestCase.java
test-framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
test-framework/src/main/java/org/elasticsearch/test/ESTestCase.java
test-framework/src/main/java/org/elasticsearch/test/ExternalNode.java
test-framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
test-framework/src/main/java/org/elasticsearch/test/TestCluster.java
test-framework/src/main/java/org/elasticsearch/test/rest/BlacklistedPathPatternMatcher.java
test-framework/src/main/java/org/elasticsearch/test/rest/ESRestTestCase.java
test-framework/src/test/java/org/elasticsearch/test/rest/BlacklistedPathPatternMatcherTests.java
test-framework/src/test/java/org/elasticsearch/test/test/InternalTestClusterTests.java
comments:
Merge branch 'master' into feature/ingest

time:
2015-11-23T08:49:29Z
class:
core/src/main/java/org/elasticsearch/common/logging/jdk/JdkESLogger.java
core/src/test/java/org/elasticsearch/common/logging/jdk/JDKESLoggerTests.java
comments:
Map log-level 'trace' to JDK-Level 'FINEST' to make it possible to actually enable the trace-log via JdkESLogger.setLevel()

time:
2015-11-23T07:48:28Z
class:
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStats.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsIntegrationIT.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsTests.java
comments:
field stats: Added `min_value_as_string` and `max_value_as_string` response elements for all number based fields. The existing `min_value` and `max_value` will return the values as numbers instead.

Closes #14404

time:
2015-11-23T07:46:24Z
class:
comments:
Build: Remove old files replaced by gradle

This change removes files that are no longer needed with the gradle
build. The license checker was already rewritten in groovy. The plugin
descriptor template exists in buildSrc resources. log4j properties was
moved to the test framework. site_en.xml seems to be a legacy file,
there are no references to it anywhere in the maven build that I could
find. The update lucene script was just a helper for running the license
check in update mode, but that can be done with gradle using the
updateShas command. Finally, there was a leftover build.gradle from when
I attempted to make dev-tools a project of its own.

time:
2015-11-23T07:35:15Z
class:
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsTests.java
comments:
field stats: Index constraints should remove indices in the response if the field to evaluate s empty

Index constraints should remove indices in the response if the field to evaluate if empty. Index constraints can't work with that and it is the same as if the field doesn't match.

time:
2015-11-23T06:18:42Z
class:
comments:
Build: Add back leaveTemporary and ifNoTests

This change adds back the last of the missing test options to the juni4
wrapper. leaveTemporary is important in that setting it to true (which
is how we had it set in maven) removes the warnings we currently get
about a leftover file that cannot be deleted (from jna).

time:
2015-11-23T03:03:21Z
class:
comments:
Merge pull request #14923 from rjernst/enforce_gradle_idea

Enforce that gradle idea was run before importing in intellij

time:
2015-11-23T00:58:04Z
class:
core/src/test/java/org/elasticsearch/common/cache/CacheTests.java
comments:
Clarify three possible outcomes in CacheTests#testCachePollution

time:
2015-11-23T00:56:27Z
class:
core/src/test/java/org/elasticsearch/common/cache/CacheTests.java
comments:
Use correct equality in CacheTests#testReplaceRecomputesSize.Value

time:
2015-11-23T00:07:39Z
class:
comments:
Build: Enforce that gradle idea was run before importing in intellij

Due to how intellij imports gradle projects, the tasks which setup
resources are not run. This means we must be sure to run gradle idea
from the command line before importing into elasticsearch. This change
adds a simple marker file to indicate we have run from the command line
before importing. It won't help for new projects that add plugin
metadata, but it will at least make sure the initial project is set up
correctly.

time:
2015-11-22T23:27:33Z
class:
comments:
Merge pull request #14921 from rjernst/multi_node_qa

Get multi node smoke tests working

time:
2015-11-22T22:49:05Z
class:
comments:
Build: Get multi node smoke tests working

This change adds back the multi node smoke test, as well as making the
cluster formation for any test allow multiple nodes. The main changes in
cluster formation are abstracting out the node specific configuration to
a helper struct, as well as making a single wait task that waits for all
nodes after their start tasks have run. The output on failure was also
improved to log which node's info is being printed.

time:
2015-11-22T16:51:34Z
class:
comments:
Fix bad merge

time:
2015-11-22T16:45:24Z
class:
comments:
Merge pull request #14912 from rjernst/extra_plugins

Change project attachment into special extra-plugins dir

time:
2015-11-22T16:44:33Z
class:
comments:
Build: Change project attachment into special extra-plugins dir

Currently we use the "gradle project attachment plugin" to support
building elasticsearch as part of another project. However, this plugin
has a number of issues, a large part of which is requiring consistent
use of the projectsPrefix.

This change removes projectsPrefix, and adds support for a special
extra-plugins directory in the root of elasticsearch. Any projects
checked out within this directory will be automatically added to
elasticsearch.

time:
2015-11-22T16:28:55Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCLIParser.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmInfo.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/benchmark/mapping/ManyMappingsBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/monitor/os/OsProbeBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/recovery/ReplicaRecoveryBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/GlobalOrdinalsBenchmark.java
core/src/test/java/org/elasticsearch/bootstrap/JarHellTests.java
core/src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsTests.java
core/src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTestCase.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptEngineTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptMultiThreadedTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonSecurityTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/StandaloneRunner.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/VariousDocTests.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTestCase.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/BootstrapCliParserTests.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/EvilJarHellTests.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/EvilSecurityTests.java
qa/evil-tests/src/test/java/org/elasticsearch/common/cli/CliToolTests.java
qa/evil-tests/src/test/java/org/elasticsearch/node/internal/EvilInternalSettingsPreparerTests.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/PluginManagerTests.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
qa/evil-tests/src/test/java/org/elasticsearch/tribe/TribeUnitTests.java
test-framework/src/main/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
test-framework/src/main/java/org/elasticsearch/common/cli/CliToolTestCase.java
test-framework/src/main/java/org/elasticsearch/test/ESTestCase.java
comments:
Merge pull request #14914 from rmuir/lock_down_system_property_writes

Ban write access to system properties

time:
2015-11-22T15:41:42Z
class:
comments:
Merge pull request #14916 from rjernst/force_task_order

Enforce similar tasks run for dependencies first

time:
2015-11-22T09:17:49Z
class:
comments:
Build: Enforce similar tasks run for dependencies first

Gradle ensures task dependencies are executed in the correct order.
However, project dependencies only build what is needed for the
dependency. This means the order of higher level tasks are not
guaranteed. This change adds task ordering between test and integTest
for a project and its dependencies.

time:
2015-11-22T04:13:05Z
class:
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
comments:
fix typo in comment

time:
2015-11-22T03:33:06Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCLIParser.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmInfo.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/benchmark/mapping/ManyMappingsBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/monitor/os/OsProbeBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/recovery/ReplicaRecoveryBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/GlobalOrdinalsBenchmark.java
core/src/test/java/org/elasticsearch/bootstrap/JarHellTests.java
core/src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsTests.java
core/src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTestCase.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptEngineTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptMultiThreadedTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonSecurityTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/StandaloneRunner.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/VariousDocTests.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTestCase.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/BootstrapCliParserTests.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/EvilJarHellTests.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/EvilSecurityTests.java
qa/evil-tests/src/test/java/org/elasticsearch/common/cli/CliToolTests.java
qa/evil-tests/src/test/java/org/elasticsearch/node/internal/EvilInternalSettingsPreparerTests.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/PluginManagerTests.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
qa/evil-tests/src/test/java/org/elasticsearch/tribe/TribeUnitTests.java
test-framework/src/main/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
test-framework/src/main/java/org/elasticsearch/common/cli/CliToolTestCase.java
test-framework/src/main/java/org/elasticsearch/test/ESTestCase.java
comments:
Ban write access to system properties

* Forbid System.setProperties & co in forbidden APIs.
* Ban property write access at runtime with security manager.

Plugins that need to modify system properties will need to request permission in their plugin-security.policy

time:
2015-11-22T03:08:18Z
class:
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
comments:
Remove unused imports from o.a.c.s.AbstractClient

time:
2015-11-21T20:29:03Z
class:
comments:
Merge pull request #14913 from rjernst/precommit_standalone

Add precommit checks to standalone tests

time:
2015-11-21T19:50:43Z
class:
comments:
Build: Add precommit checks to standalone tests

time:
2015-11-21T11:52:31Z
class:
core/src/main/java/org/elasticsearch/common/geo/builders/BaseLineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/BasePolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/GeometryCollectionBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/LineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiLineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiPointBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiPolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/PointCollection.java
core/src/main/java/org/elasticsearch/common/geo/builders/PolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
comments:
Merge pull request #14887 from cbuescher/merge-base-shapebuilders

Merging BaseLineString and BasePolygonBuilder with subclass

time:
2015-11-21T11:51:28Z
class:
comments:
Adding notes about ShapeBuilder changes to migration doc.

time:
2015-11-21T03:42:21Z
class:
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
comments:
Merge pull request #14910 from camilojd/fix-better-exception-query-num-field-regex

Return a better exception message when `regexp` query is used on a numeric field

time:
2015-11-21T03:21:24Z
class:
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
comments:
Return a better exception message when regexp query is used on a numeric field

time:
2015-11-20T23:20:22Z
class:
core/src/main/java/org/elasticsearch/action/bulk/BulkProcessor.java
comments:
Merge pull request #14909 from jasontedor/release-after-successful-acquire

Do not release unacquired semaphore

time:
2015-11-20T23:03:48Z
class:
core/src/main/java/org/elasticsearch/action/bulk/BulkProcessor.java
comments:
Do not release unacquired semaphore

This commit adds an acquired flag to BulkProcessor#execute that is set
only after successful acquisition of a permit on the semaphore
there. This flag is used to ensure that we do not release a permit on
the semaphore when we did not obtain a permit on the semaphore.

Closes #14908

time:
2015-11-20T22:59:45Z
class:
comments:
Merge branch 'master' into feature/seq_no

time:
2015-11-20T22:48:11Z
class:
comments:
Merge pull request #14906 from nik9000/gradle_empty_dir

Survive missing directories

time:
2015-11-20T22:38:50Z
class:
comments:
[build] Survive missing directories

time:
2015-11-20T21:02:14Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersRequest.java
core/src/main/java/org/elasticsearch/cluster/ClusterService.java
core/src/main/java/org/elasticsearch/cluster/DiskUsage.java
core/src/main/java/org/elasticsearch/common/geo/builders/BaseLineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/BasePolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/GeometryCollectionBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/LineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiLineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiPolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/PointCollection.java
core/src/main/java/org/elasticsearch/common/geo/builders/PolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/common/metrics/EWMA.java
core/src/main/java/org/elasticsearch/common/metrics/MeterMetric.java
core/src/main/java/org/elasticsearch/common/unit/DistanceUnit.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/indices/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGrid.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/DateRangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IPv4RangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/InternalIPv4Range.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IpRangeParser.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationIT.java
core/src/test/java/org/elasticsearch/common/geo/ShapeBuilderTests.java
core/src/test/java/org/elasticsearch/search/SearchTimeoutIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoShapeQueryTests.java
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
core/src/test/java/org/elasticsearch/test/geo/RandomShapeGenerator.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IndexableBinaryStringTools.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ExtendedStatsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HDRPercentileRanksTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HDRPercentilesTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MaxTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MinTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchTimeoutTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/StatsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentileRanksTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentilesTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/package-info.java
test-framework/src/main/java/org/elasticsearch/search/aggregations/metrics/AbstractNumericTestCase.java
test-framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
comments:
Merge branch 'master' into feature/seq_no

time:
2015-11-20T20:21:40Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersRequest.java
core/src/main/java/org/elasticsearch/cluster/ClusterService.java
core/src/main/java/org/elasticsearch/cluster/DiskUsage.java
core/src/main/java/org/elasticsearch/common/metrics/EWMA.java
core/src/main/java/org/elasticsearch/common/metrics/MeterMetric.java
core/src/main/java/org/elasticsearch/common/unit/DistanceUnit.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/indices/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGrid.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/DateRangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IPv4RangeBuilder.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IndexableBinaryStringTools.java
test-framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
comments:
Merge pull request #14766 from rjernst/javadocs

Add javadocs jars

time:
2015-11-20T20:20:59Z
class:
core/src/main/java/org/elasticsearch/common/geo/builders/BaseLineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/BasePolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/GeometryCollectionBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/LineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiLineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiPolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/PointCollection.java
core/src/main/java/org/elasticsearch/common/geo/builders/PolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IPv4RangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/InternalIPv4Range.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IpRangeParser.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationIT.java
core/src/test/java/org/elasticsearch/common/geo/ShapeBuilderTests.java
core/src/test/java/org/elasticsearch/search/SearchTimeoutIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoShapeQueryTests.java
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
core/src/test/java/org/elasticsearch/test/geo/RandomShapeGenerator.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ExtendedStatsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HDRPercentileRanksTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HDRPercentilesTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MaxTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MinTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchTimeoutTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/StatsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentileRanksTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentilesTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/package-info.java
test-framework/src/main/java/org/elasticsearch/search/aggregations/metrics/AbstractNumericTestCase.java
comments:
Merge branch 'master' into javadocs

time:
2015-11-20T20:18:30Z
class:
comments:
Add reference to gradle discussion on javadoc options

time:
2015-11-20T20:12:49Z
class:
comments:
Merge pull request #14779 from rjernst/fork_compile

Use JDK at JAVA_HOME for compiling/testing, and improve build info output

time:
2015-11-20T19:58:44Z
class:
comments:
Merge pull request #14904 from nik9000/no_windows_deb_tests

Skip package tests on windows

time:
2015-11-20T19:54:30Z
class:
comments:
[build] Skip package tests on windows

They aren't going to work because the packages don't include the windows
files.

time:
2015-11-20T19:35:49Z
class:
comments:
Merge pull request #14858 from rjernst/check_jarhell

Add jar hell check before tests run

time:
2015-11-20T19:32:49Z
class:
comments:
Change the commented out line to a comment block

time:
2015-11-20T19:31:46Z
class:
comments:
Remove debugging output from running jjs scripts

time:
2015-11-20T19:30:36Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/common/geo/builders/BaseLineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/BasePolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/GeometryCollectionBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/LineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiLineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiPolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/PointCollection.java
core/src/main/java/org/elasticsearch/common/geo/builders/PolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IPv4RangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/InternalIPv4Range.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IpRangeParser.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/common/geo/ShapeBuilderTests.java
core/src/test/java/org/elasticsearch/search/SearchTimeoutIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoShapeQueryTests.java
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
core/src/test/java/org/elasticsearch/test/geo/RandomShapeGenerator.java
plugins/analysis-phonetic/src/main/java/org/elasticsearch/index/analysis/PhoneticTokenFilterFactory.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ExtendedStatsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HDRPercentileRanksTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HDRPercentilesTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MaxTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MinTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchTimeoutTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/StatsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentileRanksTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentilesTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/package-info.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageSettingsFilter.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/storage/AzureStorageSettingsFilterTest.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/blobstore/DefaultS3OutputStream.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/blobstore/S3BlobStore.java
plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3Repository.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/blobstore/S3BlobStoreTests.java
test-framework/src/main/java/org/elasticsearch/search/aggregations/metrics/AbstractNumericTestCase.java
test-framework/src/main/java/org/elasticsearch/test/ESAllocationTestCase.java
test-framework/src/main/java/org/elasticsearch/test/rest/BlacklistedPathPatternMatcher.java
test-framework/src/main/java/org/elasticsearch/test/rest/ESRestTestCase.java
test-framework/src/test/java/org/elasticsearch/test/rest/BlacklistedPathPatternMatcherTests.java
comments:
Merge branch 'master' into fork_compile

time:
2015-11-20T19:28:32Z
class:
comments:
Comment out release notes in master until they are populated

time:
2015-11-20T19:23:54Z
class:
comments:
Add release notes to docs index

time:
2015-11-20T19:05:53Z
class:
comments:
Updated the release-notes script to produce AsciiDoc and added placeholders

time:
2015-11-20T18:50:17Z
class:
core/src/test/java/org/elasticsearch/search/SearchTimeoutIT.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchTimeoutTests.java
comments:
Search: shift SearchTimeoutTests into core tests minus the Groovy dependency and renamed with IT test suffix

time:
2015-11-20T18:32:04Z
class:
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
comments:
Aggregations: Shift significant terms score test back into core without the Groovy dependency

time:
2015-11-20T18:00:52Z
class:
comments:
Update token-count.asciidoc

Fix typo

time:
2015-11-20T17:47:48Z
class:
comments:
Build: Remove cleaning of buildSrc on clean of ES, it doens't work as intended

time:
2015-11-20T17:21:50Z
class:
comments:
link to es-restlog plugin

time:
2015-11-20T17:10:22Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Data.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/DataTests.java
comments:
Merge pull request #14897 from javanna/enhancement/data_is_modified

Update modified flag when removing a property and corresponding tests

time:
2015-11-20T17:08:51Z
class:
comments:
Docs: `exists` query does not need to be wrapped inside `constant_score`

In the example we show an `exists` query inside a constant score query. While this is possible, it can mislead users to think it is necessary so we should remove it.

time:
2015-11-20T17:01:27Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Data.java
comments:
add some javadocs to Data#getDocument

time:
2015-11-20T16:59:45Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Data.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/DataTests.java
comments:
set Data modified flag when a property is removed and improve behaviour when adding a field

time:
2015-11-20T12:42:08Z
class:
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
comments:
Aggregations: Moves SumTests out of lang-groovy and back into core

Renames SumTests to SumIT and puts it in the same package as the other aggregation tests. Also updates the tests to not require Groovy

time:
2015-11-20T12:21:15Z
class:
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/package-info.java
comments:
Merge remote-tracking branch 'danielmitterdorfer/fix/ValueCountTests'

time:
2015-11-20T12:19:55Z
class:
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/package-info.java
comments:
Move ValueCountTests to core

This script moves ValueCountTests from plugins back to core
by using a mock script engine instead of Groovy.

time:
2015-11-20T11:41:13Z
class:
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ExtendedStatsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HDRPercentileRanksTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HDRPercentilesTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MaxTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MinTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/StatsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SumTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentileRanksTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentilesTests.java
test-framework/src/main/java/org/elasticsearch/search/aggregations/metrics/AbstractNumericTestCase.java
comments:
Merge pull request #14881 from jpountz/fix/AvgTests

Move AvgTests back to core.

time:
2015-11-20T10:58:38Z
class:
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ExtendedStatsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HDRPercentileRanksTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HDRPercentilesTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MaxTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MinTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/StatsTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SumTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentileRanksTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TDigestPercentilesTests.java
test-framework/src/main/java/org/elasticsearch/search/aggregations/metrics/AbstractNumericTestCase.java
comments:
Move AvgTests back to core.

This makes AvgTests use a mock plugin engine. I also removed the
textScriptExplicit* methods for the base class since they only make sense for
a groovy script, not a mock script.

time:
2015-11-20T10:37:55Z
class:
core/src/main/java/org/elasticsearch/common/geo/builders/BaseLineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/BasePolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/GeometryCollectionBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/LineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiLineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiPointBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiPolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/PointCollection.java
core/src/main/java/org/elasticsearch/common/geo/builders/PolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
comments:
Geo: Merging BaseLineString and BasePolygonBuilder with subclass

After the removal of some internal shape builders in #14482 the
BaseLineStringBuilder has only one implementation, the LineStringBuilder.
Same for the BasePolygonBuilder. This PR removes the abstract classes
and merges them with their concrete implementation to simplify the
inheritance hierarchy.

time:
2015-11-20T10:17:56Z
class:
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IPv4RangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/InternalIPv4Range.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IpRangeParser.java
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
comments:
Allow CIDR notation in a query string query

Close #14773

time:
2015-11-20T09:44:40Z
class:
core/src/main/java/org/elasticsearch/index/translog/Translog.java
comments:
Don't delete temp recovered checkpoint file if it was renamed

Closes #14872

time:
2015-11-20T09:38:48Z
class:
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationIT.java
comments:
Disable RecoveryWhileUnderLoadIT for now

Working on a fix http://build-us-00.elastic.co/job/es_core_master_windows-2012-r2/2074/testReport/

time:
2015-11-20T09:04:53Z
class:
core/src/test/java/org/elasticsearch/recovery/RecoveryWhileUnderLoadIT.java
comments:
Disable RecoveryWhileUnderLoadIT for now

time:
2015-11-20T00:41:29Z
class:
comments:
Update similarity.asciidoc

time:
2015-11-19T23:06:04Z
class:
core/src/main/java/org/elasticsearch/common/geo/builders/BaseLineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/BasePolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/GeometryCollectionBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/LineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiLineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiPolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/PointCollection.java
core/src/main/java/org/elasticsearch/common/geo/builders/PolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
core/src/test/java/org/elasticsearch/common/geo/ShapeBuilderTests.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoShapeQueryTests.java
core/src/test/java/org/elasticsearch/test/geo/RandomShapeGenerator.java
comments:
Merge pull request #14482 from cbuescher/remove-internal-linestring-builder

Remove InternalLineStringBuilder and InternalPolygonBuilder

time:
2015-11-19T22:13:15Z
class:
comments:
Merge pull request #14869 from rjernst/integ_test_java_opts

Improve integ test startup behavior

time:
2015-11-19T21:48:42Z
class:
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
comments:
trace logging

time:
2015-11-19T21:44:47Z
class:
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
plugins/analysis-phonetic/src/main/java/org/elasticsearch/index/analysis/PhoneticTokenFilterFactory.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageSettingsFilter.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/storage/AzureStorageSettingsFilterTest.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/blobstore/DefaultS3OutputStream.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/blobstore/S3BlobStore.java
plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3Repository.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/blobstore/S3BlobStoreTests.java
test-framework/src/main/java/org/elasticsearch/test/rest/BlacklistedPathPatternMatcher.java
test-framework/src/main/java/org/elasticsearch/test/rest/ESRestTestCase.java
test-framework/src/test/java/org/elasticsearch/test/rest/BlacklistedPathPatternMatcherTests.java
comments:
Merge branch 'master' into feature/seq_no

time:
2015-11-19T21:06:47Z
class:
comments:
Build: Improve integ test startup behavior

As part of the refactoring to allow --debug-jvm with gradle run, the way
java options are passed for integ tests was changed. However, we need to
make sure the jvm argline passed goes to ES_GC_OPTS because this
allows overriding things like which garbage collector we run, which we
do for testing from jenkins. This change adds back ES_GC_OPTS.

time:
2015-11-19T20:40:10Z
class:
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
comments:
Merge pull request #14867 from mikemccand/include_root_cause

Include root-cause exception when we fail to change shard's index buffer

time:
2015-11-19T20:03:03Z
class:
comments:
Merge pull request #14854 from rjernst/trick_ant

Fix integTest output if the elasticsearch script fails

time:
2015-11-19T19:50:41Z
class:
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
comments:
include root-cause exception when we fail to change shard's index buffer

time:
2015-11-19T19:24:31Z
class:
comments:
Make tmp file handling for jjs scripts better

time:
2015-11-19T19:15:00Z
class:
comments:
Add a comment explaining the -quiet parameter for adding javadoc options

time:
2015-11-19T18:43:43Z
class:
core/src/main/java/org/elasticsearch/Build.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodeResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoresRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/TransportIndicesShardStoresAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStats.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequest.java
core/src/main/java/org/elasticsearch/action/fieldstats/IndexConstraint.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterHealthStatus.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterShardHealth.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
core/src/main/java/org/elasticsearch/cluster/routing/RestoreSource.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingValidationException.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ClusterRebalanceAllocationDecider.java
core/src/main/java/org/elasticsearch/common/geo/ShapeRelation.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilders.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/common/util/concurrent/AbstractRunnable.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
core/src/main/java/org/elasticsearch/common/xcontent/cbor/CborXContent.java
core/src/main/java/org/elasticsearch/common/xcontent/cbor/CborXContentGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/json/BaseJsonGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContent.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/smile/SmileXContent.java
core/src/main/java/org/elasticsearch/common/xcontent/smile/SmileXContentGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/support/AbstractXContentGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/support/filtering/FilterContext.java
core/src/main/java/org/elasticsearch/common/xcontent/support/filtering/FilterPath.java
core/src/main/java/org/elasticsearch/common/xcontent/support/filtering/FilterPathBasedFilter.java
core/src/main/java/org/elasticsearch/common/xcontent/support/filtering/FilteringJsonGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/yaml/YamlXContent.java
core/src/main/java/org/elasticsearch/common/xcontent/yaml/YamlXContentGenerator.java
core/src/main/java/org/elasticsearch/discovery/DiscoveryService.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/gateway/GatewayService.java
core/src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/main/java/org/elasticsearch/index/engine/CommitStats.java
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/GlobalOrdinalsBuilder.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexOrdinalsFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/SortedSetDVOrdinalsIndexFieldData.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/index/store/IndexStoreConfig.java
core/src/main/java/org/elasticsearch/index/translog/Checkpoint.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/breaker/AllCircuitBreakerStats.java
core/src/main/java/org/elasticsearch/indices/breaker/CircuitBreakerStats.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
core/src/main/java/org/elasticsearch/monitor/Probes.java
core/src/main/java/org/elasticsearch/monitor/os/OsProbe.java
core/src/main/java/org/elasticsearch/monitor/os/OsStats.java
core/src/main/java/org/elasticsearch/monitor/process/ProcessProbe.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/health/RestClusterHealthAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/snapshots/get/RestGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestSnapshotAction.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregations.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
core/src/main/java/org/elasticsearch/search/internal/ShardSearchLocalRequest.java
core/src/main/java/org/elasticsearch/snapshots/RestoreInfo.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotInfo.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/test/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIT.java
core/src/test/java/org/elasticsearch/action/fieldstats/FieldStatsRequestTests.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportReplicationActionTests.java
core/src/test/java/org/elasticsearch/benchmark/cluster/ClusterAllocationRerouteBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/monitor/os/OsProbeBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/percolator/PercolatorStressBenchmark.java
core/src/test/java/org/elasticsearch/bwcompat/BasicBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterHealthIT.java
core/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java
core/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteIT.java
core/src/test/java/org/elasticsearch/cluster/health/ClusterIndexHealthTests.java
core/src/test/java/org/elasticsearch/cluster/health/ClusterStateHealthTests.java
core/src/test/java/org/elasticsearch/cluster/health/RoutingTableGenerator.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingTableTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AddIncrementallyTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationPriorityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AwarenessAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceConfigurationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceUnbalancedClusterTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/CatAllocationTestCase.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ClusterRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ConcurrentRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/DeadNodesAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ElectReplicaAsPrimaryDuringRelocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ExpectedShardSizeAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedNodeRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FilterRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/IndexBalanceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/NodeVersionAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferLocalPrimariesToRelocatingPrimariesTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferPrimaryAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PrimaryElectionRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PrimaryNotRelocatedWhileBeingRecoveredTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RandomAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RebalanceAfterActiveTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ReplicaAllocatedAfterPrimaryTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RoutingNodesIntegrityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SameShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardVersioningTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardsLimitAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardNoReplicasRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardOneReplicaRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/TenShardsOneReplicaRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ThrottlingAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/UpdateNumberOfReplicasTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/ClusterStateToStringTests.java
core/src/test/java/org/elasticsearch/cluster/structure/RoutingIteratorTests.java
core/src/test/java/org/elasticsearch/common/geo/ShapeBuilderTests.java
core/src/test/java/org/elasticsearch/common/io/stream/StreamTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/filtering/AbstractFilteringJsonGeneratorTestCase.java
core/src/test/java/org/elasticsearch/common/xcontent/support/filtering/FilterPathGeneratorFilteringTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/filtering/FilterPathTests.java
core/src/test/java/org/elasticsearch/consistencylevel/WriteConsistencyLevelIT.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/document/DocumentActionsIT.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsTests.java
core/src/test/java/org/elasticsearch/gateway/GatewayMetaStateTests.java
core/src/test/java/org/elasticsearch/gateway/QuorumGatewayIT.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/index/fielddata/FieldDataCacheTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalValuesMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/internal/TypeFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryDSLDocumentationTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/indexlifecycle/IndexLifecycleActionIT.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
core/src/test/java/org/elasticsearch/indices/settings/UpdateNumberOfReplicasIT.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateIT.java
core/src/test/java/org/elasticsearch/indices/state/SimpleIndexStateIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/monitor/os/OsProbeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWhileCreatingIndexIT.java
core/src/test/java/org/elasticsearch/search/basic/TransportSearchFailuresIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoShapeQueryTests.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
core/src/test/java/org/elasticsearch/search/morelikethis/MoreLikeThisIT.java
core/src/test/java/org/elasticsearch/search/nested/SimpleNestedIT.java
core/src/test/java/org/elasticsearch/search/preference/SearchPreferenceIT.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/test/geo/RandomShapeGenerator.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortIntegrationIT.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
comments:
Merge branch 'master' into javadocs

time:
2015-11-19T18:39:33Z
class:
comments:
Merge pull request #14850 from rjernst/log_better

Improve test output on errors and when debugging

time:
2015-11-19T18:33:31Z
class:
comments:
Make the tmp file created for jjs scripts be deleted when gradle exits

time:
2015-11-19T18:26:06Z
class:
core/src/main/java/org/elasticsearch/Build.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStats.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequest.java
core/src/main/java/org/elasticsearch/action/fieldstats/IndexConstraint.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/routing/RestoreSource.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingValidationException.java
core/src/main/java/org/elasticsearch/common/geo/ShapeRelation.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilders.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/common/util/concurrent/AbstractRunnable.java
core/src/main/java/org/elasticsearch/index/engine/CommitStats.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/index/store/IndexStoreConfig.java
core/src/main/java/org/elasticsearch/index/translog/Checkpoint.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/breaker/AllCircuitBreakerStats.java
core/src/main/java/org/elasticsearch/indices/breaker/CircuitBreakerStats.java
core/src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
core/src/main/java/org/elasticsearch/monitor/Probes.java
core/src/main/java/org/elasticsearch/monitor/os/OsProbe.java
core/src/main/java/org/elasticsearch/monitor/os/OsStats.java
core/src/main/java/org/elasticsearch/monitor/process/ProcessProbe.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/snapshots/get/RestGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestSnapshotAction.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregations.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
core/src/main/java/org/elasticsearch/search/internal/ShardSearchLocalRequest.java
core/src/main/java/org/elasticsearch/snapshots/RestoreInfo.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotInfo.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIT.java
core/src/test/java/org/elasticsearch/action/fieldstats/FieldStatsRequestTests.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportReplicationActionTests.java
core/src/test/java/org/elasticsearch/benchmark/monitor/os/OsProbeBenchmark.java
core/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java
core/src/test/java/org/elasticsearch/common/geo/ShapeBuilderTests.java
core/src/test/java/org/elasticsearch/common/io/stream/StreamTests.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalValuesMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/internal/TypeFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryDSLDocumentationTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
core/src/test/java/org/elasticsearch/monitor/os/OsProbeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoShapeQueryTests.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/test/geo/RandomShapeGenerator.java
plugins/discovery-azure/src/main/java/org/elasticsearch/cloud/azure/AzureDiscoveryModule.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/GeoShapeIntegrationTests.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/AzureRepositoryModule.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/blobstore/AzureBlobContainer.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/blobstore/AzureBlobStore.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageService.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageServiceImpl.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageSettings.java
plugins/repository-azure/src/main/java/org/elasticsearch/plugin/repository/azure/AzureRepositoryPlugin.java
plugins/repository-azure/src/main/java/org/elasticsearch/repositories/azure/AzureRepository.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureRepositoryServiceTestCase.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/storage/AzureStorageServiceMock.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/storage/AzureStorageServiceTest.java
plugins/repository-azure/src/test/java/org/elasticsearch/repositories/azure/AzureRepositoryF.java
plugins/repository-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSettingsParserTest.java
plugins/repository-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreTests.java
test-framework/src/main/java/org/elasticsearch/test/CompositeTestCluster.java
test-framework/src/main/java/org/elasticsearch/test/ExternalNode.java
test-framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
test-framework/src/main/java/org/elasticsearch/test/TestCluster.java
test-framework/src/test/java/org/elasticsearch/test/test/InternalTestClusterTests.java
comments:
Merge branch 'master' into fork_compile

time:
2015-11-19T18:21:25Z
class:
comments:
Fix jarhell marker to be written on info logging, and document how the
marker file works.

time:
2015-11-19T17:22:00Z
class:
comments:
Fix doc of nested_path sort option

time:
2015-11-19T16:03:07Z
class:
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageSettingsFilter.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/storage/AzureStorageSettingsFilterTest.java
comments:
Merge branch 'issue/14843-filter-azure-settings'

time:
2015-11-19T14:40:56Z
class:
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageSettingsFilter.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/storage/AzureStorageSettingsFilterTest.java
comments:
Filter cloud azure credentials

Bug introduced in #13779: we don't filter anymore credentials because we were filtering `cloud.azure.storage.account` and `cloud.azure.storage.key` but now credentials are like `cloud.azure.storage.XXX.account` and `cloud.azure.storage.XXX.key` where `XXX` can be a storage setting id.

Closes #14843.

time:
2015-11-19T14:34:00Z
class:
core/src/main/java/org/elasticsearch/action/DocWriteResponse.java
core/src/main/java/org/elasticsearch/action/ReplicationResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java
core/src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java
core/src/main/java/org/elasticsearch/action/bulk/BulkShardResponse.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/DeleteResponse.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/index/IndexResponse.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportBroadcastReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/action/update/UpdateHelper.java
core/src/main/java/org/elasticsearch/action/update/UpdateResponse.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/ParseContext.java
core/src/main/java/org/elasticsearch/index/mapper/ParsedDocument.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SeqNoFieldMapper.java
core/src/main/java/org/elasticsearch/index/seqno/SequenceNumbersService.java
core/src/main/java/org/elasticsearch/index/shard/IllegalIndexShardStateException.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/rest/action/bulk/RestBulkAction.java
core/src/main/java/org/elasticsearch/rest/action/delete/RestDeleteAction.java
core/src/main/java/org/elasticsearch/rest/action/index/RestIndexAction.java
core/src/main/java/org/elasticsearch/rest/action/update/RestUpdateAction.java
core/src/main/java/org/elasticsearch/transport/BaseTransportResponseHandler.java
core/src/test/java/org/elasticsearch/action/support/replication/BroadcastReplicationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ClusterStateCreationUtils.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportReplicationActionTests.java
core/src/test/java/org/elasticsearch/cluster/routing/ShardRoutingTests.java
core/src/test/java/org/elasticsearch/document/ShardInfoIT.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/indexing/IndexingSlowLogTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/indices/flush/SyncedFlushSingleNodeTests.java
core/src/test/java/org/elasticsearch/routing/SimpleRoutingIT.java
plugins/delete-by-query/src/test/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryActionTests.java
comments:
Add Sequence Numbers and enforce Primary Terms

Adds a counter to each write operation on a shard. This sequence numbers is indexed into lucene using doc values, for now (we will probably require indexing to support range searchers in the future).

On top of this, primary term semantics are enforced and shards will refuse write operation coming from an older primary.

Other notes:
- The add SequenceServiceNumber is just a skeleton and will be replaced with much heavier one, once we have all the building blocks (i.e., checkpoints).
- I completely ignored recovery - for this we will need checkpoints as well.
- A new based class is introduced for all single doc write operations. This is handy to unify common logic (like toXContent).
- For now, we don't use seq# as versioning. We could in the future.

Relates to #10708
Closes #14651

time:
2015-11-19T14:29:05Z
class:
test-framework/src/main/java/org/elasticsearch/test/rest/BlacklistedPathPatternMatcher.java
test-framework/src/main/java/org/elasticsearch/test/rest/ESRestTestCase.java
test-framework/src/test/java/org/elasticsearch/test/rest/BlacklistedPathPatternMatcherTests.java
comments:
Use a specific matcher implementation for REST test blacklists

With this commit we replace the previously used PathMatcher
from the JDK with a specific matcher that is implemented for
this purpose and supports only simple globbing patterns
(i.e. *).

Closes #11391

time:
2015-11-19T13:48:11Z
class:
plugins/analysis-phonetic/src/main/java/org/elasticsearch/index/analysis/PhoneticTokenFilterFactory.java
comments:
Merge branch 'pr/phonetic_daitch_mokotoff'

time:
2015-11-19T13:47:01Z
class:
comments:
Revert back to type instead of child_type...

for has child queries.

Relates to #14249

time:
2015-11-19T13:08:53Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
comments:
Merge remote-tracking branch 'origin/master'

time:
2015-11-19T13:00:30Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
comments:
Merge branch 'master' into feature/seq_no

time:
2015-11-19T12:45:38Z
class:
comments:
Merge pull request #14860 from jasontedor/gradle-intellij-project-settings

Stop Gradle from destroying IntelliJ project settings

time:
2015-11-19T12:42:19Z
class:
comments:
Stop Gradle from destroying IntelliJ project settings

This commit stops Gradle from destroying the IntelliJ project settings
when a Gradle refresh is executed in IntelliJ.

Closes #14809

time:
2015-11-19T12:14:10Z
class:
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/blobstore/DefaultS3OutputStream.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/blobstore/S3BlobStore.java
plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3Repository.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/blobstore/S3BlobStoreTests.java
comments:
Merge branch 'socialrank-s3-storage-class-support'

time:
2015-11-19T12:12:44Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
comments:
Fix concurrency issue when accessing field UnassignedInfo.lastComputedLeftDelayNanos from TransportClusterHealthAction

time:
2015-11-19T12:10:08Z
class:
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/blobstore/DefaultS3OutputStream.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/blobstore/S3BlobStore.java
plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3Repository.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/blobstore/S3BlobStoreTests.java
comments:
Merge branch 's3-storage-class-support' of https://github.com/socialrank/elasticsearch into socialrank-s3-storage-class-support

# Please enter a commit message to explain why this merge is necessary,
# especially if it merges an updated upstream into a topic branch.
#
# Lines starting with '#' will be ignored, and an empty message aborts
# the commit.

time:
2015-11-19T10:54:02Z
class:
core/src/main/java/org/elasticsearch/common/geo/builders/BaseLineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/BasePolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/GeometryCollectionBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/LineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/MultiLineStringBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/PointCollection.java
core/src/main/java/org/elasticsearch/common/geo/builders/PolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
core/src/test/java/org/elasticsearch/common/geo/ShapeBuilderTests.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoShapeQueryTests.java
core/src/test/java/org/elasticsearch/test/geo/RandomShapeGenerator.java
comments:
Also removing Ring and replacing it by LineStringBuilder

The Ring subclass is just a LineStringBuilder that has an additional
close() method and keeps a reference to a parent shape builder so
builders can be chained. This PR removes it and replaces it by
using LineStringBuilder instead. The close() method is moved there
and tests are adapted.

time:
2015-11-19T10:51:17Z
class:
core/src/main/java/org/elasticsearch/common/geo/builders/MultiPolygonBuilder.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
comments:
Also removing InternalPolygonBuilder

time:
2015-11-19T10:51:17Z
class:
core/src/main/java/org/elasticsearch/common/geo/builders/MultiLineStringBuilder.java
comments:
Geo: remove InternalLineStringBuilder

This is a first step in reducing the number of ShapeBuilders since
before we start making the remaining implement Writable for the
search request refactoring. This shape builder seems to have been
only used in tests, and those tests didn't do much to begin with,
so this removed them.

Relates to #14416

time:
2015-11-19T10:37:03Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/bootstrap/JNANatives.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/common/Base64.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/Multibinder.java
core/src/main/java/org/elasticsearch/common/inject/spi/Message.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
core/src/main/java/org/elasticsearch/index/analysis/Analysis.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/index/snapshots/IndexShardSnapshotException.java
core/src/main/java/org/elasticsearch/index/snapshots/IndexShardSnapshotFailedException.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryStatus.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
core/src/main/java/org/elasticsearch/indices/recovery/SharedFSRecoverySourceHandler.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/test/java/org/elasticsearch/discovery/ZenFaultDetectionTests.java
comments:
Adds exception objects to log messages.

Also forwards exception objects through failure listeners eliminates another 17
calls to getMessage().

Relates to #10021

time:
2015-11-19T10:07:15Z
class:
comments:
Build: Add jar hell check before tests run

Because jar hell checks run during static initialization of tests, a
failure will result in all tests failing. However, only the first test
within each jvm shows the jarhell failure, and later tests get a class
not found exception for the class that failed to load when static init
failed.

This change adds a task to run as part of precommit, which checks the
test runtime classpath for jarhell.

closes #14721

time:
2015-11-19T10:04:36Z
class:
core/src/main/java/org/elasticsearch/Build.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodeResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoresRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/TransportIndicesShardStoresAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStats.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequest.java
core/src/main/java/org/elasticsearch/action/fieldstats/IndexConstraint.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterHealthStatus.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterShardHealth.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
core/src/main/java/org/elasticsearch/cluster/routing/RestoreSource.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingValidationException.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ClusterRebalanceAllocationDecider.java
core/src/main/java/org/elasticsearch/common/geo/ShapeRelation.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilders.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/common/util/concurrent/AbstractRunnable.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
core/src/main/java/org/elasticsearch/common/xcontent/cbor/CborXContent.java
core/src/main/java/org/elasticsearch/common/xcontent/cbor/CborXContentGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/json/BaseJsonGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContent.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/smile/SmileXContent.java
core/src/main/java/org/elasticsearch/common/xcontent/smile/SmileXContentGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/support/AbstractXContentGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/support/filtering/FilterContext.java
core/src/main/java/org/elasticsearch/common/xcontent/support/filtering/FilterPath.java
core/src/main/java/org/elasticsearch/common/xcontent/support/filtering/FilterPathBasedFilter.java
core/src/main/java/org/elasticsearch/common/xcontent/support/filtering/FilteringJsonGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/yaml/YamlXContent.java
core/src/main/java/org/elasticsearch/common/xcontent/yaml/YamlXContentGenerator.java
core/src/main/java/org/elasticsearch/discovery/DiscoveryService.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/gateway/GatewayService.java
core/src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/main/java/org/elasticsearch/index/engine/CommitStats.java
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/GlobalOrdinalsBuilder.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexOrdinalsFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/SortedSetDVOrdinalsIndexFieldData.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/index/store/IndexStoreConfig.java
core/src/main/java/org/elasticsearch/index/translog/Checkpoint.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/breaker/AllCircuitBreakerStats.java
core/src/main/java/org/elasticsearch/indices/breaker/CircuitBreakerStats.java
core/src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
core/src/main/java/org/elasticsearch/monitor/Probes.java
core/src/main/java/org/elasticsearch/monitor/os/OsProbe.java
core/src/main/java/org/elasticsearch/monitor/os/OsStats.java
core/src/main/java/org/elasticsearch/monitor/process/ProcessProbe.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/health/RestClusterHealthAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/snapshots/get/RestGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestSnapshotAction.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregations.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
core/src/main/java/org/elasticsearch/search/internal/ShardSearchLocalRequest.java
core/src/main/java/org/elasticsearch/snapshots/RestoreInfo.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotInfo.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/test/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIT.java
core/src/test/java/org/elasticsearch/action/fieldstats/FieldStatsRequestTests.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportReplicationActionTests.java
core/src/test/java/org/elasticsearch/benchmark/cluster/ClusterAllocationRerouteBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/monitor/os/OsProbeBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/percolator/PercolatorStressBenchmark.java
core/src/test/java/org/elasticsearch/bwcompat/BasicBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterHealthIT.java
core/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java
core/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteIT.java
core/src/test/java/org/elasticsearch/cluster/health/ClusterIndexHealthTests.java
core/src/test/java/org/elasticsearch/cluster/health/ClusterStateHealthTests.java
core/src/test/java/org/elasticsearch/cluster/health/RoutingTableGenerator.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingTableTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AddIncrementallyTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationPriorityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AwarenessAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceConfigurationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceUnbalancedClusterTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/CatAllocationTestCase.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ClusterRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ConcurrentRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/DeadNodesAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ElectReplicaAsPrimaryDuringRelocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ExpectedShardSizeAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedNodeRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FilterRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/IndexBalanceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/NodeVersionAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferLocalPrimariesToRelocatingPrimariesTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferPrimaryAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PrimaryElectionRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PrimaryNotRelocatedWhileBeingRecoveredTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RandomAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RebalanceAfterActiveTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ReplicaAllocatedAfterPrimaryTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RoutingNodesIntegrityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SameShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardStateIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardVersioningTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardsLimitAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardNoReplicasRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardOneReplicaRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/TenShardsOneReplicaRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ThrottlingAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/UpdateNumberOfReplicasTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/ClusterStateToStringTests.java
core/src/test/java/org/elasticsearch/cluster/structure/RoutingIteratorTests.java
core/src/test/java/org/elasticsearch/common/geo/ShapeBuilderTests.java
core/src/test/java/org/elasticsearch/common/io/stream/StreamTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/filtering/AbstractFilteringJsonGeneratorTestCase.java
core/src/test/java/org/elasticsearch/common/xcontent/support/filtering/FilterPathGeneratorFilteringTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/filtering/FilterPathTests.java
core/src/test/java/org/elasticsearch/consistencylevel/WriteConsistencyLevelIT.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/document/DocumentActionsIT.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsTests.java
core/src/test/java/org/elasticsearch/gateway/GatewayMetaStateTests.java
core/src/test/java/org/elasticsearch/gateway/QuorumGatewayIT.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/index/fielddata/FieldDataCacheTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalValuesMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/internal/TypeFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryDSLDocumentationTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/indexlifecycle/IndexLifecycleActionIT.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
core/src/test/java/org/elasticsearch/indices/settings/UpdateNumberOfReplicasIT.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateIT.java
core/src/test/java/org/elasticsearch/indices/state/SimpleIndexStateIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/monitor/os/OsProbeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWhileCreatingIndexIT.java
core/src/test/java/org/elasticsearch/search/basic/TransportSearchFailuresIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoShapeQueryTests.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
core/src/test/java/org/elasticsearch/search/morelikethis/MoreLikeThisIT.java
core/src/test/java/org/elasticsearch/search/nested/SimpleNestedIT.java
core/src/test/java/org/elasticsearch/search/preference/SearchPreferenceIT.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/test/geo/RandomShapeGenerator.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortIntegrationIT.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
comments:
Merge branch 'master' into feature/seq_no

time:
2015-11-19T08:58:52Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
test-framework/src/main/java/org/elasticsearch/test/ESAllocationTestCase.java
comments:
Merge pull request #14808 from ywelsch/refactor/delayed-allocation

Simplify delayed shard allocation

time:
2015-11-19T08:53:07Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
test-framework/src/main/java/org/elasticsearch/test/ESAllocationTestCase.java
comments:
Simplify delayed shard allocation

- moves calculation of the delay to a single place (ReplicaShardAllocator)
- reduces coupling between GatewayAllocator and RoutingService
- in master failover situations, elapsed delay time is forgotten

Closes #14808

time:
2015-11-19T07:30:33Z
class:
comments:
Build: Fix integTest output if the elasticsearch script fails

If there is a failure in the elasticsearch start script, we currently
completely lose the failure. This is due to how spawning works with ant.
This change avoids the issue by introducing an intermediate script,
built dynamically before running ant exec, which runs elasticsearch and
redirects the output to a log file. This essentially causes us to run
elasticsearch in the foreground and capture the output, but at the same
time keep a running script which ant can pump streams from (which will
always be empty).

time:
2015-11-19T06:09:08Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/snapshots/get/RestGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestSnapshotAction.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
comments:
Merge pull request #14471 from xuzha/snapshot_list

Add ignore_unavailable parameter to skip unavailable snapshot

closes #13887

time:
2015-11-19T05:43:46Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/snapshots/get/RestGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestSnapshotAction.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
comments:
Catch exception when reading corrupted snapshot.

Single corrupted snapshot file shouldn't prevent listing all other
snapshot in repository.

time:
2015-11-19T00:36:07Z
class:
comments:
Build: Improve test output on errors and when debugging

There were a number of subtle issues with the existing logging that
wraps events from Junit4 and ant. This change:
* Tweaks at what level certain events are logged
* Fixes -Dtests.output=always to force everything to be logged
* Makes -Dtests.class imply -Dtests.output=always
* Captures ant logging from junit4, so that direct jvm output will be
  logged on failure when not using gradle info logging

time:
2015-11-18T20:15:35Z
class:
core/src/main/java/org/elasticsearch/common/geo/ShapeRelation.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/test/java/org/elasticsearch/search/geo/GeoShapeQueryTests.java
core/src/test/java/org/elasticsearch/test/geo/RandomShapeGenerator.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/GeoShapeIntegrationTests.java
comments:
Add CONTAINS relation to geo_shape query

At the time of geo_shape query conception, CONTAINS was not yet a supported spatial operation in Lucene. Since it is now available this commit adds ShapeRelation.CONTAINS to GeoShapeQuery. Randomized testing is included and documentation is updated.

time:
2015-11-18T20:09:27Z
class:
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
comments:
Fix assertion precision for legacy GeoDistanceRangeQuery tests

This bug existed for GeoDistanceRangeQuery exclusion limits only (e.g., min/max included == false).

closes #14838

time:
2015-11-18T19:46:45Z
class:
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
comments:
Set ReplicationRequest.internalShardId to null

This commit sets ReplicationRequest.internalShardId to null when the
stream indicates that no ShardId is present in the stream.

Additionally, the use of StreamOutput#writeOptionalStreamable is
changed to be explicit for clarity since the use of
StreamInput#readOptionalStreamable is not possible due to the
no-argument constructor on ShardId being private.

time:
2015-11-18T19:17:11Z
class:
comments:
Merge pull request #14718 from nik9000/gradle_deb

Get packaging working in gradle

time:
2015-11-18T19:16:42Z
class:
comments:
Fix rpm and deb distributions

and test them with vagrant

time:
2015-11-18T18:55:54Z
class:
comments:
Merge pull request #14839 from nik9000/startup_log

Output more information when gradle can't start elasticsearch

time:
2015-11-18T18:14:26Z
class:
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureRepositoryServiceTestCase.java
plugins/repository-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSettingsParserTest.java
comments:
Revert 3cacec4468fece6740fd408e3f76f978701f1779

We actually want to keep the test when using deprecated setting in 3.0.
We will keep this setting deprecated as well so people will be able to update in a smoother way.

Also add the deprecating information to the migration documentation.

time:
2015-11-18T17:27:29Z
class:
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsTests.java
comments:
field stats: Fix NPE when index constraint has been set on mapped field but the index is empty

time:
2015-11-18T17:25:27Z
class:
comments:
[build] Log launch command before starting ES

time:
2015-11-18T17:00:25Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Data.java
comments:
add javadocs for Data#removeProperty

time:
2015-11-18T16:28:37Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Data.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/DataTests.java
comments:
add support for removeProperty

time:
2015-11-18T16:14:10Z
class:
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureRepositoryServiceTestCase.java
plugins/repository-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSettingsParserTest.java
comments:
Fix test in Azure

Related to #13656.

We need to remove deprecated settings in another PR.

time:
2015-11-18T16:13:06Z
class:
core/src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
core/src/main/java/org/elasticsearch/common/util/concurrent/AbstractRunnable.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
test-framework/src/main/java/org/elasticsearch/test/CompositeTestCluster.java
test-framework/src/main/java/org/elasticsearch/test/ExternalNode.java
test-framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
test-framework/src/main/java/org/elasticsearch/test/TestCluster.java
test-framework/src/test/java/org/elasticsearch/test/test/InternalTestClusterTests.java
comments:
Merge remote-tracking branch 'danielmitterdorfer/fix/14798'

time:
2015-11-18T16:11:53Z
class:
core/src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
core/src/main/java/org/elasticsearch/common/util/concurrent/AbstractRunnable.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
test-framework/src/main/java/org/elasticsearch/test/CompositeTestCluster.java
test-framework/src/main/java/org/elasticsearch/test/ExternalNode.java
test-framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
test-framework/src/main/java/org/elasticsearch/test/TestCluster.java
test-framework/src/test/java/org/elasticsearch/test/test/InternalTestClusterTests.java
comments:
Restore thread interrupt flag after an InterruptedException

This commit replaces all occurrences of Thread.interrupted() with
Thread.currentThread().interrupt(). While the former checks and clears the current
thread's interrupt flag the latter sets it, which is actually intended.

Closes #14798

time:
2015-11-18T15:58:52Z
class:
comments:
[build] Log more information when es doesn't start

time:
2015-11-18T15:43:01Z
class:
comments:
[build] Output a message when can't find log file

When the build tries to start an elasticsearch instance but the start fails
if it fails to find the log file then we log a line about how we can't find
the file.

time:
2015-11-18T15:37:02Z
class:
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramIT.java
comments:
Merge remote-tracking branch 'origin/master'

time:
2015-11-18T15:35:59Z
class:
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramIT.java
comments:
Merge pull request #14587 from cbuescher/move-datehistogramtests-core

Move DateHistogramTests back to core module

time:
2015-11-18T15:31:48Z
class:
plugins/discovery-azure/src/main/java/org/elasticsearch/cloud/azure/AzureDiscoveryModule.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/AzureRepositoryModule.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/blobstore/AzureBlobContainer.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/blobstore/AzureBlobStore.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageService.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageServiceImpl.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageSettings.java
plugins/repository-azure/src/main/java/org/elasticsearch/plugin/repository/azure/AzureRepositoryPlugin.java
plugins/repository-azure/src/main/java/org/elasticsearch/repositories/azure/AzureRepository.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureRepositoryServiceTestCase.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/storage/AzureStorageServiceMock.java
plugins/repository-azure/src/test/java/org/elasticsearch/cloud/azure/storage/AzureStorageServiceTest.java
plugins/repository-azure/src/test/java/org/elasticsearch/repositories/azure/AzureRepositoryF.java
plugins/repository-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSettingsParserTest.java
plugins/repository-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreTests.java
comments:
Add support for secondary azure storage account

Follow up for #13228.

This commit adds support for a secondary storage account:

```yml
cloud:
    azure:
        storage:
            my_account1:
                account: your_azure_storage_account1
                key: your_azure_storage_key1
                default: true
            my_account2:
                account: your_azure_storage_account2
                key: your_azure_storage_key2
```

When creating a repository, you can choose which azure account you want to use for it:

```sh
curl -XPUT localhost:9200/_snapshot/my_backup1?pretty -d '{
  "type": "azure"
}'

curl -XPUT localhost:9200/_snapshot/my_backup2?pretty -d '{
  "type": "azure",
  "settings": {
    "account" : "my_account2",
    "location_mode": "secondary_only"
  }
}'
```

`location_mode` supports `primary_only` or `secondary_only`. Defaults to `primary_only`. Note that if you set it
to `secondary_only`, it will force `read_only` to true.
This does not work! If you don't define any secondary storage (which happens 99% of the time), this will fail.

Will open an issue.


time:
2015-11-18T15:30:43Z
class:
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
comments:
Fix typo in TransportDeleteAction#shardOperationOnPrimary

time:
2015-11-18T14:50:30Z
class:
comments:
Merge pull request #13894 from dmland/patch-1

Update query-string-syntax.asciidoc

time:
2015-11-18T14:41:39Z
class:
plugins/analysis-phonetic/src/main/java/org/elasticsearch/index/analysis/PhoneticTokenFilterFactory.java
comments:
Add support for `daitch_mokotoff`

[Daitch Mokotoff](https://en.wikipedia.org/wiki/Daitch%E2%80%93Mokotoff_Soundex) support has been added in Lucene 5.
So we can now support it as well.

time:
2015-11-18T14:22:02Z
class:
comments:
Merge pull request #14778 from rothvaw/patch-1

Update update.asciidoc

time:
2015-11-18T14:16:13Z
class:
comments:
docs: can't use same call out twice

time:
2015-11-18T14:13:38Z
class:
comments:
docs: fix callouts

time:
2015-11-18T13:39:28Z
class:
comments:
Docs: Add query to Query DSL documentation

We already introduced the MatchNoneQueryBuilder query that does not
return any documents, mainly because we needed it for internal
representation of the NONE option in the IndicesQueryBuilder.
However, the query was requested at least once also for the query dsl,
and since we can parser it already we should document it as
`match_none` query in the relevant reference docs as well.

time:
2015-11-18T13:19:07Z
class:
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStats.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequest.java
core/src/main/java/org/elasticsearch/action/fieldstats/IndexConstraint.java
core/src/test/java/org/elasticsearch/action/fieldstats/FieldStatsRequestTests.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsTests.java
comments:
field stats: Added a `format` option to index constraint that allows to specify date index constraint values in a different format then the for specified in the mapping.

Closes #14804

time:
2015-11-18T12:48:43Z
class:
comments:
Update packaging.asciidoc

Remove mention of following symlinks under `path.scripts`

Closes #14733

time:
2015-11-18T09:46:03Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Data.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/DataTests.java
comments:
accept null values and adapt hasPropertyValue return value

time:
2015-11-18T09:46:03Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Data.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/DateProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/GrokProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/mutate/MutateProcessor.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/DataTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/date/DateProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/mutate/MutateProcessorTests.java
comments:
rename getProperty, containsProperty and addField methods

For more consistency we now have getPropertyValue, hasPropertyValue, and setPropertyValue

time:
2015-11-18T09:46:03Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Data.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/DateProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/GrokProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/mutate/MutateProcessor.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/DataTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/date/DateProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/mutate/MutateProcessorTests.java
comments:
type safety in Data#getProperty and proper error when type found is not the expected one

time:
2015-11-18T09:46:03Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Data.java
comments:
add missing javadocs

time:
2015-11-18T09:46:03Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Data.java
comments:
remove dependency on core and resolve generics compiler warning

time:
2015-11-18T09:46:03Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Data.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/DataTests.java
comments:
better error and tests for empty and null values in Data containsProperty addField and getProperty

time:
2015-11-18T09:46:02Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Data.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/DataTests.java
comments:
Throw a proper error when add field fails due to existing field type mismatch

Instead of throwing ClassCastException whenever we try and add a field to a parent that is not a Map, we now throw a clearer error (IAE).

time:
2015-11-18T01:24:49Z
class:
core/src/test/java/org/elasticsearch/common/io/stream/StreamTests.java
comments:
Merge pull request #14812 from jasontedor/linked-hash-map-stream

Add unit test for LinkedHashMap serialization

time:
2015-11-18T01:19:25Z
class:
comments:
Merge pull request #14815 from rjernst/run_with_debug

Add --debug-jvm option to run and integTest tasks

time:
2015-11-18T01:18:44Z
class:
comments:
Tweak debug startup message for run command, per PR comment

time:
2015-11-18T00:32:32Z
class:
comments:
Merge pull request #14813 from gkopylov/fix_some_mistake_in_bool_query_doc

Fix missed comma in bool query

time:
2015-11-18T00:29:01Z
class:
comments:
Build: Add --debug-jvm option to run and integTest tasks

Sometimes when running elasticsearch, it is useful to attach a remote
debugger. This change adds a --debug-jvm option (the same name gradle
uses for its tests debug option), which adds java agent config for a
remote debugger. The configuration is set to hava java suspend until the
remove debugger is attached.

closes #14772

time:
2015-11-18T00:02:52Z
class:
comments:
Fix missed comma in bool query

time:
2015-11-17T23:52:28Z
class:
core/src/test/java/org/elasticsearch/common/io/stream/StreamTests.java
comments:
Add unit test for LinkedHashMap serialization

This commit adds a unit test for LinkedHashMap serialization that tests
that the method of serialization writes the entries in the LinkedHashMap
in iteration order and that the reconstructed LinkedHashMap preserves
that order. This test is randomized and tests iteration order is
preserved whether the LinkedHashMap is ordered by insertion order or
access order.

Closes #14743

time:
2015-11-17T21:46:18Z
class:
comments:
Update health.asciidoc

Changing network address of curl commands to "localhost" instead of 192.x.x.x

time:
2015-11-17T21:42:52Z
class:
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportReplicationActionTests.java
core/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java
comments:
Merge pull request #14707 from jasontedor/shard-failure-timeout

Add timeout mechanism for sending shard failures

time:
2015-11-17T20:08:26Z
class:
core/src/main/java/org/elasticsearch/Build.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/cluster/routing/RestoreSource.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingValidationException.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/index/engine/CommitStats.java
core/src/main/java/org/elasticsearch/indices/breaker/AllCircuitBreakerStats.java
core/src/main/java/org/elasticsearch/indices/breaker/CircuitBreakerStats.java
core/src/main/java/org/elasticsearch/monitor/Probes.java
core/src/main/java/org/elasticsearch/monitor/os/OsProbe.java
core/src/main/java/org/elasticsearch/monitor/os/OsStats.java
core/src/main/java/org/elasticsearch/monitor/process/ProcessProbe.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregations.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
core/src/main/java/org/elasticsearch/search/internal/ShardSearchLocalRequest.java
core/src/main/java/org/elasticsearch/snapshots/RestoreInfo.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotInfo.java
core/src/test/java/org/elasticsearch/benchmark/monitor/os/OsProbeBenchmark.java
core/src/test/java/org/elasticsearch/common/io/stream/StreamTests.java
core/src/test/java/org/elasticsearch/monitor/os/OsProbeTests.java
comments:
Merge remote-tracking branch 'upstream/master' into feature/ingest

time:
2015-11-17T20:00:27Z
class:
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportReplicationActionTests.java
core/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java
comments:
Add timeout mechanism for sending shard failures

This commit adds a timeout mechanism for sending shard failures. The
requesting thread can attach a listener to the timeout event so that
handling it is part of the event chain.

Relates #14252

time:
2015-11-17T19:51:03Z
class:
comments:
Update REST tests to reflect changes to cat nodes default response

This commit updates the cat nodes REST test to include the CPU percent
that was recently added to the default output of the cat nodes response.

time:
2015-11-17T19:02:12Z
class:
core/src/test/java/org/elasticsearch/common/io/stream/StreamTests.java
comments:
Add license header to o.e.c.i.s.StreamTests.java

time:
2015-11-17T18:49:49Z
class:
core/src/main/java/org/elasticsearch/monitor/Probes.java
core/src/main/java/org/elasticsearch/monitor/os/OsProbe.java
core/src/main/java/org/elasticsearch/monitor/os/OsStats.java
core/src/main/java/org/elasticsearch/monitor/process/ProcessProbe.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/test/java/org/elasticsearch/benchmark/monitor/os/OsProbeBenchmark.java
core/src/test/java/org/elasticsearch/monitor/os/OsProbeTests.java
comments:
Merge pull request #14741 from jasontedor/return-of-the-cpu-percent

Add system CPU percent to OS stats

time:
2015-11-17T18:48:46Z
class:
core/src/main/java/org/elasticsearch/monitor/Probes.java
core/src/main/java/org/elasticsearch/monitor/os/OsProbe.java
core/src/main/java/org/elasticsearch/monitor/os/OsStats.java
core/src/main/java/org/elasticsearch/monitor/process/ProcessProbe.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/test/java/org/elasticsearch/benchmark/monitor/os/OsProbeBenchmark.java
core/src/test/java/org/elasticsearch/monitor/os/OsProbeTests.java
comments:
Add system CPU percent to OS stats

This commit adds the system CPU percent reflecting the recent CPU usage
for the whole system.

time:
2015-11-17T18:41:35Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/cluster/routing/RestoreSource.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingValidationException.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/index/engine/CommitStats.java
core/src/main/java/org/elasticsearch/indices/breaker/AllCircuitBreakerStats.java
core/src/main/java/org/elasticsearch/indices/breaker/CircuitBreakerStats.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregations.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
core/src/main/java/org/elasticsearch/search/internal/ShardSearchLocalRequest.java
core/src/main/java/org/elasticsearch/snapshots/RestoreInfo.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotInfo.java
comments:
Merge pull request #14806 from jasontedor/read-optional-streamable

Use Supplier for StreamInput#readOptionalStreamable

time:
2015-11-17T18:40:22Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/cluster/routing/RestoreSource.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingValidationException.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/index/engine/CommitStats.java
core/src/main/java/org/elasticsearch/indices/breaker/AllCircuitBreakerStats.java
core/src/main/java/org/elasticsearch/indices/breaker/CircuitBreakerStats.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregations.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
core/src/main/java/org/elasticsearch/search/internal/ShardSearchLocalRequest.java
core/src/main/java/org/elasticsearch/snapshots/RestoreInfo.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotInfo.java
comments:
Use Supplier for StreamInput#readOptionalStreamable

This commit changes the signature of StreamInput#readOptionalStreamable
to accept a Supplier to create new streamables rather than requiring
callers to construct new instances. This has the advantage of avoiding
an allocation in cases when the stream indicates the resulting
streamable is null

time:
2015-11-17T18:30:23Z
class:
core/src/main/java/org/elasticsearch/Build.java
comments:
Merge pull request #14754 from nik9000/build

Make Build work without git

time:
2015-11-17T18:25:09Z
class:
core/src/main/java/org/elasticsearch/Build.java
comments:
Make Build work without git

If you build elasticsearch without a git repository it was creating a null
shortHash which was causing Elasticsearch not to be able to form transport
connections.

Closes #14748

time:
2015-11-17T18:16:56Z
class:
comments:
Merge pull request #14753 from nik9000/gradle_more_progress

Update progress logger after each test

time:
2015-11-17T18:16:17Z
class:
comments:
[build] Update progress logger after each test

This makes the rest tests **tons** more responsive.

Also stop test progress output from jumping by using formating. The progess
now looks like:
Suites [004/549], Tests [0019|0|0], in 1.58s J2 completed UpdateNumberOfReplicasTests

The changes included are:
1. The suites, total tests, and JVM id are now padded based on their maximum
size. The maximum number of tests is just a guess because that data isn't
easily available when the suite starts. JVM id rarely matters because only
the most crazy individuals use more than 10 JVMs.

2. The suite information is reordered. Now its runtime, jvm id, suite name,
and, optionally, method name. This reordering is useful because the thing
that varies in length, the suite and method name, are on the right hand
side. This means that nothing jumps around during the test run.

time:
2015-11-17T17:09:26Z
class:
comments:
Merge pull request #14791 from rjernst/run_away

Build: Make run command work within plugins

time:
2015-11-17T16:42:36Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodeResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoresRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/TransportIndicesShardStoresAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/action/bulk/BulkAction.java
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeAction.java
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterHealthStatus.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterShardHealth.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ClusterRebalanceAllocationDecider.java
core/src/main/java/org/elasticsearch/common/geo/GeoUtils.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilders.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
core/src/main/java/org/elasticsearch/common/xcontent/cbor/CborXContent.java
core/src/main/java/org/elasticsearch/common/xcontent/cbor/CborXContentGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/json/BaseJsonGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContent.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/smile/SmileXContent.java
core/src/main/java/org/elasticsearch/common/xcontent/smile/SmileXContentGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/support/AbstractXContentGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/support/filtering/FilterContext.java
core/src/main/java/org/elasticsearch/common/xcontent/support/filtering/FilterPath.java
core/src/main/java/org/elasticsearch/common/xcontent/support/filtering/FilterPathBasedFilter.java
core/src/main/java/org/elasticsearch/common/xcontent/support/filtering/FilteringJsonGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/yaml/YamlXContent.java
core/src/main/java/org/elasticsearch/common/xcontent/yaml/YamlXContentGenerator.java
core/src/main/java/org/elasticsearch/discovery/DiscoveryService.java
core/src/main/java/org/elasticsearch/discovery/MasterNotDiscoveredException.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/NodesFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/gateway/GatewayService.java
core/src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/engine/ElasticsearchConcurrentMergeScheduler.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/fielddata/SingletonMultiGeoPointValues.java
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/GlobalOrdinalsBuilder.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractGeoPointDVIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexOrdinalsFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointArrayAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointArrayLegacyAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDVAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointLegacyDVAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/SortedSetDVOrdinalsIndexFieldData.java
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
core/src/main/java/org/elasticsearch/index/mapper/geo/BaseGeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/index/shard/AbstractIndexShardComponent.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardComponent.java
core/src/main/java/org/elasticsearch/index/shard/MergeSchedulerConfig.java
core/src/main/java/org/elasticsearch/index/shard/ShardPath.java
core/src/main/java/org/elasticsearch/index/store/FsDirectoryService.java
core/src/main/java/org/elasticsearch/index/store/IndexStoreConfig.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/index/translog/Checkpoint.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySource.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryStatus.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/health/RestClusterHealthAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramAggregator.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/GeoContextMapping.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/transport/TransportRequestOptions.java
core/src/main/java/org/elasticsearch/transport/TransportResponseOptions.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransportChannel.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/TransportAnalyzeActionTests.java
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/master/IndexingMasterFailoverIT.java
core/src/test/java/org/elasticsearch/action/support/master/TransportMasterNodeActionTests.java
core/src/test/java/org/elasticsearch/benchmark/cluster/ClusterAllocationRerouteBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/percolator/PercolatorStressBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/transport/BenchmarkNettyLargeMessages.java
core/src/test/java/org/elasticsearch/bwcompat/BasicBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterHealthIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java
core/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteIT.java
core/src/test/java/org/elasticsearch/cluster/health/ClusterIndexHealthTests.java
core/src/test/java/org/elasticsearch/cluster/health/ClusterStateHealthTests.java
core/src/test/java/org/elasticsearch/cluster/health/RoutingTableGenerator.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingTableTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AddIncrementallyTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationPriorityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AwarenessAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceConfigurationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceUnbalancedClusterTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/CatAllocationTestCase.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ClusterRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ConcurrentRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/DeadNodesAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ElectReplicaAsPrimaryDuringRelocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ExpectedShardSizeAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedNodeRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FilterRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/IndexBalanceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/NodeVersionAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferLocalPrimariesToRelocatingPrimariesTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferPrimaryAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PrimaryElectionRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PrimaryNotRelocatedWhileBeingRecoveredTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RandomAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RebalanceAfterActiveTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ReplicaAllocatedAfterPrimaryTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RoutingNodesIntegrityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SameShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardVersioningTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardsLimitAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardNoReplicasRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardOneReplicaRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/TenShardsOneReplicaRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ThrottlingAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/UpdateNumberOfReplicasTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/ClusterStateToStringTests.java
core/src/test/java/org/elasticsearch/cluster/structure/RoutingIteratorTests.java
core/src/test/java/org/elasticsearch/common/geo/ShapeBuilderTests.java
core/src/test/java/org/elasticsearch/common/io/stream/StreamTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/filtering/AbstractFilteringJsonGeneratorTestCase.java
core/src/test/java/org/elasticsearch/common/xcontent/support/filtering/FilterPathGeneratorFilteringTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/filtering/FilterPathTests.java
core/src/test/java/org/elasticsearch/consistencylevel/WriteConsistencyLevelIT.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/document/DocumentActionsIT.java
core/src/test/java/org/elasticsearch/env/NodeEnvironmentTests.java
core/src/test/java/org/elasticsearch/gateway/GatewayMetaStateTests.java
core/src/test/java/org/elasticsearch/gateway/QuorumGatewayIT.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisServiceTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisTestsHelper.java
core/src/test/java/org/elasticsearch/index/analysis/CharFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
core/src/test/java/org/elasticsearch/index/analysis/NGramTokenizerFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/PatternCaptureTokenFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/StopAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTests.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/codec/CodecTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractGeoFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/DuelFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/FieldDataCacheTests.java
core/src/test/java/org/elasticsearch/index/fielddata/GeoFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/IndexFieldDataServiceTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalValuesMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/SimpleExternalMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeohashMappingGeoPointTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/TypeFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryDSLDocumentationTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/search/geo/GeoUtilsTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexSearcherWrapperTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/shard/NewPathForShardTests.java
core/src/test/java/org/elasticsearch/index/shard/ShardPathTests.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/index/store/ExceptionRetryIT.java
core/src/test/java/org/elasticsearch/index/store/IndexStoreTests.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
core/src/test/java/org/elasticsearch/index/translog/BufferedTranslogTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/indexlifecycle/IndexLifecycleActionIT.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryIT.java
core/src/test/java/org/elasticsearch/indices/recovery/RecoverySourceHandlerTests.java
core/src/test/java/org/elasticsearch/indices/settings/UpdateNumberOfReplicasIT.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateIT.java
core/src/test/java/org/elasticsearch/indices/state/SimpleIndexStateIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/recovery/TruncatedRecoveryIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWhileCreatingIndexIT.java
core/src/test/java/org/elasticsearch/search/basic/TransportSearchFailuresIT.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoBoundingBoxIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoPolygonIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoShapeIntegrationIT.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
core/src/test/java/org/elasticsearch/search/morelikethis/MoreLikeThisIT.java
core/src/test/java/org/elasticsearch/search/nested/SimpleNestedIT.java
core/src/test/java/org/elasticsearch/search/preference/SearchPreferenceIT.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTestCase.java
core/src/test/java/org/elasticsearch/transport/netty/NettyScheduledPingTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortIntegrationIT.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
comments:
Merge branch 'master' into feature/ingest

time:
2015-11-17T16:33:53Z
class:
comments:
Merge pull request #14738 from petmit/patch-1

Update error in documentation for multi-fields

time:
2015-11-17T15:04:13Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/test/java/org/elasticsearch/common/io/stream/StreamTests.java
comments:
Merge pull request #14780 from jasontedor/variable-length-long

Add variable-length long encoding

time:
2015-11-17T15:01:54Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/test/java/org/elasticsearch/common/io/stream/StreamTests.java
comments:
Add variable-length long encoding

This commit adds a method of encoding longs using a variable-length
representation. This encoding is an implementation of the zig-zag
encoding from protocol buffers. Numbers that have a small absolute value
will use a small number of bytes. This is achieved by zig-zagging
through the space of longs in order of increasing absolute value (0, -1,
1, -2, 2, …, Long.MAX_VALUE, Long.MIN_VALUE) -> (0, 1, 2, 3, 4, …, -2,
-1). The resulting values are then encoded as if they represent unsigned
numbers.

time:
2015-11-17T14:54:59Z
class:
comments:
Merge pull request #14540 from KangYongKyun/patch-1

colon is added

time:
2015-11-17T13:32:33Z
class:
comments:
Update the resiliency page to 2.0.0

time:
2015-11-17T13:17:30Z
class:
comments:
Merge pull request #14610 from yokotaso/patch-1

Update snowball document page.

time:
2015-11-17T13:11:03Z
class:
comments:
Updated the correct doc for Kafka Consumer

Updated the correct doc for Kafka Consumer with link to latest repository.

Closes #14634

time:
2015-11-17T12:40:10Z
class:
comments:
Fix typos in query dsl docs.

When passing the example json snippets through the query parser while working
on #14249 some of the examples could not be parsed. This PR fixes those
examples.

Relates to #14249

time:
2015-11-17T12:22:28Z
class:
core/src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIT.java
comments:
Fix race in ClusterStatsIT

ClusterStatsIT#testClusterStatus() contained a race where the
test cluster might still be initializing while test already checks
for a green health status.

With this commit the test waits until the cluster status changed and
checks health afterwards.

Checked with @bleskes.

time:
2015-11-17T11:27:44Z
class:
comments:
Update java.asciidoc

Add few more breaking changes.

Closes #14696

time:
2015-11-17T10:08:35Z
class:
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilders.java
core/src/test/java/org/elasticsearch/common/geo/ShapeBuilderTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalValuesMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryDSLDocumentationTests.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoShapeIntegrationIT.java
comments:
Merge pull request #14529 from cbuescher/introduce-shapebuilders

Geo: Moving static factory methods to ShapeBuilders

time:
2015-11-17T01:29:01Z
class:
comments:
Build: Make run command work within plugins

We recently got a run command with gradle, but it is sometimes useful to
run ES with a specific plugin. This is a start, by making each esplugin
have a run command which installs the plugin and runs elasticsearch in
the foreground.

time:
2015-11-17T01:22:08Z
class:
comments:
Merge pull request #14790 from rjernst/less_forbidden

Use a marker file to indicate forbidden patterns has run

time:
2015-11-17T00:48:56Z
class:
comments:
Build: Use a marker file to indicate forbidden patterns has run

This makes forbidden patterns a little smarter, so it does not need to
run on every build. It works because the marker file timestamp will be
compared against the source files (which are the inputs to forbidden
patterns).

closes #14788

time:
2015-11-16T21:09:49Z
class:
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/internal/TypeFieldMapperTests.java
comments:
Merge pull request #14783 from rjernst/type_doc_values

Make _type use doc values

time:
2015-11-16T21:07:46Z
class:
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
comments:
Merge pull request #14784 from mikemccand/upgrade_lucene_1714615

Upgrade Lucene to 5.4.0-snapshot-1714615

time:
2015-11-16T20:50:31Z
class:
comments:
Merge pull request #14785 from rjernst/clean_more

Also clean buildSrc when cleaning

time:
2015-11-16T20:45:02Z
class:
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
comments:
Fix reproducible GeoDistanceRangeQueryTests.testToQuery error

This issue occurs if the center latitude of the GeoPointDistance query is set to one of the poles. Since this issue is set to be fixed in LUCENE-6897 this commit temporarily limits the random latitudinal location to not include the poles.

time:
2015-11-16T20:41:21Z
class:
comments:
Build: Also clean buildSrc when cleaning

This forces buildSrc to be cleaned when running gradle clean. It's what
someone would expect, even though buildSrc is a pseudo-independent
project.

time:
2015-11-16T20:17:16Z
class:
core/src/main/java/org/elasticsearch/index/store/IndexStoreConfig.java
comments:
remove confusing private default constant

time:
2015-11-16T19:55:11Z
class:
core/src/main/java/org/elasticsearch/index/store/IndexStoreConfig.java
comments:
add comment about confusing constant value

time:
2015-11-16T19:38:05Z
class:
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
comments:
upgrade lucene 5.4 snapshot

time:
2015-11-16T19:35:17Z
class:
comments:
upgrade lucene 5.4 snapshot

time:
2015-11-16T19:32:52Z
class:
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/internal/TypeFieldMapperTests.java
comments:
Mappings: Make _type use doc values

_type should have got doc values with the change to default doc values.
However, due to how metadata fields have separate builders and special
constructors, it was not picking it up. This change updates the field
type for _type to have doc values.

closes #14781

time:
2015-11-16T17:47:19Z
class:
core/src/main/java/org/elasticsearch/index/translog/Checkpoint.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
comments:
Translog recovery can repeatedly fail if we run out of disk

If we run out of disk while recoverying the transaction log
we repeatedly fail since we expect the latest tranlog to be uncommitted.
This change adds 2 safety levels:

 * uncommitted checkpoints are first written to a temp file and then atomically
   renamed into a committed (recovered) checkpoint
 * if the latest uncommitted checkpoints generation is already recovered it has to be
   identical, if not the recovery fails

This allows to fail in between recovering the latest uncommitted checkpoint and moving
the checkpoint generation to N+1 which can for instance happen in a situation where
we can run out of disk. If we run out of disk while recovering the uncommitted checkpoint
either the temp file writing or the atomic rename will fail such that we never have a
half written or corrupted recovered checkpoint.

Close #14695

time:
2015-11-16T17:15:31Z
class:
comments:
Build: Use JDK at JAVA_HOME for compiling/testing, and improve build info output

We currently enforce JAVA_HOME is set, but use gradle's java version to
compile, and JAVA_HOME version to test. This change makes the compile
and test both use JAVA_HOME, and clarifies which java version is used by
gradle and that used for the compile/test.

time:
2015-11-16T17:01:23Z
class:
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilders.java
core/src/test/java/org/elasticsearch/common/geo/ShapeBuilderTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalValuesMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryDSLDocumentationTests.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoShapeIntegrationIT.java
comments:
Geo: Moving static factory methods to ShapeBuilders

Currently the abstract ShapeBuilder class serves too many different
purposes, making it hard to refactor and maintain the code. In order
to reduce the size and responsibilities, this PR moved all the
static factory methods used as a shortcut to create new shape builders
out to a new ShapeBuilders class, similar to how QueryBuilders is
used already.

time:
2015-11-16T16:39:38Z
class:
comments:
Merge pull request #14764 from rjernst/utc_build_date

Override Build-Date in jar manifest to be ISO 8601

time:
2015-11-16T16:08:06Z
class:
core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
core/src/main/java/org/elasticsearch/common/xcontent/cbor/CborXContent.java
core/src/main/java/org/elasticsearch/common/xcontent/cbor/CborXContentGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/json/BaseJsonGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContent.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/smile/SmileXContent.java
core/src/main/java/org/elasticsearch/common/xcontent/smile/SmileXContentGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/support/filtering/FilterContext.java
core/src/main/java/org/elasticsearch/common/xcontent/support/filtering/FilterPath.java
core/src/main/java/org/elasticsearch/common/xcontent/support/filtering/FilterPathBasedFilter.java
core/src/main/java/org/elasticsearch/common/xcontent/support/filtering/FilteringJsonGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/yaml/YamlXContent.java
core/src/main/java/org/elasticsearch/common/xcontent/yaml/YamlXContentGenerator.java
core/src/test/java/org/elasticsearch/common/xcontent/support/filtering/AbstractFilteringJsonGeneratorTestCase.java
core/src/test/java/org/elasticsearch/common/xcontent/support/filtering/FilterPathGeneratorFilteringTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/filtering/FilterPathTests.java
comments:
Add FilterPath implementation that uses Jackson 2.6 streaming filtering feature

time:
2015-11-16T16:08:06Z
class:
core/src/main/java/org/elasticsearch/common/xcontent/support/AbstractXContentGenerator.java
comments:
Remove unused AbstractXContentGenerator

time:
2015-11-16T14:34:09Z
class:
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
comments:
Merge pull request #14775 from cbuescher/fix/14746

Add unique id to query names to avoid naming conflicts

time:
2015-11-16T14:15:41Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodeResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoresRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/TransportIndicesShardStoresAction.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterHealthStatus.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterShardHealth.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/gateway/GatewayService.java
core/src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/health/RestClusterHealthAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/test/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIT.java
core/src/test/java/org/elasticsearch/benchmark/cluster/ClusterAllocationRerouteBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/percolator/PercolatorStressBenchmark.java
core/src/test/java/org/elasticsearch/bwcompat/BasicBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterHealthIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteIT.java
core/src/test/java/org/elasticsearch/cluster/health/ClusterIndexHealthTests.java
core/src/test/java/org/elasticsearch/cluster/health/ClusterStateHealthTests.java
core/src/test/java/org/elasticsearch/cluster/health/RoutingTableGenerator.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingTableTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AddIncrementallyTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationPriorityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AwarenessAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceConfigurationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceUnbalancedClusterTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/CatAllocationTestCase.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ClusterRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ConcurrentRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/DeadNodesAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ElectReplicaAsPrimaryDuringRelocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ExpectedShardSizeAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedNodeRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FilterRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/IndexBalanceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/NodeVersionAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferLocalPrimariesToRelocatingPrimariesTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferPrimaryAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PrimaryElectionRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PrimaryNotRelocatedWhileBeingRecoveredTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RandomAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RebalanceAfterActiveTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ReplicaAllocatedAfterPrimaryTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RoutingNodesIntegrityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SameShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardVersioningTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardsLimitAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardNoReplicasRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardOneReplicaRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/TenShardsOneReplicaRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ThrottlingAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/UpdateNumberOfReplicasTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/ClusterStateToStringTests.java
core/src/test/java/org/elasticsearch/cluster/structure/RoutingIteratorTests.java
core/src/test/java/org/elasticsearch/consistencylevel/WriteConsistencyLevelIT.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/document/DocumentActionsIT.java
core/src/test/java/org/elasticsearch/gateway/GatewayMetaStateTests.java
core/src/test/java/org/elasticsearch/gateway/QuorumGatewayIT.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/indexlifecycle/IndexLifecycleActionIT.java
core/src/test/java/org/elasticsearch/indices/settings/UpdateNumberOfReplicasIT.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateIT.java
core/src/test/java/org/elasticsearch/indices/state/SimpleIndexStateIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWhileCreatingIndexIT.java
core/src/test/java/org/elasticsearch/search/basic/TransportSearchFailuresIT.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
core/src/test/java/org/elasticsearch/search/morelikethis/MoreLikeThisIT.java
core/src/test/java/org/elasticsearch/search/nested/SimpleNestedIT.java
core/src/test/java/org/elasticsearch/search/preference/SearchPreferenceIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortIntegrationIT.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
test-framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
test-framework/src/main/java/org/elasticsearch/test/ESSingleNodeTestCase.java
comments:
Merge remote-tracking branch 'danielmitterdorfer/feature/11657'

time:
2015-11-16T14:14:43Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodeResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoresRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/TransportIndicesShardStoresAction.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterHealthStatus.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterShardHealth.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/gateway/GatewayService.java
core/src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/health/RestClusterHealthAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/test/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIT.java
core/src/test/java/org/elasticsearch/benchmark/cluster/ClusterAllocationRerouteBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/percolator/PercolatorStressBenchmark.java
core/src/test/java/org/elasticsearch/bwcompat/BasicBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterHealthIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteIT.java
core/src/test/java/org/elasticsearch/cluster/health/ClusterIndexHealthTests.java
core/src/test/java/org/elasticsearch/cluster/health/ClusterStateHealthTests.java
core/src/test/java/org/elasticsearch/cluster/health/RoutingTableGenerator.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingTableTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AddIncrementallyTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationPriorityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AwarenessAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceConfigurationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceUnbalancedClusterTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/CatAllocationTestCase.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ClusterRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ConcurrentRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/DeadNodesAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ElectReplicaAsPrimaryDuringRelocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ExpectedShardSizeAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedNodeRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FilterRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/IndexBalanceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/NodeVersionAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferLocalPrimariesToRelocatingPrimariesTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferPrimaryAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PrimaryElectionRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PrimaryNotRelocatedWhileBeingRecoveredTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RandomAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RebalanceAfterActiveTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ReplicaAllocatedAfterPrimaryTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RoutingNodesIntegrityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SameShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardVersioningTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardsLimitAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardNoReplicasRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardOneReplicaRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/TenShardsOneReplicaRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ThrottlingAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/UpdateNumberOfReplicasTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/ClusterStateToStringTests.java
core/src/test/java/org/elasticsearch/cluster/structure/RoutingIteratorTests.java
core/src/test/java/org/elasticsearch/consistencylevel/WriteConsistencyLevelIT.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/document/DocumentActionsIT.java
core/src/test/java/org/elasticsearch/gateway/GatewayMetaStateTests.java
core/src/test/java/org/elasticsearch/gateway/QuorumGatewayIT.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/indexlifecycle/IndexLifecycleActionIT.java
core/src/test/java/org/elasticsearch/indices/settings/UpdateNumberOfReplicasIT.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateIT.java
core/src/test/java/org/elasticsearch/indices/state/SimpleIndexStateIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWhileCreatingIndexIT.java
core/src/test/java/org/elasticsearch/search/basic/TransportSearchFailuresIT.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
core/src/test/java/org/elasticsearch/search/morelikethis/MoreLikeThisIT.java
core/src/test/java/org/elasticsearch/search/nested/SimpleNestedIT.java
core/src/test/java/org/elasticsearch/search/preference/SearchPreferenceIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortIntegrationIT.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
test-framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
test-framework/src/main/java/org/elasticsearch/test/ESSingleNodeTestCase.java
comments:
Log cluster health status changes

With this commit the cluster health status changes are logged
on INFO level. The change is only logged on master and actively
triggered in AllocationService in order to minimize the impact of
constantly reevaluating ClusterState in a ClusterStateListener
although we know that no health-relevant change happened.

Closes #11657

time:
2015-11-16T14:08:25Z
class:
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
comments:
Tests: Add unique id to query names to avoid naming conflicts

In AbstractQueryTestCase we randomly add the `_name` property to
some of the queries. While this generally works, there are exceptional
cases where we assign the same name to two queries in the setup which
leads to test failures later. This PR adds an increasing counter value
to the base tests that gets appended to all random query names to
avoid this name clashes.

time:
2015-11-16T13:54:06Z
class:
test-framework/src/main/java/org/elasticsearch/test/ExternalTestCluster.java
comments:
Merge pull request #14756 from nik9000/leaking_clients

Don't leak clients from ExternalTestCluster

time:
2015-11-16T13:43:36Z
class:
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
comments:
Test: move SearchQueryIT back to core

There is no groovy dependency there (it's now in lang groovy)

Closes #14770

time:
2015-11-16T13:34:13Z
class:
test-framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
comments:
[TEST] Specify usage restrictions for @SuiteScopeTestCase, @SuppressLocalMode and @SuppressNetworkMode

Closes #14477

time:
2015-11-16T13:25:02Z
class:
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ClusterRebalanceAllocationDecider.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceConfigurationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ClusterRebalanceRoutingTests.java
comments:
Take ingored unallocated shards into account when makeing allocation decision

ClusterRebalanceAllocationDecider did not take unassigned shards into account
that are temporarily marked as ingored. This can cause unexpected behavior
when gateway allocator is still fetching shards or has marked shareds as ignored
since their quorum is not met yet.

Closes #14670
Closes #14678

time:
2015-11-16T13:07:35Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
comments:
Merge pull request #14765 from ywelsch/fix/delayed-allocation-race

Fix calculation of next delay for delayed shard allocation

time:
2015-11-16T13:06:34Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
comments:
Fix calculation of next delay for delayed shard allocation

Currently the next delay is calculated based on System.currentTimeMillis() but the actual shards to delay based on the last time the GatewayAllocator tried to assign/delay the shard.

This introduces an inconsistency for the case where shards should have been delay-allocated between the GatewayAllocator-based timestamp and System.currentTimeMillis().

Closes #14765

time:
2015-11-16T12:00:43Z
class:
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramIT.java
comments:
Adding mock script engine for value script tests

time:
2015-11-16T10:58:28Z
class:
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramIT.java
comments:
Adapting test by using mock script engine

time:
2015-11-16T10:58:28Z
class:
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramIT.java
comments:
Tests: Move DateHistogramTests back to core module

DateHistogramTests had some dependency on groovy scripts and
were moved to the lang-groovy module. This PR moves it back
and replaces use of groovy scripts by a mock script engine.
Removing three test cases that were testing doing some date
manipulation using script, since these are more groovy script
tests than testing the DateHistogram aggregation.

time:
2015-11-16T09:32:32Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/mutate/MutateProcessor.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/DataTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/mutate/MutateProcessorTests.java
comments:
Merge pull request #14759 from talevy/fix_null_mutate_report

adds tests and guards against null values in some mutate methods

time:
2015-11-16T09:28:29Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/ConfigurationUtils.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/TransportData.java
comments:
minor formatting changes

time:
2015-11-16T05:57:27Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/mutate/MutateProcessor.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/DataTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/mutate/MutateProcessorTests.java
comments:
adds tests and guards against null values in some mutate methods

time:
2015-11-16T05:27:48Z
class:
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/GlobalOrdinalsBuilder.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexOrdinalsFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/SortedSetDVOrdinalsIndexFieldData.java
core/src/test/java/org/elasticsearch/index/fielddata/FieldDataCacheTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
test-framework/src/main/java/org/elasticsearch/test/FieldMaskingReader.java
comments:
field data: Don't cache top level field data for fields that don't exist.

Just return an empty field data instance, like we do currently the same for segment level field data.

time:
2015-11-15T20:49:54Z
class:
core/src/main/java/org/elasticsearch/discovery/DiscoveryService.java
test-framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Tests: update the disco node id seed on node restart

To make sure the new node's id is changed.

Closes #14675

time:
2015-11-15T20:15:42Z
class:
core/src/main/java/org/elasticsearch/action/bulk/BulkAction.java
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/NodesFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/main/java/org/elasticsearch/transport/TransportRequestOptions.java
core/src/main/java/org/elasticsearch/transport/TransportResponseOptions.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransportChannel.java
core/src/test/java/org/elasticsearch/benchmark/transport/BenchmarkNettyLargeMessages.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTestCase.java
core/src/test/java/org/elasticsearch/transport/netty/NettyScheduledPingTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
comments:
Merge branch 'master' into feature/seq_no

time:
2015-11-15T19:34:40Z
class:
plugins/lang-groovy/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
comments:
Test: wrong index and query in testConstantScoreQuery

time:
2015-11-15T15:14:08Z
class:
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
comments:
Remove unused import in RecoverySourceHandler

time:
2015-11-15T09:44:42Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersRequest.java
core/src/main/java/org/elasticsearch/cluster/ClusterService.java
core/src/main/java/org/elasticsearch/cluster/DiskUsage.java
core/src/main/java/org/elasticsearch/common/metrics/EWMA.java
core/src/main/java/org/elasticsearch/common/metrics/MeterMetric.java
core/src/main/java/org/elasticsearch/common/unit/DistanceUnit.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/indices/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGrid.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/DateRangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IPv4RangeBuilder.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IndexableBinaryStringTools.java
test-framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
comments:
Build: Add javadocs jars

This change adds javadoc jars to core, test-framework and plugins. There
were a couple issues which javadoc found, but doclint did not already
find.

time:
2015-11-15T06:38:10Z
class:
comments:
Build: Override Build-Date in jar manifest to be iso 8601

time:
2015-11-14T23:29:29Z
class:
core/src/main/java/org/elasticsearch/action/bulk/BulkAction.java
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/NodesFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/main/java/org/elasticsearch/transport/TransportRequestOptions.java
core/src/main/java/org/elasticsearch/transport/TransportResponseOptions.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransportChannel.java
core/src/test/java/org/elasticsearch/benchmark/transport/BenchmarkNettyLargeMessages.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTestCase.java
core/src/test/java/org/elasticsearch/transport/netty/NettyScheduledPingTests.java
comments:
Merge pull request #14760 from jasontedor/immutable-transport-options

Transport options should be immutable

time:
2015-11-14T23:21:40Z
class:
core/src/main/java/org/elasticsearch/action/bulk/BulkAction.java
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/NodesFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/main/java/org/elasticsearch/transport/TransportRequestOptions.java
core/src/main/java/org/elasticsearch/transport/TransportResponseOptions.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransportChannel.java
core/src/test/java/org/elasticsearch/benchmark/transport/BenchmarkNettyLargeMessages.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTestCase.java
core/src/test/java/org/elasticsearch/transport/netty/NettyScheduledPingTests.java
comments:
Transport options should be immutable

This commit changes TransportRequestOptions and TransportResponseOptions
to be immutable. This is to address an issue where the empty options
were being mutated permanently altering their state. Making these
objects immutable is just good, clean coding.

time:
2015-11-14T18:07:29Z
class:
comments:
Merge pull request #14762 from vvalleru/master

update gradle version from 2.6 to 2.8

time:
2015-11-14T16:10:52Z
class:
comments:
update gradle version from 2.6 to 2.8

time:
2015-11-14T10:12:28Z
class:
comments:
Merge pull request #14752 from ycombinator/docfix

Fixing `path.data` reference

time:
2015-11-13T23:06:12Z
class:
comments:
Merge pull request #14755 from rjernst/tame_the_beast

Effectively remove transitive deps from generated maven poms

time:
2015-11-13T23:05:40Z
class:
comments:
Improve wording of transitive deps hack explanation

time:
2015-11-13T22:59:45Z
class:
comments:
Add explanation of the configuration trick used to find transitive deps
for exclusion

time:
2015-11-13T22:20:14Z
class:
comments:
Remove artifacts left from testing

time:
2015-11-13T22:20:08Z
class:
test-framework/src/main/java/org/elasticsearch/test/ExternalTestCluster.java
comments:
Don't leak clients from ExternalTestCluster

When the ExternalTestCluster can't fully build it was leaking a client.
These clients created several threads each, causing "fun" thread starvation
issues.

time:
2015-11-13T22:18:14Z
class:
comments:
Remove forgotten println

time:
2015-11-13T22:10:17Z
class:
comments:
Build: Effectively remove transitive deps from generated maven poms

With gradle, deploying to maven means first generating poms. These are
filled in based on dependencies of the project. Recently, we started
disallowing transitive dependencies. However, this configuration does
not translate to maven poms because maven has no concept of excluding
all transitive dependencies.

This change adds exclusions for each of the transitive deps of each
dependency being added to the maven pom. It does so by creating dummy
configurations for each direct dependency (which does not have
transitive deps excluded), so that we can iterate the transitive deps
when building the pom.

Note, this should be simpler (just modifying maven's pom model), but
gradle tries to hide that from their api, causing us to need to
manipulate the xml directly.
https://discuss.gradle.org/t/modifying-maven-pom-generation-to-add-excludes/12744

time:
2015-11-13T21:36:14Z
class:
comments:
Fixing setting name

time:
2015-11-13T19:22:27Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Data.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/Pipeline.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/ConfigurationUtils.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/Processor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/DateProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/GrokProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/mutate/MutateProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestModule.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestPlugin.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/PipelineStore.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/rest/RestGetPipelineAction.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/rest/RestSimulatePipelineAction.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/TransportData.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/ParsedSimulateRequest.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateDocumentResult.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateDocumentSimpleResult.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateDocumentVerboseResult.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateExecutionService.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineAction.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineRequest.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineRequestBuilder.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineResponse.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineTransportAction.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateProcessorResult.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/DataTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/IngestClientIT.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/ConfigurationUtilsTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/TransportDataTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/ParsedSimulateRequestParserTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateDocumentSimpleResultTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateExecutionServiceTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineResponseTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateProcessorResultTests.java
comments:
Merge pull request #14572 from talevy/simulate_ingest

[Ingest] Simulate Endpoint

time:
2015-11-13T18:37:06Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/Processor.java
comments:
remove unnecessary line breaks

time:
2015-11-13T18:36:18Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/mutate/MutateProcessor.java
comments:
remove leftover equals/hashcode

time:
2015-11-13T18:35:09Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Pipeline.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/mutate/MutateProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/ParsedSimulateRequest.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/DataTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/PipelineTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/TransportDataTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/ParsedSimulateRequestParserTests.java
comments:
remove equals/hashcode as part of Pipeline and adapt tests

Only MutateProcessor implemented equals / hashcode hence we would only use that one in our tests, since they relied on them. Better to not rely on equals/hashcode, drop them and mock processor/pipeline in our tests that need them. That also allow to make MutateProcessor constructor package private as the other processors.

time:
2015-11-13T18:19:47Z
class:
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
comments:
Merge branch 'master' into feature/seq_no

time:
2015-11-13T17:40:51Z
class:
comments:
Clarify stale shard issue on Resiliency page

time:
2015-11-13T17:18:43Z
class:
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
comments:
Correcting maxRadius units in GeoDistanceRangeQueryTest

time:
2015-11-13T17:16:22Z
class:
comments:
Fix race condition in cat shards test

This commit fixes a test bug in the cat shards REST test. In
particular, there was a race condition in the test that would cause the
test to sometimes fail. The race condition is that some of the shards
would go to state STARTED after the sync flush was issued. These shards
would (correctly) show up in the output as having state started but
without a sync_id. However, the expected output was written to only
look for shards that have state STARTED and a sync_id, or shards that
are still INITIALIZING or are UNASSIGNED and (of course) do not have a
sync_id. The best approach here is to just simplify the test.

time:
2015-11-13T15:42:48Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/search/ClearScrollRequest.java
core/src/main/java/org/elasticsearch/action/search/SearchScrollRequest.java
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeAction.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/common/blobstore/support/AbstractLegacyBlobContainer.java
core/src/main/java/org/elasticsearch/common/geo/GeoUtils.java
core/src/main/java/org/elasticsearch/discovery/MasterNotDiscoveredException.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/engine/ElasticsearchConcurrentMergeScheduler.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/fielddata/SingletonMultiGeoPointValues.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractGeoPointDVIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointArrayAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointArrayLegacyAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDVAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointLegacyDVAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
core/src/main/java/org/elasticsearch/index/mapper/geo/BaseGeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/shard/AbstractIndexShardComponent.java
core/src/main/java/org/elasticsearch/index/shard/IndexSearcherWrapper.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardComponent.java
core/src/main/java/org/elasticsearch/index/shard/MergeSchedulerConfig.java
core/src/main/java/org/elasticsearch/index/shard/ShardPath.java
core/src/main/java/org/elasticsearch/index/store/FsDirectoryService.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/breaker/HierarchyCircuitBreakerService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySource.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryStatus.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramAggregator.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/GeoContextMapping.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/TransportAnalyzeActionTests.java
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/master/IndexingMasterFailoverIT.java
core/src/test/java/org/elasticsearch/action/support/master/TransportMasterNodeActionTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/env/NodeEnvironmentTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisServiceTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisTestsHelper.java
core/src/test/java/org/elasticsearch/index/analysis/CharFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
core/src/test/java/org/elasticsearch/index/analysis/NGramTokenizerFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/PatternCaptureTokenFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/StopAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTests.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/codec/CodecTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractGeoFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/DuelFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/GeoFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/IndexFieldDataServiceTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/SimpleExternalMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeohashMappingGeoPointTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/search/geo/GeoUtilsTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexSearcherWrapperTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/shard/NewPathForShardTests.java
core/src/test/java/org/elasticsearch/index/shard/ShardPathTests.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/index/store/ExceptionRetryIT.java
core/src/test/java/org/elasticsearch/index/store/IndexStoreTests.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
core/src/test/java/org/elasticsearch/index/translog/BufferedTranslogTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryIT.java
core/src/test/java/org/elasticsearch/indices/recovery/RecoverySourceHandlerTests.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/recovery/TruncatedRecoveryIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgIT.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoBoundingBoxIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoPolygonIT.java
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTestCase.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/AnalysisTestUtils.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java
plugins/analysis-phonetic/src/test/java/org/elasticsearch/index/analysis/SimplePhoneticAnalysisTests.java
plugins/analysis-smartcn/src/test/java/org/elasticsearch/index/analysis/SimpleSmartChineseAnalysisTests.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/PolishAnalysisTests.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/SimplePolishTokenFilterTests.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryAction.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/plugin/discovery/ec2/Ec2DiscoveryPlugin.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/AmazonEC2Mock.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/GeoDistanceTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HistogramTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SimpleSortTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MapperTestUtils.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/blobstore/AzureBlobContainer.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/blobstore/S3BlobContainer.java
plugins/repository-s3/src/main/java/org/elasticsearch/plugin/repository/s3/S3RepositoryPlugin.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/AmazonS3Wrapper.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/ESPolicyUnitTests.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/PluginManagerTests.java
test-framework/src/main/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
test-framework/src/main/java/org/elasticsearch/test/ESTestCase.java
test-framework/src/main/java/org/elasticsearch/test/IndexSettingsModule.java
test-framework/src/main/java/org/elasticsearch/test/cluster/TestClusterService.java
test-framework/src/main/java/org/elasticsearch/test/disruption/NetworkDelaysPartition.java
test-framework/src/main/java/org/elasticsearch/test/disruption/NetworkDisconnectPartition.java
test-framework/src/main/java/org/elasticsearch/test/disruption/NetworkPartition.java
test-framework/src/main/java/org/elasticsearch/test/disruption/NetworkUnresponsivePartition.java
test-framework/src/main/java/org/elasticsearch/test/engine/MockEngineSupport.java
test-framework/src/main/java/org/elasticsearch/test/engine/MockInternalEngine.java
test-framework/src/main/java/org/elasticsearch/test/store/MockFSIndexStore.java
test-framework/src/main/java/org/elasticsearch/test/transport/MockTransportService.java
comments:
Merge branch 'master' into feature/seq_no

time:
2015-11-13T15:32:31Z
class:
core/src/main/java/org/elasticsearch/common/geo/GeoUtils.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
comments:
Removing pole restriction on GeoDistanceRangeQueryTests

This commit corrects the maxRadialDistance computation for points at the poles to half the distance of the meridian.

time:
2015-11-13T15:22:24Z
class:
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/TransportData.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateDocumentResult.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateDocumentSimpleResult.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateDocumentVerboseResult.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateExecutionService.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateFailedDocumentResult.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineResponse.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateProcessorResult.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateSimpleDocumentResult.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/IngestClientIT.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/TransportDataTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateDocumentSimpleResultTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateExecutionServiceTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateFailedDocumentResultTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineResponseTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateProcessorResultTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateSimpleDocumentResultTests.java
comments:
simplify serialization for simulate response depending on verbose flag

Removed equals and hashcode whenever they wouldn't be reliable because of exception comparison. at the end of the day we use them for testing and we can simplify our tests without requiring equals and hashcode in prod code, which also would require more tests if maintained.

Add equals/hashcode test for Data/TransportData and randomize existing serialization tests

time:
2015-11-13T14:49:15Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramAggregator.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgIT.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HistogramTests.java
comments:
Aggregations: Pass extended bounds into HistogramAggregator when creating an unmapped aggregator

This fixes an issue where if the field for the aggregation was unmapped the extended bounds would get dropped and the resulting buckets would not cover the extended bounds requested.

Closes #14735

time:
2015-11-13T14:31:44Z
class:
comments:
Fix cat shards test bug

time:
2015-11-13T14:05:38Z
class:
core/src/main/java/org/elasticsearch/index/IndexSettings.java
comments:
java docs fix

time:
2015-11-13T13:30:23Z
class:
core/src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/engine/ElasticsearchConcurrentMergeScheduler.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/shard/AbstractIndexShardComponent.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardComponent.java
core/src/main/java/org/elasticsearch/index/shard/MergeSchedulerConfig.java
core/src/main/java/org/elasticsearch/index/shard/ShardPath.java
core/src/main/java/org/elasticsearch/index/store/FsDirectoryService.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySource.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryStatus.java
core/src/test/java/org/elasticsearch/action/admin/indices/TransportAnalyzeActionTests.java
core/src/test/java/org/elasticsearch/env/NodeEnvironmentTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisServiceTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisTestsHelper.java
core/src/test/java/org/elasticsearch/index/analysis/CharFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
core/src/test/java/org/elasticsearch/index/analysis/NGramTokenizerFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/PatternCaptureTokenFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/StopAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTests.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/codec/CodecTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/IndexFieldDataServiceTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexSearcherWrapperTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/shard/NewPathForShardTests.java
core/src/test/java/org/elasticsearch/index/shard/ShardPathTests.java
core/src/test/java/org/elasticsearch/index/store/IndexStoreTests.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
core/src/test/java/org/elasticsearch/index/translog/BufferedTranslogTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
core/src/test/java/org/elasticsearch/indices/recovery/RecoverySourceHandlerTests.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/AnalysisTestUtils.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java
plugins/analysis-phonetic/src/test/java/org/elasticsearch/index/analysis/SimplePhoneticAnalysisTests.java
plugins/analysis-smartcn/src/test/java/org/elasticsearch/index/analysis/SimpleSmartChineseAnalysisTests.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/PolishAnalysisTests.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/SimplePolishTokenFilterTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MapperTestUtils.java
test-framework/src/main/java/org/elasticsearch/test/IndexSettingsModule.java
test-framework/src/main/java/org/elasticsearch/test/engine/MockEngineSupport.java
test-framework/src/main/java/org/elasticsearch/test/engine/MockInternalEngine.java
test-framework/src/main/java/org/elasticsearch/test/store/MockFSIndexStore.java
comments:
Extend usage of IndexSetting class

I decided to leave external listeners (used by plugins) alone, for now.

Closes #14731

time:
2015-11-13T13:24:00Z
class:
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeAction.java
core/src/main/java/org/elasticsearch/discovery/MasterNotDiscoveredException.java
core/src/test/java/org/elasticsearch/action/support/master/TransportMasterNodeActionTests.java
comments:
Throw MasterNotDiscoveredException whenever retry logic of TransportMasterNodeAction times out

Closes #14737

time:
2015-11-13T12:48:51Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramAggregator.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HistogramTests.java
comments:
Revert "Aggregations: Pass extended bounds into HistogramAggregator when creating an unmapped aggregator"

This reverts commit e1bf9798bff698d23537b53b5a31287da70f9ccb.

time:
2015-11-13T12:33:06Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramAggregator.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/HistogramTests.java
comments:
Aggregations: Pass extended bounds into HistogramAggregator when creating an unmapped aggregator

This fixes an issue where if the field for the aggregation was unmapped the extended bounds would get dropped and the resulting buckets would not cover the extended bounds requested.

Closes #14735

time:
2015-11-13T10:13:41Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
comments:
Merge pull request #14712 from jasontedor/cat-shards-sync-id

Add sync_id to cat shards API

time:
2015-11-13T10:13:08Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
comments:
Add sync_id to cat shards API

This commit adds the ability to get the sync_id from the cat shards API.

Closes #14705

time:
2015-11-13T06:48:11Z
class:
comments:
Merge pull request #14728 from rjernst/no_more_jvm_leaks

Use ant exec for starting elasticsearch in integ tests

time:
2015-11-13T06:43:38Z
class:
comments:
Build: Use ant exec for starting elasticsearch in integ tests

Currently elasticsearch in integ tests is started using an ant task on
windows, or gradle exec on everything else. However, gradle exec has
some flaws, one being Ctrl-C does not run finalizedBy tasks, which means
interrupting integ tests will leak a jvm. This change makes all systems
use ant exec. One caveat is, if there is any output by the jvm, we lose
it in ant bit heaven. But this is no different than what we had with
gradle. In the future, we should look at using a separate thread to
pump streams from the elasticsearch process.

closes #14701

time:
2015-11-13T05:57:12Z
class:
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/PluginManagerTests.java
test-framework/src/main/java/org/elasticsearch/test/ESTestCase.java
comments:
fix gradle check under jigsaw

closes #14726

Squashed commit of the following:

commit 5b591e98570e3fa481b2816a44063b98bff36ddf
Author: Robert Muir <rmuir@apache.org>
Date:   Fri Nov 13 00:54:08 2015 -0500

    add assumption for self-signing in PluginManagerTests

commit ed11e5371b6f71591dc41c6f60d033502cfcf029
Author: Robert Muir <rmuir@apache.org>
Date:   Fri Nov 13 00:20:59 2015 -0500

    show error output from integ test startup

commit d8b187a10e95d89a0e775333dcbe1aaa903fb376
Author: Robert Muir <rmuir@apache.org>
Date:   Thu Nov 12 22:14:11 2015 -0500

    fix gradle check under jigsaw

time:
2015-11-13T05:01:51Z
class:
core/src/main/java/org/elasticsearch/common/geo/GeoUtils.java
core/src/main/java/org/elasticsearch/index/fielddata/SingletonMultiGeoPointValues.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractGeoPointDVIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointArrayAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointArrayLegacyAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDVAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointLegacyDVAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/mapper/geo/BaseGeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/GeoContextMapping.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractGeoFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/DuelFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/GeoFieldDataTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/SimpleExternalMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeohashMappingGeoPointTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
core/src/test/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/search/geo/GeoUtilsTests.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoBoundingBoxIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoPolygonIT.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/GeoDistanceTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SimpleSortTests.java
comments:
Enable GeoPointV2 with backward compatibility testing

This commit removes all noreleases and cuts over to Lucene 5.4 GeoPointField type. Included are randomized testing updates to unit and integration test suites for ensuring full backward compatability with existing geo_point indexes.

time:
2015-11-13T02:27:49Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Data.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/ParsedSimulateRequest.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateDocumentResult.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateExecutionService.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateFailedDocumentResult.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineRequest.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineResponse.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateProcessorResult.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateSimpleDocumentResult.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateVerboseDocumentResult.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/IngestClientIT.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/PipelineTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/ParsedSimulateRequestParserTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateExecutionServiceTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateFailedDocumentResultTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineResponseTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateProcessorResultTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateSimpleDocumentResultTests.java
comments:
split out SimulateDocumentResult into subclasses, add tests for equalTo and streamable

time:
2015-11-12T23:08:13Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/ESPolicyUnitTests.java
test-framework/src/main/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
comments:
Handle system policy correctly.

Just suck in the system policy, so its compatible with any version of java.
It means it also respects configuration (e.g. for monitoring agents)

Closes #14704

time:
2015-11-12T21:43:05Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/ConfigurationUtils.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/rest/RestSimulatePipelineAction.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/TransportData.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/ParsedSimulateRequest.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateDocumentResult.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateExecutionService.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineRequest.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineRequestBuilder.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineResponse.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineTransportAction.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateProcessorResult.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/DataTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/IngestClientIT.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/TransportDataTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/ParsedSimulateRequestParserTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateExecutionServiceTests.java
comments:
updated with cosmetic changes

time:
2015-11-12T19:22:08Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIT.java
comments:
Merge pull request #14699 from xuzha/cluster_health

Add extra validation into `cluster/stats`

close #7390

time:
2015-11-12T18:46:18Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIT.java
comments:
Add extra validation into `cluster/stats`

The cluster health and cluster stats disagree on the status.
Add a extra validation step in `cluster/stats`.

closes #7390

time:
2015-11-12T18:45:33Z
class:
comments:
Merge pull request #14717 from rjernst/force_java_home

Enforce JAVA_HOME is set

time:
2015-11-12T18:22:56Z
class:
comments:
Build: Enforce JAVA_HOME is set

If we use JAVA_HOME consistently for tests, we can run tests with a
different version of java than gradle runs with. For example, this
enables running tests with jigsaw, but building with java 8. The only
caveat is intellij does not set JAVA_HOME. This change enforces
JAVA_HOME is set, but ignores for intellij.

time:
2015-11-12T16:58:08Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
test-framework/src/main/java/org/elasticsearch/test/cluster/TestClusterService.java
comments:
Merge pull request #14494 from ywelsch/fix/delayed-allocation-reroute

Delayed allocation can miss a reroute

time:
2015-11-12T16:40:14Z
class:
comments:
update get pipeline param names to id for consistency

time:
2015-11-12T16:22:14Z
class:
core/src/test/java/org/elasticsearch/action/support/master/IndexingMasterFailoverIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/index/store/ExceptionRetryIT.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/recovery/TruncatedRecoveryIT.java
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTestCase.java
test-framework/src/main/java/org/elasticsearch/test/disruption/NetworkDelaysPartition.java
test-framework/src/main/java/org/elasticsearch/test/disruption/NetworkDisconnectPartition.java
test-framework/src/main/java/org/elasticsearch/test/disruption/NetworkPartition.java
test-framework/src/main/java/org/elasticsearch/test/disruption/NetworkUnresponsivePartition.java
test-framework/src/main/java/org/elasticsearch/test/transport/MockTransportService.java
comments:
Merge pull request #14653 from ywelsch/fix/mocktransport-match-all-bound-addresses

Disruption rules in MockTransportService should match all bound addresses of a node.

time:
2015-11-12T16:20:07Z
class:
core/src/test/java/org/elasticsearch/action/support/master/IndexingMasterFailoverIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/index/store/ExceptionRetryIT.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/recovery/TruncatedRecoveryIT.java
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTestCase.java
test-framework/src/main/java/org/elasticsearch/test/disruption/NetworkDelaysPartition.java
test-framework/src/main/java/org/elasticsearch/test/disruption/NetworkDisconnectPartition.java
test-framework/src/main/java/org/elasticsearch/test/disruption/NetworkPartition.java
test-framework/src/main/java/org/elasticsearch/test/disruption/NetworkUnresponsivePartition.java
test-framework/src/main/java/org/elasticsearch/test/transport/MockTransportService.java
comments:
[TEST] Use TransportService/TransportAddress instead of DiscoveryNode for disruption rules

The disruption rules are changed to work on all transport addresses that are bound by a node (not only publish address).
This is important as UnicastZenPing creates fake DiscoveryNode instances which match one of the bound addresses and not necessarily the publish address.

Closes #14625
Closes #14653

time:
2015-11-12T14:45:35Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Pipeline.java
comments:
make description optional as part of a Pipeline

time:
2015-11-12T14:45:35Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Pipeline.java
comments:
make description optional as part of a Pipeline

time:
2015-11-12T14:45:17Z
class:
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/rest/RestGetPipelineAction.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/rest/RestSimulatePipelineAction.java
comments:
restore initial simulate endpoint url, adapt get pipeline param name

time:
2015-11-12T14:39:22Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Pipeline.java
comments:
Merge branch 'feature/ingest' into pr/14572

time:
2015-11-12T14:38:36Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Pipeline.java
comments:
use ConfigurationUtils to read string value from config

time:
2015-11-12T14:08:27Z
class:
core/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java
comments:
Remove unused imports in o.e.c.a.s.ShardStateActionTests

time:
2015-11-12T09:57:40Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
test-framework/src/main/java/org/elasticsearch/test/cluster/TestClusterService.java
comments:
Fix missing reroute in case of multiple delayed shards

After a delayed reroute of a shard, RoutingService misses to schedule a new delayed reroute of other delayed shards.

Closes #14494
Closes #14010
Closes #14445

time:
2015-11-12T07:48:04Z
class:
comments:
Merge pull request #14703 from rjernst/target_version_manifest

Simplify where min java version is specified

time:
2015-11-12T07:09:57Z
class:
comments:
Build: Simplify where min java version is specified

This moves the min java version used by elasticsearch to one place, a
constant in BuildPlugin. For me on java 9, this fixed my jar to have the
correct target/source versions.

closes #14702

time:
2015-11-12T05:51:45Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Data.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestModule.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/rest/RestSimulatePipelineAction.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/ParsedSimulateRequest.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/ProcessorResult.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateExecutionService.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineResponse.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineTransportAction.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatedItemResponse.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/IngestClientIT.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/ParsedSimulateRequestParserTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulateExecutionServiceTests.java
comments:
moar updates

time:
2015-11-12T03:39:23Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Data.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/Pipeline.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/ConfigurationUtils.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/Processor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/DateProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/GrokProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/mutate/MutateProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestModule.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/PipelineExecutionService.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/rest/RestSimulatePipelineAction.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/simulate/ParsedSimulateRequest.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/simulate/ProcessedData.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/simulate/SimulateExecutionService.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/simulate/SimulatedItemResponse.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineRequest.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineRequestBuilder.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineRequestPayload.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineResponse.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineTransportAction.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/IngestClientIT.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/ConfigurationUtilsTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/simulate/ParsedSimulateRequestParserTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/simulate/SimulateExecutionServiceTests.java
comments:
updates, moar verbose

time:
2015-11-11T18:35:09Z
class:
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/PipelineExecutionService.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineRequestPayload.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineResponse.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineTransportAction.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/IngestClientIT.java
comments:
remove simulate executor service call and move to simple execution

time:
2015-11-11T18:35:09Z
class:
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestModule.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineResponse.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatedItemResponse.java
comments:
update rest status

time:
2015-11-11T18:35:09Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Data.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestModule.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestPlugin.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/PipelineExecutionService.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/PipelineStore.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/rest/RestSimulatePipelineAction.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineAction.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineRequest.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineRequestBuilder.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineRequestPayload.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineResponse.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatePipelineTransportAction.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/simulate/SimulatedItemResponse.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/IngestClientIT.java
comments:
Add simulate endpoint

time:
2015-11-11T17:50:21Z
class:
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
comments:
Move field to local variable

time:
2015-11-11T17:50:21Z
class:
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
comments:
Use String#equals instead of reference equality

time:
2015-11-11T17:50:21Z
class:
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
comments:
Sanity check exception message in tests

time:
2015-11-11T17:50:21Z
class:
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
comments:
Remove unnecessary generic type parameters

time:
2015-11-11T15:33:53Z
class:
comments:
Merge pull request #14681 from jasontedor/stale-shard-resiliency

Add stale shard issue to Resiliency page

time:
2015-11-11T13:30:54Z
class:
comments:
Add stale shard issue to Resiliency page

This commit adds a simple description of the stale shard issue to the
Resiliency page.

Relates #14671

time:
2015-11-11T10:10:26Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/mutate/GsubExpression.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/mutate/MutateProcessorFactoryTests.java
comments:
add equals and hashcode to GsubExpression

time:
2015-11-11T10:10:26Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/ConfigurationUtils.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/mutate/GsubExpression.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/mutate/MutateProcessor.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/mutate/MutateProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/mutate/MutateProcessorTests.java
comments:
Mutate processor improvements

Remove code duplications from ConfigurationUtils
Make sure that the mutate processor doesn't use Tuple as that would require to depend on core.
Also make sure that the MutateProcessor tests don't end up testing the factory as well.
Make processor getters package private as they are only needed in tests.
Add new tests to MutateProcessorFactoryTests

time:
2015-11-11T07:41:29Z
class:
comments:
renamed yaml tests

time:
2015-11-11T07:39:48Z
class:
comments:
specify all the dependencies of dependencies, because transitive dependencies have been disabled

time:
2015-11-11T07:14:44Z
class:
core/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java
core/src/main/java/org/apache/lucene/queries/MinDocQuery.java
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/apache/lucene/search/vectorhighlight/CustomFieldQuery.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/search/ClearScrollRequest.java
core/src/main/java/org/elasticsearch/action/search/SearchScrollRequest.java
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeAction.java
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/ClusterStateUpdateTask.java
core/src/main/java/org/elasticsearch/cluster/NotMasterException.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocators.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ShardsLimitAllocationDecider.java
core/src/main/java/org/elasticsearch/common/blobstore/support/AbstractLegacyBlobContainer.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MoreLikeThisQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/Queries.java
core/src/main/java/org/elasticsearch/common/lucene/search/XMoreLikeThis.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractAtomicGeoPointFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractGeoPointDVIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexGeoPointFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointArrayAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointArrayLegacyAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDVAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointLegacyDVAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/InMemoryGeoBoundingBoxQuery.java
core/src/main/java/org/elasticsearch/index/search/nested/IncludeNestedDocsQuery.java
core/src/main/java/org/elasticsearch/index/shard/IndexSearcherWrapper.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/breaker/HierarchyCircuitBreakerService.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/test/java/org/elasticsearch/action/support/master/IndexingMasterFailoverIT.java
core/src/test/java/org/elasticsearch/action/support/master/TransportMasterNodeActionTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ClusterRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardsLimitAllocationTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQueryTests.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractGeoFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/GeoFieldDataTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FuzzyQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/IndicesQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MultiMatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RandomQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexSearcherWrapperTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/recovery/FullRollingRestartIT.java
core/src/test/java/org/elasticsearch/search/aggregations/MissingValueIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoDistanceIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/GeoBoundsIT.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryAction.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/plugin/discovery/ec2/Ec2DiscoveryPlugin.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/AmazonEC2Mock.java
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/AttachmentMapper.java
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/MapperAttachmentsPlugin.java
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/TikaImpl.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/AttachmentUnitTestCase.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/DateAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/EncryptedDocMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/LanguageDetectionAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MapperAttachmentsRestIT.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MapperTestUtils.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MetadataMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MultifieldAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/SimpleAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/StandaloneRunner.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/TikaDocTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/TikaImplTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/VariousDocTests.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/blobstore/AzureBlobContainer.java
comments:
Merge remote-tracking branch 'es/master' into feature/ingest

time:
2015-11-11T04:12:11Z
class:
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/plugin/discovery/ec2/Ec2DiscoveryPlugin.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/AmazonEC2Mock.java
plugins/repository-s3/src/main/java/org/elasticsearch/plugin/repository/s3/S3RepositoryPlugin.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/AmazonS3Wrapper.java
comments:
Merge pull request #14672 from rmuir/aws_1_10_33

Upgrade to aws 1.10.33

time:
2015-11-11T03:51:33Z
class:
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/plugin/discovery/ec2/Ec2DiscoveryPlugin.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/AmazonEC2Mock.java
plugins/repository-s3/src/main/java/org/elasticsearch/plugin/repository/s3/S3RepositoryPlugin.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/AmazonS3Wrapper.java
comments:
Upgrade to aws 1.10.33

Security issues have been fixed. This removes our hacks.

time:
2015-11-11T03:33:47Z
class:
comments:
Merge pull request #14668 from rjernst/transitive_goes_poof

Remove transitive dependencies

time:
2015-11-10T23:13:54Z
class:
comments:
Fix concrete references to shared deps

time:
2015-11-10T23:03:16Z
class:
comments:
More explicit handling of jps executable on Windows

time:
2015-11-10T23:01:41Z
class:
comments:
Build: Remove transitive dependencies

Transitive dependencies can be confusing and hard to deal with when
conflicts arise between them. This change removes transitive
dependencies from elasticsearch, and forces any dependency conflicts to
be resolved manually, instead of automatically by gradle.

closes #14627

time:
2015-11-10T20:05:28Z
class:
comments:
Merge pull request #14665 from jasontedor/windows-jps-executable-name

Get correct jps path on Windows

time:
2015-11-10T19:56:45Z
class:
comments:
Get correct jps path on Windows

This commit fixes an issue with the jps executable sometimes being
available under jps.exe but not jps.

time:
2015-11-10T19:39:38Z
class:
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/search/ClearScrollRequest.java
core/src/main/java/org/elasticsearch/action/search/SearchScrollRequest.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryAction.java
comments:
Fix Delete-by-Query with Shield

closes #14527

time:
2015-11-10T19:22:58Z
class:
comments:
Merge pull request #14663 from rjernst/gradle_2_8

Upgrade minimum gradle version to 2.8

time:
2015-11-10T19:17:30Z
class:
comments:
Build: Upgrade minimum gradle version to 2.8

In gradle 2.7 (or groovy 2.3.10, not sure which), there appears to be a
bug on linux where using a fully qualified class (without an import
statement) does not work. This change forces gradle 2.8 or above. It
also moves the logic around a little for the version check so the build
info is printed before checks against that info.

time:
2015-11-10T17:02:34Z
class:
core/src/main/java/org/elasticsearch/indices/breaker/HierarchyCircuitBreakerService.java
comments:
Add breaker name to logging package

This allows different circuit breakers to have different logging levels.
It's useful when diagnosing problems (say for instance with the
fielddata breaker) and not seeing the enormous amount of logging from
the request breaker.

The log messages use the breaker name for logging, so example logging
will look like:

```
[2015-11-10 09:51:52,993][TRACE][indices.breaker.fielddata] [fielddata] Adding [27b][body] to used bytes [new used: [27b], limit: 623326003 [594.4mb], estimate: 27 [27b]]
[2015-11-10 09:51:53,000][TRACE][indices.breaker.fielddata] [fielddata] Adjusted breaker by [453] bytes, now [480]
[2015-11-10 09:51:53,016][TRACE][indices.breaker.request  ] [request] Adjusted breaker by [16440] bytes, now [16440]
[2015-11-10 09:51:53,018][TRACE][indices.breaker.request  ] [request] Adjusted breaker by [-16440] bytes, now [0]
```

time:
2015-11-10T16:09:32Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexSearcherWrapper.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexSearcherWrapperTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
Merge pull request #14654 from s1monw/fix_searcher_wrapper_interface

Fix IndexSearcherWrapper interface to not depend on the EngineConfig

time:
2015-11-10T15:49:10Z
class:
comments:
Merge pull request #14645 from rjernst/version_cleanup

Consolidate dependencies specified in multiple places

time:
2015-11-10T15:30:11Z
class:
comments:
Add back eclipse configuration to buildSrc

time:
2015-11-10T15:04:44Z
class:
core/src/main/java/org/elasticsearch/common/blobstore/support/AbstractLegacyBlobContainer.java
plugins/repository-azure/src/main/java/org/elasticsearch/cloud/azure/blobstore/AzureBlobContainer.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/blobstore/S3BlobContainer.java
comments:
Remove AbstractLegacyBlobContainer

`AbstractLegacyBlobContainer` was kept for historical reasons (see #13434).
We can migrate Azure and S3 repositories to use the new methods added in #13434 so we can remove `AbstractLegacyBlobContainer` class.

time:
2015-11-10T13:53:32Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexSearcherWrapper.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexSearcherWrapperTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
Fix IndexSearcherWrapper interface to not depend on the EngineConfig

We only passed the engine config since we had no chance to get the cache
etc. from the IndexSearcher. Now that we have these getters we can just pass the
searcher instead.

time:
2015-11-10T11:19:04Z
class:
core/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java
core/src/main/java/org/apache/lucene/queries/MinDocQuery.java
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XFuzzySuggester.java
core/src/main/java/org/apache/lucene/search/vectorhighlight/CustomFieldQuery.java
core/src/main/java/org/elasticsearch/Build.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequestBuilder.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/action/search/SearchPhaseExecutionException.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryAndFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryThenFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
core/src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
core/src/main/java/org/elasticsearch/action/support/QuerySourceBuilder.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequest.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCLIParser.java
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/main/java/org/elasticsearch/bootstrap/JNACLibrary.java
core/src/main/java/org/elasticsearch/bootstrap/JNANatives.java
core/src/main/java/org/elasticsearch/bootstrap/Seccomp.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/ClusterStateUpdateTask.java
core/src/main/java/org/elasticsearch/cluster/NotMasterException.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlock.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocators.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ShardsLimitAllocationDecider.java
core/src/main/java/org/elasticsearch/common/ParseFieldMatcher.java
core/src/main/java/org/elasticsearch/common/collect/Iterators.java
core/src/main/java/org/elasticsearch/common/geo/GeoUtils.java
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MoreLikeThisQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/Queries.java
core/src/main/java/org/elasticsearch/common/lucene/search/XMoreLikeThis.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/unit/TimeValue.java
core/src/main/java/org/elasticsearch/common/xcontent/ObjectParser.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentFactory.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/gateway/GatewayService.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/main/java/org/elasticsearch/http/BindHttpException.java
core/src/main/java/org/elasticsearch/http/HttpServer.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/main/java/org/elasticsearch/index/CompositeIndexEventListener.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexServicesProvider.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/NodeServicesProvider.java
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/codec/CodecService.java
core/src/main/java/org/elasticsearch/index/codec/PerFieldMappingPostingFormatCodec.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractAtomicGeoPointFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractGeoPointDVIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexGeoPointFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointArrayAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointArrayLegacyAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDVAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointLegacyDVAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/mapper/MapperBuilders.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/BaseGeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperLegacy.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RegexpFlag.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/support/InnerHitsQueryParserHelper.java
core/src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
core/src/main/java/org/elasticsearch/index/search/MatchQuery.java
core/src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/InMemoryGeoBoundingBoxQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/IndexedGeoBoundingBoxQuery.java
core/src/main/java/org/elasticsearch/index/search/nested/IncludeNestedDocsQuery.java
core/src/main/java/org/elasticsearch/index/shard/IndexEventListener.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityService.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/IndicesWarmer.java
core/src/main/java/org/elasticsearch/indices/cache/query/terms/TermsLookup.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/monitor/os/OsInfo.java
core/src/main/java/org/elasticsearch/monitor/os/OsService.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/validate/query/RestValidateQueryAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestSnapshotAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestThreadPoolAction.java
core/src/main/java/org/elasticsearch/rest/action/main/RestMainAction.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParams.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParametersParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsParser.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsParseElement.java
core/src/main/java/org/elasticsearch/search/highlight/HighlighterParseElement.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/query/FilterBinaryParseElement.java
core/src/main/java/org/elasticsearch/search/query/PostFilterParseElement.java
core/src/main/java/org/elasticsearch/search/query/QueryParseElement.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/rescore/QueryRescorer.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
core/src/main/java/org/elasticsearch/search/suggest/Suggest.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestBuilders.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestContextParser.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestParseElement.java
core/src/main/java/org/elasticsearch/search/suggest/Suggesters.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestionSearchContext.java
core/src/main/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProvider.java
core/src/main/java/org/elasticsearch/search/suggest/completion/Completion090PostingsFormat.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionFieldStats.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestParser.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggester.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestion.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestionBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestionContext.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestionFuzzyBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionTokenStream.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/CategoryContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/CategoryQueryContext.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/ContextBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/ContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/ContextMappings.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/GeoContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/GeoQueryContext.java
core/src/main/java/org/elasticsearch/search/suggest/context/CategoryContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/context/ContextBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/context/ContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/context/GeolocationContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestionContext.java
core/src/main/java/org/elasticsearch/search/suggest/term/TermSuggestParser.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/BuildTests.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/master/IndexingMasterFailoverIT.java
core/src/test/java/org/elasticsearch/action/support/master/TransportMasterNodeActionTests.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/script/NativeNaiveTFIDFScoreScript.java
core/src/test/java/org/elasticsearch/benchmark/search/geo/GeoDistanceSearchBenchmark.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapCliParserTests.java
core/src/test/java/org/elasticsearch/bootstrap/ESPolicyTests.java
core/src/test/java/org/elasticsearch/cluster/block/ClusterBlockTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ClusterRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardsLimitAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsFilteringIT.java
core/src/test/java/org/elasticsearch/common/io/FileSystemUtilsTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQueryTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/CountDownTests.java
core/src/test/java/org/elasticsearch/common/xcontent/ObjectParserTests.java
core/src/test/java/org/elasticsearch/common/xcontent/XContentFactoryTests.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/IndexServiceTests.java
core/src/test/java/org/elasticsearch/index/SettingsListenerIT.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/codec/CodecTests.java
comments:
Merge branch 'master' into feature/seq_no

time:
2015-11-10T11:06:31Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocators.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ClusterRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/recovery/FullRollingRestartIT.java
test-framework/src/main/java/org/elasticsearch/test/ESAllocationTestCase.java
test-framework/src/main/java/org/elasticsearch/test/gateway/NoopGatewayAllocator.java
comments:
Merge pull request #14591 from s1monw/issues/14387

Only allow rebalance operations to run if all shard store data is available

time:
2015-11-10T11:00:29Z
class:
core/src/test/java/org/elasticsearch/recovery/FullRollingRestartIT.java
comments:
Use syntactic sugar for starting data only nodes

time:
2015-11-10T08:43:05Z
class:
comments:
Merge pull request #14635 from jpountz/docs/doc_values_columnar

Reword some documentation to make it more obvious that doc values are a columnar representation of the data.

time:
2015-11-10T07:59:56Z
class:
comments:
Build: Consolidate dependencies specified in multiple places

Some dependencies must be specified in a couple places in the build.
e.g. randomized runner is specified both in buildSrc (for the gradle
wrapper plugin), as well as in the test-framework.

This change creates buildSrc/versions.properties which acts similar to
the set of shared version properties we used to have in the maven parent
pom.

time:
2015-11-10T04:50:12Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessor.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessorTests.java
comments:
geoip: renamed `ip_field` option to `source_field`, because it can hold a ip or hostname.
geoip: add a `fields` option to control what fields are added by geoip processor
geoip: instead of adding all fields, only `country_code`, `city_name`, `location`, `continent_name` and `region_name` fields are added.

time:
2015-11-10T03:57:32Z
class:
comments:
Merge pull request #14639 from rjernst/fix_plugin_files

Fix automatic installation of plugin for integ tests

time:
2015-11-10T03:18:06Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/simple/SimpleProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestModule.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/PipelineFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/PipelineStoreTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilterTests.java
comments:
Merge pull request #14643 from talevy/ingest/remove_simple

remove SimpleProcessor

time:
2015-11-10T03:14:06Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/simple/SimpleProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestModule.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/PipelineFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/PipelineStoreTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilterTests.java
comments:
remove SimpleProcessor

time:
2015-11-10T02:52:20Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Data.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/ConfigurationUtils.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/mutate/MutateProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestModule.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/DataTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/ConfigurationUtilsTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/mutate/MutateProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/mutate/MutateProcessorTests.java
comments:
Merge pull request #14253 from talevy/ingest/mutate

Mutate Processor

time:
2015-11-10T02:49:55Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Data.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/ConfigurationUtils.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/mutate/MutateProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestModule.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/DataTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/ConfigurationUtilsTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/mutate/MutateProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/mutate/MutateProcessorTests.java
comments:
introduce mutate processor.

fix forbiddenapis

update

clean up and add rest test

update mutate factory to use configuration utilities

compile gsub pattern

cleanup, update parseBooleans, null tests

time:
2015-11-10T01:27:34Z
class:
comments:
Build: Fix automatic installation of plugin for integ tests

The esplugin gradle plugin automatically adds the pluging being built to
the integTest cluster. However, there were two issues with this. First
was a bug in the name, which should have been the configured
esplugin.name instead of the project name. Second, the files
configuration was overcomplicated (trying to use the groovy spreader
operator after delaying calls to singleFile). Instead, we can just pass
the file collections (which will just be a single file at execution
time).

time:
2015-11-09T22:32:47Z
class:
comments:
Reword some documentation to make it more obvious that doc values are a columnar representation of the data.

Some users may already be familiar with column stores, so saying more explicitly
that doc values are a columnar representation of the data may help them better
and/or more quickly understand what doc values are about.

time:
2015-11-09T21:49:37Z
class:
core/src/main/java/org/elasticsearch/index/indexing/IndexingStats.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsIT.java
comments:
Add javadocs to IndexingStats.Stats

This commit adds some basic javadocs to IndexingStats.Stats.
A user on the forum asked for what getIndexingCurrent is so I figured
i can just fix it in the code.

time:
2015-11-09T21:39:24Z
class:
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractAtomicGeoPointFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractGeoPointDVIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexGeoPointFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointArrayAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointArrayLegacyAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDVAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointLegacyDVAtomicFieldData.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractGeoFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/GeoFieldDataTests.java
core/src/test/java/org/elasticsearch/search/aggregations/MissingValueIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoDistanceIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/GeoBoundsIT.java
comments:
Update GeoPoint FieldData for GeoPointV2

This commit adds an abstraction layer to GeoPoint FieldData for supporting new Lucene 5.4 GeoPointField and backwards compatibility.

time:
2015-11-09T21:38:44Z
class:
comments:
Merge pull request #14619 from jpountz/upgrade/lucene-5.4.0-snapshot-1712973

Upgrade to lucene-5.4.0-snapshot-1712973.

time:
2015-11-09T19:15:53Z
class:
comments:
Merge pull request #14451 from andrejserafim/run

Add gradle run command to replace run.bat and run.sh

time:
2015-11-09T18:25:34Z
class:
comments:
Merge pull request #14629 from jasontedor/path-to-jps

Get jps path relative to the JVM running Gradle

time:
2015-11-09T18:24:59Z
class:
comments:
Get jps path relative to the JVM running Gradle

This commit addresses an issue in getting a path to the jps bin. The
solution is to get the path to the JDK relative to the JVM running
Gradle.

Closes #14614

time:
2015-11-09T18:03:19Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ShardsLimitAllocationDecider.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardsLimitAllocationTests.java
comments:
Merge remote-tracking branch 'dakrone/node-limit-decider'

time:
2015-11-09T18:03:07Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ShardsLimitAllocationDecider.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardsLimitAllocationTests.java
comments:
Add cluster-wide setting for total shard limit

This adds the `cluster.routing.allocation.total_shards_per_node`
setting, which limits the total number of shards across all indices on
each node. It defaults to -1 and can be dynamically configured.

Resolves #14456

time:
2015-11-09T17:13:26Z
class:
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/TikaImpl.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/VariousDocTests.java
comments:
Merge pull request #14626 from rmuir/epub

minor attachments cleanups: IDE test support and EPUB format

time:
2015-11-09T17:03:22Z
class:
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
comments:
Fix GeoDistanceRangeQueryTest tolerance

GeoDistanceRangeQueryTest was using an inconsistent tolerance when validating from=0 with include_lower/upper set to false. This commit changes the assertion such that validation is consistent with builder logic.

time:
2015-11-09T16:59:16Z
class:
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeAction.java
core/src/main/java/org/elasticsearch/cluster/ClusterStateUpdateTask.java
core/src/main/java/org/elasticsearch/cluster/NotMasterException.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/test/java/org/elasticsearch/action/support/master/IndexingMasterFailoverIT.java
core/src/test/java/org/elasticsearch/action/support/master/TransportMasterNodeActionTests.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
comments:
Merge pull request #14222 from ywelsch/fix/refactor-transport-master-node-action

Refactor retry logic for TransportMasterNodeAction

time:
2015-11-09T16:56:18Z
class:
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeAction.java
core/src/main/java/org/elasticsearch/cluster/ClusterStateUpdateTask.java
core/src/main/java/org/elasticsearch/cluster/NotMasterException.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/test/java/org/elasticsearch/action/support/master/IndexingMasterFailoverIT.java
core/src/test/java/org/elasticsearch/action/support/master/TransportMasterNodeActionTests.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
comments:
Refactor retry logic for TransportMasterNodeAction

- Same as for TransportInstanceSingleOperationAction and TransportReplicationAction, onClusterServiceClose consistently throws a NodeClosedException now.
- Added retry logic if master could not publish cluster state or stepped down before publishing (ZenDiscovery). The test IndexingMasterFailoverIT shows the issue.
- Simplified retry logic by moving bits from different places into shared retry method.
  - Removed boolean flag retrying that aborted retrying after a single master node change (now we retry until timeout).
  - Two existing predicates that deal with master node changes unified in a single predicate masterNodeChangedPredicate

Closes #14222

time:
2015-11-09T16:30:58Z
class:
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/TikaImpl.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/VariousDocTests.java
comments:
minor attachments cleanups: IDE test support and EPUB format

The documentation says we support EPUB, but the parser is not enabled.
This parser does not require any external dependencies, so I think its ok?

Separately, test-framework drags in an ancient commons-codec (via httpclient), which gradle
"upgrades", but IDEs can't handle this case and just hit jar hell. So just wire that to 1.9,
this allows running tests in the IDE for this plugin.

time:
2015-11-09T15:37:16Z
class:
comments:
Revert "Merge pull request #14623 from nik9000/no_home_home"

This reverts commit cf8ffd32ac4c31a683a19752708c1f85bda96f3e, reversing
changes made to 40650ad2d5f879bb8fa0826b5bf0927630f5dc23.

time:
2015-11-09T14:53:27Z
class:
comments:
Upgrade to lucene-5.4.0-snapshot-1712973.

time:
2015-11-09T14:35:06Z
class:
comments:
Migrate mapper attachements plugin to asciidoc

Followup for #14605

time:
2015-11-09T14:09:27Z
class:
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryBuilderTests.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
comments:
[TEST] test query and search source parsing from different XContent types

We used to test only json parsing as we relied on QueryBuilder#toString which uses the json format. This commit makes sure that we now output the randomly generated queries using a random format, and that we are always able to parse them correctly.

This revealed a couple of issues with binary objects that haven't been migrated yet to be structured Writeable objects. We used to keep them in the format they were sent while parsing, which led to problems when printing them out as we expected them to always be in json format. Also we can't compare different BytesReference objects that hold the same content but in different formats (unless we want to parse them as part of equal and hashcode, doesn't seem like a good idea) and verify that we have parsed the right objects if they can be different formats. The fix is to always keep binary objects in json format. Best fix would be not to have binary objects, which we'll get to once we are done with the search refactoring.

Closes #14415

time:
2015-11-09T14:05:07Z
class:
comments:
[DOCS] document replacement for search exists

Relates to #13910
Closes #14393

time:
2015-11-09T14:01:35Z
class:
core/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java
core/src/main/java/org/apache/lucene/queries/MinDocQuery.java
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/apache/lucene/search/vectorhighlight/CustomFieldQuery.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MoreLikeThisQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/Queries.java
core/src/main/java/org/elasticsearch/common/lucene/search/XMoreLikeThis.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/InMemoryGeoBoundingBoxQuery.java
core/src/main/java/org/elasticsearch/index/search/nested/IncludeNestedDocsQuery.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/test/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQueryTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/FuzzyQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IndicesQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MultiMatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RandomQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
comments:
Internal: move to lucene BoostQuery

Latest version of lucene deprecated Query#setBoost and Query#getBoost which made queries effectively immutable. Those methods need to be replaced with `BoostQuery` that wraps any query that needs boosting.

This commit replaces usages of setBoost with BoostQuery and adds it to forbidden-apis for prod code.

Usages of `getBoost` are only partially removed, as some will have to stay for backwards compatibility.

Closes #14264

time:
2015-11-09T14:00:56Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
core/src/test/java/org/elasticsearch/recovery/FullRollingRestartIT.java
comments:
add IT for #14387

time:
2015-11-09T13:55:29Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/AttachmentMapper.java
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/MapperAttachmentsPlugin.java
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/TikaImpl.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/AttachmentUnitTestCase.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/DateAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/EncryptedDocMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/LanguageDetectionAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MapperAttachmentsRestIT.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MapperTestUtils.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MetadataMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MultifieldAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/SimpleAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/StandaloneRunner.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/TikaDocTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/TikaImplTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/VariousDocTests.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/PluginManagerTests.java
comments:
Merge pull request #14605 from rmuir/migrate-mapper-attachments

Migrate mapper attachments plugin to main repository

time:
2015-11-09T13:33:23Z
class:
comments:
Documented passing a local truststore to bin/plugin

time:
2015-11-09T13:15:58Z
class:
comments:
Merge pull request #14623 from nik9000/no_home_home

Use always set java.home

time:
2015-11-09T13:12:08Z
class:
comments:
[build] Use always set java.home

`System.getenv('JAVA_HOME')` relies on JAVA_HOME being setup by the user.
`System.getProperty('java.home')` is set by Java all the time.

Closes #14614

time:
2015-11-09T13:00:56Z
class:
comments:
Merge pull request #14612 from arinto/patch-2

[DOCS] Typo on the tribe node description

time:
2015-11-09T12:43:25Z
class:
comments:
Merge pull request #14608 from jimmyjones2/patch-1

Update all-field.asciidoc

time:
2015-11-09T12:42:07Z
class:
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XFuzzySuggester.java
core/src/main/java/org/elasticsearch/Build.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/action/search/SearchPhaseExecutionException.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryAndFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryThenFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
core/src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCLIParser.java
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/main/java/org/elasticsearch/bootstrap/JNACLibrary.java
core/src/main/java/org/elasticsearch/bootstrap/JNANatives.java
core/src/main/java/org/elasticsearch/bootstrap/Seccomp.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlock.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/common/ParseFieldMatcher.java
core/src/main/java/org/elasticsearch/common/collect/Iterators.java
core/src/main/java/org/elasticsearch/common/geo/GeoUtils.java
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
core/src/main/java/org/elasticsearch/common/unit/TimeValue.java
core/src/main/java/org/elasticsearch/common/xcontent/ObjectParser.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentFactory.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/gateway/GatewayService.java
core/src/main/java/org/elasticsearch/http/BindHttpException.java
core/src/main/java/org/elasticsearch/http/HttpServer.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/main/java/org/elasticsearch/index/CompositeIndexEventListener.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexServicesProvider.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/NodeServicesProvider.java
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/codec/CodecService.java
core/src/main/java/org/elasticsearch/index/codec/PerFieldMappingPostingFormatCodec.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/mapper/MapperBuilders.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/BaseGeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperLegacy.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RegexpFlag.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/support/InnerHitsQueryParserHelper.java
core/src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
core/src/main/java/org/elasticsearch/index/search/MatchQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/IndexedGeoBoundingBoxQuery.java
core/src/main/java/org/elasticsearch/index/shard/IndexEventListener.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityService.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/IndicesWarmer.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/monitor/os/OsInfo.java
core/src/main/java/org/elasticsearch/monitor/os/OsService.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestSnapshotAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestThreadPoolAction.java
core/src/main/java/org/elasticsearch/rest/action/main/RestMainAction.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParams.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParametersParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsParser.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsParseElement.java
core/src/main/java/org/elasticsearch/search/highlight/HighlighterParseElement.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/query/FilterBinaryParseElement.java
core/src/main/java/org/elasticsearch/search/query/PostFilterParseElement.java
core/src/main/java/org/elasticsearch/search/query/QueryParseElement.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/rescore/QueryRescorer.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
core/src/main/java/org/elasticsearch/search/suggest/Suggest.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestBuilders.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestContextParser.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestParseElement.java
core/src/main/java/org/elasticsearch/search/suggest/Suggesters.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestionSearchContext.java
core/src/main/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProvider.java
core/src/main/java/org/elasticsearch/search/suggest/completion/Completion090PostingsFormat.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionFieldStats.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestParser.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggester.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestion.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestionBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestionContext.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestionFuzzyBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionTokenStream.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/CategoryContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/CategoryQueryContext.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/ContextBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/ContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/ContextMappings.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/GeoContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/GeoQueryContext.java
core/src/main/java/org/elasticsearch/search/suggest/context/CategoryContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/context/ContextBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/context/ContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/context/GeolocationContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestionContext.java
core/src/main/java/org/elasticsearch/search/suggest/term/TermSuggestParser.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/BuildTests.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/script/NativeNaiveTFIDFScoreScript.java
core/src/test/java/org/elasticsearch/benchmark/search/geo/GeoDistanceSearchBenchmark.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapCliParserTests.java
core/src/test/java/org/elasticsearch/bootstrap/ESPolicyTests.java
core/src/test/java/org/elasticsearch/cluster/block/ClusterBlockTests.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsFilteringIT.java
core/src/test/java/org/elasticsearch/common/io/FileSystemUtilsTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/CountDownTests.java
core/src/test/java/org/elasticsearch/common/xcontent/ObjectParserTests.java
core/src/test/java/org/elasticsearch/common/xcontent/XContentFactoryTests.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/IndexServiceTests.java
core/src/test/java/org/elasticsearch/index/SettingsListenerIT.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/codec/CodecTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/completion/CompletionFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/CompletionFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapperPlugin.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalValuesMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/RegisterExternalTypes.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/SimpleExternalMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoEncodingTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeohashMappingGeoPointTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldsIntegrationIT.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NestedQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryIT.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/plugin/CustomQueryParserIT.java
core/src/test/java/org/elasticsearch/index/search/MultiMatchQueryTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/store/IndexStoreTests.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerSingleNodeTests.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerIT.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerTests.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerIT.java
core/src/test/java/org/elasticsearch/nodesinfo/SimpleNodesInfoIT.java
core/src/test/java/org/elasticsearch/plugins/PluginInfoTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
core/src/test/java/org/elasticsearch/search/SearchWithRejectionsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParserTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TopHitsIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsIT.java
core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringIT.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionTokenStreamTests.java
core/src/test/java/org/elasticsearch/search/suggest/ContextCompletionSuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/ContextSuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggester.java
core/src/test/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProviderV1.java
core/src/test/java/org/elasticsearch/search/suggest/completion/CategoryContextMappingTests.java
core/src/test/java/org/elasticsearch/search/suggest/completion/CompletionPostingsFormatTests.java
core/src/test/java/org/elasticsearch/search/suggest/completion/GeoContextMappingTests.java
core/src/test/java/org/elasticsearch/search/suggest/context/GeoLocationContextMappingTests.java
core/src/test/java/org/elasticsearch/threadpool/SimpleThreadPoolIT.java
core/src/test/java/org/elasticsearch/threadpool/ThreadPoolSerializationTests.java
core/src/test/java/org/elasticsearch/threadpool/ThreadPoolTypeSettingsValidatorTests.java
core/src/test/java/org/elasticsearch/threadpool/UpdateThreadPoolSettingsTests.java
core/src/test/java/org/elasticsearch/transport/netty/KeyedLockTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportPublishAddressIT.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
comments:
Merge branch 'feature/ingest' into ingest/date

time:
2015-11-09T11:58:11Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocators.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ClusterRebalanceRoutingTests.java
comments:
apply @bleskes review changes

time:
2015-11-09T11:36:51Z
class:
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XFuzzySuggester.java
core/src/main/java/org/elasticsearch/Build.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/action/search/SearchPhaseExecutionException.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryAndFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryThenFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
core/src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCLIParser.java
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/main/java/org/elasticsearch/bootstrap/JNACLibrary.java
core/src/main/java/org/elasticsearch/bootstrap/JNANatives.java
core/src/main/java/org/elasticsearch/bootstrap/Seccomp.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlock.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/common/ParseFieldMatcher.java
core/src/main/java/org/elasticsearch/common/collect/Iterators.java
core/src/main/java/org/elasticsearch/common/geo/GeoUtils.java
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
core/src/main/java/org/elasticsearch/common/unit/TimeValue.java
core/src/main/java/org/elasticsearch/common/xcontent/ObjectParser.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentFactory.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/gateway/GatewayService.java
core/src/main/java/org/elasticsearch/http/BindHttpException.java
core/src/main/java/org/elasticsearch/http/HttpServer.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/main/java/org/elasticsearch/index/CompositeIndexEventListener.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexServicesProvider.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/NodeServicesProvider.java
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/codec/CodecService.java
core/src/main/java/org/elasticsearch/index/codec/PerFieldMappingPostingFormatCodec.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/mapper/MapperBuilders.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/BaseGeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperLegacy.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RegexpFlag.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/support/InnerHitsQueryParserHelper.java
core/src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
core/src/main/java/org/elasticsearch/index/search/MatchQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/IndexedGeoBoundingBoxQuery.java
core/src/main/java/org/elasticsearch/index/shard/IndexEventListener.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityService.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/IndicesWarmer.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/monitor/os/OsInfo.java
core/src/main/java/org/elasticsearch/monitor/os/OsService.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestSnapshotAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestThreadPoolAction.java
core/src/main/java/org/elasticsearch/rest/action/main/RestMainAction.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParams.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParametersParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsParser.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsParseElement.java
core/src/main/java/org/elasticsearch/search/highlight/HighlighterParseElement.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/query/FilterBinaryParseElement.java
core/src/main/java/org/elasticsearch/search/query/PostFilterParseElement.java
core/src/main/java/org/elasticsearch/search/query/QueryParseElement.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/rescore/QueryRescorer.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
core/src/main/java/org/elasticsearch/search/suggest/Suggest.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestBuilders.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestContextParser.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestParseElement.java
core/src/main/java/org/elasticsearch/search/suggest/Suggesters.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestionSearchContext.java
core/src/main/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProvider.java
core/src/main/java/org/elasticsearch/search/suggest/completion/Completion090PostingsFormat.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionFieldStats.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestParser.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggester.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestion.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestionBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestionContext.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestionFuzzyBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionTokenStream.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/CategoryContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/CategoryQueryContext.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/ContextBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/ContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/ContextMappings.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/GeoContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/GeoQueryContext.java
core/src/main/java/org/elasticsearch/search/suggest/context/CategoryContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/context/ContextBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/context/ContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/context/GeolocationContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestionContext.java
core/src/main/java/org/elasticsearch/search/suggest/term/TermSuggestParser.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/BuildTests.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/script/NativeNaiveTFIDFScoreScript.java
core/src/test/java/org/elasticsearch/benchmark/search/geo/GeoDistanceSearchBenchmark.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapCliParserTests.java
core/src/test/java/org/elasticsearch/bootstrap/ESPolicyTests.java
core/src/test/java/org/elasticsearch/cluster/block/ClusterBlockTests.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsFilteringIT.java
core/src/test/java/org/elasticsearch/common/io/FileSystemUtilsTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/CountDownTests.java
core/src/test/java/org/elasticsearch/common/xcontent/ObjectParserTests.java
core/src/test/java/org/elasticsearch/common/xcontent/XContentFactoryTests.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/IndexServiceTests.java
core/src/test/java/org/elasticsearch/index/SettingsListenerIT.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/codec/CodecTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/completion/CompletionFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/CompletionFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapperPlugin.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalValuesMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/RegisterExternalTypes.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/SimpleExternalMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoEncodingTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeohashMappingGeoPointTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldsIntegrationIT.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NestedQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryIT.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/plugin/CustomQueryParserIT.java
core/src/test/java/org/elasticsearch/index/search/MultiMatchQueryTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/store/IndexStoreTests.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerSingleNodeTests.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerIT.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerTests.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerIT.java
core/src/test/java/org/elasticsearch/nodesinfo/SimpleNodesInfoIT.java
core/src/test/java/org/elasticsearch/plugins/PluginInfoTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
core/src/test/java/org/elasticsearch/search/SearchWithRejectionsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParserTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TopHitsIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsIT.java
core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringIT.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionTokenStreamTests.java
core/src/test/java/org/elasticsearch/search/suggest/ContextCompletionSuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/ContextSuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggester.java
core/src/test/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProviderV1.java
core/src/test/java/org/elasticsearch/search/suggest/completion/CategoryContextMappingTests.java
core/src/test/java/org/elasticsearch/search/suggest/completion/CompletionPostingsFormatTests.java
core/src/test/java/org/elasticsearch/search/suggest/completion/GeoContextMappingTests.java
core/src/test/java/org/elasticsearch/search/suggest/context/GeoLocationContextMappingTests.java
core/src/test/java/org/elasticsearch/threadpool/SimpleThreadPoolIT.java
core/src/test/java/org/elasticsearch/threadpool/ThreadPoolSerializationTests.java
core/src/test/java/org/elasticsearch/threadpool/ThreadPoolTypeSettingsValidatorTests.java
core/src/test/java/org/elasticsearch/threadpool/UpdateThreadPoolSettingsTests.java
core/src/test/java/org/elasticsearch/transport/netty/KeyedLockTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportPublishAddressIT.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
comments:
Merge branch 'master' into feature/ingest

time:
2015-11-09T11:24:05Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessor.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessorTests.java
comments:
geoip: don't store geoinfo if nothing can be resolved

time:
2015-11-09T11:17:44Z
class:
comments:
Docs: Added plugin-descriptor.properties to breaking changes

Closes #14569

time:
2015-11-09T11:08:56Z
class:
core/src/main/java/org/elasticsearch/common/xcontent/XContentFactory.java
core/src/test/java/org/elasticsearch/common/xcontent/XContentFactoryTests.java
comments:
Merge branch 'pr/14611'

time:
2015-11-09T11:02:39Z
class:
core/src/main/java/org/elasticsearch/common/xcontent/XContentFactory.java
comments:
Merge pull request #14472 from jpountz/fix/simplify_xcontent_detection

Simplify XContent detection.

time:
2015-11-09T11:00:03Z
class:
core/src/main/java/org/elasticsearch/common/xcontent/XContentFactory.java
comments:
Simplify XContent detection.

Currently we duplicate the logic for BytesReferences and InputStreams.

time:
2015-11-09T10:52:58Z
class:
comments:
Merge pull request #14474 from jpountz/doc/search_body_fields_warning

Add a warning about fields vs. source filtering.

time:
2015-11-09T10:40:13Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsParser.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TopHitsIT.java
comments:
Merge pull request #14597 from wbowling/tophitsbuilder-addfield

Put method addField on TopHitsBuilder

time:
2015-11-09T10:19:54Z
class:
core/src/main/java/org/elasticsearch/common/xcontent/XContentFactory.java
core/src/test/java/org/elasticsearch/common/xcontent/XContentFactoryTests.java
comments:
XContentFactory.xContentType: allow for possible UTF-8 BOM for JSON XContentType

Fixes #14442

time:
2015-11-09T10:01:20Z
class:
comments:
Build: Fix dev-tools/update_lucene.sh to use the new gradle build.

time:
2015-11-09T02:23:37Z
class:
core/src/main/java/org/elasticsearch/bootstrap/JNACLibrary.java
core/src/main/java/org/elasticsearch/bootstrap/JNANatives.java
core/src/main/java/org/elasticsearch/bootstrap/Seccomp.java
core/src/test/java/org/elasticsearch/index/store/IndexStoreTests.java
comments:
Merge pull request #14609 from rmuir/32bit

fixup issues with 32-bit jvm

time:
2015-11-09T02:08:08Z
class:
core/src/main/java/org/elasticsearch/bootstrap/JNACLibrary.java
core/src/main/java/org/elasticsearch/bootstrap/JNANatives.java
core/src/main/java/org/elasticsearch/bootstrap/Seccomp.java
core/src/test/java/org/elasticsearch/index/store/IndexStoreTests.java
comments:
fixup issues with 32-bit jvm

If you run tests under a 32-bit jvm, you will get a test failure in IndexStoreTests,
the logic there is wrong in the case of 32-bit (its NIOFSDirectory on linux).

Also if mlockall fails, you'll see huge bogus values (because of use of `long` instead of `NativeLong`)

finally add seccomp support for 32 bit too, and clean up all its `long` usage as well.

time:
2015-11-08T22:24:45Z
class:
comments:
Revert "Removed redundant docs/community-clients/index.asciidoc"

These docs weren't redundant after all.

This reverts commit 22d163692cbb6857d352cd91a1b5c49ac2318fbc.

time:
2015-11-08T21:12:26Z
class:
comments:
Merge pull request #14391 from jurgc11/patch-2

Add community plugin

time:
2015-11-08T20:53:56Z
class:
comments:
Moved a breaking change to the correct section. Closes #14510

time:
2015-11-08T20:48:40Z
class:
comments:
Merge pull request #14509 from elastic/markw/typo-parentchild-releasenotes-14508

Fixed minor typo

time:
2015-11-08T20:45:38Z
class:
comments:
Removed redundant docs/community-clients/index.asciidoc

time:
2015-11-08T20:41:55Z
class:
comments:
Merge pull request #14504 from sckott/add-elasticdsl

Added new community R client, edited old entry

time:
2015-11-08T17:36:31Z
class:
comments:
Merge pull request #14431 from arinto/patch-1

[DOCS] Missing tribe nodes' short description

time:
2015-11-08T17:07:19Z
class:
comments:
replacing run.bat and run.sh with gradle run

run.sh and run.bat were calling out to the old maven build system.
This is no longer in place, so we've created new gradle tasks to
start an elasticsearch node from the current codebase.

fixed #14423

time:
2015-11-08T11:59:07Z
class:
comments:
Docs: Made the list of breaking changes in each version more obvious

time:
2015-11-08T11:43:24Z
class:
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ClusterRebalanceRoutingTests.java
comments:
add more logging to test for better readability

time:
2015-11-08T11:40:05Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocators.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ClusterRebalanceRoutingTests.java
comments:
Instead of relying on the in-flight number use a boolean flag on the
allocation to ensure that we skip rebalance if we have not processed
all pending shard / store fetches.

time:
2015-11-08T08:51:14Z
class:
comments:
Docs: Fixed bad link in completion suggester

time:
2015-11-08T07:31:26Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/PluginManagerTests.java
comments:
apply a few post-merge cleanups

time:
2015-11-08T07:19:50Z
class:
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/AttachmentMapper.java
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/MapperAttachmentsPlugin.java
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/TikaImpl.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/AttachmentUnitTestCase.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/DateAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/EncryptedDocMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/LanguageDetectionAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MapperAttachmentsRestIT.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MapperTestUtils.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MetadataMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MultifieldAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/SimpleAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/StandaloneRunner.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/TikaDocTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/TikaImplTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/VariousDocTests.java
comments:
Merge branch 'mapper_migrate' into migrate-mapper-attachments

time:
2015-11-08T07:09:36Z
class:
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/AttachmentMapper.java
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/MapperAttachmentsPlugin.java
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/TikaImpl.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/AttachmentUnitTestCase.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/DateAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/EncryptedDocMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/LanguageDetectionAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MapperAttachmentsRestIT.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MapperTestUtils.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MetadataMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MultifieldAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/SimpleAttachmentMapperTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/StandaloneRunner.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/TikaDocTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/TikaImplTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/VariousDocTests.java
comments:
migrate mapper attachments

time:
2015-11-08T06:39:46Z
class:
src/main/java/org/elasticsearch/mapper/attachments/TikaImpl.java
comments:
move import under license header

time:
2015-11-08T06:37:15Z
class:
src/main/java/org/elasticsearch/mapper/attachments/TikaImpl.java
comments:
Lockdown parsers with minimal privileges

There have been security issues with tika's parsers in the past...
let's take away the network, filesystem, everything we can.

In some way, parsing these docs is a lot like executing untrusted code.

I know its not pretty, but I think its worth it.

time:
2015-11-08T05:35:28Z
class:
src/main/java/org/elasticsearch/mapper/attachments/AttachmentMapper.java
comments:
remove unused imports

time:
2015-11-08T05:31:21Z
class:
src/main/java/org/elasticsearch/mapper/attachments/TikaImpl.java
src/test/java/org/elasticsearch/mapper/attachments/TikaDocTests.java
comments:
Merge pull request #187 from rmuir/tika_tests

Add test documents from tika test suite

time:
2015-11-08T05:22:36Z
class:
src/main/java/org/elasticsearch/mapper/attachments/TikaImpl.java
src/test/java/org/elasticsearch/mapper/attachments/TikaDocTests.java
comments:
Add test documents from tika test suite

This patch adds a zip of about 200 files from tika's test suite,
and we assert some content comes back from each. This is a good exercise
of the various formats.

I removed any huge files to try to keep size reasonable, but we want
a bit of a variety so we know stuff is working.

I fixed issues with the parser config by running this.

time:
2015-11-08T03:37:41Z
class:
src/main/java/org/elasticsearch/mapper/attachments/AttachmentMapper.java
src/main/java/org/elasticsearch/mapper/attachments/TikaImpl.java
src/test/java/org/elasticsearch/mapper/attachments/TikaImplTests.java
src/test/java/org/elasticsearch/mapper/attachments/VariousDocTests.java
comments:
Merge pull request #186 from rmuir/reduce_surface_area

Reduce surface area of mapper attachments:

time:
2015-11-08T03:09:47Z
class:
comments:
remove unnecessary file

time:
2015-11-08T02:00:00Z
class:
src/main/java/org/elasticsearch/mapper/attachments/AttachmentMapper.java
src/main/java/org/elasticsearch/mapper/attachments/TikaImpl.java
src/test/java/org/elasticsearch/mapper/attachments/TikaImplTests.java
src/test/java/org/elasticsearch/mapper/attachments/VariousDocTests.java
comments:
Reduce surface area of mapper attachments:

this removes a lot of obscure parsers, and leaves us with the basics.

This includes at least all of the formats listed on
https://github.com/elastic/elasticsearch-mapper-attachments/issues/163

I will start adding tests for each one of these document formats,
and take it as it goes and see what trouble we run into.

Closes #163

time:
2015-11-08T01:19:20Z
class:
comments:
Merge pull request #14604 from rjernst/enforce_plugin_name

Enforce name is set for all plugins

time:
2015-11-08T00:57:11Z
class:
comments:
Build: Enforce name is set for all plugins

The plugin name currently defaults to the gradle project name. But the
gradle project name for standalone repo (like an external plugin would
be) defaults to the directory name of the repo. This is trappy, since it
depends on how the repo was checked out.

This change enforces the plugin name is always set.

closes #14603

time:
2015-11-07T23:22:28Z
class:
core/src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestContextParser.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestParseElement.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestParser.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
core/src/main/java/org/elasticsearch/search/suggest/term/TermSuggestParser.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggester.java
comments:
fix conflicts from merge

time:
2015-11-07T23:13:36Z
class:
src/main/java/org/elasticsearch/mapper/attachments/AttachmentMapper.java
src/main/java/org/elasticsearch/mapper/attachments/MapperAttachmentsPlugin.java
src/main/java/org/elasticsearch/plugin/mapper/attachments/tika/LocaleChecker.java
src/test/java/org/elasticsearch/mapper/attachments/AttachmentUnitTestCase.java
src/test/java/org/elasticsearch/mapper/attachments/DateAttachmentMapperTests.java
src/test/java/org/elasticsearch/mapper/attachments/EncryptedDocMapperTests.java
src/test/java/org/elasticsearch/mapper/attachments/LanguageDetectionAttachmentMapperTests.java
src/test/java/org/elasticsearch/mapper/attachments/MapperAttachmentsRestIT.java
src/test/java/org/elasticsearch/mapper/attachments/MapperTestUtils.java
src/test/java/org/elasticsearch/mapper/attachments/MetadataMapperTests.java
src/test/java/org/elasticsearch/mapper/attachments/MultifieldAttachmentMapperTests.java
src/test/java/org/elasticsearch/mapper/attachments/SimpleAttachmentMapperTests.java
src/test/java/org/elasticsearch/mapper/attachments/StandaloneRunner.java
src/test/java/org/elasticsearch/mapper/attachments/VariousDocTests.java
comments:
Merge pull request #185 from rmuir/fix_security_exceptions

Fix security problems in mapper-attachments.

time:
2015-11-07T23:13:05Z
class:
comments:
be explicit about name and link to bugzilla for the POI issue

time:
2015-11-07T22:50:56Z
class:
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionFieldStats.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggester.java
comments:
fix comments and throw ElasticsearchException when we fail to report fst index size

time:
2015-11-07T22:50:56Z
class:
core/src/main/java/org/elasticsearch/search/suggest/completion/context/CategoryContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/CategoryQueryContext.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/GeoContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/GeoQueryContext.java
core/src/test/java/org/elasticsearch/search/suggest/ContextCompletionSuggestSearchIT.java
comments:
add query context builders

time:
2015-11-07T22:50:55Z
class:
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionFieldStats.java
comments:
remove nocommit

time:
2015-11-07T22:50:55Z
class:
core/src/main/java/org/elasticsearch/search/suggest/completion/context/GeoContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/GeoQueryContext.java
core/src/test/java/org/elasticsearch/search/suggest/ContextCompletionSuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/completion/GeoContextMappingTests.java
comments:
add back awaitfix tests

time:
2015-11-07T22:50:55Z
class:
core/src/main/java/org/elasticsearch/common/xcontent/ObjectParser.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestParser.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestionContext.java
core/src/test/java/org/elasticsearch/common/xcontent/ObjectParserTests.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/ContextCompletionSuggestSearchIT.java
comments:
more parsers

time:
2015-11-07T22:48:45Z
class:
src/main/java/org/elasticsearch/mapper/attachments/AttachmentMapper.java
comments:
remove unnecessary unboxing, we do that as impl detail in parseTika

time:
2015-11-07T22:47:46Z
class:
core/src/main/java/org/elasticsearch/common/xcontent/ObjectParser.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestParser.java
comments:
add parsers

time:
2015-11-07T22:46:28Z
class:
core/src/main/java/org/elasticsearch/search/suggest/Suggest.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionFieldStats.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestParser.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggester.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestion.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestionBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestionContext.java
comments:
some basic cleanups

time:
2015-11-07T22:46:27Z
class:
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestParser.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestionBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestionContext.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/CategoryContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/CategoryQueryContext.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/ContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/ContextMappings.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/GeoContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/GeoQueryContext.java
core/src/test/java/org/elasticsearch/search/suggest/ContextCompletionSuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/completion/CategoryContextMappingTests.java
core/src/test/java/org/elasticsearch/search/suggest/completion/GeoContextMappingTests.java
comments:
cut over to using ObjectParser for context mappings

time:
2015-11-07T22:46:27Z
class:
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggester.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestionBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestionContext.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/ContextMapping.java
comments:
added FuzzyOptionsBuilder javadocs and cleanups

time:
2015-11-07T22:46:27Z
class:
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XFuzzySuggester.java
core/src/main/java/org/elasticsearch/index/codec/PerFieldMappingPostingFormatCodec.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/RegexpFlag.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestBuilders.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestContextParser.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestParseElement.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestionSearchContext.java
core/src/main/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProvider.java
core/src/main/java/org/elasticsearch/search/suggest/completion/Completion090PostingsFormat.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionFieldStats.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestParser.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggester.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestion.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestionBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestionContext.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestionFuzzyBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionTokenStream.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/CategoryContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/CategoryQueryContext.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/ContextBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/ContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/ContextMappings.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/GeoContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/GeoQueryContext.java
core/src/main/java/org/elasticsearch/search/suggest/context/CategoryContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/context/ContextBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/context/ContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/context/GeolocationContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
core/src/main/java/org/elasticsearch/search/suggest/term/TermSuggestParser.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/index/mapper/completion/CompletionFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/CompletionFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldsIntegrationIT.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionTokenStreamTests.java
core/src/test/java/org/elasticsearch/search/suggest/ContextCompletionSuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/ContextSuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProviderV1.java
core/src/test/java/org/elasticsearch/search/suggest/completion/CategoryContextMappingTests.java
core/src/test/java/org/elasticsearch/search/suggest/completion/CompletionPostingsFormatTests.java
core/src/test/java/org/elasticsearch/search/suggest/completion/GeoContextMappingTests.java
core/src/test/java/org/elasticsearch/search/suggest/context/GeoLocationContextMappingTests.java
comments:
Completion Suggester V2

The completion suggester provides auto-complete/search-as-you-type functionality.
This is a navigational feature to guide users to relevant results as they are typing, improving search precision.
It is not meant for spell correction or did-you-mean functionality like the term or phrase suggesters.

The completions are indexed as a weighted FST (finite state transducer) to provide fast Top N prefix-based
searches suitable for serving relevant results as a user types.

closes #10746

time:
2015-11-07T22:45:16Z
class:
src/main/java/org/elasticsearch/mapper/attachments/AttachmentMapper.java
src/main/java/org/elasticsearch/mapper/attachments/MapperAttachmentsPlugin.java
src/main/java/org/elasticsearch/plugin/mapper/attachments/tika/LocaleChecker.java
src/test/java/org/elasticsearch/mapper/attachments/AttachmentUnitTestCase.java
src/test/java/org/elasticsearch/mapper/attachments/DateAttachmentMapperTests.java
src/test/java/org/elasticsearch/mapper/attachments/EncryptedDocMapperTests.java
src/test/java/org/elasticsearch/mapper/attachments/LanguageDetectionAttachmentMapperTests.java
src/test/java/org/elasticsearch/mapper/attachments/MapperAttachmentsRestIT.java
src/test/java/org/elasticsearch/mapper/attachments/MapperTestUtils.java
src/test/java/org/elasticsearch/mapper/attachments/MetadataMapperTests.java
src/test/java/org/elasticsearch/mapper/attachments/MultifieldAttachmentMapperTests.java
src/test/java/org/elasticsearch/mapper/attachments/SimpleAttachmentMapperTests.java
src/test/java/org/elasticsearch/mapper/attachments/StandaloneRunner.java
src/test/java/org/elasticsearch/mapper/attachments/VariousDocTests.java
comments:
Fix security problems in mapper-attachments.

Many of the tests were not running, or did not check the exceptions.
I renamed all tests to meet *Tests* so they run, and assert exception messages.

Also because we must (currently) invoke tika with additional privileges, I added
the security logic, and fixed unit testing to call our static method directly.

This must be package private for security reasons, i simply put everything in
org.elasticsearch.mapper.attachments package.

I upgraded tika to the latest, so we are up to date, and removed logic around
tika == null and old locale issues.

time:
2015-11-07T21:11:05Z
class:
src/main/java/org/elasticsearch/index/mapper/attachment/AttachmentMapper.java
src/main/java/org/elasticsearch/index/mapper/attachment/RegisterAttachmentType.java
src/main/java/org/elasticsearch/plugin/mapper/attachments/AttachmentsIndexModule.java
src/main/java/org/elasticsearch/plugin/mapper/attachments/MapperAttachmentsPlugin.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/MapperTestUtils.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/standalone/StandaloneRunner.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/DateAttachmentMapperTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/EncryptedDocMapperTest.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/LanguageDetectionAttachmentMapperTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/MetadataMapperTest.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/MultifieldAttachmentMapperTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/SimpleAttachmentMapperTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/VariousDocTest.java
comments:
Merge pull request #184 from rjernst/update_to_gradle

Build: Switch mapper attachments to gradle

time:
2015-11-07T21:09:04Z
class:
comments:
Merge pull request #14598 from rjernst/integ_test_parity

Improve integ test to match ant behavior

time:
2015-11-07T21:06:14Z
class:
comments:
Add some comments to particularly nasty groovy code

time:
2015-11-07T20:41:05Z
class:
comments:
Merge pull request #14602 from rmuir/buildSrc

add groovy build code (buildSrc/) in 'gradle eclipse'

time:
2015-11-07T20:14:00Z
class:
comments:
add groovy build code (buildSrc/) in 'gradle eclipse'

This makes it a groovy project that works in eclipse.
You will have to install a plugin for groovy language support
(I used a snapshot build from https://github.com/groovy/groovy-eclipse/wiki)

time:
2015-11-07T17:22:12Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
plugins/discovery-multicast/src/main/java/org/elasticsearch/plugin/discovery/multicast/MulticastChannel.java
plugins/discovery-multicast/src/main/java/org/elasticsearch/plugin/discovery/multicast/MulticastZenPing.java
plugins/discovery-multicast/src/test/java/org/elasticsearch/plugin/discovery/multicast/MulticastZenPingTests.java
test-framework/src/main/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
comments:
only allow code to bind to the user's configured port numbers/ranges

Random code shouldn't be listening on sockets elsewhere.

Today its the wild west, but we only need to grant access to what the user configured.

This means e.g. multicast plugin has to declare its intentions in its security.policy

Closes #14549

time:
2015-11-07T09:11:23Z
class:
comments:
Fix groupid and remove more legacy files

time:
2015-11-07T08:45:19Z
class:
comments:
Build: Improve integ test to match ant behavior

Many other improvements:
* Use spaces in ES path
* Use space in path for plugin file installation
* Use a different cwd than ES home
* Use jps to ensure process being stopped is actually elasticsearch
* Stop ES if pid file already exists
* Delete pid file when successfully killed

Also, refactored the cluster formation code to be a little more organized.

closes #14464

time:
2015-11-07T06:15:02Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsParser.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TopHitsIT.java
comments:
Put method addField on TopHitsBuilder

time:
2015-11-07T06:05:37Z
class:
comments:
rpm uses non-portable `--system` flag to `useradd`

time:
2015-11-07T03:40:58Z
class:
core/src/main/java/org/elasticsearch/Build.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/test/java/org/elasticsearch/BuildTests.java
comments:
Fix Build to correctly treat URLs and not leak a file handle.

Closes #14595

Squashed commit of the following:

commit d0b2b262e9dcdbc2aee163b9a84db082c8b5b96b
Author: Robert Muir <rmuir@apache.org>
Date:   Fri Nov 6 22:36:54 2015 -0500

    Switch to JarInputStream, to contain suppressforbidden. Also add a test that fails if path is not accessible (regardless of whether its a jar)

commit f99c1d240db23ceb2a06987b3bd69eae0229550b
Author: Robert Muir <rmuir@apache.org>
Date:   Fri Nov 6 22:16:16 2015 -0500

    remove leniency in i/o here

commit b160d4303ee81a8c9298729596ecbc893f5f8894
Author: Robert Muir <rmuir@apache.org>
Date:   Fri Nov 6 21:58:21 2015 -0500

    Fix Build to correctly treat URLs and to not leak a file handle

time:
2015-11-06T22:46:19Z
class:
comments:
Remove outdated dep exclusion

time:
2015-11-06T22:07:57Z
class:
src/main/java/org/elasticsearch/index/mapper/attachment/AttachmentMapper.java
src/main/java/org/elasticsearch/index/mapper/attachment/RegisterAttachmentType.java
src/main/java/org/elasticsearch/plugin/mapper/attachments/AttachmentsIndexModule.java
src/main/java/org/elasticsearch/plugin/mapper/attachments/MapperAttachmentsPlugin.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/MapperTestUtils.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/standalone/StandaloneRunner.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/DateAttachmentMapperTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/EncryptedDocMapperTest.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/LanguageDetectionAttachmentMapperTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/MetadataMapperTest.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/MultifieldAttachmentMapperTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/SimpleAttachmentMapperTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/VariousDocTest.java
comments:
Build: Switch mapper attachments to gradle

This change switches the plugin to use gradle as the build system, and
updates the master branch to track elasticsearch master.

time:
2015-11-06T19:55:47Z
class:
comments:
Merge pull request #14592 from rjernst/eclipse_cycles

Build: Fix eclipse generation to add a core-tests projects

time:
2015-11-06T19:45:32Z
class:
comments:
Remove outdated projectsPrefix setup

time:
2015-11-06T19:41:18Z
class:
comments:
Build: Fix eclipse generation to add a core-tests projects

Eclipse does not have the ability to differentiate test dependencies
from main dependencies. This causes what looks like a circular
dependency through test-framework. This change sets up an additional
core-tests project for eclipse only, which removes this problem.

time:
2015-11-06T19:18:01Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocators.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ClusterRebalanceRoutingTests.java
test-framework/src/main/java/org/elasticsearch/test/ESAllocationTestCase.java
test-framework/src/main/java/org/elasticsearch/test/gateway/NoopGatewayAllocator.java
comments:
Only allow rebalance operations to run if all shard store data is available

This commit prevents running rebalance operations if the store allocator is
still fetching async shard / store data to prevent pre-mature rebalance decisions
which need to be reverted once shard store data is available. This is typically happening
on rolling restarts which can make those restarts extremely painful.

Closes #14387

time:
2015-11-06T19:14:04Z
class:
core/src/main/java/org/elasticsearch/index/mapper/MapperBuilders.java
core/src/main/java/org/elasticsearch/index/mapper/geo/BaseGeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperLegacy.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/IndexedGeoBoundingBoxQuery.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/SimpleExternalMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoEncodingTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeohashMappingGeoPointTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
comments:
Add GeoPointV2 Field Mapping

This commit adds the abstraction layer to GeoPointFieldMapper needed to cut over to Lucene 5.4's new GeoPointField type while maintaining backward compatibility with 'legacy' geo_point indexes.

time:
2015-11-06T19:08:29Z
class:
comments:
Merge pull request #14590 from rjernst/use_projects_prefix

Use projectsPrefix in project references for vagrant tests

time:
2015-11-06T18:52:19Z
class:
comments:
Build: Use projectsPrefix in project references for vagrant tests

It is important we use projectsPrefix whenever addinga direct project
dependency, so that attachment still works.

time:
2015-11-06T18:21:30Z
class:
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/delete/DeletePipelineTransportAction.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/put/PutPipelineTransportAction.java
comments:
make sure headers etc. are passed over to inner index and delete requests in put/delete pipeline

time:
2015-11-06T17:33:28Z
class:
comments:
Merge pull request #14588 from jasontedor/enforce-java-8

Enforce Java 8 in Gradle builds

time:
2015-11-06T17:28:31Z
class:
comments:
Cleaner version check

time:
2015-11-06T17:10:36Z
class:
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
comments:
Merge pull request #14586 from jasontedor/transport-broadcast-by-node-action-master-failure

Handle shards assigned to nodes that are not in the cluster state

time:
2015-11-06T17:09:30Z
class:
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
comments:
Handle shards assigned to nodes that are not in the cluster state

This commit addresses an issue in TransportBroadcastByNodeAction.
Namely, if in between a master leaving the cluster and a new one being
assigned, a request that relies on TransportBroadcastByNodeAction
(e.g., an indices stats request) is issued,
TransportBroadcastByNodeAction might attempt to send a request to a
node that is no longer in the local node’s cluster state.

The exact circumstances that lead to this are as follows. When the
master leaves the cluster and another node’s master fault detection
detects this, the local node will update its local cluster state to no
longer include the master node. However, the routing table will not be
updated. This means that in the preparation for sending the requests in
TransportBroadcastByNodeAction, we need to check that not only is a
shard assigned, but also that it is assigned to a node that is still in
the local node’s cluster state.

This commit adds such a check to the constructor of
TransportBroadcastByNodeAction. A new unit test is added that checks
that no request is sent to the master node in such a situation; this
test fails with a NullPointerException without the fix. Additionally,
the unit test TransportBroadcastByNodeActionTests#testResultAggregation
is updated to also simulate a master failure. This updated test also
fails prior to the fix.

Closes #14584

time:
2015-11-06T16:48:44Z
class:
comments:
added docs

time:
2015-11-06T16:39:14Z
class:
comments:
Enforce Java 8 in Gradle builds

This commit forces builds with Gradle to require at least Java 8.

Closes #14499

time:
2015-11-06T16:22:17Z
class:
comments:
Revert "Build: Fail integ test if elasticsearch fails to start on windows"

This reverts commit f974d5e47041c3910dc136bb374937daa1a06b34.

Apprently spawn does not support failonerror in ant.

time:
2015-11-06T15:38:33Z
class:
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeAction.java
comments:
Introduce inner class AsyncSingleAction to store state used across retry invocations

time:
2015-11-06T15:24:27Z
class:
test-framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
comments:
[TEST] InternalCluster.restartRandomDataNode should restart a *data* node
very good catch :)

yikes.


time:
2015-11-06T15:10:22Z
class:
plugins/ingest/src/test/java/org/elasticsearch/ingest/DatePipelineIT.java
comments:
added REST test

time:
2015-11-06T14:44:20Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/ConfigurationUtils.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/DateProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/GrokProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/simple/SimpleProcessor.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/date/DateProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessorFactoryTests.java
comments:
added factory tests

time:
2015-11-06T12:04:51Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/Processor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/GrokProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/simple/SimpleProcessor.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/grok/GrokProcessorFactoryTests.java
comments:
Merge branch 'feature/ingest' into ingest/date

time:
2015-11-06T11:53:20Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/Processor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/GrokProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/simple/SimpleProcessor.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/grok/GrokProcessorFactoryTests.java
comments:
Add generic type to Processor.Factory and rename Geo*Tests to GeoIp*Tests

time:
2015-11-06T11:08:14Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Pipeline.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/ConfigurationUtils.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/GrokProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/simple/SimpleProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestPlugin.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/PipelineStore.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/rest/IngestRestFilter.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilter.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/put/PutPipelineTransportAction.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/IngestClientIT.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/PipelineFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/geoip/GeoProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/grok/GrokProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilterTests.java
comments:
Merge branch 'feature/ingest' into ingest/date

time:
2015-11-06T11:05:30Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/DateParser.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/DateParserFactory.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/DateProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/ISO8601DateParser.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/JodaPatternDateParser.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/TAI64NDateParser.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/UnixDateParser.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/UnixMsDateParser.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/date/DateParserTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/date/DateProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/date/ISO8601DateParserTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/date/JodaPatternDateParserTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/date/TAI64NDateParserTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/date/UnixDateParserTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/date/UnixMsDateParserTests.java
comments:
unified date parser tests in a single test class, added more tests for date processor

time:
2015-11-06T11:02:33Z
class:
comments:
Mapper attachments plugin name is incorrect

Fix integration tests
Add a new integration test which checks the plugin name

Closes #183.

(cherry picked from commit a9d210c7a468fb787797bd213c4818168b909597)
(cherry picked from commit 63baaf0)
(cherry picked from commit d850298)

time:
2015-11-06T10:18:39Z
class:
comments:
Mapper attachments plugin name is incorrect

It used to be `mapper-attachements` but it's now `elasticsearch-mapper-attachments`.
We need to change it to `mapper-attachements`.

Closes #183.

time:
2015-11-06T10:11:28Z
class:
plugins/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovySecurityTests.java
comments:
Tests: make sure to load timezones in parent classloader

When GroovySecurityTests are run before any other test using
time zones, joda ZoneInfoProvider fails to load the time zones
correctly and never tries again later. This makes sure we load it
correctly on startup.

Relates to #14524

time:
2015-11-06T09:17:05Z
class:
core/src/main/java/org/elasticsearch/http/BindHttpException.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportPublishAddressIT.java
comments:
Merge pull request #14535 from ywelsch/fix/bound-vs-publish-port

Port of publishAddress should match port of corresponding boundAddress

time:
2015-11-06T09:12:10Z
class:
core/src/main/java/org/elasticsearch/http/BindHttpException.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportPublishAddressIT.java
comments:
Port of publishAddress should match port of corresponding boundAddress

Closes #14535
Closes #14503
Closes #14514
Closes #14513
Closes #14476

time:
2015-11-06T08:18:23Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
[TEST] Add test only API that allows to pass the inactive time in NS directly

if we set the inactive time for the shard via API the entire test if fully time
dependent and might fail if we concurrently check if the shard is inactive
while the document we are indexing is in-flight.

time:
2015-11-06T02:34:07Z
class:
core/src/main/java/org/elasticsearch/Build.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCLIParser.java
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/rest/action/main/RestMainAction.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapCliParserTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
comments:
Merge pull request #14564 from jasontedor/restore-build-properties

Restore build properties

time:
2015-11-06T02:30:04Z
class:
core/src/main/java/org/elasticsearch/Build.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCLIParser.java
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/rest/action/main/RestMainAction.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapCliParserTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
comments:
Restore build properties

This commit restores the build properties provided in
org.elasticsearch.Build. This class previously obtained the build hash
and timestamp from a resource es-build.properties that was included in
the jar and produced by the Maven resources plugin. After the switch to
Gradle, the production of this file was lost and these build properties
defaulted to “NA” in all instances.

The most important place that the build hash is used is in the plugin
manager to determine the URL of staging artifacts for plugins.

The build hash is also used in several responses including the /_nodes
response and the response to HTTP GET requests on the root path.

These properties can now be obtained from the jar manifest as they are
currently placed there by the gradle-info plugin. However, only the
short hash is provided. We now read the manifest for these properties
and no longer provide the full hash in responses to HTTP GET requests
on the root path.

time:
2015-11-05T21:20:23Z
class:
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
[TEST] mark test awaitsfix

time:
2015-11-05T21:04:48Z
class:
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
comments:
force check after X bytes indexed

time:
2015-11-05T19:29:06Z
class:
comments:
Merge pull request #14531 from nik9000/gradle_vagrant

Gradle-ify vagrant tests

time:
2015-11-05T19:28:30Z
class:
comments:
[test] Gradle-ify vagrant tests

This gets the tar and tar_plugins tests working in gradle. It does so by
adding a subproject, qa/vagrant, which adds the following tasks:

Verification
------------
checkPackages - Check the packages against a representative sample of the
                linux distributions we have in our Vagrantfile
checkPackagesAllDistros - Check the packages against all the linux
                          distributions we have in our Vagrantfile

Package Verification
--------------------
checkCentos6 - Run packaging tests against centos-6
checkCentos7 - Run packaging tests against centos-7
checkDebian8 - Run packaging tests against debian-8
checkFedora22 - Run packaging tests against fedora-22
checkOel7 - Run packaging tests against oel-7
checkOpensuse13 - Run packaging tests against opensuse-13
checkSles12 - Run packaging tests against sles-12
checkUbuntu1204 - Run packaging tests against ubuntu-1204
checkUbuntu1404 - Run packaging tests against ubuntu-1404
checkUbuntu1504 - Run packaging tests against ubuntu-1504

Vagrant
-------
smokeTestCentos6 - Smoke test the centos-6 VM
smokeTestCentos7 - Smoke test the centos-7 VM
smokeTestDebian8 - Smoke test the debian-8 VM
smokeTestFedora22 - Smoke test the fedora-22 VM
smokeTestOel7 - Smoke test the oel-7 VM
smokeTestOpensuse13 - Smoke test the opensuse-13 VM
smokeTestSles12 - Smoke test the sles-12 VM
smokeTestUbuntu1204 - Smoke test the ubuntu-1204 VM
smokeTestUbuntu1404 - Smoke test the ubuntu-1404 VM
smokeTestUbuntu1504 - Smoke test the ubuntu-1504 VM
vagrantHaltCentos6 - Shutdown the vagrant VM running centos-6
vagrantHaltCentos7 - Shutdown the vagrant VM running centos-7
vagrantHaltDebian8 - Shutdown the vagrant VM running debian-8
vagrantHaltFedora22 - Shutdown the vagrant VM running fedora-22
vagrantHaltOel7 - Shutdown the vagrant VM running oel-7
vagrantHaltOpensuse13 - Shutdown the vagrant VM running opensuse-13
vagrantHaltSles12 - Shutdown the vagrant VM running sles-12
vagrantHaltUbuntu1204 - Shutdown the vagrant VM running ubuntu-1204
vagrantHaltUbuntu1404 - Shutdown the vagrant VM running ubuntu-1404
vagrantHaltUbuntu1504 - Shutdown the vagrant VM running ubuntu-1504
vagrantSmokeTest - Smoke test some representative distros from the Vagrantfile
vagrantSmokeTestAllDistros - Smoke test all distros from the Vagrantfile
vagrantUpCentos6 - Startup a vagrant VM running centos-6
vagrantUpCentos7 - Startup a vagrant VM running centos-7
vagrantUpDebian8 - Startup a vagrant VM running debian-8
vagrantUpFedora22 - Startup a vagrant VM running fedora-22
vagrantUpOel7 - Startup a vagrant VM running oel-7
vagrantUpOpensuse13 - Startup a vagrant VM running opensuse-13
vagrantUpSles12 - Startup a vagrant VM running sles-12
vagrantUpUbuntu1204 - Startup a vagrant VM running ubuntu-1204
vagrantUpUbuntu1404 - Startup a vagrant VM running ubuntu-1404
vagrantUpUbuntu1504 - Startup a vagrant VM running ubuntu-1504

It does not make the "check" task depend on "checkPackages" so running the
vagrant tests is still optional. They are slow and depend on vagrant and
virtualbox.

The Package Verification tasks are useful for testing individual distros.

The Vagrant tasks are listed in `gradle tasks` primarily for discoverability.

time:
2015-11-05T19:18:49Z
class:
comments:
[docs] Fix download link

time:
2015-11-05T18:21:27Z
class:
core/src/main/java/org/elasticsearch/common/geo/GeoUtils.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
comments:
Add support for Lucene 5.4 GeoPoint queries

This commit adds query support for Lucene 5.4 GeoPointField type along with backward compatibility for (soon to be) "legacy" geo_point indexes.

time:
2015-11-05T17:40:04Z
class:
comments:
[DOCS] Update version info in README

time:
2015-11-05T17:39:01Z
class:
comments:
Merge branch 'pr/14427'

time:
2015-11-05T17:37:26Z
class:
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
[TEST] use TRACE Logging for syncFlush tests

time:
2015-11-05T17:27:34Z
class:
comments:
Update plugin-script.asciidoc

It is better not to show lang-groovy plugin in the example, as it is not used since elasticsearch 1.4.0

time:
2015-11-05T16:38:29Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Pipeline.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/ConfigurationUtils.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/GrokProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/simple/SimpleProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/PipelineStore.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/put/PutPipelineTransportAction.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/PipelineFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/geoip/GeoProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/grok/GrokProcessorFactoryTests.java
comments:
Enforce strict pipeline configuration

Closes #14552

time:
2015-11-05T16:15:44Z
class:
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestPlugin.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/rest/IngestRestFilter.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilter.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/IngestClientIT.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilterTests.java
comments:
Merge pull request #14551 from martijnvg/ingest/rename_ingest_to_pipeline_id

rename the `ingest` parameter to `pipeline_id` parameter

time:
2015-11-05T15:50:10Z
class:
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
mark shard as active before tripper synced flush in test

time:
2015-11-05T15:39:11Z
class:
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
Mark failing test as awaits fix

time:
2015-11-05T14:06:37Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/common/unit/TimeValue.java
core/src/main/java/org/elasticsearch/index/CompositeIndexEventListener.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/NodeServicesProvider.java
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/codec/CodecService.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/shard/IndexEventListener.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityService.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/IndicesWarmer.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsFilteringIT.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/SettingsListenerIT.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/codec/CodecTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalIndexModule.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapperPlugin.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalValuesMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/RegisterExternalTypes.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/SimpleExternalMappingTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerSingleNodeTests.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerIT.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerTests.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsIT.java
plugins/jvm-example/src/main/java/org/elasticsearch/plugin/example/JvmExamplePlugin.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/index/mapper/murmur3/RegisterMurmur3FieldMapper.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/plugin/mapper/MapperMurmur3IndexModule.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/plugin/mapper/MapperMurmur3Plugin.java
plugins/mapper-size/src/main/java/org/elasticsearch/index/mapper/size/RegisterSizeFieldMapper.java
plugins/mapper-size/src/main/java/org/elasticsearch/plugin/mapper/MapperSizeIndexModule.java
plugins/mapper-size/src/main/java/org/elasticsearch/plugin/mapper/MapperSizePlugin.java
plugins/store-smb/src/main/java/org/elasticsearch/plugin/store/smb/SMBStorePlugin.java
test-framework/src/main/java/org/elasticsearch/index/MockEngineFactoryPlugin.java
test-framework/src/main/java/org/elasticsearch/test/IndexSettingsModule.java
test-framework/src/main/java/org/elasticsearch/test/MockIndexEventListener.java
test-framework/src/main/java/org/elasticsearch/test/TestSearchContext.java
test-framework/src/main/java/org/elasticsearch/test/engine/MockEngineFactory.java
test-framework/src/main/java/org/elasticsearch/test/engine/MockEngineSupportModule.java
test-framework/src/main/java/org/elasticsearch/test/store/MockFSIndexStore.java
comments:
Merge pull request #14518 from s1monw/simplify_index_level_services

Remove guice from the index level

time:
2015-11-05T13:24:04Z
class:
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
comments:
Merge pull request #14274 from rmuir/broken_code

Add workaround for JDK-8014008

time:
2015-11-05T13:05:52Z
class:
comments:
Docs: Correct docs around CONF_DIR and -Des.path.conf

time:
2015-11-05T12:16:35Z
class:
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapperPlugin.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/plugin/mapper/MapperMurmur3Plugin.java
plugins/mapper-size/src/main/java/org/elasticsearch/plugin/mapper/MapperSizePlugin.java
comments:
Simplify plugin API and fix IndexService internal allocation

time:
2015-11-05T10:18:12Z
class:
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
comments:
apply @rjernst review comments

time:
2015-11-05T10:18:11Z
class:
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
comments:
fix return value

time:
2015-11-05T10:18:11Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/common/unit/TimeValue.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerIT.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerTests.java
comments:
Move inactiveTime into IndexShard out of IndexingMemoryController

time:
2015-11-05T10:18:11Z
class:
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
comments:
fix tests

time:
2015-11-05T10:18:11Z
class:
core/src/main/java/org/elasticsearch/index/CompositeIndexEventListener.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/NodeServicesProvider.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/shard/IndexEventListener.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityService.java
core/src/main/java/org/elasticsearch/indices/IndicesWarmer.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
plugins/store-smb/src/main/java/org/elasticsearch/plugin/store/smb/SMBStorePlugin.java
comments:
decouple IndexingMemoryController from IndexShard

time:
2015-11-05T10:18:11Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/NodeServicesProvider.java
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsFilteringIT.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/SettingsListenerIT.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalIndexModule.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapperPlugin.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalValuesMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/RegisterExternalTypes.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/SimpleExternalMappingTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerSingleNodeTests.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsIT.java
plugins/jvm-example/src/main/java/org/elasticsearch/plugin/example/JvmExamplePlugin.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/index/mapper/murmur3/RegisterMurmur3FieldMapper.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/plugin/mapper/MapperMurmur3IndexModule.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/plugin/mapper/MapperMurmur3Plugin.java
plugins/mapper-size/src/main/java/org/elasticsearch/index/mapper/size/RegisterSizeFieldMapper.java
plugins/mapper-size/src/main/java/org/elasticsearch/plugin/mapper/MapperSizeIndexModule.java
plugins/mapper-size/src/main/java/org/elasticsearch/plugin/mapper/MapperSizePlugin.java
test-framework/src/main/java/org/elasticsearch/index/MockEngineFactoryPlugin.java
test-framework/src/main/java/org/elasticsearch/test/IndexSettingsModule.java
test-framework/src/main/java/org/elasticsearch/test/MockIndexEventListener.java
test-framework/src/main/java/org/elasticsearch/test/TestSearchContext.java
test-framework/src/main/java/org/elasticsearch/test/engine/MockEngineFactory.java
test-framework/src/main/java/org/elasticsearch/test/engine/MockEngineSupportModule.java
test-framework/src/main/java/org/elasticsearch/test/store/MockFSIndexStore.java
comments:
Remove guice from the index level

This commit removes guice from the index level and adds a simple extension point
to add class instances with an index-lifecycle scope.

time:
2015-11-05T10:18:10Z
class:
core/src/main/java/org/elasticsearch/index/IndexServicesProvider.java
core/src/main/java/org/elasticsearch/index/codec/CodecService.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/test/java/org/elasticsearch/index/codec/CodecTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
comments:
Make CodecService a simple per shard registry.

time:
2015-11-05T08:07:59Z
class:
comments:
Build: Fail integ test if elasticsearch fails to start on windows

time:
2015-11-05T07:59:42Z
class:
comments:
Merge pull request #14547 from rjernst/jvm_argline

Build: Add back support for tests.jvm.argline

time:
2015-11-05T07:59:01Z
class:
comments:
Build: Add back support for tests.jvm.argline

closes #14541

time:
2015-11-05T07:35:49Z
class:
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestPlugin.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/rest/IngestRestFilter.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilter.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/IngestClientIT.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilterTests.java
comments:
rename the `ingest` parameter to `pipeline_id` param, because it is more descriptive what the parameter should hold.

time:
2015-11-05T07:08:54Z
class:
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
comments:
test: don't run the second cluster with http enabled.

time:
2015-11-05T02:32:20Z
class:
comments:
colon is added

"predict"  10 => "predict" : 10

time:
2015-11-04T18:49:55Z
class:
core/src/test/java/org/elasticsearch/bootstrap/ESPolicyTests.java
core/src/test/java/org/elasticsearch/common/io/FileSystemUtilsTests.java
core/src/test/java/org/elasticsearch/plugins/PluginInfoTests.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/ESPolicyUnitTests.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/SeccompTests.java
qa/evil-tests/src/test/java/org/elasticsearch/common/cli/CheckFileCommandTests.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/PluginManagerPermissionTests.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/PluginManagerTests.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/PluginSecurityTests.java
test-framework/src/main/java/org/elasticsearch/common/io/FileTestUtils.java
test-framework/src/main/java/org/elasticsearch/plugins/PluginTestUtil.java
comments:
Merge pull request #14526 from rjernst/standalone_test

Add qa/evil-tests

time:
2015-11-04T18:28:31Z
class:
comments:
Fix standalone test to work with check, and comment out mavenLocal

time:
2015-11-04T13:56:03Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/DateProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestModule.java
comments:
adapt to changes upstream

time:
2015-11-04T13:48:24Z
class:
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/apache/lucene/search/postingshighlight/CustomPassageFormatter.java
core/src/main/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighter.java
core/src/main/java/org/apache/lucene/search/postingshighlight/Snippet.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/apache/lucene/search/vectorhighlight/CustomFieldQuery.java
core/src/main/java/org/apache/lucene/store/StoreRateLimiting.java
core/src/main/java/org/apache/lucene/util/XGeoHashUtils.java
core/src/main/java/org/apache/lucene/util/XGeoProjectionUtils.java
core/src/main/java/org/apache/lucene/util/XGeoUtils.java
core/src/main/java/org/elasticsearch/ElasticsearchCorruptionException.java
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/ElasticsearchTimeoutException.java
core/src/main/java/org/elasticsearch/ExceptionsHelper.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/ActionFuture.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/UnavailableShardsException.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/RenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/RenderSearchTemplateRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/RenderSearchTemplateRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/RenderSearchTemplateResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/TransportRenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/forcemerge/ForceMergeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/forcemerge/ForceMergeRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/forcemerge/ForceMergeRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/forcemerge/ForceMergeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/forcemerge/TransportForceMergeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/forcemerge/package-info.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/package-info.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndexShardSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/get/TransportGetSettingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndexShardStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/IndexShardUpgradeStatus.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/TransportUpgradeStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/template/RenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/template/RenderSearchTemplateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/template/RenderSearchTemplateRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/template/RenderSearchTemplateResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/template/TransportRenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java
core/src/main/java/org/elasticsearch/action/bulk/BulkResponse.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/count/CountAction.java
core/src/main/java/org/elasticsearch/action/count/CountRequest.java
core/src/main/java/org/elasticsearch/action/count/CountRequestBuilder.java
core/src/main/java/org/elasticsearch/action/count/CountResponse.java
core/src/main/java/org/elasticsearch/action/count/package-info.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/exists/ExistsAction.java
core/src/main/java/org/elasticsearch/action/exists/ExistsRequest.java
core/src/main/java/org/elasticsearch/action/exists/ExistsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/exists/ExistsResponse.java
core/src/main/java/org/elasticsearch/action/exists/ShardExistsRequest.java
core/src/main/java/org/elasticsearch/action/exists/ShardExistsResponse.java
core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
core/src/main/java/org/elasticsearch/action/exists/package-info.java
core/src/main/java/org/elasticsearch/action/explain/ExplainRequest.java
core/src/main/java/org/elasticsearch/action/explain/ExplainRequestBuilder.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/action/get/GetRequestBuilder.java
core/src/main/java/org/elasticsearch/action/get/MultiGetRequest.java
core/src/main/java/org/elasticsearch/action/get/MultiGetResponse.java
core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java
core/src/main/java/org/elasticsearch/action/get/TransportShardMultiGetAction.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/percolate/MultiPercolateResponse.java
core/src/main/java/org/elasticsearch/action/search/ClearScrollResponse.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchResponse.java
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchHelper.java
core/src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
core/src/main/java/org/elasticsearch/action/support/AdapterActionFuture.java
core/src/main/java/org/elasticsearch/action/support/QuerySourceBuilder.java
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationAction.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsResponse.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/termvectors/dfs/DfsOnlyRequest.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/main/java/org/elasticsearch/bootstrap/JNANatives.java
core/src/main/java/org/elasticsearch/bootstrap/JarHell.java
core/src/main/java/org/elasticsearch/bootstrap/Seccomp.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/client/Client.java
core/src/main/java/org/elasticsearch/client/ClusterAdminClient.java
core/src/main/java/org/elasticsearch/client/IndicesAdminClient.java
core/src/main/java/org/elasticsearch/client/Requests.java
core/src/main/java/org/elasticsearch/client/node/NodeClient.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/client/transport/support/TransportProxyClient.java
core/src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java
core/src/main/java/org/elasticsearch/cluster/ClusterInfo.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/EmptyClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/RestoreInProgress.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/action/index/MappingUpdatedAction.java
core/src/main/java/org/elasticsearch/cluster/action/shard/NoOpShardStateActionListener.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/DjbHashFunction.java
core/src/main/java/org/elasticsearch/cluster/routing/HashFunction.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/Murmur3HashFunction.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTableValidation.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/SimpleHashFunction.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ConcurrentRebalanceAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ShardsLimitAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/cluster/settings/DynamicSettings.java
core/src/main/java/org/elasticsearch/common/Table.java
core/src/main/java/org/elasticsearch/common/blobstore/fs/FsBlobContainer.java
core/src/main/java/org/elasticsearch/common/blobstore/url/URLBlobContainer.java
core/src/main/java/org/elasticsearch/common/bytes/PagedBytesReference.java
core/src/main/java/org/elasticsearch/common/cache/Cache.java
core/src/main/java/org/elasticsearch/common/cache/CacheBuilder.java
core/src/main/java/org/elasticsearch/common/cache/CacheLoader.java
core/src/main/java/org/elasticsearch/common/cache/RemovalListener.java
core/src/main/java/org/elasticsearch/common/cache/RemovalNotification.java
core/src/main/java/org/elasticsearch/common/collect/EvictingQueue.java
core/src/main/java/org/elasticsearch/common/collect/Iterators.java
core/src/main/java/org/elasticsearch/common/collect/MapBuilder.java
core/src/main/java/org/elasticsearch/common/geo/GeoPoint.java
core/src/main/java/org/elasticsearch/common/geo/GeoUtils.java
core/src/main/java/org/elasticsearch/common/geo/XShapeCollection.java
core/src/main/java/org/elasticsearch/common/inject/TypeConverterBindingProcessor.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider2.java
core/src/main/java/org/elasticsearch/common/inject/internal/MoreTypes.java
core/src/main/java/org/elasticsearch/common/inject/internal/Nullability.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/common/io/FileSystemUtils.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/logging/log4j/TerminalAppender.java
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
core/src/main/java/org/elasticsearch/common/lucene/index/ElasticsearchDirectoryReader.java
core/src/main/java/org/elasticsearch/common/lucene/index/ElasticsearchLeafReader.java
core/src/main/java/org/elasticsearch/common/lucene/search/NoopCollector.java
core/src/main/java/org/elasticsearch/common/lucene/search/Queries.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java
core/src/main/java/org/elasticsearch/common/lucene/uid/PerThreadIDAndVersionLookup.java
core/src/main/java/org/elasticsearch/common/lucene/uid/Versions.java
core/src/main/java/org/elasticsearch/common/network/InetAddresses.java
core/src/main/java/org/elasticsearch/common/network/NetworkAddress.java
core/src/main/java/org/elasticsearch/common/network/NetworkService.java
core/src/main/java/org/elasticsearch/common/network/NetworkUtils.java
core/src/main/java/org/elasticsearch/common/path/PathTrie.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/transport/TransportAddressSerializers.java
core/src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java
core/src/main/java/org/elasticsearch/common/unit/SizeValue.java
core/src/main/java/org/elasticsearch/common/unit/TimeValue.java
core/src/main/java/org/elasticsearch/common/util/CollectionUtils.java
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
core/src/main/java/org/elasticsearch/common/util/concurrent/BaseFuture.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentGenerator.java
core/src/main/java/org/elasticsearch/discovery/Discovery.java
core/src/main/java/org/elasticsearch/discovery/DiscoveryService.java
core/src/main/java/org/elasticsearch/discovery/DiscoveryStats.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
comments:
Merge branch 'feature/ingest' into ingest/date

time:
2015-11-04T09:42:24Z
class:
core/src/main/java/org/elasticsearch/gateway/GatewayService.java
comments:
Gateway: failure to update the cluster state with the recovered state should make sure it will be recovered later

We currently fail to follow the right failure paths.

See http://build-us-00.elastic.co/job/es_core_master_window-2008/2477/

Closes #14485

time:
2015-11-04T09:39:56Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
comments:
Improve some logging around master election and cluster state

Tweaks done while debugging http://build-us-00.elastic.co/job/es_core_master_window-2008/2477/

Closes #14481

time:
2015-11-04T09:34:42Z
class:
core/src/main/java/org/elasticsearch/rest/action/cat/RestSnapshotAction.java
comments:
Merge pull request #14385 from ywelsch/feature/cat-snapshots-duration

Add duration field to /_cat/snapshots

time:
2015-11-04T09:34:00Z
class:
core/src/main/java/org/elasticsearch/rest/action/cat/RestSnapshotAction.java
comments:
Add duration field to /_cat/snapshots

Closes #14385

time:
2015-11-04T08:31:12Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java
core/src/test/java/org/elasticsearch/benchmark/search/geo/GeoDistanceSearchBenchmark.java
comments:
Merge remote-tracking branch 'danielmitterdorfer/feature/12596'

time:
2015-11-04T08:29:55Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java
core/src/test/java/org/elasticsearch/benchmark/search/geo/GeoDistanceSearchBenchmark.java
comments:
Add System#exit(), Runtime#exit() and Runtime#halt() to forbidden APIs

Closes #12596

time:
2015-11-04T08:06:35Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParams.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParser.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParserTests.java
comments:
Merge remote-tracking branch 'danielmitterdorfer/fix/13132'

time:
2015-11-04T08:04:22Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParams.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParser.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParserTests.java
comments:
Geo: Allow numeric parameters enclosed in quotes for 'geohash_grid' aggregation

Originally, only numeric values were allowed for parameters of the
'geohash_grid' aggregation in contrast to other places in the REST
API.

With this commit we also allow that parameters are enclosed in quotes (i.e.
as JSON strings). Additionally, with this commit the valid range for
'precision' is enforced for the Java API and the REST API (the latter was
previously missing the check).

Closes #13132

time:
2015-11-04T07:02:29Z
class:
comments:
Fix integ test exec on windows

time:
2015-11-04T05:31:15Z
class:
core/src/test/java/org/elasticsearch/common/io/FileSystemUtilsTests.java
core/src/test/java/org/elasticsearch/plugins/PluginInfoTests.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/PluginManagerPermissionTests.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/PluginManagerTests.java
test-framework/src/main/java/org/elasticsearch/common/io/FileTestUtils.java
test-framework/src/main/java/org/elasticsearch/plugins/PluginTestUtil.java
comments:
remove the ability for code to change file permissions, this was
only needed for pluginmanager's test, and pluginmanager doesn't
even run with securitymanager yet.

time:
2015-11-04T04:29:14Z
class:
qa/evil-tests/src/test/java/org/elasticsearch/common/cli/CheckFileCommandTests.java
comments:
remove jimfs dep in tests

time:
2015-11-04T03:56:06Z
class:
comments:
Removed / from commands

time:
2015-11-04T03:54:40Z
class:
comments:
Removed / from command

time:
2015-11-04T03:46:37Z
class:
comments:
Fixed minor typo

time:
2015-11-04T02:42:22Z
class:
core/src/test/java/org/elasticsearch/bootstrap/ESPolicyTests.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/ESPolicyUnitTests.java
qa/evil-tests/src/test/java/org/elasticsearch/bootstrap/SeccompTests.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/PluginSecurityTests.java
comments:
move tests never running in jenkins to new evil tests module

time:
2015-11-03T23:46:47Z
class:
comments:
Added new community R client, edited old entry
I maintain two R clients, elastic and elasticdsl
adding entry for elasticdsl and edited elastic entry

time:
2015-11-03T21:56:49Z
class:
core/src/main/java/org/elasticsearch/common/collect/Iterators.java
comments:
Merge pull request #14497 from jasontedor/java-9-type-inference-concatenated-iterator

Fix Java 9 type inference issue

time:
2015-11-03T21:29:25Z
class:
plugins/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovySecurityTests.java
comments:
Merge pull request #14500 from rmuir/groovy_json

Add property permissions so groovy scripts can serialize json

time:
2015-11-03T20:21:55Z
class:
plugins/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovySecurityTests.java
comments:
Add property permissions so groovy scripts can serialize json

Allowing read to these properties is not really dangerous, even if
the code surrounding them is.

Closes #14488

time:
2015-11-03T20:15:40Z
class:
core/src/main/java/org/elasticsearch/common/collect/Iterators.java
comments:
Fix Java 9 type inference issue

This commit fixes a compilation issue due to modified type inference in
the latest JDK 9 early access builds. We just have to lend a helping
hand to type inference by being explicit about the type.

Closes #14496

time:
2015-11-03T19:41:32Z
class:
comments:
Merge pull request #14493 from rjernst/tar_extension

Change tar extension back to tar.gz instead of tgz

time:
2015-11-03T19:24:27Z
class:
comments:
Build: Change tar extension back to tar.gz instead of tgz

Gradle defaults to tgz extension when tar is compressed. This changes
the tar distribution back to tar.gz. Note that this also means the maven
packaging type is now tar.gz.

time:
2015-11-03T18:39:17Z
class:
plugins/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovySecurityTests.java
comments:
refactor GroovySecurityTests into a unit test.

This was basically a resurrected form of the tests for the old sandbox.
We use it to check that groovy scripts some degree of additional containment.

The other scripting plugins (javascript, python) already have this as a unit test,
its much easier to debug any problems that way.

closes #14484

time:
2015-11-03T18:35:12Z
class:
comments:
Merge pull request #14460 from rjernst/distro_tests

Add back integ tests to distributions

time:
2015-11-03T18:13:02Z
class:
comments:
Add environment vars for JAVA_HOME and ES_GC_OPTS back to integ tests

time:
2015-11-03T18:12:16Z
class:
comments:
rest test refactor

time:
2015-11-03T17:55:44Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
core/src/main/java/org/elasticsearch/monitor/os/OsInfo.java
core/src/main/java/org/elasticsearch/monitor/os/OsService.java
core/src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIT.java
core/src/test/java/org/elasticsearch/nodesinfo/SimpleNodesInfoIT.java
comments:
Merge pull request #14409 from xuzha/allocated_processors

Add os.allocated_processors stats

closes #13917

time:
2015-11-03T17:50:17Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
core/src/main/java/org/elasticsearch/monitor/os/OsInfo.java
core/src/main/java/org/elasticsearch/monitor/os/OsService.java
core/src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIT.java
core/src/test/java/org/elasticsearch/nodesinfo/SimpleNodesInfoIT.java
comments:
Add os.allocated_processors

Current processors setting is not reflected in nodes info API
("os.available_processors"). Add os.allocated_processors to shows
actual number of processors that we are using.

time:
2015-11-03T16:55:01Z
class:
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlock.java
core/src/test/java/org/elasticsearch/cluster/block/ClusterBlockTests.java
comments:
Merge pull request #14483 from jasontedor/cluster-block-to-string-dangling-comma

Fix dangling comma in ClusterBlock#toString

time:
2015-11-03T16:52:40Z
class:
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlock.java
core/src/test/java/org/elasticsearch/cluster/block/ClusterBlockTests.java
comments:
Fix dangling comma in ClusterBlock#toString

This commit address some serious health issues that could arise from a
dangerous combination of OCD, string concatentation, and dangling
commas,

time:
2015-11-03T16:29:14Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/common/ParseFieldMatcher.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexServicesProvider.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/support/InnerHitsQueryParserHelper.java
core/src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
core/src/main/java/org/elasticsearch/index/search/MatchQuery.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParametersParser.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsParseElement.java
core/src/main/java/org/elasticsearch/search/highlight/HighlighterParseElement.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/query/PostFilterParseElement.java
core/src/main/java/org/elasticsearch/search/query/QueryParseElement.java
core/src/main/java/org/elasticsearch/search/rescore/QueryRescorer.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestContextParser.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestParseElement.java
core/src/main/java/org/elasticsearch/search/suggest/Suggesters.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestParser.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestionContext.java
core/src/main/java/org/elasticsearch/search/suggest/term/TermSuggestParser.java
core/src/test/java/org/elasticsearch/index/IndexServiceTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NestedQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/plugin/CustomQueryParserIT.java
core/src/test/java/org/elasticsearch/index/search/MultiMatchQueryTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggester.java
test-framework/src/main/java/org/elasticsearch/test/TestSearchContext.java
comments:
Merge pull request #14452 from s1monw/refactor_query_shard_context

Cleanup query parsing and remove IndexQueryParserService

time:
2015-11-03T16:10:13Z
class:
core/src/main/java/org/elasticsearch/action/search/SearchPhaseExecutionException.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryAndFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryThenFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequest.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/http/HttpServer.java
core/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/indices/cache/query/terms/TermsLookup.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestThreadPoolAction.java
core/src/main/java/org/elasticsearch/search/query/FilterBinaryParseElement.java
core/src/main/java/org/elasticsearch/search/query/QueryBinaryParseElement.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/script/NativeNaiveTFIDFScoreScript.java
core/src/test/java/org/elasticsearch/common/util/concurrent/CountDownTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryIT.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/search/SearchWithRejectionsIT.java
core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringIT.java
core/src/test/java/org/elasticsearch/threadpool/SimpleThreadPoolIT.java
core/src/test/java/org/elasticsearch/threadpool/ThreadPoolSerializationTests.java
core/src/test/java/org/elasticsearch/threadpool/ThreadPoolTypeSettingsValidatorTests.java
core/src/test/java/org/elasticsearch/threadpool/UpdateThreadPoolSettingsTests.java
core/src/test/java/org/elasticsearch/transport/netty/KeyedLockTests.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/AwsEc2Service.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/AwsEc2ServiceImpl.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/discovery/ec2/AwsEc2UnicastHostsProvider.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryTests.java
plugins/lang-javascript/src/main/java/org/elasticsearch/plugin/javascript/JavaScriptPlugin.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptSecurityTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonSecurityTests.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/InternalAwsS3Service.java
test-framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Merge branch 'master' into refactor_query_shard_context

time:
2015-11-03T16:09:32Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
comments:
apply review comments

time:
2015-11-03T14:53:07Z
class:
plugins/lang-javascript/src/main/java/org/elasticsearch/plugin/javascript/JavaScriptPlugin.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptSecurityTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonSecurityTests.java
comments:
upgrade rhino for plugins/lang-javascript

the current jar is over 3 years old, we should upgrade it for bugfixes.
the current integration could be more secure: set a global policy and enforce additional (compile-time) checks

closes #14466

time:
2015-11-03T13:59:57Z
class:
core/src/main/java/org/elasticsearch/http/HttpServer.java
comments:
Fix HTML response during redirection

It misses a quote...

Closes #11374

time:
2015-11-03T13:05:45Z
class:
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/search/query/FilterBinaryParseElement.java
core/src/main/java/org/elasticsearch/search/query/QueryBinaryParseElement.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
comments:
Remove support for query_binary and filter_binary

query_binary and filter_binary are unused at this point, as we only parse on the coordinating node and the java api only holds structured java objects for queries and filters, meaning they all implement Writeable and get natively serialized.

Relates to #14308
Closes #14433

time:
2015-11-03T12:40:49Z
class:
core/src/main/java/org/elasticsearch/rest/action/cat/RestThreadPoolAction.java
comments:
Fix bug in cat thread pool

This commit fixes a bug in cat thread pool. This bug resulted from a
refactoring of the handling of thread pool types. To get the previously
displayed thread pool type from the ThreadPoolType object,
ThreadPoolType#getType needs to be called.

time:
2015-11-03T11:06:23Z
class:
core/src/main/java/org/elasticsearch/action/search/SearchPhaseExecutionException.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryAndFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryThenFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryIT.java
comments:
Merge pull request #14432 from s1monw/add_shard_failure_as_suppressed

Deduplicate cause if already contained in shard failures

time:
2015-11-03T10:48:14Z
class:
core/src/main/java/org/elasticsearch/index/query/SimpleQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTests.java
core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringIT.java
comments:
Revert fd3a46a because fix is to fragile

Reverting fix for #13884 because it was discussed to be too
fragile with respect to future changes in lucene simple query
string parsing. Undoes fix and removes test.

time:
2015-11-03T10:35:47Z
class:
core/src/test/java/org/elasticsearch/threadpool/UpdateThreadPoolSettingsTests.java
comments:
Fix test bug in UpdateThreadPoolSettingsTests.

time:
2015-11-03T10:35:28Z
class:
core/src/main/java/org/elasticsearch/action/search/SearchPhaseExecutionException.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryAndFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryThenFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryIT.java
comments:
Deduplicate cause if already contained in shard failures

If we have a shard failure on SearchPhaseExecutionException
we can deduplicate the original cause and use the more informative
ShardSearchFailure containing the shard ID etc. but we should deduplicate
the actual cause to prevent stack trace duplication.

time:
2015-11-03T10:18:00Z
class:
comments:
Docs: Add a warning about fields vs. source filtering.

Close #14470

time:
2015-11-03T09:32:44Z
class:
comments:
[Doc] Fix correct number of slashes when installing a plugin with zip file

time:
2015-11-03T06:25:58Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Pipeline.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/Processor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/GrokProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/simple/SimpleProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestModule.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/PipelineStore.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/geoip/GeoProcessorFactoryTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/PipelineExecutionServiceTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/PipelineStoreTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilterTests.java
comments:
Simplify processor creation from map of maps by folding the build and builder factory in one interface called Factory.
In tests processors can be created from the their constructors instead of builders.
In the IngestModule, register instances instead of class instances.

time:
2015-11-03T06:19:29Z
class:
comments:
Fix tar issues and build distro dependency for integ tests

time:
2015-11-03T05:31:37Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/Grok.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/GrokMatchGroup.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/GrokProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/PatternUtils.java
comments:
Merge pull request #14463 from talevy/package-protected

Make Grok-specific classes package-protected.

time:
2015-11-03T05:30:09Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/Grok.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/GrokMatchGroup.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/GrokProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/PatternUtils.java
comments:
Make Grok-specific classes package-protected.

time:
2015-11-03T05:17:10Z
class:
comments:
renamed test file

time:
2015-11-03T05:06:29Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/Processor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/geoip/DatabaseReaderService.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/geoip/GeoIpProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/simple/SimpleProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestModule.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestPlugin.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/PipelineStore.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/geoip/DatabaseReaderServiceTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/geoip/GeoProcessorBuilderTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/geoip/GeoProcessorTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/PipelineStoreTests.java
comments:
ingest: Added new `geoip` processor, that adds geographical information to documents based on an ip address.

The information is fetched from the Maxmind geolite2 database, that is embedded in the ingest plugin.

time:
2015-11-03T04:31:35Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Pipeline.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/Processor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/Grok.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/GrokMatchGroup.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/GrokProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/PatternUtils.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestModule.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/PipelineStore.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/IngestClientIT.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/grok/GrokTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/PipelineStoreTests.java
comments:
Merge pull request #14132 from talevy/ingest/grok

[WIP] Introduce the GrokProcessor

time:
2015-11-03T04:27:49Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Pipeline.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/Processor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/Grok.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/GrokMatchGroup.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/GrokProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/grok/PatternUtils.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestModule.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/PipelineStore.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/IngestClientIT.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/grok/GrokTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/PipelineStoreTests.java
comments:
Introduce the GrokProcessor

Also moved all processor classes into a subdirectory and introduced a
ConfigException class to be a catch-all for things that can go wrong
when constructing new processors with configurations that possibly throw
exceptions. The GrokProcessor loads patterns from the resources
directory.

fix resource path issue, and add rest-api-spec test for grok

fix rest-spec tests

changes: license, remove configexception, throw IOException

add more tests and fix iso8601-hour pattern

move grok patterns from resources to config

fix tests with pom changes, updated IngestClientIT with grok processor

update gradle build script for grok deps and test configuration

move config files to src/main/packaging

move Env out of Processor, fix test for src/main/packaging change

add docs

clean up test resources task

update Grok to be immutable

- Updated the Grok class to be immutable. This means that all the
  pattern bank loading is handled by an external utility class called
  PatternUtils.
- fixed tabs in the nagios patterns file's comments

time:
2015-11-03T03:14:28Z
class:
core/src/test/java/org/elasticsearch/threadpool/ThreadPoolTypeSettingsValidatorTests.java
comments:
Add missing license file to ThreadPoolTypeSettingsValidatorTests.java

time:
2015-11-03T02:17:24Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestThreadPoolAction.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/test/java/org/elasticsearch/search/SearchWithRejectionsIT.java
core/src/test/java/org/elasticsearch/threadpool/SimpleThreadPoolIT.java
core/src/test/java/org/elasticsearch/threadpool/ThreadPoolSerializationTests.java
core/src/test/java/org/elasticsearch/threadpool/ThreadPoolTypeSettingsValidatorTests.java
core/src/test/java/org/elasticsearch/threadpool/UpdateThreadPoolSettingsTests.java
test-framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Merge pull request #14367 from jasontedor/forbid-changing-thread-pool-types

Forbid changing thread pool types

time:
2015-11-03T01:52:48Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestThreadPoolAction.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/test/java/org/elasticsearch/search/SearchWithRejectionsIT.java
core/src/test/java/org/elasticsearch/threadpool/SimpleThreadPoolIT.java
core/src/test/java/org/elasticsearch/threadpool/ThreadPoolSerializationTests.java
core/src/test/java/org/elasticsearch/threadpool/ThreadPoolTypeSettingsValidatorTests.java
core/src/test/java/org/elasticsearch/threadpool/UpdateThreadPoolSettingsTests.java
test-framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Forbid changing thread pool types

This commit forbids the changing of thread pool types for any thread
pool. The motivation here is that these are expert settings with
little practical advantage.

Closes #14294, relates #2509, relates #2858, relates #5152

time:
2015-11-03T01:51:08Z
class:
comments:
Build: Add back integ tests to distributions

rpm and deb are still skipped, but this configures rest tests to run for
zip and tgz distributions

closes #14361

time:
2015-11-02T21:19:39Z
class:
comments:
Merge pull request #14454 from rjernst/plugin_props_improvements

Simplify plugin properties generation

time:
2015-11-02T20:43:05Z
class:
comments:
Build: Simplify plugin properties generation

The gradle task to generate plugin properties files now is a simple copy
with expansion (ie maven filtering). It also no longer depends on
compiling.

closes #14450

time:
2015-11-02T20:20:11Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/common/ParseFieldMatcher.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexServicesProvider.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/support/InnerHitsQueryParserHelper.java
core/src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
core/src/main/java/org/elasticsearch/index/search/MatchQuery.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParametersParser.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsParseElement.java
core/src/main/java/org/elasticsearch/search/highlight/HighlighterParseElement.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/query/FilterBinaryParseElement.java
core/src/main/java/org/elasticsearch/search/query/PostFilterParseElement.java
core/src/main/java/org/elasticsearch/search/query/QueryBinaryParseElement.java
core/src/main/java/org/elasticsearch/search/query/QueryParseElement.java
core/src/main/java/org/elasticsearch/search/rescore/QueryRescorer.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestContextParser.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestParseElement.java
core/src/main/java/org/elasticsearch/search/suggest/Suggesters.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestParser.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestionContext.java
core/src/main/java/org/elasticsearch/search/suggest/term/TermSuggestParser.java
core/src/test/java/org/elasticsearch/index/IndexServiceTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NestedQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/plugin/CustomQueryParserIT.java
core/src/test/java/org/elasticsearch/index/search/MultiMatchQueryTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggester.java
test-framework/src/main/java/org/elasticsearch/test/TestSearchContext.java
comments:
Cleanup query parsing and remove IndexQueryParserService

IndexQueryParserService is only a factory for QueryShardContext instances
which are not even bound to a shard. The service only forwards dependencies and even
references node level service directly which makes dependency seperation on shard,
index and node level hard. This commit removes the service entirely, folds the creation
of QueryShardContext into IndexShard which is it's logical place and detaches the
ClusterService needed for index name matching during query parsing with a simple predicate
interface on IndexSettings.

time:
2015-11-02T19:38:10Z
class:
comments:
Merge pull request #14447 from rjernst/ide_plugin_props

Make idea/eclipse project generation build generated resources for plugins

time:
2015-11-02T19:35:02Z
class:
comments:
Build: Make idea/eclipse project generation build generated resources for plugins

This adds a generated-resources dir that the plugin properties are
generated into. This must be outside of the build dir, since intellij
has build as "excluded".

closes #14392

time:
2015-11-02T19:19:39Z
class:
core/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/script/NativeNaiveTFIDFScoreScript.java
core/src/test/java/org/elasticsearch/common/util/concurrent/CountDownTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTests.java
core/src/test/java/org/elasticsearch/transport/netty/KeyedLockTests.java
comments:
Merge pull request #14443 from rmuir/trappy_exc

Fix auto-generated eclipse try/catch to be less trappy

time:
2015-11-02T18:09:36Z
class:
comments:
remove pom.xml from ingest plugin

time:
2015-11-02T18:03:10Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequestBuilder.java
core/src/main/java/org/elasticsearch/action/get/GetRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/QuerySourceBuilder.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequest.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/common/cache/Cache.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/analysis/ASCIIFoldingTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisRegistry.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisSettingsRequired.java
core/src/main/java/org/elasticsearch/index/analysis/AnalyzerProviderFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ApostropheFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ArabicAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ArabicNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ArabicStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ArmenianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/BasqueAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/BrazilianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/BrazilianStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/BulgarianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CJKBigramFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CJKWidthFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CatalanAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CharFilterFactoryFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ChineseAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CjkAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ClassicFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ClassicTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CommonGramsTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CustomAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CzechAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CzechStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/DanishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/DecimalDigitFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/DelimitedPayloadTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/DutchAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/DutchStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/EdgeNGramTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/EdgeNGramTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ElisionTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/EnglishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/FinnishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/FrenchAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/FrenchStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/GalicianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/GermanAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/GermanNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/GermanStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/GreekAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/HindiAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/HindiNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/HtmlStripCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/HungarianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/HunspellTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/IndicNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/IndonesianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/IrishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ItalianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/KStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeepTypesFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeepWordFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeywordAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/KeywordMarkerTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeywordTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LatvianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/LengthTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LetterTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LimitTokenCountFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LithuanianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/LowerCaseTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LowerCaseTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/MappingCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/NGramTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/NGramTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/NorwegianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/PathHierarchyTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PatternAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/PatternCaptureGroupTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PatternReplaceCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PatternReplaceTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PatternTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PersianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/PersianNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PorterStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PortugueseAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/PreBuiltAnalyzerProviderFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PreBuiltCharFilterFactoryFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PreBuiltTokenFilterFactoryFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PreBuiltTokenizerFactoryFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ReverseTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/RomanianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/RussianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/RussianStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ScandinavianFoldingFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ScandinavianNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SerbianNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ShingleTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SimpleAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/SnowballAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/SnowballTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SoraniAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/SoraniNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SpanishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StandardAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StandardHtmlStripAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StandardTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/StandardTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/StemmerOverrideTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/StemmerTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/StopAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StopTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SwedishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/SynonymTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ThaiAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ThaiTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/TokenFilterFactoryFactory.java
core/src/main/java/org/elasticsearch/index/analysis/TokenizerFactoryFactory.java
core/src/main/java/org/elasticsearch/index/analysis/TrimTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/TruncateTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/TurkishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/UAX29URLEmailTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/UniqueTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/UpperCaseTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/WhitespaceAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/WhitespaceTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/WordDelimiterTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/compound/AbstractCompoundWordTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/compound/DictionaryCompoundWordTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/compound/HyphenationCompoundWordTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/Mapping.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryParser.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/indices/analysis/HunspellService.java
core/src/main/java/org/elasticsearch/indices/analysis/IndicesAnalysisService.java
core/src/main/java/org/elasticsearch/indices/analysis/PreBuiltCacheFactory.java
core/src/main/java/org/elasticsearch/indices/cache/query/terms/TermsLookup.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/validate/query/RestValidateQueryAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/main/java/org/elasticsearch/script/ScriptContext.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/search/fetch/source/FetchSourceContext.java
core/src/test/java/org/elasticsearch/action/admin/indices/TransportAnalyzeActionTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisServiceTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisTestsHelper.java
core/src/test/java/org/elasticsearch/index/analysis/CharFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
core/src/test/java/org/elasticsearch/index/analysis/KeepFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/NGramTokenizerFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/PatternCaptureTokenFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/PreBuiltCharFilterFactoryFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/PreBuiltTokenFilterFactoryFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/PreBuiltTokenizerFactoryFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/StopAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/analysis/StopTokenFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/commongrams/CommonGramsTokenFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/filter1/MyFilterTokenFilterFactory.java
core/src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchNoneQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
core/src/test/java/org/elasticsearch/indices/IndicesModuleTests.java
core/src/test/java/org/elasticsearch/indices/analysis/DummyAnalysisBinderProcessor.java
core/src/test/java/org/elasticsearch/indices/analysis/DummyAnalysisPlugin.java
core/src/test/java/org/elasticsearch/indices/analysis/DummyIndicesAnalysis.java
core/src/test/java/org/elasticsearch/indices/analysis/DummyIndicesAnalysisModule.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/validate/SimpleValidateQueryIT.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuAnalysisBinderProcessor.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuCollationTokenFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuFoldingTokenFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuNormalizerCharFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuNormalizerTokenFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuTokenizerFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuTransformTokenFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/indices/analysis/IcuIndicesAnalysis.java
plugins/analysis-icu/src/main/java/org/elasticsearch/indices/analysis/IcuIndicesAnalysisModule.java
comments:
Merge remote-tracking branch 'upstream/master' into feature/ingest

Conflicts:
	plugins/pom.xml
	qa/smoke-test-plugins/pom.xml

time:
2015-11-02T17:05:44Z
class:
core/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/script/NativeNaiveTFIDFScoreScript.java
core/src/test/java/org/elasticsearch/common/util/concurrent/CountDownTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTests.java
core/src/test/java/org/elasticsearch/transport/netty/KeyedLockTests.java
comments:
don't discard original exception (suspiciously/possibly eclipse-generated)

time:
2015-11-02T16:58:34Z
class:
comments:
Use ${exception_var} for the case of nested generated try/catch

time:
2015-11-02T16:45:55Z
class:
comments:
Fix auto-generated eclipse try/catch to be less trappy

When generating a try-catch block, the eclipse default is something like this:

```
try {
  something();
} catch (Exception e) {
  // TODO: auto-generated stub
  e.printStackTrace();
}

which is terrible, so the ES eclipse changes this to rethrow a RuntimeException instead.

```
try {
  something();
} catch (Exception e) {
  throw new RuntimeException();
}
```

Unfortunately, this loses the original exception entirely, instead it should be:

```
try {
  something();
} catch (Exception e) {
  throw new RuntimeException(e);
}
```

time:
2015-11-02T16:39:30Z
class:
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/rest/IngestRestFilter.java
comments:
Add the ingest param to the context only if present

time:
2015-11-02T16:37:09Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Data.java
comments:
added TODO

time:
2015-11-02T16:31:18Z
class:
comments:
Merge pull request #14436 from rmuir/nukeSettings

gradle cleanEclipse should completely nuke .settings.

time:
2015-11-02T15:55:31Z
class:
comments:
disable null pointer analysis so the IDE is not crashing.

time:
2015-11-02T15:44:51Z
class:
comments:
generate complete eclipse configuration from 'gradle eclipse'

time:
2015-11-02T14:54:46Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/Processor.java
comments:
[DOCS] fixed javadocs minor typos

time:
2015-11-02T14:39:14Z
class:
comments:
gradle cleanEclipse should completely nuke .settings.

Today this will only remove `.settings/org.eclipse.jdt.core.prefs`,
leaving a bunch of stale eclipse configuration everywhere.

time:
2015-11-02T14:33:36Z
class:
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryTests.java
comments:
Fix test for ec2 discovery

See #14155

time:
2015-11-02T14:27:56Z
class:
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestPlugin.java
comments:
use existing constant to check whether client is a transport client

time:
2015-11-02T14:10:00Z
class:
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/AwsEc2Service.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/AwsEc2ServiceImpl.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/discovery/ec2/AwsEc2UnicastHostsProvider.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryTests.java
comments:
Merge branch 'chaudum-ec2-improve-disco-nodes'

time:
2015-11-02T13:52:08Z
class:
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/AwsEc2Service.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/AwsEc2ServiceImpl.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/discovery/ec2/AwsEc2UnicastHostsProvider.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryTests.java
comments:
Merge branch 'ec2-improve-disco-nodes' of https://github.com/chaudum/elasticsearch into chaudum-ec2-improve-disco-nodes

time:
2015-11-02T13:38:03Z
class:
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/InternalAwsS3Service.java
comments:
Adding US-Gov-West for S3

Follow up for #14358

time:
2015-11-02T13:32:38Z
class:
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/AwsEc2ServiceImpl.java
comments:
Merge branch 'amos6224-aws-gov-west'

time:
2015-11-02T13:32:23Z
class:
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/AwsEc2ServiceImpl.java
comments:
Merge branch 'aws-gov-west' of https://github.com/amos6224/elasticsearch-1 into amos6224-aws-gov-west

time:
2015-11-02T10:48:17Z
class:
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequest.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/indices/cache/query/terms/TermsLookup.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
comments:
Merge pull request #14255 from cbuescher/feature/add-query-level-test

Parsers should throw exception on unknown objects

time:
2015-11-02T10:39:22Z
class:
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequest.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/indices/cache/query/terms/TermsLookup.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
comments:
Query DSL: Parsers should throw exception on unknown object

This PR adds a randomized test to the query test base class
that mutates an otherwise correct query by adding an additional
object into the query hierarchy. Doing so makes the query illegal
and should trigger some kind of exception. The new test revelead
that some query parsers quietly return queries when called with
such an illegal query. Those are also fixed here.

Relates to #10974

time:
2015-11-02T10:21:20Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/QuerySourceBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/validate/query/RestValidateQueryAction.java
core/src/test/java/org/elasticsearch/validate/SimpleValidateQueryIT.java
comments:
Validate query api: move query parsing on the coordinating node

 Similarly to what we did with the search api, we can now also move query parsing on the coordinating node for the validate query api. Given that the explain api is a single shard operation (compared to search which is instead a broadcast operation), this doesn't change a lot in how the api works internally. The main benefit is that we can simplify the java api by requiring a structured query object to be provided rather than a bytes array that will get parsed on the data node. Previously if you specified a QueryBuilder it would be serialized in json format and would get reparsed on the data node, while now it doesn't go through parsing anymore (as expected), given that after the query-refactoring we are able to properly stream queries natively. Note that the WrapperQueryBuilder can be used from the java api to provide a query as a string, in that case the actual parsing of the inner query will happen on the data node.

Relates to #10217
Closes #14384

time:
2015-11-02T07:21:25Z
class:
core/src/main/java/org/apache/lucene/store/StoreRateLimiting.java
core/src/main/java/org/apache/lucene/util/XGeoHashUtils.java
core/src/main/java/org/apache/lucene/util/XGeoProjectionUtils.java
core/src/main/java/org/apache/lucene/util/XGeoUtils.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/explain/ExplainRequest.java
core/src/main/java/org/elasticsearch/action/explain/ExplainRequestBuilder.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/action/get/GetRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/action/shard/NoOpShardStateActionListener.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/common/cache/Cache.java
core/src/main/java/org/elasticsearch/common/geo/GeoPoint.java
core/src/main/java/org/elasticsearch/common/geo/XShapeCollection.java
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
core/src/main/java/org/elasticsearch/common/network/NetworkService.java
core/src/main/java/org/elasticsearch/common/network/NetworkUtils.java
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
core/src/main/java/org/elasticsearch/discovery/Discovery.java
core/src/main/java/org/elasticsearch/discovery/DiscoveryStats.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PendingClusterStateStats.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PendingClusterStatesQueue.java
core/src/main/java/org/elasticsearch/env/ESFileStore.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/main/java/org/elasticsearch/index/AbstractIndexComponent.java
core/src/main/java/org/elasticsearch/index/CompositeIndexEventListener.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexServicesProvider.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/analysis/ASCIIFoldingTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/AbstractCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/AbstractIndexAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/AbstractTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/AbstractTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/Analysis.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisRegistry.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisSettingsRequired.java
core/src/main/java/org/elasticsearch/index/analysis/ApostropheFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ArabicAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ArabicNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ArabicStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ArmenianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/BasqueAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/BrazilianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/BrazilianStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/BulgarianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CJKBigramFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CJKWidthFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CatalanAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ChineseAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CjkAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ClassicFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ClassicTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CommonGramsTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CustomAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CzechAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CzechStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/DanishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/DecimalDigitFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/DelimitedPayloadTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/DutchAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/DutchStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/EdgeNGramTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/EdgeNGramTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ElisionTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/EnglishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/FinnishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/FrenchAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/FrenchStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/GalicianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/GermanAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/GermanNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/GermanStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/GreekAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/HindiAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/HindiNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/HtmlStripCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/HungarianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/HunspellTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/IndicNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/IndonesianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/IrishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ItalianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/KStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeepTypesFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeepWordFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeywordAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/KeywordMarkerTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeywordTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LatvianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/LengthTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LetterTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LimitTokenCountFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LithuanianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/LowerCaseTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LowerCaseTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/MappingCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/NGramTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/NGramTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/NorwegianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/PathHierarchyTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PatternAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/PatternCaptureGroupTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PatternReplaceCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PatternReplaceTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PatternTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PersianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/PersianNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PorterStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PortugueseAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/PreBuiltAnalyzerProviderFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PreBuiltCharFilterFactoryFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PreBuiltTokenFilterFactoryFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PreBuiltTokenizerFactoryFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ReverseTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/RomanianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/RussianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/RussianStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ScandinavianFoldingFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ScandinavianNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SerbianNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ShingleTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SimpleAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/SnowballAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/SnowballTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SoraniAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/SoraniNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SpanishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StandardAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StandardHtmlStripAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StandardTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/StandardTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/StemmerOverrideTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/StemmerTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/StopAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StopTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SwedishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/SynonymTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ThaiAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ThaiTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/TrimTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/TruncateTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/TurkishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/UAX29URLEmailTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/UniqueTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/UpperCaseTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/WhitespaceAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/WhitespaceTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/WordDelimiterTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/compound/AbstractCompoundWordTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/compound/DictionaryCompoundWordTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/compound/HyphenationCompoundWordTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/cache/IndexCache.java
core/src/main/java/org/elasticsearch/index/cache/IndexCacheModule.java
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/cache/bitset/ShardBitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/cache/query/index/IndexQueryCache.java
core/src/main/java/org/elasticsearch/index/cache/query/none/NoneQueryCache.java
core/src/main/java/org/elasticsearch/index/cache/request/ShardRequestCache.java
core/src/main/java/org/elasticsearch/index/codec/CodecService.java
core/src/main/java/org/elasticsearch/index/codec/PerFieldMappingPostingFormatCodec.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/fielddata/ShardFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/GlobalOrdinalsBuilder.java
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/GlobalOrdinalsIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/InternalGlobalOrdinalsIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexGeoPointFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexOrdinalsFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/BytesBinaryDVIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DisabledIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DocValuesIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointBinaryDVIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/IndexIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/SortedSetDVOrdinalsIndexFieldData.java
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/Mapping.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/RootObjectMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/settings/IndexSettingsProvider.java
core/src/main/java/org/elasticsearch/index/settings/IndexSettingsService.java
core/src/main/java/org/elasticsearch/index/shard/AbstractIndexShardComponent.java
core/src/main/java/org/elasticsearch/index/shard/IndexEventListener.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
comments:
Merge branch 'master' into feature/seq_no

time:
2015-11-02T06:23:34Z
class:
comments:
Update README.textile

fix readme

time:
2015-10-31T06:45:45Z
class:
comments:
Merge pull request #14411 from rmuir/fix_eclipse

fix eclipse (again)

time:
2015-10-31T06:39:35Z
class:
comments:
fix eclipse (again)

