time:
2015-05-15T18:41:33Z
class:
src/main/java/org/apache/lucene/search/postingshighlight/CustomPassageFormatter.java
src/main/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighter.java
src/main/java/org/apache/lucene/search/postingshighlight/CustomSeparatorBreakIterator.java
src/main/java/org/apache/lucene/search/postingshighlight/Snippet.java
src/main/java/org/apache/lucene/search/postingshighlight/XPostingsHighlighter.java
src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
src/main/java/org/elasticsearch/search/highlight/HighlightUtils.java
src/main/java/org/elasticsearch/search/highlight/PostingsHighlighter.java
src/test/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighterTests.java
src/test/java/org/apache/lucene/search/postingshighlight/CustomSeparatorBreakIteratorTests.java
src/test/java/org/apache/lucene/search/postingshighlight/XPostingsHighlighterTests.java
src/test/java/org/elasticsearch/search/highlight/HighlighterSearchTests.java
comments:
Highlighting: nuke XPostingsHighlighter

Our own fork of the lucene PostingsHighlighter is not easy to maintain and doesn't give us any added value at this point. In particular, it was introduced to support the require_field_match option and discrete per value highlighting, used in case one wants to highlight the whole content of a field, but get back one snippet per value. These two features won't
 make it into lucene as they slow things down and shouldn't have been supported from day one on our end probably.

One other customization we had was support for a wider range of queries via custom rewrite etc. (yet another way to slow
 things down), which got added to lucene and works much much better than what we used to do (instead of or rewrite, term
s are pulled out of the automata for multi term queries).

Removing our fork means the following in terms of features:
- dropped support for require_field_match: the postings highlighter will only highlight fields that were queried
- some custom es queries won't be supported anymore, meaning they won't be highlighted. The only one I found up until now is the phrase_prefix. Postings highlighter rewrites against an empty reader to avoid slow operations (like the ones that we were performing with the fork that we are removing here), thus the prefix will not be expanded to any term. What the postings highlighter does instead is pulling the automata out of multi term queries, but this is not supported at the moment with our MultiPhrasePrefixQuery.

Closes #10625
Closes #11077

time:
2015-05-15T18:17:53Z
class:
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/support/IncludeExclude.java
comments:
Aggregations improvement: exclude clauses with a medium/large number of clauses fail.
The underlying automaton-backed implementation throws an error if there are too many states.

This fix changes to using an implementation based on Set lookups for lists of excluded terms.
If the global-ordinals execution mode is in effect this implementation also addresses the slowness identified in issue 11181 which is caused by traversing the TermsEnum - instead the excluded termsâ€™ global ordinals are looked up individually and unset the bits of acceptable terms. This is significantly faster.

Closes #11176

time:
2015-05-15T17:26:11Z
class:
src/main/java/org/elasticsearch/common/lucene/docset/AllDocIdSet.java
src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
src/main/java/org/elasticsearch/search/scan/ScanContext.java
src/test/java/org/elasticsearch/search/scan/ScanContextTests.java
comments:
Merge pull request #11180 from jpountz/enhancement/faster_scan

Search: Make SCAN faster.

time:
2015-05-15T16:40:16Z
class:
comments:
Docs: Fixed the backslash escaping on the pattern analyzer docs

Closes #11099

time:
2015-05-15T16:23:10Z
class:
src/main/java/org/elasticsearch/common/lucene/docset/AllDocIdSet.java
src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
src/main/java/org/elasticsearch/search/scan/ScanContext.java
src/test/java/org/elasticsearch/search/scan/ScanContextTests.java
comments:
Search: Make SCAN faster.

When scrolling, SCAN previously collected documents until it reached where it
had stopped on the previous iteration. This makes pagination slower and slower
as you request deep pages. With this change, SCAN now directly jumps to the
doc ID where is had previously stopped.

time:
2015-05-15T15:25:53Z
class:
comments:
Add migrationi note for AnalyzeRequest

time:
2015-05-15T15:03:45Z
class:
src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayTests.java
comments:
Remove accidential modification

time:
2015-05-15T15:01:23Z
class:
src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
src/main/java/org/apache/lucene/queryparser/classic/QueryParserSettings.java
src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequest.java
src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStatsFlags.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
src/main/java/org/elasticsearch/action/percolate/PercolateRequest.java
src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java
src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
src/main/java/org/elasticsearch/action/support/QuerySourceBuilder.java
src/main/java/org/elasticsearch/action/support/ToXContentToBytes.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsFields.java
src/main/java/org/elasticsearch/client/IndicesAdminClient.java
src/main/java/org/elasticsearch/client/support/AbstractClient.java
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
src/main/java/org/elasticsearch/common/ContextHolder.java
src/main/java/org/elasticsearch/common/collect/HppcMaps.java
src/main/java/org/elasticsearch/common/collect/ImmutableOpenIntMap.java
src/main/java/org/elasticsearch/common/collect/ImmutableOpenLongMap.java
src/main/java/org/elasticsearch/common/collect/ImmutableOpenMap.java
src/main/java/org/elasticsearch/common/geo/GeoUtils.java
src/main/java/org/elasticsearch/common/lucene/docset/AndDocIdSet.java
src/main/java/org/elasticsearch/common/lucene/docset/BitsDocIdSetIterator.java
src/main/java/org/elasticsearch/common/lucene/docset/DocIdSets.java
src/main/java/org/elasticsearch/common/lucene/docset/MatchDocIdSetIterator.java
src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
src/main/java/org/elasticsearch/common/recycler/Recyclers.java
src/main/java/org/elasticsearch/common/util/AbstractPagedHashMap.java
src/main/java/org/elasticsearch/common/util/BytesRefHash.java
src/main/java/org/elasticsearch/gateway/Gateway.java
src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
src/main/java/org/elasticsearch/http/HttpServer.java
src/main/java/org/elasticsearch/index/analysis/FieldNameAnalyzer.java
src/main/java/org/elasticsearch/index/analysis/NumericDateAnalyzer.java
src/main/java/org/elasticsearch/index/analysis/NumericDoubleAnalyzer.java
src/main/java/org/elasticsearch/index/analysis/NumericFloatAnalyzer.java
src/main/java/org/elasticsearch/index/analysis/NumericIntegerAnalyzer.java
src/main/java/org/elasticsearch/index/analysis/NumericLongAnalyzer.java
src/main/java/org/elasticsearch/index/cache/id/IdCacheStats.java
src/main/java/org/elasticsearch/index/fielddata/FieldDataStats.java
src/main/java/org/elasticsearch/index/fielddata/ShardFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
src/main/java/org/elasticsearch/index/mapper/MapperAnalyzer.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/ParseContext.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
src/main/java/org/elasticsearch/index/query/BaseQueryBuilder.java
src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FilteredQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
src/main/java/org/elasticsearch/index/query/LimitQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MultiTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
src/main/java/org/elasticsearch/index/query/NotQueryBuilder.java
src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
src/main/java/org/elasticsearch/index/query/QueryBuilder.java
src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermsLookupQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
src/main/java/org/elasticsearch/index/query/functionscore/weight/WeightBuilder.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceFilter.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
src/main/java/org/elasticsearch/index/search/geo/GeoPolygonFilter.java
src/main/java/org/elasticsearch/index/search/geo/GeoPolygonQuery.java
src/main/java/org/elasticsearch/index/search/geo/InMemoryGeoBoundingBoxQuery.java
src/main/java/org/elasticsearch/index/search/geo/IndexedGeoBoundingBoxQuery.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
src/main/java/org/elasticsearch/indices/cache/query/IndicesQueryCache.java
src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/repositories/RepositoriesService.java
src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/cache/clear/RestClearIndicesCacheAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/stats/RestIndicesStatsAction.java
src/main/java/org/elasticsearch/rest/action/cat/RestAllocationAction.java
src/main/java/org/elasticsearch/rest/action/cat/RestFielddataAction.java
src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
src/main/java/org/elasticsearch/script/expression/CountMethodFunctionValues.java
src/main/java/org/elasticsearch/script/expression/CountMethodValueSource.java
src/main/java/org/elasticsearch/script/expression/DateMethodFunctionValues.java
src/main/java/org/elasticsearch/script/expression/DateMethodValueSource.java
src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
src/main/java/org/elasticsearch/script/expression/FieldDataFunctionValues.java
src/main/java/org/elasticsearch/script/expression/FieldDataValueSource.java
src/main/java/org/elasticsearch/search/MultiValueMode.java
src/main/java/org/elasticsearch/search/SearchService.java
src/main/java/org/elasticsearch/search/aggregations/ValuesSourceAggregationBuilder.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/GlobalOrdinalsStringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/support/IncludeExclude.java
src/main/java/org/elasticsearch/search/aggregations/metrics/ValuesSourceMetricsAggregationBuilder.java
src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregator.java
src/main/java/org/elasticsearch/search/aggregations/support/AggregationContext.java
src/main/java/org/elasticsearch/search/aggregations/support/MissingValues.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSource.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceConfig.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceParser.java
src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
src/main/java/org/elasticsearch/search/dfs/AggregatedDfs.java
src/main/java/org/elasticsearch/search/dfs/DfsPhase.java
src/main/java/org/elasticsearch/search/dfs/DfsSearchResult.java
src/main/java/org/elasticsearch/search/internal/InternalSearchHits.java
src/main/java/org/elasticsearch/search/suggest/SuggestBuilder.java
src/main/java/org/elasticsearch/search/suggest/SuggestContextParser.java
src/main/java/org/elasticsearch/search/suggest/SuggestParseElement.java
src/main/java/org/elasticsearch/search/suggest/SuggestPhase.java
src/main/java/org/elasticsearch/search/suggest/Suggester.java
src/main/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProvider.java
src/main/java/org/elasticsearch/search/suggest/completion/CompletionStats.java
src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestParser.java
src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggester.java
src/main/java/org/elasticsearch/search/suggest/context/GeolocationContextMapping.java
src/main/java/org/elasticsearch/search/suggest/phrase/NoisyChannelSpellChecker.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestionContext.java
src/main/java/org/elasticsearch/search/suggest/term/TermSuggestParser.java
src/main/java/org/elasticsearch/search/suggest/term/TermSuggester.java
src/main/java/org/elasticsearch/snapshots/RestoreService.java
src/main/java/org/elasticsearch/transport/TransportMessage.java
src/test/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheBlocksTests.java
src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsTests.java
src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java
src/test/java/org/elasticsearch/benchmark/hppc/StringMapAdjustOrPutBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/GlobalOrdinalsBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/SubAggregationSearchCollectModeBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchAndIndexingBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchShortCircuitBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/child/ParentChildIndexGenerator.java
src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
src/test/java/org/elasticsearch/cluster/allocation/AwarenessAllocationTests.java
src/test/java/org/elasticsearch/cluster/metadata/MetaDataTests.java
src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java
src/test/java/org/elasticsearch/common/hppc/HppcMapsTests.java
src/test/java/org/elasticsearch/common/lucene/search/AndDocIdSetTests.java
src/test/java/org/elasticsearch/common/util/BytesRefHashTests.java
src/test/java/org/elasticsearch/common/util/LongHashTests.java
src/test/java/org/elasticsearch/common/util/LongObjectHashMapTests.java
src/test/java/org/elasticsearch/document/DocumentActionsTests.java
src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayTests.java
src/test/java/org/elasticsearch/index/fielddata/LongFieldDataTests.java
src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
src/test/java/org/elasticsearch/indices/analyze/AnalyzeActionTests.java
src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationTests.java
src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
src/test/java/org/elasticsearch/plugins/ResponseHeaderPluginTests.java
src/test/java/org/elasticsearch/plugins/SitePluginRelativePathConfigTests.java
src/test/java/org/elasticsearch/plugins/SitePluginTests.java
src/test/java/org/elasticsearch/recovery/RelocationTests.java
src/test/java/org/elasticsearch/script/expression/ExpressionScriptTests.java
src/test/java/org/elasticsearch/search/MultiValueModeTests.java
src/test/java/org/elasticsearch/search/aggregations/CombiTests.java
src/test/java/org/elasticsearch/search/aggregations/EquivalenceTests.java
src/test/java/org/elasticsearch/search/aggregations/MetaDataTests.java
src/test/java/org/elasticsearch/search/aggregations/MissingValueTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/HistogramTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/MinDocCountTests.java
src/test/java/org/elasticsearch/search/aggregations/metrics/cardinality/HyperLogLogPlusPlusTests.java
src/test/java/org/elasticsearch/search/aggregations/support/MissingValuesTests.java
src/test/java/org/elasticsearch/search/child/ParentFieldLoadingTest.java
src/test/java/org/elasticsearch/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/search/highlight/HighlighterSearchTests.java
src/test/java/org/elasticsearch/search/innerhits/InnerHitsTests.java
src/test/java/org/elasticsearch/search/scroll/DuelScrollTests.java
src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearchTests.java
src/test/java/org/elasticsearch/search/suggest/ContextSuggestSearchTests.java
src/test/java/org/elasticsearch/search/suggest/CustomSuggester.java
src/test/java/org/elasticsearch/search/suggest/SuggestSearchTests.java
src/test/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProviderV1.java
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchMatchers.java
src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
comments:
Merge branch 'master' into feature/translog_checkpoints

Conflicts:
	src/main/java/org/elasticsearch/action/termvectors/TermVectorsFields.java

time:
2015-05-15T14:47:17Z
class:
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/InternalEngineFactory.java
src/main/java/org/elasticsearch/index/translog/Translog.java
comments:
Small fixes:
  - rename one method
  - move "generation == null" check under existing "if (createNew == false)"
  - fix typo/whitespace
  - add a TODO

time:
2015-05-15T14:41:44Z
class:
src/main/java/org/elasticsearch/index/analysis/FieldNameAnalyzer.java
src/main/java/org/elasticsearch/index/mapper/MapperAnalyzer.java
comments:
Merge pull request #11141 from jpountz/fix/fieldnameanalyzer_leniency

Mappings: Make FieldNameAnalyzer less lenient.

time:
2015-05-15T14:33:29Z
class:
src/main/java/org/elasticsearch/common/geo/GeoUtils.java
src/main/java/org/elasticsearch/search/aggregations/ValuesSourceAggregationBuilder.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/GlobalOrdinalsStringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/metrics/ValuesSourceMetricsAggregationBuilder.java
src/main/java/org/elasticsearch/search/aggregations/support/AggregationContext.java
src/main/java/org/elasticsearch/search/aggregations/support/MissingValues.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSource.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceConfig.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceParser.java
src/test/java/org/elasticsearch/search/aggregations/MissingValueTests.java
src/test/java/org/elasticsearch/search/aggregations/support/MissingValuesTests.java
comments:
Merge pull request #11042 from jpountz/feature/aggs_missing

Aggs: Make it possible to configure missing values.

time:
2015-05-15T14:26:58Z
class:
src/main/java/org/elasticsearch/common/geo/GeoUtils.java
src/main/java/org/elasticsearch/search/aggregations/ValuesSourceAggregationBuilder.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/GlobalOrdinalsStringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/metrics/ValuesSourceMetricsAggregationBuilder.java
src/main/java/org/elasticsearch/search/aggregations/support/AggregationContext.java
src/main/java/org/elasticsearch/search/aggregations/support/MissingValues.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSource.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceConfig.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceParser.java
src/test/java/org/elasticsearch/search/aggregations/MissingValueTests.java
src/test/java/org/elasticsearch/search/aggregations/support/MissingValuesTests.java
comments:
Aggs: Make it possible to configure missing values.

Most aggregations (terms, histogram, stats, percentiles, geohash-grid) now
support a new `missing` option which defines the value to consider when a
field does not have a value. This can be handy if you eg. want a terms
aggregation to handle the same way documents that have "N/A" or no value
for a `tag` field.

This works in a very similar way to the `missing` option on the `sort`
element.

One known issue is that this option sometimes cannot make the right decision
in the unmapped case: it needs to replace all values with the `missing` value
but might not know what kind of values source should be produced (numerics,
strings, geo points?). For this reason, we might want to add an `unmapped_type`
option in the future like we did for sorting.

Related to #5324

time:
2015-05-15T14:25:51Z
class:
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/test/java/org/elasticsearch/index/fielddata/LongFieldDataTests.java
comments:
Merge pull request #11144 from jpountz/fix/remove_hppc_esoteric_dep

Internal: remove dependency on hppc:esoteric.

time:
2015-05-15T12:39:35Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStatsFlags.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
src/main/java/org/elasticsearch/index/cache/id/IdCacheStats.java
src/main/java/org/elasticsearch/index/fielddata/ShardFieldData.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
src/main/java/org/elasticsearch/rest/action/admin/indices/cache/clear/RestClearIndicesCacheAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/stats/RestIndicesStatsAction.java
src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
src/test/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheBlocksTests.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchShortCircuitBenchmark.java
src/test/java/org/elasticsearch/document/DocumentActionsTests.java
src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
src/test/java/org/elasticsearch/search/child/ParentFieldLoadingTest.java
src/test/java/org/elasticsearch/search/child/SimpleChildQuerySearchTests.java
comments:
Merge pull request #11183 from martijnvg/parent-child/remove_id_cache_from_stats_and_clear_cache_apis

Removed `id_cache` from stats and cat apis.

time:
2015-05-15T12:06:18Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStatsFlags.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
src/main/java/org/elasticsearch/index/cache/id/IdCacheStats.java
src/main/java/org/elasticsearch/index/fielddata/ShardFieldData.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
src/main/java/org/elasticsearch/rest/action/admin/indices/cache/clear/RestClearIndicesCacheAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/stats/RestIndicesStatsAction.java
src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
src/test/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheBlocksTests.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchShortCircuitBenchmark.java
src/test/java/org/elasticsearch/document/DocumentActionsTests.java
src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
src/test/java/org/elasticsearch/search/child/ParentFieldLoadingTest.java
src/test/java/org/elasticsearch/search/child/SimpleChildQuerySearchTests.java
comments:
Removed `id_cache` from stats and cat apis.
Also removed the `id_cache` option from the clear cache api.

Closes #5269

time:
2015-05-15T11:01:10Z
class:
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
src/main/java/org/elasticsearch/client/IndicesAdminClient.java
src/main/java/org/elasticsearch/client/support/AbstractClient.java
src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java
src/test/java/org/elasticsearch/indices/analyze/AnalyzeActionTests.java
comments:
Analysis: Add multi-valued text support

Add support array text as a multi-valued for AnalyzeRequestBuilder
Add support array text as a multi-valued for Analyze REST API
Add docs

Closes #3023

time:
2015-05-15T10:33:19Z
class:
src/main/java/org/elasticsearch/common/lucene/docset/BitsDocIdSetIterator.java
src/main/java/org/elasticsearch/common/lucene/docset/ContextDocIdSet.java
src/main/java/org/elasticsearch/common/lucene/docset/DocIdSets.java
src/main/java/org/elasticsearch/common/lucene/docset/MatchDocIdSetIterator.java
comments:
Remove unused docidset-related code.

time:
2015-05-15T08:56:22Z
class:
src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
src/main/java/org/elasticsearch/http/HttpServer.java
src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/script/expression/CountMethodFunctionValues.java
src/main/java/org/elasticsearch/script/expression/CountMethodValueSource.java
src/main/java/org/elasticsearch/script/expression/DateMethodFunctionValues.java
src/main/java/org/elasticsearch/script/expression/DateMethodValueSource.java
src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
src/main/java/org/elasticsearch/script/expression/FieldDataFunctionValues.java
src/main/java/org/elasticsearch/script/expression/FieldDataValueSource.java
src/main/java/org/elasticsearch/search/MultiValueMode.java
src/main/java/org/elasticsearch/search/suggest/SuggestContextParser.java
src/main/java/org/elasticsearch/search/suggest/SuggestParseElement.java
src/main/java/org/elasticsearch/search/suggest/SuggestPhase.java
src/main/java/org/elasticsearch/search/suggest/Suggester.java
src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestParser.java
src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggester.java
src/main/java/org/elasticsearch/search/suggest/phrase/NoisyChannelSpellChecker.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestionContext.java
src/main/java/org/elasticsearch/search/suggest/term/TermSuggestParser.java
src/main/java/org/elasticsearch/search/suggest/term/TermSuggester.java
src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationTests.java
src/test/java/org/elasticsearch/plugins/ResponseHeaderPluginTests.java
src/test/java/org/elasticsearch/plugins/SitePluginRelativePathConfigTests.java
src/test/java/org/elasticsearch/plugins/SitePluginTests.java
src/test/java/org/elasticsearch/script/expression/ExpressionScriptTests.java
src/test/java/org/elasticsearch/search/MultiValueModeTests.java
src/test/java/org/elasticsearch/search/highlight/HighlighterSearchTests.java
src/test/java/org/elasticsearch/search/suggest/ContextSuggestSearchTests.java
src/test/java/org/elasticsearch/search/suggest/CustomSuggester.java
src/test/java/org/elasticsearch/search/suggest/SuggestSearchTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchMatchers.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-05-15T08:35:36Z
class:
src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
src/main/java/org/elasticsearch/http/HttpServer.java
src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/script/expression/CountMethodFunctionValues.java
src/main/java/org/elasticsearch/script/expression/CountMethodValueSource.java
src/main/java/org/elasticsearch/script/expression/DateMethodFunctionValues.java
src/main/java/org/elasticsearch/script/expression/DateMethodValueSource.java
src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
src/main/java/org/elasticsearch/script/expression/FieldDataFunctionValues.java
src/main/java/org/elasticsearch/script/expression/FieldDataValueSource.java
src/main/java/org/elasticsearch/search/MultiValueMode.java
src/main/java/org/elasticsearch/search/suggest/SuggestContextParser.java
src/main/java/org/elasticsearch/search/suggest/SuggestParseElement.java
src/main/java/org/elasticsearch/search/suggest/SuggestPhase.java
src/main/java/org/elasticsearch/search/suggest/Suggester.java
src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestParser.java
src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggester.java
src/main/java/org/elasticsearch/search/suggest/phrase/NoisyChannelSpellChecker.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestionContext.java
src/main/java/org/elasticsearch/search/suggest/term/TermSuggestParser.java
src/main/java/org/elasticsearch/search/suggest/term/TermSuggester.java
src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationTests.java
src/test/java/org/elasticsearch/plugins/ResponseHeaderPluginTests.java
src/test/java/org/elasticsearch/plugins/SitePluginRelativePathConfigTests.java
src/test/java/org/elasticsearch/plugins/SitePluginTests.java
src/test/java/org/elasticsearch/script/expression/ExpressionScriptTests.java
src/test/java/org/elasticsearch/search/MultiValueModeTests.java
src/test/java/org/elasticsearch/search/highlight/HighlighterSearchTests.java
src/test/java/org/elasticsearch/search/suggest/ContextSuggestSearchTests.java
src/test/java/org/elasticsearch/search/suggest/CustomSuggester.java
src/test/java/org/elasticsearch/search/suggest/SuggestSearchTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchMatchers.java
comments:
Merge remote-tracking branch 'origin/master' into feature/synced_flush

time:
2015-05-15T08:35:15Z
class:
src/main/java/org/elasticsearch/indices/SyncedFlushService.java
comments:
some more docs and cleanup

time:
2015-05-15T06:40:40Z
class:
src/main/java/org/elasticsearch/http/HttpServer.java
src/test/java/org/elasticsearch/plugins/ResponseHeaderPluginTests.java
src/test/java/org/elasticsearch/plugins/SitePluginRelativePathConfigTests.java
src/test/java/org/elasticsearch/plugins/SitePluginTests.java
src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchMatchers.java
comments:
HttpServer: Support relative plugin paths in configuration

When specifying relative paths on startup, handling plugin
paths failed due to recently added security fix. This fix
ensures normalization of the plugin path as well.

In addition a new matcher has been added to easily check for a
status code of an HTTP response likes this

assertThat(response, hasStatus(OK));

Closes #10958

time:
2015-05-15T06:31:56Z
class:
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
comments:
[ENGINE] Signal when a new index is created also in Translog creation code

Clarify when a new tranlog should be created by passing the
same create flag to the IndexWriter as well as to the Translog creation

time:
2015-05-14T22:44:48Z
class:
src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
comments:
Add index name to log statements when settings update fails

When an index setting is invalid and fails to be set, a WARN statement
is logged but it doesn't contain the index name, making tracking down
and fixing the problem more difficult. This commit adds the index name
to the log statement.

time:
2015-05-14T22:21:07Z
class:
src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
src/test/java/org/elasticsearch/search/highlight/HighlighterSearchTests.java
comments:
Make highlighter check source enabled again instead of source complete...for now.

time:
2015-05-14T22:16:03Z
class:
src/test/java/org/elasticsearch/search/suggest/SuggestSearchTests.java
comments:
[TEST] improve Phrase Collate filter test

time:
2015-05-14T22:02:59Z
class:
comments:
[DOCS] Add DNS SRV discovery plugin

time:
2015-05-14T21:58:06Z
class:
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
comments:
Change includes/excludes back to null based for now, since it
complicates serialization and causes a number of test failures.

time:
2015-05-14T21:41:47Z
class:
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationTests.java
comments:
Merge pull request #11171 from rjernst/fix/11116

Mappings: Add back support for enabled/includes/excludes in _source

time:
2015-05-14T21:36:26Z
class:
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
comments:
Fix includes/excludes to be handled on merge conflict checking when they
are null

time:
2015-05-14T21:21:53Z
class:
src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
src/main/java/org/elasticsearch/search/suggest/SuggestContextParser.java
src/main/java/org/elasticsearch/search/suggest/SuggestParseElement.java
src/main/java/org/elasticsearch/search/suggest/SuggestPhase.java
src/main/java/org/elasticsearch/search/suggest/Suggester.java
src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestParser.java
src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggester.java
src/main/java/org/elasticsearch/search/suggest/phrase/NoisyChannelSpellChecker.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestionContext.java
src/main/java/org/elasticsearch/search/suggest/term/TermSuggestParser.java
src/main/java/org/elasticsearch/search/suggest/term/TermSuggester.java
src/test/java/org/elasticsearch/search/suggest/CustomSuggester.java
src/test/java/org/elasticsearch/search/suggest/SuggestSearchTests.java
comments:
Re-structure collate option in PhraseSuggester to only collate on local shard.

Previously, collate feature would be executed on all shards of an index using the client,
this leads to a deadlock when concurrent collate requests are run from the _search API,
due to the fact that both the external request and internal collate requests use the
same search threadpool.

As phrase suggestions are generated from the terms of the local shard, in most cases the
generated suggestion, which does not yield a hit for the collate query on the local shard
would not yield a hit for collate query on non-local shards.

Instead of using the client for collating suggestions, collate query is executed against
the ContextIndexSearcher. This PR removes the ability to specify a preference for a collate
query, as the collate query is only run on the local shard.

closes #9377

time:
2015-05-14T20:57:53Z
class:
src/main/java/org/elasticsearch/index/engine/EngineConfig.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/translog/Translog.java
comments:
apply review comments

time:
2015-05-14T20:48:49Z
class:
src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
src/test/java/org/elasticsearch/search/suggest/ContextSuggestSearchTests.java
comments:
Ensure empty completion entries are never indexed

closes #10987

time:
2015-05-14T20:04:39Z
class:
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationTests.java
comments:
Mappings: Add back support for enabled/includes/excludes in _source

This adds back the ability to disable _source, as well as set includes
and excludes. However, it also restricts these settings to not be
updateable. enabled was actually already not modifiable, but no
conflict was previously given if an attempt was made to change it.

This also adds a check that can be made on the source mapper to
know if the the source is "complete" and can be used for
purposes other than returning in search or get requests. There is
one example use here in highlighting, but more need to be added
in a follow up issue (eg in the update API).

closes #11116

time:
2015-05-14T16:53:26Z
class:
src/main/java/org/elasticsearch/search/MultiValueMode.java
comments:
Fixed a broken import in MultiValueMode.

time:
2015-05-14T15:27:24Z
class:
src/main/java/org/elasticsearch/script/expression/CountMethodFunctionValues.java
src/main/java/org/elasticsearch/script/expression/CountMethodValueSource.java
src/main/java/org/elasticsearch/script/expression/DateMethodFunctionValues.java
src/main/java/org/elasticsearch/script/expression/DateMethodValueSource.java
src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
src/main/java/org/elasticsearch/script/expression/FieldDataFunctionValues.java
src/main/java/org/elasticsearch/script/expression/FieldDataValueSource.java
src/main/java/org/elasticsearch/search/MultiValueMode.java
src/test/java/org/elasticsearch/script/expression/ExpressionScriptTests.java
src/test/java/org/elasticsearch/search/MultiValueModeTests.java
comments:
Scripting: Add Multi-Valued Field Methods to Expressions

Add methods to operate on multi-valued fields in the expressions language.
Note that users will still not be able to access individual values
within a multi-valued field.

The following methods will be included:

* min
* max
* avg
* median
* count
* sum

Additionally, changes have been made to MultiValueMode to support the
new median method.

closes #11105

time:
2015-05-14T13:03:05Z
class:
comments:
Merge pull request #11163 from rmuir/jna_nosys

Use our provided JNA library, versus one installed on the system

time:
2015-05-14T06:15:36Z
class:
src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java
comments:
Add user dictionary test case

Closes #59

time:
2015-05-14T04:09:44Z
class:
comments:
Use our provided JNA library, versus one installed on the system
which might be older and not work.

time:
2015-05-14T03:36:19Z
class:
comments:
remove unnecessary property

time:
2015-05-14T03:34:52Z
class:
comments:
remove unnecessary property

time:
2015-05-14T03:17:37Z
class:
comments:
Use tests.jvms=1 like the old parallelism of 1

time:
2015-05-14T03:16:42Z
class:
comments:
Use tests.jvms=1 like the old parallelism of 1

time:
2015-05-14T03:13:59Z
class:
comments:
Use tests.jvms=1 like the old parallelism of 1

time:
2015-05-14T02:59:35Z
class:
src/test/java/org/apache/lucene/store/ElasticSearchBaseDirectoryTestCase.java
src/test/java/org/apache/lucene/store/SmbMMapDirectoryTest.java
src/test/java/org/apache/lucene/store/SmbSimpleFSDirectoryTest.java
src/test/java/org/elasticsearch/azure/itest/AzureSimpleITest.java
src/test/java/org/elasticsearch/cloud/azure/AbstractAzureTest.java
src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreITest.java
comments:
Use ThirdParty annotation and remove duplicate test config.

See elastic/elasticsearch-parent#41

time:
2015-05-14T02:46:49Z
class:
src/test/java/org/elasticsearch/cloud/gce/AbstractGceTest.java
src/test/java/org/elasticsearch/gce/itest/GceSimpleITest.java
comments:
Use ThirdParty annotation and remove duplicate test config.

See elastic/elasticsearch-parent#41

time:
2015-05-14T02:33:38Z
class:
src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTest.java
src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryITest.java
src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryUpdateSettingsITest.java
src/test/java/org/elasticsearch/repositories/s3/AbstractS3SnapshotRestoreTest.java
comments:
Use ThirdParty annotation and remove duplicate test config.

See https://github.com/elastic/elasticsearch-parent/issues/41

time:
2015-05-14T00:05:33Z
class:
src/test/java/org/elasticsearch/index/mapper/attachment/test/standalone/StandaloneRunner.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/EncryptedDocMapperTest.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/LanguageDetectionAttachmentMapperTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/MetadataMapperTest.java
comments:
Fix attachment mapper tests to pass id through api instead of _id in a document

time:
2015-05-13T20:11:25Z
class:
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
comments:
Merge pull request #11152 from rmuir/party_time

Add test group for third-party tests

time:
2015-05-13T19:12:54Z
class:
src/main/java/org/elasticsearch/index/translog/Translog.java
comments:
move reading opSize into the catch block to transform EOF into TruncatedTranslogException

time:
2015-05-13T18:56:29Z
class:
comments:
Add these two props for consistency, so we aren't confused
when we deduplicate with elasticsearch-parent

time:
2015-05-13T18:52:59Z
class:
src/main/java/org/elasticsearch/index/translog/TranslogWriter.java
comments:
Simplify new translog creation - pending files are not needed anymore

time:
2015-05-13T18:34:53Z
class:
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
comments:
Add test group for third-party tests

time:
2015-05-13T18:32:25Z
class:
src/main/java/org/elasticsearch/index/translog/Checkpoint.java
src/main/java/org/elasticsearch/index/translog/ImmutableTranslogReader.java
src/main/java/org/elasticsearch/index/translog/LegacyTranslogReaderBase.java
src/main/java/org/elasticsearch/index/translog/MultiSnapshot.java
src/main/java/org/elasticsearch/index/translog/Translog.java
comments:
Applied review comments from @mikemccand
 - Renamed TranslogSnapshot to MultiSnapshot
 - moved legacy logic for trucation into LegacyTranslogReaderBase
 - made several methods private and pkg private where applicable
 - renamed arguments for consistency

time:
2015-05-13T17:32:01Z
class:
comments:
enable security manager in tests

time:
2015-05-13T16:22:32Z
class:
src/main/java/org/elasticsearch/index/analysis/KuromojiTokenizerFactory.java
comments:
Fix compilation (use the new UserDictionary.open)

Relates to #59

time:
2015-05-13T16:20:22Z
class:
src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
src/main/java/org/apache/lucene/queryparser/classic/QueryParserSettings.java
src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequest.java
src/main/java/org/elasticsearch/action/percolate/PercolateRequest.java
src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java
src/main/java/org/elasticsearch/action/support/QuerySourceBuilder.java
src/main/java/org/elasticsearch/action/support/ToXContentToBytes.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsFields.java
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
src/main/java/org/elasticsearch/common/ContextHolder.java
src/main/java/org/elasticsearch/common/collect/HppcMaps.java
src/main/java/org/elasticsearch/common/collect/ImmutableOpenIntMap.java
src/main/java/org/elasticsearch/common/collect/ImmutableOpenLongMap.java
src/main/java/org/elasticsearch/common/collect/ImmutableOpenMap.java
src/main/java/org/elasticsearch/common/lucene/docset/AndDocIdSet.java
src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
src/main/java/org/elasticsearch/common/recycler/Recyclers.java
src/main/java/org/elasticsearch/common/util/AbstractPagedHashMap.java
src/main/java/org/elasticsearch/common/util/BytesRefHash.java
src/main/java/org/elasticsearch/gateway/Gateway.java
src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
src/main/java/org/elasticsearch/index/analysis/NumericDateAnalyzer.java
src/main/java/org/elasticsearch/index/analysis/NumericDoubleAnalyzer.java
src/main/java/org/elasticsearch/index/analysis/NumericFloatAnalyzer.java
src/main/java/org/elasticsearch/index/analysis/NumericIntegerAnalyzer.java
src/main/java/org/elasticsearch/index/analysis/NumericLongAnalyzer.java
src/main/java/org/elasticsearch/index/fielddata/FieldDataStats.java
src/main/java/org/elasticsearch/index/fielddata/ShardFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/ParseContext.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
src/main/java/org/elasticsearch/index/query/BaseQueryBuilder.java
src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FilteredQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
src/main/java/org/elasticsearch/index/query/LimitQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MultiTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
src/main/java/org/elasticsearch/index/query/NotQueryBuilder.java
src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
src/main/java/org/elasticsearch/index/query/QueryBuilder.java
src/main/java/org/elasticsearch/index/query/QueryBuilders.java
src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryWrappingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermsLookupQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
src/main/java/org/elasticsearch/index/query/functionscore/weight/WeightBuilder.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceFilter.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
src/main/java/org/elasticsearch/index/search/geo/GeoPolygonFilter.java
src/main/java/org/elasticsearch/index/search/geo/GeoPolygonQuery.java
src/main/java/org/elasticsearch/index/search/geo/InMemoryGeoBoundingBoxQuery.java
src/main/java/org/elasticsearch/index/search/geo/IndexedGeoBoundingBoxQuery.java
src/main/java/org/elasticsearch/indices/cache/query/IndicesQueryCache.java
src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/repositories/RepositoriesService.java
src/main/java/org/elasticsearch/rest/action/cat/RestAllocationAction.java
src/main/java/org/elasticsearch/rest/action/cat/RestFielddataAction.java
src/main/java/org/elasticsearch/search/SearchService.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/support/IncludeExclude.java
src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregator.java
src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
src/main/java/org/elasticsearch/search/dfs/AggregatedDfs.java
src/main/java/org/elasticsearch/search/dfs/DfsPhase.java
src/main/java/org/elasticsearch/search/dfs/DfsSearchResult.java
src/main/java/org/elasticsearch/search/internal/InternalSearchHits.java
src/main/java/org/elasticsearch/search/suggest/SuggestBuilder.java
src/main/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProvider.java
src/main/java/org/elasticsearch/search/suggest/completion/CompletionStats.java
src/main/java/org/elasticsearch/search/suggest/context/GeolocationContextMapping.java
src/main/java/org/elasticsearch/snapshots/RestoreService.java
src/main/java/org/elasticsearch/transport/TransportMessage.java
src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsTests.java
src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java
src/test/java/org/elasticsearch/benchmark/hppc/StringMapAdjustOrPutBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/GlobalOrdinalsBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/SubAggregationSearchCollectModeBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchAndIndexingBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/child/ParentChildIndexGenerator.java
src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
src/test/java/org/elasticsearch/cluster/allocation/AwarenessAllocationTests.java
src/test/java/org/elasticsearch/cluster/metadata/MetaDataTests.java
src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java
src/test/java/org/elasticsearch/common/hppc/HppcMapsTests.java
src/test/java/org/elasticsearch/common/lucene/search/AndDocIdSetTests.java
src/test/java/org/elasticsearch/common/util/BytesRefHashTests.java
src/test/java/org/elasticsearch/common/util/LongHashTests.java
src/test/java/org/elasticsearch/common/util/LongObjectHashMapTests.java
src/test/java/org/elasticsearch/index/fielddata/LongFieldDataTests.java
src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationTests.java
src/test/java/org/elasticsearch/recovery/RelocationTests.java
src/test/java/org/elasticsearch/search/aggregations/CombiTests.java
src/test/java/org/elasticsearch/search/aggregations/EquivalenceTests.java
src/test/java/org/elasticsearch/search/aggregations/MetaDataTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/HistogramTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/MinDocCountTests.java
src/test/java/org/elasticsearch/search/aggregations/metrics/cardinality/HyperLogLogPlusPlusTests.java
src/test/java/org/elasticsearch/search/innerhits/InnerHitsTests.java
src/test/java/org/elasticsearch/search/scroll/DuelScrollTests.java
src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearchTests.java
src/test/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProviderV1.java
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
comments:
Merge branch 'master' into feature/query-refactoring

Conflicts:
	src/main/java/org/elasticsearch/index/query/BaseQueryBuilder.java
	src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
	src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
	src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
	src/main/java/org/elasticsearch/index/query/QueryBuilder.java
	src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java

time:
2015-05-13T16:06:59Z
class:
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesAction.java
comments:
rename as requested by Luca
LGTM


time:
2015-05-13T16:05:32Z
class:
src/test/java/org/elasticsearch/indices/SealTests.java
comments:
fix test

time:
2015-05-13T16:00:18Z
class:
src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
src/main/java/org/apache/lucene/queryparser/classic/QueryParserSettings.java
src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequest.java
src/main/java/org/elasticsearch/action/percolate/PercolateRequest.java
src/main/java/org/elasticsearch/action/percolate/PercolateResponse.java
src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java
src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
src/main/java/org/elasticsearch/action/support/QuerySourceBuilder.java
src/main/java/org/elasticsearch/action/support/ToXContentToBytes.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsFields.java
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/Security.java
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
src/main/java/org/elasticsearch/common/ContextHolder.java
src/main/java/org/elasticsearch/common/collect/HppcMaps.java
src/main/java/org/elasticsearch/common/collect/ImmutableOpenIntMap.java
src/main/java/org/elasticsearch/common/collect/ImmutableOpenLongMap.java
src/main/java/org/elasticsearch/common/collect/ImmutableOpenMap.java
src/main/java/org/elasticsearch/common/jna/Natives.java
src/main/java/org/elasticsearch/common/lucene/docset/AndDocIdSet.java
src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
src/main/java/org/elasticsearch/common/recycler/Recyclers.java
src/main/java/org/elasticsearch/common/util/AbstractPagedHashMap.java
src/main/java/org/elasticsearch/common/util/BytesRefHash.java
src/main/java/org/elasticsearch/env/NodeEnvironment.java
src/main/java/org/elasticsearch/gateway/Gateway.java
src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
src/main/java/org/elasticsearch/index/analysis/NumericDateAnalyzer.java
src/main/java/org/elasticsearch/index/analysis/NumericDoubleAnalyzer.java
src/main/java/org/elasticsearch/index/analysis/NumericFloatAnalyzer.java
src/main/java/org/elasticsearch/index/analysis/NumericIntegerAnalyzer.java
src/main/java/org/elasticsearch/index/analysis/NumericLongAnalyzer.java
src/main/java/org/elasticsearch/index/fielddata/FieldDataStats.java
src/main/java/org/elasticsearch/index/fielddata/ShardFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/InternalMapper.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/Mapping.java
src/main/java/org/elasticsearch/index/mapper/ParseContext.java
src/main/java/org/elasticsearch/index/mapper/RootMapper.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SizeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
src/main/java/org/elasticsearch/index/query/BaseQueryBuilder.java
src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FilteredQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
src/main/java/org/elasticsearch/index/query/LimitQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MultiTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
src/main/java/org/elasticsearch/index/query/NotQueryBuilder.java
src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
src/main/java/org/elasticsearch/index/query/QueryBuilder.java
src/main/java/org/elasticsearch/index/query/QueryBuilders.java
src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermsLookupQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
src/main/java/org/elasticsearch/index/query/functionscore/weight/WeightBuilder.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceFilter.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
src/main/java/org/elasticsearch/index/search/geo/GeoPolygonFilter.java
src/main/java/org/elasticsearch/index/search/geo/GeoPolygonQuery.java
src/main/java/org/elasticsearch/index/search/geo/InMemoryGeoBoundingBoxQuery.java
src/main/java/org/elasticsearch/index/search/geo/IndexedGeoBoundingBoxQuery.java
src/main/java/org/elasticsearch/index/store/FsDirectoryService.java
src/main/java/org/elasticsearch/indices/cache/query/IndicesQueryCache.java
src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/repositories/RepositoriesService.java
src/main/java/org/elasticsearch/rest/action/cat/RestAllocationAction.java
src/main/java/org/elasticsearch/rest/action/cat/RestFielddataAction.java
src/main/java/org/elasticsearch/search/SearchService.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/support/IncludeExclude.java
src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregator.java
src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
src/main/java/org/elasticsearch/search/dfs/AggregatedDfs.java
src/main/java/org/elasticsearch/search/dfs/DfsPhase.java
src/main/java/org/elasticsearch/search/dfs/DfsSearchResult.java
src/main/java/org/elasticsearch/search/internal/InternalSearchHits.java
src/main/java/org/elasticsearch/search/suggest/SuggestBuilder.java
src/main/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProvider.java
src/main/java/org/elasticsearch/search/suggest/completion/CompletionStats.java
src/main/java/org/elasticsearch/search/suggest/context/GeolocationContextMapping.java
src/main/java/org/elasticsearch/snapshots/RestoreService.java
src/main/java/org/elasticsearch/transport/TransportMessage.java
src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsTests.java
src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java
src/test/java/org/elasticsearch/benchmark/hppc/StringMapAdjustOrPutBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/GlobalOrdinalsBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/SubAggregationSearchCollectModeBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchAndIndexingBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/child/ParentChildIndexGenerator.java
src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
src/test/java/org/elasticsearch/cluster/allocation/AwarenessAllocationTests.java
src/test/java/org/elasticsearch/cluster/metadata/MetaDataTests.java
src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java
src/test/java/org/elasticsearch/common/PidFileTests.java
src/test/java/org/elasticsearch/common/hppc/HppcMapsTests.java
src/test/java/org/elasticsearch/common/lucene/search/AndDocIdSetTests.java
src/test/java/org/elasticsearch/common/util/BytesRefHashTests.java
src/test/java/org/elasticsearch/common/util/LongHashTests.java
src/test/java/org/elasticsearch/common/util/LongObjectHashMapTests.java
src/test/java/org/elasticsearch/get/GetActionTests.java
src/test/java/org/elasticsearch/index/IndexWithShadowReplicasTests.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/fielddata/LongFieldDataTests.java
src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
src/test/java/org/elasticsearch/index/mapper/boost/FieldLevelBoostTests.java
src/test/java/org/elasticsearch/index/mapper/dynamictemplate/genericstore/GenericStoreDynamicTemplateTests.java
src/test/java/org/elasticsearch/index/mapper/dynamictemplate/pathmatch/PathMatchDynamicTemplateTests.java
src/test/java/org/elasticsearch/index/mapper/dynamictemplate/simple/SimpleDynamicTemplatesTests.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalRootMapper.java
src/test/java/org/elasticsearch/index/mapper/id/IdMappingTests.java
src/test/java/org/elasticsearch/index/mapper/index/IndexTypeMapperTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/merge/JavaMultiFieldMergeTests.java
src/test/java/org/elasticsearch/index/mapper/parent/ParentMappingTests.java
src/test/java/org/elasticsearch/index/mapper/routing/RoutingTypeMapperTests.java
src/test/java/org/elasticsearch/index/mapper/simple/SimpleMapperTests.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeFormatTests.java
src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeTimezoneTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationTests.java
src/test/java/org/elasticsearch/recovery/RelocationTests.java
src/test/java/org/elasticsearch/search/aggregations/CombiTests.java
src/test/java/org/elasticsearch/search/aggregations/EquivalenceTests.java
src/test/java/org/elasticsearch/search/aggregations/MetaDataTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/HistogramTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/MinDocCountTests.java
src/test/java/org/elasticsearch/search/aggregations/metrics/cardinality/HyperLogLogPlusPlusTests.java
src/test/java/org/elasticsearch/search/innerhits/InnerHitsTests.java
src/test/java/org/elasticsearch/search/scriptfilter/ScriptQuerySearchTests.java
src/test/java/org/elasticsearch/search/scroll/DuelScrollTests.java
src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearchTests.java
src/test/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProviderV1.java
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/ElasticsearchTokenStreamTestCase.java
src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
comments:
Merge remote-tracking branch 'origin/master' into feature/synced_flush

time:
2015-05-13T15:35:16Z
class:
src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
comments:
Merge pull request #11134 from rmuir/tests_config

Add tests.config support to BootstrapForTesting

time:
2015-05-13T15:27:15Z
class:
src/main/java/org/elasticsearch/common/lucene/docset/AndDocIdSet.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceFilter.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
src/main/java/org/elasticsearch/index/search/geo/GeoPolygonFilter.java
src/main/java/org/elasticsearch/index/search/geo/GeoPolygonQuery.java
src/main/java/org/elasticsearch/index/search/geo/InMemoryGeoBoundingBoxQuery.java
src/main/java/org/elasticsearch/index/search/geo/IndexedGeoBoundingBoxQuery.java
src/test/java/org/elasticsearch/common/lucene/search/AndDocIdSetTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
comments:
Merge pull request #11137 from jpountz/enhancement/geo_queries

Query DSL: Make geo filters queries.

time:
2015-05-13T15:05:29Z
class:
src/main/java/org/elasticsearch/action/admin/indices/seal/TransportSealIndicesAction.java
src/test/java/org/elasticsearch/indices/SealTests.java
comments:
fix api hangs if no shards allocated

time:
2015-05-13T15:01:04Z
class:
src/main/java/org/elasticsearch/repositories/RepositoriesService.java
comments:
Don't throw an exception if repositories are unregister with match all

Today we barf if repositories are unregistered with a `*` pattern. This
happens on almost every test and adds weird log messages. I dont' think
we should barf in that case.

Closes #11113

time:
2015-05-13T14:47:18Z
class:
src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
comments:
Fail recovery if retry recovery if resetRecovery fails

This might fail if the shard is closed for instance. This will leak
a shard lock causing the shard being locked on this node forever.

time:
2015-05-13T14:14:16Z
class:
src/main/java/org/elasticsearch/action/percolate/PercolateRequest.java
src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java
src/main/java/org/elasticsearch/action/support/QuerySourceBuilder.java
src/main/java/org/elasticsearch/action/support/ToXContentToBytes.java
src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
src/main/java/org/elasticsearch/index/query/BaseQueryBuilder.java
src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FilteredQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
src/main/java/org/elasticsearch/index/query/LimitQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MultiTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
src/main/java/org/elasticsearch/index/query/NotQueryBuilder.java
src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
src/main/java/org/elasticsearch/index/query/QueryBuilder.java
src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermsLookupQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
src/main/java/org/elasticsearch/index/query/functionscore/weight/WeightBuilder.java
src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
src/main/java/org/elasticsearch/search/suggest/SuggestBuilder.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/search/innerhits/InnerHitsTests.java
comments:
Java api: remove duplicated buildAsBytes and corresponding toString methods

We have some builders, specifically query builders, `SearchSourceBuilder`, `QuerySourceBuilder` and `SuggestBuilder`, that implement `ToXContent` and also allow to build their content as bytes by simply creating a `BytesReference` that holds their json (or yaml etc.) content (`buildAsBytes` methods). They can also print out their content through `toString`. Made sure that those common methods are in one single place and reused where needed.

Also, merged `QueryBuilder` and `BaseQueryBuilder` and made `QueryBuilder` an abstract class instead of an interface.

Closes #11063

time:
2015-05-13T14:05:34Z
class:
src/main/java/org/elasticsearch/action/LatchedActionListener.java
src/main/java/org/elasticsearch/indices/SyncedFlushService.java
src/test/java/org/elasticsearch/indices/SycnedFlushSingleNodeTest.java
src/test/java/org/elasticsearch/test/SyncedFlushUtil.java
comments:
[TEST] Add basic unittest like tests for SyncedFlushService

This commit adds a SingleNodeTest that runs through the different fialure szenarios
on a single shard to test the basic operations.

time:
2015-05-13T13:46:57Z
class:
src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
comments:
Java api: add missing rewrite parameter to FuzzyQueryBuilder

We parse the rewrite field in FuzzyQueryParser but we don't allow to set it via FuzzyQueryBuilder for our java api users. Added missing field and setter.

Closes #11130
Closes #11139

time:
2015-05-13T13:43:05Z
class:
src/main/java/org/elasticsearch/indices/SyncedFlushService.java
comments:
doc for seal api and doc for syned flush in general

time:
2015-05-13T12:45:24Z
class:
src/main/java/org/elasticsearch/action/ActionModule.java
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesAction.java
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesRequest.java
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesResponse.java
src/main/java/org/elasticsearch/action/admin/indices/seal/TransportSealIndicesAction.java
src/main/java/org/elasticsearch/client/IndicesAdminClient.java
src/main/java/org/elasticsearch/client/support/AbstractClient.java
src/main/java/org/elasticsearch/indices/SyncedFlushService.java
src/main/java/org/elasticsearch/rest/action/RestActionModule.java
src/main/java/org/elasticsearch/rest/action/admin/indices/seal/RestSealIndicesAction.java
src/test/java/org/elasticsearch/action/admin/indices/seal/SealIndicesTests.java
src/test/java/org/elasticsearch/indices/FlushTest.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
comments:
api for synced flush

closes #11098

time:
2015-05-13T12:13:10Z
class:
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/test/java/org/elasticsearch/index/fielddata/LongFieldDataTests.java
comments:
Internal: remove dependency on hppc:esoteric.

The esoteric classifier contains in particular maps that take bytes or doubles
as keys. In the byte case, we can just use integer, and in the double case we
can use their long bits instead.

time:
2015-05-13T11:53:14Z
class:
src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
src/main/java/org/apache/lucene/queryparser/classic/QueryParserSettings.java
src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequest.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsFields.java
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
src/main/java/org/elasticsearch/common/ContextHolder.java
src/main/java/org/elasticsearch/common/collect/HppcMaps.java
src/main/java/org/elasticsearch/common/collect/ImmutableOpenIntMap.java
src/main/java/org/elasticsearch/common/collect/ImmutableOpenLongMap.java
src/main/java/org/elasticsearch/common/collect/ImmutableOpenMap.java
src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
src/main/java/org/elasticsearch/common/recycler/Recyclers.java
src/main/java/org/elasticsearch/common/util/AbstractPagedHashMap.java
src/main/java/org/elasticsearch/common/util/BytesRefHash.java
src/main/java/org/elasticsearch/gateway/Gateway.java
src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
src/main/java/org/elasticsearch/index/analysis/NumericDateAnalyzer.java
src/main/java/org/elasticsearch/index/analysis/NumericDoubleAnalyzer.java
src/main/java/org/elasticsearch/index/analysis/NumericFloatAnalyzer.java
src/main/java/org/elasticsearch/index/analysis/NumericIntegerAnalyzer.java
src/main/java/org/elasticsearch/index/analysis/NumericLongAnalyzer.java
src/main/java/org/elasticsearch/index/fielddata/FieldDataStats.java
src/main/java/org/elasticsearch/index/fielddata/ShardFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/ParseContext.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
src/main/java/org/elasticsearch/indices/cache/query/IndicesQueryCache.java
src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/rest/action/cat/RestAllocationAction.java
src/main/java/org/elasticsearch/rest/action/cat/RestFielddataAction.java
src/main/java/org/elasticsearch/search/SearchService.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/support/IncludeExclude.java
src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregator.java
src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
src/main/java/org/elasticsearch/search/dfs/AggregatedDfs.java
src/main/java/org/elasticsearch/search/dfs/DfsPhase.java
src/main/java/org/elasticsearch/search/dfs/DfsSearchResult.java
src/main/java/org/elasticsearch/search/internal/InternalSearchHits.java
src/main/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProvider.java
src/main/java/org/elasticsearch/search/suggest/completion/CompletionStats.java
src/main/java/org/elasticsearch/search/suggest/context/GeolocationContextMapping.java
src/main/java/org/elasticsearch/snapshots/RestoreService.java
src/main/java/org/elasticsearch/transport/TransportMessage.java
src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsTests.java
src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java
src/test/java/org/elasticsearch/benchmark/hppc/StringMapAdjustOrPutBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/GlobalOrdinalsBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/SubAggregationSearchCollectModeBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchAndIndexingBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/child/ParentChildIndexGenerator.java
src/test/java/org/elasticsearch/cluster/allocation/AwarenessAllocationTests.java
src/test/java/org/elasticsearch/cluster/metadata/MetaDataTests.java
src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java
src/test/java/org/elasticsearch/common/hppc/HppcMapsTests.java
src/test/java/org/elasticsearch/common/util/BytesRefHashTests.java
src/test/java/org/elasticsearch/common/util/LongHashTests.java
src/test/java/org/elasticsearch/common/util/LongObjectHashMapTests.java
src/test/java/org/elasticsearch/index/fielddata/LongFieldDataTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
src/test/java/org/elasticsearch/recovery/RelocationTests.java
src/test/java/org/elasticsearch/search/aggregations/CombiTests.java
src/test/java/org/elasticsearch/search/aggregations/EquivalenceTests.java
src/test/java/org/elasticsearch/search/aggregations/MetaDataTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/HistogramTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/MinDocCountTests.java
src/test/java/org/elasticsearch/search/aggregations/metrics/cardinality/HyperLogLogPlusPlusTests.java
src/test/java/org/elasticsearch/search/scroll/DuelScrollTests.java
src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearchTests.java
src/test/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProviderV1.java
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
comments:
Updating to HPPC-0.7.1

Close #11035

time:
2015-05-13T10:40:35Z
class:
src/main/java/org/elasticsearch/action/termvectors/TermVectorsFields.java
src/main/java/org/elasticsearch/cluster/ClusterState.java
src/main/java/org/elasticsearch/common/bytes/BytesArray.java
src/main/java/org/elasticsearch/common/io/stream/ByteBufferStreamInput.java
src/main/java/org/elasticsearch/common/io/stream/BytesStreamInput.java
src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
src/main/java/org/elasticsearch/common/settings/loader/PropertiesSettingsLoader.java
src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java
src/main/java/org/elasticsearch/index/engine/EngineConfig.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/translog/BufferedChecksumStreamInput.java
src/main/java/org/elasticsearch/index/translog/BufferingTranslogWriter.java
src/main/java/org/elasticsearch/index/translog/ChannelReader.java
src/main/java/org/elasticsearch/index/translog/ChannelReference.java
src/main/java/org/elasticsearch/index/translog/ChannelSnapshot.java
src/main/java/org/elasticsearch/index/translog/Checkpoint.java
src/main/java/org/elasticsearch/index/translog/ChecksummedTranslogStream.java
src/main/java/org/elasticsearch/index/translog/ImmutableTranslogReader.java
src/main/java/org/elasticsearch/index/translog/LegacyTranslogReader.java
src/main/java/org/elasticsearch/index/translog/LegacyTranslogReaderBase.java
src/main/java/org/elasticsearch/index/translog/Translog.java
src/main/java/org/elasticsearch/index/translog/TranslogConfig.java
src/main/java/org/elasticsearch/index/translog/TranslogFile.java
src/main/java/org/elasticsearch/index/translog/TranslogReader.java
src/main/java/org/elasticsearch/index/translog/TranslogSnapshot.java
src/main/java/org/elasticsearch/index/translog/TranslogStream.java
src/main/java/org/elasticsearch/index/translog/TranslogStreams.java
src/main/java/org/elasticsearch/index/translog/TranslogWriter.java
src/main/java/org/elasticsearch/index/translog/TruncatedTranslogException.java
src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryTranslogOperationsRequest.java
src/main/java/org/elasticsearch/indices/recovery/SharedFSRecoverySourceHandler.java
src/main/java/org/elasticsearch/transport/local/LocalTransport.java
src/test/java/org/elasticsearch/ElasticsearchExceptionTests.java
src/test/java/org/elasticsearch/action/OriginalIndicesTests.java
src/test/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequestTest.java
src/test/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsTests.java
src/test/java/org/elasticsearch/action/get/MultiGetShardRequestTests.java
src/test/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequestTests.java
src/test/java/org/elasticsearch/action/support/IndicesOptionsTests.java
src/test/java/org/elasticsearch/cluster/ClusterHealthResponsesTests.java
src/test/java/org/elasticsearch/cluster/ClusterStateDiffTests.java
src/test/java/org/elasticsearch/cluster/block/ClusterBlockTests.java
src/test/java/org/elasticsearch/cluster/node/DiscoveryNodeTests.java
src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java
src/test/java/org/elasticsearch/cluster/serialization/DiffableTests.java
src/test/java/org/elasticsearch/common/io/StreamsTests.java
src/test/java/org/elasticsearch/common/io/streams/BytesStreamsTests.java
src/test/java/org/elasticsearch/common/unit/TimeValueTests.java
src/test/java/org/elasticsearch/common/xcontent/XContentFactoryTests.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
src/test/java/org/elasticsearch/index/store/CorruptedTranslogTests.java
src/test/java/org/elasticsearch/index/translog/BufferedTranslogTests.java
src/test/java/org/elasticsearch/index/translog/FsSimpleTranslogTests.java
src/test/java/org/elasticsearch/index/translog/TranslogTests.java
src/test/java/org/elasticsearch/index/translog/TranslogVersionTests.java
src/test/java/org/elasticsearch/indices/recovery/RecoveryStateTest.java
src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
src/test/java/org/elasticsearch/recovery/RecoveryWhileUnderLoadTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
src/test/java/org/elasticsearch/test/transport/MockTransportService.java
src/test/java/org/elasticsearch/threadpool/ThreadPoolSerializationTests.java
src/test/java/org/elasticsearch/transport/TransportMessageTests.java
comments:
Add translog checkpoints to prevent translog corruption

Today we are almost intentionally corrupt the translog if we loose
a node due to powerloss or similary disasters. In the translog reading
code we simply read until we hit an EOF exception ignoring the rest of the
translog file once hit. There is no information stored how many records
we are expecting or what the last written offset was.

This commit restructures the translog to add checkpoints that are written
with every sync operation recording the number of synced operations as well
as the last synced offset. These checkpoints are also used to identify the actual
transaction log file to open instead of relying on directory traversal.

This change adds a significant amount of additional checks and pickyness to the translog
code. For instance is the translog now associated with a specific engine via a UUID that is
written to each translog file as part of it's header. If an engine opens a translog file it
was not associated with the operation will fail.

Closes to #10933
Relates to #11011

time:
2015-05-13T10:25:32Z
class:
src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
src/main/java/org/elasticsearch/index/query/FilteredQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryBuilders.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
comments:
Merge pull request #11142 from jpountz/feature/bool_filter

Query DSL: Add `filter` clauses to `bool` queries.

time:
2015-05-13T10:04:56Z
class:
src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
src/main/java/org/elasticsearch/index/query/FilteredQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryBuilders.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
comments:
Query DSL: Add `filter` clauses to `bool` queries.

These clauses filter the document space without affecting scoring and map to
Lucene's BooleanClause.Occur.FILTER. The `filtered` query is now deprecated and

```json
{
  "filtered": {
    "query": { //query },
    "filter": { //filter }
  }
}
```
should be replaced with
```json
{
  "bool": {
    "must": { //query },
    "filter": { //filter }
  }
}
```

time:
2015-05-13T09:49:14Z
class:
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
comments:
Adapting dummy query builder in SimpleIndexQueryParserTests to refactored interfaces

time:
2015-05-13T09:20:39Z
class:
src/main/java/org/elasticsearch/action/percolate/PercolateResponse.java
src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/Security.java
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/common/jna/Natives.java
src/main/java/org/elasticsearch/env/NodeEnvironment.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/InternalMapper.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/Mapping.java
src/main/java/org/elasticsearch/index/mapper/RootMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SizeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
src/main/java/org/elasticsearch/index/store/FsDirectoryService.java
src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
src/test/java/org/elasticsearch/common/PidFileTests.java
src/test/java/org/elasticsearch/get/GetActionTests.java
src/test/java/org/elasticsearch/index/IndexWithShadowReplicasTests.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
src/test/java/org/elasticsearch/index/mapper/boost/FieldLevelBoostTests.java
src/test/java/org/elasticsearch/index/mapper/dynamictemplate/genericstore/GenericStoreDynamicTemplateTests.java
src/test/java/org/elasticsearch/index/mapper/dynamictemplate/pathmatch/PathMatchDynamicTemplateTests.java
src/test/java/org/elasticsearch/index/mapper/dynamictemplate/simple/SimpleDynamicTemplatesTests.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalRootMapper.java
src/test/java/org/elasticsearch/index/mapper/id/IdMappingTests.java
src/test/java/org/elasticsearch/index/mapper/index/IndexTypeMapperTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/merge/JavaMultiFieldMergeTests.java
src/test/java/org/elasticsearch/index/mapper/parent/ParentMappingTests.java
src/test/java/org/elasticsearch/index/mapper/routing/RoutingTypeMapperTests.java
src/test/java/org/elasticsearch/index/mapper/simple/SimpleMapperTests.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeFormatTests.java
src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeTimezoneTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
src/test/java/org/elasticsearch/search/scriptfilter/ScriptQuerySearchTests.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/ElasticsearchTokenStreamTestCase.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-05-13T09:18:28Z
class:
src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationTests.java
comments:
[TEST] fix unintended relocation

time:
2015-05-13T09:09:12Z
class:
src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
comments:
Merge pull request #11120 from jpountz/fix/bool_parsing

Query DSL: Fix `bool` parsing.

time:
2015-05-13T09:08:36Z
class:
src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
comments:
Query DSL: Fix `bool` parsing.

In #10985 I introduced a bug that should clauses are parsed as filters while
must_not clauses should be parsed as filters.

time:
2015-05-13T09:01:38Z
class:
src/main/java/org/elasticsearch/index/analysis/FieldNameAnalyzer.java
src/main/java/org/elasticsearch/index/mapper/MapperAnalyzer.java
comments:
Mappings: Make FieldNameAnalyzer less lenient.

In case FieldNameAnalyzer does not find an explicit analyzer for a given
field name, it returns the default analyzer. This behaviour can hide bugs
where the analyzer fails to be propagated to FieldNameAnalyzer or an
analyzer is requested for a field which is not mapped.

time:
2015-05-13T08:22:08Z
class:
src/main/java/org/elasticsearch/action/percolate/PercolateResponse.java
src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
comments:
Prevent PercolateResponse from serializing negative VLong

We are using a a VLong to serialize the PercolateResponse#tookInMillis. This
can due to several `System.currentTimeMillis()` implemenation details be negative.
We should prevent the negavite value for being serialized as a VLong and make sure
we use a valid value for this in the first place

Closes #11138

time:
2015-05-13T07:10:49Z
class:
src/main/java/org/elasticsearch/common/lucene/docset/AndDocIdSet.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceFilter.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
src/main/java/org/elasticsearch/index/search/geo/GeoPolygonFilter.java
src/main/java/org/elasticsearch/index/search/geo/GeoPolygonQuery.java
src/main/java/org/elasticsearch/index/search/geo/InMemoryGeoBoundingBoxQuery.java
src/main/java/org/elasticsearch/index/search/geo/IndexedGeoBoundingBoxQuery.java
src/test/java/org/elasticsearch/common/lucene/search/AndDocIdSetTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
comments:
Query DSL: Make geo filters queries.

This commit replaces geo filters with queries that support two-phase iteration.

time:
2015-05-13T06:24:36Z
class:
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/InternalMapper.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/Mapping.java
src/main/java/org/elasticsearch/index/mapper/RootMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SizeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/test/java/org/elasticsearch/get/GetActionTests.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
src/test/java/org/elasticsearch/index/mapper/boost/FieldLevelBoostTests.java
src/test/java/org/elasticsearch/index/mapper/dynamictemplate/genericstore/GenericStoreDynamicTemplateTests.java
src/test/java/org/elasticsearch/index/mapper/dynamictemplate/pathmatch/PathMatchDynamicTemplateTests.java
src/test/java/org/elasticsearch/index/mapper/dynamictemplate/simple/SimpleDynamicTemplatesTests.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalRootMapper.java
src/test/java/org/elasticsearch/index/mapper/id/IdMappingTests.java
src/test/java/org/elasticsearch/index/mapper/index/IndexTypeMapperTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/merge/JavaMultiFieldMergeTests.java
src/test/java/org/elasticsearch/index/mapper/parent/ParentMappingTests.java
src/test/java/org/elasticsearch/index/mapper/routing/RoutingTypeMapperTests.java
src/test/java/org/elasticsearch/index/mapper/simple/SimpleMapperTests.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeFormatTests.java
src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeTimezoneTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
comments:
Merge pull request #11074 from rjernst/pr/include-in-object-removal

Mappings: Remove ability to set meta fields inside documents

time:
2015-05-13T06:11:15Z
class:
src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
src/test/java/org/elasticsearch/index/mapper/id/IdMappingTests.java
src/test/java/org/elasticsearch/index/mapper/routing/RoutingTypeMapperTests.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
comments:
Add tests for includeInObject backcompat

time:
2015-05-13T06:09:03Z
class:
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/InternalMapper.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/Mapping.java
src/main/java/org/elasticsearch/index/mapper/RootMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SizeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/test/java/org/elasticsearch/get/GetActionTests.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
src/test/java/org/elasticsearch/index/mapper/boost/FieldLevelBoostTests.java
src/test/java/org/elasticsearch/index/mapper/dynamictemplate/genericstore/GenericStoreDynamicTemplateTests.java
src/test/java/org/elasticsearch/index/mapper/dynamictemplate/pathmatch/PathMatchDynamicTemplateTests.java
src/test/java/org/elasticsearch/index/mapper/dynamictemplate/simple/SimpleDynamicTemplatesTests.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalRootMapper.java
src/test/java/org/elasticsearch/index/mapper/id/IdMappingTests.java
src/test/java/org/elasticsearch/index/mapper/index/IndexTypeMapperTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/merge/JavaMultiFieldMergeTests.java
src/test/java/org/elasticsearch/index/mapper/parent/ParentMappingTests.java
src/test/java/org/elasticsearch/index/mapper/simple/SimpleMapperTests.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeFormatTests.java
src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeTimezoneTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
comments:
Mappings: Remove ability to set meta fields inside documents

A few meta fields can currently be set within a document's source.
However, the recommended way to set meta fields like this is through
the api, and setting within the document can be a performance trap
(e.g. needing to find _id in order to route the document).

This change removes the ability to set meta fields within
a document source for 2.0+ indexes.

closes #11051
closes #11074

time:
2015-05-13T01:23:17Z
class:
src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
comments:
Add tests.config support to BootstrapForTesting

Several plugins (e.g. elasticsearch-cloud-aws, elasticsearch-cloud-azure, elasticsearch-cloud-gce)
have integration tests that run with actual credentials to a remote service, so test runs
need access to this file.

These all require the tester (or jenkins) to supply the file with -Dtests.config.

time:
2015-05-13T00:59:24Z
class:
comments:
Docs: Add information about restoring to a different cluster

time:
2015-05-13T00:58:07Z
class:
src/test/java/org/elasticsearch/repositories/s3/AbstractS3SnapshotRestoreTest.java
comments:
Mark frequently failing test methods AwaitsFix until #211 is sorted out.

time:
2015-05-13T00:03:20Z
class:
src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
src/test/java/org/elasticsearch/common/PidFileTests.java
comments:
Merge pull request #11132 from rmuir/lockdown6

Remove unnecessary permissions.

time:
2015-05-12T23:15:59Z
class:
src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
src/test/java/org/elasticsearch/common/PidFileTests.java
comments:
Remove unnecessary permissions.

time:
2015-05-12T19:23:09Z
class:
src/main/java/org/elasticsearch/env/NodeEnvironment.java
src/main/java/org/elasticsearch/index/store/FsDirectoryService.java
src/test/java/org/elasticsearch/index/IndexWithShadowReplicasTests.java
src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
Merge remote-tracking branch 'dakrone/acquire-write-lock-on-delete'

time:
2015-05-12T19:19:29Z
class:
src/main/java/org/elasticsearch/env/NodeEnvironment.java
src/main/java/org/elasticsearch/index/store/FsDirectoryService.java
src/test/java/org/elasticsearch/index/IndexWithShadowReplicasTests.java
src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
[CORE] Acquire IndexWriter's `write.lock` lock before shard deletion

In `NodeEnvironment.deleteShardDirectoryUnderLock`, we will now attempt
to acquire, then release, the `write.lock` file for the Lucene index in
question to ensure that no other `IndexWriter` has the directory open
before deleting the data.

Note that the `write.lock` file must be released before the actual
deletion in order to allow the directory to be deleted.

Fixes #11097

time:
2015-05-12T18:21:19Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/Security.java
src/main/java/org/elasticsearch/common/jna/Natives.java
src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/ElasticsearchTokenStreamTestCase.java
comments:
Merge pull request #11106 from rmuir/symlink

Improve path mgmt on init, better error messages, symlink support

time:
2015-05-12T17:33:17Z
class:
src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
src/test/java/org/elasticsearch/search/scriptfilter/ScriptQuerySearchTests.java
comments:
Merge pull request #11126 from jpountz/fix/script_query

Query DSL: Make the script filter a query.

time:
2015-05-12T17:20:37Z
class:
src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
src/test/java/org/elasticsearch/search/scriptfilter/ScriptQuerySearchTests.java
comments:
Query DSL: Make the script filter a query.

This change changes the script filter so that it produces scorers with two-phase
iteration support instead of doc id sets with random-access.

time:
2015-05-12T16:53:56Z
class:
comments:
Merge pull request #11125 from jpountz/upgrade/lucene-5.2.0-snapshot-1678978

Upgrade to lucene-5.2.0-snapshot-1678978.

time:
2015-05-12T16:49:51Z
class:
comments:
Upgrade to lucene-5.2.0-snapshot-1678978.

time:
2015-05-12T12:50:42Z
class:
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/GlobalOrdinalsSignificantTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantLongTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantStringTermsAggregator.java
src/test/java/org/elasticsearch/common/jna/NativesTests.java
src/test/java/org/elasticsearch/index/mapper/FileBasedMappingsTests.java
src/test/java/org/elasticsearch/indices/template/IndexTemplateFileLoadingTests.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/test/SecurityBootstrap.java
comments:
Merge remote-tracking branch 'origin/master' into feature/synced_flush

time:
2015-05-12T12:40:56Z
class:
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
comments:
fix merge conflict in javadoc

time:
2015-05-12T11:38:55Z
class:
src/main/java/org/elasticsearch/index/mapper/attachment/AttachmentMapper.java
comments:
disable securitymanager in tests, until #129 is addressed in tika

time:
2015-05-12T10:16:33Z
class:
src/main/java/org/apache/lucene/index/TrackingConcurrentMergeScheduler.java
src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
src/main/java/org/elasticsearch/action/support/QuerySourceBuilder.java
src/main/java/org/elasticsearch/action/update/UpdateHelper.java
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/Security.java
src/main/java/org/elasticsearch/cluster/ClusterStateObserver.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
src/main/java/org/elasticsearch/common/StopWatch.java
src/main/java/org/elasticsearch/common/inject/internal/Stopwatch.java
src/main/java/org/elasticsearch/common/io/PathUtils.java
src/main/java/org/elasticsearch/common/jna/Kernel32Library.java
src/main/java/org/elasticsearch/common/jna/Natives.java
src/main/java/org/elasticsearch/common/jna/SizeT.java
src/main/java/org/elasticsearch/common/unit/TimeValue.java
src/main/java/org/elasticsearch/env/ESFileStore.java
src/main/java/org/elasticsearch/env/Environment.java
src/main/java/org/elasticsearch/env/NodeEnvironment.java
src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
src/main/java/org/elasticsearch/http/HttpServer.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/GlobalOrdinalsBuilder.java
src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/store/Store.java
src/main/java/org/elasticsearch/indices/IndicesService.java
src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryState.java
src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
src/main/java/org/elasticsearch/node/Node.java
src/main/java/org/elasticsearch/plugins/PluginsService.java
src/main/java/org/elasticsearch/repositories/fs/FsRepository.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
src/main/java/org/elasticsearch/rest/action/support/RestActions.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/GlobalOrdinalsSignificantTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantLongTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantStringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/GeoBoundsAggregator.java
src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
src/test/java/org/elasticsearch/bwcompat/ScriptTransformBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/common/jna/NativesTests.java
src/test/java/org/elasticsearch/index/mapper/FileBasedMappingsTests.java
src/test/java/org/elasticsearch/indices/template/IndexTemplateFileLoadingTests.java
src/test/java/org/elasticsearch/search/aggregations/metrics/GeoBoundsTests.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/test/SecurityBootstrap.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-05-12T09:54:56Z
class:
src/main/java/org/elasticsearch/indices/SyncedFlushService.java
src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayTests.java
src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
src/test/java/org/elasticsearch/indices/FlushTest.java
src/test/java/org/elasticsearch/test/SyncedFlushUtil.java
comments:
Make synced flush attemp async to run it easily from a TransportAction

Today we enforce blocking which doesnt' really fit in the elasticsearch model
this commit adds async execution to the synced flush service by passing a
ActinListener to the service returing immediately.

time:
2015-05-12T09:26:38Z
class:
src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
comments:
Make default constructors (needed for serialization) public

time:
2015-05-12T08:26:42Z
class:
comments:
[TEST] add comment bout security manager to bwc test description

time:
2015-05-12T07:45:17Z
class:
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/GlobalOrdinalsSignificantTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantLongTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantStringTermsAggregator.java
comments:
Aggregations enhancement - remove pointless term frequency lookups.
If the user has set a shard_min_doc_count setting then avoid looking up background frequencies if the term fails to meet the foreground threshold on a shard.

Closes #11093

time:
2015-05-12T07:36:48Z
class:
src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTest.java
src/test/java/org/elasticsearch/index/query/TermQueryBuilderTest.java
comments:
[TEST] added missing @Override annotations to query builder tests

time:
2015-05-12T07:36:11Z
class:
src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
comments:
[TEST] replace for loops to repeat tests with @Repeat annotation in BaseQueryTestCase

time:
2015-05-12T07:32:12Z
class:
src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
[TEST] Reduce likelyness of sync on every operation

time:
2015-05-12T06:21:40Z
class:
src/main/java/org/elasticsearch/index/mapper/attachment/AttachmentMapper.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/MapperTestUtils.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/integration/EncryptedAttachmentIntegrationTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/integration/SimpleAttachmentIntegrationTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/AttachmentUnitTestCase.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/EncryptedDocMapperTest.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/MetadataMapperTest.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/MultifieldAttachmentMapperTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/SimpleAttachmentMapperTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/VariousDocTest.java
comments:
Fix attachment mapper to expose subfields.

The content mapper is now true subfield. There is limited backcompat
support for the previous behavior of indexing and querying as the main
field name. While indexes pre ES 2.0 can still be read, the content
must now be queried with `FIELDNAME.content`.

time:
2015-05-12T04:53:51Z
class:
src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
comments:
Properly handle the case where symlinks are supported, but
the user is not a windows administrator (can throw IOE in this case)

time:
2015-05-12T04:34:02Z
class:
src/main/java/org/elasticsearch/bootstrap/Security.java
src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/ElasticsearchTokenStreamTestCase.java
comments:
SecurityBootstrap -> BootstrapForTesting, and make less things public

time:
2015-05-12T04:20:52Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/Security.java
src/main/java/org/elasticsearch/common/jna/Natives.java
src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
comments:
Improve path management on init:
* Properly support symlinks (e.g. /tmp -> /mnt/tmp)
* Check all configured paths up front and deliver the best exception we can when things are wrong
* Initialize securitymanager earlier
* Fix too-loud error logging of Natives root check

time:
2015-05-12T01:32:47Z
class:
comments:
disable security manager until #210 has been addressed.

time:
2015-05-12T01:26:36Z
class:
comments:
remove unnecessary prop

time:
2015-05-12T01:26:09Z
class:
comments:
remove unnecessary prop

time:
2015-05-12T01:25:43Z
class:
comments:
remove unnecessary prop

time:
2015-05-12T01:25:00Z
class:
comments:
remove unnecessary prop

time:
2015-05-12T01:24:26Z
class:
comments:
remove unnecessary prop

time:
2015-05-12T01:23:34Z
class:
comments:
remove unnecessary prop

time:
2015-05-12T01:22:58Z
class:
comments:
remove unnecessary prop

time:
2015-05-12T00:56:19Z
class:
src/test/java/org/elasticsearch/script/python/PythonScriptSearchTests.java
comments:
enable security manager in tests and upgrade to final jython 2.7.0

The previous rc version would try to execute /usr/bin/id...

time:
2015-05-12T00:46:56Z
class:
src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptSearchTests.java
comments:
enable security manager in tests

time:
2015-05-11T23:51:37Z
class:
comments:
enable security manager in tests

time:
2015-05-11T23:48:54Z
class:
comments:
enable security manager in tests

time:
2015-05-11T23:44:53Z
class:
comments:
Remove outdated policy file

time:
2015-05-11T23:43:51Z
class:
comments:
Remove outdated policy file

time:
2015-05-11T23:43:13Z
class:
comments:
Remove outdated policy file

time:
2015-05-11T23:42:40Z
class:
comments:
Remove outdated policy file

time:
2015-05-11T23:41:59Z
class:
comments:
Remove outdated policy file

time:
2015-05-11T23:40:56Z
class:
comments:
Remove outdated policy file

time:
2015-05-11T23:39:51Z
class:
comments:
enable security manager in tests

time:
2015-05-11T23:36:45Z
class:
comments:
enable security manager in tests

time:
2015-05-11T23:33:58Z
class:
comments:
enable security manager in tests

time:
2015-05-11T22:49:42Z
class:
comments:
enable security manager in tests

time:
2015-05-11T22:43:21Z
class:
comments:
enable security manager in tests

time:
2015-05-11T22:35:02Z
class:
comments:
enable security manager in tests

time:
2015-05-11T22:32:26Z
class:
src/test/java/org/elasticsearch/test/SecurityBootstrap.java
comments:
Merge pull request #11104 from rmuir/generate_paths

Generate access to tests paths like other paths.

time:
2015-05-11T22:04:14Z
class:
src/test/java/org/elasticsearch/test/SecurityBootstrap.java
comments:
Generate access to tests paths like other paths.

time:
2015-05-11T19:51:22Z
class:
src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
src/test/java/org/elasticsearch/index/mapper/FileBasedMappingsTests.java
src/test/java/org/elasticsearch/indices/template/IndexTemplateFileLoadingTests.java
comments:
Settings: Remove file based index templates

As a follow up to #10870, this removes support for
index templates on disk. It also removes a missed
place still allowing disk based mappings.

closes #11052

time:
2015-05-11T17:51:59Z
class:
src/test/java/org/elasticsearch/common/jna/NativesTests.java
comments:
[TEST] Mlockall: Removing assertTrue until we have the proper test infra

time:
2015-05-11T16:21:36Z
class:
src/main/java/org/apache/lucene/index/TrackingConcurrentMergeScheduler.java
src/main/java/org/apache/lucene/queryparser/classic/ExistsFieldQueryExtension.java
src/main/java/org/apache/lucene/queryparser/classic/MissingFieldQueryExtension.java
src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/Alias.java
src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequest.java
src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequestBuilder.java
src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java
src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/action/search/SearchResponse.java
src/main/java/org/elasticsearch/action/support/QuerySourceBuilder.java
src/main/java/org/elasticsearch/action/update/UpdateHelper.java
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/Security.java
src/main/java/org/elasticsearch/client/transport/TransportClient.java
src/main/java/org/elasticsearch/cluster/ClusterStateObserver.java
src/main/java/org/elasticsearch/cluster/metadata/AliasAction.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
src/main/java/org/elasticsearch/cluster/settings/ClusterDynamicSettingsModule.java
src/main/java/org/elasticsearch/common/ParseField.java
src/main/java/org/elasticsearch/common/StopWatch.java
src/main/java/org/elasticsearch/common/inject/internal/Stopwatch.java
src/main/java/org/elasticsearch/common/io/PathUtils.java
src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
src/main/java/org/elasticsearch/common/jna/Kernel32Library.java
src/main/java/org/elasticsearch/common/jna/Natives.java
src/main/java/org/elasticsearch/common/jna/SizeT.java
src/main/java/org/elasticsearch/common/lucene/index/FilterableTermsEnum.java
src/main/java/org/elasticsearch/common/lucene/index/FreqTermsEnum.java
src/main/java/org/elasticsearch/common/lucene/search/Queries.java
src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
src/main/java/org/elasticsearch/common/unit/TimeValue.java
src/main/java/org/elasticsearch/env/ESFileStore.java
src/main/java/org/elasticsearch/env/Environment.java
src/main/java/org/elasticsearch/env/NodeEnvironment.java
src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
src/main/java/org/elasticsearch/http/HttpServer.java
src/main/java/org/elasticsearch/index/aliases/IndexAlias.java
src/main/java/org/elasticsearch/index/aliases/IndexAliasesService.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/GlobalOrdinalsBuilder.java
src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/FieldMapperListener.java
src/main/java/org/elasticsearch/index/mapper/Mapper.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/MapperUtils.java
src/main/java/org/elasticsearch/index/mapper/MergeResult.java
src/main/java/org/elasticsearch/index/mapper/ObjectMapperListener.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
src/main/java/org/elasticsearch/index/query/AndQueryParser.java
src/main/java/org/elasticsearch/index/query/BaseFilterBuilder.java
src/main/java/org/elasticsearch/index/query/BoolFilterBuilder.java
src/main/java/org/elasticsearch/index/query/BoolFilterParser.java
src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
src/main/java/org/elasticsearch/index/query/BytesFilterBuilder.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
src/main/java/org/elasticsearch/index/query/FQueryFilterParser.java
src/main/java/org/elasticsearch/index/query/FilterBuilder.java
src/main/java/org/elasticsearch/index/query/FilterBuilders.java
src/main/java/org/elasticsearch/index/query/FilterParser.java
src/main/java/org/elasticsearch/index/query/FilteredQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoShapeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
src/main/java/org/elasticsearch/index/query/HasChildFilterBuilder.java
src/main/java/org/elasticsearch/index/query/HasChildFilterParser.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentFilterBuilder.java
src/main/java/org/elasticsearch/index/query/HasParentFilterParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/IdsFilterBuilder.java
src/main/java/org/elasticsearch/index/query/IdsFilterParser.java
src/main/java/org/elasticsearch/index/query/IndexQueryParserModule.java
src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
src/main/java/org/elasticsearch/index/query/IndicesFilterBuilder.java
src/main/java/org/elasticsearch/index/query/IndicesFilterParser.java
src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
src/main/java/org/elasticsearch/index/query/LimitQueryBuilder.java
src/main/java/org/elasticsearch/index/query/LimitQueryParser.java
src/main/java/org/elasticsearch/index/query/MatchAllFilterBuilder.java
src/main/java/org/elasticsearch/index/query/MatchAllFilterParser.java
src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
src/main/java/org/elasticsearch/index/query/NestedFilterBuilder.java
src/main/java/org/elasticsearch/index/query/NestedFilterParser.java
src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
src/main/java/org/elasticsearch/index/query/NotQueryBuilder.java
src/main/java/org/elasticsearch/index/query/NotQueryParser.java
src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
src/main/java/org/elasticsearch/index/query/OrQueryParser.java
src/main/java/org/elasticsearch/index/query/ParsedFilter.java
src/main/java/org/elasticsearch/index/query/ParsedQuery.java
src/main/java/org/elasticsearch/index/query/PrefixFilterBuilder.java
src/main/java/org/elasticsearch/index/query/PrefixFilterParser.java
src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryBuilders.java
src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/query/RangeFilterBuilder.java
src/main/java/org/elasticsearch/index/query/RangeFilterParser.java
src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
src/main/java/org/elasticsearch/index/query/RegexpFilterBuilder.java
src/main/java/org/elasticsearch/index/query/RegexpFilterParser.java
src/main/java/org/elasticsearch/index/query/RegexpFlag.java
src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
src/main/java/org/elasticsearch/index/query/TermFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TermFilterParser.java
src/main/java/org/elasticsearch/index/query/TermQueryParser.java
src/main/java/org/elasticsearch/index/query/TermsFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TermsFilterParser.java
src/main/java/org/elasticsearch/index/query/TermsLookupQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryParser.java
src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TypeQueryParser.java
src/main/java/org/elasticsearch/index/query/WrapperFilterBuilder.java
src/main/java/org/elasticsearch/index/query/WrapperFilterParser.java
src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
src/main/java/org/elasticsearch/index/query/support/XContentStructure.java
src/main/java/org/elasticsearch/index/search/FieldDataTermsFilter.java
src/main/java/org/elasticsearch/index/search/NumericRangeFieldDataFilter.java
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/store/Store.java
src/main/java/org/elasticsearch/indices/IndicesService.java
src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
src/main/java/org/elasticsearch/indices/query/IndicesQueriesModule.java
src/main/java/org/elasticsearch/indices/query/IndicesQueriesRegistry.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryState.java
src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
src/main/java/org/elasticsearch/node/Node.java
src/main/java/org/elasticsearch/percolator/PercolateContext.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/plugins/PluginsService.java
src/main/java/org/elasticsearch/repositories/fs/FsRepository.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
src/main/java/org/elasticsearch/rest/action/support/RestActions.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/ChildrenParser.java
comments:
Merge remote-tracking branch 'origin/master' into feature/synced_flush

time:
2015-05-11T16:12:32Z
class:
src/test/java/org/elasticsearch/common/jna/NativesTests.java
comments:
[TEST] Only check if mlockall succeeds on Windows for now

time:
2015-05-11T15:24:04Z
class:
src/main/java/org/apache/lucene/index/TrackingConcurrentMergeScheduler.java
src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
src/main/java/org/elasticsearch/action/update/UpdateHelper.java
src/main/java/org/elasticsearch/cluster/ClusterStateObserver.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
src/main/java/org/elasticsearch/common/StopWatch.java
src/main/java/org/elasticsearch/common/inject/internal/Stopwatch.java
src/main/java/org/elasticsearch/common/unit/TimeValue.java
src/main/java/org/elasticsearch/env/NodeEnvironment.java
src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/GlobalOrdinalsBuilder.java
src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/store/Store.java
src/main/java/org/elasticsearch/indices/IndicesService.java
src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryState.java
src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
src/main/java/org/elasticsearch/plugins/PluginsService.java
comments:
Use System.nanoTime when measuring elapsed time

System.currentTimeMillis is more vulnerable when the clock shifts.

Closes #11058

time:
2015-05-11T15:09:15Z
class:
src/test/java/org/elasticsearch/common/jna/NativesTests.java
comments:
[TEST] Fix mlockall test when running on Windows

time:
2015-05-11T14:17:28Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/common/jna/Kernel32Library.java
src/main/java/org/elasticsearch/common/jna/Natives.java
src/main/java/org/elasticsearch/common/jna/SizeT.java
comments:
Revert "Revert "VirtualLock implementation for Windows (mlockall equivalent)""

This reverts commit 5dc8b99365723154670f120e67c7479efdd542da.

time:
2015-05-11T12:54:07Z
class:
src/main/java/org/elasticsearch/cloud/aws/AwsEc2Service.java
src/main/java/org/elasticsearch/cloud/aws/InternalAwsS3Service.java
src/test/java/org/elasticsearch/cloud/aws/AmazonS3Wrapper.java
comments:
Merge pull request #208 from rmuir/disable_response_metadata_cache

Disable response metadata cache.

time:
2015-05-11T12:52:45Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/Security.java
src/main/java/org/elasticsearch/common/io/PathUtils.java
src/main/java/org/elasticsearch/env/ESFileStore.java
src/main/java/org/elasticsearch/env/Environment.java
src/main/java/org/elasticsearch/env/NodeEnvironment.java
src/main/java/org/elasticsearch/http/HttpServer.java
src/main/java/org/elasticsearch/repositories/fs/FsRepository.java
src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
comments:
Merge pull request #11069 from rmuir/ban_pathutils

Ban PathUtils.get (for now, until we fix the two remaining issues)

time:
2015-05-11T12:43:13Z
class:
src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/GeoBoundsAggregator.java
src/test/java/org/elasticsearch/search/aggregations/metrics/GeoBoundsTests.java
comments:
Aggregations: Fix geo bounds aggregation when longitude is 0

When the longitude is zero for a document, the left and right bounds do not get updated in the geo bounds aggregation which can cause the bounds to be returned with Infinite values for longitude

Closes #11085

time:
2015-05-11T10:58:30Z
class:
comments:
[DOCS] documented missing query_string parameters for count, exists, search & validate_query

relates to #11057

time:
2015-05-11T10:01:48Z
class:
src/test/java/org/elasticsearch/bwcompat/ScriptTransformBackwardsCompatibilityTests.java
comments:
[TEST] Remove ScriptTransformBackwardsCompatibilityTests

time:
2015-05-11T09:32:59Z
class:
src/main/java/org/elasticsearch/action/support/QuerySourceBuilder.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
src/main/java/org/elasticsearch/rest/action/support/RestActions.java
src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
comments:
REST: Unify query_string parameters parsing

There currently are small differences between search api and count, exists, validate query, explain api when it comes to reading query_string parameters.  `analyze_wildcard`, `lowercase_expanded_terms` and `lenient` are only read by the search api and ignored by all other mentioned apis. Unified code to fix this and make sure it doesn't happen again. Also shared some code when it comes to printing out the query as part of SearchSourceBuilder conversion to ToXContent.

Extended REST spec to include all the supported params (some that were already supported weren't listed), and added REST tests (also some basic tests for count and search_exists which weren't tested at all).

Closes #11057

time:
2015-05-11T09:13:12Z
class:
src/main/java/org/elasticsearch/action/search/SearchResponse.java
src/main/java/org/elasticsearch/client/transport/TransportClient.java
src/main/java/org/elasticsearch/cluster/settings/ClusterDynamicSettingsModule.java
src/main/java/org/elasticsearch/index/query/BytesQueryBuilder.java
src/main/java/org/elasticsearch/index/query/QueryBuilders.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryParser.java
src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
src/main/java/org/elasticsearch/indices/query/IndicesQueriesModule.java
src/main/java/org/elasticsearch/node/Node.java
src/main/java/org/elasticsearch/rest/action/support/RestActions.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
src/main/java/org/elasticsearch/threadpool/ThreadPool.java
src/main/java/org/elasticsearch/threadpool/ThreadPoolModule.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
src/test/java/org/elasticsearch/bwcompat/ScriptTransformBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
src/test/java/org/elasticsearch/index/query/TemplateQueryParserTest.java
src/test/java/org/elasticsearch/index/query/plugin/IndexQueryParserPlugin2Tests.java
src/test/java/org/elasticsearch/index/query/plugin/IndexQueryParserPluginTests.java
src/test/java/org/elasticsearch/index/search/child/TopChildrenQueryTests.java
src/test/java/org/elasticsearch/index/store/CorruptedTranslogTests.java
src/test/java/org/elasticsearch/index/store/StoreTest.java
src/test/java/org/elasticsearch/script/NativeScriptTests.java
src/test/java/org/elasticsearch/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/threadpool/SimpleThreadPoolTests.java
src/test/java/org/elasticsearch/threadpool/ThreadPoolSerializationTests.java
src/test/java/org/elasticsearch/threadpool/UpdateThreadPoolSettingsTests.java
src/test/java/org/elasticsearch/transport/NettySizeHeaderFrameDecoderTests.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-05-11T09:10:00Z
class:
src/main/java/org/elasticsearch/node/Node.java
comments:
Internal: close caches after IndicesService.

time:
2015-05-11T08:34:26Z
class:
src/test/java/org/elasticsearch/index/store/CorruptedTranslogTests.java
comments:
[TEST] Only corrupt translog header today we can't detecte truncation corruption

time:
2015-05-11T08:24:19Z
class:
src/test/java/org/elasticsearch/index/store/CorruptedTranslogTests.java
comments:
[TEST] use the correct translog setting

time:
2015-05-11T07:21:09Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/common/jna/Kernel32Library.java
src/main/java/org/elasticsearch/common/jna/Natives.java
src/main/java/org/elasticsearch/common/jna/SizeT.java
comments:
Revert "VirtualLock implementation for Windows (mlockall equivalent)"

All test runs fail on windowns with this commit.

This reverts commit 6f99f5d5b223f9daa046f40b958d14643598e4f7.

time:
2015-05-10T18:49:37Z
class:
src/test/java/org/elasticsearch/index/store/StoreTest.java
comments:
[TEST] Fix storeStats tests if extraFS is involved

time:
2015-05-10T16:22:17Z
class:
src/test/java/org/elasticsearch/bwcompat/ScriptTransformBackwardsCompatibilityTests.java
comments:
[TEST] enable inline scripting for test

time:
2015-05-10T14:30:19Z
class:
src/main/java/org/elasticsearch/index/query/QueryBuilders.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryParser.java
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
src/main/java/org/elasticsearch/indices/query/IndicesQueriesModule.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
src/test/java/org/elasticsearch/index/search/child/TopChildrenQueryTests.java
src/test/java/org/elasticsearch/search/child/SimpleChildQuerySearchTests.java
comments:
parent/child: Removed the `top_children` query.

time:
2015-05-09T13:25:55Z
class:
src/main/java/org/elasticsearch/index/query/BytesQueryBuilder.java
src/main/java/org/elasticsearch/index/query/QueryBuilders.java
src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
comments:
Java api: remove redundant BytesQueryBuilder in favour of using WrapperQueryBuilder internally

BytesQueryBuilder was introduced to be used internally by the phrase suggester and its collate feature. It ended up being exposed via Java api but the existing WrapperQueryBuilder could be used instead. Added WrapperQueryBuilder constructor that accepts a BytesReference as argument.

One other reason why this filter builder should be removed is that it gets on the way of the query parsers refactoring, given that it's the only query builder that allows to build a query through java api without having a respective query parser.

Closes #10919

time:
2015-05-09T12:55:28Z
class:
src/main/java/org/elasticsearch/action/search/SearchResponse.java
src/main/java/org/elasticsearch/rest/action/support/RestActions.java
comments:
Java api: unify SearchResponse and BroadcastOperationResponse code around shards header

Different responses hold the shards header, search, count, flush etc. The code was duplicated in two different places, centralized in RestActions.
It turns out that only the search response printed out the status field before the reason, which was added to all other broadcast responses too.

Closes #11064

time:
2015-05-08T22:38:58Z
class:
src/main/java/org/elasticsearch/cluster/settings/ClusterDynamicSettingsModule.java
comments:
Internal: prevent injection of unannotated dynamic settings

Dynamic settings has to be injected into constructor with either @ClusterDynamicSettings or @IndexDynamicSettings. If annotations are not specified an empty instance of Dynamic Settings is injected that can lead to difficult to discover errors such as #10614. This commit will make any attempt to inject unannotated dynamic settings to generate a giuce error.

time:
2015-05-08T20:16:17Z
class:
src/main/java/org/elasticsearch/client/transport/TransportClient.java
src/main/java/org/elasticsearch/node/Node.java
src/main/java/org/elasticsearch/threadpool/ThreadPool.java
src/main/java/org/elasticsearch/threadpool/ThreadPoolModule.java
src/test/java/org/elasticsearch/index/query/TemplateQueryParserTest.java
src/test/java/org/elasticsearch/index/query/plugin/IndexQueryParserPlugin2Tests.java
src/test/java/org/elasticsearch/index/query/plugin/IndexQueryParserPluginTests.java
src/test/java/org/elasticsearch/script/NativeScriptTests.java
src/test/java/org/elasticsearch/threadpool/SimpleThreadPoolTests.java
src/test/java/org/elasticsearch/threadpool/ThreadPoolSerializationTests.java
src/test/java/org/elasticsearch/threadpool/UpdateThreadPoolSettingsTests.java
src/test/java/org/elasticsearch/transport/NettySizeHeaderFrameDecoderTests.java
comments:
ThreadPool: make sure no leaking threads are left behind in case of initialization failure

Our ThreadPool constructor creates a couple of threads (scheduler and timer) which might not get shut down if the initialization of a node fails. A guice error might occur for example, which causes the InternalNode constructor to throw an exception. In this case the two threads are left behind, which is not a big problem when running es standalone as the error will be intercepted and the jvm will be stopped as a whole. It can become more of a problem though when running es in embedded mode, as we'll end up with lingering threads or testing an handling of initialization failures.

Closes #9107

time:
2015-05-08T19:08:13Z
class:
src/main/java/org/elasticsearch/bootstrap/Security.java
src/main/java/org/elasticsearch/http/HttpServer.java
src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
comments:
cleanup and ban temp files going to jvm default location

time:
2015-05-08T18:42:27Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/Security.java
src/main/java/org/elasticsearch/common/io/PathUtils.java
src/main/java/org/elasticsearch/env/ESFileStore.java
src/main/java/org/elasticsearch/env/Environment.java
src/main/java/org/elasticsearch/env/NodeEnvironment.java
src/main/java/org/elasticsearch/http/HttpServer.java
src/main/java/org/elasticsearch/repositories/fs/FsRepository.java
src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
comments:
Ban PathUtils.get (for now, until we fix the two remaining issues)

time:
2015-05-08T16:41:43Z
class:
src/main/java/org/elasticsearch/cloud/aws/InternalAwsS3Service.java
comments:
Disable response metadata cache in this ClientConfiguration as well.

time:
2015-05-08T16:32:26Z
class:
src/main/java/org/elasticsearch/cloud/aws/AwsEc2Service.java
src/test/java/org/elasticsearch/cloud/aws/AmazonS3Wrapper.java
comments:
Disable response metadata cache.

This cache is only used for diagnostic purposes, but
can force objects from every response to the old generation.

Fixes #193

time:
2015-05-08T16:11:26Z
class:
comments:
Merge remote-tracking branch 'refs/remotes/dakrone/truncate-loglines'

time:
2015-05-08T16:10:44Z
class:
comments:
Truncate log messages at 10,000 characters

time:
2015-05-08T13:52:25Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/common/jna/Kernel32Library.java
src/main/java/org/elasticsearch/common/jna/Natives.java
src/main/java/org/elasticsearch/common/jna/SizeT.java
comments:
Merge pull request #10887 from gmarz/feature/virtuallock

mlockall for Windows (VirtualLock)

time:
2015-05-08T13:25:16Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/common/jna/Kernel32Library.java
src/main/java/org/elasticsearch/common/jna/Natives.java
src/main/java/org/elasticsearch/common/jna/SizeT.java
comments:
VirtualLock implementation for Windows (mlockall equivalent)

Closes #8480
Nice, thanks for all the docs around these methods. It is very helpful.


time:
2015-05-08T13:19:52Z
class:
src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTest.java
comments:
Query refactoring: refactored IdsQueryBuilder and Parser and added test

Split the parse(QueryParseContext ctx) method into a parsing and a query building part,
adding Streamable for serialization and hashCode(), equals() for better testing.
Add basic unit test for Builder and Parser.

Closes #10670

time:
2015-05-08T12:58:47Z
class:
src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
src/test/java/org/elasticsearch/common/io/streams/BytesStreamsTests.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-05-08T12:52:28Z
class:
src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
src/test/java/org/elasticsearch/common/io/streams/BytesStreamsTests.java
comments:
Merge pull request #11056 from cbuescher/feature/read-write-stringlist

Transport: read/write support for list of strings

time:
2015-05-08T12:24:17Z
class:
src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
src/test/java/org/elasticsearch/common/io/streams/BytesStreamsTests.java
comments:
Transport: read/write support for list of strings

Add support for reading and writng string lists to existing StreamInput and StreamOutput class.

time:
2015-05-08T12:22:09Z
class:
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
comments:
Add missing null check to QueryParseContext#parseInnerQuery to fix test failure

time:
2015-05-08T10:16:02Z
class:
src/test/java/org/elasticsearch/index/query/MatchAllQueryBuilderTest.java
comments:
Remove @Repeat from MatchAllQueryBuilderTest, handled in BaseQueryBuilderTest now

time:
2015-05-08T08:33:39Z
class:
src/main/java/org/apache/lucene/queryparser/classic/ExistsFieldQueryExtension.java
src/main/java/org/apache/lucene/queryparser/classic/MissingFieldQueryExtension.java
src/main/java/org/elasticsearch/action/admin/indices/alias/Alias.java
src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequest.java
src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequestBuilder.java
src/main/java/org/elasticsearch/action/bulk/BulkRequestBuilder.java
src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java
src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/cluster/metadata/AliasAction.java
src/main/java/org/elasticsearch/common/ParseField.java
src/main/java/org/elasticsearch/common/lucene/index/FilterableTermsEnum.java
src/main/java/org/elasticsearch/common/lucene/index/FreqTermsEnum.java
src/main/java/org/elasticsearch/common/lucene/search/Queries.java
src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
src/main/java/org/elasticsearch/index/aliases/IndexAlias.java
src/main/java/org/elasticsearch/index/aliases/IndexAliasesService.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/FieldMapperListener.java
src/main/java/org/elasticsearch/index/mapper/Mapper.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/MapperUtils.java
src/main/java/org/elasticsearch/index/mapper/MergeResult.java
src/main/java/org/elasticsearch/index/mapper/ObjectMapperListener.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
src/main/java/org/elasticsearch/index/query/AndQueryParser.java
src/main/java/org/elasticsearch/index/query/BaseFilterBuilder.java
src/main/java/org/elasticsearch/index/query/BoolFilterBuilder.java
src/main/java/org/elasticsearch/index/query/BoolFilterParser.java
src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
src/main/java/org/elasticsearch/index/query/BytesQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
src/main/java/org/elasticsearch/index/query/FQueryFilterParser.java
src/main/java/org/elasticsearch/index/query/FilterBuilder.java
src/main/java/org/elasticsearch/index/query/FilterBuilders.java
src/main/java/org/elasticsearch/index/query/FilterParser.java
src/main/java/org/elasticsearch/index/query/FilterParserFactory.java
src/main/java/org/elasticsearch/index/query/FilteredQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoShapeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
src/main/java/org/elasticsearch/index/query/HasChildFilterBuilder.java
src/main/java/org/elasticsearch/index/query/HasChildFilterParser.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentFilterBuilder.java
src/main/java/org/elasticsearch/index/query/HasParentFilterParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/IdsFilterBuilder.java
src/main/java/org/elasticsearch/index/query/IdsFilterParser.java
src/main/java/org/elasticsearch/index/query/IndexQueryParserModule.java
src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
src/main/java/org/elasticsearch/index/query/IndicesFilterBuilder.java
src/main/java/org/elasticsearch/index/query/IndicesFilterParser.java
src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
src/main/java/org/elasticsearch/index/query/LimitQueryBuilder.java
src/main/java/org/elasticsearch/index/query/LimitQueryParser.java
src/main/java/org/elasticsearch/index/query/MatchAllFilterBuilder.java
src/main/java/org/elasticsearch/index/query/MatchAllFilterParser.java
src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
src/main/java/org/elasticsearch/index/query/NestedFilterBuilder.java
src/main/java/org/elasticsearch/index/query/NestedFilterParser.java
src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
src/main/java/org/elasticsearch/index/query/NotQueryBuilder.java
src/main/java/org/elasticsearch/index/query/NotQueryParser.java
src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
src/main/java/org/elasticsearch/index/query/OrQueryParser.java
src/main/java/org/elasticsearch/index/query/ParsedFilter.java
src/main/java/org/elasticsearch/index/query/ParsedQuery.java
src/main/java/org/elasticsearch/index/query/PrefixFilterBuilder.java
src/main/java/org/elasticsearch/index/query/PrefixFilterParser.java
src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryBuilders.java
src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/query/RangeFilterBuilder.java
src/main/java/org/elasticsearch/index/query/RangeFilterParser.java
src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
src/main/java/org/elasticsearch/index/query/RegexpFilterBuilder.java
src/main/java/org/elasticsearch/index/query/RegexpFilterParser.java
src/main/java/org/elasticsearch/index/query/RegexpFlag.java
src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
src/main/java/org/elasticsearch/index/query/TermFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TermFilterParser.java
src/main/java/org/elasticsearch/index/query/TermQueryParser.java
src/main/java/org/elasticsearch/index/query/TermsFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TermsFilterParser.java
src/main/java/org/elasticsearch/index/query/TermsLookupQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryParser.java
src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TypeQueryParser.java
src/main/java/org/elasticsearch/index/query/WrapperFilterBuilder.java
src/main/java/org/elasticsearch/index/query/WrapperFilterParser.java
src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
src/main/java/org/elasticsearch/index/query/support/XContentStructure.java
src/main/java/org/elasticsearch/index/search/FieldDataTermsFilter.java
src/main/java/org/elasticsearch/index/search/NumericRangeFieldDataFilter.java
src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/translog/BufferingTranslogFile.java
src/main/java/org/elasticsearch/index/translog/SimpleTranslogFile.java
src/main/java/org/elasticsearch/index/translog/Translog.java
src/main/java/org/elasticsearch/index/translog/TranslogFile.java
src/main/java/org/elasticsearch/index/translog/TranslogService.java
src/main/java/org/elasticsearch/indices/IndicesService.java
src/main/java/org/elasticsearch/indices/query/IndicesQueriesModule.java
src/main/java/org/elasticsearch/indices/query/IndicesQueriesRegistry.java
src/main/java/org/elasticsearch/percolator/PercolateContext.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
src/main/java/org/elasticsearch/script/ScriptParameterParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/ChildrenParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregationBuilder.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregationBuilder.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsBuilder.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParametersParser.java
src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
src/main/java/org/elasticsearch/search/dfs/CachedDfSource.java
src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
src/main/java/org/elasticsearch/search/fetch/FetchSubPhase.java
src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
src/main/java/org/elasticsearch/search/fetch/matchedqueries/MatchedQueriesFetchSubPhase.java
src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
src/main/java/org/elasticsearch/search/internal/SearchContext.java
src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
src/main/java/org/elasticsearch/search/query/FilterBinaryParseElement.java
src/main/java/org/elasticsearch/search/query/PostFilterParseElement.java
src/main/java/org/elasticsearch/search/sort/FieldSortBuilder.java
src/main/java/org/elasticsearch/search/sort/GeoDistanceSortBuilder.java
src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
src/main/java/org/elasticsearch/search/sort/ScriptSortBuilder.java
src/main/java/org/elasticsearch/search/sort/ScriptSortParser.java
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
src/test/java/org/elasticsearch/action/admin/HotThreadsTest.java
src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java
src/test/java/org/elasticsearch/benchmark/scripts/score/BasicScriptBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/QueryFilterAggregationSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/TimeDataHistogramAggregationBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchAndIndexingBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchShortCircuitBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/geo/GeoDistanceSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/stress/NodesStressTest.java
src/test/java/org/elasticsearch/bwcompat/BasicBackwardsCompatibilityTest.java
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/bwcompat/ScriptTransformBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/cluster/ClusterStateDiffTests.java
comments:
Merge branch 'master' into feature/query-refactoring

Conflicts:
	src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
	src/main/java/org/elasticsearch/index/query/FilterBuilder.java
	src/main/java/org/elasticsearch/index/query/FilterParser.java
	src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
	src/main/java/org/elasticsearch/index/query/QueryParseContext.java
	src/main/java/org/elasticsearch/index/query/TermQueryParser.java
	src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java

time:
2015-05-08T06:32:13Z
class:
comments:
Docs: Rewrote the term query docs to explain analyzed vs not_analyzed

time:
2015-05-07T20:26:42Z
class:
src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
comments:
Test for reading alternate suffixes

time:
2015-05-07T20:13:57Z
class:
src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
comments:
fix the build, remove usage of old ES specific IAE

time:
2015-05-07T19:51:28Z
class:
src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
comments:
Merge pull request #10864 from aleph-zero/issues/9606

Remove (dfs_)query_and_fetch from the REST API

time:
2015-05-07T19:50:48Z
class:
comments:
Docs: Fix grammar and typos in percolate

Added commas, capitalized "JSON" and "API", capitalized titles, etc.

Closes #11023

time:
2015-05-07T19:18:25Z
class:
src/test/java/org/elasticsearch/index/translog/TranslogTests.java
comments:
[TEST] only roll over translog if we at least add one operation

time:
2015-05-07T19:06:23Z
class:
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
comments:
Tests: Fix bad parsing of empty filters.

time:
2015-05-07T18:26:49Z
class:
comments:
Docs: Cleanup meta field docs

Meta fields were locked down to not allow exotic options to the
underlying field types in #8143. This change fixes the docs
to no longer refer to the old settings.

closes #10879

time:
2015-05-07T18:15:31Z
class:
src/main/java/org/apache/lucene/queryparser/classic/ExistsFieldQueryExtension.java
src/main/java/org/apache/lucene/queryparser/classic/MissingFieldQueryExtension.java
src/main/java/org/elasticsearch/action/admin/indices/alias/Alias.java
src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequest.java
src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequestBuilder.java
src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java
src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/cluster/metadata/AliasAction.java
src/main/java/org/elasticsearch/common/ParseField.java
src/main/java/org/elasticsearch/common/lucene/index/FilterableTermsEnum.java
src/main/java/org/elasticsearch/common/lucene/index/FreqTermsEnum.java
src/main/java/org/elasticsearch/common/lucene/search/Queries.java
src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
src/main/java/org/elasticsearch/index/aliases/IndexAlias.java
src/main/java/org/elasticsearch/index/aliases/IndexAliasesService.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
src/main/java/org/elasticsearch/index/query/AndQueryParser.java
src/main/java/org/elasticsearch/index/query/BaseFilterBuilder.java
src/main/java/org/elasticsearch/index/query/BoolFilterBuilder.java
src/main/java/org/elasticsearch/index/query/BoolFilterParser.java
src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
src/main/java/org/elasticsearch/index/query/BytesQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
src/main/java/org/elasticsearch/index/query/FQueryFilterParser.java
src/main/java/org/elasticsearch/index/query/FilterBuilder.java
src/main/java/org/elasticsearch/index/query/FilterBuilders.java
src/main/java/org/elasticsearch/index/query/FilterParser.java
src/main/java/org/elasticsearch/index/query/FilterParserFactory.java
src/main/java/org/elasticsearch/index/query/FilteredQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoShapeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
src/main/java/org/elasticsearch/index/query/HasChildFilterBuilder.java
src/main/java/org/elasticsearch/index/query/HasChildFilterParser.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentFilterBuilder.java
src/main/java/org/elasticsearch/index/query/HasParentFilterParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/IdsFilterBuilder.java
src/main/java/org/elasticsearch/index/query/IdsFilterParser.java
src/main/java/org/elasticsearch/index/query/IndexQueryParserModule.java
src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
src/main/java/org/elasticsearch/index/query/IndicesFilterBuilder.java
src/main/java/org/elasticsearch/index/query/IndicesFilterParser.java
src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
src/main/java/org/elasticsearch/index/query/LimitQueryBuilder.java
src/main/java/org/elasticsearch/index/query/LimitQueryParser.java
src/main/java/org/elasticsearch/index/query/MatchAllFilterBuilder.java
src/main/java/org/elasticsearch/index/query/MatchAllFilterParser.java
src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
src/main/java/org/elasticsearch/index/query/NestedFilterBuilder.java
src/main/java/org/elasticsearch/index/query/NestedFilterParser.java
src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
src/main/java/org/elasticsearch/index/query/NotQueryBuilder.java
src/main/java/org/elasticsearch/index/query/NotQueryParser.java
src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
src/main/java/org/elasticsearch/index/query/OrQueryParser.java
src/main/java/org/elasticsearch/index/query/ParsedFilter.java
src/main/java/org/elasticsearch/index/query/ParsedQuery.java
src/main/java/org/elasticsearch/index/query/PrefixFilterBuilder.java
src/main/java/org/elasticsearch/index/query/PrefixFilterParser.java
src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryBuilders.java
src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/query/RangeFilterBuilder.java
src/main/java/org/elasticsearch/index/query/RangeFilterParser.java
src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
src/main/java/org/elasticsearch/index/query/RegexpFilterBuilder.java
src/main/java/org/elasticsearch/index/query/RegexpFilterParser.java
src/main/java/org/elasticsearch/index/query/RegexpFlag.java
src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
src/main/java/org/elasticsearch/index/query/TermFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TermFilterParser.java
src/main/java/org/elasticsearch/index/query/TermQueryParser.java
src/main/java/org/elasticsearch/index/query/TermsFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TermsFilterParser.java
src/main/java/org/elasticsearch/index/query/TermsLookupQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryParser.java
src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TypeQueryParser.java
src/main/java/org/elasticsearch/index/query/WrapperFilterBuilder.java
src/main/java/org/elasticsearch/index/query/WrapperFilterParser.java
src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
src/main/java/org/elasticsearch/index/query/support/XContentStructure.java
src/main/java/org/elasticsearch/index/search/FieldDataTermsFilter.java
src/main/java/org/elasticsearch/index/search/NumericRangeFieldDataFilter.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/indices/query/IndicesQueriesModule.java
src/main/java/org/elasticsearch/indices/query/IndicesQueriesRegistry.java
src/main/java/org/elasticsearch/percolator/PercolateContext.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/ChildrenParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregationBuilder.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregationBuilder.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsBuilder.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParametersParser.java
src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
src/main/java/org/elasticsearch/search/dfs/CachedDfSource.java
src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
src/main/java/org/elasticsearch/search/fetch/FetchSubPhase.java
src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
src/main/java/org/elasticsearch/search/fetch/matchedqueries/MatchedQueriesFetchSubPhase.java
src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
src/main/java/org/elasticsearch/search/internal/SearchContext.java
src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
src/main/java/org/elasticsearch/search/query/FilterBinaryParseElement.java
src/main/java/org/elasticsearch/search/query/PostFilterParseElement.java
src/main/java/org/elasticsearch/search/sort/FieldSortBuilder.java
src/main/java/org/elasticsearch/search/sort/GeoDistanceSortBuilder.java
src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
src/main/java/org/elasticsearch/search/sort/ScriptSortBuilder.java
src/main/java/org/elasticsearch/search/sort/ScriptSortParser.java
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
src/test/java/org/elasticsearch/action/admin/HotThreadsTest.java
src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java
src/test/java/org/elasticsearch/benchmark/scripts/score/BasicScriptBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/QueryFilterAggregationSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/TimeDataHistogramAggregationBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchAndIndexingBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchShortCircuitBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/geo/GeoDistanceSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/stress/NodesStressTest.java
src/test/java/org/elasticsearch/bwcompat/BasicBackwardsCompatibilityTest.java
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/cluster/ClusterStateDiffTests.java
src/test/java/org/elasticsearch/cluster/SpecificMasterNodesTests.java
src/test/java/org/elasticsearch/common/lucene/index/FreqTermsEnumTests.java
src/test/java/org/elasticsearch/common/lucene/search/MatchAllDocsFilterTests.java
src/test/java/org/elasticsearch/count/query/CountQueryTests.java
src/test/java/org/elasticsearch/explain/ExplainActionTests.java
src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayTests.java
src/test/java/org/elasticsearch/index/aliases/IndexAliasesServiceTests.java
src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalValuesMapperIntegrationTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldsIntegrationTests.java
src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/index/query/guice/IndexQueryParserModuleTests.java
src/test/java/org/elasticsearch/index/query/guice/MyJsonFilterParser.java
src/test/java/org/elasticsearch/index/query/plugin/IndexQueryParserPlugin2Tests.java
src/test/java/org/elasticsearch/index/query/plugin/IndexQueryParserPluginTests.java
src/test/java/org/elasticsearch/index/query/plugin/PluginJsonFilterParser.java
src/test/java/org/elasticsearch/index/search/FieldDataTermsFilterTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateTests.java
src/test/java/org/elasticsearch/nested/SimpleNestedTests.java
src/test/java/org/elasticsearch/percolator/PercolatorTests.java
src/test/java/org/elasticsearch/script/GroovyScriptTests.java
src/test/java/org/elasticsearch/search/aggregations/EquivalenceTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/DoubleTermsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/FilterTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/FiltersTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/HistogramTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/LongTermsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/NestedTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/ReverseNestedTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/ShardReduceTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsTests.java
comments:
Merge pull request #10985 from jpountz/enhancement/remove_filters

Query DSL: Remove filter parsers.

time:
2015-05-07T18:14:34Z
class:
src/main/java/org/apache/lucene/queryparser/classic/ExistsFieldQueryExtension.java
src/main/java/org/apache/lucene/queryparser/classic/MissingFieldQueryExtension.java
src/main/java/org/elasticsearch/action/admin/indices/alias/Alias.java
src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequest.java
src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequestBuilder.java
src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java
src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/cluster/metadata/AliasAction.java
src/main/java/org/elasticsearch/common/ParseField.java
src/main/java/org/elasticsearch/common/lucene/index/FilterableTermsEnum.java
src/main/java/org/elasticsearch/common/lucene/index/FreqTermsEnum.java
src/main/java/org/elasticsearch/common/lucene/search/Queries.java
src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
src/main/java/org/elasticsearch/index/aliases/IndexAlias.java
src/main/java/org/elasticsearch/index/aliases/IndexAliasesService.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
src/main/java/org/elasticsearch/index/query/AndQueryParser.java
src/main/java/org/elasticsearch/index/query/BaseFilterBuilder.java
src/main/java/org/elasticsearch/index/query/BoolFilterBuilder.java
src/main/java/org/elasticsearch/index/query/BoolFilterParser.java
src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
src/main/java/org/elasticsearch/index/query/BytesQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
src/main/java/org/elasticsearch/index/query/FQueryFilterParser.java
src/main/java/org/elasticsearch/index/query/FilterBuilder.java
src/main/java/org/elasticsearch/index/query/FilterBuilders.java
src/main/java/org/elasticsearch/index/query/FilterParser.java
src/main/java/org/elasticsearch/index/query/FilterParserFactory.java
src/main/java/org/elasticsearch/index/query/FilteredQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoShapeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
src/main/java/org/elasticsearch/index/query/HasChildFilterBuilder.java
src/main/java/org/elasticsearch/index/query/HasChildFilterParser.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentFilterBuilder.java
src/main/java/org/elasticsearch/index/query/HasParentFilterParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/IdsFilterBuilder.java
src/main/java/org/elasticsearch/index/query/IdsFilterParser.java
src/main/java/org/elasticsearch/index/query/IndexQueryParserModule.java
src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
src/main/java/org/elasticsearch/index/query/IndicesFilterBuilder.java
src/main/java/org/elasticsearch/index/query/IndicesFilterParser.java
src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
src/main/java/org/elasticsearch/index/query/LimitQueryBuilder.java
src/main/java/org/elasticsearch/index/query/LimitQueryParser.java
src/main/java/org/elasticsearch/index/query/MatchAllFilterBuilder.java
src/main/java/org/elasticsearch/index/query/MatchAllFilterParser.java
src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
src/main/java/org/elasticsearch/index/query/NestedFilterBuilder.java
src/main/java/org/elasticsearch/index/query/NestedFilterParser.java
src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
src/main/java/org/elasticsearch/index/query/NotQueryBuilder.java
src/main/java/org/elasticsearch/index/query/NotQueryParser.java
src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
src/main/java/org/elasticsearch/index/query/OrQueryParser.java
src/main/java/org/elasticsearch/index/query/ParsedFilter.java
src/main/java/org/elasticsearch/index/query/ParsedQuery.java
src/main/java/org/elasticsearch/index/query/PrefixFilterBuilder.java
src/main/java/org/elasticsearch/index/query/PrefixFilterParser.java
src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryBuilders.java
src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/query/RangeFilterBuilder.java
src/main/java/org/elasticsearch/index/query/RangeFilterParser.java
src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
src/main/java/org/elasticsearch/index/query/RegexpFilterBuilder.java
src/main/java/org/elasticsearch/index/query/RegexpFilterParser.java
src/main/java/org/elasticsearch/index/query/RegexpFlag.java
src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
src/main/java/org/elasticsearch/index/query/TermFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TermFilterParser.java
src/main/java/org/elasticsearch/index/query/TermQueryParser.java
src/main/java/org/elasticsearch/index/query/TermsFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TermsFilterParser.java
src/main/java/org/elasticsearch/index/query/TermsLookupQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryParser.java
src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TypeQueryParser.java
src/main/java/org/elasticsearch/index/query/WrapperFilterBuilder.java
src/main/java/org/elasticsearch/index/query/WrapperFilterParser.java
src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
src/main/java/org/elasticsearch/index/query/support/XContentStructure.java
src/main/java/org/elasticsearch/index/search/FieldDataTermsFilter.java
src/main/java/org/elasticsearch/index/search/NumericRangeFieldDataFilter.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/indices/query/IndicesQueriesModule.java
src/main/java/org/elasticsearch/indices/query/IndicesQueriesRegistry.java
src/main/java/org/elasticsearch/percolator/PercolateContext.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/ChildrenParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregationBuilder.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregationBuilder.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsBuilder.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParametersParser.java
src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
src/main/java/org/elasticsearch/search/dfs/CachedDfSource.java
src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
src/main/java/org/elasticsearch/search/fetch/FetchSubPhase.java
src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
src/main/java/org/elasticsearch/search/fetch/matchedqueries/MatchedQueriesFetchSubPhase.java
src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
src/main/java/org/elasticsearch/search/internal/SearchContext.java
src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
src/main/java/org/elasticsearch/search/query/FilterBinaryParseElement.java
src/main/java/org/elasticsearch/search/query/PostFilterParseElement.java
src/main/java/org/elasticsearch/search/sort/FieldSortBuilder.java
src/main/java/org/elasticsearch/search/sort/GeoDistanceSortBuilder.java
src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
src/main/java/org/elasticsearch/search/sort/ScriptSortBuilder.java
src/main/java/org/elasticsearch/search/sort/ScriptSortParser.java
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
src/test/java/org/elasticsearch/action/admin/HotThreadsTest.java
src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java
src/test/java/org/elasticsearch/benchmark/scripts/score/BasicScriptBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/QueryFilterAggregationSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/TimeDataHistogramAggregationBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchAndIndexingBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchShortCircuitBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/geo/GeoDistanceSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/stress/NodesStressTest.java
src/test/java/org/elasticsearch/bwcompat/BasicBackwardsCompatibilityTest.java
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/cluster/ClusterStateDiffTests.java
src/test/java/org/elasticsearch/cluster/SpecificMasterNodesTests.java
src/test/java/org/elasticsearch/common/lucene/index/FreqTermsEnumTests.java
src/test/java/org/elasticsearch/common/lucene/search/MatchAllDocsFilterTests.java
src/test/java/org/elasticsearch/count/query/CountQueryTests.java
src/test/java/org/elasticsearch/explain/ExplainActionTests.java
src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayTests.java
src/test/java/org/elasticsearch/index/aliases/IndexAliasesServiceTests.java
src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalValuesMapperIntegrationTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldsIntegrationTests.java
src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/index/query/guice/IndexQueryParserModuleTests.java
src/test/java/org/elasticsearch/index/query/guice/MyJsonFilterParser.java
src/test/java/org/elasticsearch/index/query/plugin/IndexQueryParserPlugin2Tests.java
src/test/java/org/elasticsearch/index/query/plugin/IndexQueryParserPluginTests.java
src/test/java/org/elasticsearch/index/query/plugin/PluginJsonFilterParser.java
src/test/java/org/elasticsearch/index/search/FieldDataTermsFilterTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateTests.java
src/test/java/org/elasticsearch/nested/SimpleNestedTests.java
src/test/java/org/elasticsearch/percolator/PercolatorTests.java
src/test/java/org/elasticsearch/script/GroovyScriptTests.java
src/test/java/org/elasticsearch/search/aggregations/EquivalenceTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/DoubleTermsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/FilterTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/FiltersTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/HistogramTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/LongTermsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/NestedTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/ReverseNestedTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/ShardReduceTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsTests.java
comments:
Query DSL: Remove filter parsers.

This commit makes queries and filters parsed the same way using the
QueryParser abstraction. This allowed to remove duplicate code that we had
for similar queries/filters such as `range`, `prefix` or `term`.

time:
2015-05-07T17:17:52Z
class:
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
src/main/java/org/elasticsearch/index/mapper/FieldMapperListener.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/MapperUtils.java
src/main/java/org/elasticsearch/index/mapper/MergeResult.java
src/main/java/org/elasticsearch/index/mapper/ObjectMapperListener.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/mapper/core/BooleanFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
src/test/java/org/elasticsearch/index/mapper/simple/SimpleMapperTests.java
comments:
Mappings: Remove mapper listeners

The mapper listener concept is only now used as a callback to the
MapperService when new fields are added. This change removes the
listeners, instead storing a link to the mapper service in
each doc mapper.

time:
2015-05-07T15:52:38Z
class:
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/Mapper.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/MapperUtils.java
src/main/java/org/elasticsearch/index/mapper/ObjectMapperListener.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/test/java/org/elasticsearch/index/mapper/core/BooleanFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalRootMapper.java
comments:
Merge pull request #11027 from rjernst/pr/mapper-subfields

Mappings: Remove traverse functions from Mapper

time:
2015-05-07T13:30:23Z
class:
src/main/java/org/elasticsearch/index/query/FilterParser.java
comments:
removed //norelease comment, FilterParser will go away with #10985

time:
2015-05-07T12:58:38Z
class:
src/main/java/org/elasticsearch/index/query/AndFilterBuilder.java
src/main/java/org/elasticsearch/index/query/AndFilterParser.java
src/main/java/org/elasticsearch/index/query/BaseFilterBuilder.java
src/main/java/org/elasticsearch/index/query/BaseFilterParser.java
src/main/java/org/elasticsearch/index/query/BaseFilterParserTemp.java
src/main/java/org/elasticsearch/index/query/BoolFilterBuilder.java
src/main/java/org/elasticsearch/index/query/BoolFilterParser.java
src/main/java/org/elasticsearch/index/query/BytesFilterBuilder.java
src/main/java/org/elasticsearch/index/query/ExistsFilterBuilder.java
src/main/java/org/elasticsearch/index/query/ExistsFilterParser.java
src/main/java/org/elasticsearch/index/query/FQueryFilterParser.java
src/main/java/org/elasticsearch/index/query/FilterBuilder.java
src/main/java/org/elasticsearch/index/query/FilterParser.java
src/main/java/org/elasticsearch/index/query/FilterWrappingFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoPolygonFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoShapeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeohashCellFilter.java
src/main/java/org/elasticsearch/index/query/HasChildFilterBuilder.java
src/main/java/org/elasticsearch/index/query/HasChildFilterParser.java
src/main/java/org/elasticsearch/index/query/HasParentFilterBuilder.java
src/main/java/org/elasticsearch/index/query/HasParentFilterParser.java
src/main/java/org/elasticsearch/index/query/IdsFilterBuilder.java
src/main/java/org/elasticsearch/index/query/IdsFilterParser.java
src/main/java/org/elasticsearch/index/query/IndicesFilterBuilder.java
src/main/java/org/elasticsearch/index/query/IndicesFilterParser.java
src/main/java/org/elasticsearch/index/query/LimitFilterBuilder.java
src/main/java/org/elasticsearch/index/query/LimitFilterParser.java
src/main/java/org/elasticsearch/index/query/MatchAllFilterBuilder.java
src/main/java/org/elasticsearch/index/query/MatchAllFilterParser.java
src/main/java/org/elasticsearch/index/query/MissingFilterBuilder.java
src/main/java/org/elasticsearch/index/query/MissingFilterParser.java
src/main/java/org/elasticsearch/index/query/NestedFilterBuilder.java
src/main/java/org/elasticsearch/index/query/NestedFilterParser.java
src/main/java/org/elasticsearch/index/query/NotFilterBuilder.java
src/main/java/org/elasticsearch/index/query/NotFilterParser.java
src/main/java/org/elasticsearch/index/query/OrFilterBuilder.java
src/main/java/org/elasticsearch/index/query/OrFilterParser.java
src/main/java/org/elasticsearch/index/query/PrefixFilterBuilder.java
src/main/java/org/elasticsearch/index/query/PrefixFilterParser.java
src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
src/main/java/org/elasticsearch/index/query/RangeFilterBuilder.java
src/main/java/org/elasticsearch/index/query/RangeFilterParser.java
src/main/java/org/elasticsearch/index/query/RegexpFilterBuilder.java
src/main/java/org/elasticsearch/index/query/RegexpFilterParser.java
src/main/java/org/elasticsearch/index/query/ScriptFilterBuilder.java
src/main/java/org/elasticsearch/index/query/ScriptFilterParser.java
src/main/java/org/elasticsearch/index/query/TermFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TermFilterParser.java
src/main/java/org/elasticsearch/index/query/TermsFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TermsFilterParser.java
src/main/java/org/elasticsearch/index/query/TermsLookupFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TypeFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TypeFilterParser.java
src/main/java/org/elasticsearch/index/query/WrapperFilterBuilder.java
src/main/java/org/elasticsearch/index/query/WrapperFilterParser.java
src/test/java/org/elasticsearch/index/query/guice/MyJsonFilterParser.java
src/test/java/org/elasticsearch/index/query/plugin/PluginJsonFilterParser.java
comments:
Revert "Filter refactoring: Introduce toFilter() and fromXContent() in FilterBuilders and FilterParsers"

This reverts commit 580ef6f855a761eb5594856fe7719d51375ddb0f given that FilterBuilder and FilterParser are going away with #10985

Conflicts:
	src/main/java/org/elasticsearch/index/query/BaseFilterBuilder.java
	src/main/java/org/elasticsearch/index/query/BaseFilterParser.java
	src/main/java/org/elasticsearch/index/query/BaseFilterParserTemp.java
	src/main/java/org/elasticsearch/index/query/FilterWrappingFilterBuilder.java

time:
2015-05-07T12:21:29Z
class:
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/search/morelikethis/MoreLikeThisTests.java
comments:
More Like This: remove percent_terms_to_match

Users should use minimum_should_match instead.

Closes #11030

time:
2015-05-07T11:40:59Z
class:
src/main/java/org/apache/lucene/spatial/prefix/RecursivePrefixTreeStrategy.java
src/main/java/org/apache/lucene/spatial/prefix/tree/CellIterator.java
src/main/java/org/apache/lucene/spatial/prefix/tree/LegacyCell.java
src/main/java/org/apache/lucene/spatial/prefix/tree/PackedQuadPrefixTree.java
src/main/java/org/apache/lucene/spatial/prefix/tree/QuadPrefixTree.java
src/main/java/org/elasticsearch/action/ActionModule.java
src/main/java/org/elasticsearch/action/bulk/BulkRequestBuilder.java
src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequest.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequestBuilder.java
src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java
src/main/java/org/elasticsearch/action/search/ShardSearchFailure.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
src/main/java/org/elasticsearch/bootstrap/Security.java
src/main/java/org/elasticsearch/client/Client.java
src/main/java/org/elasticsearch/client/Requests.java
src/main/java/org/elasticsearch/client/support/AbstractClient.java
src/main/java/org/elasticsearch/common/jna/CLibrary.java
src/main/java/org/elasticsearch/common/jna/Natives.java
src/main/java/org/elasticsearch/env/Environment.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/EngineConfig.java
src/main/java/org/elasticsearch/index/engine/EngineFactory.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/InternalEngineFactory.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/query/QueryBuilders.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryParser.java
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/translog/BufferingTranslogFile.java
src/main/java/org/elasticsearch/index/translog/ChannelImmutableReader.java
src/main/java/org/elasticsearch/index/translog/ChannelReader.java
src/main/java/org/elasticsearch/index/translog/ChannelReference.java
src/main/java/org/elasticsearch/index/translog/ChannelSnapshot.java
src/main/java/org/elasticsearch/index/translog/Translog.java
src/main/java/org/elasticsearch/index/translog/TranslogFile.java
src/main/java/org/elasticsearch/index/translog/TranslogService.java
src/main/java/org/elasticsearch/index/translog/TranslogSnapshot.java
src/main/java/org/elasticsearch/index/translog/fs/FsTranslog.java
src/main/java/org/elasticsearch/index/translog/fs/FsTranslogFile.java
src/main/java/org/elasticsearch/index/translog/fs/SimpleFsTranslogFile.java
src/main/java/org/elasticsearch/indices/IndicesService.java
src/main/java/org/elasticsearch/plugins/PluginManager.java
src/main/java/org/elasticsearch/rest/action/RestActionModule.java
src/main/java/org/elasticsearch/rest/action/mlt/RestMoreLikeThisAction.java
src/main/java/org/elasticsearch/script/ScriptParameterParser.java
src/main/java/org/elasticsearch/script/expression/DateMethodFunctionValues.java
src/main/java/org/elasticsearch/search/aggregations/AggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/TransportAggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/InternalHistogram.java
src/main/java/org/elasticsearch/search/aggregations/reducers/InternalSimpleValue.java
src/main/java/org/elasticsearch/search/aggregations/reducers/ReducerBuilders.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/BucketMetricsBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/BucketMetricsParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/BucketMetricsReducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/avg/AvgBucketBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/avg/AvgBucketParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/avg/AvgBucketReducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/max/MaxBucketBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/max/MaxBucketParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/max/MaxBucketReducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/min/MinBucketBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/min/MinBucketParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/min/MinBucketReducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/sum/SumBucketBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/sum/SumBucketParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/sum/SumBucketReducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/derivative/Derivative.java
src/main/java/org/elasticsearch/search/aggregations/reducers/derivative/DerivativeBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/derivative/DerivativeParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/derivative/DerivativeReducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/derivative/InternalDerivative.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/EwmaModel.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/HoltLinearModel.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/MovAvgModelModule.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/TransportMovAvgModelModule.java
src/main/java/org/elasticsearch/search/lookup/LeafDocLookup.java
src/test/java/org/elasticsearch/action/IndicesRequestTests.java
src/test/java/org/elasticsearch/action/mlt/MoreLikeThisRequestTests.java
src/test/java/org/elasticsearch/action/support/replication/ShardReplicationOperationTests.java
src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
src/test/java/org/elasticsearch/bwcompat/ScriptTransformBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/common/lucene/IndexCacheableQueryTests.java
src/test/java/org/elasticsearch/common/lucene/LuceneTest.java
src/test/java/org/elasticsearch/common/lucene/search/morelikethis/MoreLikeThisQueryTests.java
src/test/java/org/elasticsearch/common/lucene/search/morelikethis/XMoreLikeThisTests.java
src/test/java/org/elasticsearch/count/simple/SimpleCountTests.java
src/test/java/org/elasticsearch/document/BulkTests.java
src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayTests.java
src/test/java/org/elasticsearch/get/GetActionTests.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
src/test/java/org/elasticsearch/index/mapper/TransformOnIndexMapperIntegrationTest.java
src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
src/test/java/org/elasticsearch/index/mapper/source/CompressSourceMappingTests.java
src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
src/test/java/org/elasticsearch/index/mapper/typelevels/ParseMappingTypeLevelTests.java
src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
src/test/java/org/elasticsearch/index/translog/BufferedTranslogTests.java
src/test/java/org/elasticsearch/index/translog/FsSimpleTranslogTests.java
src/test/java/org/elasticsearch/index/translog/TranslogTests.java
src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationTests.java
src/test/java/org/elasticsearch/indices/memory/breaker/CircuitBreakerServiceTests.java
src/test/java/org/elasticsearch/indices/state/RareClusterStateTests.java
src/test/java/org/elasticsearch/percolator/TTLPercolatorTests.java
src/test/java/org/elasticsearch/river/RiverTests.java
src/test/java/org/elasticsearch/script/GroovySecurityTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/AvgBucketTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/DateDerivativeTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/DerivativeTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/ReducerHelperTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/SumBucketTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/moving/avg/MovAvgTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/moving/avg/MovAvgUnitTests.java
src/test/java/org/elasticsearch/search/compress/SearchSourceCompressTests.java
src/test/java/org/elasticsearch/search/highlight/HighlighterSearchTests.java
src/test/java/org/elasticsearch/search/innerhits/InnerHitsTests.java
src/test/java/org/elasticsearch/search/morelikethis/ItemSerializationTests.java
src/test/java/org/elasticsearch/search/morelikethis/MoreLikeThisTests.java
src/test/java/org/elasticsearch/search/simple/SimpleSearchTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/test/engine/MockEngineFactory.java
src/test/java/org/elasticsearch/test/engine/MockInternalEngine.java
comments:
Merge remote-tracking branch 'origin/master' into feature/synced_flush

time:
2015-05-07T10:36:55Z
class:
src/main/java/org/elasticsearch/indices/IndicesService.java
comments:
Fix NPE in PendingDelete#toString
closes #11032

time:
2015-05-07T09:20:01Z
class:
src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
comments:
Query Refactoring: Increase coverage of BaseQueryTestCase

We are creating random queries for testing purposes in BaseQueryTestCase and discussed
using more repetitions of the basic test cases (e.g. serialization, fromXContent parsing)
for better coverage if the query has more options.

Closes #11021

time:
2015-05-07T08:46:37Z
class:
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/script/ScriptParameterParser.java
src/test/java/org/elasticsearch/bwcompat/ScriptTransformBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/index/mapper/TransformOnIndexMapperIntegrationTest.java
comments:
Merge pull request #10976 from colings86/fix/10926

Allow script language to be null when parsing

time:
2015-05-07T08:17:59Z
class:
src/main/java/org/elasticsearch/plugin/mapper/attachments/tika/LocaleChecker.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/SimpleAttachmentMapperTests.java
comments:
Update to Tika 1.8

Tika 1.8 has been released. See https://dist.apache.org/repos/dist/release/tika/CHANGES-1.8.txt

We can replace:

```java
public static boolean isLocaleCompatible() {
    String language = Locale.getDefault().getLanguage();
    boolean acceptedLocale = true;

    if (
        // We can have issues with JDK7 Patch < 80
            (JVM_MAJOR_VERSION == 1 && JVM_MINOR_VERSION == 7 && JVM_PATCH_MAJOR_VERSION == 0 && JVM_PATCH_MINOR_VERSION < 80) ||
                    // We can have issues with JDK8 Patch < 40
                    (JVM_MAJOR_VERSION == 1 && JVM_MINOR_VERSION == 8 && JVM_PATCH_MAJOR_VERSION == 0 && JVM_PATCH_MINOR_VERSION < 40)
            ) {
        if (language.equalsIgnoreCase("tr") || language.equalsIgnoreCase("az")) {
            acceptedLocale = false;
        }
    }

    return acceptedLocale;
}
```

by

```java
public static boolean isLocaleCompatible() {
    return true;
}
```

Related to https://issues.apache.org/jira/browse/TIKA-1526 and #105

Note that Content-type has changed a bit and now returns something like `application/xhtml+xml; charset=ISO-8859-1` instead of `application/xhtml+xml`.

Closes #112.
(cherry picked from commit bf4af47971ed07bfa126409413c435f121444c3c)

time:
2015-05-07T08:14:34Z
class:
src/main/java/org/elasticsearch/action/bulk/BulkRequestBuilder.java
src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/translog/BufferingTranslogFile.java
src/main/java/org/elasticsearch/index/translog/SimpleTranslogFile.java
src/main/java/org/elasticsearch/index/translog/Translog.java
src/main/java/org/elasticsearch/index/translog/TranslogFile.java
src/main/java/org/elasticsearch/index/translog/TranslogService.java
src/test/java/org/elasticsearch/document/BulkTests.java
src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
src/test/java/org/elasticsearch/index/translog/BufferedTranslogTests.java
src/test/java/org/elasticsearch/index/translog/FsSimpleTranslogTests.java
src/test/java/org/elasticsearch/index/translog/TranslogTests.java
src/test/java/org/elasticsearch/indices/memory/breaker/CircuitBreakerServiceTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
comments:
Make modifying operations durable by default.

This commit makes create, update and delete operations on an index durable
by default. The user has the option to opt out to use async translog flushes
on a per-index basis by settings `index.translog.durability=request`.

Initial benchmarks running on SSDs have show that indexing is about 7% - 10% slower
with bulk indexing compared to async translog flushes. This change is orthogonal to
the transaction log sync interval and will only sync the transaction log if the operation
has not yet been concurrently synced. Ie. if multiple indexing requests are submitted and
one operations sync call already persists the operations of others only one sync call is executed.

Relates to #10933

time:
2015-05-07T07:48:19Z
class:
src/main/java/org/elasticsearch/action/ActionModule.java
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequest.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequestBuilder.java
src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/client/Client.java
src/main/java/org/elasticsearch/client/Requests.java
src/main/java/org/elasticsearch/client/support/AbstractClient.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/query/QueryBuilders.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryParser.java
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/rest/action/RestActionModule.java
src/main/java/org/elasticsearch/rest/action/mlt/RestMoreLikeThisAction.java
src/main/java/org/elasticsearch/search/aggregations/AggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/TransportAggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/InternalHistogram.java
src/main/java/org/elasticsearch/search/aggregations/reducers/InternalSimpleValue.java
src/main/java/org/elasticsearch/search/aggregations/reducers/ReducerBuilders.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/BucketMetricsBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/BucketMetricsParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/BucketMetricsReducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/avg/AvgBucketBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/avg/AvgBucketParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/avg/AvgBucketReducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/max/MaxBucketBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/max/MaxBucketParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/max/MaxBucketReducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/min/MinBucketBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/min/MinBucketParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/min/MinBucketReducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/sum/SumBucketBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/sum/SumBucketParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/sum/SumBucketReducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/derivative/Derivative.java
src/main/java/org/elasticsearch/search/aggregations/reducers/derivative/DerivativeBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/derivative/DerivativeParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/derivative/DerivativeReducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/derivative/InternalDerivative.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/EwmaModel.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/HoltLinearModel.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/MovAvgModelModule.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/TransportMovAvgModelModule.java
src/test/java/org/elasticsearch/action/IndicesRequestTests.java
src/test/java/org/elasticsearch/action/mlt/MoreLikeThisRequestTests.java
src/test/java/org/elasticsearch/action/support/replication/ShardReplicationOperationTests.java
src/test/java/org/elasticsearch/common/lucene/LuceneTest.java
src/test/java/org/elasticsearch/common/lucene/search/morelikethis/MoreLikeThisQueryTests.java
src/test/java/org/elasticsearch/common/lucene/search/morelikethis/XMoreLikeThisTests.java
src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
src/test/java/org/elasticsearch/indices/state/RareClusterStateTests.java
src/test/java/org/elasticsearch/percolator/TTLPercolatorTests.java
src/test/java/org/elasticsearch/river/RiverTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/AvgBucketTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/DateDerivativeTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/DerivativeTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/SumBucketTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/moving/avg/MovAvgTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/moving/avg/MovAvgUnitTests.java
src/test/java/org/elasticsearch/search/morelikethis/ItemSerializationTests.java
src/test/java/org/elasticsearch/search/morelikethis/MoreLikeThisTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-05-07T07:39:58Z
class:
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
comments:
Merge pull request #11002 from jpountz/fix/numeric_resolution_string_date

Mappings: `numeric_resolution` should only apply to dates provided as numbers.

time:
2015-05-07T07:27:54Z
class:
src/main/java/org/elasticsearch/index/query/QueryBuilders.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryParser.java
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
comments:
parent/child: Deprecated the `top_children` in favour of the `has_child` query.

time:
2015-05-07T07:26:02Z
class:
comments:
[build] remove explicit commons-codec in assembly file

We don't have to explicitly define `commons-codec` in our assembly file.

When removing it, the content is still exactly the same:

```
Archive:  target/releases/elasticsearch-analysis-phonetic-2.4.4-SNAPSHOT.zip
  Length     Date   Time    Name
 --------    ----   ----    ----
    17193  05-07-15 09:08   elasticsearch-analysis-phonetic-2.4.4-SNAPSHOT.jar
    23098  03-17-15 00:28   lucene-analyzers-phonetic-4.10.4.jar
   263965  11-09-14 14:02   commons-codec-1.9.jar
 --------                   -------
   304256                   3 files
```

See https://github.com/elastic/elasticsearch-analysis-phonetic/issues/40

Closes #44.

(cherry picked from commit 6fa3fb8)

time:
2015-05-07T06:40:07Z
class:
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/Mapper.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/MapperUtils.java
src/main/java/org/elasticsearch/index/mapper/ObjectMapperListener.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/test/java/org/elasticsearch/index/mapper/core/BooleanFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalRootMapper.java
comments:
Mappings: Remove traverse functions from Mapper

The mapper listener abstractions for object and field mappers are used
to notify the mapper service of new fields, as well as collect
all object and field mappers through a set of traversal functions.

This change removes the traversal functions in favor of simple
iteration over subfields of a mapper.

time:
2015-05-07T06:20:06Z
class:
comments:
Documentation: Mention RPM repo does not work with older distributions

Getting this to work would be a lot of work (creating two different
repositories, having another GPG key, integrating this into our build).

Closes #6498

time:
2015-05-07T05:06:54Z
class:
src/main/java/org/elasticsearch/index/shard/IndexShard.java
comments:
Verify shard state if prepareCreate/prepareIndex fails

This is pretty much a workaround for the fact that we simply
close the downstream resources once the shard is closed. This means
the document parser will barf with NPE or something similar while
AlreadyClosedException would be approriate.

time:
2015-05-07T04:32:10Z
class:
src/test/java/org/elasticsearch/percolator/TTLPercolatorTests.java
src/test/java/org/elasticsearch/river/RiverTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Merge pull request #11018 from brwe/counter-test

[TEST] don't check shard counter if there are still write operations ongoing after test

time:
2015-05-06T16:23:26Z
class:
src/test/java/org/elasticsearch/percolator/TTLPercolatorTests.java
src/test/java/org/elasticsearch/river/RiverTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
[TEST] don't check shard counter if there are still write operations ongoing after test

time:
2015-05-06T16:11:11Z
class:
src/main/java/org/elasticsearch/action/ActionModule.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisAction.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequest.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequestBuilder.java
src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java
src/main/java/org/elasticsearch/action/mlt/package-info.java
src/main/java/org/elasticsearch/client/Client.java
src/main/java/org/elasticsearch/client/Requests.java
src/main/java/org/elasticsearch/client/support/AbstractClient.java
src/main/java/org/elasticsearch/rest/action/RestActionModule.java
src/main/java/org/elasticsearch/rest/action/mlt/RestMoreLikeThisAction.java
src/test/java/org/elasticsearch/action/IndicesRequestTests.java
src/test/java/org/elasticsearch/action/mlt/MoreLikeThisRequestTests.java
src/test/java/org/elasticsearch/common/lucene/search/morelikethis/MoreLikeThisQueryTests.java
src/test/java/org/elasticsearch/common/lucene/search/morelikethis/XMoreLikeThisTests.java
src/test/java/org/elasticsearch/search/morelikethis/ItemSerializationTests.java
src/test/java/org/elasticsearch/search/morelikethis/MoreLikeThisTests.java
comments:
More Like This: removal of the MLT API

Removes the More Like This API, users should now use the More Like This query.
The MLT API tests were converted to their query equivalent. Also some clean
ups in MLT tests.

Closes #10736
Closes #11003

time:
2015-05-06T15:51:17Z
class:
comments:
Remove Codehaus repository

Codehaus announced they are shutting down their services: https://www.codehaus.org/

We should remove their repository from our pom as it could cause some errors an useless HTTP calls.

Related to #10939

time:
2015-05-06T14:50:14Z
class:
src/main/java/org/elasticsearch/search/aggregations/AggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/TransportAggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/reducers/ReducerBuilders.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/sum/SumBucketBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/sum/SumBucketParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/sum/SumBucketReducer.java
src/test/java/org/elasticsearch/search/aggregations/reducers/SumBucketTests.java
comments:
Merge pull request #11013 from colings86/feature/11007

Adding Sum Bucket Aggregation

time:
2015-05-06T14:22:37Z
class:
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/test/java/org/elasticsearch/action/support/replication/ShardReplicationOperationTests.java
src/test/java/org/elasticsearch/indices/state/RareClusterStateTests.java
comments:
Merge pull request #10949 from jpountz/fix/wait_for_mappings_on_primary

Mappings: Wait for mappings to be available on the primary before indexing.

time:
2015-05-06T14:19:22Z
class:
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/test/java/org/elasticsearch/action/support/replication/ShardReplicationOperationTests.java
src/test/java/org/elasticsearch/indices/state/RareClusterStateTests.java
comments:
Mappings: Wait for mappings to be available on the primary before indexing.

In some cases it might happen that a mapping which is already available on the
master node is not available yet on the node that holds the primary shard.
This commit changes indexing on the primary shard so that if a dynamic update
is triggered then the index operation is re-tried until required mappings are
available locally (using cluster state observing).

time:
2015-05-06T13:44:56Z
class:
src/main/java/org/elasticsearch/search/aggregations/AggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/TransportAggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/reducers/ReducerBuilders.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/sum/SumBucketBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/sum/SumBucketParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/sum/SumBucketReducer.java
src/test/java/org/elasticsearch/search/aggregations/reducers/SumBucketTests.java
comments:
Aggregations: Adding Sum Bucket Aggregation

Closes #11007

time:
2015-05-06T13:07:23Z
class:
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/EwmaModel.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/HoltLinearModel.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/MovAvgModelModule.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/TransportMovAvgModelModule.java
src/test/java/org/elasticsearch/search/aggregations/reducers/moving/avg/MovAvgTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/moving/avg/MovAvgUnitTests.java
comments:
Merge pull request #10964 from polyfractal/feature/aggs_movavg_rename

Rename Moving Average models to their "common" names

time:
2015-05-06T13:04:44Z
class:
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/EwmaModel.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/HoltLinearModel.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/MovAvgModelModule.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/TransportMovAvgModelModule.java
src/test/java/org/elasticsearch/search/aggregations/reducers/moving/avg/MovAvgTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/moving/avg/MovAvgUnitTests.java
comments:
Rename Moving Average models to their "common" names

Previously, we were using the "statistical", technically accurate name.  Instead, we
should probably use the name that people are familiar with, e.g. "Holt Winters" instead
of "triple exponential".  To that end:

- `single_exp` becomes `ewma` (exponentially weighted moving average)
- `double_exp` becomes `holt`

When the `triple_exp` is added, it will be called `holt_winters`.

time:
2015-05-06T12:53:57Z
class:
src/main/java/org/elasticsearch/search/aggregations/AggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/TransportAggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/reducers/ReducerBuilders.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/BucketMetricsBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/BucketMetricsParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/BucketMetricsReducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/avg/AvgBucketBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/avg/AvgBucketParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/avg/AvgBucketReducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/max/MaxBucketBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/max/MaxBucketParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/max/MaxBucketReducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/min/MinBucketBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/min/MinBucketParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/min/MinBucketReducer.java
src/test/java/org/elasticsearch/search/aggregations/reducers/AvgBucketTests.java
comments:
Aggregations: Adding Average Bucket Aggregation

Also includes changes to the other bucket metric aggregations to share code

Closes #11006

time:
2015-05-06T10:23:12Z
class:
src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
[TEST] Randomize translog settings

time:
2015-05-06T09:31:16Z
class:
src/main/java/org/elasticsearch/search/aggregations/TransportAggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/InternalHistogram.java
src/main/java/org/elasticsearch/search/aggregations/reducers/InternalSimpleValue.java
src/main/java/org/elasticsearch/search/aggregations/reducers/derivative/Derivative.java
src/main/java/org/elasticsearch/search/aggregations/reducers/derivative/DerivativeBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/derivative/DerivativeParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/derivative/DerivativeReducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/derivative/InternalDerivative.java
src/test/java/org/elasticsearch/search/aggregations/reducers/DateDerivativeTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/DerivativeTests.java
comments:
Aggregations: x-axis units normalisation for derivative aggregation

time:
2015-05-06T09:00:53Z
class:
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
comments:
Mappings: `numeric_resolution` should only apply to dates provided as numbers.

Close #10995

time:
2015-05-06T08:48:53Z
class:
src/test/java/org/elasticsearch/common/lucene/LuceneTest.java
comments:
[TEST] Remove unexpected extraFS file check - this was wrongly added before

time:
2015-05-06T08:26:29Z
class:
src/main/java/org/apache/lucene/spatial/prefix/RecursivePrefixTreeStrategy.java
src/main/java/org/apache/lucene/spatial/prefix/tree/CellIterator.java
src/main/java/org/apache/lucene/spatial/prefix/tree/LegacyCell.java
src/main/java/org/apache/lucene/spatial/prefix/tree/PackedQuadPrefixTree.java
src/main/java/org/apache/lucene/spatial/prefix/tree/QuadPrefixTree.java
src/main/java/org/elasticsearch/action/search/ShardSearchFailure.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
src/main/java/org/elasticsearch/bootstrap/Security.java
src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java
src/main/java/org/elasticsearch/common/jna/CLibrary.java
src/main/java/org/elasticsearch/common/jna/Natives.java
src/main/java/org/elasticsearch/env/Environment.java
src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
src/main/java/org/elasticsearch/index/engine/EngineConfig.java
src/main/java/org/elasticsearch/index/engine/EngineFactory.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/InternalEngineFactory.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
src/main/java/org/elasticsearch/index/translog/BufferingTranslogFile.java
src/main/java/org/elasticsearch/index/translog/ChannelImmutableReader.java
src/main/java/org/elasticsearch/index/translog/ChannelReader.java
src/main/java/org/elasticsearch/index/translog/ChannelReference.java
src/main/java/org/elasticsearch/index/translog/ChannelSnapshot.java
src/main/java/org/elasticsearch/index/translog/SimpleTranslogFile.java
src/main/java/org/elasticsearch/index/translog/Translog.java
src/main/java/org/elasticsearch/index/translog/TranslogFile.java
src/main/java/org/elasticsearch/index/translog/TranslogSnapshot.java
src/main/java/org/elasticsearch/index/translog/fs/FsTranslog.java
src/main/java/org/elasticsearch/plugins/PluginManager.java
src/main/java/org/elasticsearch/script/expression/DateMethodFunctionValues.java
src/main/java/org/elasticsearch/search/lookup/LeafDocLookup.java
src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
src/test/java/org/elasticsearch/common/lucene/IndexCacheableQueryTests.java
src/test/java/org/elasticsearch/count/simple/SimpleCountTests.java
src/test/java/org/elasticsearch/gateway/GatewayMetaStateTests.java
src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesTests.java
src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayTests.java
src/test/java/org/elasticsearch/get/GetActionTests.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
src/test/java/org/elasticsearch/index/mapper/source/CompressSourceMappingTests.java
src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
src/test/java/org/elasticsearch/index/mapper/typelevels/ParseMappingTypeLevelTests.java
src/test/java/org/elasticsearch/index/translog/AbstractTranslogTests.java
src/test/java/org/elasticsearch/index/translog/FsBufferedTranslogTests.java
src/test/java/org/elasticsearch/index/translog/FsSimpleTranslogTests.java
src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationTests.java
src/test/java/org/elasticsearch/script/GroovySecurityTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/ReducerHelperTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/moving/avg/MovAvgTests.java
src/test/java/org/elasticsearch/search/compress/SearchSourceCompressTests.java
src/test/java/org/elasticsearch/search/highlight/HighlighterSearchTests.java
src/test/java/org/elasticsearch/search/innerhits/InnerHitsTests.java
src/test/java/org/elasticsearch/search/simple/SimpleSearchTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/engine/MockEngineFactory.java
src/test/java/org/elasticsearch/test/engine/MockInternalEngine.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-05-06T05:04:18Z
class:
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayTests.java
src/test/java/org/elasticsearch/get/GetActionTests.java
src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
src/test/java/org/elasticsearch/index/mapper/source/CompressSourceMappingTests.java
src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
src/test/java/org/elasticsearch/index/mapper/typelevels/ParseMappingTypeLevelTests.java
src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationTests.java
src/test/java/org/elasticsearch/search/compress/SearchSourceCompressTests.java
src/test/java/org/elasticsearch/search/highlight/HighlighterSearchTests.java
src/test/java/org/elasticsearch/search/innerhits/InnerHitsTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
comments:
Mappings: Remove ability to disable _source field

Current features (eg. update API) and future features (eg. reindex API)
depend on _source. This change locks down the field so that
it can no longer be disabled. It also removes legacy settings
compress/compress_threshold.

closes #8142
closes #10915

time:
2015-05-06T05:03:03Z
class:
src/main/java/org/elasticsearch/action/search/ShardSearchFailure.java
src/test/java/org/elasticsearch/script/GroovySecurityTests.java
comments:
Tests: fix test bug (foo -> bar)

time:
2015-05-06T04:26:29Z
class:
src/main/java/org/elasticsearch/search/lookup/LeafDocLookup.java
src/test/java/org/elasticsearch/script/GroovySecurityTests.java
comments:
Merge pull request #10997 from rmuir/groovy_better

Load fielddata on behalf of scripts.

time:
2015-05-06T04:16:03Z
class:
src/main/java/org/elasticsearch/search/lookup/LeafDocLookup.java
src/test/java/org/elasticsearch/script/GroovySecurityTests.java
comments:
Load fielddata on behalf of scripts.

If we have to do the one-time loading of fieldata, it requires
more permissions than groovy scripts currently have (zero). This
is because of RamUsageEstimator reflection and so on in PagedBytes.

GroovySecurityTests only test a numeric field, so add a string field
to the test (so pagedbytes fielddata gets created etc).

time:
2015-05-06T00:09:00Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/common/jna/CLibrary.java
src/main/java/org/elasticsearch/common/jna/Natives.java
comments:
Merge pull request #10970 from rmuir/bad_idea

bail if ES is run as root

time:
2015-05-05T22:10:39Z
class:
src/main/java/org/elasticsearch/index/mapper/attachment/AttachmentMapper.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/MapperTestUtils.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/integration/SimpleAttachmentIntegrationTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/standalone/StandaloneRunner.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/AttachmentUnitTestCase.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/DateAttachmentMapperTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/EncryptedDocMapperTest.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/LanguageDetectionAttachmentMapperTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/MetadataMapperTest.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/MultifieldAttachmentMapperTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/SimpleAttachmentMapperTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/VariousDocTest.java
comments:
Merge pull request #128 from elastic/get_past_mapping_changes

Fix the build and try to migrate past mappings changes

time:
2015-05-05T22:08:30Z
class:
src/main/java/org/elasticsearch/index/mapper/attachment/AttachmentMapper.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/standalone/StandaloneRunner.java
comments:
fix standalone and remove unecessary override

time:
2015-05-05T21:47:37Z
class:
src/main/java/org/elasticsearch/plugins/PluginManager.java
comments:
Merge pull request #10983 from rmuir/no_check_certificate

Let HTTPS work correctly

time:
2015-05-05T21:34:57Z
class:
src/test/java/org/elasticsearch/index/query/TermQueryBuilderTest.java
comments:
Removed deleted lucene CustomQueryWrappingFilter

time:
2015-05-05T21:20:54Z
class:
src/main/java/org/elasticsearch/script/expression/DateMethodFunctionValues.java
comments:
Scripting: Minor TimeZone Fix

Changed DateMethodFunctionValues to use UTC instead of GMT.  Should
not affect any existing code, but is correct and consistent.

closes #10994

time:
2015-05-05T21:18:36Z
class:
src/main/java/org/elasticsearch/index/query/BaseQueryBuilder.java
src/main/java/org/elasticsearch/index/query/QueryBuilder.java
src/main/java/org/elasticsearch/index/query/QueryValidationException.java
src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermQueryParser.java
src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
src/test/java/org/elasticsearch/index/query/MatchAllQueryBuilderTest.java
src/test/java/org/elasticsearch/index/query/TermQueryBuilderTest.java
comments:
Query refactoring: TermQueryBuilder refactoring and test

Also extended BaseQueryTestCase so it has helper methods for parsing the query header and
extended the toQuery() test method so it passes down parse context to sublass to make
assertions on side effects calling toQuery() has on the parseContext.

Added validate() method to QueryBuilder and BaseQueryBuilder that can be used to validate
a query and that returns a QueryValidationException containing all collected validation
errors.

time:
2015-05-05T21:06:11Z
class:
src/main/java/org/elasticsearch/index/translog/Translog.java
comments:
Merge pull request #10993 from kimchy/sync_interval_not_to_control_type

Use buffered tanslog type also when sync is set to 0

time:
2015-05-05T20:01:58Z
class:
comments:
Docs: More translog doc improvements

time:
2015-05-05T19:32:52Z
class:
comments:
Docs: Improved the translog docs

time:
2015-05-05T19:24:31Z
class:
src/main/java/org/apache/lucene/spatial/prefix/RecursivePrefixTreeStrategy.java
src/main/java/org/apache/lucene/spatial/prefix/tree/CellIterator.java
src/main/java/org/apache/lucene/spatial/prefix/tree/LegacyCell.java
src/main/java/org/apache/lucene/spatial/prefix/tree/PackedQuadPrefixTree.java
src/main/java/org/apache/lucene/spatial/prefix/tree/QuadPrefixTree.java
comments:
[GEO] Remove local lucene spatial package

LUCENE-6422 - PackedQuadTree enhancement - was committed in Lucene 5.2 which is now integrated w/ ES 2.0. This eliminates the need to carry our own local lucene.spatial package. This commit removes the now unnecessary files.

time:
2015-05-05T18:46:07Z
class:
src/test/java/org/elasticsearch/common/lucene/IndexCacheableQueryTests.java
comments:
[TEST] also close wrapped readers

time:
2015-05-05T18:36:12Z
class:
src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
src/test/java/org/elasticsearch/script/GroovySecurityTests.java
comments:
Merge pull request #10969 from rmuir/grooooooovy

Run groovy scripts with no permissions

time:
2015-05-05T18:28:41Z
class:
src/test/java/org/elasticsearch/cloud/azure/AbstractAzureTest.java
src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreITest.java
comments:
Tests: fix compilation

time:
2015-05-05T18:22:53Z
class:
src/test/java/org/elasticsearch/cloud/gce/AbstractGceTest.java
comments:
Tests: fix compilation

time:
2015-05-05T18:17:36Z
class:
src/main/java/org/elasticsearch/index/translog/Translog.java
comments:
Use buffered tanslog type also when sync is set to 0
When settings sync to 0, we benefit from using the buffered type, no need to change to simple, since we get a chance to fsync multiple operations (for that single operation) and not have to sync for the other ones before returning each one

time:
2015-05-05T18:14:51Z
class:
src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTest.java
comments:
Tests: set path.home in AbstractAwsTest

time:
2015-05-05T18:11:07Z
class:
src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTest.java
comments:
Tests: fix compilation error

time:
2015-05-05T17:43:31Z
class:
src/main/java/org/elasticsearch/index/mapper/attachment/AttachmentMapper.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/MapperTestUtils.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/integration/SimpleAttachmentIntegrationTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/AttachmentUnitTestCase.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/DateAttachmentMapperTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/EncryptedDocMapperTest.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/LanguageDetectionAttachmentMapperTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/MetadataMapperTest.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/MultifieldAttachmentMapperTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/SimpleAttachmentMapperTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/VariousDocTest.java
comments:
Fix the build and try to migrate past mappings changes, but there
is an @AwaitsFix test remaining with regards to copyTo behavior.

time:
2015-05-05T16:53:30Z
class:
src/test/java/org/elasticsearch/index/analysis/SimplePhoneticAnalysisTests.java
comments:
Tests: fix tests not to use CWD

time:
2015-05-05T16:50:58Z
class:
src/test/java/org/elasticsearch/index/analysis/SimpleSmartChineseAnalysisTests.java
src/test/java/org/elasticsearch/index/analysis/SimpleSmartChineseIntegrationTests.java
comments:
Tests: fix tests not to use CWD

time:
2015-05-05T16:47:37Z
class:
src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java
src/test/java/org/elasticsearch/index/analysis/KuromojiIntegrationTests.java
comments:
Tests: fix tests not to use CWD

time:
2015-05-05T16:39:19Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/Security.java
src/main/java/org/elasticsearch/env/Environment.java
src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
comments:
Add pid file to Environment

This commit adds the path of the PID file to the Environment. It also add it to the Security Manager since the PID file is deleted by a shutdown hook when the JVM is exited.

time:
2015-05-05T16:29:49Z
class:
src/test/java/org/elasticsearch/search/aggregations/reducers/ReducerHelperTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/moving/avg/MovAvgTests.java
comments:
[TEST] Fix min/max accumulator in MovAvg tests

Double.MIN_VALUE does not follow the same semantics as Integer.MIN_VALUE.  Namely, it
represents the smallest positive, non-zero value a double can hold.  Since the test uses negative
doubles, this can incorrectly find the min/max metric for a set of values.

Instead, Double.NEGATIVE_INFINITY needs to be used, which represents the smallest value possible.

Not strictly necessary, but MAX_VALUE was switched to POSITIVE_INFINITY just to be 100% correct

time:
2015-05-05T16:09:26Z
class:
src/test/java/org/elasticsearch/index/analysis/SimpleIcuAnalysisTests.java
src/test/java/org/elasticsearch/index/analysis/SimpleIcuCollationTokenFilterTests.java
src/test/java/org/elasticsearch/index/analysis/SimpleIcuNormalizerCharFilterTests.java
comments:
Tests: fix tests not to use CWD

time:
2015-05-05T16:04:27Z
class:
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
comments:
Remove double exceptin handling that causes false replica failures

we already fail the shard in the `onFailure` method if the replica
operation barfs. This additional check has been added lately that
bypasses the clusterstate observer which causes replicas to fail
if the mappings are not yet present.

time:
2015-05-05T16:03:16Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
comments:
Merge pull request #10989 from rmuir/jna_optional

ensure JNA is fully loaded when its avail, but don't fail its not

time:
2015-05-05T15:57:02Z
class:
src/test/java/org/elasticsearch/index/analysis/PolishAnalysisTests.java
src/test/java/org/elasticsearch/index/analysis/SimplePolishTokenFilterTests.java
comments:
Tests: fix to specify path and not rely on CWD

time:
2015-05-05T15:49:40Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
comments:
ensure JNA is fully loaded when its avail, but don't fail its not

time:
2015-05-05T15:45:41Z
class:
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
comments:
fix after merge with master

time:
2015-05-05T15:34:59Z
class:
src/main/java/org/elasticsearch/index/engine/EngineConfig.java
src/main/java/org/elasticsearch/index/engine/EngineFactory.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/InternalEngineFactory.java
src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
src/main/java/org/elasticsearch/index/translog/BufferingTranslogFile.java
src/main/java/org/elasticsearch/index/translog/ChannelImmutableReader.java
src/main/java/org/elasticsearch/index/translog/ChannelReader.java
src/main/java/org/elasticsearch/index/translog/ChannelReference.java
src/main/java/org/elasticsearch/index/translog/ChannelSnapshot.java
src/main/java/org/elasticsearch/index/translog/SimpleTranslogFile.java
src/main/java/org/elasticsearch/index/translog/Translog.java
src/main/java/org/elasticsearch/index/translog/TranslogFile.java
src/main/java/org/elasticsearch/index/translog/TranslogSnapshot.java
src/main/java/org/elasticsearch/index/translog/fs/FsTranslog.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
src/test/java/org/elasticsearch/index/translog/AbstractTranslogTests.java
src/test/java/org/elasticsearch/index/translog/FsBufferedTranslogTests.java
src/test/java/org/elasticsearch/index/translog/FsSimpleTranslogTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/engine/MockEngineFactory.java
src/test/java/org/elasticsearch/test/engine/MockInternalEngine.java
comments:
Remove Translog interface

We only have one implementation of this interface which makes not much
sense. This commit removes the abstraction.

time:
2015-05-05T15:32:03Z
class:
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayTests.java
comments:
cleanup

time:
2015-05-05T15:19:09Z
class:
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/indices/IndicesLifecycle.java
src/main/java/org/elasticsearch/indices/InternalIndicesLifecycle.java
src/main/java/org/elasticsearch/indices/SyncedFlushService.java
src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerSingleNodeTests.java
comments:
call sync flush when shard is marked as inactive

time:
2015-05-05T14:59:39Z
class:
src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
src/test/java/org/elasticsearch/script/GroovySecurityTests.java
comments:
style cleanups (assume and suppressforbidden)

time:
2015-05-05T14:50:57Z
class:
src/test/java/org/elasticsearch/count/simple/SimpleCountTests.java
src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
src/test/java/org/elasticsearch/search/simple/SimpleSearchTests.java
comments:
[TEST] Mute local tests with Java9EA

Relates to #10984

time:
2015-05-05T14:15:25Z
class:
src/main/java/org/elasticsearch/indices/SyncedFlushService.java
comments:
implement check for in flight now that we have the counter

time:
2015-05-05T14:15:13Z
class:
src/main/java/org/elasticsearch/action/Action.java
src/main/java/org/elasticsearch/action/ActionRequest.java
src/main/java/org/elasticsearch/action/ActionRequestBuilder.java
src/main/java/org/elasticsearch/action/TransportActionNodeProxy.java
src/main/java/org/elasticsearch/action/admin/cluster/ClusterAction.java
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthAction.java
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/DeleteRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/DeleteRepositoryRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteAction.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/ClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/ClusterUpdateSettingsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/DeleteSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/DeleteSnapshotRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateAction.java
src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/tasks/PendingClusterTasksAction.java
src/main/java/org/elasticsearch/action/admin/cluster/tasks/PendingClusterTasksRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/IndicesAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/alias/exists/AliasesExistAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/exists/AliasesExistRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/BaseAliasesRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeAction.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/close/CloseIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/close/CloseIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TypesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TypesExistsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/flush/FlushAction.java
src/main/java/org/elasticsearch/action/admin/indices/flush/FlushRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetMappingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetMappingsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/open/OpenIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/open/OpenIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeAction.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/RecoveryAction.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/RecoveryRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshAction.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsAction.java
src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/settings/get/GetSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/get/GetSettingsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/settings/put/UpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/put/UpdateSettingsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/DeleteIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/DeleteIndexTemplateRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/GetIndexTemplatesAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/GetIndexTemplatesRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryAction.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerRequestBuilder.java
src/main/java/org/elasticsearch/action/bulk/BulkAction.java
src/main/java/org/elasticsearch/action/bulk/BulkRequestBuilder.java
src/main/java/org/elasticsearch/action/count/CountAction.java
src/main/java/org/elasticsearch/action/count/CountRequestBuilder.java
src/main/java/org/elasticsearch/action/delete/DeleteAction.java
src/main/java/org/elasticsearch/action/delete/DeleteRequestBuilder.java
src/main/java/org/elasticsearch/action/exists/ExistsAction.java
src/main/java/org/elasticsearch/action/exists/ExistsRequestBuilder.java
src/main/java/org/elasticsearch/action/explain/ExplainAction.java
src/main/java/org/elasticsearch/action/explain/ExplainRequestBuilder.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsAction.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/get/GetAction.java
src/main/java/org/elasticsearch/action/get/GetRequestBuilder.java
src/main/java/org/elasticsearch/action/get/MultiGetAction.java
src/main/java/org/elasticsearch/action/get/MultiGetRequestBuilder.java
src/main/java/org/elasticsearch/action/index/IndexAction.java
src/main/java/org/elasticsearch/action/index/IndexRequestBuilder.java
src/main/java/org/elasticsearch/action/indexedscripts/delete/DeleteIndexedScriptAction.java
src/main/java/org/elasticsearch/action/indexedscripts/delete/DeleteIndexedScriptRequestBuilder.java
src/main/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptAction.java
src/main/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequestBuilder.java
src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptAction.java
src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptRequestBuilder.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisAction.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequestBuilder.java
src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java
src/main/java/org/elasticsearch/action/percolate/MultiPercolateAction.java
src/main/java/org/elasticsearch/action/percolate/MultiPercolateRequestBuilder.java
src/main/java/org/elasticsearch/action/percolate/PercolateAction.java
src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java
src/main/java/org/elasticsearch/action/search/ClearScrollAction.java
src/main/java/org/elasticsearch/action/search/ClearScrollRequestBuilder.java
src/main/java/org/elasticsearch/action/search/MultiSearchAction.java
src/main/java/org/elasticsearch/action/search/MultiSearchRequestBuilder.java
src/main/java/org/elasticsearch/action/search/SearchAction.java
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/action/search/SearchScrollAction.java
src/main/java/org/elasticsearch/action/search/SearchScrollRequestBuilder.java
src/main/java/org/elasticsearch/action/suggest/SuggestAction.java
src/main/java/org/elasticsearch/action/suggest/SuggestRequestBuilder.java
src/main/java/org/elasticsearch/action/support/AbstractListenableActionFuture.java
src/main/java/org/elasticsearch/action/support/HandledTransportAction.java
src/main/java/org/elasticsearch/action/support/PlainListenableActionFuture.java
src/main/java/org/elasticsearch/action/support/ThreadedActionListener.java
src/main/java/org/elasticsearch/action/support/TransportAction.java
src/main/java/org/elasticsearch/action/support/broadcast/BroadcastOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/master/AcknowledgedRequestBuilder.java
src/main/java/org/elasticsearch/action/support/master/MasterNodeOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/master/MasterNodeReadOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeOperationAction.java
src/main/java/org/elasticsearch/action/support/master/info/ClusterInfoRequestBuilder.java
src/main/java/org/elasticsearch/action/support/nodes/NodesOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/replication/ShardReplicationOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/single/custom/SingleCustomOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/single/instance/InstanceShardOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/single/shard/SingleShardOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/single/shard/TransportShardSingleOperationAction.java
src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsAction.java
src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsRequestBuilder.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsAction.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequestBuilder.java
src/main/java/org/elasticsearch/action/update/UpdateAction.java
src/main/java/org/elasticsearch/action/update/UpdateRequestBuilder.java
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
src/main/java/org/elasticsearch/bootstrap/Elasticsearch.java
src/main/java/org/elasticsearch/bootstrap/ElasticsearchF.java
src/main/java/org/elasticsearch/bootstrap/Security.java
src/main/java/org/elasticsearch/client/Client.java
src/main/java/org/elasticsearch/client/ClusterAdminClient.java
src/main/java/org/elasticsearch/client/ElasticsearchClient.java
src/main/java/org/elasticsearch/client/FilterClient.java
src/main/java/org/elasticsearch/client/IndicesAdminClient.java
src/main/java/org/elasticsearch/client/node/NodeAdminClient.java
src/main/java/org/elasticsearch/client/node/NodeClient.java
src/main/java/org/elasticsearch/client/node/NodeClientModule.java
src/main/java/org/elasticsearch/client/node/NodeClusterAdminClient.java
src/main/java/org/elasticsearch/client/node/NodeIndicesAdminClient.java
src/main/java/org/elasticsearch/client/support/AbstractClient.java
src/main/java/org/elasticsearch/client/support/AbstractClusterAdminClient.java
src/main/java/org/elasticsearch/client/support/AbstractIndicesAdminClient.java
src/main/java/org/elasticsearch/client/transport/ClientTransportModule.java
src/main/java/org/elasticsearch/client/transport/TransportClient.java
src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
src/main/java/org/elasticsearch/client/transport/support/InternalTransportAdminClient.java
src/main/java/org/elasticsearch/client/transport/support/InternalTransportClient.java
src/main/java/org/elasticsearch/client/transport/support/InternalTransportClusterAdminClient.java
src/main/java/org/elasticsearch/client/transport/support/TransportProxyClient.java
src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java
src/main/java/org/elasticsearch/cluster/ClusterState.java
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/EvenShardsCountAllocator.java
src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocatorModule.java
src/main/java/org/elasticsearch/common/io/Channels.java
src/main/java/org/elasticsearch/common/jna/Kernel32Library.java
src/main/java/org/elasticsearch/common/util/concurrent/AbstractRefCounted.java
src/main/java/org/elasticsearch/common/util/concurrent/ReleasableLock.java
src/main/java/org/elasticsearch/env/Environment.java
src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
src/main/java/org/elasticsearch/index/IndexService.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/EngineConfig.java
src/main/java/org/elasticsearch/index/engine/EngineFactory.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/InternalEngineFactory.java
src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
src/main/java/org/elasticsearch/index/gateway/IndexShardGateway.java
src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/shard/IndexShardException.java
src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
src/main/java/org/elasticsearch/index/snapshots/IndexShardSnapshotAndRestoreService.java
src/main/java/org/elasticsearch/index/translog/ChecksummedTranslogStream.java
src/main/java/org/elasticsearch/index/translog/LegacyTranslogStream.java
src/main/java/org/elasticsearch/index/translog/Translog.java
src/main/java/org/elasticsearch/index/translog/TranslogModule.java
src/main/java/org/elasticsearch/index/translog/TranslogService.java
comments:
Merge remote-tracking branch 'origin/master' into feature/synced_flush

time:
2015-05-05T13:20:57Z
class:
src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesTests.java
comments:
[TEST] don't fail if meta state cannot be loaded

Loading of meta state fails rarely if the state is deleted while we try to load it.
We should try again in this case instead of failing the test.

time:
2015-05-05T13:14:51Z
class:
src/main/java/org/elasticsearch/plugins/PluginManager.java
comments:
Let HTTPS work correctly

time:
2015-05-05T12:26:32Z
class:
src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
src/test/java/org/elasticsearch/index/query/MatchAllQueryBuilderTest.java
comments:
Added path.home setting to BaseQueryTestCase setup, this seems to be enforeced now

time:
2015-05-05T12:11:32Z
class:
src/main/java/org/elasticsearch/index/translog/fs/FsTranslog.java
src/test/java/org/elasticsearch/index/translog/fs/AbstractTranslogTests.java
comments:
[TRANSLOG] Make translog file parsing more picky

time:
2015-05-05T11:02:19Z
class:
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanContainingQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanWithinQueryParser.java
comments:
Adapted new SpanWithinQueryBuilder/Parser and SpanContainingQueryBuilder/Parser merged in from master to query refactoring base clases.

time:
2015-05-05T10:54:52Z
class:
src/main/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighter.java
src/main/java/org/elasticsearch/action/Action.java
src/main/java/org/elasticsearch/action/ActionRequest.java
src/main/java/org/elasticsearch/action/ActionRequestBuilder.java
src/main/java/org/elasticsearch/action/ClientAction.java
src/main/java/org/elasticsearch/action/TransportActionNodeProxy.java
src/main/java/org/elasticsearch/action/admin/cluster/ClusterAction.java
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthAction.java
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/DeleteRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/DeleteRepositoryRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteAction.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/ClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/ClusterUpdateSettingsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/DeleteSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/DeleteSnapshotRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateAction.java
src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/tasks/PendingClusterTasksAction.java
src/main/java/org/elasticsearch/action/admin/cluster/tasks/PendingClusterTasksRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/IndicesAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/alias/exists/AliasesExistAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/exists/AliasesExistRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/BaseAliasesRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeAction.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/close/CloseIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/close/CloseIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TypesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TypesExistsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/flush/FlushAction.java
src/main/java/org/elasticsearch/action/admin/indices/flush/FlushRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetMappingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetMappingsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/open/OpenIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/open/OpenIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeAction.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/RecoveryAction.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/RecoveryRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshAction.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsAction.java
src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/settings/get/GetSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/get/GetSettingsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/settings/put/UpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/put/UpdateSettingsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/DeleteIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/DeleteIndexTemplateRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/GetIndexTemplatesAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/GetIndexTemplatesRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryAction.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerRequestBuilder.java
src/main/java/org/elasticsearch/action/bulk/BulkAction.java
src/main/java/org/elasticsearch/action/bulk/BulkRequestBuilder.java
src/main/java/org/elasticsearch/action/count/CountAction.java
src/main/java/org/elasticsearch/action/count/CountRequestBuilder.java
src/main/java/org/elasticsearch/action/delete/DeleteAction.java
src/main/java/org/elasticsearch/action/delete/DeleteRequestBuilder.java
src/main/java/org/elasticsearch/action/exists/ExistsAction.java
src/main/java/org/elasticsearch/action/exists/ExistsRequestBuilder.java
src/main/java/org/elasticsearch/action/explain/ExplainAction.java
src/main/java/org/elasticsearch/action/explain/ExplainRequestBuilder.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsAction.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/get/GetAction.java
src/main/java/org/elasticsearch/action/get/GetRequestBuilder.java
src/main/java/org/elasticsearch/action/get/MultiGetAction.java
src/main/java/org/elasticsearch/action/get/MultiGetRequestBuilder.java
src/main/java/org/elasticsearch/action/index/IndexAction.java
src/main/java/org/elasticsearch/action/index/IndexRequestBuilder.java
src/main/java/org/elasticsearch/action/indexedscripts/delete/DeleteIndexedScriptAction.java
src/main/java/org/elasticsearch/action/indexedscripts/delete/DeleteIndexedScriptRequestBuilder.java
src/main/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptAction.java
src/main/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequestBuilder.java
src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptAction.java
src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptRequestBuilder.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisAction.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequestBuilder.java
src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java
src/main/java/org/elasticsearch/action/percolate/MultiPercolateAction.java
src/main/java/org/elasticsearch/action/percolate/MultiPercolateRequestBuilder.java
src/main/java/org/elasticsearch/action/percolate/PercolateAction.java
src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java
src/main/java/org/elasticsearch/action/search/ClearScrollAction.java
src/main/java/org/elasticsearch/action/search/ClearScrollRequestBuilder.java
src/main/java/org/elasticsearch/action/search/MultiSearchAction.java
src/main/java/org/elasticsearch/action/search/MultiSearchRequestBuilder.java
src/main/java/org/elasticsearch/action/search/SearchAction.java
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/action/search/SearchScrollAction.java
src/main/java/org/elasticsearch/action/search/SearchScrollRequestBuilder.java
src/main/java/org/elasticsearch/action/suggest/SuggestAction.java
src/main/java/org/elasticsearch/action/suggest/SuggestRequestBuilder.java
src/main/java/org/elasticsearch/action/support/AbstractListenableActionFuture.java
src/main/java/org/elasticsearch/action/support/HandledTransportAction.java
src/main/java/org/elasticsearch/action/support/PlainListenableActionFuture.java
src/main/java/org/elasticsearch/action/support/ThreadedActionListener.java
src/main/java/org/elasticsearch/action/support/TransportAction.java
src/main/java/org/elasticsearch/action/support/broadcast/BroadcastOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/master/AcknowledgedRequestBuilder.java
src/main/java/org/elasticsearch/action/support/master/MasterNodeOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/master/MasterNodeReadOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeOperationAction.java
src/main/java/org/elasticsearch/action/support/master/info/ClusterInfoRequestBuilder.java
src/main/java/org/elasticsearch/action/support/nodes/NodesOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/replication/ShardReplicationOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/single/custom/SingleCustomOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/single/instance/InstanceShardOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/single/shard/SingleShardOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/single/shard/TransportShardSingleOperationAction.java
src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsAction.java
src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsRequestBuilder.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsAction.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequestBuilder.java
src/main/java/org/elasticsearch/action/update/UpdateAction.java
src/main/java/org/elasticsearch/action/update/UpdateRequestBuilder.java
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
src/main/java/org/elasticsearch/bootstrap/Elasticsearch.java
src/main/java/org/elasticsearch/bootstrap/ElasticsearchF.java
src/main/java/org/elasticsearch/bootstrap/Security.java
src/main/java/org/elasticsearch/client/Client.java
src/main/java/org/elasticsearch/client/ClusterAdminClient.java
src/main/java/org/elasticsearch/client/ElasticsearchClient.java
src/main/java/org/elasticsearch/client/FilterClient.java
src/main/java/org/elasticsearch/client/IndicesAdminClient.java
src/main/java/org/elasticsearch/client/node/NodeAdminClient.java
src/main/java/org/elasticsearch/client/node/NodeClient.java
comments:
Merge branch 'master' into feature/query-refactoring

 Conflicts:
	src/main/java/org/elasticsearch/index/query/FilterBuilder.java
	src/main/java/org/elasticsearch/index/query/QueryParseContext.java

time:
2015-05-05T10:15:40Z
class:
src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java
src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
src/test/java/org/elasticsearch/gateway/GatewayMetaStateTests.java
src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesTests.java
comments:
Write state also on data nodes if not master eligible

When a node was a data node only then the index state was not written.
In case this node connected to a master that did not have the index
in the cluster state, for example because a master was restarted and
the data folder was lost, then the indices were not imported as dangling
but instead deleted.
This commit makes sure that index state for data nodes is also written
if they have at least one shard of this index allocated.

closes #8823
closes #9952

time:
2015-05-05T10:11:40Z
class:
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/script/ScriptParameterParser.java
src/test/java/org/elasticsearch/bwcompat/ScriptTransformBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/index/mapper/TransformOnIndexMapperIntegrationTest.java
comments:
Scripting: allow script language to be null when parsing

Closes #10926

time:
2015-05-05T09:46:02Z
class:
src/main/java/org/elasticsearch/action/Action.java
src/main/java/org/elasticsearch/action/ActionRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/ClusterAction.java
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthAction.java
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/DeleteRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/DeleteRepositoryRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteAction.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/ClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/ClusterUpdateSettingsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/DeleteSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/DeleteSnapshotRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateAction.java
src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/tasks/PendingClusterTasksAction.java
src/main/java/org/elasticsearch/action/admin/cluster/tasks/PendingClusterTasksRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/IndicesAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/alias/exists/AliasesExistAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/exists/AliasesExistRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/BaseAliasesRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeAction.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/close/CloseIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/close/CloseIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TypesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TypesExistsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/flush/FlushAction.java
src/main/java/org/elasticsearch/action/admin/indices/flush/FlushRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetMappingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetMappingsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/open/OpenIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/open/OpenIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeAction.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/RecoveryAction.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/RecoveryRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshAction.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsAction.java
src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/settings/get/GetSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/get/GetSettingsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/settings/put/UpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/put/UpdateSettingsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/DeleteIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/DeleteIndexTemplateRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/GetIndexTemplatesAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/GetIndexTemplatesRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryAction.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerRequestBuilder.java
src/main/java/org/elasticsearch/action/bulk/BulkAction.java
src/main/java/org/elasticsearch/action/bulk/BulkRequestBuilder.java
src/main/java/org/elasticsearch/action/count/CountAction.java
src/main/java/org/elasticsearch/action/count/CountRequestBuilder.java
src/main/java/org/elasticsearch/action/delete/DeleteAction.java
src/main/java/org/elasticsearch/action/delete/DeleteRequestBuilder.java
src/main/java/org/elasticsearch/action/exists/ExistsAction.java
src/main/java/org/elasticsearch/action/exists/ExistsRequestBuilder.java
src/main/java/org/elasticsearch/action/explain/ExplainAction.java
src/main/java/org/elasticsearch/action/explain/ExplainRequestBuilder.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsAction.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/get/GetAction.java
src/main/java/org/elasticsearch/action/get/GetRequestBuilder.java
src/main/java/org/elasticsearch/action/get/MultiGetAction.java
src/main/java/org/elasticsearch/action/get/MultiGetRequestBuilder.java
src/main/java/org/elasticsearch/action/index/IndexAction.java
src/main/java/org/elasticsearch/action/index/IndexRequestBuilder.java
src/main/java/org/elasticsearch/action/indexedscripts/delete/DeleteIndexedScriptAction.java
src/main/java/org/elasticsearch/action/indexedscripts/delete/DeleteIndexedScriptRequestBuilder.java
src/main/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptAction.java
src/main/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequestBuilder.java
src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptAction.java
src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptRequestBuilder.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisAction.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequestBuilder.java
src/main/java/org/elasticsearch/action/percolate/MultiPercolateAction.java
src/main/java/org/elasticsearch/action/percolate/MultiPercolateRequestBuilder.java
src/main/java/org/elasticsearch/action/percolate/PercolateAction.java
src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java
src/main/java/org/elasticsearch/action/search/ClearScrollAction.java
src/main/java/org/elasticsearch/action/search/ClearScrollRequestBuilder.java
src/main/java/org/elasticsearch/action/search/MultiSearchAction.java
src/main/java/org/elasticsearch/action/search/MultiSearchRequestBuilder.java
src/main/java/org/elasticsearch/action/search/SearchAction.java
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/action/search/SearchScrollAction.java
src/main/java/org/elasticsearch/action/search/SearchScrollRequestBuilder.java
src/main/java/org/elasticsearch/action/suggest/SuggestAction.java
src/main/java/org/elasticsearch/action/suggest/SuggestRequestBuilder.java
src/main/java/org/elasticsearch/action/support/ThreadedActionListener.java
src/main/java/org/elasticsearch/action/support/broadcast/BroadcastOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/master/AcknowledgedRequestBuilder.java
src/main/java/org/elasticsearch/action/support/master/MasterNodeOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/master/MasterNodeReadOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/master/info/ClusterInfoRequestBuilder.java
src/main/java/org/elasticsearch/action/support/nodes/NodesOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/replication/ShardReplicationOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/single/custom/SingleCustomOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/single/instance/InstanceShardOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/single/shard/SingleShardOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsAction.java
src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsRequestBuilder.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsAction.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequestBuilder.java
src/main/java/org/elasticsearch/action/update/UpdateAction.java
src/main/java/org/elasticsearch/action/update/UpdateRequestBuilder.java
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
src/main/java/org/elasticsearch/bootstrap/Elasticsearch.java
src/main/java/org/elasticsearch/bootstrap/ElasticsearchF.java
src/main/java/org/elasticsearch/bootstrap/Security.java
src/main/java/org/elasticsearch/client/Client.java
src/main/java/org/elasticsearch/client/ClusterAdminClient.java
src/main/java/org/elasticsearch/client/ElasticsearchClient.java
src/main/java/org/elasticsearch/client/FilterClient.java
src/main/java/org/elasticsearch/client/IndicesAdminClient.java
src/main/java/org/elasticsearch/client/node/NodeAdminClient.java
src/main/java/org/elasticsearch/client/node/NodeClient.java
src/main/java/org/elasticsearch/client/node/NodeClientModule.java
src/main/java/org/elasticsearch/client/node/NodeClusterAdminClient.java
src/main/java/org/elasticsearch/client/node/NodeIndicesAdminClient.java
src/main/java/org/elasticsearch/client/support/AbstractClient.java
src/main/java/org/elasticsearch/client/support/AbstractClusterAdminClient.java
src/main/java/org/elasticsearch/client/support/AbstractIndicesAdminClient.java
src/main/java/org/elasticsearch/client/transport/ClientTransportModule.java
src/main/java/org/elasticsearch/client/transport/TransportClient.java
src/main/java/org/elasticsearch/client/transport/support/InternalTransportAdminClient.java
src/main/java/org/elasticsearch/client/transport/support/InternalTransportClient.java
src/main/java/org/elasticsearch/client/transport/support/InternalTransportClusterAdminClient.java
src/main/java/org/elasticsearch/client/transport/support/InternalTransportIndicesAdminClient.java
src/main/java/org/elasticsearch/client/transport/support/TransportProxyClient.java
src/main/java/org/elasticsearch/cluster/ClusterState.java
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/common/jna/Kernel32Library.java
src/main/java/org/elasticsearch/common/util/concurrent/AbstractRefCounted.java
src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/rest/BaseRestHandler.java
src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/GeoBoundsAggregator.java
src/test/java/org/elasticsearch/action/bulk/BulkIntegrationTests.java
src/test/java/org/elasticsearch/action/bulk/BulkProcessorTests.java
src/test/java/org/elasticsearch/action/count/CountRequestBuilderTests.java
src/test/java/org/elasticsearch/action/search/SearchRequestBuilderTests.java
src/test/java/org/elasticsearch/action/support/replication/ShardReplicationOperationTests.java
src/test/java/org/elasticsearch/action/termvectors/MultiTermVectorsTests.java
src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
src/test/java/org/elasticsearch/bwcompat/ClusterStateBackwardsCompatTests.java
src/test/java/org/elasticsearch/bwcompat/NodesStatsBasicBackwardsCompatTests.java
src/test/java/org/elasticsearch/bwcompat/TransportClientBackwardsCompatibilityTest.java
src/test/java/org/elasticsearch/client/node/NodeClientHeadersTests.java
src/test/java/org/elasticsearch/client/transport/InternalTransportClientTests.java
src/test/java/org/elasticsearch/client/transport/TransportClientHeadersTests.java
src/test/java/org/elasticsearch/client/transport/TransportClientRetryTests.java
src/test/java/org/elasticsearch/client/transport/TransportClientTests.java
src/test/java/org/elasticsearch/cluster/NoMasterNodeTests.java
src/test/java/org/elasticsearch/common/jna/NativesTests.java
src/test/java/org/elasticsearch/index/IndexWithShadowReplicasTests.java
src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
src/test/java/org/elasticsearch/monitor/SigarTests.java
src/test/java/org/elasticsearch/rest/HeadersAndContextCopyClientTests.java
src/test/java/org/elasticsearch/script/expression/ExpressionScriptTests.java
src/test/java/org/elasticsearch/search/aggregations/metrics/GeoBoundsTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/moving/avg/MovAvgTests.java
src/test/java/org/elasticsearch/stresstest/client/ClientFailover.java
src/test/java/org/elasticsearch/stresstest/manyindices/ManyIndicesRemoteStressTest.java
src/test/java/org/elasticsearch/test/CompositeTestCluster.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/ElasticsearchTokenStreamTestCase.java
src/test/java/org/elasticsearch/test/ExternalNode.java
src/test/java/org/elasticsearch/test/ExternalTestCluster.java
comments:
Merge branch 'master' into pr-10624

Conflicts:
	src/main/java/org/elasticsearch/index/shard/IndexShard.java

time:
2015-05-05T09:36:51Z
class:
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/EngineConfig.java
src/main/java/org/elasticsearch/index/engine/EngineFactory.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/InternalEngineFactory.java
src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
src/main/java/org/elasticsearch/index/snapshots/IndexShardSnapshotAndRestoreService.java
src/main/java/org/elasticsearch/index/translog/TranslogService.java
src/main/java/org/elasticsearch/index/translog/fs/FsTranslog.java
src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
src/test/java/org/elasticsearch/test/engine/MockEngineFactory.java
src/test/java/org/elasticsearch/test/engine/MockInternalEngine.java
comments:
[ENGINE] Make translog fully private to the engine

This commit moves the translog creation into the InternalEngine
to ensure the transactino log is created after we acquired the write
lock on the index. This also prevents races when ShadowEngines are shutting
down due to node restarts where another node already takes over the not yet
fully synced transaction log.

time:
2015-05-05T09:17:21Z
class:
comments:
Docs: Fixed bad asciidoc in migrate_2_0

time:
2015-05-05T08:58:31Z
class:
src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/GeoBoundsAggregator.java
src/test/java/org/elasticsearch/search/aggregations/metrics/GeoBoundsTests.java
comments:
Aggregations: Fixes Infinite values return from geo_bounds with non-zero bucket-ordinals

If the collect method was called with a bucketOrd of > 0 the arrays holding the state for the aggregation would be grown but the initial values for the bucketOrds > 0 were all set to Double.NEGATIVE_INFINITY meaning that for the bottom, posLeft and negLeft values no collected document would change the value since NEGATIVE_INFINITY is always less than every other value.

Closes #10804

time:
2015-05-05T08:38:05Z
class:
comments:
Docs: Fixed typos

Closes #10973

time:
2015-05-05T08:04:52Z
class:
src/test/java/org/elasticsearch/search/aggregations/reducers/moving/avg/MovAvgTests.java
comments:
mute test in favor of #10972

time:
2015-05-05T05:29:57Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/common/jna/CLibrary.java
src/main/java/org/elasticsearch/common/jna/Natives.java
comments:
bail if ES is run as root

time:
2015-05-05T04:33:29Z
class:
src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
src/test/java/org/elasticsearch/script/GroovySecurityTests.java
comments:
Run groovy scripts with no permissions

time:
2015-05-05T00:06:24Z
class:
src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
src/main/java/org/elasticsearch/bootstrap/Security.java
src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/ElasticsearchTokenStreamTestCase.java
src/test/java/org/elasticsearch/test/SecurityBootstrap.java
comments:
Merge pull request #10965 from rmuir/lockdown4

make testing better mimic reality for securitymanager

time:
2015-05-04T22:28:08Z
class:
src/main/java/org/elasticsearch/bootstrap/Security.java
src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
comments:
Use java sys prop override in tests instead of flag to createPermissions

time:
2015-05-04T21:48:40Z
class:
comments:
Removed reference to search type 'count'

Removed reference to search type 'count' as this is now a deprecated
search type.

time:
2015-05-04T21:40:17Z
class:
src/main/java/org/elasticsearch/action/Action.java
src/main/java/org/elasticsearch/action/ActionRequestBuilder.java
src/main/java/org/elasticsearch/action/ClientAction.java
src/main/java/org/elasticsearch/action/admin/cluster/ClusterAction.java
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthAction.java
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/DeleteRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/DeleteRepositoryRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteAction.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/ClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/ClusterUpdateSettingsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/DeleteSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/DeleteSnapshotRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateAction.java
src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/tasks/PendingClusterTasksAction.java
src/main/java/org/elasticsearch/action/admin/cluster/tasks/PendingClusterTasksRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/IndicesAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/alias/exists/AliasesExistAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/exists/AliasesExistRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/BaseAliasesRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeAction.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/close/CloseIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/close/CloseIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TypesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TypesExistsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/flush/FlushAction.java
src/main/java/org/elasticsearch/action/admin/indices/flush/FlushRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetMappingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetMappingsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/open/OpenIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/open/OpenIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeAction.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/RecoveryAction.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/RecoveryRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshAction.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsAction.java
src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/settings/get/GetSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/get/GetSettingsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/settings/put/UpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/put/UpdateSettingsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/DeleteIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/DeleteIndexTemplateRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/GetIndexTemplatesAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/GetIndexTemplatesRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryAction.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerRequestBuilder.java
src/main/java/org/elasticsearch/action/bulk/BulkAction.java
src/main/java/org/elasticsearch/action/bulk/BulkRequestBuilder.java
src/main/java/org/elasticsearch/action/count/CountAction.java
src/main/java/org/elasticsearch/action/count/CountRequestBuilder.java
src/main/java/org/elasticsearch/action/delete/DeleteAction.java
src/main/java/org/elasticsearch/action/delete/DeleteRequestBuilder.java
src/main/java/org/elasticsearch/action/exists/ExistsAction.java
src/main/java/org/elasticsearch/action/exists/ExistsRequestBuilder.java
src/main/java/org/elasticsearch/action/explain/ExplainAction.java
src/main/java/org/elasticsearch/action/explain/ExplainRequestBuilder.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsAction.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/get/GetAction.java
src/main/java/org/elasticsearch/action/get/GetRequestBuilder.java
src/main/java/org/elasticsearch/action/get/MultiGetAction.java
src/main/java/org/elasticsearch/action/get/MultiGetRequestBuilder.java
src/main/java/org/elasticsearch/action/index/IndexAction.java
src/main/java/org/elasticsearch/action/index/IndexRequestBuilder.java
src/main/java/org/elasticsearch/action/indexedscripts/delete/DeleteIndexedScriptAction.java
src/main/java/org/elasticsearch/action/indexedscripts/delete/DeleteIndexedScriptRequestBuilder.java
src/main/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptAction.java
src/main/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequestBuilder.java
src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptAction.java
src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptRequestBuilder.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisAction.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequestBuilder.java
src/main/java/org/elasticsearch/action/percolate/MultiPercolateAction.java
src/main/java/org/elasticsearch/action/percolate/MultiPercolateRequestBuilder.java
src/main/java/org/elasticsearch/action/percolate/PercolateAction.java
src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java
src/main/java/org/elasticsearch/action/search/ClearScrollAction.java
src/main/java/org/elasticsearch/action/search/ClearScrollRequestBuilder.java
src/main/java/org/elasticsearch/action/search/MultiSearchAction.java
src/main/java/org/elasticsearch/action/search/MultiSearchRequestBuilder.java
src/main/java/org/elasticsearch/action/search/SearchAction.java
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/action/search/SearchScrollAction.java
src/main/java/org/elasticsearch/action/search/SearchScrollRequestBuilder.java
src/main/java/org/elasticsearch/action/suggest/SuggestAction.java
src/main/java/org/elasticsearch/action/suggest/SuggestRequestBuilder.java
src/main/java/org/elasticsearch/action/support/ThreadedActionListener.java
src/main/java/org/elasticsearch/action/support/broadcast/BroadcastOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/master/AcknowledgedRequestBuilder.java
src/main/java/org/elasticsearch/action/support/master/MasterNodeOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/master/MasterNodeReadOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/master/info/ClusterInfoRequestBuilder.java
src/main/java/org/elasticsearch/action/support/nodes/NodesOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/replication/ShardReplicationOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/single/custom/SingleCustomOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/single/instance/InstanceShardOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/single/shard/SingleShardOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsAction.java
src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsRequestBuilder.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsAction.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequestBuilder.java
src/main/java/org/elasticsearch/action/update/UpdateAction.java
src/main/java/org/elasticsearch/action/update/UpdateRequestBuilder.java
src/main/java/org/elasticsearch/client/Client.java
src/main/java/org/elasticsearch/client/ClusterAdminClient.java
src/main/java/org/elasticsearch/client/ElasticsearchClient.java
src/main/java/org/elasticsearch/client/FilterClient.java
src/main/java/org/elasticsearch/client/IndicesAdminClient.java
src/main/java/org/elasticsearch/client/node/NodeAdminClient.java
src/main/java/org/elasticsearch/client/node/NodeClient.java
src/main/java/org/elasticsearch/client/node/NodeClientModule.java
src/main/java/org/elasticsearch/client/node/NodeClusterAdminClient.java
src/main/java/org/elasticsearch/client/node/NodeIndicesAdminClient.java
src/main/java/org/elasticsearch/client/support/AbstractClient.java
src/main/java/org/elasticsearch/client/support/AbstractClusterAdminClient.java
src/main/java/org/elasticsearch/client/support/AbstractIndicesAdminClient.java
src/main/java/org/elasticsearch/client/transport/ClientTransportModule.java
src/main/java/org/elasticsearch/client/transport/TransportClient.java
src/main/java/org/elasticsearch/client/transport/support/InternalTransportAdminClient.java
src/main/java/org/elasticsearch/client/transport/support/InternalTransportClient.java
src/main/java/org/elasticsearch/client/transport/support/InternalTransportClusterAdminClient.java
src/main/java/org/elasticsearch/client/transport/support/InternalTransportIndicesAdminClient.java
src/main/java/org/elasticsearch/client/transport/support/TransportProxyClient.java
src/main/java/org/elasticsearch/rest/BaseRestHandler.java
src/test/java/org/elasticsearch/action/bulk/BulkIntegrationTests.java
src/test/java/org/elasticsearch/action/bulk/BulkProcessorTests.java
src/test/java/org/elasticsearch/action/count/CountRequestBuilderTests.java
src/test/java/org/elasticsearch/action/search/SearchRequestBuilderTests.java
src/test/java/org/elasticsearch/action/termvectors/MultiTermVectorsTests.java
src/test/java/org/elasticsearch/bwcompat/ClusterStateBackwardsCompatTests.java
src/test/java/org/elasticsearch/bwcompat/NodesStatsBasicBackwardsCompatTests.java
src/test/java/org/elasticsearch/bwcompat/TransportClientBackwardsCompatibilityTest.java
src/test/java/org/elasticsearch/client/node/NodeClientHeadersTests.java
src/test/java/org/elasticsearch/client/transport/InternalTransportClientTests.java
src/test/java/org/elasticsearch/client/transport/TransportClientHeadersTests.java
src/test/java/org/elasticsearch/client/transport/TransportClientRetryTests.java
src/test/java/org/elasticsearch/client/transport/TransportClientTests.java
src/test/java/org/elasticsearch/cluster/NoMasterNodeTests.java
src/test/java/org/elasticsearch/rest/HeadersAndContextCopyClientTests.java
src/test/java/org/elasticsearch/script/expression/ExpressionScriptTests.java
src/test/java/org/elasticsearch/stresstest/client/ClientFailover.java
src/test/java/org/elasticsearch/stresstest/manyindices/ManyIndicesRemoteStressTest.java
src/test/java/org/elasticsearch/test/CompositeTestCluster.java
src/test/java/org/elasticsearch/test/ExternalNode.java
src/test/java/org/elasticsearch/test/ExternalTestCluster.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortIntegrationTests.java
comments:
Centralize admin implementations and action execution
This change removes the multiple implementations of different admin interfaces and centralizes it with AbstractClient. It also makes sure *all* executions of actions now go through a single AbstractClient#execute method, taking care of copying headers and wrapping listener.
This also has the side benefit of removing all the code around differnet possible clients, and removes quite a bit of code (most of the + code is actually removal of generics and such).

This change also changes how TransportClient is constructed, requiring a Builder to create it, its a breaking change and its noted in the migration guide.

Yea another step towards simplifying the action infra and making it simpler...

time:
2015-05-04T21:16:08Z
class:
comments:
Use the special java.ext.dirs path instead of 4 tomcat heuristics

time:
2015-05-04T21:00:36Z
class:
src/main/java/org/elasticsearch/cluster/ClusterState.java
comments:
Docs: clarify cluster state handling

time:
2015-05-04T20:30:42Z
class:
src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
comments:
fix wrong comment change

time:
2015-05-04T20:27:24Z
class:
src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
src/main/java/org/elasticsearch/bootstrap/Security.java
src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/ElasticsearchTokenStreamTestCase.java
src/test/java/org/elasticsearch/test/SecurityBootstrap.java
comments:
fix permissions bugs

time:
2015-05-04T20:15:30Z
class:
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
src/test/java/org/elasticsearch/index/IndexWithShadowReplicasTests.java
comments:
Merge remote-tracking branch 'dakrone/sharedfs-recovery-any-node'

time:
2015-05-04T20:03:31Z
class:
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
src/test/java/org/elasticsearch/index/IndexWithShadowReplicasTests.java
comments:
Allow shards on shared filesystems to be recovered on any node

Currently, when all copies of a shard are lost, we reach out to all
other nodes to see whether they have a copy of the data. For a shared
filesystem, though, we can assume that each node has a copy of the data
available, so return a state version of at least 0 for each node.

This feature is set using the dynamic index setting
`index.shared_filesystem.recover_on_any_node`, which defaults to
`false`.

Fixes #10932

time:
2015-05-04T19:39:17Z
class:
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/snapshots/IndexShardSnapshotAndRestoreService.java
src/test/java/org/elasticsearch/index/IndexWithShadowReplicasTests.java
comments:
Only mark translog committed in restore recovery

time:
2015-05-04T19:38:46Z
class:
src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
src/main/java/org/elasticsearch/bootstrap/Security.java
src/test/java/org/elasticsearch/test/SecurityHack.java
comments:
hacky state

time:
2015-05-04T18:56:30Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/Elasticsearch.java
src/main/java/org/elasticsearch/bootstrap/ElasticsearchF.java
comments:
Merge pull request #10963 from rmuir/lockdown3

Remove exitVM permissions

time:
2015-05-04T18:55:10Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
comments:
Use Releasables.close here

time:
2015-05-04T18:21:11Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
comments:
add a null check for safety

time:
2015-05-04T18:06:32Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/Elasticsearch.java
src/main/java/org/elasticsearch/bootstrap/ElasticsearchF.java
comments:
Remove exitVM permission

time:
2015-05-04T17:33:20Z
class:
src/test/java/org/elasticsearch/search/aggregations/reducers/moving/avg/MovAvgTests.java
comments:
[TEST] Stabilize MovAvgTests with more lenient floating point checks

It appears the previous failure (-Dtests.seed=D9EF60095522804F) is just accumulation of
floating point error differences between expected and actual results.  Making the tests less
stringent by requiring closeTo(0.1) instead of the previous 0.00001

time:
2015-05-04T17:28:47Z
class:
comments:
Merge pull request #10929 from polyfractal/docs/aggs

Restructure Aggregation documentation

time:
2015-05-04T17:22:46Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/Security.java
src/main/java/org/elasticsearch/common/jna/Kernel32Library.java
src/test/java/org/elasticsearch/common/jna/NativesTests.java
src/test/java/org/elasticsearch/monitor/SigarTests.java
src/test/java/org/elasticsearch/test/SecurityHack.java
comments:
Merge pull request #10962 from rmuir/lockdown2

Remove JNI permissions, improve JNI testing.

time:
2015-05-04T16:30:03Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/Security.java
src/main/java/org/elasticsearch/common/jna/Kernel32Library.java
src/test/java/org/elasticsearch/common/jna/NativesTests.java
src/test/java/org/elasticsearch/monitor/SigarTests.java
src/test/java/org/elasticsearch/test/SecurityHack.java
comments:
Remove JNI permissions, improve JNI testing.

time:
2015-05-04T16:03:29Z
class:
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/common/util/concurrent/AbstractRefCounted.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/test/java/org/elasticsearch/action/support/replication/ShardReplicationOperationTests.java
src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/test/TestCluster.java
comments:
ref count write operations on IndexShard

This commit adds a counter for IndexShard that keeps track of how many write operations
are currently in flight on a shard. The counter is incremented whenever a write request is
submitted in TransportShardReplicationOperationAction and decremented when it is finished.
On a primary it stays incremented while replicas are being processed.
The counter is an instance of AbstractRefCounted. Once this counter reaches 0
each write operation will be rejected with an IndexClosedException.

closes #10610

time:
2015-05-04T15:56:50Z
class:
src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
comments:
Merge pull request #10934 from mattweber/custom_analyzer_pos_offset_gap

document and test custom analyzer position offset gap

time:
2015-05-04T15:53:45Z
class:
src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
comments:
document and test custom analyzer position offset gap

time:
2015-05-04T15:17:48Z
class:
comments:
Docs: Update geo-distance-range-filter.asciidoc

missing comma

Closes #10957

time:
2015-05-04T15:07:03Z
class:
src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
src/main/java/org/elasticsearch/index/store/Store.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryCleanFilesRequest.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryState.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
src/main/java/org/elasticsearch/indices/recovery/StartRecoveryRequest.java
src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayTests.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/store/StoreTest.java
src/test/java/org/elasticsearch/indices/recovery/StartRecoveryRequestTest.java
comments:
use sync id when recovering

Skip phase 1 of recovery in case an identical sync id was found on primary
and replica. Relates to #10032

closes #10775

time:
2015-05-04T15:06:05Z
class:
src/main/java/org/elasticsearch/action/ActionRequest.java
src/main/java/org/elasticsearch/action/ActionRequestBuilder.java
src/main/java/org/elasticsearch/action/TransportActionNodeProxy.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsAction.java
src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java
src/main/java/org/elasticsearch/action/search/SearchScrollRequestBuilder.java
src/main/java/org/elasticsearch/action/support/AbstractListenableActionFuture.java
src/main/java/org/elasticsearch/action/support/HandledTransportAction.java
src/main/java/org/elasticsearch/action/support/PlainListenableActionFuture.java
src/main/java/org/elasticsearch/action/support/ThreadedActionListener.java
src/main/java/org/elasticsearch/action/support/TransportAction.java
src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/single/shard/TransportShardSingleOperationAction.java
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/Security.java
src/main/java/org/elasticsearch/client/node/NodeClient.java
src/main/java/org/elasticsearch/client/node/NodeClusterAdminClient.java
src/main/java/org/elasticsearch/client/node/NodeIndicesAdminClient.java
src/main/java/org/elasticsearch/client/transport/TransportClient.java
src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
src/main/java/org/elasticsearch/client/transport/support/InternalTransportClient.java
src/main/java/org/elasticsearch/client/transport/support/InternalTransportClusterAdminClient.java
src/main/java/org/elasticsearch/client/transport/support/InternalTransportIndicesAdminClient.java
src/main/java/org/elasticsearch/env/Environment.java
src/main/java/org/elasticsearch/indices/IndicesService.java
src/main/java/org/elasticsearch/indices/analysis/HunspellService.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/health/RestClusterHealthAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/node/info/RestNodesInfoAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/node/stats/RestNodesStatsAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/repositories/delete/RestDeleteRepositoryAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/repositories/put/RestPutRepositoryAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/repositories/verify/RestVerifyRepositoryAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/reroute/RestClusterRerouteAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/settings/RestClusterGetSettingsAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/settings/RestClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/shards/RestClusterSearchShardsAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/snapshots/create/RestCreateSnapshotAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/state/RestClusterStateAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/stats/RestClusterStatsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/alias/RestIndicesAliasesAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/alias/get/RestGetIndicesAliasesAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/cache/clear/RestClearIndicesCacheAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/close/RestCloseIndexAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/create/RestCreateIndexAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/delete/RestDeleteIndexAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/exists/indices/RestIndicesExistsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/exists/types/RestTypesExistsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/flush/RestFlushAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/mapping/put/RestPutMappingAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/open/RestOpenIndexAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/optimize/RestOptimizeAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/recovery/RestRecoveryAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/refresh/RestRefreshAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/segments/RestIndicesSegmentsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/settings/RestUpdateSettingsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/stats/RestIndicesStatsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/template/delete/RestDeleteIndexTemplateAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/template/get/RestGetIndexTemplateAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/template/put/RestPutIndexTemplateAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/validate/query/RestValidateQueryAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/warmer/delete/RestDeleteWarmerAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/warmer/put/RestPutWarmerAction.java
src/main/java/org/elasticsearch/rest/action/bulk/RestBulkAction.java
src/main/java/org/elasticsearch/rest/action/cat/RestRecoveryAction.java
src/main/java/org/elasticsearch/rest/action/count/RestCountAction.java
src/main/java/org/elasticsearch/rest/action/delete/RestDeleteAction.java
src/main/java/org/elasticsearch/rest/action/exists/RestExistsAction.java
src/main/java/org/elasticsearch/rest/action/fieldstats/RestFieldStatsAction.java
src/main/java/org/elasticsearch/rest/action/get/RestGetAction.java
src/main/java/org/elasticsearch/rest/action/get/RestGetSourceAction.java
src/main/java/org/elasticsearch/rest/action/get/RestHeadAction.java
src/main/java/org/elasticsearch/rest/action/get/RestMultiGetAction.java
src/main/java/org/elasticsearch/rest/action/index/RestIndexAction.java
src/main/java/org/elasticsearch/rest/action/mlt/RestMoreLikeThisAction.java
src/main/java/org/elasticsearch/rest/action/percolate/RestPercolateAction.java
src/main/java/org/elasticsearch/rest/action/script/RestPutIndexedScriptAction.java
src/main/java/org/elasticsearch/rest/action/search/RestMultiSearchAction.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchScrollAction.java
src/main/java/org/elasticsearch/rest/action/suggest/RestSuggestAction.java
src/main/java/org/elasticsearch/rest/action/termvectors/RestMultiTermVectorsAction.java
src/main/java/org/elasticsearch/rest/action/update/RestUpdateAction.java
src/main/java/org/elasticsearch/river/RiversService.java
src/main/java/org/elasticsearch/tribe/TribeService.java
src/test/java/org/elasticsearch/action/ListenerActionTests.java
src/test/java/org/elasticsearch/action/bulk/BulkProcessorTests.java
src/test/java/org/elasticsearch/action/count/CountRequestBuilderTests.java
src/test/java/org/elasticsearch/action/search/SearchRequestBuilderTests.java
src/test/java/org/elasticsearch/action/support/TransportActionFilterChainTests.java
src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
src/test/java/org/elasticsearch/client/AbstractClientHeadersTests.java
src/test/java/org/elasticsearch/client/node/NodeClientHeadersTests.java
src/test/java/org/elasticsearch/client/transport/TransportClientHeadersTests.java
src/test/java/org/elasticsearch/client/transport/TransportClientRetryTests.java
src/test/java/org/elasticsearch/client/transport/TransportClientTests.java
src/test/java/org/elasticsearch/common/cli/CheckFileCommandTests.java
src/test/java/org/elasticsearch/common/cli/CliToolTestCase.java
src/test/java/org/elasticsearch/common/logging/log4j/Log4jESLoggerTests.java
src/test/java/org/elasticsearch/common/logging/log4j/LoggingConfigurationTests.java
src/test/java/org/elasticsearch/index/analysis/ASCIIFoldingTokenFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
src/test/java/org/elasticsearch/index/analysis/AnalysisTestsHelper.java
src/test/java/org/elasticsearch/index/analysis/AnalyzerBackwardsCompatTests.java
src/test/java/org/elasticsearch/index/analysis/CJKFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/CharFilterTests.java
src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
src/test/java/org/elasticsearch/index/analysis/HunspellTokenFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/KeepFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/KeepTypesFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/LimitTokenCountFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/PatternCaptureTokenFilterTests.java
src/test/java/org/elasticsearch/index/analysis/ShingleTokenFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/StemmerTokenFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/StopAnalyzerTests.java
src/test/java/org/elasticsearch/index/analysis/StopTokenFilterTests.java
src/test/java/org/elasticsearch/index/analysis/WordDelimiterTokenFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/commongrams/CommonGramsTokenFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTest.java
src/test/java/org/elasticsearch/index/query/TemplateQueryParserTest.java
src/test/java/org/elasticsearch/index/query/plugin/IndexQueryParserPlugin2Tests.java
src/test/java/org/elasticsearch/index/query/plugin/IndexQueryParserPluginTests.java
src/test/java/org/elasticsearch/indices/analyze/HunspellServiceTests.java
src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
src/test/java/org/elasticsearch/script/NativeScriptTests.java
src/test/java/org/elasticsearch/script/ScriptServiceTests.java
src/test/java/org/elasticsearch/stresstest/client/ClientFailover.java
src/test/java/org/elasticsearch/stresstest/manyindices/ManyIndicesRemoteStressTest.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortIntegrationTests.java
src/test/java/org/elasticsearch/tribe/TribeUnitTests.java
comments:
Merge branch 'master' into pr-10624

time:
2015-05-04T14:56:03Z
class:
src/main/java/org/elasticsearch/indices/IndicesService.java
comments:
[INDICES] Wait forever (or one day) for indices to close

Today we wait 30 sec for shards to flush and close and then simply exit the process.
This is often not desired and we should by default wait long enough for shards to
close etc. This commit adds a default timeout of one day which simplifies the code
and gives us _enough_ time to shut down.

Closes #10680

time:
2015-05-04T14:52:35Z
class:
comments:
Docs: Update rolling upgrade

Added note about why replica shards may remain unassigned while there is only one node of the higher version in the cluster.

Closes #10951

time:
2015-05-04T14:38:43Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
comments:
Merge pull request #10953 from rmuir/lockdown

remove shutdownHooks permission

time:
2015-05-04T14:26:24Z
class:
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
comments:
[ENGINE] Mark current translog as committed if initial recovery is skipped

If the initial recovery is skipped all uncommitted changes are lost. This
must be enforced otherwise primary and replica will go out of sync once the
primary is started after restore and a replica recovers from it applying the
still referenced transaction logs.

time:
2015-05-04T14:26:18Z
class:
src/main/java/org/elasticsearch/index/IndexService.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
src/main/java/org/elasticsearch/indices/recovery/SharedFSRecoverySourceHandler.java
src/test/java/org/elasticsearch/index/IndexWithShadowReplicasTests.java
src/test/java/org/elasticsearch/test/engine/MockInternalEngine.java
comments:
[CORE] Allow rebalancing primary shards on shared filesystems

Instead of failing the Engine for a shared filesystem, this change
allows a "soft close" of the Engine, where only the IndexWriter is
closed so that the replica can open an IndexWriter using the same
filesystem directory/mount.

Fixes #10469

time:
2015-05-04T14:18:09Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
comments:
remove shutdownHooks permission

time:
2015-05-04T14:11:38Z
class:
src/main/java/org/elasticsearch/client/transport/TransportClient.java
src/main/java/org/elasticsearch/env/Environment.java
src/main/java/org/elasticsearch/indices/analysis/HunspellService.java
src/main/java/org/elasticsearch/tribe/TribeService.java
src/test/java/org/elasticsearch/action/bulk/BulkProcessorTests.java
src/test/java/org/elasticsearch/action/count/CountRequestBuilderTests.java
src/test/java/org/elasticsearch/action/search/SearchRequestBuilderTests.java
src/test/java/org/elasticsearch/client/AbstractClientHeadersTests.java
src/test/java/org/elasticsearch/client/transport/TransportClientHeadersTests.java
src/test/java/org/elasticsearch/client/transport/TransportClientRetryTests.java
src/test/java/org/elasticsearch/client/transport/TransportClientTests.java
src/test/java/org/elasticsearch/common/cli/CheckFileCommandTests.java
src/test/java/org/elasticsearch/common/cli/CliToolTestCase.java
src/test/java/org/elasticsearch/common/logging/log4j/Log4jESLoggerTests.java
src/test/java/org/elasticsearch/common/logging/log4j/LoggingConfigurationTests.java
src/test/java/org/elasticsearch/index/analysis/ASCIIFoldingTokenFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
src/test/java/org/elasticsearch/index/analysis/AnalysisTestsHelper.java
src/test/java/org/elasticsearch/index/analysis/AnalyzerBackwardsCompatTests.java
src/test/java/org/elasticsearch/index/analysis/CJKFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/CharFilterTests.java
src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
src/test/java/org/elasticsearch/index/analysis/HunspellTokenFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/KeepFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/KeepTypesFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/LimitTokenCountFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/PatternCaptureTokenFilterTests.java
src/test/java/org/elasticsearch/index/analysis/ShingleTokenFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/StemmerTokenFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/StopAnalyzerTests.java
src/test/java/org/elasticsearch/index/analysis/StopTokenFilterTests.java
src/test/java/org/elasticsearch/index/analysis/WordDelimiterTokenFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/commongrams/CommonGramsTokenFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTest.java
src/test/java/org/elasticsearch/index/query/TemplateQueryParserTest.java
src/test/java/org/elasticsearch/index/query/plugin/IndexQueryParserPlugin2Tests.java
src/test/java/org/elasticsearch/index/query/plugin/IndexQueryParserPluginTests.java
src/test/java/org/elasticsearch/indices/analyze/HunspellServiceTests.java
src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
src/test/java/org/elasticsearch/script/NativeScriptTests.java
src/test/java/org/elasticsearch/script/ScriptServiceTests.java
src/test/java/org/elasticsearch/stresstest/client/ClientFailover.java
src/test/java/org/elasticsearch/stresstest/manyindices/ManyIndicesRemoteStressTest.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortIntegrationTests.java
src/test/java/org/elasticsearch/tribe/TribeUnitTests.java
comments:
Merge pull request #10923 from elastic/die_cwd_die

Remove CWD access in tests and don't implicitly use CWD/user.dir for configuration.

time:
2015-05-04T14:00:05Z
class:
comments:
Add migration note for hunspell dictionaries

time:
2015-05-04T13:55:29Z
class:
src/main/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighter.java
src/main/java/org/elasticsearch/action/ActionRequest.java
src/main/java/org/elasticsearch/action/ActionRequestBuilder.java
src/main/java/org/elasticsearch/action/TransportActionNodeProxy.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsAction.java
src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java
src/main/java/org/elasticsearch/action/search/SearchScrollRequestBuilder.java
src/main/java/org/elasticsearch/action/support/AbstractListenableActionFuture.java
src/main/java/org/elasticsearch/action/support/HandledTransportAction.java
src/main/java/org/elasticsearch/action/support/PlainListenableActionFuture.java
src/main/java/org/elasticsearch/action/support/ThreadedActionListener.java
src/main/java/org/elasticsearch/action/support/TransportAction.java
src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/single/shard/TransportShardSingleOperationAction.java
src/main/java/org/elasticsearch/bootstrap/Security.java
src/main/java/org/elasticsearch/client/node/NodeClient.java
src/main/java/org/elasticsearch/client/node/NodeClusterAdminClient.java
src/main/java/org/elasticsearch/client/node/NodeIndicesAdminClient.java
src/main/java/org/elasticsearch/client/transport/TransportClient.java
src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
src/main/java/org/elasticsearch/client/transport/support/InternalTransportClient.java
src/main/java/org/elasticsearch/client/transport/support/InternalTransportClusterAdminClient.java
src/main/java/org/elasticsearch/client/transport/support/InternalTransportIndicesAdminClient.java
src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/EvenShardsCountAllocator.java
src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocatorModule.java
src/main/java/org/elasticsearch/cluster/settings/ClusterDynamicSettingsModule.java
src/main/java/org/elasticsearch/common/lucene/IndexCacheableQuery.java
src/main/java/org/elasticsearch/common/lucene/ShardCoreKeyMap.java
src/main/java/org/elasticsearch/common/lucene/docset/DocIdSets.java
src/main/java/org/elasticsearch/common/lucene/search/CachedFilter.java
src/main/java/org/elasticsearch/common/lucene/search/FilteredCollector.java
src/main/java/org/elasticsearch/common/lucene/search/NoCacheFilter.java
src/main/java/org/elasticsearch/common/lucene/search/NoCacheQuery.java
src/main/java/org/elasticsearch/common/lucene/search/Queries.java
src/main/java/org/elasticsearch/common/lucene/search/ResolvableFilter.java
src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
src/main/java/org/elasticsearch/index/IndexService.java
src/main/java/org/elasticsearch/index/aliases/IndexAliasesService.java
src/main/java/org/elasticsearch/index/cache/IndexCache.java
src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/FilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/FilterCacheModule.java
src/main/java/org/elasticsearch/index/cache/filter/FilterCacheStats.java
src/main/java/org/elasticsearch/index/cache/filter/ShardFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/index/IndexFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/none/NoneFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/weighted/WeightedFilterCache.java
src/main/java/org/elasticsearch/index/cache/query/ShardQueryCache.java
src/main/java/org/elasticsearch/index/engine/EngineConfig.java
src/main/java/org/elasticsearch/index/engine/EngineSearcherFactory.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
src/main/java/org/elasticsearch/index/query/AndFilterBuilder.java
src/main/java/org/elasticsearch/index/query/AndFilterParser.java
src/main/java/org/elasticsearch/index/query/BoolFilterBuilder.java
src/main/java/org/elasticsearch/index/query/BoolFilterParser.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/ExistsFilterParser.java
src/main/java/org/elasticsearch/index/query/FQueryFilterParser.java
src/main/java/org/elasticsearch/index/query/FilterBuilder.java
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoPolygonFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoShapeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeohashCellFilter.java
src/main/java/org/elasticsearch/index/query/HasChildFilterParser.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentFilterBuilder.java
src/main/java/org/elasticsearch/index/query/HasParentFilterParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/IdsFilterParser.java
src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
src/main/java/org/elasticsearch/index/query/MissingFilterParser.java
src/main/java/org/elasticsearch/index/query/NestedFilterBuilder.java
src/main/java/org/elasticsearch/index/query/NestedFilterParser.java
src/main/java/org/elasticsearch/index/query/NotFilterBuilder.java
src/main/java/org/elasticsearch/index/query/NotFilterParser.java
src/main/java/org/elasticsearch/index/query/OrFilterBuilder.java
src/main/java/org/elasticsearch/index/query/OrFilterParser.java
src/main/java/org/elasticsearch/index/query/PrefixFilterBuilder.java
src/main/java/org/elasticsearch/index/query/PrefixFilterParser.java
src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/query/RangeFilterBuilder.java
src/main/java/org/elasticsearch/index/query/RangeFilterParser.java
src/main/java/org/elasticsearch/index/query/RegexpFilterBuilder.java
src/main/java/org/elasticsearch/index/query/RegexpFilterParser.java
src/main/java/org/elasticsearch/index/query/ScriptFilterBuilder.java
src/main/java/org/elasticsearch/index/query/ScriptFilterParser.java
src/main/java/org/elasticsearch/index/query/TermFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TermFilterParser.java
src/main/java/org/elasticsearch/index/query/TermsFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TermsFilterParser.java
src/main/java/org/elasticsearch/index/query/TermsLookupFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryParser.java
src/main/java/org/elasticsearch/index/query/TypeFilterParser.java
src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
src/main/java/org/elasticsearch/index/search/child/CustomQueryWrappingFilter.java
src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentIdsFilter.java
src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
src/main/java/org/elasticsearch/index/search/geo/IndexedGeoBoundingBoxFilter.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
src/main/java/org/elasticsearch/indices/cache/filter/IndicesFilterCache.java
src/main/java/org/elasticsearch/percolator/MultiDocumentPercolatorIndex.java
src/main/java/org/elasticsearch/percolator/PercolateContext.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/health/RestClusterHealthAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/node/info/RestNodesInfoAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/node/stats/RestNodesStatsAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/repositories/delete/RestDeleteRepositoryAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/repositories/put/RestPutRepositoryAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/repositories/verify/RestVerifyRepositoryAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/reroute/RestClusterRerouteAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/settings/RestClusterGetSettingsAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/settings/RestClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/shards/RestClusterSearchShardsAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/snapshots/create/RestCreateSnapshotAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/state/RestClusterStateAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/stats/RestClusterStatsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/alias/RestIndicesAliasesAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/alias/get/RestGetIndicesAliasesAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/cache/clear/RestClearIndicesCacheAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/close/RestCloseIndexAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/create/RestCreateIndexAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/delete/RestDeleteIndexAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/exists/indices/RestIndicesExistsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/exists/types/RestTypesExistsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/flush/RestFlushAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/mapping/put/RestPutMappingAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/open/RestOpenIndexAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/optimize/RestOptimizeAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/recovery/RestRecoveryAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/refresh/RestRefreshAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/segments/RestIndicesSegmentsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/settings/RestUpdateSettingsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/stats/RestIndicesStatsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/template/delete/RestDeleteIndexTemplateAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/template/get/RestGetIndexTemplateAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/template/put/RestPutIndexTemplateAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/validate/query/RestValidateQueryAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/warmer/delete/RestDeleteWarmerAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/warmer/put/RestPutWarmerAction.java
src/main/java/org/elasticsearch/rest/action/bulk/RestBulkAction.java
src/main/java/org/elasticsearch/rest/action/cat/RestRecoveryAction.java
src/main/java/org/elasticsearch/rest/action/count/RestCountAction.java
src/main/java/org/elasticsearch/rest/action/delete/RestDeleteAction.java
src/main/java/org/elasticsearch/rest/action/exists/RestExistsAction.java
src/main/java/org/elasticsearch/rest/action/fieldstats/RestFieldStatsAction.java
src/main/java/org/elasticsearch/rest/action/get/RestGetAction.java
src/main/java/org/elasticsearch/rest/action/get/RestGetSourceAction.java
src/main/java/org/elasticsearch/rest/action/get/RestHeadAction.java
src/main/java/org/elasticsearch/rest/action/get/RestMultiGetAction.java
src/main/java/org/elasticsearch/rest/action/index/RestIndexAction.java
src/main/java/org/elasticsearch/rest/action/mlt/RestMoreLikeThisAction.java
src/main/java/org/elasticsearch/rest/action/percolate/RestPercolateAction.java
src/main/java/org/elasticsearch/rest/action/script/RestPutIndexedScriptAction.java
src/main/java/org/elasticsearch/rest/action/search/RestMultiSearchAction.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchScrollAction.java
src/main/java/org/elasticsearch/rest/action/suggest/RestSuggestAction.java
src/main/java/org/elasticsearch/rest/action/termvectors/RestMultiTermVectorsAction.java
src/main/java/org/elasticsearch/rest/action/update/RestUpdateAction.java
src/main/java/org/elasticsearch/river/RiversService.java
src/main/java/org/elasticsearch/search/SearchService.java
src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/ChildrenParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/ParentToChildrenAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedParser.java
src/main/java/org/elasticsearch/search/dfs/CachedDfSource.java
src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
src/main/java/org/elasticsearch/search/fetch/FetchSubPhase.java
src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
src/main/java/org/elasticsearch/search/highlight/PostingsHighlighter.java
src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
src/main/java/org/elasticsearch/search/internal/SearchContext.java
src/main/java/org/elasticsearch/search/lookup/LeafIndexLookup.java
src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
src/main/java/org/elasticsearch/search/sort/ScriptSortParser.java
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
src/test/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighterTests.java
src/test/java/org/apache/lucene/search/postingshighlight/XPostingsHighlighterTests.java
src/test/java/org/elasticsearch/action/ListenerActionTests.java
src/test/java/org/elasticsearch/action/support/TransportActionFilterChainTests.java
src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/TimeDataHistogramAggregationBenchmark.java
src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
src/test/java/org/elasticsearch/client/AbstractClientHeadersTests.java
src/test/java/org/elasticsearch/client/node/NodeClientHeadersTests.java
src/test/java/org/elasticsearch/client/transport/TransportClientRetryTests.java
src/test/java/org/elasticsearch/cluster/allocation/ShardsAllocatorModuleTests.java
src/test/java/org/elasticsearch/cluster/settings/ClusterSettingsTests.java
src/test/java/org/elasticsearch/common/lucene/IndexCacheableQueryTests.java
src/test/java/org/elasticsearch/common/lucene/LuceneTest.java
src/test/java/org/elasticsearch/common/lucene/ShardCoreKeyMapTests.java
src/test/java/org/elasticsearch/common/lucene/index/FreqTermsEnumTests.java
src/test/java/org/elasticsearch/count/query/CountQueryTests.java
src/test/java/org/elasticsearch/index/aliases/IndexAliasesServiceTests.java
src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTest.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/index/search/child/AbstractChildTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
src/test/java/org/elasticsearch/index/search/nested/AbstractNumberNestedSortingTests.java
src/test/java/org/elasticsearch/index/search/nested/DoubleNestedSortingTests.java
src/test/java/org/elasticsearch/index/search/nested/FloatNestedSortingTests.java
src/test/java/org/elasticsearch/index/search/nested/NestedSortingTests.java
src/test/java/org/elasticsearch/indices/cache/query/IndicesQueryCacheTests.java
src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateTests.java
src/test/java/org/elasticsearch/indices/warmer/SimpleIndicesWarmerTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTest.java
src/test/java/org/elasticsearch/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/search/fetch/innerhits/NestedChildrenFilterTest.java
src/test/java/org/elasticsearch/search/functionscore/FunctionScoreTests.java
src/test/java/org/elasticsearch/search/geo/GeoFilterTests.java
src/test/java/org/elasticsearch/search/query/SearchQueryTests.java
comments:
Merge branch 'master' into die_cwd_die

Conflicts:
	src/test/java/org/elasticsearch/client/AbstractClientHeadersTests.java

time:
2015-05-04T13:18:24Z
class:
comments:
[DOCS] Fix section levels for Sampler agg

time:
2015-05-04T12:21:15Z
class:
src/main/java/org/apache/lucene/analysis/PrefixAnalyzer.java
src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
src/main/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighter.java
src/main/java/org/apache/lucene/store/StoreRateLimiting.java
src/main/java/org/elasticsearch/ElasticsearchException.java
src/main/java/org/elasticsearch/ExceptionsHelper.java
src/main/java/org/elasticsearch/Version.java
src/main/java/org/elasticsearch/action/ActionFuture.java
src/main/java/org/elasticsearch/action/ActionModule.java
src/main/java/org/elasticsearch/action/ActionRequestBuilder.java
src/main/java/org/elasticsearch/action/ActionRequestValidationException.java
src/main/java/org/elasticsearch/action/ActionWriteResponse.java
src/main/java/org/elasticsearch/action/ThreadingModel.java
src/main/java/org/elasticsearch/action/WriteConsistencyLevel.java
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthStatus.java
src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/TransportLivenessAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/shutdown/NodesShutdownRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/node/shutdown/NodesShutdownRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/node/shutdown/TransportNodesShutdownAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/TransportDeleteRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/TransportGetRepositoriesAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/TransportPutRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/TransportVerifyRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/TransportRestoreSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexShardStage.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexShardStatus.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotShardsStats.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/tasks/TransportPendingClusterTasksAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/Alias.java
src/main/java/org/elasticsearch/action/admin/indices/alias/TransportIndicesAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/exists/TransportAliasesExistAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesResponse.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/create/TransportCreateIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/TransportIndicesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java
src/main/java/org/elasticsearch/action/admin/indices/get/TransportGetIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetMappingsResponse.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetMappingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequest.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
src/main/java/org/elasticsearch/action/admin/indices/open/TransportOpenIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/get/TransportGetSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/put/TransportUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/TransportDeleteIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/GetIndexTemplatesResponse.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/TransportGetIndexTemplatesAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/TransportPutIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/get/TransportGetWarmersAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java
src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java
src/main/java/org/elasticsearch/action/bulk/BulkProcessor.java
src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/count/CountRequest.java
src/main/java/org/elasticsearch/action/count/CountRequestBuilder.java
src/main/java/org/elasticsearch/action/count/TransportCountAction.java
src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequest.java
src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequestBuilder.java
src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryResponse.java
src/main/java/org/elasticsearch/action/deletebyquery/IndexDeleteByQueryRequest.java
src/main/java/org/elasticsearch/action/deletebyquery/ShardDeleteByQueryRequest.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportIndexDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportShardDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStats.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsAction.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequest.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsResponse.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardRequest.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardResponse.java
src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
src/main/java/org/elasticsearch/action/get/MultiGetRequest.java
src/main/java/org/elasticsearch/action/get/TransportGetAction.java
src/main/java/org/elasticsearch/action/get/TransportMultiGetAction.java
src/main/java/org/elasticsearch/action/get/TransportShardMultiGetAction.java
src/main/java/org/elasticsearch/action/index/IndexRequest.java
src/main/java/org/elasticsearch/action/index/IndexResponse.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/action/indexedscripts/delete/TransportDeleteIndexedScriptAction.java
src/main/java/org/elasticsearch/action/indexedscripts/get/TransportGetIndexedScriptAction.java
src/main/java/org/elasticsearch/action/indexedscripts/put/TransportPutIndexedScriptAction.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequest.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequestBuilder.java
src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java
src/main/java/org/elasticsearch/action/percolate/MultiPercolateRequest.java
src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java
src/main/java/org/elasticsearch/action/percolate/PercolateShardResponse.java
src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java
src/main/java/org/elasticsearch/action/percolate/TransportMultiPercolateAction.java
src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
comments:
Merge remote-tracking branch 'origin/master' into feature/synced_flush

time:
2015-05-04T12:20:39Z
class:
src/main/java/org/elasticsearch/index/translog/fs/ChannelReference.java
src/main/java/org/elasticsearch/index/translog/fs/FsChannelReader.java
src/main/java/org/elasticsearch/index/translog/fs/FsTranslog.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/translog/fs/AbstractTranslogTests.java
comments:
[TRANSLOG] Remove channel refcounting for assertions

This refcounting doesn't work for shadow replicas since we open
the same translog file from more than one node while running a rolling
restart. This functionality is also superseeded by our filesystem abstraction
which detects file leaks under the hood.

time:
2015-05-04T11:53:18Z
class:
src/main/java/org/elasticsearch/bootstrap/Security.java
src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
comments:
Merge pull request #10936 from rmuir/eight_point_three

simplify securitymanager init

time:
2015-05-04T11:16:55Z
class:
comments:
Docs: Add Elasticsearch Indexer for WordPress to integrations.asciidoc

Closes #10921

time:
2015-05-04T10:18:22Z
class:
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
comments:
Fail engine if metadata is corrupted on recovery start

time:
2015-05-04T09:37:54Z
class:
src/main/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighter.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/EvenShardsCountAllocator.java
src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocatorModule.java
src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
src/main/java/org/elasticsearch/cluster/settings/ClusterDynamicSettingsModule.java
src/main/java/org/elasticsearch/common/lucene/IndexCacheableQuery.java
src/main/java/org/elasticsearch/common/lucene/ShardCoreKeyMap.java
src/main/java/org/elasticsearch/common/lucene/docset/DocIdSets.java
src/main/java/org/elasticsearch/common/lucene/search/CachedFilter.java
src/main/java/org/elasticsearch/common/lucene/search/FilteredCollector.java
src/main/java/org/elasticsearch/common/lucene/search/NoCacheFilter.java
src/main/java/org/elasticsearch/common/lucene/search/NoCacheQuery.java
src/main/java/org/elasticsearch/common/lucene/search/Queries.java
src/main/java/org/elasticsearch/common/lucene/search/ResolvableFilter.java
src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
src/main/java/org/elasticsearch/index/IndexService.java
src/main/java/org/elasticsearch/index/aliases/IndexAliasesService.java
src/main/java/org/elasticsearch/index/cache/IndexCache.java
src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/FilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/FilterCacheModule.java
src/main/java/org/elasticsearch/index/cache/filter/FilterCacheStats.java
src/main/java/org/elasticsearch/index/cache/filter/ShardFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/index/IndexFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/none/NoneFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/weighted/WeightedFilterCache.java
src/main/java/org/elasticsearch/index/cache/query/ShardQueryCache.java
src/main/java/org/elasticsearch/index/engine/EngineConfig.java
src/main/java/org/elasticsearch/index/engine/EngineSearcherFactory.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
src/main/java/org/elasticsearch/index/query/AndFilterBuilder.java
src/main/java/org/elasticsearch/index/query/AndFilterParser.java
src/main/java/org/elasticsearch/index/query/BoolFilterBuilder.java
src/main/java/org/elasticsearch/index/query/BoolFilterParser.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/ExistsFilterParser.java
src/main/java/org/elasticsearch/index/query/FQueryFilterParser.java
src/main/java/org/elasticsearch/index/query/FilterBuilder.java
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoPolygonFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoShapeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeohashCellFilter.java
src/main/java/org/elasticsearch/index/query/HasChildFilterParser.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentFilterBuilder.java
src/main/java/org/elasticsearch/index/query/HasParentFilterParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/IdsFilterParser.java
src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
src/main/java/org/elasticsearch/index/query/MissingFilterParser.java
src/main/java/org/elasticsearch/index/query/NestedFilterBuilder.java
src/main/java/org/elasticsearch/index/query/NestedFilterParser.java
src/main/java/org/elasticsearch/index/query/NotFilterBuilder.java
src/main/java/org/elasticsearch/index/query/NotFilterParser.java
src/main/java/org/elasticsearch/index/query/OrFilterBuilder.java
src/main/java/org/elasticsearch/index/query/OrFilterParser.java
src/main/java/org/elasticsearch/index/query/PrefixFilterBuilder.java
src/main/java/org/elasticsearch/index/query/PrefixFilterParser.java
src/main/java/org/elasticsearch/index/query/QueryBuilders.java
src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/query/RangeFilterBuilder.java
src/main/java/org/elasticsearch/index/query/RangeFilterParser.java
src/main/java/org/elasticsearch/index/query/RegexpFilterBuilder.java
src/main/java/org/elasticsearch/index/query/RegexpFilterParser.java
src/main/java/org/elasticsearch/index/query/ScriptFilterBuilder.java
src/main/java/org/elasticsearch/index/query/ScriptFilterParser.java
src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanContainingQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanWithinQueryParser.java
src/main/java/org/elasticsearch/index/query/TermFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TermFilterParser.java
src/main/java/org/elasticsearch/index/query/TermsFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TermsFilterParser.java
src/main/java/org/elasticsearch/index/query/TermsLookupFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryParser.java
src/main/java/org/elasticsearch/index/query/TypeFilterParser.java
src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
src/main/java/org/elasticsearch/index/search/child/CustomQueryWrappingFilter.java
src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentIdsFilter.java
src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
src/main/java/org/elasticsearch/index/search/geo/IndexedGeoBoundingBoxFilter.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
src/main/java/org/elasticsearch/indices/cache/filter/IndicesFilterCache.java
src/main/java/org/elasticsearch/indices/query/IndicesQueriesModule.java
src/main/java/org/elasticsearch/percolator/MultiDocumentPercolatorIndex.java
src/main/java/org/elasticsearch/percolator/PercolateContext.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/rest/action/admin/indices/cache/clear/RestClearIndicesCacheAction.java
src/main/java/org/elasticsearch/script/expression/DateMethodFunctionValues.java
src/main/java/org/elasticsearch/script/expression/DateMethodValueSource.java
src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
src/main/java/org/elasticsearch/script/expression/FieldDataValueSource.java
src/main/java/org/elasticsearch/search/SearchService.java
src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/ChildrenParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/ParentToChildrenAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedParser.java
src/main/java/org/elasticsearch/search/dfs/CachedDfSource.java
src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
src/main/java/org/elasticsearch/search/fetch/FetchSubPhase.java
src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
src/main/java/org/elasticsearch/search/highlight/PostingsHighlighter.java
src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
src/main/java/org/elasticsearch/search/internal/SearchContext.java
src/main/java/org/elasticsearch/search/lookup/LeafIndexLookup.java
src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
src/main/java/org/elasticsearch/search/sort/ScriptSortParser.java
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
src/test/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighterTests.java
src/test/java/org/apache/lucene/search/postingshighlight/XPostingsHighlighterTests.java
src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/TimeDataHistogramAggregationBenchmark.java
src/test/java/org/elasticsearch/cluster/ClusterServiceTests.java
src/test/java/org/elasticsearch/cluster/allocation/ShardsAllocatorModuleTests.java
src/test/java/org/elasticsearch/cluster/settings/ClusterSettingsTests.java
src/test/java/org/elasticsearch/common/lucene/IndexCacheableQueryTests.java
src/test/java/org/elasticsearch/common/lucene/LuceneTest.java
src/test/java/org/elasticsearch/common/lucene/ShardCoreKeyMapTests.java
src/test/java/org/elasticsearch/common/lucene/index/FreqTermsEnumTests.java
src/test/java/org/elasticsearch/count/query/CountQueryTests.java
src/test/java/org/elasticsearch/index/aliases/IndexAliasesServiceTests.java
src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTest.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/index/search/child/AbstractChildTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
src/test/java/org/elasticsearch/index/search/nested/AbstractNumberNestedSortingTests.java
src/test/java/org/elasticsearch/index/search/nested/DoubleNestedSortingTests.java
src/test/java/org/elasticsearch/index/search/nested/FloatNestedSortingTests.java
src/test/java/org/elasticsearch/index/search/nested/NestedSortingTests.java
src/test/java/org/elasticsearch/indices/cache/query/IndicesQueryCacheTests.java
src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateTests.java
src/test/java/org/elasticsearch/indices/warmer/SimpleIndicesWarmerTests.java
src/test/java/org/elasticsearch/script/expression/ExpressionScriptTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTest.java
src/test/java/org/elasticsearch/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/search/fetch/innerhits/NestedChildrenFilterTest.java
src/test/java/org/elasticsearch/search/functionscore/FunctionScoreTests.java
src/test/java/org/elasticsearch/search/geo/GeoFilterTests.java
src/test/java/org/elasticsearch/search/query/SearchQueryTests.java
src/test/java/org/elasticsearch/search/scriptfilter/ScriptFilterSearchTests.java
src/test/java/org/elasticsearch/search/sort/SimpleSortTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/test/MockLogAppender.java
src/test/java/org/elasticsearch/test/TestSearchContext.java
src/test/java/org/elasticsearch/test/engine/MockEngineSupport.java
comments:
Merge branch 'master' into pr-10624

Conflicts:
	src/main/java/org/elasticsearch/index/engine/EngineConfig.java
	src/main/java/org/elasticsearch/index/shard/IndexShard.java
	src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
	src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java

time:
2015-05-04T09:05:42Z
class:
src/main/java/org/elasticsearch/action/ActionRequest.java
src/main/java/org/elasticsearch/action/ActionRequestBuilder.java
src/main/java/org/elasticsearch/action/TransportActionNodeProxy.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsAction.java
src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java
src/main/java/org/elasticsearch/action/search/SearchScrollRequestBuilder.java
src/main/java/org/elasticsearch/action/support/AbstractListenableActionFuture.java
src/main/java/org/elasticsearch/action/support/HandledTransportAction.java
src/main/java/org/elasticsearch/action/support/PlainListenableActionFuture.java
src/main/java/org/elasticsearch/action/support/ThreadedActionListener.java
src/main/java/org/elasticsearch/action/support/TransportAction.java
src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/single/shard/TransportShardSingleOperationAction.java
src/main/java/org/elasticsearch/client/node/NodeClient.java
src/main/java/org/elasticsearch/client/node/NodeClusterAdminClient.java
src/main/java/org/elasticsearch/client/node/NodeIndicesAdminClient.java
src/main/java/org/elasticsearch/client/transport/TransportClient.java
src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
src/main/java/org/elasticsearch/client/transport/support/InternalTransportClient.java
src/main/java/org/elasticsearch/client/transport/support/InternalTransportClusterAdminClient.java
src/main/java/org/elasticsearch/client/transport/support/InternalTransportIndicesAdminClient.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/health/RestClusterHealthAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/node/info/RestNodesInfoAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/node/stats/RestNodesStatsAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/repositories/delete/RestDeleteRepositoryAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/repositories/put/RestPutRepositoryAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/repositories/verify/RestVerifyRepositoryAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/reroute/RestClusterRerouteAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/settings/RestClusterGetSettingsAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/settings/RestClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/shards/RestClusterSearchShardsAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/snapshots/create/RestCreateSnapshotAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/state/RestClusterStateAction.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/stats/RestClusterStatsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/alias/RestIndicesAliasesAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/alias/get/RestGetIndicesAliasesAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/cache/clear/RestClearIndicesCacheAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/close/RestCloseIndexAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/create/RestCreateIndexAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/delete/RestDeleteIndexAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/exists/indices/RestIndicesExistsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/exists/types/RestTypesExistsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/flush/RestFlushAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/mapping/put/RestPutMappingAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/open/RestOpenIndexAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/optimize/RestOptimizeAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/recovery/RestRecoveryAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/refresh/RestRefreshAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/segments/RestIndicesSegmentsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/settings/RestUpdateSettingsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/stats/RestIndicesStatsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/template/delete/RestDeleteIndexTemplateAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/template/get/RestGetIndexTemplateAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/template/put/RestPutIndexTemplateAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/validate/query/RestValidateQueryAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/warmer/delete/RestDeleteWarmerAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/warmer/put/RestPutWarmerAction.java
src/main/java/org/elasticsearch/rest/action/bulk/RestBulkAction.java
src/main/java/org/elasticsearch/rest/action/cat/RestRecoveryAction.java
src/main/java/org/elasticsearch/rest/action/count/RestCountAction.java
src/main/java/org/elasticsearch/rest/action/delete/RestDeleteAction.java
src/main/java/org/elasticsearch/rest/action/exists/RestExistsAction.java
src/main/java/org/elasticsearch/rest/action/fieldstats/RestFieldStatsAction.java
src/main/java/org/elasticsearch/rest/action/get/RestGetAction.java
src/main/java/org/elasticsearch/rest/action/get/RestGetSourceAction.java
src/main/java/org/elasticsearch/rest/action/get/RestHeadAction.java
src/main/java/org/elasticsearch/rest/action/get/RestMultiGetAction.java
src/main/java/org/elasticsearch/rest/action/index/RestIndexAction.java
src/main/java/org/elasticsearch/rest/action/mlt/RestMoreLikeThisAction.java
src/main/java/org/elasticsearch/rest/action/percolate/RestPercolateAction.java
src/main/java/org/elasticsearch/rest/action/script/RestPutIndexedScriptAction.java
src/main/java/org/elasticsearch/rest/action/search/RestMultiSearchAction.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchScrollAction.java
src/main/java/org/elasticsearch/rest/action/suggest/RestSuggestAction.java
src/main/java/org/elasticsearch/rest/action/termvectors/RestMultiTermVectorsAction.java
src/main/java/org/elasticsearch/rest/action/update/RestUpdateAction.java
src/main/java/org/elasticsearch/river/RiversService.java
src/test/java/org/elasticsearch/action/ListenerActionTests.java
src/test/java/org/elasticsearch/action/support/TransportActionFilterChainTests.java
src/test/java/org/elasticsearch/client/AbstractClientHeadersTests.java
src/test/java/org/elasticsearch/client/node/NodeClientHeadersTests.java
src/test/java/org/elasticsearch/client/transport/TransportClientRetryTests.java
comments:
Automatically thread client based action listeners
Today, we rely on the user to set request listener threads to true when they are on the client side in order not to block the IO threads on heavy operations. This proves to be very trappy for users, and end up creating problems that are very hard to debug.
Instead, we can do the right thing, and automatically thread listeners that are used from the client when the client is a node client or a transport client.
This change also removes the ability to set request level listener threading, in the effort of simplifying the code path and reasoning around when something is threaded and when it is not.
closes #10940

time:
2015-05-04T08:56:34Z
class:
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportIndexDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportShardDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportIndexReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportIndicesReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
comments:
remove replica response from TransportShardReplicationOperation. not needed anymore

time:
2015-05-04T08:48:18Z
class:
src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/EvenShardsCountAllocator.java
src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocatorModule.java
src/test/java/org/elasticsearch/cluster/allocation/ShardsAllocatorModuleTests.java
comments:
Remove old 0.90 shard allocator

the `even_shard` allocator has been replaced years ago in early 0.90.
We can remove it now in 2.0 since the new one is considered stable.

time:
2015-05-04T08:33:47Z
class:
src/test/java/org/elasticsearch/common/lucene/LuceneTest.java
comments:
[TEST] make LuceneTest extraFS proof

time:
2015-05-04T07:42:08Z
class:
comments:
Merge pull request #5861 from elastic/trim-config

Settings: Trimmed the main `elasticsearch.yml` configuration file

time:
2015-05-04T07:14:49Z
class:
src/main/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighter.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/cluster/settings/ClusterDynamicSettingsModule.java
src/main/java/org/elasticsearch/common/lucene/IndexCacheableQuery.java
src/main/java/org/elasticsearch/common/lucene/ShardCoreKeyMap.java
src/main/java/org/elasticsearch/common/lucene/docset/DocIdSets.java
src/main/java/org/elasticsearch/common/lucene/search/CachedFilter.java
src/main/java/org/elasticsearch/common/lucene/search/FilteredCollector.java
src/main/java/org/elasticsearch/common/lucene/search/NoCacheFilter.java
src/main/java/org/elasticsearch/common/lucene/search/NoCacheQuery.java
src/main/java/org/elasticsearch/common/lucene/search/Queries.java
src/main/java/org/elasticsearch/common/lucene/search/ResolvableFilter.java
src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
src/main/java/org/elasticsearch/index/IndexService.java
src/main/java/org/elasticsearch/index/aliases/IndexAliasesService.java
src/main/java/org/elasticsearch/index/cache/IndexCache.java
src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/FilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/FilterCacheModule.java
src/main/java/org/elasticsearch/index/cache/filter/FilterCacheStats.java
src/main/java/org/elasticsearch/index/cache/filter/ShardFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/index/IndexFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/none/NoneFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/weighted/WeightedFilterCache.java
src/main/java/org/elasticsearch/index/cache/query/ShardQueryCache.java
src/main/java/org/elasticsearch/index/engine/EngineConfig.java
src/main/java/org/elasticsearch/index/engine/EngineSearcherFactory.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
src/main/java/org/elasticsearch/index/query/AndFilterBuilder.java
src/main/java/org/elasticsearch/index/query/AndFilterParser.java
src/main/java/org/elasticsearch/index/query/BoolFilterBuilder.java
src/main/java/org/elasticsearch/index/query/BoolFilterParser.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/ExistsFilterParser.java
src/main/java/org/elasticsearch/index/query/FQueryFilterParser.java
src/main/java/org/elasticsearch/index/query/FilterBuilder.java
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoPolygonFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoShapeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeohashCellFilter.java
src/main/java/org/elasticsearch/index/query/HasChildFilterParser.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentFilterBuilder.java
src/main/java/org/elasticsearch/index/query/HasParentFilterParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/IdsFilterParser.java
src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
src/main/java/org/elasticsearch/index/query/MissingFilterParser.java
src/main/java/org/elasticsearch/index/query/NestedFilterBuilder.java
src/main/java/org/elasticsearch/index/query/NestedFilterParser.java
src/main/java/org/elasticsearch/index/query/NotFilterBuilder.java
src/main/java/org/elasticsearch/index/query/NotFilterParser.java
src/main/java/org/elasticsearch/index/query/OrFilterBuilder.java
src/main/java/org/elasticsearch/index/query/OrFilterParser.java
src/main/java/org/elasticsearch/index/query/PrefixFilterBuilder.java
src/main/java/org/elasticsearch/index/query/PrefixFilterParser.java
src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/query/RangeFilterBuilder.java
src/main/java/org/elasticsearch/index/query/RangeFilterParser.java
src/main/java/org/elasticsearch/index/query/RegexpFilterBuilder.java
src/main/java/org/elasticsearch/index/query/RegexpFilterParser.java
src/main/java/org/elasticsearch/index/query/ScriptFilterBuilder.java
src/main/java/org/elasticsearch/index/query/ScriptFilterParser.java
src/main/java/org/elasticsearch/index/query/TermFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TermFilterParser.java
src/main/java/org/elasticsearch/index/query/TermsFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TermsFilterParser.java
src/main/java/org/elasticsearch/index/query/TermsLookupFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryParser.java
src/main/java/org/elasticsearch/index/query/TypeFilterParser.java
src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
src/main/java/org/elasticsearch/index/search/child/CustomQueryWrappingFilter.java
src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentIdsFilter.java
src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
src/main/java/org/elasticsearch/index/search/geo/IndexedGeoBoundingBoxFilter.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
src/main/java/org/elasticsearch/indices/cache/filter/IndicesFilterCache.java
src/main/java/org/elasticsearch/percolator/MultiDocumentPercolatorIndex.java
src/main/java/org/elasticsearch/percolator/PercolateContext.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/rest/action/admin/indices/cache/clear/RestClearIndicesCacheAction.java
src/main/java/org/elasticsearch/search/SearchService.java
src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/ChildrenParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/ParentToChildrenAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedParser.java
src/main/java/org/elasticsearch/search/dfs/CachedDfSource.java
src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
src/main/java/org/elasticsearch/search/fetch/FetchSubPhase.java
src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
src/main/java/org/elasticsearch/search/highlight/PostingsHighlighter.java
src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
src/main/java/org/elasticsearch/search/internal/SearchContext.java
src/main/java/org/elasticsearch/search/lookup/LeafIndexLookup.java
src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
src/main/java/org/elasticsearch/search/sort/ScriptSortParser.java
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
src/test/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighterTests.java
src/test/java/org/apache/lucene/search/postingshighlight/XPostingsHighlighterTests.java
src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/TimeDataHistogramAggregationBenchmark.java
src/test/java/org/elasticsearch/cluster/settings/ClusterSettingsTests.java
src/test/java/org/elasticsearch/common/lucene/IndexCacheableQueryTests.java
src/test/java/org/elasticsearch/common/lucene/ShardCoreKeyMapTests.java
src/test/java/org/elasticsearch/common/lucene/index/FreqTermsEnumTests.java
src/test/java/org/elasticsearch/count/query/CountQueryTests.java
src/test/java/org/elasticsearch/index/aliases/IndexAliasesServiceTests.java
src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTest.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/index/search/child/AbstractChildTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
src/test/java/org/elasticsearch/index/search/nested/AbstractNumberNestedSortingTests.java
src/test/java/org/elasticsearch/index/search/nested/DoubleNestedSortingTests.java
src/test/java/org/elasticsearch/index/search/nested/FloatNestedSortingTests.java
src/test/java/org/elasticsearch/index/search/nested/NestedSortingTests.java
src/test/java/org/elasticsearch/indices/cache/query/IndicesQueryCacheTests.java
src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateTests.java
src/test/java/org/elasticsearch/indices/warmer/SimpleIndicesWarmerTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTest.java
src/test/java/org/elasticsearch/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/search/fetch/innerhits/NestedChildrenFilterTest.java
src/test/java/org/elasticsearch/search/functionscore/FunctionScoreTests.java
src/test/java/org/elasticsearch/search/geo/GeoFilterTests.java
src/test/java/org/elasticsearch/search/query/SearchQueryTests.java
src/test/java/org/elasticsearch/search/scriptfilter/ScriptFilterSearchTests.java
src/test/java/org/elasticsearch/search/sort/SimpleSortTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/test/TestSearchContext.java
src/test/java/org/elasticsearch/test/engine/MockEngineSupport.java
comments:
Merge pull request #10897 from jpountz/fix/nocache

Core: Cut over to the Lucene filter cache.

Close #10897

time:
2015-05-04T07:02:15Z
class:
src/main/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighter.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/cluster/settings/ClusterDynamicSettingsModule.java
src/main/java/org/elasticsearch/common/lucene/IndexCacheableQuery.java
src/main/java/org/elasticsearch/common/lucene/ShardCoreKeyMap.java
src/main/java/org/elasticsearch/common/lucene/docset/DocIdSets.java
src/main/java/org/elasticsearch/common/lucene/search/CachedFilter.java
src/main/java/org/elasticsearch/common/lucene/search/FilteredCollector.java
src/main/java/org/elasticsearch/common/lucene/search/NoCacheFilter.java
src/main/java/org/elasticsearch/common/lucene/search/NoCacheQuery.java
src/main/java/org/elasticsearch/common/lucene/search/Queries.java
src/main/java/org/elasticsearch/common/lucene/search/ResolvableFilter.java
src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
src/main/java/org/elasticsearch/index/IndexService.java
src/main/java/org/elasticsearch/index/aliases/IndexAliasesService.java
src/main/java/org/elasticsearch/index/cache/IndexCache.java
src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/FilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/FilterCacheModule.java
src/main/java/org/elasticsearch/index/cache/filter/FilterCacheStats.java
src/main/java/org/elasticsearch/index/cache/filter/ShardFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/index/IndexFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/none/NoneFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/weighted/WeightedFilterCache.java
src/main/java/org/elasticsearch/index/cache/query/ShardQueryCache.java
src/main/java/org/elasticsearch/index/engine/EngineConfig.java
src/main/java/org/elasticsearch/index/engine/EngineSearcherFactory.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
src/main/java/org/elasticsearch/index/query/AndFilterBuilder.java
src/main/java/org/elasticsearch/index/query/AndFilterParser.java
src/main/java/org/elasticsearch/index/query/BoolFilterBuilder.java
src/main/java/org/elasticsearch/index/query/BoolFilterParser.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/ExistsFilterParser.java
src/main/java/org/elasticsearch/index/query/FQueryFilterParser.java
src/main/java/org/elasticsearch/index/query/FilterBuilder.java
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoPolygonFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoShapeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeohashCellFilter.java
src/main/java/org/elasticsearch/index/query/HasChildFilterParser.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentFilterBuilder.java
src/main/java/org/elasticsearch/index/query/HasParentFilterParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/IdsFilterParser.java
src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
src/main/java/org/elasticsearch/index/query/MissingFilterParser.java
src/main/java/org/elasticsearch/index/query/NestedFilterBuilder.java
src/main/java/org/elasticsearch/index/query/NestedFilterParser.java
src/main/java/org/elasticsearch/index/query/NotFilterBuilder.java
src/main/java/org/elasticsearch/index/query/NotFilterParser.java
src/main/java/org/elasticsearch/index/query/OrFilterBuilder.java
src/main/java/org/elasticsearch/index/query/OrFilterParser.java
src/main/java/org/elasticsearch/index/query/PrefixFilterBuilder.java
src/main/java/org/elasticsearch/index/query/PrefixFilterParser.java
src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/query/RangeFilterBuilder.java
src/main/java/org/elasticsearch/index/query/RangeFilterParser.java
src/main/java/org/elasticsearch/index/query/RegexpFilterBuilder.java
src/main/java/org/elasticsearch/index/query/RegexpFilterParser.java
src/main/java/org/elasticsearch/index/query/ScriptFilterBuilder.java
src/main/java/org/elasticsearch/index/query/ScriptFilterParser.java
src/main/java/org/elasticsearch/index/query/TermFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TermFilterParser.java
src/main/java/org/elasticsearch/index/query/TermsFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TermsFilterParser.java
src/main/java/org/elasticsearch/index/query/TermsLookupFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryParser.java
src/main/java/org/elasticsearch/index/query/TypeFilterParser.java
src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
src/main/java/org/elasticsearch/index/search/child/CustomQueryWrappingFilter.java
src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentIdsFilter.java
src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
src/main/java/org/elasticsearch/index/search/geo/IndexedGeoBoundingBoxFilter.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
src/main/java/org/elasticsearch/indices/cache/filter/IndicesFilterCache.java
src/main/java/org/elasticsearch/percolator/MultiDocumentPercolatorIndex.java
src/main/java/org/elasticsearch/percolator/PercolateContext.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/rest/action/admin/indices/cache/clear/RestClearIndicesCacheAction.java
src/main/java/org/elasticsearch/search/SearchService.java
src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/ChildrenParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/ParentToChildrenAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedParser.java
src/main/java/org/elasticsearch/search/dfs/CachedDfSource.java
src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
src/main/java/org/elasticsearch/search/fetch/FetchSubPhase.java
src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
src/main/java/org/elasticsearch/search/highlight/PostingsHighlighter.java
src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
src/main/java/org/elasticsearch/search/internal/SearchContext.java
src/main/java/org/elasticsearch/search/lookup/LeafIndexLookup.java
src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
src/main/java/org/elasticsearch/search/sort/ScriptSortParser.java
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
src/test/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighterTests.java
src/test/java/org/apache/lucene/search/postingshighlight/XPostingsHighlighterTests.java
src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/TimeDataHistogramAggregationBenchmark.java
src/test/java/org/elasticsearch/cluster/settings/ClusterSettingsTests.java
src/test/java/org/elasticsearch/common/lucene/IndexCacheableQueryTests.java
src/test/java/org/elasticsearch/common/lucene/ShardCoreKeyMapTests.java
src/test/java/org/elasticsearch/common/lucene/index/FreqTermsEnumTests.java
src/test/java/org/elasticsearch/count/query/CountQueryTests.java
src/test/java/org/elasticsearch/index/aliases/IndexAliasesServiceTests.java
src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTest.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/index/search/child/AbstractChildTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
src/test/java/org/elasticsearch/index/search/nested/AbstractNumberNestedSortingTests.java
src/test/java/org/elasticsearch/index/search/nested/DoubleNestedSortingTests.java
src/test/java/org/elasticsearch/index/search/nested/FloatNestedSortingTests.java
src/test/java/org/elasticsearch/index/search/nested/NestedSortingTests.java
src/test/java/org/elasticsearch/indices/cache/query/IndicesQueryCacheTests.java
src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateTests.java
src/test/java/org/elasticsearch/indices/warmer/SimpleIndicesWarmerTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTest.java
src/test/java/org/elasticsearch/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/search/fetch/innerhits/NestedChildrenFilterTest.java
src/test/java/org/elasticsearch/search/functionscore/FunctionScoreTests.java
src/test/java/org/elasticsearch/search/geo/GeoFilterTests.java
src/test/java/org/elasticsearch/search/query/SearchQueryTests.java
src/test/java/org/elasticsearch/search/scriptfilter/ScriptFilterSearchTests.java
src/test/java/org/elasticsearch/search/sort/SimpleSortTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/test/TestSearchContext.java
src/test/java/org/elasticsearch/test/engine/MockEngineSupport.java
comments:
Core: Cut over to the Lucene filter cache.

This removes Elasticsearch's filter cache and uses Lucene's instead. It has some
implications:
 - custom cache keys (`_cache_key`) are unsupported
 - decisions are made internally and can't be overridden by users ('_cache`)
 - not only filters can be cached but also all queries that do not need scores
 - parent/child queries can now be cached, however cached entries are only
   valid for the current top-level reader so in practice it will likely only
   be used on read-only indices
 - the cache deduplicates filters, which plays nicer with large keys (eg. `terms`)
 - better stats: we already had ram usage and evictions, but now also hit count,
   miss count, lookup count, number of cached doc id sets and current number of
   doc id sets in the cache
 - dynamically changing the filter cache size is not supported anymore

Internally, an important change is that it removes the NoCacheFilter infrastructure
in favour of making Query.rewrite specializing the query for the current reader so
that it will only be cached on this reader (look for IndexCacheableQuery).

Note that consuming filters with the query API (createWeight/scorer) instead of
the filter API (getDocIdSet) is important for parent/child queries because
otherwise a QueryWrapperFilter(ParentQuery) would run the wrapped query per
segment while relations might be cross segments.

time:
2015-05-04T03:37:05Z
class:
comments:
remove another unnecessary permission

time:
2015-05-02T19:19:01Z
class:
comments:
remove now-unnecessary test permission

time:
2015-05-02T18:42:06Z
class:
src/main/java/org/elasticsearch/bootstrap/Security.java
src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
comments:
simplify security rules

time:
2015-05-02T16:41:38Z
class:
src/main/java/org/elasticsearch/bootstrap/Security.java
comments:
add a hack for windows

time:
2015-05-02T16:27:38Z
class:
src/main/java/org/elasticsearch/bootstrap/Security.java
comments:
heisenbug

time:
2015-05-02T16:11:33Z
class:
src/main/java/org/elasticsearch/bootstrap/Security.java
comments:
add 2 more
x

time:
2015-05-02T16:08:46Z
class:
src/main/java/org/elasticsearch/bootstrap/Security.java
comments:
log this

time:
2015-05-02T14:52:27Z
class:
comments:
remove hack

time:
2015-05-02T10:54:22Z
class:
comments:
Trimmed the main `elasticsearch.yml` configuration file

The main `elasticsearch.yml` file mixed configuration, documentation
and advice together.

Due to a much improved documentation at <http://www.elastic.co/guide/>,
the content has been trimmed, and only the essential settings have
been left, to prevent the urge to excessive over-configuration.

Related: 8d0f1a7d123f579fc772e82ef6b9aae08f6d13fd

time:
2015-05-01T20:41:49Z
class:
comments:
add a hack to see if this fixes windows issues

time:
2015-05-01T20:04:55Z
class:
comments:
[DOCS] Restructure Aggs documentation

time:
2015-05-01T20:02:00Z
class:
comments:
fix sigar policy line that cannot be really working

time:
2015-05-01T19:47:50Z
class:
src/main/java/org/elasticsearch/bootstrap/Security.java
comments:
Add debugging when security init screws up (or at trace level if you wish)

time:
2015-05-01T19:32:02Z
class:
comments:
Java API docs: Removed mlt-field

time:
2015-05-01T19:24:06Z
class:
src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
src/main/java/org/elasticsearch/cluster/settings/ClusterDynamicSettingsModule.java
src/main/java/org/elasticsearch/index/query/QueryBuilders.java
src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanContainingQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanWithinQueryParser.java
src/main/java/org/elasticsearch/indices/query/IndicesQueriesModule.java
src/test/java/org/elasticsearch/cluster/ClusterServiceTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/test/MockLogAppender.java
comments:
Merge branch 'master' into eight_point_three

time:
2015-05-01T18:58:18Z
class:
src/main/java/org/elasticsearch/bootstrap/Security.java
comments:
add debugging

time:
2015-05-01T18:46:12Z
class:
comments:
Docs: Updated elasticsearch.org links to elastic.co

time:
2015-05-01T17:09:35Z
class:
comments:
Merge pull request #10924 from kimchy/exclude_jackson_ann

Exclude jackson-databind dependency

time:
2015-05-01T17:08:26Z
class:
src/main/java/org/elasticsearch/index/query/BaseFilterBuilder.java
src/main/java/org/elasticsearch/index/query/BaseFilterParser.java
src/main/java/org/elasticsearch/index/query/BaseFilterParserTemp.java
src/main/java/org/elasticsearch/index/query/BaseQueryBuilder.java
src/main/java/org/elasticsearch/index/query/BaseQueryParser.java
src/main/java/org/elasticsearch/index/query/BaseQueryParserTemp.java
src/main/java/org/elasticsearch/index/query/FilterParser.java
src/main/java/org/elasticsearch/index/query/FilterWrappingFilterBuilder.java
src/main/java/org/elasticsearch/index/query/QueryParser.java
src/main/java/org/elasticsearch/index/query/QueryWrappingQueryBuilder.java
comments:
Use //norelease comments for temporary methods that will be removed once we move to parsing search requests on the coordinating node

time:
2015-05-01T17:03:14Z
class:
comments:
Exclude jackson-databind dependency
the jackson yaml data format pulls in the databind dependency, its important that we exclude it so we won't use any of its classes by mistake

time:
2015-05-01T16:53:23Z
class:
src/main/java/org/elasticsearch/index/query/AndFilterBuilder.java
src/main/java/org/elasticsearch/index/query/AndFilterParser.java
src/main/java/org/elasticsearch/index/query/BaseFilterBuilder.java
src/main/java/org/elasticsearch/index/query/BaseFilterParser.java
src/main/java/org/elasticsearch/index/query/BaseFilterParserTemp.java
src/main/java/org/elasticsearch/index/query/BoolFilterBuilder.java
src/main/java/org/elasticsearch/index/query/BoolFilterParser.java
src/main/java/org/elasticsearch/index/query/BytesFilterBuilder.java
src/main/java/org/elasticsearch/index/query/ExistsFilterBuilder.java
src/main/java/org/elasticsearch/index/query/ExistsFilterParser.java
src/main/java/org/elasticsearch/index/query/FQueryFilterParser.java
src/main/java/org/elasticsearch/index/query/FilterBuilder.java
src/main/java/org/elasticsearch/index/query/FilterParser.java
src/main/java/org/elasticsearch/index/query/FilterWrappingFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoPolygonFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoShapeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeohashCellFilter.java
src/main/java/org/elasticsearch/index/query/HasChildFilterBuilder.java
src/main/java/org/elasticsearch/index/query/HasChildFilterParser.java
src/main/java/org/elasticsearch/index/query/HasParentFilterBuilder.java
src/main/java/org/elasticsearch/index/query/HasParentFilterParser.java
src/main/java/org/elasticsearch/index/query/IdsFilterBuilder.java
src/main/java/org/elasticsearch/index/query/IdsFilterParser.java
src/main/java/org/elasticsearch/index/query/IndicesFilterBuilder.java
src/main/java/org/elasticsearch/index/query/IndicesFilterParser.java
src/main/java/org/elasticsearch/index/query/LimitFilterBuilder.java
src/main/java/org/elasticsearch/index/query/LimitFilterParser.java
src/main/java/org/elasticsearch/index/query/MatchAllFilterBuilder.java
src/main/java/org/elasticsearch/index/query/MatchAllFilterParser.java
src/main/java/org/elasticsearch/index/query/MissingFilterBuilder.java
src/main/java/org/elasticsearch/index/query/MissingFilterParser.java
src/main/java/org/elasticsearch/index/query/NestedFilterBuilder.java
src/main/java/org/elasticsearch/index/query/NestedFilterParser.java
src/main/java/org/elasticsearch/index/query/NotFilterBuilder.java
src/main/java/org/elasticsearch/index/query/NotFilterParser.java
src/main/java/org/elasticsearch/index/query/OrFilterBuilder.java
src/main/java/org/elasticsearch/index/query/OrFilterParser.java
src/main/java/org/elasticsearch/index/query/PrefixFilterBuilder.java
src/main/java/org/elasticsearch/index/query/PrefixFilterParser.java
src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
src/main/java/org/elasticsearch/index/query/RangeFilterBuilder.java
src/main/java/org/elasticsearch/index/query/RangeFilterParser.java
src/main/java/org/elasticsearch/index/query/RegexpFilterBuilder.java
src/main/java/org/elasticsearch/index/query/RegexpFilterParser.java
src/main/java/org/elasticsearch/index/query/ScriptFilterBuilder.java
src/main/java/org/elasticsearch/index/query/ScriptFilterParser.java
src/main/java/org/elasticsearch/index/query/TermFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TermFilterParser.java
src/main/java/org/elasticsearch/index/query/TermsFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TermsFilterParser.java
src/main/java/org/elasticsearch/index/query/TermsLookupFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TypeFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TypeFilterParser.java
src/main/java/org/elasticsearch/index/query/WrapperFilterBuilder.java
src/main/java/org/elasticsearch/index/query/WrapperFilterParser.java
src/test/java/org/elasticsearch/index/query/guice/MyJsonFilterParser.java
src/test/java/org/elasticsearch/index/query/plugin/PluginJsonFilterParser.java
comments:
Filter refactoring: Introduce toFilter() and fromXContent() in FilterBuilders and FilterParsers

 The planned refactoring of search queries requires to split the "parse()" method in FilterParsers into two methods, first a "fromXContent(...)" method that allows parsing to an intermediate filter representation (currently called FooFilterBuilder) and second a "Filter toFilter(...)" method on these intermediate representations that create the actual lucene filters.
This PR is a first step in that direction as it introduces the interface changes necessary for the further refactoring. It introduces the new interface methods while for now keeping the old Builder/Parsers still in place by delegating the new "toFilter()" implementations to the existing "parse()" methods, and by introducing a "catch-all" "fromXContent()" implementation in a BaseFilterParser that returns a temporary FilterBuilder wrapper implementation. This allows us to refactor the existing FilterBuilders step by step while already being able to start refactoring queries and filters with inner queries/filters.

time:
2015-05-01T16:43:40Z
class:
src/main/java/org/elasticsearch/index/query/BaseQueryBuilder.java
src/main/java/org/elasticsearch/index/query/BaseQueryParser.java
src/main/java/org/elasticsearch/index/query/BaseQueryParserTemp.java
src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FilteredQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
src/main/java/org/elasticsearch/index/query/QueryBuilder.java
src/main/java/org/elasticsearch/index/query/QueryParser.java
src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
src/main/java/org/elasticsearch/index/query/QueryWrappingQueryBuilder.java
comments:
Query refactoring: updated javadocs for new methods and added missing @Overrides annotations

time:
2015-05-01T16:06:02Z
class:
src/main/java/org/elasticsearch/client/transport/TransportClient.java
src/main/java/org/elasticsearch/env/Environment.java
src/main/java/org/elasticsearch/indices/analysis/HunspellService.java
src/main/java/org/elasticsearch/tribe/TribeService.java
src/test/java/org/elasticsearch/action/bulk/BulkProcessorTests.java
src/test/java/org/elasticsearch/action/count/CountRequestBuilderTests.java
src/test/java/org/elasticsearch/action/search/SearchRequestBuilderTests.java
src/test/java/org/elasticsearch/client/AbstractClientHeadersTests.java
src/test/java/org/elasticsearch/client/transport/TransportClientHeadersTests.java
src/test/java/org/elasticsearch/client/transport/TransportClientRetryTests.java
src/test/java/org/elasticsearch/client/transport/TransportClientTests.java
src/test/java/org/elasticsearch/common/cli/CheckFileCommandTests.java
src/test/java/org/elasticsearch/common/cli/CliToolTestCase.java
src/test/java/org/elasticsearch/common/logging/log4j/Log4jESLoggerTests.java
src/test/java/org/elasticsearch/common/logging/log4j/LoggingConfigurationTests.java
src/test/java/org/elasticsearch/index/analysis/ASCIIFoldingTokenFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
src/test/java/org/elasticsearch/index/analysis/AnalysisTestsHelper.java
src/test/java/org/elasticsearch/index/analysis/AnalyzerBackwardsCompatTests.java
src/test/java/org/elasticsearch/index/analysis/CJKFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/CharFilterTests.java
src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
src/test/java/org/elasticsearch/index/analysis/HunspellTokenFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/KeepFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/KeepTypesFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/LimitTokenCountFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/PatternCaptureTokenFilterTests.java
src/test/java/org/elasticsearch/index/analysis/ShingleTokenFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/StemmerTokenFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/StopAnalyzerTests.java
src/test/java/org/elasticsearch/index/analysis/StopTokenFilterTests.java
src/test/java/org/elasticsearch/index/analysis/WordDelimiterTokenFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/commongrams/CommonGramsTokenFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTest.java
src/test/java/org/elasticsearch/index/query/TemplateQueryParserTest.java
src/test/java/org/elasticsearch/index/query/plugin/IndexQueryParserPlugin2Tests.java
src/test/java/org/elasticsearch/index/query/plugin/IndexQueryParserPluginTests.java
src/test/java/org/elasticsearch/indices/analyze/HunspellServiceTests.java
src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
src/test/java/org/elasticsearch/script/NativeScriptTests.java
src/test/java/org/elasticsearch/script/ScriptServiceTests.java
src/test/java/org/elasticsearch/stresstest/client/ClientFailover.java
src/test/java/org/elasticsearch/stresstest/manyindices/ManyIndicesRemoteStressTest.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortIntegrationTests.java
src/test/java/org/elasticsearch/tribe/TribeUnitTests.java
comments:
Merge branch 'die_cwd_die' of github.com:elastic/elasticsearch

time:
2015-05-01T15:26:08Z
class:
src/main/java/org/elasticsearch/index/query/QueryBuilders.java
src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanContainingQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanWithinQueryParser.java
src/main/java/org/elasticsearch/indices/query/IndicesQueriesModule.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
comments:
Merge pull request #10913 from rmuir/spanspanspanspanspan

Add span within/containing queries.

time:
2015-05-01T03:46:37Z
class:
comments:
fix doc typo

time:
2015-05-01T03:31:31Z
class:
src/main/java/org/elasticsearch/index/query/QueryBuilders.java
src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanContainingQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanWithinQueryParser.java
src/main/java/org/elasticsearch/indices/query/IndicesQueriesModule.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
comments:
Add span within/containing queries.

Expose new span queries from https://issues.apache.org/jira/browse/LUCENE-6083

Within returns matches from 'little' that are enclosed inside of a match from 'big'.
Containing returns matches from 'big' that enclose matches from 'little'.

time:
2015-04-30T23:13:49Z
class:
src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
src/main/java/org/elasticsearch/cluster/settings/ClusterDynamicSettingsModule.java
src/test/java/org/elasticsearch/cluster/ClusterServiceTests.java
src/test/java/org/elasticsearch/test/MockLogAppender.java
comments:
Logging: Add logging of slow cluster state tasks

Closes #10874

time:
2015-04-30T22:36:46Z
class:
src/main/java/org/elasticsearch/script/expression/DateMethodFunctionValues.java
src/main/java/org/elasticsearch/script/expression/DateMethodValueSource.java
src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
src/main/java/org/elasticsearch/script/expression/FieldDataValueSource.java
src/test/java/org/elasticsearch/script/expression/ExpressionScriptTests.java
comments:
Scripting: Add Field Methods

Added infrastructure to allow basic member methods in the expressions
language to be called.  The methods must have a signature with no arguments.  Also
added the following member methods for date fields (and it should be easy to add more)
* getYear
* getMonth
* getDayOfMonth
* getHourOfDay
* getMinutes
* getSeconds

Allow fields to be accessed without using the member variable [value].
(Note that both ways can be used to access fields for back-compat.)

closes #10890

time:
2015-04-30T20:57:55Z
class:
comments:
Mappings: Remove docs for type level analyzer defaults

These settings were removed in #9430.

time:
2015-04-30T20:50:35Z
class:
src/main/java/org/elasticsearch/index/mapper/MapperService.java
comments:
Mappings: Remove file based default mappings

Using files that must be specified on each node is an anti-pattern
from the API based goal of ES. This change removes the ability
to specify the default mapping with a file on each node.

closes #10620

time:
2015-04-30T20:47:24Z
class:
src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
comments:
Read configuration file with .yaml suffix

Fixes a bug whereby we failed to read an elasticsearch config file with
the .yaml extension. This commit allows elasticsearch config files to
be suffixed with: .yml, .yaml, .json, .properties.

Closes #9706

time:
2015-04-30T20:43:19Z
class:
src/test/java/org/elasticsearch/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/search/scriptfilter/ScriptFilterSearchTests.java
comments:
Upgrade lucene snapshot to r1677039

time:
2015-04-30T20:42:50Z
class:
src/main/java/org/elasticsearch/common/io/Channels.java
src/main/java/org/elasticsearch/common/util/concurrent/AbstractRefCounted.java
src/main/java/org/elasticsearch/common/util/concurrent/ReleasableLock.java
src/main/java/org/elasticsearch/index/IndexService.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/EngineConfig.java
src/main/java/org/elasticsearch/index/engine/EngineFactory.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/InternalEngineFactory.java
src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
src/main/java/org/elasticsearch/index/gateway/IndexShardGateway.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/shard/IndexShardException.java
src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
src/main/java/org/elasticsearch/index/snapshots/IndexShardSnapshotAndRestoreService.java
src/main/java/org/elasticsearch/index/translog/ChecksummedTranslogStream.java
src/main/java/org/elasticsearch/index/translog/LegacyTranslogStream.java
src/main/java/org/elasticsearch/index/translog/Translog.java
src/main/java/org/elasticsearch/index/translog/TranslogModule.java
src/main/java/org/elasticsearch/index/translog/TranslogService.java
src/main/java/org/elasticsearch/index/translog/TranslogStats.java
src/main/java/org/elasticsearch/index/translog/TranslogStream.java
src/main/java/org/elasticsearch/index/translog/TranslogStreams.java
src/main/java/org/elasticsearch/index/translog/fs/BufferingFsTranslogFile.java
src/main/java/org/elasticsearch/index/translog/fs/ChannelReference.java
src/main/java/org/elasticsearch/index/translog/fs/FsChannelImmutableReader.java
src/main/java/org/elasticsearch/index/translog/fs/FsChannelReader.java
src/main/java/org/elasticsearch/index/translog/fs/FsChannelSnapshot.java
src/main/java/org/elasticsearch/index/translog/fs/FsTranslog.java
src/main/java/org/elasticsearch/index/translog/fs/FsTranslogFile.java
src/main/java/org/elasticsearch/index/translog/fs/FsTranslogSnapshot.java
src/main/java/org/elasticsearch/index/translog/fs/SimpleFsTranslogFile.java
src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryResponse.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySource.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
src/main/java/org/elasticsearch/indices/recovery/SharedFSRecoverySourceHandler.java
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
src/test/java/org/elasticsearch/index/translog/SnapshotMatchers.java
src/test/java/org/elasticsearch/index/translog/TranslogSizeMatcher.java
src/test/java/org/elasticsearch/index/translog/TranslogVersionTests.java
src/test/java/org/elasticsearch/index/translog/fs/AbstractTranslogTests.java
src/test/java/org/elasticsearch/index/translog/fs/FsBufferedTranslogTests.java
src/test/java/org/elasticsearch/index/translog/fs/FsSimpleTranslogTests.java
src/test/java/org/elasticsearch/test/BackgroundIndexer.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/engine/MockEngineFactory.java
src/test/java/org/elasticsearch/test/engine/MockInternalEngine.java
src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
comments:
Decouple recoveries from engine flush

In order to safely complete recoveries / relocations we have to keep all operation done since the recovery start at available for replay. At the moment we do so by preventing the engine from flushing and thus making sure that the operations are kept in the translog. A side effect of this is that the translog keeps on growing until the recovery is done. This is not a problem as we do need these operations but if the another recovery starts concurrently it may have an unneededly long translog to replay. Also, if we shutdown the engine for some reason at this point (like when a node is restarted)  we have to recover a long translog when we come back.

To void this, the translog is changed to be based on multiple files instead of a single one. This allows recoveries to keep hold to the files they need while allowing the engine to flush and do a lucene commit (which will create a new translog files bellow the hood).

Change highlights:
- Refactor Translog file management to allow for multiple files.
- Translog maintains a list of referenced files, both by outstanding recoveries and files containing operations not yet committed to Lucene.
- A new Translog.View concept is introduced, allowing recoveries to get a reference to all currently uncommitted translog files plus all future translog files created until the view is closed. They can use this view to iterate over operations.
- Recovery phase3 is removed. That phase was replaying operations while preventing new writes to the engine. This is unneeded as standard indexing also send all operations from the start of the recovery  to the recovering shard. Replay all ops in the view acquired in recovery start is enough to guarantee no operation is lost.
- IndexShard now creates the translog together with the engine. The translog is closed by the engine on close. ShadowIndexShards do not open the translog.
- Moved the ownership of translog fsyncing to the translog it self, changing the responsible setting to `index.translog.sync_interval` (was `index.gateway.local.sync`)

Closes #10624

time:
2015-04-30T17:14:56Z
class:
src/test/java/org/elasticsearch/search/aggregations/EquivalenceTests.java
comments:
Tests: Fix test bug in aggregations' EquivalenceTests due to the change of the default min_doc_count.

time:
2015-04-30T14:56:43Z
class:
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
src/test/java/org/elasticsearch/search/innerhits/InnerHitsTests.java
comments:
inner_hits: Don't use bitset cache for children filters.

Only parent filters should use bitset filter cache, to avoid memory being wasted.
Also in case of object fields inline the field name into the nested object,
instead of creating an additional (dummy) nested identity.

Closes #10662
Closes #10629

time:
2015-04-30T14:53:22Z
class:
comments:
Latest version is 2.5.0

time:
2015-04-30T14:50:45Z
class:
comments:
update documentation with release 2.4.4

time:
2015-04-30T14:43:31Z
class:
comments:
Update compatibility matrix for elasticsearch 1.4.5

Closes #38.

time:
2015-04-30T14:40:59Z
class:
comments:
Latest version is 2.5.0

time:
2015-04-30T14:36:35Z
class:
comments:
update documentation with release 2.4.3

time:
2015-04-30T14:31:35Z
class:
comments:
Update compatibility matrix for elasticsearch 1.4.5

Closes #43.

time:
2015-04-30T14:24:12Z
class:
comments:
update documentation with release 2.4.3

time:
2015-04-30T14:14:12Z
class:
comments:
Update compatibility matrix for elasticsearch 1.4.5

Closes #40.

time:
2015-04-30T14:10:56Z
class:
comments:
Latest version is 2.5.0

time:
2015-04-30T14:04:15Z
class:
comments:
update documentation with release 2.4.3

time:
2015-04-30T13:56:07Z
class:
comments:
Update compatibility matrix for elasticsearch 1.4.5

Closes #51.

time:
2015-04-30T13:54:02Z
class:
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramParser.java
src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/DerivativeTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/MaxBucketTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/MinBucketTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/moving/avg/MovAvgTests.java
comments:
Merge pull request #10904 from jpountz/enhancement/histogram_min_doc_count_0

Aggs: Change the default `min_doc_count` to 0 on histograms.

time:
2015-04-30T13:48:48Z
class:
comments:
Latest version is 2.5.0

time:
2015-04-30T13:48:23Z
class:
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramParser.java
src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/DerivativeTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/MaxBucketTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/MinBucketTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/moving/avg/MovAvgTests.java
comments:
Aggs: Change the default `min_doc_count` to 0 on histograms.

The assumption is that gaps in histogram are generally undesirable, for instance
if you want to build a visualization from it. Additionally, we are building new
aggregations that require that there are no gaps to work correctly (eg.
derivatives).

time:
2015-04-30T13:47:15Z
class:
comments:
update documentation with release 2.4.3

time:
2015-04-30T13:41:01Z
class:
comments:
fix typo in Min bucket aggregation docs

time:
2015-04-30T13:39:48Z
class:
comments:
[doc] update compatibility matrix for elasticsearch 1.4.5

Closes #58.

time:
2015-04-30T12:34:21Z
class:
src/main/java/org/elasticsearch/search/aggregations/AggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/TransportAggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/reducers/ReducerBuilders.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/max/MaxBucketBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/max/MaxBucketParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/max/MaxBucketReducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/min/MinBucketBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/min/MinBucketParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/min/MinBucketReducer.java
src/test/java/org/elasticsearch/search/aggregations/reducers/MinBucketTests.java
comments:
Aggregations: min_bucket aggregation

An aggregation to calculate the minimum value in a set of buckets.

Closes #9999

time:
2015-04-30T09:00:28Z
class:
src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesResponse.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetMappingsResponse.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/GetIndexTemplatesResponse.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java
src/main/java/org/elasticsearch/action/percolate/PercolateShardResponse.java
src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/cluster/AbstractDiffable.java
src/main/java/org/elasticsearch/cluster/ClusterState.java
src/main/java/org/elasticsearch/cluster/Diff.java
src/main/java/org/elasticsearch/cluster/Diffable.java
src/main/java/org/elasticsearch/cluster/DiffableUtils.java
src/main/java/org/elasticsearch/cluster/IncompatibleClusterStateVersionException.java
src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
src/main/java/org/elasticsearch/cluster/metadata/AliasMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
src/main/java/org/elasticsearch/cluster/metadata/RepositoriesMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/RepositoryMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/RestoreMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/SnapshotMetaData.java
src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
src/main/java/org/elasticsearch/cluster/settings/ClusterDynamicSettingsModule.java
src/main/java/org/elasticsearch/common/Preconditions.java
src/main/java/org/elasticsearch/common/collect/CopyOnWriteHashMap.java
src/main/java/org/elasticsearch/common/io/Streams.java
src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
src/main/java/org/elasticsearch/common/io/stream/StreamableReader.java
src/main/java/org/elasticsearch/common/io/stream/Writeable.java
src/main/java/org/elasticsearch/common/property/PropertyPlaceholder.java
src/main/java/org/elasticsearch/common/transport/InetSocketTransportAddress.java
src/main/java/org/elasticsearch/common/unit/Fuzziness.java
src/main/java/org/elasticsearch/common/unit/SizeValue.java
src/main/java/org/elasticsearch/common/util/CollectionUtils.java
src/main/java/org/elasticsearch/common/xcontent/XContentLocation.java
src/main/java/org/elasticsearch/common/xcontent/XContentParser.java
src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentParser.java
src/main/java/org/elasticsearch/discovery/Discovery.java
src/main/java/org/elasticsearch/discovery/DiscoveryService.java
src/main/java/org/elasticsearch/discovery/DiscoverySettings.java
src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
src/main/java/org/elasticsearch/gateway/Gateway.java
src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
src/main/java/org/elasticsearch/gateway/MetaDataStateFormat.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
src/main/java/org/elasticsearch/http/HttpServerModule.java
src/main/java/org/elasticsearch/index/IndexService.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
src/main/java/org/elasticsearch/index/merge/policy/LogByteSizeMergePolicyProvider.java
src/main/java/org/elasticsearch/index/merge/policy/LogDocMergePolicyProvider.java
src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
src/main/java/org/elasticsearch/index/query/AndFilterParser.java
src/main/java/org/elasticsearch/index/query/BoolFilterParser.java
src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
src/main/java/org/elasticsearch/index/query/BoostingQueryParser.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
src/main/java/org/elasticsearch/index/query/ExistsFilterParser.java
src/main/java/org/elasticsearch/index/query/FQueryFilterParser.java
src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryParser.java
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeohashCellFilter.java
src/main/java/org/elasticsearch/index/query/HasChildFilterParser.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentFilterParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/IdsFilterParser.java
src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
src/main/java/org/elasticsearch/index/query/IndicesFilterParser.java
src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
src/main/java/org/elasticsearch/index/query/LimitFilterParser.java
src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
src/main/java/org/elasticsearch/index/query/MissingFilterParser.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
src/main/java/org/elasticsearch/index/query/NestedFilterParser.java
src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
src/main/java/org/elasticsearch/index/query/NotFilterParser.java
src/main/java/org/elasticsearch/index/query/OrFilterParser.java
src/main/java/org/elasticsearch/index/query/PrefixFilterParser.java
src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/query/QueryParsingException.java
src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
src/main/java/org/elasticsearch/index/query/RangeFilterParser.java
src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
src/main/java/org/elasticsearch/index/query/RegexpFilterParser.java
src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
src/main/java/org/elasticsearch/index/query/ScriptFilterParser.java
src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
src/main/java/org/elasticsearch/index/query/SpanFirstQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanNotQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanOrQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
src/main/java/org/elasticsearch/index/query/TermFilterParser.java
src/main/java/org/elasticsearch/index/query/TermQueryParser.java
src/main/java/org/elasticsearch/index/query/TermsFilterParser.java
src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryParser.java
src/main/java/org/elasticsearch/index/query/TypeFilterParser.java
src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
src/main/java/org/elasticsearch/index/query/WrapperFilterParser.java
src/main/java/org/elasticsearch/index/query/WrapperQueryParser.java
src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParserMapper.java
src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionParser.java
src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionParser.java
src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionParser.java
src/main/java/org/elasticsearch/index/query/support/InnerHitsQueryParserHelper.java
src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/store/StoreModule.java
src/main/java/org/elasticsearch/indices/store/IndicesStore.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/repositories/get/RestGetRepositoriesAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/get/RestGetIndicesAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/warmer/get/RestGetWarmerAction.java
src/main/java/org/elasticsearch/search/SearchParseException.java
src/main/java/org/elasticsearch/search/SearchService.java
src/main/java/org/elasticsearch/search/aggregations/AggregationBuilder.java
src/main/java/org/elasticsearch/search/aggregations/AggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorBase.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
src/main/java/org/elasticsearch/search/aggregations/InternalAggregation.java
src/main/java/org/elasticsearch/search/aggregations/InternalMultiBucketAggregation.java
src/main/java/org/elasticsearch/search/aggregations/InvalidAggregationPathException.java
src/main/java/org/elasticsearch/search/aggregations/NonCollectingAggregator.java
src/main/java/org/elasticsearch/search/aggregations/TransportAggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/bucket/BucketsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/InternalSingleBucketAggregation.java
src/main/java/org/elasticsearch/search/aggregations/bucket/SingleBucketAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/ChildrenParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/InternalChildren.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/ParentToChildrenAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filter/InternalFilter.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/InternalFilters.java
src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/InternalGeoHashGrid.java
src/main/java/org/elasticsearch/search/aggregations/bucket/global/GlobalAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/global/InternalGlobal.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/ExtendedBounds.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/InternalDateHistogram.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/InternalHistogram.java
src/main/java/org/elasticsearch/search/aggregations/bucket/missing/InternalMissing.java
src/main/java/org/elasticsearch/search/aggregations/bucket/missing/MissingAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/missing/MissingParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/InternalNested.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/InternalReverseNested.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/InternalRange.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/DateRangeParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/InternalDateRange.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/InternalGeoDistance.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/InternalIPv4Range.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IpRangeParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedBytesHashSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedMapSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedNumericSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedOrdinalsSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/InternalSampler.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/SamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/SamplerParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/UnmappedSampler.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/GlobalOrdinalsSignificantTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/InternalSignificantTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantLongTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantLongTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantStringTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantStringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParametersParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/UnmappedSignificantTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/AbstractStringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/DoubleTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/DoubleTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/GlobalOrdinalsStringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/InternalTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/LongTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/LongTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/StringTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/StringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsParametersParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/UnmappedTerms.java
src/main/java/org/elasticsearch/search/aggregations/metrics/InternalMetricsAggregation.java
src/main/java/org/elasticsearch/search/aggregations/metrics/InternalNumericMetricsAggregation.java
src/main/java/org/elasticsearch/search/aggregations/metrics/MetricsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/NumericMetricsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/NumericValuesSourceMetricsAggregatorParser.java
src/main/java/org/elasticsearch/search/aggregations/metrics/avg/AvgAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/avg/InternalAvg.java
src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityParser.java
src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/InternalCardinality.java
src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/GeoBoundsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/GeoBoundsParser.java
src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/InternalGeoBounds.java
src/main/java/org/elasticsearch/search/aggregations/metrics/max/InternalMax.java
src/main/java/org/elasticsearch/search/aggregations/metrics/max/MaxAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/min/InternalMin.java
src/main/java/org/elasticsearch/search/aggregations/metrics/min/MinAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractInternalPercentiles.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractPercentilesAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractPercentilesParser.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/InternalPercentileRanks.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/InternalPercentiles.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksParser.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesAggregator.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-04-30T08:59:01Z
class:
src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
src/test/java/org/elasticsearch/common/io/streams/BytesStreamsTests.java
comments:
Transport: read/writeGenericValue to support BytesRef

Add support for BytesRef to existing StreamInput#readGenericValue and StreamOutput#writeGenericValue

Closes #10878

time:
2015-04-30T08:25:25Z
class:
src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java
comments:
prevent over allocation for multicast ping request

very tiny optimization but the BytesStreamOutput ctor by
default allocates 16KB which is way too much for a ping
request.

The actual size of the request depends on the clusterName so
150 isn't accurate either but should be enough.

time:
2015-04-30T06:33:43Z
class:
src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapperTests.java
comments:
fix dumb test copy/paste mistake

time:
2015-04-30T06:12:16Z
class:
src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapperTests.java
comments:
Mappings: Fix _field_names to not have doc values

When doc values were turned on a by default, most meta fields
had it explicitly disabled.  However, _field_names was missed.
This change forces doc values to be off always for _field_names
and removes the unnecessary support when creating index fields.

closes #10892

time:
2015-04-29T23:48:13Z
class:
src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesResponse.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetMappingsResponse.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/GetIndexTemplatesResponse.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java
src/main/java/org/elasticsearch/action/percolate/PercolateShardResponse.java
src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/cluster/AbstractDiffable.java
src/main/java/org/elasticsearch/cluster/ClusterState.java
src/main/java/org/elasticsearch/cluster/Diff.java
src/main/java/org/elasticsearch/cluster/Diffable.java
src/main/java/org/elasticsearch/cluster/DiffableUtils.java
src/main/java/org/elasticsearch/cluster/IncompatibleClusterStateVersionException.java
src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
src/main/java/org/elasticsearch/cluster/metadata/AliasMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
src/main/java/org/elasticsearch/cluster/metadata/RepositoriesMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/RepositoryMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/RestoreMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/SnapshotMetaData.java
src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
src/main/java/org/elasticsearch/cluster/settings/ClusterDynamicSettingsModule.java
src/main/java/org/elasticsearch/common/io/stream/StreamableReader.java
src/main/java/org/elasticsearch/common/io/stream/Writeable.java
src/main/java/org/elasticsearch/common/transport/InetSocketTransportAddress.java
src/main/java/org/elasticsearch/common/xcontent/XContentLocation.java
src/main/java/org/elasticsearch/common/xcontent/XContentParser.java
src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentParser.java
src/main/java/org/elasticsearch/discovery/Discovery.java
src/main/java/org/elasticsearch/discovery/DiscoveryService.java
src/main/java/org/elasticsearch/discovery/DiscoverySettings.java
src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
src/main/java/org/elasticsearch/gateway/Gateway.java
src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
src/main/java/org/elasticsearch/index/query/AndFilterParser.java
src/main/java/org/elasticsearch/index/query/BoolFilterParser.java
src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
src/main/java/org/elasticsearch/index/query/BoostingQueryParser.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
src/main/java/org/elasticsearch/index/query/ExistsFilterParser.java
src/main/java/org/elasticsearch/index/query/FQueryFilterParser.java
src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryParser.java
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeohashCellFilter.java
src/main/java/org/elasticsearch/index/query/HasChildFilterParser.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentFilterParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/IdsFilterParser.java
src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
src/main/java/org/elasticsearch/index/query/IndicesFilterParser.java
src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
src/main/java/org/elasticsearch/index/query/LimitFilterParser.java
src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
src/main/java/org/elasticsearch/index/query/MissingFilterParser.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
src/main/java/org/elasticsearch/index/query/NestedFilterParser.java
src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
src/main/java/org/elasticsearch/index/query/NotFilterParser.java
src/main/java/org/elasticsearch/index/query/OrFilterParser.java
src/main/java/org/elasticsearch/index/query/PrefixFilterParser.java
src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/query/QueryParsingException.java
src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
src/main/java/org/elasticsearch/index/query/RangeFilterParser.java
src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
src/main/java/org/elasticsearch/index/query/RegexpFilterParser.java
src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
src/main/java/org/elasticsearch/index/query/ScriptFilterParser.java
src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
src/main/java/org/elasticsearch/index/query/SpanFirstQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanNotQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanOrQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
src/main/java/org/elasticsearch/index/query/TermFilterParser.java
src/main/java/org/elasticsearch/index/query/TermQueryParser.java
src/main/java/org/elasticsearch/index/query/TermsFilterParser.java
src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryParser.java
src/main/java/org/elasticsearch/index/query/TypeFilterParser.java
src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
src/main/java/org/elasticsearch/index/query/WrapperFilterParser.java
src/main/java/org/elasticsearch/index/query/WrapperQueryParser.java
src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParserMapper.java
src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionParser.java
src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionParser.java
src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionParser.java
src/main/java/org/elasticsearch/index/query/support/InnerHitsQueryParserHelper.java
src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
src/main/java/org/elasticsearch/indices/store/IndicesStore.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/repositories/get/RestGetRepositoriesAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/get/RestGetIndicesAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/warmer/get/RestGetWarmerAction.java
src/main/java/org/elasticsearch/search/SearchParseException.java
src/main/java/org/elasticsearch/search/SearchService.java
src/main/java/org/elasticsearch/search/aggregations/AggregationBuilder.java
src/main/java/org/elasticsearch/search/aggregations/AggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorBase.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
src/main/java/org/elasticsearch/search/aggregations/InternalAggregation.java
src/main/java/org/elasticsearch/search/aggregations/InternalMultiBucketAggregation.java
src/main/java/org/elasticsearch/search/aggregations/InvalidAggregationPathException.java
src/main/java/org/elasticsearch/search/aggregations/NonCollectingAggregator.java
src/main/java/org/elasticsearch/search/aggregations/TransportAggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/bucket/BucketsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/InternalSingleBucketAggregation.java
src/main/java/org/elasticsearch/search/aggregations/bucket/SingleBucketAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/ChildrenParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/InternalChildren.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/ParentToChildrenAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filter/InternalFilter.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/InternalFilters.java
src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/InternalGeoHashGrid.java
src/main/java/org/elasticsearch/search/aggregations/bucket/global/GlobalAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/global/InternalGlobal.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/ExtendedBounds.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/InternalDateHistogram.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/InternalHistogram.java
src/main/java/org/elasticsearch/search/aggregations/bucket/missing/InternalMissing.java
src/main/java/org/elasticsearch/search/aggregations/bucket/missing/MissingAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/missing/MissingParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/InternalNested.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/InternalReverseNested.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/InternalRange.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/DateRangeParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/InternalDateRange.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/InternalGeoDistance.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/InternalIPv4Range.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IpRangeParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedBytesHashSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedMapSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedNumericSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedOrdinalsSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/InternalSampler.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/SamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/SamplerParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/UnmappedSampler.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/GlobalOrdinalsSignificantTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/InternalSignificantTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantLongTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantLongTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantStringTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantStringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParametersParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/UnmappedSignificantTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/AbstractStringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/DoubleTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/DoubleTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/GlobalOrdinalsStringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/InternalTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/LongTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/LongTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/StringTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/StringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsParametersParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/UnmappedTerms.java
src/main/java/org/elasticsearch/search/aggregations/metrics/InternalMetricsAggregation.java
src/main/java/org/elasticsearch/search/aggregations/metrics/InternalNumericMetricsAggregation.java
src/main/java/org/elasticsearch/search/aggregations/metrics/MetricsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/NumericMetricsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/NumericValuesSourceMetricsAggregatorParser.java
src/main/java/org/elasticsearch/search/aggregations/metrics/avg/AvgAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/avg/InternalAvg.java
src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityParser.java
src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/InternalCardinality.java
src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/GeoBoundsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/GeoBoundsParser.java
src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/InternalGeoBounds.java
src/main/java/org/elasticsearch/search/aggregations/metrics/max/InternalMax.java
src/main/java/org/elasticsearch/search/aggregations/metrics/max/MaxAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/min/InternalMin.java
src/main/java/org/elasticsearch/search/aggregations/metrics/min/MinAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractInternalPercentiles.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractPercentilesAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractPercentilesParser.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/InternalPercentileRanks.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/InternalPercentiles.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksParser.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/InternalScriptedMetric.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricParser.java
src/main/java/org/elasticsearch/search/aggregations/metrics/stats/InternalStats.java
src/main/java/org/elasticsearch/search/aggregations/metrics/stats/StatsAggegator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/ExtendedStatsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/ExtendedStatsParser.java
src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/InternalExtendedStats.java
src/main/java/org/elasticsearch/search/aggregations/metrics/sum/InternalSum.java
src/main/java/org/elasticsearch/search/aggregations/metrics/sum/SumAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/InternalTopHits.java
src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsParser.java
src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/InternalValueCount.java
src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/ValueCountAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/ValueCountParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/BucketHelpers.java
src/main/java/org/elasticsearch/search/aggregations/reducers/InternalSimpleValue.java
src/main/java/org/elasticsearch/search/aggregations/reducers/Reducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/ReducerBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/ReducerBuilders.java
src/main/java/org/elasticsearch/search/aggregations/reducers/ReducerFactory.java
src/main/java/org/elasticsearch/search/aggregations/reducers/ReducerStreams.java
src/main/java/org/elasticsearch/search/aggregations/reducers/SiblingReducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/SimpleValue.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/InternalBucketMetricValue.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/MaxBucketBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/MaxBucketParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/MaxBucketReducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/derivative/DerivativeBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/derivative/DerivativeParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/derivative/DerivativeReducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/MovAvgBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/MovAvgParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/MovAvgReducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/DoubleExpModel.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/LinearModel.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/MovAvgModel.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/MovAvgModelBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/MovAvgModelModule.java
comments:
Merge branch 'master' into die_cwd_die

time:
2015-04-29T23:32:54Z
class:
src/main/java/org/elasticsearch/tribe/TribeService.java
src/test/java/org/elasticsearch/client/transport/TransportClientRetryTests.java
src/test/java/org/elasticsearch/client/transport/TransportClientTests.java
src/test/java/org/elasticsearch/common/cli/CliToolTestCase.java
src/test/java/org/elasticsearch/index/query/plugin/IndexQueryParserPlugin2Tests.java
src/test/java/org/elasticsearch/index/query/plugin/IndexQueryParserPluginTests.java
src/test/java/org/elasticsearch/script/NativeScriptTests.java
src/test/java/org/elasticsearch/tribe/TribeUnitTests.java
comments:
fix some tests, all fast tests now pass

time:
2015-04-29T17:33:54Z
class:
comments:
[DOCS] Fix movavg images and naming

time:
2015-04-29T16:55:48Z
class:
src/main/java/org/elasticsearch/index/analysis/IcuCollationTokenFilterFactory.java
comments:
Remove `ElasticsearchIllegalArgumentException` and `ElasticsearchIllegalStateException` in favor of the JDK one

Related to https://github.com/elastic/elasticsearch/issues/10794

Closes #50.

time:
2015-04-29T16:52:41Z
class:
src/main/java/org/elasticsearch/index/analysis/PhoneticTokenFilterFactory.java
comments:
Remove `ElasticsearchIllegalArgumentException` and `ElasticsearchIllegalStateException` in favor of the JDK one

Related to https://github.com/elastic/elasticsearch/issues/10794

Closes #41.

time:
2015-04-29T16:49:41Z
class:
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
comments:
Test: ignore cluster state differences on the nodes that disconnected from the master

time:
2015-04-29T16:49:40Z
class:
src/main/java/org/elasticsearch/common/transport/InetSocketTransportAddress.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
comments:
Test: make sure that tests are not affected by changing in address resolution settings

time:
2015-04-29T16:49:40Z
class:
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Test: remove reference to the local node before comparing cluster states in ensureClusterStateConsistency

time:
2015-04-29T16:49:40Z
class:
src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
[TEST] enable host name resolving to gain consistent transport addresses in clusterstate

time:
2015-04-29T16:49:40Z
class:
src/test/java/org/elasticsearch/cluster/ClusterStateDiffTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/XContentTestUtils.java
comments:
[TEST] Move XContentTestUtils.java into o.e.test folder

Classes referenced by the Test base classes must be under this
package otherwise the test jar can't be used in a 3rd party application.

time:
2015-04-29T16:49:40Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesResponse.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetMappingsResponse.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/GetIndexTemplatesResponse.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
src/main/java/org/elasticsearch/cluster/AbstractDiffable.java
src/main/java/org/elasticsearch/cluster/ClusterState.java
src/main/java/org/elasticsearch/cluster/Diff.java
src/main/java/org/elasticsearch/cluster/Diffable.java
src/main/java/org/elasticsearch/cluster/DiffableUtils.java
src/main/java/org/elasticsearch/cluster/IncompatibleClusterStateVersionException.java
src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
src/main/java/org/elasticsearch/cluster/metadata/AliasMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
src/main/java/org/elasticsearch/cluster/metadata/RepositoriesMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/RepositoryMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/RestoreMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/SnapshotMetaData.java
src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
src/main/java/org/elasticsearch/cluster/settings/ClusterDynamicSettingsModule.java
src/main/java/org/elasticsearch/common/io/stream/StreamableReader.java
src/main/java/org/elasticsearch/common/io/stream/Writeable.java
src/main/java/org/elasticsearch/discovery/Discovery.java
src/main/java/org/elasticsearch/discovery/DiscoveryService.java
src/main/java/org/elasticsearch/discovery/DiscoverySettings.java
src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
src/main/java/org/elasticsearch/gateway/Gateway.java
src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/repositories/get/RestGetRepositoriesAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/get/RestGetIndicesAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/warmer/get/RestGetWarmerAction.java
src/main/java/org/elasticsearch/search/warmer/IndexWarmersMetaData.java
src/test/java/org/elasticsearch/cluster/ClusterStateDiffPublishingTests.java
src/test/java/org/elasticsearch/cluster/ClusterStateDiffTests.java
src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java
src/test/java/org/elasticsearch/cluster/serialization/DiffableTests.java
src/test/java/org/elasticsearch/common/xcontent/XContentTestUtils.java
src/test/java/org/elasticsearch/discovery/ZenUnicastDiscoveryTests.java
src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryTests.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationTests.java
src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateTests.java
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
comments:
Add support for cluster state diffs

Adds support for calculating and sending diffs instead of full cluster state of the most frequently changing elements - cluster state, meta data and routing table.

Closes #6295

time:
2015-04-29T16:43:00Z
class:
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
comments:
Clarify logging about disk thresholds in DiskThresholdDecider

time:
2015-04-29T16:10:02Z
class:
src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
src/test/java/org/elasticsearch/search/query/SearchQueryTests.java
comments:
fix: query string time zone not working

If you define exactly the same date range query using either `DATE+0200` notation or `DATE` and set `timezone: +0200`, elasticsearch gives back different results:

```
DELETE foo
PUT /foo
{
  "mapping": {
    "tweets": {
      "properties": {
        "tweet_date": {
          "type": "date"
        }
      }
    }
  }
}

POST /foo/tweets/1/
{
  "tweet_date": "2015-04-05T23:00:00+0000"
}
POST /foo/tweets/2/
{
  "tweet_date": "2015-04-06T00:00:00+0000"
}

GET /foo/tweets/_search?pretty
{
    "query": {
        "query_string": {
            "query": "tweet_date:[2015-04-06T00:00:00+0200 TO 2015-04-06T23:00:00+0200]"
        }
    }
}
GET /foo/tweets/_search?pretty
{
    "query": {
        "query_string": {
            "query": "tweet_date:[2015-04-06T00:00:00 TO 2015-04-06T23:00:00]",
            "time_zone": "+0200"
        }
    }
}
```

This PR fixes it and will also allow us to add the same feature to simple_query_string as well in another PR.

Closes #10477.

(cherry picked from commit 880f4a0)

time:
2015-04-29T15:51:21Z
class:
src/main/java/org/elasticsearch/indices/store/IndicesStore.java
src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationTests.java
comments:
[TEST] Use a high shard delete timeout when clusterstates are delayed

`IndiceStore#indexCleanup` uses a disruption scheme to delay cluster state
processing. Yet, the delay is [1..2] seconds but tests are setting the shard
deletion timeout to 1 second to speed up tests. This can cause random not
reproducible failures in this test since the timeouts and delays are bascially
overlapping. This commit adds a longer timeout for this test to prevent these
problems.

time:
2015-04-29T15:35:49Z
class:
src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java
src/main/java/org/elasticsearch/action/percolate/PercolateShardResponse.java
src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/search/aggregations/AggregationBuilder.java
src/main/java/org/elasticsearch/search/aggregations/AggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorBase.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
src/main/java/org/elasticsearch/search/aggregations/InternalAggregation.java
src/main/java/org/elasticsearch/search/aggregations/InternalMultiBucketAggregation.java
src/main/java/org/elasticsearch/search/aggregations/InvalidAggregationPathException.java
src/main/java/org/elasticsearch/search/aggregations/NonCollectingAggregator.java
src/main/java/org/elasticsearch/search/aggregations/TransportAggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/bucket/BucketsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/InternalSingleBucketAggregation.java
src/main/java/org/elasticsearch/search/aggregations/bucket/SingleBucketAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/InternalChildren.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/ParentToChildrenAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filter/InternalFilter.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/InternalFilters.java
src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/InternalGeoHashGrid.java
src/main/java/org/elasticsearch/search/aggregations/bucket/global/GlobalAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/global/InternalGlobal.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/InternalDateHistogram.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/InternalHistogram.java
src/main/java/org/elasticsearch/search/aggregations/bucket/missing/InternalMissing.java
src/main/java/org/elasticsearch/search/aggregations/bucket/missing/MissingAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/InternalNested.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/InternalReverseNested.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/InternalRange.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/InternalDateRange.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/InternalGeoDistance.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/InternalIPv4Range.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedBytesHashSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedMapSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedNumericSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedOrdinalsSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/InternalSampler.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/SamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/UnmappedSampler.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/GlobalOrdinalsSignificantTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/InternalSignificantTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantLongTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantLongTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantStringTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantStringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/UnmappedSignificantTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/AbstractStringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/DoubleTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/DoubleTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/GlobalOrdinalsStringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/InternalTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/LongTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/LongTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/StringTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/StringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/UnmappedTerms.java
src/main/java/org/elasticsearch/search/aggregations/metrics/InternalMetricsAggregation.java
src/main/java/org/elasticsearch/search/aggregations/metrics/InternalNumericMetricsAggregation.java
src/main/java/org/elasticsearch/search/aggregations/metrics/MetricsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/NumericMetricsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/avg/AvgAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/avg/InternalAvg.java
src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/InternalCardinality.java
src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/GeoBoundsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/InternalGeoBounds.java
src/main/java/org/elasticsearch/search/aggregations/metrics/max/InternalMax.java
src/main/java/org/elasticsearch/search/aggregations/metrics/max/MaxAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/min/InternalMin.java
src/main/java/org/elasticsearch/search/aggregations/metrics/min/MinAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractInternalPercentiles.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractPercentilesAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/InternalPercentileRanks.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/InternalPercentiles.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/InternalScriptedMetric.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/stats/InternalStats.java
src/main/java/org/elasticsearch/search/aggregations/metrics/stats/StatsAggegator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/ExtendedStatsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/InternalExtendedStats.java
src/main/java/org/elasticsearch/search/aggregations/metrics/sum/InternalSum.java
src/main/java/org/elasticsearch/search/aggregations/metrics/sum/SumAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/InternalTopHits.java
src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/InternalValueCount.java
src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/ValueCountAggregator.java
src/main/java/org/elasticsearch/search/aggregations/reducers/BucketHelpers.java
src/main/java/org/elasticsearch/search/aggregations/reducers/InternalSimpleValue.java
src/main/java/org/elasticsearch/search/aggregations/reducers/Reducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/ReducerBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/ReducerBuilders.java
src/main/java/org/elasticsearch/search/aggregations/reducers/ReducerFactory.java
src/main/java/org/elasticsearch/search/aggregations/reducers/ReducerStreams.java
src/main/java/org/elasticsearch/search/aggregations/reducers/SiblingReducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/SimpleValue.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/InternalBucketMetricValue.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/MaxBucketBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/MaxBucketParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/MaxBucketReducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/derivative/DerivativeBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/derivative/DerivativeParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/derivative/DerivativeReducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/MovAvgBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/MovAvgParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/MovAvgReducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/DoubleExpModel.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/LinearModel.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/MovAvgModel.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/MovAvgModelBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/MovAvgModelModule.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/MovAvgModelParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/MovAvgModelParserMapper.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/MovAvgModelStreams.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/SimpleModel.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/SingleExpModel.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/TransportMovAvgModelModule.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceAggregatorFactory.java
src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
src/main/java/org/elasticsearch/search/query/QuerySearchResult.java
src/test/java/org/elasticsearch/percolator/PercolatorFacetsAndAggregationsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTest.java
src/test/java/org/elasticsearch/search/aggregations/bucket/significant/SignificanceHeuristicTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/DateDerivativeTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/DerivativeTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/MaxBucketTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/ReducerHelperTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/moving/avg/MovAvgTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/moving/avg/MovAvgUnitTests.java
comments:
Aggregations: Ability to perform computations on aggregations

Adds a new type of aggregation called 'reducers' which act on the output of aggregations and compute extra information that they add to the aggregation tree. Reducers look much like any other aggregation in the request but have a buckets_path parameter which references the aggregation(s) to use.

Internally there are two types of reducer; the first is given the output of its parent aggregation and computes new aggregations to add to the buckets of its parent, and the second (a specialisation of the first) is given a sibling aggregation and outputs an aggregation to be a sibling at the same level as that aggregation.

This PR includes the framework for the reducers, the derivative reducer (#9293), the moving average reducer(#10002) and the maximum bucket reducer(#10000). These reducer implementations are not all yet fully complete.

Known work left to do (these points will be done once this PR is merged into the master branch):

Add x-axis normalisation to the derivative reducer
Add lots more JUnit tests for all reducers
Contributes to #9876
Closes #10002
Closes #9293
Closes #10000

time:
2015-04-29T15:32:05Z
class:
src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
comments:
Merge branch 'master' into feature/aggs_2_0

# Conflicts:
#	src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java

time:
2015-04-29T15:26:32Z
class:
src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
comments:
Java Api: remove unused private static class PartialField from SearchSourceBuilder

Partial fields have been removed from master a while ago, this is a leftover.

time:
2015-04-29T15:10:19Z
class:
src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
src/test/java/org/elasticsearch/gateway/GatewayMetaStateTests.java
src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesTests.java
comments:
Merge branch 'master' into feature/aggs_2_0

time:
2015-04-29T15:07:07Z
class:
src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
src/test/java/org/elasticsearch/gateway/GatewayMetaStateTests.java
src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesTests.java
comments:
Revert "Write state also on data nodes if not master eligible"

This reverts commit 4088dd38cbff19462e610db853ba1e54ee9785e4.

time:
2015-04-29T15:04:29Z
class:
src/test/java/org/elasticsearch/search/aggregations/reducers/moving/avg/MovAvgTests.java
comments:
Muted intermittently failing tests

To reproduce the failures use `-Dtests.seed=D9EF60095522804F`

time:
2015-04-29T14:53:16Z
class:
comments:
Docs: add notes about using close and awaitClose with bulk processor

Closes #10839

time:
2015-04-29T14:49:41Z
class:
src/main/java/org/apache/lucene/analysis/PrefixAnalyzer.java
src/main/java/org/apache/lucene/queries/BlendedTermQuery.java
src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
src/main/java/org/apache/lucene/search/postingshighlight/XPostingsHighlighter.java
src/main/java/org/apache/lucene/search/vectorhighlight/CustomFieldQuery.java
src/main/java/org/apache/lucene/spatial/prefix/RecursivePrefixTreeStrategy.java
src/main/java/org/apache/lucene/spatial/prefix/tree/CellIterator.java
src/main/java/org/apache/lucene/spatial/prefix/tree/LegacyCell.java
src/main/java/org/apache/lucene/spatial/prefix/tree/PackedQuadPrefixTree.java
src/main/java/org/apache/lucene/spatial/prefix/tree/QuadPrefixTree.java
src/main/java/org/apache/lucene/store/StoreRateLimiting.java
src/main/java/org/elasticsearch/ElasticsearchException.java
src/main/java/org/elasticsearch/ExceptionsHelper.java
src/main/java/org/elasticsearch/Version.java
src/main/java/org/elasticsearch/action/ActionFuture.java
src/main/java/org/elasticsearch/action/ActionListenerResponseHandler.java
src/main/java/org/elasticsearch/action/ActionModule.java
src/main/java/org/elasticsearch/action/ActionRequestBuilder.java
src/main/java/org/elasticsearch/action/ActionRequestValidationException.java
src/main/java/org/elasticsearch/action/ActionWriteResponse.java
src/main/java/org/elasticsearch/action/ThreadingModel.java
src/main/java/org/elasticsearch/action/WriteConsistencyLevel.java
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthStatus.java
src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/TransportLivenessAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/shutdown/NodesShutdownRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/node/shutdown/NodesShutdownRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/node/shutdown/TransportNodesShutdownAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/TransportDeleteRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/TransportGetRepositoriesAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/TransportPutRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/TransportVerifyRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/TransportRestoreSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexShardStage.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexShardStatus.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotShardsStats.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/tasks/TransportPendingClusterTasksAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/Alias.java
src/main/java/org/elasticsearch/action/admin/indices/alias/TransportIndicesAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/exists/TransportAliasesExistAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/create/TransportCreateIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/TransportIndicesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/get/TransportGetIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetMappingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequest.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
src/main/java/org/elasticsearch/action/admin/indices/open/TransportOpenIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/get/TransportGetSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/put/TransportUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/TransportDeleteIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/TransportGetIndexTemplatesAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/TransportPutIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryRequest.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequest.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/get/TransportGetWarmersAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java
src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java
src/main/java/org/elasticsearch/action/bulk/BulkProcessor.java
src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/count/CountRequest.java
src/main/java/org/elasticsearch/action/count/CountRequestBuilder.java
src/main/java/org/elasticsearch/action/count/TransportCountAction.java
src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequest.java
src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequestBuilder.java
src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryResponse.java
src/main/java/org/elasticsearch/action/deletebyquery/IndexDeleteByQueryRequest.java
src/main/java/org/elasticsearch/action/deletebyquery/ShardDeleteByQueryRequest.java
src/main/java/org/elasticsearch/action/deletebyquery/ShardDeleteByQueryResponse.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportIndexDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportShardDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/deletebyquery/package-info.java
src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStats.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsAction.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequest.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsResponse.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardRequest.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardResponse.java
src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
src/main/java/org/elasticsearch/action/get/MultiGetRequest.java
src/main/java/org/elasticsearch/action/get/TransportGetAction.java
src/main/java/org/elasticsearch/action/get/TransportMultiGetAction.java
src/main/java/org/elasticsearch/action/get/TransportShardMultiGetAction.java
src/main/java/org/elasticsearch/action/index/IndexRequest.java
src/main/java/org/elasticsearch/action/index/IndexResponse.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/action/indexedscripts/delete/TransportDeleteIndexedScriptAction.java
src/main/java/org/elasticsearch/action/indexedscripts/get/TransportGetIndexedScriptAction.java
src/main/java/org/elasticsearch/action/indexedscripts/put/TransportPutIndexedScriptAction.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequest.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequestBuilder.java
src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java
src/main/java/org/elasticsearch/action/percolate/MultiPercolateRequest.java
src/main/java/org/elasticsearch/action/percolate/TransportMultiPercolateAction.java
src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
src/main/java/org/elasticsearch/action/percolate/TransportShardMultiPercolateAction.java
src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
src/main/java/org/elasticsearch/action/search/SearchPhaseExecutionException.java
src/main/java/org/elasticsearch/action/search/SearchRequest.java
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/action/search/SearchType.java
src/main/java/org/elasticsearch/action/search/ShardSearchFailure.java
src/main/java/org/elasticsearch/action/search/TransportClearScrollAction.java
src/main/java/org/elasticsearch/action/search/TransportMultiSearchAction.java
src/main/java/org/elasticsearch/action/search/TransportSearchAction.java
src/main/java/org/elasticsearch/action/search/TransportSearchScrollAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchCountAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryAndFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryThenFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchHelper.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchQueryAndFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchQueryThenFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchScanAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryAndFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryThenFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollScanAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
src/main/java/org/elasticsearch/action/support/AdapterActionFuture.java
comments:
Merge branch 'master' into feature/aggs_2_0

# Conflicts:
#	src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
#	src/main/java/org/elasticsearch/search/aggregations/AggregationModule.java
#	src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
#	src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
#	src/main/java/org/elasticsearch/search/aggregations/InternalMultiBucketAggregation.java
#	src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregator.java
#	src/main/java/org/elasticsearch/search/aggregations/metrics/InternalNumericMetricsAggregation.java
#	src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTest.java

time:
2015-04-29T14:43:11Z
class:
src/main/java/org/elasticsearch/client/transport/TransportClient.java
src/test/java/org/elasticsearch/action/bulk/BulkProcessorTests.java
src/test/java/org/elasticsearch/action/count/CountRequestBuilderTests.java
src/test/java/org/elasticsearch/action/search/SearchRequestBuilderTests.java
src/test/java/org/elasticsearch/client/AbstractClientHeadersTests.java
src/test/java/org/elasticsearch/client/transport/TransportClientHeadersTests.java
src/test/java/org/elasticsearch/common/cli/CheckFileCommandTests.java
src/test/java/org/elasticsearch/common/logging/log4j/Log4jESLoggerTests.java
src/test/java/org/elasticsearch/common/logging/log4j/LoggingConfigurationTests.java
src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
src/test/java/org/elasticsearch/index/analysis/CharFilterTests.java
src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
src/test/java/org/elasticsearch/index/analysis/PatternCaptureTokenFilterTests.java
src/test/java/org/elasticsearch/index/analysis/StopAnalyzerTests.java
src/test/java/org/elasticsearch/index/query/TemplateQueryParserTest.java
src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
src/test/java/org/elasticsearch/script/ScriptServiceTests.java
src/test/java/org/elasticsearch/stresstest/client/ClientFailover.java
src/test/java/org/elasticsearch/stresstest/manyindices/ManyIndicesRemoteStressTest.java
src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortIntegrationTests.java
comments:
nuke more cwd usage

time:
2015-04-29T14:02:46Z
class:
src/main/java/org/elasticsearch/common/xcontent/XContentLocation.java
src/main/java/org/elasticsearch/common/xcontent/XContentParser.java
src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentParser.java
src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
src/main/java/org/elasticsearch/index/query/AndFilterParser.java
src/main/java/org/elasticsearch/index/query/BoolFilterParser.java
src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
src/main/java/org/elasticsearch/index/query/BoostingQueryParser.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
src/main/java/org/elasticsearch/index/query/ExistsFilterParser.java
src/main/java/org/elasticsearch/index/query/FQueryFilterParser.java
src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryParser.java
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeohashCellFilter.java
src/main/java/org/elasticsearch/index/query/HasChildFilterParser.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentFilterParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/IdsFilterParser.java
src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
src/main/java/org/elasticsearch/index/query/IndicesFilterParser.java
src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
src/main/java/org/elasticsearch/index/query/LimitFilterParser.java
src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
src/main/java/org/elasticsearch/index/query/MissingFilterParser.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
src/main/java/org/elasticsearch/index/query/NestedFilterParser.java
src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
src/main/java/org/elasticsearch/index/query/NotFilterParser.java
src/main/java/org/elasticsearch/index/query/OrFilterParser.java
src/main/java/org/elasticsearch/index/query/PrefixFilterParser.java
src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/query/QueryParsingException.java
src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
src/main/java/org/elasticsearch/index/query/RangeFilterParser.java
src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
src/main/java/org/elasticsearch/index/query/RegexpFilterParser.java
src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
src/main/java/org/elasticsearch/index/query/ScriptFilterParser.java
src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
src/main/java/org/elasticsearch/index/query/SpanFirstQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanNotQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanOrQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
src/main/java/org/elasticsearch/index/query/TermFilterParser.java
src/main/java/org/elasticsearch/index/query/TermQueryParser.java
src/main/java/org/elasticsearch/index/query/TermsFilterParser.java
src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryParser.java
src/main/java/org/elasticsearch/index/query/TypeFilterParser.java
src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
src/main/java/org/elasticsearch/index/query/WrapperFilterParser.java
src/main/java/org/elasticsearch/index/query/WrapperQueryParser.java
src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParserMapper.java
src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionParser.java
src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionParser.java
src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionParser.java
src/main/java/org/elasticsearch/index/query/support/InnerHitsQueryParserHelper.java
src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
src/main/java/org/elasticsearch/search/SearchParseException.java
src/main/java/org/elasticsearch/search/SearchService.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/ChildrenParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/ExtendedBounds.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/missing/MissingParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/DateRangeParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IpRangeParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/SamplerParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParametersParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsParametersParser.java
src/main/java/org/elasticsearch/search/aggregations/metrics/NumericValuesSourceMetricsAggregatorParser.java
src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityParser.java
src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/GeoBoundsParser.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractPercentilesParser.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksParser.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricParser.java
src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/ExtendedStatsParser.java
src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsParser.java
src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/ValueCountParser.java
src/main/java/org/elasticsearch/search/aggregations/support/GeoPointParser.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceParser.java
src/main/java/org/elasticsearch/search/highlight/HighlighterParseElement.java
src/main/java/org/elasticsearch/search/query/FromParseElement.java
src/main/java/org/elasticsearch/search/query/SizeParseElement.java
src/main/java/org/elasticsearch/search/sort/ScriptSortParser.java
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
src/test/java/org/elasticsearch/ElasticsearchExceptionTests.java
src/test/java/org/elasticsearch/index/query/TestQueryParsingException.java
src/test/java/org/elasticsearch/rest/BytesRestResponseTests.java
comments:
Query enhancement: return positions of parse errors found in JSON
Extend SearchParseException and QueryParsingException to report position information in query JSON where errors were found. All query DSL parser classes that throw these exception types now pass the underlying position information (line and column number) at the point the error was found.

Closes #3303

time:
2015-04-29T13:59:24Z
class:
comments:
Docs: Add documentation for the `doc_values` setting on the `boolean` field type.

Close #10431

time:
2015-04-29T13:55:20Z
class:
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/test/java/org/elasticsearch/percolator/PercolatorFacetsAndAggregationsTests.java
comments:
fixed issue with eggs in percolation request for 1 shard

time:
2015-04-29T13:44:43Z
class:
src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
comments:
[TEST] remove source parameter validation from REST tests runner

source parameter is implicitly supported and doesn't need to be declared in rest spec. It is tested though, as every api that supports get with body can also get requests using POST with body or get with source query_string parameter.

time:
2015-04-29T13:44:37Z
class:
src/main/java/org/elasticsearch/env/Environment.java
src/test/java/org/elasticsearch/index/analysis/ASCIIFoldingTokenFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
src/test/java/org/elasticsearch/index/analysis/AnalysisTestsHelper.java
src/test/java/org/elasticsearch/index/analysis/AnalyzerBackwardsCompatTests.java
src/test/java/org/elasticsearch/index/analysis/CJKFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/HunspellTokenFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/KeepFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/KeepTypesFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/LimitTokenCountFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/ShingleTokenFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/StemmerTokenFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/StopTokenFilterTests.java
src/test/java/org/elasticsearch/index/analysis/WordDelimiterTokenFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/commongrams/CommonGramsTokenFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTest.java
comments:
fix CWD usage in analysis tests

time:
2015-04-29T13:27:21Z
class:
src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
src/test/java/org/elasticsearch/gateway/GatewayMetaStateTests.java
src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesTests.java
comments:
Write state also on data nodes if not master eligible

When a node was a data node only then the index state was not written.
In case this node connected to a master that did not have the index
in the cluster state, for example because a master was restarted and
the data folder was lost, then the indices were not imported as dangling
but instead deleted.
This commit makes sure that index state for data nodes is also written
if they have at least one shard of this index allocated.

closes #8823
closes #9952

time:
2015-04-29T13:15:18Z
class:
src/main/java/org/apache/lucene/analysis/PrefixAnalyzer.java
src/main/java/org/apache/lucene/store/StoreRateLimiting.java
src/main/java/org/elasticsearch/ElasticsearchException.java
src/main/java/org/elasticsearch/ElasticsearchIllegalArgumentException.java
src/main/java/org/elasticsearch/ElasticsearchIllegalStateException.java
src/main/java/org/elasticsearch/Version.java
src/main/java/org/elasticsearch/action/ActionFuture.java
src/main/java/org/elasticsearch/action/ActionModule.java
src/main/java/org/elasticsearch/action/ActionRequestBuilder.java
src/main/java/org/elasticsearch/action/ActionRequestValidationException.java
src/main/java/org/elasticsearch/action/ThreadingModel.java
src/main/java/org/elasticsearch/action/WriteConsistencyLevel.java
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthStatus.java
src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/TransportDeleteRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/TransportGetRepositoriesAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/TransportPutRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/TransportVerifyRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/TransportRestoreSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexShardStage.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexShardStatus.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotShardsStats.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/tasks/TransportPendingClusterTasksAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/Alias.java
src/main/java/org/elasticsearch/action/admin/indices/alias/TransportIndicesAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/exists/TransportAliasesExistAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/create/TransportCreateIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/TransportIndicesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/get/TransportGetIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetMappingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequest.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
src/main/java/org/elasticsearch/action/admin/indices/open/TransportOpenIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/get/TransportGetSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/put/TransportUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/TransportDeleteIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/TransportGetIndexTemplatesAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/TransportPutIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/get/TransportGetWarmersAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java
src/main/java/org/elasticsearch/action/bulk/BulkProcessor.java
src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/count/CountRequest.java
src/main/java/org/elasticsearch/action/count/CountRequestBuilder.java
src/main/java/org/elasticsearch/action/count/TransportCountAction.java
src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryAction.java
src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequest.java
src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequestBuilder.java
src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryResponse.java
src/main/java/org/elasticsearch/action/deletebyquery/IndexDeleteByQueryRequest.java
src/main/java/org/elasticsearch/action/deletebyquery/IndexDeleteByQueryResponse.java
src/main/java/org/elasticsearch/action/deletebyquery/ShardDeleteByQueryRequest.java
src/main/java/org/elasticsearch/action/deletebyquery/ShardDeleteByQueryResponse.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportIndexDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportShardDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/deletebyquery/package-info.java
src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
src/main/java/org/elasticsearch/action/get/MultiGetRequest.java
src/main/java/org/elasticsearch/action/get/TransportGetAction.java
src/main/java/org/elasticsearch/action/get/TransportShardMultiGetAction.java
src/main/java/org/elasticsearch/action/index/IndexRequest.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequest.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequestBuilder.java
src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java
src/main/java/org/elasticsearch/action/percolate/MultiPercolateRequest.java
src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
src/main/java/org/elasticsearch/action/percolate/TransportShardMultiPercolateAction.java
src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
src/main/java/org/elasticsearch/action/search/SearchRequest.java
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/action/search/SearchType.java
src/main/java/org/elasticsearch/action/search/TransportSearchAction.java
src/main/java/org/elasticsearch/action/search/TransportSearchScrollAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchHelper.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
src/main/java/org/elasticsearch/action/support/AdapterActionFuture.java
src/main/java/org/elasticsearch/action/support/DestructiveOperations.java
src/main/java/org/elasticsearch/action/support/IndicesOptions.java
src/main/java/org/elasticsearch/action/support/QuerySourceBuilder.java
src/main/java/org/elasticsearch/action/support/TransportAction.java
src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastOperationAction.java
src/main/java/org/elasticsearch/action/support/master/info/TransportClusterInfoAction.java
src/main/java/org/elasticsearch/action/support/nodes/TransportNodesOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/IndexReplicationOperationRequest.java
src/main/java/org/elasticsearch/action/support/replication/IndicesReplicationOperationRequest.java
src/main/java/org/elasticsearch/action/support/replication/IndicesReplicationOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/replication/TransportIndexReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportIndicesReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/single/custom/TransportSingleCustomOperationAction.java
src/main/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationAction.java
src/main/java/org/elasticsearch/action/support/single/shard/TransportShardSingleOperationAction.java
src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsRequest.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsResponse.java
src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
src/main/java/org/elasticsearch/action/termvectors/dfs/TransportDfsOnlyAction.java
src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
src/main/java/org/elasticsearch/action/update/UpdateHelper.java
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/Security.java
src/main/java/org/elasticsearch/cache/recycler/PageCacheRecycler.java
src/main/java/org/elasticsearch/client/Client.java
src/main/java/org/elasticsearch/client/Requests.java
src/main/java/org/elasticsearch/client/support/AbstractClient.java
src/main/java/org/elasticsearch/client/transport/TransportClient.java
src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
src/main/java/org/elasticsearch/cluster/ClusterService.java
src/main/java/org/elasticsearch/cluster/ClusterState.java
src/main/java/org/elasticsearch/cluster/action/index/MappingUpdatedAction.java
src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
src/main/java/org/elasticsearch/cluster/action/index/NodeMappingRefreshAction.java
src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
src/main/java/org/elasticsearch/cluster/block/ClusterBlock.java
src/main/java/org/elasticsearch/cluster/block/ClusterBlockLevel.java
src/main/java/org/elasticsearch/cluster/metadata/AliasAction.java
src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
src/main/java/org/elasticsearch/cluster/metadata/RestoreMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/SnapshotMetaData.java
src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
src/main/java/org/elasticsearch/cluster/routing/Preference.java
src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java
src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
src/main/java/org/elasticsearch/cluster/routing/ShardRoutingState.java
src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateAllocationCommand.java
src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommand.java
src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommands.java
src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
src/main/java/org/elasticsearch/cluster/routing/allocation/command/MoveAllocationCommand.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ClusterRebalanceAllocationDecider.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/Decision.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationDecider.java
src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
src/main/java/org/elasticsearch/cluster/settings/ClusterDynamicSettingsModule.java
src/main/java/org/elasticsearch/common/Booleans.java
src/main/java/org/elasticsearch/common/ParseField.java
src/main/java/org/elasticsearch/common/PidFile.java
src/main/java/org/elasticsearch/common/Preconditions.java
src/main/java/org/elasticsearch/common/Priority.java
src/main/java/org/elasticsearch/common/RandomBasedUUIDGenerator.java
src/main/java/org/elasticsearch/common/Table.java
src/main/java/org/elasticsearch/common/TimeBasedUUIDGenerator.java
src/main/java/org/elasticsearch/common/breaker/CircuitBreaker.java
src/main/java/org/elasticsearch/common/bytes/BytesArray.java
src/main/java/org/elasticsearch/common/bytes/PagedBytesReference.java
src/main/java/org/elasticsearch/common/bytes/ReleasablePagedBytesReference.java
src/main/java/org/elasticsearch/common/cli/CliTool.java
src/main/java/org/elasticsearch/common/collect/CopyOnWriteHashMap.java
src/main/java/org/elasticsearch/common/collect/HppcMaps.java
src/main/java/org/elasticsearch/common/component/AbstractLifecycleComponent.java
src/main/java/org/elasticsearch/common/component/Lifecycle.java
src/main/java/org/elasticsearch/common/component/LifecycleComponent.java
src/main/java/org/elasticsearch/common/geo/GeoDistance.java
src/main/java/org/elasticsearch/common/geo/GeoHashUtils.java
src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
src/main/java/org/elasticsearch/common/io/Streams.java
src/main/java/org/elasticsearch/common/lease/Releasable.java
src/main/java/org/elasticsearch/common/lease/Releasables.java
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/common/lucene/all/AllEntries.java
src/main/java/org/elasticsearch/common/lucene/docset/DocIdSets.java
src/main/java/org/elasticsearch/common/lucene/index/FilterableTermsEnum.java
src/main/java/org/elasticsearch/common/lucene/index/FreqTermsEnum.java
src/main/java/org/elasticsearch/common/lucene/search/function/FieldValueFactorFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/WeightFactorFunction.java
src/main/java/org/elasticsearch/common/property/PropertyPlaceholder.java
src/main/java/org/elasticsearch/common/recycler/DequeRecycler.java
src/main/java/org/elasticsearch/common/recycler/NoneRecycler.java
src/main/java/org/elasticsearch/common/recycler/Recyclers.java
src/main/java/org/elasticsearch/common/regex/Regex.java
src/main/java/org/elasticsearch/common/rounding/TimeZoneRounding.java
src/main/java/org/elasticsearch/common/settings/ImmutableSettings.java
src/main/java/org/elasticsearch/common/transport/TransportAddressSerializers.java
src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java
src/main/java/org/elasticsearch/common/unit/DistanceUnit.java
src/main/java/org/elasticsearch/common/unit/Fuzziness.java
src/main/java/org/elasticsearch/common/unit/SizeValue.java
src/main/java/org/elasticsearch/common/util/BigArrays.java
src/main/java/org/elasticsearch/common/util/BloomFilter.java
src/main/java/org/elasticsearch/common/util/CollectionUtils.java
src/main/java/org/elasticsearch/common/util/LocaleUtils.java
src/main/java/org/elasticsearch/common/util/LongObjectPagedHashMap.java
src/main/java/org/elasticsearch/common/util/MultiDataPathUpgrader.java
src/main/java/org/elasticsearch/common/util/concurrent/CountDown.java
src/main/java/org/elasticsearch/common/util/concurrent/EsAbortPolicy.java
src/main/java/org/elasticsearch/common/util/concurrent/EsThreadPoolExecutor.java
src/main/java/org/elasticsearch/common/util/concurrent/KeyedLock.java
src/main/java/org/elasticsearch/common/util/concurrent/SizeBlockingQueue.java
src/main/java/org/elasticsearch/common/util/concurrent/UncategorizedExecutionException.java
src/main/java/org/elasticsearch/common/xcontent/XContentFactory.java
src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentParser.java
src/main/java/org/elasticsearch/discovery/DiscoveryService.java
src/main/java/org/elasticsearch/discovery/DiscoverySettings.java
src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
src/main/java/org/elasticsearch/discovery/zen/NotMasterException.java
src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
src/main/java/org/elasticsearch/discovery/zen/fd/NodesFaultDetection.java
src/main/java/org/elasticsearch/discovery/zen/membership/MembershipAction.java
src/main/java/org/elasticsearch/discovery/zen/ping/ZenPing.java
src/main/java/org/elasticsearch/discovery/zen/ping/ZenPingService.java
src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java
src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
src/main/java/org/elasticsearch/env/NodeEnvironment.java
src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
src/main/java/org/elasticsearch/gateway/GatewayService.java
src/main/java/org/elasticsearch/gateway/MetaDataStateFormat.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
src/main/java/org/elasticsearch/http/HttpServer.java
src/main/java/org/elasticsearch/http/HttpServerModule.java
src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
src/main/java/org/elasticsearch/index/IndexException.java
src/main/java/org/elasticsearch/index/IndexService.java
src/main/java/org/elasticsearch/index/VersionType.java
src/main/java/org/elasticsearch/index/analysis/Analysis.java
comments:
Merge branch 'master' into die_cwd_die

time:
2015-04-29T13:14:23Z
class:
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregator.java
comments:
Other indentation fixes

time:
2015-04-29T13:12:31Z
class:
comments:
Docs: Removed a reference to index_name from the array mapping page

time:
2015-04-29T13:10:19Z
class:
src/main/java/org/elasticsearch/env/Environment.java
src/main/java/org/elasticsearch/indices/analysis/HunspellService.java
src/test/java/org/elasticsearch/indices/analyze/HunspellServiceTests.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
first strike against crazy CWD usages

time:
2015-04-29T13:06:58Z
class:
src/main/java/org/elasticsearch/search/aggregations/bucket/SingleBucketAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/ParentToChildrenAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/global/GlobalAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/InternalHistogram.java
src/main/java/org/elasticsearch/search/aggregations/bucket/missing/MissingAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/GlobalOrdinalsSignificantTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantLongTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantStringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/DoubleTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/LongTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/StringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/metrics/avg/AvgAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/GeoBoundsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/InternalGeoBounds.java
src/main/java/org/elasticsearch/search/aggregations/metrics/max/MaxAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/min/MinAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractPercentilesAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/InternalScriptedMetric.java
src/main/java/org/elasticsearch/search/aggregations/metrics/stats/StatsAggegator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/InternalExtendedStats.java
src/main/java/org/elasticsearch/search/aggregations/metrics/sum/SumAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/ValueCountAggregator.java
comments:
Fix some indentation issues.

time:
2015-04-29T12:45:25Z
class:
comments:
Docs: adding missing single quote on PUT index request

Closes #10876

time:
2015-04-29T12:32:16Z
class:
comments:
Docs: Add a Requirements section to the README mentioning recent Java

Closes #10858

time:
2015-04-29T12:01:47Z
class:
comments:
[API] remove global parameter source from individual APIs

Same way we don't define pretty anywhere, we shouldn't have source

time:
2015-04-29T11:51:49Z
class:
src/main/java/org/elasticsearch/discovery/ec2/Ec2Discovery.java
src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryUpdateSettingsITest.java
comments:
Fix non working update dynamic settings

Described in https://github.com/elastic/elasticsearch/issues/10614, it's not possible with cloud discovery plugin to update dynamic settings anymore.

```sh
curl -XPUT localhost:9200/_cluster/settings -d '{
    "persistent" : {
        "discovery.zen.minimum_master_nodes" : 3
    },
    "transient" : {
        "discovery.zen.minimum_master_nodes" : 3
    }
}'
```

gives

```json
{"acknowledged":true,"persistent":{},"transient":{}}
```

This patch makes that working again.

(cherry picked from commit 37d6897)
(cherry picked from commit 7a8c7b0ed5601dc71b8d3376cd197b8e0db2bbbd)

Conflicts:
	src/main/java/org/elasticsearch/discovery/ec2/Ec2Discovery.java

time:
2015-04-29T10:55:23Z
class:
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/common/Preconditions.java
src/main/java/org/elasticsearch/common/collect/CopyOnWriteHashMap.java
src/main/java/org/elasticsearch/common/io/Streams.java
src/main/java/org/elasticsearch/common/property/PropertyPlaceholder.java
src/main/java/org/elasticsearch/common/unit/Fuzziness.java
src/main/java/org/elasticsearch/common/unit/SizeValue.java
src/main/java/org/elasticsearch/common/util/CollectionUtils.java
src/main/java/org/elasticsearch/gateway/MetaDataStateFormat.java
src/main/java/org/elasticsearch/http/HttpServerModule.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/merge/policy/LogByteSizeMergePolicyProvider.java
src/main/java/org/elasticsearch/index/merge/policy/LogDocMergePolicyProvider.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/transport/TransportModule.java
comments:
Merge pull request #10873 from kimchy/remove_preconditions

Remove Preconditions class

time:
2015-04-29T10:26:44Z
class:
src/main/java/org/elasticsearch/cloud/gce/GceComputeServiceImpl.java
comments:
Remove `ElasticsearchIllegalArgumentException` and `ElasticsearchIllegalStateException` in favor of the JDK one

Related to https://github.com/elastic/elasticsearch/issues/10794

Closes #51.

time:
2015-04-29T10:21:27Z
class:
src/main/java/org/elasticsearch/discovery/azure/AzureDiscovery.java
comments:
Fix non working update dynamic settings

Described in https://github.com/elastic/elasticsearch/issues/10614, it's not possible with cloud discovery plugin to update dynamic settings anymore.

```sh
curl -XPUT localhost:9200/_cluster/settings -d '{
    "persistent" : {
        "discovery.zen.minimum_master_nodes" : 3
    },
    "transient" : {
        "discovery.zen.minimum_master_nodes" : 3
    }
}'
```

gives

```json
{"acknowledged":true,"persistent":{},"transient":{}}
```

Closes #80.
(cherry picked from commit 7749055)
(cherry picked from commit 82bea69ef0f24c5f60a68bd823f638890b984691)

Conflicts:
	src/main/java/org/elasticsearch/discovery/azure/AzureDiscovery.java

time:
2015-04-29T10:13:55Z
class:
src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreITest.java
comments:
[test] testSimpleWorkflow() and testListBlobs_26() use same snapshot name

`testSimpleWorkflow()` and `testListBlobs_26()` use same `test-snap` snapshot name.

So we might get this issue:

```
2015-04-29 12:02:47,279 WARN  snapshots - [node_s0] failed to create snapshot [test-repo:test-snap]
InvalidSnapshotNameException[[test-repo:test-snap] Invalid snapshot name [test-snap], snapshot with such name already exists]
	at org.elasticsearch.repositories.blobstore.BlobStoreRepository.initializeSnapshot(BlobStoreRepository.java:228)
	at org.elasticsearch.repositories.azure.AzureRepository.initializeSnapshot(AzureRepository.java:148)
	at org.elasticsearch.snapshots.SnapshotsService.beginSnapshot(SnapshotsService.java:303)
	at org.elasticsearch.snapshots.SnapshotsService.access$500(SnapshotsService.java:88)
	at org.elasticsearch.snapshots.SnapshotsService$1$1.run(SnapshotsService.java:229)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
```

Closes #85.

time:
2015-04-29T10:00:55Z
class:
src/main/java/org/elasticsearch/index/store/smbmmapfs/SmbMmapFsDirectoryService.java
src/main/java/org/elasticsearch/index/store/smbmmapfs/SmbMmapFsIndexStore.java
src/main/java/org/elasticsearch/index/store/smbsimplefs/SmbSimpleFsDirectoryService.java
src/main/java/org/elasticsearch/index/store/smbsimplefs/SmbSimpleFsIndexStore.java
comments:
[core] Simplify IndexStore and friends

Related to https://github.com/elastic/elasticsearch/pull/10773

Closes #81.

time:
2015-04-29T09:54:19Z
class:
src/main/java/org/apache/lucene/analysis/PrefixAnalyzer.java
src/main/java/org/apache/lucene/store/StoreRateLimiting.java
src/main/java/org/elasticsearch/ElasticsearchException.java
src/main/java/org/elasticsearch/ElasticsearchIllegalArgumentException.java
src/main/java/org/elasticsearch/ElasticsearchIllegalStateException.java
src/main/java/org/elasticsearch/Version.java
src/main/java/org/elasticsearch/action/ActionFuture.java
src/main/java/org/elasticsearch/action/ActionModule.java
src/main/java/org/elasticsearch/action/ActionRequestBuilder.java
src/main/java/org/elasticsearch/action/ActionRequestValidationException.java
src/main/java/org/elasticsearch/action/ThreadingModel.java
src/main/java/org/elasticsearch/action/WriteConsistencyLevel.java
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthStatus.java
src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/shutdown/NodesShutdownAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/shutdown/NodesShutdownRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/node/shutdown/NodesShutdownRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/node/shutdown/NodesShutdownResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/node/shutdown/TransportNodesShutdownAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/TransportDeleteRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/TransportGetRepositoriesAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/TransportPutRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/TransportVerifyRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/TransportRestoreSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexShardStage.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexShardStatus.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotShardsStats.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/tasks/TransportPendingClusterTasksAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/Alias.java
src/main/java/org/elasticsearch/action/admin/indices/alias/TransportIndicesAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/exists/TransportAliasesExistAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/create/TransportCreateIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/TransportIndicesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/get/TransportGetIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetMappingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequest.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
src/main/java/org/elasticsearch/action/admin/indices/open/TransportOpenIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/get/TransportGetSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/put/TransportUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/TransportDeleteIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/TransportGetIndexTemplatesAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/TransportPutIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/get/TransportGetWarmersAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java
src/main/java/org/elasticsearch/action/bulk/BulkProcessor.java
src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/count/CountRequest.java
src/main/java/org/elasticsearch/action/count/CountRequestBuilder.java
src/main/java/org/elasticsearch/action/count/TransportCountAction.java
src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryAction.java
src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequest.java
src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequestBuilder.java
src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryResponse.java
src/main/java/org/elasticsearch/action/deletebyquery/IndexDeleteByQueryRequest.java
src/main/java/org/elasticsearch/action/deletebyquery/IndexDeleteByQueryResponse.java
src/main/java/org/elasticsearch/action/deletebyquery/ShardDeleteByQueryRequest.java
src/main/java/org/elasticsearch/action/deletebyquery/ShardDeleteByQueryResponse.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportIndexDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportShardDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/deletebyquery/package-info.java
src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
src/main/java/org/elasticsearch/action/get/MultiGetRequest.java
src/main/java/org/elasticsearch/action/get/TransportGetAction.java
src/main/java/org/elasticsearch/action/get/TransportShardMultiGetAction.java
src/main/java/org/elasticsearch/action/index/IndexRequest.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequest.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequestBuilder.java
src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java
src/main/java/org/elasticsearch/action/percolate/MultiPercolateRequest.java
src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
src/main/java/org/elasticsearch/action/percolate/TransportShardMultiPercolateAction.java
src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
src/main/java/org/elasticsearch/action/search/SearchRequest.java
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/action/search/SearchType.java
src/main/java/org/elasticsearch/action/search/TransportSearchAction.java
src/main/java/org/elasticsearch/action/search/TransportSearchScrollAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchHelper.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
src/main/java/org/elasticsearch/action/support/AdapterActionFuture.java
src/main/java/org/elasticsearch/action/support/DestructiveOperations.java
src/main/java/org/elasticsearch/action/support/IndicesOptions.java
src/main/java/org/elasticsearch/action/support/QuerySourceBuilder.java
src/main/java/org/elasticsearch/action/support/TransportAction.java
src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastOperationAction.java
src/main/java/org/elasticsearch/action/support/master/info/TransportClusterInfoAction.java
src/main/java/org/elasticsearch/action/support/nodes/TransportNodesOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/IndexReplicationOperationRequest.java
src/main/java/org/elasticsearch/action/support/replication/IndicesReplicationOperationRequest.java
src/main/java/org/elasticsearch/action/support/replication/IndicesReplicationOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/replication/TransportIndexReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportIndicesReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/single/custom/TransportSingleCustomOperationAction.java
src/main/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationAction.java
src/main/java/org/elasticsearch/action/support/single/shard/TransportShardSingleOperationAction.java
src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsRequest.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsResponse.java
src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
src/main/java/org/elasticsearch/action/termvectors/dfs/TransportDfsOnlyAction.java
src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
src/main/java/org/elasticsearch/action/update/UpdateHelper.java
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/Security.java
src/main/java/org/elasticsearch/cache/recycler/PageCacheRecycler.java
src/main/java/org/elasticsearch/client/Client.java
src/main/java/org/elasticsearch/client/ClusterAdminClient.java
src/main/java/org/elasticsearch/client/Requests.java
src/main/java/org/elasticsearch/client/support/AbstractClient.java
src/main/java/org/elasticsearch/client/support/AbstractClusterAdminClient.java
src/main/java/org/elasticsearch/client/transport/TransportClient.java
src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
src/main/java/org/elasticsearch/cluster/ClusterService.java
src/main/java/org/elasticsearch/cluster/ClusterState.java
src/main/java/org/elasticsearch/cluster/action/index/MappingUpdatedAction.java
src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
src/main/java/org/elasticsearch/cluster/action/index/NodeMappingRefreshAction.java
src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
src/main/java/org/elasticsearch/cluster/block/ClusterBlock.java
src/main/java/org/elasticsearch/cluster/block/ClusterBlockLevel.java
src/main/java/org/elasticsearch/cluster/metadata/AliasAction.java
src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
src/main/java/org/elasticsearch/cluster/metadata/RestoreMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/SnapshotMetaData.java
src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
src/main/java/org/elasticsearch/cluster/routing/Preference.java
src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java
src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
src/main/java/org/elasticsearch/cluster/routing/ShardRoutingState.java
src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateAllocationCommand.java
src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommand.java
src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommands.java
src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
src/main/java/org/elasticsearch/cluster/routing/allocation/command/MoveAllocationCommand.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ClusterRebalanceAllocationDecider.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/Decision.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationDecider.java
src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
src/main/java/org/elasticsearch/cluster/settings/ClusterDynamicSettingsModule.java
src/main/java/org/elasticsearch/common/Booleans.java
src/main/java/org/elasticsearch/common/ParseField.java
src/main/java/org/elasticsearch/common/PidFile.java
src/main/java/org/elasticsearch/common/Preconditions.java
src/main/java/org/elasticsearch/common/Priority.java
src/main/java/org/elasticsearch/common/RandomBasedUUIDGenerator.java
src/main/java/org/elasticsearch/common/Table.java
src/main/java/org/elasticsearch/common/TimeBasedUUIDGenerator.java
src/main/java/org/elasticsearch/common/breaker/CircuitBreaker.java
src/main/java/org/elasticsearch/common/bytes/BytesArray.java
src/main/java/org/elasticsearch/common/bytes/PagedBytesReference.java
src/main/java/org/elasticsearch/common/bytes/ReleasablePagedBytesReference.java
src/main/java/org/elasticsearch/common/cli/CliTool.java
src/main/java/org/elasticsearch/common/collect/HppcMaps.java
src/main/java/org/elasticsearch/common/component/AbstractLifecycleComponent.java
src/main/java/org/elasticsearch/common/component/Lifecycle.java
src/main/java/org/elasticsearch/common/component/LifecycleComponent.java
src/main/java/org/elasticsearch/common/geo/GeoDistance.java
src/main/java/org/elasticsearch/common/geo/GeoHashUtils.java
src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
src/main/java/org/elasticsearch/common/lease/Releasable.java
src/main/java/org/elasticsearch/common/lease/Releasables.java
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/common/lucene/all/AllEntries.java
src/main/java/org/elasticsearch/common/lucene/docset/DocIdSets.java
src/main/java/org/elasticsearch/common/lucene/index/FilterableTermsEnum.java
src/main/java/org/elasticsearch/common/lucene/index/FreqTermsEnum.java
src/main/java/org/elasticsearch/common/lucene/search/function/FieldValueFactorFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/WeightFactorFunction.java
src/main/java/org/elasticsearch/common/recycler/DequeRecycler.java
src/main/java/org/elasticsearch/common/recycler/NoneRecycler.java
src/main/java/org/elasticsearch/common/recycler/Recyclers.java
src/main/java/org/elasticsearch/common/regex/Regex.java
src/main/java/org/elasticsearch/common/rounding/TimeZoneRounding.java
src/main/java/org/elasticsearch/common/settings/ImmutableSettings.java
src/main/java/org/elasticsearch/common/transport/TransportAddressSerializers.java
src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java
src/main/java/org/elasticsearch/common/unit/DistanceUnit.java
src/main/java/org/elasticsearch/common/unit/Fuzziness.java
src/main/java/org/elasticsearch/common/util/BigArrays.java
src/main/java/org/elasticsearch/common/util/BloomFilter.java
src/main/java/org/elasticsearch/common/util/LocaleUtils.java
src/main/java/org/elasticsearch/common/util/LongObjectPagedHashMap.java
src/main/java/org/elasticsearch/common/util/MultiDataPathUpgrader.java
src/main/java/org/elasticsearch/common/util/concurrent/CountDown.java
src/main/java/org/elasticsearch/common/util/concurrent/EsAbortPolicy.java
src/main/java/org/elasticsearch/common/util/concurrent/EsThreadPoolExecutor.java
src/main/java/org/elasticsearch/common/util/concurrent/KeyedLock.java
src/main/java/org/elasticsearch/common/util/concurrent/SizeBlockingQueue.java
src/main/java/org/elasticsearch/common/util/concurrent/UncategorizedExecutionException.java
src/main/java/org/elasticsearch/common/xcontent/XContentFactory.java
src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentParser.java
src/main/java/org/elasticsearch/discovery/DiscoveryService.java
src/main/java/org/elasticsearch/discovery/DiscoverySettings.java
src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
src/main/java/org/elasticsearch/discovery/zen/NotMasterException.java
src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
src/main/java/org/elasticsearch/discovery/zen/fd/NodesFaultDetection.java
src/main/java/org/elasticsearch/discovery/zen/membership/MembershipAction.java
src/main/java/org/elasticsearch/discovery/zen/ping/ZenPing.java
src/main/java/org/elasticsearch/discovery/zen/ping/ZenPingService.java
src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java
src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
src/main/java/org/elasticsearch/env/NodeEnvironment.java
src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
src/main/java/org/elasticsearch/gateway/GatewayService.java
src/main/java/org/elasticsearch/gateway/MetaDataStateFormat.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
src/main/java/org/elasticsearch/http/HttpServer.java
src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
src/main/java/org/elasticsearch/index/IndexException.java
src/main/java/org/elasticsearch/index/IndexService.java
src/main/java/org/elasticsearch/index/VersionType.java
src/main/java/org/elasticsearch/index/analysis/Analysis.java
src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
src/main/java/org/elasticsearch/index/analysis/ChineseAnalyzerProvider.java
src/main/java/org/elasticsearch/index/analysis/CommonGramsTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/EdgeNGramTokenizerFactory.java
src/main/java/org/elasticsearch/index/analysis/HunspellTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/KeepTypesFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/KeepWordFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/KeywordMarkerTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/LengthTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/LowerCaseTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/MappingCharFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/NGramTokenizerFactory.java
src/main/java/org/elasticsearch/index/analysis/PathHierarchyTokenizerFactory.java
src/main/java/org/elasticsearch/index/analysis/PatternAnalyzerProvider.java
comments:
Merge branch 'master' into feature/query-refactoring

Conflicts:
	src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
	src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
	src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
	src/main/java/org/elasticsearch/index/query/QueryBuilder.java
	src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java

time:
2015-04-29T09:52:09Z
class:
src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreITest.java
comments:
[test] ElasticsearchIntegrationTest#getContext() shortcut has been removed

Due to https://github.com/elastic/elasticsearch/pull/10656

Closes #84.

time:
2015-04-29T09:51:37Z
class:
src/main/java/org/elasticsearch/index/IndexService.java
src/main/java/org/elasticsearch/index/store/StoreModule.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
comments:
Add multi data.path to migration guide

this commit removes the obsolete settings for distributors and updates
the documentation on multiple data.path. It also adds an explain to the
migration guide.

Relates to #9498
Closes #10770

time:
2015-04-29T09:47:11Z
class:
src/test/java/org/elasticsearch/repositories/azure/AbstractAzureRepositoryServiceTest.java
src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreITest.java
comments:
[test] Cleanup Directory and Searcher mock code

Related to https://github.com/elastic/elasticsearch/pull/10853

Closes #83.

time:
2015-04-29T09:45:03Z
class:
src/main/java/org/elasticsearch/cloud/azure/AzureServiceDisableException.java
src/main/java/org/elasticsearch/cloud/azure/AzureServiceRemoteException.java
comments:
Remove `ElasticsearchIllegalArgumentException` and `ElasticsearchIllegalStateException` in favor of the JDK one

Related to https://github.com/elastic/elasticsearch/issues/10794

Closes #82.

time:
2015-04-29T09:37:32Z
class:
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/common/Preconditions.java
src/main/java/org/elasticsearch/common/collect/CopyOnWriteHashMap.java
src/main/java/org/elasticsearch/common/io/Streams.java
src/main/java/org/elasticsearch/common/property/PropertyPlaceholder.java
src/main/java/org/elasticsearch/common/unit/Fuzziness.java
src/main/java/org/elasticsearch/common/unit/SizeValue.java
src/main/java/org/elasticsearch/common/util/CollectionUtils.java
src/main/java/org/elasticsearch/gateway/MetaDataStateFormat.java
src/main/java/org/elasticsearch/http/HttpServerModule.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/merge/policy/LogByteSizeMergePolicyProvider.java
src/main/java/org/elasticsearch/index/merge/policy/LogDocMergePolicyProvider.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/transport/TransportModule.java
comments:
Remove Preconditions class
We don't need our own anymore, since we removed the Elasticsearch illegal argument exception

time:
2015-04-29T09:24:54Z
class:
src/test/java/org/elasticsearch/repositories/s3/AbstractS3SnapshotRestoreTest.java
comments:
[test] Cleanup Directory and Searcher mock code

Related to https://github.com/elastic/elasticsearch/pull/10853

Closes #205.

time:
2015-04-29T09:22:28Z
class:
src/main/java/org/elasticsearch/cloud/aws/AwsEc2Service.java
src/main/java/org/elasticsearch/cloud/aws/AwsSigner.java
src/main/java/org/elasticsearch/cloud/aws/InternalAwsS3Service.java
src/test/java/org/elasticsearch/cloud/aws/AWSSignersTest.java
comments:
Remove `ElasticsearchIllegalArgumentException` and `ElasticsearchIllegalStateException` in favor of the JDK one

Related to https://github.com/elastic/elasticsearch/issues/10794

Closes #204.

time:
2015-04-29T08:53:33Z
class:
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
comments:
added missing {

time:
2015-04-29T08:42:31Z
class:
src/main/java/org/apache/lucene/analysis/PrefixAnalyzer.java
src/main/java/org/apache/lucene/store/StoreRateLimiting.java
src/main/java/org/elasticsearch/action/ActionFuture.java
src/main/java/org/elasticsearch/action/ActionRequestBuilder.java
src/main/java/org/elasticsearch/action/ActionRequestValidationException.java
src/main/java/org/elasticsearch/action/ThreadingModel.java
src/main/java/org/elasticsearch/action/WriteConsistencyLevel.java
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthStatus.java
src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/TransportDeleteRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/TransportGetRepositoriesAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/TransportPutRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/TransportVerifyRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/TransportRestoreSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexShardStage.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexShardStatus.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotShardsStats.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/tasks/TransportPendingClusterTasksAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/Alias.java
src/main/java/org/elasticsearch/action/admin/indices/alias/TransportIndicesAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/exists/TransportAliasesExistAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/create/TransportCreateIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/TransportIndicesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/get/TransportGetIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetMappingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequest.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
src/main/java/org/elasticsearch/action/admin/indices/open/TransportOpenIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/get/TransportGetSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/put/TransportUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/TransportDeleteIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/TransportGetIndexTemplatesAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/TransportPutIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/get/TransportGetWarmersAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java
src/main/java/org/elasticsearch/action/bulk/BulkProcessor.java
src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/count/CountRequest.java
src/main/java/org/elasticsearch/action/count/TransportCountAction.java
src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
src/main/java/org/elasticsearch/action/get/MultiGetRequest.java
src/main/java/org/elasticsearch/action/get/TransportGetAction.java
src/main/java/org/elasticsearch/action/get/TransportShardMultiGetAction.java
src/main/java/org/elasticsearch/action/index/IndexRequest.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequest.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequestBuilder.java
src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java
src/main/java/org/elasticsearch/action/percolate/MultiPercolateRequest.java
src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
src/main/java/org/elasticsearch/action/percolate/TransportShardMultiPercolateAction.java
src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
src/main/java/org/elasticsearch/action/search/SearchRequest.java
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/action/search/SearchType.java
src/main/java/org/elasticsearch/action/search/TransportSearchAction.java
src/main/java/org/elasticsearch/action/search/TransportSearchScrollAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchHelper.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
src/main/java/org/elasticsearch/action/support/AdapterActionFuture.java
src/main/java/org/elasticsearch/action/support/DestructiveOperations.java
src/main/java/org/elasticsearch/action/support/IndicesOptions.java
src/main/java/org/elasticsearch/action/support/TransportAction.java
src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastOperationAction.java
src/main/java/org/elasticsearch/action/support/master/info/TransportClusterInfoAction.java
src/main/java/org/elasticsearch/action/support/nodes/TransportNodesOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/single/custom/TransportSingleCustomOperationAction.java
src/main/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationAction.java
src/main/java/org/elasticsearch/action/support/single/shard/TransportShardSingleOperationAction.java
src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsRequest.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsResponse.java
src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
src/main/java/org/elasticsearch/action/termvectors/dfs/TransportDfsOnlyAction.java
src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
src/main/java/org/elasticsearch/action/update/UpdateHelper.java
src/main/java/org/elasticsearch/cache/recycler/PageCacheRecycler.java
src/main/java/org/elasticsearch/client/transport/TransportClient.java
src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
src/main/java/org/elasticsearch/cluster/ClusterService.java
src/main/java/org/elasticsearch/cluster/ClusterState.java
src/main/java/org/elasticsearch/cluster/action/index/MappingUpdatedAction.java
src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
src/main/java/org/elasticsearch/cluster/action/index/NodeMappingRefreshAction.java
src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
src/main/java/org/elasticsearch/cluster/block/ClusterBlockLevel.java
src/main/java/org/elasticsearch/cluster/metadata/AliasAction.java
src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
src/main/java/org/elasticsearch/cluster/metadata/RestoreMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/SnapshotMetaData.java
src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
src/main/java/org/elasticsearch/cluster/routing/Preference.java
src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java
src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
src/main/java/org/elasticsearch/cluster/routing/ShardRoutingState.java
src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateAllocationCommand.java
src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommand.java
src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommands.java
src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
src/main/java/org/elasticsearch/cluster/routing/allocation/command/MoveAllocationCommand.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ClusterRebalanceAllocationDecider.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/Decision.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationDecider.java
src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
src/main/java/org/elasticsearch/common/Booleans.java
src/main/java/org/elasticsearch/common/ParseField.java
src/main/java/org/elasticsearch/common/PidFile.java
src/main/java/org/elasticsearch/common/Preconditions.java
src/main/java/org/elasticsearch/common/Priority.java
src/main/java/org/elasticsearch/common/RandomBasedUUIDGenerator.java
src/main/java/org/elasticsearch/common/Table.java
src/main/java/org/elasticsearch/common/TimeBasedUUIDGenerator.java
src/main/java/org/elasticsearch/common/breaker/CircuitBreaker.java
src/main/java/org/elasticsearch/common/bytes/BytesArray.java
src/main/java/org/elasticsearch/common/bytes/PagedBytesReference.java
src/main/java/org/elasticsearch/common/bytes/ReleasablePagedBytesReference.java
src/main/java/org/elasticsearch/common/cli/CliTool.java
src/main/java/org/elasticsearch/common/collect/HppcMaps.java
src/main/java/org/elasticsearch/common/component/AbstractLifecycleComponent.java
src/main/java/org/elasticsearch/common/component/Lifecycle.java
src/main/java/org/elasticsearch/common/component/LifecycleComponent.java
src/main/java/org/elasticsearch/common/geo/GeoDistance.java
src/main/java/org/elasticsearch/common/geo/GeoHashUtils.java
src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
src/main/java/org/elasticsearch/common/lease/Releasable.java
src/main/java/org/elasticsearch/common/lease/Releasables.java
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/common/lucene/all/AllEntries.java
src/main/java/org/elasticsearch/common/lucene/docset/DocIdSets.java
src/main/java/org/elasticsearch/common/lucene/index/FilterableTermsEnum.java
src/main/java/org/elasticsearch/common/lucene/index/FreqTermsEnum.java
src/main/java/org/elasticsearch/common/lucene/search/function/WeightFactorFunction.java
src/main/java/org/elasticsearch/common/recycler/DequeRecycler.java
src/main/java/org/elasticsearch/common/recycler/NoneRecycler.java
src/main/java/org/elasticsearch/common/recycler/Recyclers.java
src/main/java/org/elasticsearch/common/regex/Regex.java
src/main/java/org/elasticsearch/common/rounding/TimeZoneRounding.java
src/main/java/org/elasticsearch/common/settings/ImmutableSettings.java
src/main/java/org/elasticsearch/common/transport/TransportAddressSerializers.java
src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java
src/main/java/org/elasticsearch/common/unit/DistanceUnit.java
src/main/java/org/elasticsearch/common/unit/Fuzziness.java
src/main/java/org/elasticsearch/common/util/BloomFilter.java
src/main/java/org/elasticsearch/common/util/LocaleUtils.java
src/main/java/org/elasticsearch/common/util/LongObjectPagedHashMap.java
src/main/java/org/elasticsearch/common/util/MultiDataPathUpgrader.java
src/main/java/org/elasticsearch/common/util/concurrent/CountDown.java
src/main/java/org/elasticsearch/common/util/concurrent/EsAbortPolicy.java
src/main/java/org/elasticsearch/common/util/concurrent/EsThreadPoolExecutor.java
src/main/java/org/elasticsearch/common/util/concurrent/KeyedLock.java
src/main/java/org/elasticsearch/common/util/concurrent/SizeBlockingQueue.java
src/main/java/org/elasticsearch/common/xcontent/XContentFactory.java
src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentParser.java
src/main/java/org/elasticsearch/discovery/DiscoveryService.java
src/main/java/org/elasticsearch/discovery/DiscoverySettings.java
src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
src/main/java/org/elasticsearch/discovery/zen/NotMasterException.java
src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
src/main/java/org/elasticsearch/discovery/zen/fd/NodesFaultDetection.java
src/main/java/org/elasticsearch/discovery/zen/membership/MembershipAction.java
src/main/java/org/elasticsearch/discovery/zen/ping/ZenPing.java
src/main/java/org/elasticsearch/discovery/zen/ping/ZenPingService.java
src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java
src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
src/main/java/org/elasticsearch/env/NodeEnvironment.java
src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
src/main/java/org/elasticsearch/gateway/GatewayService.java
src/main/java/org/elasticsearch/gateway/MetaDataStateFormat.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
src/main/java/org/elasticsearch/http/HttpServer.java
src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
src/main/java/org/elasticsearch/index/IndexService.java
src/main/java/org/elasticsearch/index/VersionType.java
src/main/java/org/elasticsearch/index/analysis/Analysis.java
src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
src/main/java/org/elasticsearch/index/analysis/CommonGramsTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/EdgeNGramTokenizerFactory.java
src/main/java/org/elasticsearch/index/analysis/HunspellTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/KeepTypesFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/KeepWordFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/KeywordMarkerTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/LengthTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/LowerCaseTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/MappingCharFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/NGramTokenizerFactory.java
src/main/java/org/elasticsearch/index/analysis/PathHierarchyTokenizerFactory.java
src/main/java/org/elasticsearch/index/analysis/PatternAnalyzerProvider.java
src/main/java/org/elasticsearch/index/analysis/PatternCaptureGroupTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/PatternReplaceCharFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/PatternReplaceTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/PatternTokenizerFactory.java
src/main/java/org/elasticsearch/index/analysis/StemmerOverrideTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/StopTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/SynonymTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/TrimTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/TruncateTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/compound/AbstractCompoundWordTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/compound/HyphenationCompoundWordTokenFilterFactory.java
src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/weighted/WeightedFilterCache.java
src/main/java/org/elasticsearch/index/codec/CodecService.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/EngineSearcher.java
src/main/java/org/elasticsearch/index/engine/FlushingRecoveryCounter.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/RecoveryCounter.java
src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/index/fielddata/IndexNumericFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexGeoPointFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/BinaryDVAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/BinaryDVNumericIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/BytesBinaryDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DisabledIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DocValuesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointBinaryDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/NumericDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/SortedNumericDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/SortedSetDVBytesAtomicFieldData.java
src/main/java/org/elasticsearch/index/get/ShardGetService.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/ParseContext.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/DynamicTemplate.java
src/main/java/org/elasticsearch/index/merge/policy/AbstractMergePolicyProvider.java
src/main/java/org/elasticsearch/index/merge/policy/LogByteSizeMergePolicyProvider.java
src/main/java/org/elasticsearch/index/merge/policy/LogDocMergePolicyProvider.java
src/main/java/org/elasticsearch/index/merge/policy/TieredMergePolicyProvider.java
src/main/java/org/elasticsearch/index/query/BaseFilterBuilder.java
comments:
Remove unused / obsolete import and throws statements

This commit removes unused thorws statements when RuntimeExceptions are
mentioned in the throws statement. It also removes obsolete import statements
for java.lang.IllegalArgumentException and java.lang.IllegalStateException

time:
2015-04-29T08:42:31Z
class:
src/main/java/org/apache/lucene/analysis/PrefixAnalyzer.java
src/main/java/org/apache/lucene/store/StoreRateLimiting.java
src/main/java/org/elasticsearch/ElasticsearchIllegalArgumentException.java
src/main/java/org/elasticsearch/ElasticsearchIllegalStateException.java
src/main/java/org/elasticsearch/Version.java
src/main/java/org/elasticsearch/action/ActionFuture.java
src/main/java/org/elasticsearch/action/ActionRequestValidationException.java
src/main/java/org/elasticsearch/action/ThreadingModel.java
src/main/java/org/elasticsearch/action/WriteConsistencyLevel.java
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthStatus.java
src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexShardStage.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexShardStatus.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotShardsStats.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/Alias.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/get/TransportGetIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequest.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
src/main/java/org/elasticsearch/action/bulk/BulkProcessor.java
src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/count/CountRequest.java
src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
src/main/java/org/elasticsearch/action/get/MultiGetRequest.java
src/main/java/org/elasticsearch/action/index/IndexRequest.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequest.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequestBuilder.java
src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java
src/main/java/org/elasticsearch/action/percolate/MultiPercolateRequest.java
src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
src/main/java/org/elasticsearch/action/search/SearchRequest.java
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/action/search/SearchType.java
src/main/java/org/elasticsearch/action/search/TransportSearchAction.java
src/main/java/org/elasticsearch/action/search/TransportSearchScrollAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchHelper.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
src/main/java/org/elasticsearch/action/support/AdapterActionFuture.java
src/main/java/org/elasticsearch/action/support/DestructiveOperations.java
src/main/java/org/elasticsearch/action/support/IndicesOptions.java
src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsRequest.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsResponse.java
src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
src/main/java/org/elasticsearch/action/update/UpdateHelper.java
src/main/java/org/elasticsearch/cache/recycler/PageCacheRecycler.java
src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
src/main/java/org/elasticsearch/cluster/ClusterService.java
src/main/java/org/elasticsearch/cluster/ClusterState.java
src/main/java/org/elasticsearch/cluster/action/index/MappingUpdatedAction.java
src/main/java/org/elasticsearch/cluster/block/ClusterBlockLevel.java
src/main/java/org/elasticsearch/cluster/metadata/AliasAction.java
src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
src/main/java/org/elasticsearch/cluster/metadata/RestoreMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/SnapshotMetaData.java
src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
src/main/java/org/elasticsearch/cluster/routing/Preference.java
src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java
src/main/java/org/elasticsearch/cluster/routing/ShardRoutingState.java
src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateAllocationCommand.java
src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommands.java
src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
src/main/java/org/elasticsearch/cluster/routing/allocation/command/MoveAllocationCommand.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ClusterRebalanceAllocationDecider.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/Decision.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationDecider.java
src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
src/main/java/org/elasticsearch/common/Booleans.java
src/main/java/org/elasticsearch/common/ParseField.java
src/main/java/org/elasticsearch/common/PidFile.java
src/main/java/org/elasticsearch/common/Preconditions.java
src/main/java/org/elasticsearch/common/Priority.java
src/main/java/org/elasticsearch/common/RandomBasedUUIDGenerator.java
src/main/java/org/elasticsearch/common/Table.java
src/main/java/org/elasticsearch/common/TimeBasedUUIDGenerator.java
src/main/java/org/elasticsearch/common/breaker/CircuitBreaker.java
src/main/java/org/elasticsearch/common/bytes/BytesArray.java
src/main/java/org/elasticsearch/common/bytes/PagedBytesReference.java
src/main/java/org/elasticsearch/common/cli/CliTool.java
src/main/java/org/elasticsearch/common/collect/HppcMaps.java
src/main/java/org/elasticsearch/common/component/Lifecycle.java
src/main/java/org/elasticsearch/common/geo/GeoDistance.java
src/main/java/org/elasticsearch/common/geo/GeoHashUtils.java
src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/common/lucene/all/AllEntries.java
src/main/java/org/elasticsearch/common/lucene/docset/DocIdSets.java
src/main/java/org/elasticsearch/common/lucene/index/FilterableTermsEnum.java
src/main/java/org/elasticsearch/common/lucene/search/function/WeightFactorFunction.java
src/main/java/org/elasticsearch/common/recycler/DequeRecycler.java
src/main/java/org/elasticsearch/common/recycler/NoneRecycler.java
src/main/java/org/elasticsearch/common/recycler/Recyclers.java
src/main/java/org/elasticsearch/common/regex/Regex.java
src/main/java/org/elasticsearch/common/rounding/TimeZoneRounding.java
src/main/java/org/elasticsearch/common/settings/ImmutableSettings.java
src/main/java/org/elasticsearch/common/transport/TransportAddressSerializers.java
src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java
src/main/java/org/elasticsearch/common/unit/DistanceUnit.java
src/main/java/org/elasticsearch/common/unit/Fuzziness.java
src/main/java/org/elasticsearch/common/util/BloomFilter.java
src/main/java/org/elasticsearch/common/util/LocaleUtils.java
src/main/java/org/elasticsearch/common/util/MultiDataPathUpgrader.java
src/main/java/org/elasticsearch/common/util/concurrent/CountDown.java
src/main/java/org/elasticsearch/common/util/concurrent/EsAbortPolicy.java
src/main/java/org/elasticsearch/common/util/concurrent/EsThreadPoolExecutor.java
src/main/java/org/elasticsearch/common/util/concurrent/KeyedLock.java
src/main/java/org/elasticsearch/common/util/concurrent/SizeBlockingQueue.java
src/main/java/org/elasticsearch/common/util/concurrent/UncategorizedExecutionException.java
src/main/java/org/elasticsearch/common/xcontent/XContentFactory.java
src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentParser.java
src/main/java/org/elasticsearch/discovery/DiscoverySettings.java
src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
src/main/java/org/elasticsearch/discovery/zen/NotMasterException.java
src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
src/main/java/org/elasticsearch/discovery/zen/fd/NodesFaultDetection.java
src/main/java/org/elasticsearch/discovery/zen/ping/ZenPingService.java
src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java
src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
src/main/java/org/elasticsearch/env/NodeEnvironment.java
src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
src/main/java/org/elasticsearch/gateway/MetaDataStateFormat.java
src/main/java/org/elasticsearch/index/IndexException.java
src/main/java/org/elasticsearch/index/IndexService.java
src/main/java/org/elasticsearch/index/VersionType.java
src/main/java/org/elasticsearch/index/analysis/Analysis.java
src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
src/main/java/org/elasticsearch/index/analysis/ChineseAnalyzerProvider.java
src/main/java/org/elasticsearch/index/analysis/CommonGramsTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/EdgeNGramTokenizerFactory.java
src/main/java/org/elasticsearch/index/analysis/HunspellTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/KeepTypesFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/KeepWordFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/KeywordMarkerTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/LengthTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/LowerCaseTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/MappingCharFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/NGramTokenizerFactory.java
src/main/java/org/elasticsearch/index/analysis/PathHierarchyTokenizerFactory.java
src/main/java/org/elasticsearch/index/analysis/PatternAnalyzerProvider.java
src/main/java/org/elasticsearch/index/analysis/PatternCaptureGroupTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/PatternReplaceCharFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/PatternReplaceTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/PatternTokenizerFactory.java
src/main/java/org/elasticsearch/index/analysis/StemmerOverrideTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/StopTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/SynonymTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/TrimTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/TruncateTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/compound/AbstractCompoundWordTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/compound/HyphenationCompoundWordTokenFilterFactory.java
src/main/java/org/elasticsearch/index/codec/CodecService.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/EngineSearcher.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/index/fielddata/IndexNumericFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexGeoPointFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/BinaryDVAtomicFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/BinaryDVNumericIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/BytesBinaryDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DisabledIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DocValuesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointBinaryDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/NumericDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/SortedNumericDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/SortedSetDVBytesAtomicFieldData.java
src/main/java/org/elasticsearch/index/get/ShardGetService.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/ParseContext.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/DynamicTemplate.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/main/java/org/elasticsearch/index/merge/policy/AbstractMergePolicyProvider.java
src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxFilterBuilder.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeohashCellFilter.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
src/main/java/org/elasticsearch/index/query/RegexpFlag.java
src/main/java/org/elasticsearch/index/query/ScriptFilterParser.java
src/main/java/org/elasticsearch/index/query/SimpleQueryStringFlag.java
src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionBuilder.java
src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
src/main/java/org/elasticsearch/index/query/functionscore/factor/FactorBuilder.java
src/main/java/org/elasticsearch/index/query/support/InnerHitsQueryParserHelper.java
src/main/java/org/elasticsearch/index/query/support/QueryParsers.java
src/main/java/org/elasticsearch/index/search/MatchQuery.java
src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
src/main/java/org/elasticsearch/index/search/child/ScoreType.java
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceFilter.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeFilter.java
src/main/java/org/elasticsearch/index/search/geo/IndexedGeoBoundingBoxFilter.java
src/main/java/org/elasticsearch/index/search/shape/ShapeFetchService.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/shard/IndexShardState.java
src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
src/main/java/org/elasticsearch/index/shard/ShardPath.java
src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
src/main/java/org/elasticsearch/index/similarity/AbstractSimilarityProvider.java
src/main/java/org/elasticsearch/index/similarity/DFRSimilarityProvider.java
src/main/java/org/elasticsearch/index/similarity/IBSimilarityProvider.java
src/main/java/org/elasticsearch/index/similarity/SimilarityModule.java
src/main/java/org/elasticsearch/index/store/Store.java
src/main/java/org/elasticsearch/index/translog/Translog.java
src/main/java/org/elasticsearch/index/translog/fs/FsTranslogFile.java
src/main/java/org/elasticsearch/indices/IndicesService.java
src/main/java/org/elasticsearch/indices/breaker/HierarchyCircuitBreakerService.java
src/main/java/org/elasticsearch/indices/cache/filter/IndicesFilterCache.java
src/main/java/org/elasticsearch/indices/cache/query/IndicesQueryCache.java
src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryState.java
src/main/java/org/elasticsearch/indices/recovery/SharedFSRecoverySourceHandler.java
src/main/java/org/elasticsearch/monitor/jvm/HotThreads.java
src/main/java/org/elasticsearch/node/Node.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/plugins/PluginManager.java
src/main/java/org/elasticsearch/plugins/PluginsService.java
src/main/java/org/elasticsearch/repositories/RepositoriesService.java
src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
src/main/java/org/elasticsearch/rest/BaseRestHandler.java
src/main/java/org/elasticsearch/rest/RestController.java
src/main/java/org/elasticsearch/rest/RestRequest.java
src/main/java/org/elasticsearch/rest/action/admin/indices/alias/RestIndicesAliasesAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/alias/put/RestIndexPutAliasAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/get/RestGetIndicesAction.java
src/main/java/org/elasticsearch/rest/action/count/RestCountAction.java
src/main/java/org/elasticsearch/rest/action/explain/RestExplainAction.java
src/main/java/org/elasticsearch/rest/action/index/RestIndexAction.java
src/main/java/org/elasticsearch/rest/action/script/RestPutIndexedScriptAction.java
src/main/java/org/elasticsearch/rest/action/search/RestClearScrollAction.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchScrollAction.java
src/main/java/org/elasticsearch/rest/action/suggest/RestSuggestAction.java
src/main/java/org/elasticsearch/rest/action/support/RestActions.java
src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
src/main/java/org/elasticsearch/script/Script.java
src/main/java/org/elasticsearch/script/ScriptContext.java
src/main/java/org/elasticsearch/script/ScriptContextRegistry.java
src/main/java/org/elasticsearch/script/ScriptMode.java
src/main/java/org/elasticsearch/script/ScriptModes.java
src/main/java/org/elasticsearch/script/ScriptModule.java
src/main/java/org/elasticsearch/script/ScriptService.java
src/main/java/org/elasticsearch/script/expression/ExpressionScript.java
src/main/java/org/elasticsearch/search/MultiValueMode.java
src/main/java/org/elasticsearch/search/SearchService.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
src/main/java/org/elasticsearch/search/aggregations/InternalAggregations.java
src/main/java/org/elasticsearch/search/aggregations/InternalMultiBucketAggregation.java
src/main/java/org/elasticsearch/search/aggregations/bucket/BestBucketsDeferringCollector.java
comments:
Remove ElasticsearchIAE and ElasticsearchISE

This commit removes ElasticsearchIAE and ElasticsearchISE in favor of
the JDKs IAE and ISE.

Closes #10794

time:
2015-04-29T08:39:41Z
class:
src/main/java/org/elasticsearch/index/engine/DeleteByQueryFailedEngineException.java
comments:
add another delete-by-query deprecation

time:
2015-04-29T07:45:51Z
class:
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/index/cache/IndexCache.java
src/main/java/org/elasticsearch/index/cache/IndexCacheModule.java
src/main/java/org/elasticsearch/index/cache/query/parser/QueryParserCache.java
src/main/java/org/elasticsearch/index/cache/query/parser/QueryParserCacheModule.java
src/main/java/org/elasticsearch/index/cache/query/parser/none/NoneQueryParserCache.java
src/main/java/org/elasticsearch/index/cache/query/parser/resident/ResidentQueryParserCache.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
src/test/java/org/elasticsearch/index/cache/query/parser/resident/ResidentQueryParserCacheTest.java
comments:
Merge pull request #10856 from jpountz/fix/remove_qparser_cache

Internal: Remove the query parser cache.

time:
2015-04-29T07:33:20Z
class:
src/test/java/org/elasticsearch/test/engine/AssertingSearcher.java
src/test/java/org/elasticsearch/test/engine/MockEngineSupport.java
comments:
[TEST] Remove searchers from tracking map once they are closed

time:
2015-04-28T23:28:54Z
class:
comments:
Note concerning usage of (dfs_)query_and_fetch

Add a note indicating that (dfs_)query_and_fetch are only intended for
internal use.

time:
2015-04-28T22:57:46Z
class:
comments:
Remove all doc references to (dfs_)query_and_fetch

Removes references to (dfs_)query_and_fetch as possible â€˜search_typeâ€™
parameters for the REST API.

time:
2015-04-28T22:27:59Z
class:
src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
comments:
Remove (dfs_)query_and_fetch from the REST API

Remove the ability to specify search type â€˜query_and_fetchâ€™ and
â€˜df_query_and_fetchâ€™ from the REST API.

- Adds REST tests
- Updates REST API spec to remove â€˜query_and_fetchâ€™ and
â€˜df_query_and_fetchâ€™ as options
- Removes documentation for these options

Closes #9606

time:
2015-04-28T22:03:51Z
class:
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/test/java/org/elasticsearch/get/GetActionTests.java
src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationTests.java
src/test/java/org/elasticsearch/search/geo/GeoShapeIntegrationTests.java
src/test/java/org/elasticsearch/search/innerhits/InnerHitsTests.java
comments:
Mappings: Remove includes and excludes from _source

Regardless of the outcome of #8142, we should at least enforce that
when _source is enabled, it is sufficient to reindex. This change
removes the excludes and includes settings, since these modify
the source, causing us to lose the ability to reindex some fields.

closes #10814

time:
2015-04-28T21:51:47Z
class:
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/Mapper.java
src/main/java/org/elasticsearch/index/mapper/MapperUtils.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/main/java/org/elasticsearch/index/mapper/object/RootObjectMapper.java
src/test/java/org/elasticsearch/index/mapper/DynamicMappingIntegrationTests.java
src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalRootMapper.java
src/test/java/org/elasticsearch/index/mapper/merge/TestMergeMapperTests.java
comments:
Mappings: Consolidate document parsing logic

The code to parse a document was spread across 3 different classes,
and depended on traversing the ObjectMapper hiearchy. This change
consolidates all the doc parsing code into a new DocumentParser.
This should allow adding unit tests (future issue) for document
parsing so the logic can be simplified.  All code was copied
directly for this change with only minor modifications to make
it work within the new location.

closes #10802

time:
2015-04-28T21:39:39Z
class:
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
comments:
Mappings: Explicitly disallow multi fields from using object or nested fields

Multi fields currently parse any field type passed in.  However, they
were only intended to support copying simple values from the outter
field. This change adds validation to ensure object and nested
fields are not used within multi fields.

closes #10745

time:
2015-04-28T20:54:50Z
class:
src/main/java/org/elasticsearch/action/support/replication/IndexReplicationOperationRequest.java
src/main/java/org/elasticsearch/action/support/replication/IndicesReplicationOperationRequest.java
src/main/java/org/elasticsearch/action/support/replication/IndicesReplicationOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/replication/TransportIndexReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportIndicesReplicationOperationAction.java
comments:
Merge pull request #10861 from kimchy/remove_indices_replication

Remove index/indices replication infra code

time:
2015-04-28T20:49:49Z
class:
src/main/java/org/elasticsearch/action/support/replication/IndexReplicationOperationRequest.java
src/main/java/org/elasticsearch/action/support/replication/IndicesReplicationOperationRequest.java
src/main/java/org/elasticsearch/action/support/replication/IndicesReplicationOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/replication/TransportIndexReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportIndicesReplicationOperationAction.java
comments:
Remove index/indices replication infra code
now that delete by query is out, we don't need this infrastructure code. The delete by query will be implenented as a plugin, with scan scroll + bulk delete, so it will not need this infra anyhow

time:
2015-04-28T20:09:04Z
class:
src/main/java/org/elasticsearch/action/ActionModule.java
src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryAction.java
src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequest.java
src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequestBuilder.java
src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryResponse.java
src/main/java/org/elasticsearch/action/deletebyquery/IndexDeleteByQueryRequest.java
src/main/java/org/elasticsearch/action/deletebyquery/IndexDeleteByQueryResponse.java
src/main/java/org/elasticsearch/action/deletebyquery/ShardDeleteByQueryRequest.java
src/main/java/org/elasticsearch/action/deletebyquery/ShardDeleteByQueryResponse.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportIndexDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportShardDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/deletebyquery/package-info.java
src/main/java/org/elasticsearch/client/Client.java
src/main/java/org/elasticsearch/client/Requests.java
src/main/java/org/elasticsearch/client/support/AbstractClient.java
src/main/java/org/elasticsearch/client/transport/TransportClient.java
src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
src/main/java/org/elasticsearch/index/engine/DeleteByQueryFailedEngineException.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
src/main/java/org/elasticsearch/index/indexing/IndexingOperationListener.java
src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
src/main/java/org/elasticsearch/index/query/HasChildFilterParser.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentFilterParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryParserUtils.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryParser.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/translog/Translog.java
src/main/java/org/elasticsearch/rest/action/RestActionModule.java
src/main/java/org/elasticsearch/rest/action/deletebyquery/RestDeleteByQueryAction.java
src/test/java/org/elasticsearch/action/IndicesRequestTests.java
src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java
src/test/java/org/elasticsearch/bwcompat/BasicBackwardsCompatibilityTest.java
src/test/java/org/elasticsearch/bwcompat/ParentChildDeleteByQueryBackwardsCompatibilityTest.java
src/test/java/org/elasticsearch/deleteByQuery/DeleteByQueryTests.java
src/test/java/org/elasticsearch/document/DocumentActionsTests.java
src/test/java/org/elasticsearch/document/ShardInfoTests.java
src/test/java/org/elasticsearch/indices/IndicesOptionsIntegrationTests.java
src/test/java/org/elasticsearch/nested/SimpleNestedTests.java
src/test/java/org/elasticsearch/operateAllIndices/DestructiveOperationsIntegrationTests.java
src/test/java/org/elasticsearch/routing/AliasRoutingTests.java
src/test/java/org/elasticsearch/routing/SimpleRoutingTests.java
src/test/java/org/elasticsearch/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/stresstest/search1/Search1StressTest.java
comments:
Remove core delete-by-query implementation, to be replaced with a plugin

The current implementation is dangerous: it unexpectedly refreshes,
which can quickly cause an unhealthy index (segment explosion).  It
can also delete different documents on primary vs replicas, causing
inconsistent replicas.

For 2.0 we will replace this with an optional plugin that does a
scan/scroll search and then issues bulk delete requests.

Closes #10859

time:
2015-04-28T19:32:47Z
class:
src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
comments:
Discovery: Unicast Ping should close temporary connections after returning ping results

During pinging we open light , temporary connections to the the unicast hosts. After the pinging is done we close those. At the moment we do so before returning the results of the pings to the caller. On the other hand, in our transport logic we acquire a lock specific to the node id while opening a connection. When disconnecting from node, we have to acquire the same lock in order to guarantee the the connection opening has finished. This can cause big delays in environments where opening a connection is very slow, as the connection closing has to wait *after* the pinging was done.. This can be problematic as  it causes master election to use stale data.

Closes #10849

time:
2015-04-28T18:40:14Z
class:
src/test/java/org/elasticsearch/plugins/PluginManagerTests.java
comments:
Fix more download URLs

time:
2015-04-28T16:41:29Z
class:
src/main/java/org/elasticsearch/common/util/concurrent/KeyedLock.java
src/test/java/org/elasticsearch/transport/netty/KeyedLockTests.java
comments:
Add `fairness` option to KeyedLock.

This change adds the ability of a `KeyedLock` to be `fair` this means that threads will aquire the lock in the order they ask for it.

time:
2015-04-28T16:05:34Z
class:
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/index/cache/IndexCache.java
src/main/java/org/elasticsearch/index/cache/IndexCacheModule.java
src/main/java/org/elasticsearch/index/cache/query/parser/QueryParserCache.java
src/main/java/org/elasticsearch/index/cache/query/parser/QueryParserCacheModule.java
src/main/java/org/elasticsearch/index/cache/query/parser/none/NoneQueryParserCache.java
src/main/java/org/elasticsearch/index/cache/query/parser/resident/ResidentQueryParserCache.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
src/test/java/org/elasticsearch/index/cache/query/parser/resident/ResidentQueryParserCacheTest.java
comments:
Internal: Remove the query parser cache.

The original goal of this cache was to avoid parsing the same query several
times in case several shards are held on the same node. While this might
sound like a good idea, this would only help when parsing the query takes
non-negligible time compared to actually running the query, which should not
be the case.

time:
2015-04-28T16:01:41Z
class:
comments:
Merge pull request #10848 from rmuir/sm_cleanup2

Remove reflection permission for sun.management.

time:
2015-04-28T15:46:31Z
class:
src/main/java/org/elasticsearch/ElasticsearchException.java
src/test/java/org/elasticsearch/ElasticsearchExceptionTests.java
src/test/java/org/elasticsearch/rest/BytesRestResponseTests.java
comments:
[REST] Render non-elasticsearch exception as root cause

if we don't have an ElasticsearchException as the wrapper of the
actual cause we don't render a root cause today. This commit adds
support for 3rd party exceptions as root causes.

Closes #10836

time:
2015-04-28T15:13:26Z
class:
src/main/java/org/elasticsearch/common/lucene/search/function/FieldValueFactorFunction.java
src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionBuilder.java
src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionParser.java
src/test/java/org/elasticsearch/search/functionscore/FunctionScoreFieldValueTests.java
comments:
Merge branch 'pr/10845'

time:
2015-04-28T15:11:39Z
class:
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/gateway/MetaDataStateFormatTest.java
src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayTests.java
src/test/java/org/elasticsearch/indices/leaks/IndicesLeaksTests.java
src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryTests.java
src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsTests.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/TestCluster.java
src/test/java/org/elasticsearch/test/engine/AssertingSearcher.java
src/test/java/org/elasticsearch/test/engine/MockEngineSupport.java
src/test/java/org/elasticsearch/test/engine/MockInternalEngine.java
src/test/java/org/elasticsearch/test/engine/MockShadowEngine.java
src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
src/test/java/org/elasticsearch/test/store/MockDirectoryHelper.java
src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
comments:
[TEST] Cleanup Direcotry and Searcher mock code

We deployed our own code to check if directories are closed etc an d
if serachers are still open. Yet, since we don't have a global cluster
anymore we can just use lucene's internal mechanism to do that. This commit
removes all special handling and usese LuceneTestCase.closeAfterSuite to
fail if certain resources are not closed

Closes #10853

time:
2015-04-28T15:06:24Z
class:
src/main/java/org/elasticsearch/common/lucene/search/function/FieldValueFactorFunction.java
src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionBuilder.java
src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionParser.java
src/test/java/org/elasticsearch/search/functionscore/FunctionScoreFieldValueTests.java
comments:
Add default to field_value_factor

field_value_factor now takes a default that is used if the document doesn't
have a value for that field. It looks like:
"field_value_factor": {
  "field": "popularity",
  "missing": 1
}

Closes #10841

time:
2015-04-28T12:43:45Z
class:
comments:
Merge pull request #10851 from rmuir/http

Use http for lucene snapshot downloads

time:
2015-04-28T12:38:57Z
class:
comments:
Use http for lucene snapshot downloads

time:
2015-04-28T12:38:53Z
class:
src/test/java/org/elasticsearch/action/IndicesRequestTests.java
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/cluster/ack/AckClusterUpdateSettingsTests.java
src/test/java/org/elasticsearch/cluster/ack/AckTests.java
src/test/java/org/elasticsearch/cluster/allocation/AwarenessAllocationTests.java
src/test/java/org/elasticsearch/cluster/shards/ClusterSearchShardsTests.java
src/test/java/org/elasticsearch/index/suggest/stats/SuggestStatsTests.java
src/test/java/org/elasticsearch/indices/settings/UpdateNumberOfReplicasTests.java
src/test/java/org/elasticsearch/indices/state/SimpleIndexStateTests.java
src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsTests.java
src/test/java/org/elasticsearch/search/aggregations/metrics/CardinalityTests.java
src/test/java/org/elasticsearch/search/basic/SearchWhileRelocatingTests.java
src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsTests.java
src/test/java/org/elasticsearch/search/preference/SearchPreferenceTests.java
src/test/java/org/elasticsearch/search/stats/SearchStatsTests.java
src/test/java/org/elasticsearch/snapshots/RepositoriesTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
comments:
[TEST] Run tests with 1 or 2 nodes by default

This commit adds support for running with only one node and sets the
maximum number of nodes to 3 by default. if run with test.nighly=true
at most 6 nodes are used. This gave a 20% speed improvement compared to
the previoulys minimum number of nodes of 3.

time:
2015-04-28T12:25:00Z
class:
src/test/java/org/elasticsearch/action/count/CountRequestBuilderTests.java
src/test/java/org/elasticsearch/action/search/SearchRequestBuilderTests.java
comments:
[TEST] make CountRequestBuilder#toString and SearchRequestBuilder#toString tests non platform dependent

time:
2015-04-28T10:09:00Z
class:
src/test/java/org/elasticsearch/discovery/ZenUnicastDiscoveryTests.java
comments:
Test: testMinimumMasterNodes should use at least min_master_nodes unicast hosts

time:
2015-04-28T09:48:08Z
class:
comments:
Docs: Update cluster.asciidoc

added a missing comma in one of examples

Closes #10834

time:
2015-04-28T09:27:50Z
class:
src/main/java/org/elasticsearch/cluster/settings/ClusterDynamicSettingsModule.java
src/main/java/org/elasticsearch/script/ScriptService.java
src/main/java/org/elasticsearch/script/groovy/GroovySandboxExpressionChecker.java
src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
src/test/java/org/elasticsearch/script/GroovySandboxScriptTests.java
src/test/java/org/elasticsearch/script/NativeScriptTests.java
src/test/java/org/elasticsearch/script/SandboxDisabledTests.java
src/test/java/org/elasticsearch/script/ScriptServiceTests.java
src/test/java/org/elasticsearch/search/scriptfilter/ScriptFilterSearchTests.java
src/test/java/org/elasticsearch/search/timeout/SearchTimeoutTests.java
comments:
Scripting: remove groovy sandbox

Groovy sandboxing was disabled by default from 1.4.3 on though since we found out that it could be worked around, so it makes little sense to keep it and maintain it.

Closes #10156
Closes #10480

time:
2015-04-28T09:25:42Z
class:
comments:
Remove reflection permission for sun.management.

This is no longer needed after #10553

time:
2015-04-28T09:22:15Z
class:
src/main/java/org/elasticsearch/action/count/CountRequestBuilder.java
src/main/java/org/elasticsearch/action/support/QuerySourceBuilder.java
src/test/java/org/elasticsearch/action/count/CountRequestBuilderTests.java
comments:
Java api: implement toString in CountRequestBuilder

Similarly to what SearchRequestBuilder does, we print out a string representation of the query that the count request builder holds.

Closes #5555

time:
2015-04-28T09:22:15Z
class:
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
src/test/java/org/elasticsearch/action/search/SearchRequestBuilderTests.java
comments:
Java api: SearchRequestBuilder#toString to print out the query without wiping the request source

Best effort to print out the search source depending on how it was set to the SearchRequestBuilder, don't call `internalBuilder() as that causes the content of the request to be wiped.

Closes #5576

time:
2015-04-28T09:12:07Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/Security.java
src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
comments:
Merge pull request #10844 from rmuir/sm_cleanup

Security manager cleanups

time:
2015-04-28T08:50:53Z
class:
src/test/java/org/elasticsearch/bwcompat/ClusterStateBackwardsCompatTests.java
comments:
Tests: Add backward compatibility test for cluster state with blocks

time:
2015-04-28T08:44:41Z
class:
src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
src/test/java/org/elasticsearch/indices/analyze/AnalyzeActionTests.java
comments:
Analysis: Fix wrong position number by analyze API

Add breaking chages comment to migrate docs
Fix the stopword included text using stopword filter

time:
2015-04-28T08:25:06Z
class:
src/main/java/org/elasticsearch/cluster/block/ClusterBlock.java
src/main/java/org/elasticsearch/cluster/block/ClusterBlockLevel.java
src/test/java/org/elasticsearch/cluster/block/ClusterBlockTests.java
comments:
Internal: Remove deprecated METADATA cluster block level

This commit removes the deprecated ClusterBlockLevel.METADATA, replaced in #9203 with METADATA_READ and METADATA_WRITE.

time:
2015-04-28T08:11:45Z
class:
src/main/java/org/elasticsearch/script/mustache/JsonEscapingMustacheFactory.java
src/test/java/org/elasticsearch/script/mustache/MustacheScriptEngineTest.java
comments:
Fix JSON encoding for Mustache templates.

This pull request replaces the current self-made implementation of JSON encoding special chars with re-using the Jackson JsonStringEncoder. Turns out the previous implementation also missed a few special chars so had to adjust the tests accordingly (looked at RFC 4627 for reference).

Note: There's another JSON String encoder on our classpath (org.apache.commons.lang3.StringEscapeUtils) that essentially does the same thing but adds quoting to more characters than the Jackson Encoder above.

Relates to #5473

time:
2015-04-28T08:08:12Z
class:
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
comments:
Backcompat: Add test for missing filter

The _field_names field was fixed in 1.5.1 (#10268) to correctly be
disabled for indexes before 1.3.0.  However, only the exists filter
was updated to check this enabled flag on 1.x/1.5. The missing
filter on those branches still checks the field type to see if it
is indexed, which causes the filter to always try and use
the _field_names field for those old indexes.

This change adds a test to the old index tests for missing filter.

closes #10842

time:
2015-04-28T08:04:30Z
class:
comments:
Release: Fix build repositories script

Minor issue with specifying the correct version when starting the package release script.
Another issue fixed to make sure that the S3 bucket parameters act the same.

time:
2015-04-28T00:29:57Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/Security.java
src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
comments:
Security manager cleanups

1. initialize SM after things like mlockall. Their tests currently
   don't run with securitymanager enabled, and its simpler to just
   run mlockall etc first.
2. remove redundant test permissions (junit4.childvm.cwd/temp). This
   is alreay added as java.io.tmpdir.
3. improve tests to load the generated policy with some various
   settings and assert things about the permissions on configured
   directories.
4. refactor logic to make it easier to fine-grain the permissions later.
   for example we currently allow write access to conf/. In the future
   I think we can improve testing so we are able to make improvements here.

time:
2015-04-27T18:47:56Z
class:
src/main/java/org/elasticsearch/common/util/BigArrays.java
comments:
Don't create a new BigArrays instance for every call of `withCircuitBreaking`

Since the circuit breaking service doesn't actually change for
BigArrays, we can eagerly create a new instance only once and use that
for all further invocations of `withCircuitBreaking`.

time:
2015-04-27T18:40:04Z
class:
comments:
[DOCS] review comment fixes

time:
2015-04-27T18:32:20Z
class:
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/MovAvgModel.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/MovAvgModelBuilder.java
comments:
review comment fixes

time:
2015-04-27T16:10:03Z
class:
src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
src/main/java/org/elasticsearch/search/aggregations/InternalMultiBucketAggregation.java
src/main/java/org/elasticsearch/search/aggregations/bucket/BucketsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/InternalHistogram.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/InternalRange.java
src/main/java/org/elasticsearch/search/aggregations/reducers/BucketHelpers.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/MaxBucketParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/derivative/DerivativeParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/MovAvgParser.java
src/test/java/org/elasticsearch/search/aggregations/reducers/DateDerivativeTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/moving/avg/MovAvgTests.java
comments:
review comment fixes

time:
2015-04-27T15:19:36Z
class:
src/main/java/org/elasticsearch/action/ActionModule.java
src/main/java/org/elasticsearch/action/admin/cluster/node/shutdown/NodesShutdownAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/shutdown/NodesShutdownRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/node/shutdown/NodesShutdownRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/node/shutdown/NodesShutdownResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/node/shutdown/TransportNodesShutdownAction.java
src/main/java/org/elasticsearch/client/ClusterAdminClient.java
src/main/java/org/elasticsearch/client/Requests.java
src/main/java/org/elasticsearch/client/support/AbstractClusterAdminClient.java
src/main/java/org/elasticsearch/rest/action/RestActionModule.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/node/shutdown/RestNodesShutdownAction.java
src/test/java/org/elasticsearch/client/AbstractClientHeadersTests.java
src/test/java/org/elasticsearch/stresstest/manyindices/ManyNodesManyIndicesRecoveryStressTest.java
src/test/java/org/elasticsearch/test/ExternalNode.java
comments:
Remove `_shutdown` API

Thsi commit removes the `_shutdown` API entirely without any replacement.
Nodes should be managed from the operating system not via REST APIs

time:
2015-04-27T14:04:24Z
class:
src/main/java/org/elasticsearch/ElasticsearchException.java
src/main/java/org/elasticsearch/ExceptionsHelper.java
src/main/java/org/elasticsearch/Version.java
src/main/java/org/elasticsearch/action/ActionWriteResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/TransportLivenessAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/shutdown/TransportNodesShutdownAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/TransportDeleteRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/TransportGetRepositoriesAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/TransportPutRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/TransportVerifyRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/TransportRestoreSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/tasks/TransportPendingClusterTasksAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/TransportIndicesAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/exists/TransportAliasesExistAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/create/TransportCreateIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/TransportIndicesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
src/main/java/org/elasticsearch/action/admin/indices/get/TransportGetIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetMappingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
src/main/java/org/elasticsearch/action/admin/indices/open/TransportOpenIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/get/TransportGetSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/put/TransportUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/TransportDeleteIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/TransportGetIndexTemplatesAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/TransportPutIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/get/TransportGetWarmersAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java
src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java
src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/count/TransportCountAction.java
src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportShardDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
src/main/java/org/elasticsearch/action/get/TransportGetAction.java
src/main/java/org/elasticsearch/action/get/TransportMultiGetAction.java
src/main/java/org/elasticsearch/action/get/TransportShardMultiGetAction.java
src/main/java/org/elasticsearch/action/index/IndexResponse.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/action/indexedscripts/delete/TransportDeleteIndexedScriptAction.java
src/main/java/org/elasticsearch/action/indexedscripts/get/TransportGetIndexedScriptAction.java
src/main/java/org/elasticsearch/action/indexedscripts/put/TransportPutIndexedScriptAction.java
src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java
src/main/java/org/elasticsearch/action/percolate/TransportMultiPercolateAction.java
src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
src/main/java/org/elasticsearch/action/percolate/TransportShardMultiPercolateAction.java
src/main/java/org/elasticsearch/action/search/SearchPhaseExecutionException.java
src/main/java/org/elasticsearch/action/search/ShardSearchFailure.java
src/main/java/org/elasticsearch/action/search/TransportClearScrollAction.java
src/main/java/org/elasticsearch/action/search/TransportMultiSearchAction.java
src/main/java/org/elasticsearch/action/search/TransportSearchAction.java
src/main/java/org/elasticsearch/action/search/TransportSearchScrollAction.java
src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
src/main/java/org/elasticsearch/action/support/DefaultShardOperationFailedException.java
src/main/java/org/elasticsearch/action/support/HandledTransportAction.java
src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastOperationAction.java
src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeOperationAction.java
src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeReadOperationAction.java
src/main/java/org/elasticsearch/action/support/master/info/TransportClusterInfoAction.java
src/main/java/org/elasticsearch/action/support/nodes/TransportNodesOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/ShardReplicationOperationRequest.java
src/main/java/org/elasticsearch/action/support/replication/TransportIndexReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportIndicesReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/single/custom/SingleCustomOperationRequest.java
src/main/java/org/elasticsearch/action/support/single/custom/TransportSingleCustomOperationAction.java
src/main/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationAction.java
src/main/java/org/elasticsearch/action/support/single/shard/SingleShardOperationRequest.java
src/main/java/org/elasticsearch/action/support/single/shard/TransportShardSingleOperationAction.java
src/main/java/org/elasticsearch/action/termvectors/TransportMultiTermVectorsAction.java
src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
src/main/java/org/elasticsearch/action/termvectors/dfs/TransportDfsOnlyAction.java
src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/Security.java
src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
src/main/java/org/elasticsearch/cluster/ClusterService.java
src/main/java/org/elasticsearch/cluster/ClusterStateObserver.java
src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
src/main/java/org/elasticsearch/cluster/action/index/NodeMappingRefreshAction.java
src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
src/main/java/org/elasticsearch/cluster/block/ClusterBlock.java
src/main/java/org/elasticsearch/cluster/block/ClusterBlockLevel.java
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
src/main/java/org/elasticsearch/common/Strings.java
src/main/java/org/elasticsearch/common/io/stream/BytesStreamOutput.java
src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
src/main/java/org/elasticsearch/common/transport/DummyTransportAddress.java
src/main/java/org/elasticsearch/common/util/BigArrays.java
src/main/java/org/elasticsearch/discovery/DiscoverySettings.java
src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
src/main/java/org/elasticsearch/discovery/zen/fd/NodesFaultDetection.java
src/main/java/org/elasticsearch/discovery/zen/membership/MembershipAction.java
src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java
src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
src/main/java/org/elasticsearch/env/ESFileStore.java
src/main/java/org/elasticsearch/env/Environment.java
src/main/java/org/elasticsearch/env/NodeEnvironment.java
src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
src/main/java/org/elasticsearch/http/HttpServer.java
src/main/java/org/elasticsearch/index/IndexException.java
src/main/java/org/elasticsearch/index/IndexService.java
src/main/java/org/elasticsearch/index/engine/CommitStats.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
src/main/java/org/elasticsearch/index/mapper/DocumentFieldMappers.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/FieldMapperListener.java
src/main/java/org/elasticsearch/index/mapper/FieldMappersLookup.java
src/main/java/org/elasticsearch/index/mapper/Mapper.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/MapperUtils.java
src/main/java/org/elasticsearch/index/mapper/Mapping.java
src/main/java/org/elasticsearch/index/mapper/MergeResult.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/Murmur3FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SizeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/main/java/org/elasticsearch/index/mapper/object/RootObjectMapper.java
src/main/java/org/elasticsearch/index/percolator/PercolatorException.java
src/main/java/org/elasticsearch/index/query/QueryParsingException.java
src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/shard/IndexShardException.java
src/main/java/org/elasticsearch/index/store/FsDirectoryService.java
src/main/java/org/elasticsearch/index/store/IndexStore.java
src/main/java/org/elasticsearch/index/store/IndexStoreModule.java
src/main/java/org/elasticsearch/index/store/fs/DefaultFsDirectoryService.java
src/main/java/org/elasticsearch/index/store/fs/DefaultFsIndexStore.java
src/main/java/org/elasticsearch/index/store/fs/DefaultFsIndexStoreModule.java
src/main/java/org/elasticsearch/index/store/fs/MmapFsDirectoryService.java
src/main/java/org/elasticsearch/index/store/fs/MmapFsIndexStore.java
src/main/java/org/elasticsearch/index/store/fs/NioFsDirectoryService.java
src/main/java/org/elasticsearch/index/store/fs/NioFsIndexStore.java
src/main/java/org/elasticsearch/index/store/fs/NioFsIndexStoreModule.java
src/main/java/org/elasticsearch/index/store/fs/SimpleFsDirectoryService.java
src/main/java/org/elasticsearch/index/store/fs/SimpleFsIndexStore.java
src/main/java/org/elasticsearch/index/store/fs/SimpleFsIndexStoreModule.java
src/main/java/org/elasticsearch/index/store/support/AbstractIndexStore.java
src/main/java/org/elasticsearch/index/translog/fs/BufferingFsTranslogFile.java
src/main/java/org/elasticsearch/index/translog/fs/FsTranslog.java
src/main/java/org/elasticsearch/index/translog/fs/FsTranslogFile.java
src/main/java/org/elasticsearch/index/translog/fs/SimpleFsTranslogFile.java
src/main/java/org/elasticsearch/indices/AliasFilterParsingException.java
src/main/java/org/elasticsearch/indices/IndexMissingException.java
src/main/java/org/elasticsearch/indices/TypeMissingException.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySource.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
src/main/java/org/elasticsearch/indices/store/IndicesStore.java
src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
src/main/java/org/elasticsearch/node/Node.java
src/main/java/org/elasticsearch/repositories/VerifyNodeRepositoryAction.java
src/main/java/org/elasticsearch/rest/BytesRestResponse.java
src/main/java/org/elasticsearch/river/cluster/PublishRiverClusterStateAction.java
src/main/java/org/elasticsearch/search/SearchContextException.java
src/main/java/org/elasticsearch/search/SearchParseException.java
src/main/java/org/elasticsearch/search/action/SearchServiceTransportAction.java
src/main/java/org/elasticsearch/snapshots/RestoreService.java
src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
src/main/java/org/elasticsearch/transport/BaseTransportRequestHandler.java
src/main/java/org/elasticsearch/transport/RequestHandlerRegistry.java
src/main/java/org/elasticsearch/transport/TransportRequestHandler.java
src/main/java/org/elasticsearch/transport/TransportService.java
src/main/java/org/elasticsearch/transport/TransportServiceAdapter.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-04-27T13:59:27Z
class:
comments:
Docs: Document `http.max_header_size`

Closes #10752

time:
2015-04-27T11:56:02Z
class:
comments:
Release: Add bw indices for 1.4.5 and 1.5.2.

time:
2015-04-27T11:50:11Z
class:
comments:
Fix to let eclipse ignore the antigun plugin in it's maven integration

This plugin should be ignored as it will make the internal eclipse build fail when there are NOCOMMIT comments in files, which are expected during feature development. This change only affects eclipse users and only when they are using the m2e eclipse integration

time:
2015-04-27T11:45:35Z
class:
comments:
Docs: Updated current version

time:
2015-04-27T10:57:47Z
class:
src/main/java/org/elasticsearch/Version.java
comments:
Versioning: Added recent 1.4 and 1.5 releases

time:
2015-04-27T09:09:02Z
class:
comments:
Release script: Fix wrong argument for string formatting

time:
2015-04-27T08:42:55Z
class:
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
comments:
Query enhancement: Enable Lucene ranking behaviour for queries on numeric fields.
This changes the default ranking behaviour of single-term queries on numeric fields to use the usual Lucene TermQuery scoring logic rather than a constant-scoring wrapper.

Closes #10628

time:
2015-04-27T08:30:21Z
class:
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
comments:
Merge pull request #10819 from jpountz/fix/transport_index_duplication

Reduce code duplication in TransportIndexAction/TransportShardBulkAction.

time:
2015-04-27T08:23:11Z
class:
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
comments:
Reduce code duplication in TransportIndexAction/TransportShardBulkAction.

We have some duplication in TransportIndexAction/TransportShardBulkAction due
to the fact that we have totally different branches for INDEX and CREATE
operations. This commit tries to share the logic better between these two cases.

time:
2015-04-27T07:27:17Z
class:
src/test/java/org/elasticsearch/river/RiverTests.java
comments:
Tests: Mark the entire RiverTests suite as AwaitsFix.

time:
2015-04-27T07:07:02Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesResponse.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetMappingsResponse.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/GetIndexTemplatesResponse.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
src/main/java/org/elasticsearch/cluster/AbstractDiffable.java
src/main/java/org/elasticsearch/cluster/ClusterState.java
src/main/java/org/elasticsearch/cluster/Diff.java
src/main/java/org/elasticsearch/cluster/Diffable.java
src/main/java/org/elasticsearch/cluster/DiffableUtils.java
src/main/java/org/elasticsearch/cluster/IncompatibleClusterStateVersionException.java
src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
src/main/java/org/elasticsearch/cluster/metadata/AliasMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
src/main/java/org/elasticsearch/cluster/metadata/RepositoriesMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/RepositoryMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/RestoreMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/SnapshotMetaData.java
src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
src/main/java/org/elasticsearch/cluster/settings/ClusterDynamicSettingsModule.java
src/main/java/org/elasticsearch/common/io/stream/StreamableReader.java
src/main/java/org/elasticsearch/common/io/stream/Writeable.java
src/main/java/org/elasticsearch/discovery/Discovery.java
src/main/java/org/elasticsearch/discovery/DiscoveryService.java
src/main/java/org/elasticsearch/discovery/DiscoverySettings.java
src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
src/main/java/org/elasticsearch/gateway/Gateway.java
src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/repositories/get/RestGetRepositoriesAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/get/RestGetIndicesAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/warmer/get/RestGetWarmerAction.java
src/main/java/org/elasticsearch/search/warmer/IndexWarmersMetaData.java
src/test/java/org/elasticsearch/cluster/ClusterStateDiffPublishingTests.java
src/test/java/org/elasticsearch/cluster/ClusterStateDiffTests.java
src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java
src/test/java/org/elasticsearch/cluster/serialization/DiffableTests.java
src/test/java/org/elasticsearch/common/xcontent/XContentTestUtils.java
src/test/java/org/elasticsearch/discovery/ZenUnicastDiscoveryTests.java
src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryTests.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationTests.java
src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateTests.java
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
comments:
Revert "Add support for cluster state diffs"

This reverts commit d746e14cf3f6d9b25a2c6018eedca249555cf44b.

time:
2015-04-27T06:54:07Z
class:
comments:
Docs: Updated docs/README.asciidoc to point to the new docs repo

Closes #10817

time:
2015-04-27T05:47:14Z
class:
src/main/java/org/elasticsearch/http/HttpServer.java
src/test/java/org/elasticsearch/plugins/SitePluginTests.java
comments:
HTTP: Ensure url path expansion only works inside of plugins

This prevents reading of files that are not part of the plugin
directory by specifically crafted paths.

time:
2015-04-27T03:34:32Z
class:
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
src/main/java/org/elasticsearch/snapshots/RestoreService.java
src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexTests.java
src/test/java/org/elasticsearch/indices/settings/UpdateNumberOfReplicasTests.java
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
comments:
Settings: validate number_of_shards/number_of_replicas without index setting prefix

Move the validation logic to MetaDataCreateIndexService
Add ShardClusterSnapshotRestoreTests
Add the validation to RestoreService

Closes #10693

time:
2015-04-27T02:36:39Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesResponse.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetMappingsResponse.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/GetIndexTemplatesResponse.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
src/main/java/org/elasticsearch/cluster/AbstractDiffable.java
src/main/java/org/elasticsearch/cluster/ClusterState.java
src/main/java/org/elasticsearch/cluster/Diff.java
src/main/java/org/elasticsearch/cluster/Diffable.java
src/main/java/org/elasticsearch/cluster/DiffableUtils.java
src/main/java/org/elasticsearch/cluster/IncompatibleClusterStateVersionException.java
src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
src/main/java/org/elasticsearch/cluster/metadata/AliasMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
src/main/java/org/elasticsearch/cluster/metadata/RepositoriesMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/RepositoryMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/RestoreMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/SnapshotMetaData.java
src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
src/main/java/org/elasticsearch/cluster/settings/ClusterDynamicSettingsModule.java
src/main/java/org/elasticsearch/common/io/stream/StreamableReader.java
src/main/java/org/elasticsearch/common/io/stream/Writeable.java
src/main/java/org/elasticsearch/discovery/Discovery.java
src/main/java/org/elasticsearch/discovery/DiscoveryService.java
src/main/java/org/elasticsearch/discovery/DiscoverySettings.java
src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
src/main/java/org/elasticsearch/gateway/Gateway.java
src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/repositories/get/RestGetRepositoriesAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/get/RestGetIndicesAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/warmer/get/RestGetWarmerAction.java
src/main/java/org/elasticsearch/search/warmer/IndexWarmersMetaData.java
src/test/java/org/elasticsearch/cluster/ClusterStateDiffPublishingTests.java
src/test/java/org/elasticsearch/cluster/ClusterStateDiffTests.java
src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java
src/test/java/org/elasticsearch/cluster/serialization/DiffableTests.java
src/test/java/org/elasticsearch/common/xcontent/XContentTestUtils.java
src/test/java/org/elasticsearch/discovery/ZenUnicastDiscoveryTests.java
src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryTests.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationTests.java
src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateTests.java
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
comments:
Add support for cluster state diffs

Adds support for calculating and sending diffs instead of full cluster state of the most frequently changing elements - cluster state, meta data and routing table.

Closes #6295

time:
2015-04-26T19:31:36Z
class:
src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
comments:
TransportClient: Ensure netty I/O thread is not blocked

Whenever a transport client executes a request, it uses a built-in
RetryListener which tries to execute the request on another node.

However, if a connection error occurs, the onFailure() callback of
the listener is triggered, the netty I/O thread might still be used
to whatever failure has been added.

This commit offloads the onFailure handling to the generic thread pool.

time:
2015-04-26T19:08:57Z
class:
src/test/java/org/elasticsearch/index/store/StoreTest.java
comments:
[TEST] Don't use extraFS files as legacy files in tests

time:
2015-04-26T17:43:14Z
class:
comments:
Docs: correct three mis-match of brackets

Closes #10806

time:
2015-04-26T17:23:11Z
class:
comments:
Docs: Update bool-filter.asciidoc

from, to deprecated in favour of gt, lt

Closes #10682

time:
2015-04-26T17:05:47Z
class:
comments:
Build: Update package repositories when creating a release

In order to automatically sign and and upload our debian and RPM
packages, this commit incorporates signing into the build process
and adds the necessary steps to the release process. In order to do this
the pom.xml has been adapted and the RPM and jdeb maven plugins have been
updated, so the packages are signed on build. However the repositories
need to signed as well.

Syncing the repos requires downloading the current repo, adding
the new packages and syncing it back.

The following environment variables are now required as part of the build

* GPG_KEY_ID - the key ID of the key used for signing
* GPG_PASSPHRASE - your GPG passphrase
* S3_BUCKET_SYNC_TO: S3 bucket to sync new repo into

The following environment variables are optional

* S3_BUCKET_SYNC_FROM: S3 bucket to get existing packages from
* GPG_KEYRING - home of gnupg, defaults to ~/.gnupg

The following command line tools are needed

* createrepo (creates RPM repositories)
* expect (used by the maven rpm plugin)
* apt-ftparchive (creates DEB repositories)
* gpg (signs packages and repo files)
* s3cmd (syncing between the different S3 buckets)

The current approach would also work for users who want to run their
own repositories, all they need to change are a couple of environment
variables.

Minor implementation detail: Right now the branch name is used as version
for the repositories (like 1.4/1.5/1.6) - if we ever change our branch naming
scheme, the script needs to be fixed.

time:
2015-04-26T16:49:15Z
class:
comments:
Docs: Updated the experimental annotations in the docs as follows:

* Removed the docs for `index.compound_format` and `index.compound_on_flush` - these are expert settings which should probably be removed (see https://github.com/elastic/elasticsearch/issues/10778)
* Removed the docs for `index.index_concurrency` - another expert setting
* Labelled the segments verbose output as experimental
* Marked the `compression`, `precision_threshold` and `rehash` options as experimental in the cardinality and percentile aggs
* Improved the experimental text on `significant_terms`, `execution_hint` in the terms agg, and `terminate_after` param on count and search
* Removed the experimental flag on the `geobounds` agg
* Marked the settings in the `merge` and `store` modules as experimental, rather than the modules themselves

Closes #10782

time:
2015-04-26T15:30:38Z
class:
comments:
Docs: Mentioned script_id and script_file parameters across all aggs

Closes #10760

time:
2015-04-26T14:29:41Z
class:
comments:
Docs: Fix minor spelling mistakes in Match Query doc

Closes #10751

time:
2015-04-26T13:52:02Z
class:
comments:
Docs: Tidied docs for field-stats

time:
2015-04-26T13:13:06Z
class:
src/main/java/org/elasticsearch/index/translog/fs/BufferingFsTranslogFile.java
src/main/java/org/elasticsearch/index/translog/fs/FsTranslog.java
src/main/java/org/elasticsearch/index/translog/fs/FsTranslogFile.java
src/main/java/org/elasticsearch/index/translog/fs/SimpleFsTranslogFile.java
src/test/java/org/elasticsearch/index/translog/AbstractSimpleTranslogTests.java
comments:
Allow double-closing of FSTranslog

the translog might be reused across engines which is currently a problem
in the design such that we have to allow calls to `close` more than once.
This moves the closed check for snapshot on the actual file to exit the loop.

Relates to #10807

time:
2015-04-26T12:26:22Z
class:
src/test/java/org/elasticsearch/index/translog/AbstractSimpleTranslogTests.java
comments:
[TEST] fail if exception is not thrown

time:
2015-04-26T12:08:37Z
class:
src/main/java/org/elasticsearch/index/translog/fs/FsTranslog.java
src/test/java/org/elasticsearch/index/translog/AbstractSimpleTranslogTests.java
comments:
Merge pull request #10809 from s1monw/issues/10807

[TRANSLOG] Fail #snapshot if translog is closed

time:
2015-04-26T12:03:50Z
class:
src/main/java/org/elasticsearch/index/translog/fs/FsTranslog.java
src/test/java/org/elasticsearch/index/translog/AbstractSimpleTranslogTests.java
comments:
[TRANSLOG] Fail #snapshot if translog is closed

If the translog is closed while a snapshot opertion is in progress
we must fail the snapshot operation otherwise we end up in an endless
loop.

Closes #10807

time:
2015-04-26T11:44:29Z
class:
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
comments:
[TEST] Fix test to take care of refresh failures after successful commit

time:
2015-04-25T17:32:32Z
class:
comments:
Docs: The name of scroll ID attribute in the response is "_scroll_id" rather than "scroll_id"

Closes #10691

time:
2015-04-25T17:27:55Z
class:
comments:
Docs: Fixed pattern-capture token filter example

Closes #10690

time:
2015-04-25T17:07:21Z
class:
comments:
Docs: Update extendedstats-aggregation.asciidoc

code snippet should show ExtendedStats, not Stats

Closes #10683

time:
2015-04-25T15:22:39Z
class:
src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
comments:
Import explicitly org.mozilla.javascript.Script

Because we have now a new class in elasticsearch master branch which conflicts.

time:
2015-04-25T14:49:49Z
class:
comments:
Docs: Note that include_in_parent/root does not apply to geo-shape fields

Closes #10653

time:
2015-04-25T14:29:35Z
class:
src/main/java/org/elasticsearch/index/mapper/attachment/AttachmentMapper.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/standalone/StandaloneRunner.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/DateAttachmentMapperTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/EncryptedDocMapperTest.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/LanguageDetectionAttachmentMapperTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/MetadataMapperTest.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/MultifieldAttachmentMapperTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/SimpleAttachmentMapperTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/VariousDocTest.java
comments:
Mappings: Simplified mapper lookups

Due to https://github.com/elastic/elasticsearch/pull/10705

We need to adapt the mapper attachment plugin to version 2.0.0

Closes #125.

time:
2015-04-25T11:08:36Z
class:
src/main/java/org/elasticsearch/bootstrap/Security.java
src/main/java/org/elasticsearch/env/Environment.java
src/main/java/org/elasticsearch/node/Node.java
comments:
Remove working directory

This commit removes the working directory and its associated environment variable "WORK_DIR"

time:
2015-04-25T02:38:43Z
class:
src/test/java/org/elasticsearch/search/aggregations/reducers/ReducerHelperTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/moving/avg/MovAvgTests.java
comments:
Rename helpers to follow naming conventions

time:
2015-04-24T22:07:16Z
class:
src/main/java/org/elasticsearch/common/util/BigArrays.java
src/test/java/org/elasticsearch/common/bytes/PagedBytesReferenceTest.java
src/test/java/org/elasticsearch/common/util/BigArraysTests.java
src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTest.java
src/test/java/org/elasticsearch/test/cache/recycler/MockBigArrays.java
src/test/java/org/elasticsearch/transport/NettySizeHeaderFrameDecoderTests.java
src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
comments:
Merge pull request #10798 from mfussenegger/bigarrays

Internal: Change BigArrays to not extend AbstractComponent

In order to avoid the getLogger(getClass()) calls in the
AbstractComponent constructor.

Seems like BigArrays used to be a Singleton but it actually
no longer is one. Every time a SearchContext is created a
new BigArrays instance is created via the
withCircuitBreaking call.

closes #10798

time:
2015-04-24T20:34:32Z
class:
src/main/java/org/elasticsearch/common/util/BigArrays.java
src/test/java/org/elasticsearch/common/bytes/PagedBytesReferenceTest.java
src/test/java/org/elasticsearch/common/util/BigArraysTests.java
src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTest.java
src/test/java/org/elasticsearch/test/cache/recycler/MockBigArrays.java
src/test/java/org/elasticsearch/transport/NettySizeHeaderFrameDecoderTests.java
src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
comments:
change BigArrays to not extend AbstractComponent

In order to avoid the ``getLogger(getClass())`` calls in the
AbstractComponent constructor.

Seems like BigArrays used to be a Singleton but it actually
no longer is one. Every time a SearchContext is created a
new BigArrays instance is created via the
``withCircuitBreaking`` call.

time:
2015-04-24T20:20:50Z
class:
src/main/java/org/elasticsearch/action/ActionWriteResponse.java
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/index/IndexResponse.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/cluster/ClusterService.java
src/main/java/org/elasticsearch/cluster/ClusterStateObserver.java
src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
src/main/java/org/elasticsearch/common/Strings.java
src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryUnitTest.java
src/test/java/org/elasticsearch/indices/state/RareClusterStateTests.java
comments:
Merge pull request #10786 from jpountz/fix/dynamic_mappings_on_replicas

Internal: Wait for required mappings to be available on the replica before indexing.

time:
2015-04-24T20:00:06Z
class:
src/main/java/org/elasticsearch/action/ActionWriteResponse.java
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/index/IndexResponse.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/cluster/ClusterService.java
src/main/java/org/elasticsearch/cluster/ClusterStateObserver.java
src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
src/main/java/org/elasticsearch/common/Strings.java
src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryUnitTest.java
src/test/java/org/elasticsearch/indices/state/RareClusterStateTests.java
comments:
Internal: Wait for required mappings to be available on the replica before indexing.

Due to timing issues, mappings that are required to index a document might not
be available on the replica at indexing time. In that case the replica starts
listening to cluster state changes and re-parses the document until no dynamic
mappings updates are generated.

time:
2015-04-24T19:38:32Z
class:
src/test/java/org/elasticsearch/index/analysis/AnalysisFactoryTests.java
comments:
Upgrade to lucene-5.2-snapshot-1675927

time:
2015-04-24T19:23:58Z
class:
comments:
Mustache tags syntax

Hi there. I've been experimenting with the search templates recently and I'm a bit confused. Shouldn't the Mustache tags be written like `{{tagname}}` instead of `{tagname}`? Your using `{{...}}` [here](http://www.elastic.co/guide/en/elasticsearch/reference/current/search-template.html) BTW.

Using the first example in that page  seems to indicate that something's wrong, or am I missing something?

```
$ curl 'localhost:9200/test/_search' -d '{"query":{"template":{"query":{"match":{"text":"{keywords}"}},"params":{"keywords":"value1_foo"}}}}'
{"took":1,"timed_out":false,"_shards":{"total":1,"successful":1,"failed":0},"hits":{"total":0,"max_score":null,"hits":[]}}

$ curl 'localhost:9200/test/_search' -d '{"query":{"template":{"query":{"match":{"text":"{{keywords}}"}},"params":{"keywords":"value1_foo"}}}}'
{"took":1,"timed_out":false,"_shards":{"total":1,"successful":1,"failed":0},"hits":{"total":1,"max_score":1.0,"hits":[{"_index":"test","_type":"testtype","_id":"1","_score":1.0,"_source":{"text":"value1_foo"}}]}}
```

time:
2015-04-24T18:57:09Z
class:
src/main/java/org/elasticsearch/index/engine/CommitStats.java
comments:
CommitStats doesn't need to allow for null values in commit user data

Lucene forbids writing those and MapBuilder.immutableMap doesn't like them either, as discovered by @brwe

Closes #10774

time:
2015-04-24T17:00:54Z
class:
comments:
Disable security manager when running with `mvn exec:exec`

time:
2015-04-24T16:23:00Z
class:
src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/indices/IndicesModule.java
src/main/java/org/elasticsearch/indices/SyncedFlushService.java
src/main/java/org/elasticsearch/indices/syncedflush/PreSyncedFlushRequest.java
src/main/java/org/elasticsearch/indices/syncedflush/PreSyncedFlushResponse.java
src/main/java/org/elasticsearch/indices/syncedflush/PreSyncedShardFlushRequest.java
src/main/java/org/elasticsearch/indices/syncedflush/PreSyncedShardFlushResponse.java
src/main/java/org/elasticsearch/indices/syncedflush/SyncedFlushReplicaResponse.java
src/main/java/org/elasticsearch/indices/syncedflush/SyncedFlushRequest.java
src/main/java/org/elasticsearch/indices/syncedflush/SyncedFlushResponse.java
src/main/java/org/elasticsearch/indices/syncedflush/SyncedFlushService.java
src/main/java/org/elasticsearch/indices/syncedflush/TransportPreSyncedFlushAction.java
src/main/java/org/elasticsearch/indices/syncedflush/TransportSyncedFlushAction.java
src/test/java/org/elasticsearch/cluster/routing/RoutingTableTest.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/indices/FlushTest.java
src/test/java/org/elasticsearch/indices/syncedflush/SynceFlushStreamablesTests.java
comments:
Refactor all actions into inner actions in SyncedFlushService. Add an inflight counter action. Add SyncedFlushResult counter

time:
2015-04-24T15:19:46Z
class:
src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
src/main/java/org/elasticsearch/index/mapper/DocumentFieldMappers.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/FieldMapperListener.java
src/main/java/org/elasticsearch/index/mapper/FieldMappersLookup.java
src/main/java/org/elasticsearch/index/mapper/Mapper.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/MapperUtils.java
src/main/java/org/elasticsearch/index/mapper/Mapping.java
src/main/java/org/elasticsearch/index/mapper/MergeResult.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SizeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/main/java/org/elasticsearch/index/mapper/object/RootObjectMapper.java
src/test/java/org/elasticsearch/index/mapper/FieldMappersLookupTests.java
src/test/java/org/elasticsearch/index/mapper/copyto/CopyToMapperTests.java
src/test/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalRootMapper.java
src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/index/IndexTypeMapperTests.java
src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/merge/TestMergeMapperTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/merge/JavaMultiFieldMergeTests.java
src/test/java/org/elasticsearch/index/mapper/size/SizeMappingTests.java
src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
comments:
Mappings: Join MergeResults with MergeContext since they are almost the same

MergeContext currently exists to store conflicts, and providing
a mechanism to add dynamic fields. MergeResults store the same
conflicts. This change merges the two classes together, as well
as removes the MergeFlags construct.

This is in preparation for simplifying the callback structures
to dynamically add fields, which will require storing the mapping
updates in the results, instead of having a sneaky callback to
the DocumentMapper instance. It also just makes more sense that
the "results" of a merge are conflicts that occurred, along with
updates that may have occurred. For MergeFlags, any future needs
for parameterizing the merge (which seems unlikely) can just be
added directly to the MergeResults as simlulate is with this change.

time:
2015-04-24T14:39:35Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
comments:
Merge pull request #10784 from rmuir/reformat_bootstrap

Use Tuple only as return value in Bootstrap

time:
2015-04-24T14:09:30Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
comments:
style changes to Bootstrap

time:
2015-04-24T13:57:07Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/Security.java
src/main/java/org/elasticsearch/env/Environment.java
src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
comments:
Merge pull request #10717 from rmuir/put_me_in_coach

enable securitymanager

time:
2015-04-24T13:51:01Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
comments:
add constant only used once to make it harder to read the code

time:
2015-04-24T13:45:19Z
class:
src/main/java/org/elasticsearch/ElasticsearchException.java
src/main/java/org/elasticsearch/ExceptionsHelper.java
src/main/java/org/elasticsearch/action/ActionWriteResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/TransportLivenessAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/shutdown/TransportNodesShutdownAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/TransportDeleteRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/TransportGetRepositoriesAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/TransportPutRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/TransportVerifyRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/TransportRestoreSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/tasks/TransportPendingClusterTasksAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/TransportIndicesAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/exists/TransportAliasesExistAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/create/TransportCreateIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/TransportIndicesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
src/main/java/org/elasticsearch/action/admin/indices/get/TransportGetIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetMappingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
src/main/java/org/elasticsearch/action/admin/indices/open/TransportOpenIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/get/TransportGetSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/put/TransportUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/TransportDeleteIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/TransportGetIndexTemplatesAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/TransportPutIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/get/TransportGetWarmersAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java
src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java
src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/count/TransportCountAction.java
src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportShardDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
src/main/java/org/elasticsearch/action/get/TransportGetAction.java
src/main/java/org/elasticsearch/action/get/TransportMultiGetAction.java
src/main/java/org/elasticsearch/action/get/TransportShardMultiGetAction.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/action/indexedscripts/delete/TransportDeleteIndexedScriptAction.java
src/main/java/org/elasticsearch/action/indexedscripts/get/TransportGetIndexedScriptAction.java
src/main/java/org/elasticsearch/action/indexedscripts/put/TransportPutIndexedScriptAction.java
src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java
src/main/java/org/elasticsearch/action/percolate/TransportMultiPercolateAction.java
src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
src/main/java/org/elasticsearch/action/percolate/TransportShardMultiPercolateAction.java
src/main/java/org/elasticsearch/action/search/SearchPhaseExecutionException.java
src/main/java/org/elasticsearch/action/search/ShardSearchFailure.java
src/main/java/org/elasticsearch/action/search/TransportClearScrollAction.java
src/main/java/org/elasticsearch/action/search/TransportMultiSearchAction.java
src/main/java/org/elasticsearch/action/search/TransportSearchAction.java
src/main/java/org/elasticsearch/action/search/TransportSearchScrollAction.java
src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
src/main/java/org/elasticsearch/action/support/DefaultShardOperationFailedException.java
src/main/java/org/elasticsearch/action/support/HandledTransportAction.java
src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastOperationAction.java
src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeOperationAction.java
src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeReadOperationAction.java
src/main/java/org/elasticsearch/action/support/master/info/TransportClusterInfoAction.java
src/main/java/org/elasticsearch/action/support/nodes/TransportNodesOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/ShardReplicationOperationRequest.java
src/main/java/org/elasticsearch/action/support/replication/TransportIndexReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportIndicesReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/single/custom/SingleCustomOperationRequest.java
src/main/java/org/elasticsearch/action/support/single/custom/TransportSingleCustomOperationAction.java
src/main/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationAction.java
src/main/java/org/elasticsearch/action/support/single/shard/SingleShardOperationRequest.java
src/main/java/org/elasticsearch/action/support/single/shard/TransportShardSingleOperationAction.java
src/main/java/org/elasticsearch/action/termvectors/TransportMultiTermVectorsAction.java
src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
src/main/java/org/elasticsearch/action/termvectors/dfs/TransportDfsOnlyAction.java
src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
src/main/java/org/elasticsearch/cluster/action/index/NodeMappingRefreshAction.java
src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
src/main/java/org/elasticsearch/common/io/stream/BytesStreamOutput.java
src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
src/main/java/org/elasticsearch/common/transport/DummyTransportAddress.java
src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
src/main/java/org/elasticsearch/discovery/zen/fd/NodesFaultDetection.java
src/main/java/org/elasticsearch/discovery/zen/membership/MembershipAction.java
src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java
src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
src/main/java/org/elasticsearch/index/IndexException.java
src/main/java/org/elasticsearch/index/IndexService.java
src/main/java/org/elasticsearch/index/mapper/core/Murmur3FieldMapper.java
src/main/java/org/elasticsearch/index/percolator/PercolatorException.java
src/main/java/org/elasticsearch/index/query/QueryParsingException.java
src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
src/main/java/org/elasticsearch/index/shard/IndexShardException.java
src/main/java/org/elasticsearch/index/store/FsDirectoryService.java
src/main/java/org/elasticsearch/index/store/IndexStore.java
src/main/java/org/elasticsearch/index/store/IndexStoreModule.java
src/main/java/org/elasticsearch/index/store/fs/DefaultFsDirectoryService.java
src/main/java/org/elasticsearch/index/store/fs/DefaultFsIndexStore.java
src/main/java/org/elasticsearch/index/store/fs/DefaultFsIndexStoreModule.java
src/main/java/org/elasticsearch/index/store/fs/MmapFsDirectoryService.java
src/main/java/org/elasticsearch/index/store/fs/MmapFsIndexStore.java
src/main/java/org/elasticsearch/index/store/fs/MmapFsIndexStoreModule.java
src/main/java/org/elasticsearch/index/store/fs/NioFsDirectoryService.java
src/main/java/org/elasticsearch/index/store/fs/NioFsIndexStore.java
src/main/java/org/elasticsearch/index/store/fs/NioFsIndexStoreModule.java
src/main/java/org/elasticsearch/index/store/fs/SimpleFsDirectoryService.java
src/main/java/org/elasticsearch/index/store/fs/SimpleFsIndexStore.java
src/main/java/org/elasticsearch/index/store/fs/SimpleFsIndexStoreModule.java
src/main/java/org/elasticsearch/index/store/support/AbstractIndexStore.java
src/main/java/org/elasticsearch/indices/AliasFilterParsingException.java
src/main/java/org/elasticsearch/indices/IndexMissingException.java
src/main/java/org/elasticsearch/indices/TypeMissingException.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySource.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
src/main/java/org/elasticsearch/indices/store/IndicesStore.java
src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
src/main/java/org/elasticsearch/repositories/VerifyNodeRepositoryAction.java
src/main/java/org/elasticsearch/rest/BytesRestResponse.java
src/main/java/org/elasticsearch/river/cluster/PublishRiverClusterStateAction.java
src/main/java/org/elasticsearch/search/SearchContextException.java
src/main/java/org/elasticsearch/search/SearchParseException.java
src/main/java/org/elasticsearch/search/action/SearchServiceTransportAction.java
src/main/java/org/elasticsearch/snapshots/RestoreService.java
src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
src/main/java/org/elasticsearch/transport/BaseTransportRequestHandler.java
src/main/java/org/elasticsearch/transport/RequestHandlerRegistry.java
src/main/java/org/elasticsearch/transport/TransportRequestHandler.java
src/main/java/org/elasticsearch/transport/TransportService.java
src/main/java/org/elasticsearch/transport/TransportServiceAdapter.java
src/main/java/org/elasticsearch/transport/local/LocalTransport.java
src/main/java/org/elasticsearch/transport/netty/MessageChannelHandler.java
src/test/java/org/elasticsearch/ElasticsearchExceptionTests.java
src/test/java/org/elasticsearch/action/IndicesRequestTests.java
src/test/java/org/elasticsearch/action/bulk/BulkProcessorClusterSettingsTests.java
src/test/java/org/elasticsearch/action/support/replication/ShardReplicationOperationTests.java
src/test/java/org/elasticsearch/benchmark/transport/BenchmarkNettyLargeMessages.java
src/test/java/org/elasticsearch/benchmark/transport/TransportBenchmark.java
src/test/java/org/elasticsearch/client/transport/TransportClientTests.java
src/test/java/org/elasticsearch/cluster/metadata/MetaDataTests.java
src/test/java/org/elasticsearch/deleteByQuery/DeleteByQueryTests.java
src/test/java/org/elasticsearch/document/BulkTests.java
src/test/java/org/elasticsearch/fieldstats/FieldStatsIntegrationTests.java
src/test/java/org/elasticsearch/index/mapper/core/Murmur3FieldMapperTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/index/store/IndexStoreTests.java
src/test/java/org/elasticsearch/indices/memory/breaker/CircuitBreakerServiceTests.java
src/test/java/org/elasticsearch/indices/settings/UpdateSettingsTests.java
src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateTests.java
src/test/java/org/elasticsearch/nested/SimpleNestedTests.java
src/test/java/org/elasticsearch/rest/BytesRestResponseTests.java
src/test/java/org/elasticsearch/script/GroovySandboxScriptTests.java
src/test/java/org/elasticsearch/script/GroovyScriptTests.java
src/test/java/org/elasticsearch/script/IndexLookupTests.java
src/test/java/org/elasticsearch/script/IndexedScriptTests.java
src/test/java/org/elasticsearch/script/OnDiskScriptTests.java
src/test/java/org/elasticsearch/script/SandboxDisabledTests.java
src/test/java/org/elasticsearch/script/expression/ExpressionScriptTests.java
src/test/java/org/elasticsearch/search/aggregations/AggregationsIntegrationTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/HistogramTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/NestedTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsTests.java
src/test/java/org/elasticsearch/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreTests.java
src/test/java/org/elasticsearch/search/query/SearchQueryTests.java
src/test/java/org/elasticsearch/search/simple/SimpleSearchTests.java
src/test/java/org/elasticsearch/search/sort/SimpleSortTests.java
src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearchTests.java
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/test/cluster/TestClusterService.java
src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
src/test/java/org/elasticsearch/test/store/MockDirectoryHelper.java
src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
src/test/java/org/elasticsearch/test/store/MockFSIndexStore.java
src/test/java/org/elasticsearch/test/transport/CapturingTransport.java
src/test/java/org/elasticsearch/test/transport/MockTransportService.java
src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTests.java
src/test/java/org/elasticsearch/transport/ActionNamesTests.java
src/test/java/org/elasticsearch/transport/netty/NettyScheduledPingTests.java
src/test/java/org/elasticsearch/transport/netty/NettyTransportTests.java
comments:
Merge branch 'master' into put_me_in_coach

time:
2015-04-24T13:04:25Z
class:
src/main/java/org/elasticsearch/transport/RequestHandlerRegistry.java
comments:
TEST: assert we can create an instance of request

time:
2015-04-24T12:37:19Z
class:
src/main/java/org/elasticsearch/cloud/gce/GceComputeService.java
src/main/java/org/elasticsearch/cloud/gce/GceComputeServiceImpl.java
src/main/java/org/elasticsearch/cloud/gce/GceSettingsFilter.java
src/main/java/org/elasticsearch/discovery/gce/GceDiscovery.java
src/main/java/org/elasticsearch/discovery/gce/GceUnicastHostsProvider.java
src/test/java/org/elasticsearch/discovery/gce/GceComputeEngineTest.java
src/test/java/org/elasticsearch/discovery/gce/mock/GceComputeServiceAbstractMock.java
src/test/java/org/elasticsearch/discovery/gce/mock/GceComputeServiceZeroNodeMock.java
comments:
Remove component settings from AbstractComponent

Related to elasticsearch/elasticsearch#9919

Closes #50.

time:
2015-04-24T12:11:43Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/TransportLivenessAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/shutdown/TransportNodesShutdownAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/TransportDeleteRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/TransportGetRepositoriesAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/TransportPutRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/TransportVerifyRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/TransportRestoreSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/tasks/TransportPendingClusterTasksAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/TransportIndicesAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/exists/TransportAliasesExistAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/create/TransportCreateIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/TransportIndicesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
src/main/java/org/elasticsearch/action/admin/indices/get/TransportGetIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetMappingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
src/main/java/org/elasticsearch/action/admin/indices/open/TransportOpenIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/get/TransportGetSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/put/TransportUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/TransportDeleteIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/TransportGetIndexTemplatesAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/TransportPutIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/get/TransportGetWarmersAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java
src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/count/TransportCountAction.java
src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportShardDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
src/main/java/org/elasticsearch/action/get/TransportGetAction.java
src/main/java/org/elasticsearch/action/get/TransportMultiGetAction.java
src/main/java/org/elasticsearch/action/get/TransportShardMultiGetAction.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/action/indexedscripts/delete/TransportDeleteIndexedScriptAction.java
src/main/java/org/elasticsearch/action/indexedscripts/get/TransportGetIndexedScriptAction.java
src/main/java/org/elasticsearch/action/indexedscripts/put/TransportPutIndexedScriptAction.java
src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java
src/main/java/org/elasticsearch/action/percolate/TransportMultiPercolateAction.java
src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
src/main/java/org/elasticsearch/action/percolate/TransportShardMultiPercolateAction.java
src/main/java/org/elasticsearch/action/search/TransportClearScrollAction.java
src/main/java/org/elasticsearch/action/search/TransportMultiSearchAction.java
src/main/java/org/elasticsearch/action/search/TransportSearchAction.java
src/main/java/org/elasticsearch/action/search/TransportSearchScrollAction.java
src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
src/main/java/org/elasticsearch/action/support/HandledTransportAction.java
src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastOperationAction.java
src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeOperationAction.java
src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeReadOperationAction.java
src/main/java/org/elasticsearch/action/support/master/info/TransportClusterInfoAction.java
src/main/java/org/elasticsearch/action/support/nodes/TransportNodesOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/ShardReplicationOperationRequest.java
src/main/java/org/elasticsearch/action/support/replication/TransportIndicesReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/single/custom/SingleCustomOperationRequest.java
src/main/java/org/elasticsearch/action/support/single/custom/TransportSingleCustomOperationAction.java
src/main/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationAction.java
src/main/java/org/elasticsearch/action/support/single/shard/SingleShardOperationRequest.java
src/main/java/org/elasticsearch/action/support/single/shard/TransportShardSingleOperationAction.java
src/main/java/org/elasticsearch/action/termvectors/TransportMultiTermVectorsAction.java
src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
src/main/java/org/elasticsearch/action/termvectors/dfs/TransportDfsOnlyAction.java
src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
src/main/java/org/elasticsearch/cluster/action/index/NodeMappingRefreshAction.java
src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
src/main/java/org/elasticsearch/discovery/zen/fd/NodesFaultDetection.java
src/main/java/org/elasticsearch/discovery/zen/membership/MembershipAction.java
src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java
src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySource.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
src/main/java/org/elasticsearch/indices/store/IndicesStore.java
src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
src/main/java/org/elasticsearch/repositories/VerifyNodeRepositoryAction.java
src/main/java/org/elasticsearch/river/cluster/PublishRiverClusterStateAction.java
src/main/java/org/elasticsearch/search/action/SearchServiceTransportAction.java
src/main/java/org/elasticsearch/snapshots/RestoreService.java
src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
src/main/java/org/elasticsearch/transport/BaseTransportRequestHandler.java
src/main/java/org/elasticsearch/transport/RequestHandlerRegistry.java
src/main/java/org/elasticsearch/transport/TransportRequestHandler.java
src/main/java/org/elasticsearch/transport/TransportService.java
src/main/java/org/elasticsearch/transport/TransportServiceAdapter.java
src/main/java/org/elasticsearch/transport/local/LocalTransport.java
src/main/java/org/elasticsearch/transport/netty/MessageChannelHandler.java
src/test/java/org/elasticsearch/action/IndicesRequestTests.java
src/test/java/org/elasticsearch/action/support/replication/ShardReplicationOperationTests.java
src/test/java/org/elasticsearch/benchmark/transport/BenchmarkNettyLargeMessages.java
src/test/java/org/elasticsearch/benchmark/transport/TransportBenchmark.java
src/test/java/org/elasticsearch/test/transport/MockTransportService.java
src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTests.java
src/test/java/org/elasticsearch/transport/ActionNamesTests.java
src/test/java/org/elasticsearch/transport/netty/NettyScheduledPingTests.java
src/test/java/org/elasticsearch/transport/netty/NettyTransportTests.java
comments:
refactor and cleanup transport request handling

This refactoring and cleanup is that each request handler ends up
implementing too many methods that can be provided when the request handler itself
is registered, including a prototype like class that can be used to instantiate
new request instances for streaming.
closes #10730

time:
2015-04-24T11:18:35Z
class:
src/test/java/org/elasticsearch/ElasticsearchExceptionTests.java
src/test/java/org/elasticsearch/rest/BytesRestResponseTests.java
comments:
[TEST] Don't use pretty print in tests Windowns has slight differences

time:
2015-04-24T11:10:36Z
class:
src/main/java/org/elasticsearch/index/IndexService.java
src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
src/main/java/org/elasticsearch/index/store/FsDirectoryService.java
src/main/java/org/elasticsearch/index/store/IndexStore.java
src/main/java/org/elasticsearch/index/store/IndexStoreModule.java
src/main/java/org/elasticsearch/index/store/fs/DefaultFsDirectoryService.java
src/main/java/org/elasticsearch/index/store/fs/DefaultFsIndexStore.java
src/main/java/org/elasticsearch/index/store/fs/DefaultFsIndexStoreModule.java
src/main/java/org/elasticsearch/index/store/fs/MmapFsDirectoryService.java
src/main/java/org/elasticsearch/index/store/fs/MmapFsIndexStore.java
src/main/java/org/elasticsearch/index/store/fs/MmapFsIndexStoreModule.java
src/main/java/org/elasticsearch/index/store/fs/NioFsDirectoryService.java
src/main/java/org/elasticsearch/index/store/fs/NioFsIndexStore.java
src/main/java/org/elasticsearch/index/store/fs/NioFsIndexStoreModule.java
src/main/java/org/elasticsearch/index/store/fs/SimpleFsDirectoryService.java
src/main/java/org/elasticsearch/index/store/fs/SimpleFsIndexStore.java
src/main/java/org/elasticsearch/index/store/fs/SimpleFsIndexStoreModule.java
src/main/java/org/elasticsearch/index/store/support/AbstractIndexStore.java
src/main/java/org/elasticsearch/indices/store/IndicesStore.java
src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
src/test/java/org/elasticsearch/client/transport/TransportClientTests.java
src/test/java/org/elasticsearch/index/store/IndexStoreTests.java
src/test/java/org/elasticsearch/indices/settings/UpdateSettingsTests.java
src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/test/store/MockDirectoryHelper.java
src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
src/test/java/org/elasticsearch/test/store/MockFSIndexStore.java
comments:
[CORE] Simplify IndexStore and friends

Today we have a lot of bloat in the IndexStore and related classes. THe IndexStore interface
is unneeded as we always subclass AbstractIndexStore and it hides circular dependencies
that are problematic when added. Guice proxies them if you have an interface which is bad in
general. This commit removes most of the bloat classes and unifies all the classes we have
into a single one since they all just structural and don't encode any functionality.

time:
2015-04-24T10:47:11Z
class:
src/main/java/org/elasticsearch/cloud/aws/AwsEc2Service.java
src/main/java/org/elasticsearch/cloud/aws/AwsSigner.java
src/main/java/org/elasticsearch/cloud/aws/InternalAwsS3Service.java
src/test/java/org/elasticsearch/cloud/aws/AWSSignersTest.java
comments:
Add EC2/S3 Signer API setting

If you are using a compatible EC2 or S3 service, they might be using an older API to sign the requests.

You can set your compatible signer API using `cloud.aws.signer` (or `cloud.aws.ec2.signer` and `cloud.aws.s3.signer`) with the right signer to use.

Defaults to `AWS4SignerType`.

Supported today (time when this commit is done):

* `QueryStringSignerType`
* `AWS3SignerType`
* `AWS4SignerType`
* `NoOpSignerType`

Closes #155.
(cherry picked from commit 33b18b4)
(cherry picked from commit 9809af5)

time:
2015-04-24T10:41:36Z
class:
comments:
Remove oss snapshot repo as defined in parent

(cherry picked from commit 20e154e)
(cherry picked from commit 994c8ef)

time:
2015-04-24T10:41:23Z
class:
comments:
Update to GCE API v1-rev59-1.20.0

GCE API have been updated to `v1-rev59-1.20.0`.

We now can depend only on:

```xml
<dependency>
  <groupId>com.google.apis</groupId>
  <artifactId>google-api-services-compute</artifactId>
  <version>v1-rev59-1.20.0</version>
</dependency>
```

It comes with all needed dependencies.

Closes #49.
(cherry picked from commit f95dc16)
(cherry picked from commit 4ee6c95)

time:
2015-04-24T10:39:35Z
class:
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/common/transport/DummyTransportAddress.java
src/test/java/org/elasticsearch/action/support/replication/ShardReplicationOperationTests.java
src/test/java/org/elasticsearch/test/cluster/TestClusterService.java
src/test/java/org/elasticsearch/test/transport/CapturingTransport.java
comments:
Refactor TransportShardReplicationOperationAction

Refactor TransportShardReplicationOperationAction state management into clear separate Primary phase and Replication phase. The primary phase is responsible for routing the request to the node holding the primary, validating it and performing the operation on the primary. The Replication phase is responsible for sending the request to the replicas and managing their responses.

This also adds unit test infrastructure for this class, and some basic tests. We can extend later as we continue developing.

Closes #10749

time:
2015-04-24T10:06:18Z
class:
src/test/java/org/elasticsearch/fieldstats/FieldStatsIntegrationTests.java
comments:
Test: wait for green

time:
2015-04-24T09:01:54Z
class:
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportIndexDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/deletebyquery/TransportShardDeleteByQueryAction.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportIndexReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportIndicesReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/client/IndicesAdminClient.java
src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/indices/IndicesModule.java
src/main/java/org/elasticsearch/indices/SyncedFlushService.java
src/main/java/org/elasticsearch/indices/syncedflush/PreSyncedFlushRequest.java
src/main/java/org/elasticsearch/indices/syncedflush/PreSyncedFlushResponse.java
src/main/java/org/elasticsearch/indices/syncedflush/PreSyncedShardFlushRequest.java
src/main/java/org/elasticsearch/indices/syncedflush/PreSyncedShardFlushResponse.java
src/main/java/org/elasticsearch/indices/syncedflush/SyncedFlushReplicaResponse.java
src/main/java/org/elasticsearch/indices/syncedflush/SyncedFlushRequest.java
src/main/java/org/elasticsearch/indices/syncedflush/SyncedFlushResponse.java
src/main/java/org/elasticsearch/indices/syncedflush/SyncedFlushService.java
src/main/java/org/elasticsearch/indices/syncedflush/TransportPreSyncedFlushAction.java
src/main/java/org/elasticsearch/indices/syncedflush/TransportSyncedFlushAction.java
src/test/java/org/elasticsearch/cluster/routing/RoutingTableTest.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/indices/FlushTest.java
src/test/java/org/elasticsearch/indices/syncedflush/SynceFlushStreamablesTests.java
comments:
sync commit actions

time:
2015-04-24T08:37:55Z
class:
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
comments:
Remove dead code

time:
2015-04-24T08:09:24Z
class:
src/test/java/org/elasticsearch/script/IndexLookupTests.java
comments:
[TEST] use toString rather than getDetailedMessage()

time:
2015-04-24T07:43:16Z
class:
src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateTests.java
comments:
bulk: Fields defined in the `_default_` mapping of an index template should be picked up when an index alias filter is parsed if a new index is introduced when a document is indexed into an index that doesn't exist yet via the bulk api.

Closes #10609

time:
2015-04-24T07:36:10Z
class:
src/main/java/org/elasticsearch/ElasticsearchException.java
src/main/java/org/elasticsearch/ExceptionsHelper.java
src/main/java/org/elasticsearch/action/ActionWriteResponse.java
src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/search/SearchPhaseExecutionException.java
src/main/java/org/elasticsearch/action/search/ShardSearchFailure.java
src/main/java/org/elasticsearch/action/support/DefaultShardOperationFailedException.java
src/main/java/org/elasticsearch/action/support/replication/TransportIndexReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/common/io/stream/BytesStreamOutput.java
src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
src/main/java/org/elasticsearch/index/IndexException.java
src/main/java/org/elasticsearch/index/percolator/PercolatorException.java
src/main/java/org/elasticsearch/index/query/QueryParsingException.java
src/main/java/org/elasticsearch/index/shard/IndexShardException.java
src/main/java/org/elasticsearch/indices/AliasFilterParsingException.java
src/main/java/org/elasticsearch/indices/IndexMissingException.java
src/main/java/org/elasticsearch/indices/TypeMissingException.java
src/main/java/org/elasticsearch/rest/BytesRestResponse.java
src/main/java/org/elasticsearch/search/SearchContextException.java
src/main/java/org/elasticsearch/search/SearchParseException.java
src/test/java/org/elasticsearch/ElasticsearchExceptionTests.java
src/test/java/org/elasticsearch/action/bulk/BulkProcessorClusterSettingsTests.java
src/test/java/org/elasticsearch/cluster/metadata/MetaDataTests.java
src/test/java/org/elasticsearch/deleteByQuery/DeleteByQueryTests.java
src/test/java/org/elasticsearch/document/BulkTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/indices/memory/breaker/CircuitBreakerServiceTests.java
src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateTests.java
src/test/java/org/elasticsearch/nested/SimpleNestedTests.java
src/test/java/org/elasticsearch/rest/BytesRestResponseTests.java
src/test/java/org/elasticsearch/script/GroovySandboxScriptTests.java
src/test/java/org/elasticsearch/script/GroovyScriptTests.java
src/test/java/org/elasticsearch/script/IndexLookupTests.java
src/test/java/org/elasticsearch/script/IndexedScriptTests.java
src/test/java/org/elasticsearch/script/OnDiskScriptTests.java
src/test/java/org/elasticsearch/script/SandboxDisabledTests.java
src/test/java/org/elasticsearch/script/expression/ExpressionScriptTests.java
src/test/java/org/elasticsearch/search/aggregations/AggregationsIntegrationTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/HistogramTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/NestedTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsTests.java
src/test/java/org/elasticsearch/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreTests.java
src/test/java/org/elasticsearch/search/query/SearchQueryTests.java
src/test/java/org/elasticsearch/search/simple/SimpleSearchTests.java
src/test/java/org/elasticsearch/search/sort/SimpleSortTests.java
src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearchTests.java
src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
comments:
[REST] Render REST errors in a structural way

This commit adds support for structural errors / failures / exceptions
on the elasticsearch REST layer. Exceptions are rendering with at least
a `type` and a `reason` corresponding to the exception name and the message.
Some expcetions like the ones associated with an index or a shard will have
additional information about the index the exception was triggered on or the
shard respectivly.

Each rendered response will also contain a list of root causes which is a list
of distinct shard level errors returned for the request. Root causes are the lowest
level elasticsearch exception found per shard response and are intended to be displayed
to the user to indicate the soruce of the exception.

Shard level response are by-default grouped by their type and reason to reduce the amount
of duplicates retunred. Yet, the same exception retunred from different indices will not be
grouped.

Closes #3303

time:
2015-04-24T07:10:23Z
class:
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
comments:
Test: add afterIfFailed & afterIfSuccessful to ElasticsearchTestCase

Also use afterIfFailed to log more info from the rest tests

time:
2015-04-24T04:48:42Z
class:
src/main/java/org/elasticsearch/index/mapper/core/Murmur3FieldMapper.java
src/test/java/org/elasticsearch/index/mapper/core/Murmur3FieldMapperTests.java
comments:
Mappings: Restrict murmur3 field type to sane options

Disabling doc values or trying to index hash values are not
correct uses of this the murmur3 field type, and just cause
problems.  This disallows changing doc values or index options
for 2.0+.

closes #10465

time:
2015-04-24T02:15:16Z
class:
src/main/java/org/elasticsearch/bootstrap/Security.java
comments:
Buffer this inputstream out of paranoia. guava copy goes byte-by-byte...

time:
2015-04-24T02:02:57Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/Security.java
src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
comments:
Remove policy config file, its a resource.
Remove exposed boolean to turn off security.
Add unit test

time:
2015-04-24T01:18:56Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/Security.java
comments:
remove logging statements for another bikeshed

time:
2015-04-23T23:13:58Z
class:
src/test/java/org/elasticsearch/search/aggregations/reducers/moving/avg/MovAvgTests.java
comments:
Fix bug in GiantGapWithPrediction, due to "slow start" of double exp

time:
2015-04-23T21:52:33Z
class:
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/MovAvgReducer.java
comments:
Fix bug where MovAvgReducer would allow NaN's to "corrupt" the moving avg

time:
2015-04-23T21:52:33Z
class:
src/test/java/org/elasticsearch/search/aggregations/reducers/ReducerTestHelpers.java
src/test/java/org/elasticsearch/search/aggregations/reducers/moving/avg/MovAvgTests.java
comments:
[TEST] Restructure MovAvgTests to be more generic, robust

time:
2015-04-23T20:03:19Z
class:
src/main/java/org/elasticsearch/bootstrap/Security.java
comments:
remove stray sop

time:
2015-04-23T20:01:16Z
class:
src/main/java/org/elasticsearch/bootstrap/Security.java
comments:
Ensure paths exist (or more permissions are needed later)

time:
2015-04-23T19:32:00Z
class:
src/main/java/org/elasticsearch/env/Environment.java
comments:
ensure we only pull system filestores once time

time:
2015-04-23T19:16:30Z
class:
comments:
Docs: Warning about the conflict with the Standard Tokenizer

The examples given requires a specific Tokenizer to work.

Closes: 10645

time:
2015-04-23T19:09:34Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/node/shutdown/TransportNodesShutdownAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/TransportDeleteRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/TransportGetRepositoriesAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/TransportPutRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/TransportVerifyRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/TransportRestoreSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
src/main/java/org/elasticsearch/action/admin/cluster/tasks/TransportPendingClusterTasksAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/TransportIndicesAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/exists/TransportAliasesExistAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/create/TransportCreateIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/TransportIndicesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
src/main/java/org/elasticsearch/action/admin/indices/get/TransportGetIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetMappingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
src/main/java/org/elasticsearch/action/admin/indices/open/TransportOpenIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/get/TransportGetSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/put/TransportUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/TransportDeleteIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/TransportGetIndexTemplatesAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/TransportPutIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/get/TransportGetWarmersAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java
src/main/java/org/elasticsearch/cluster/block/ClusterBlock.java
src/main/java/org/elasticsearch/cluster/block/ClusterBlockLevel.java
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/discovery/DiscoverySettings.java
src/main/java/org/elasticsearch/env/ESFileStore.java
src/main/java/org/elasticsearch/env/Environment.java
src/main/java/org/elasticsearch/env/NodeEnvironment.java
src/main/java/org/elasticsearch/tribe/TribeService.java
src/test/java/org/elasticsearch/action/admin/cluster/repositories/RepositoryBlocksTests.java
src/test/java/org/elasticsearch/action/admin/cluster/snapshots/SnapshotBlocksTests.java
src/test/java/org/elasticsearch/action/admin/cluster/tasks/PendingTasksBlocksTests.java
src/test/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheBlocksTests.java
src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexTests.java
src/test/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexBlocksTests.java
src/test/java/org/elasticsearch/action/admin/indices/flush/FlushBlocksTests.java
src/test/java/org/elasticsearch/action/admin/indices/get/GetIndexTests.java
src/test/java/org/elasticsearch/action/admin/indices/optimize/OptimizeBlocksTests.java
src/test/java/org/elasticsearch/action/admin/indices/refresh/RefreshBlocksTests.java
src/test/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsBlocksTests.java
src/test/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsBlocksTests.java
src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java
src/test/java/org/elasticsearch/blocks/SimpleBlocksTests.java
src/test/java/org/elasticsearch/cluster/BlockClusterStatsTests.java
src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteTests.java
src/test/java/org/elasticsearch/cluster/block/ClusterBlockTests.java
src/test/java/org/elasticsearch/cluster/settings/ClusterSettingsTests.java
src/test/java/org/elasticsearch/cluster/shards/ClusterSearchShardsTests.java
src/test/java/org/elasticsearch/gateway/RecoverAfterNodesTests.java
src/test/java/org/elasticsearch/indices/IndicesOptionsIntegrationTests.java
src/test/java/org/elasticsearch/indices/exists/indices/IndicesExistsTests.java
src/test/java/org/elasticsearch/indices/exists/types/TypesExistsTests.java
src/test/java/org/elasticsearch/indices/mapping/SimpleGetFieldMappingsTests.java
src/test/java/org/elasticsearch/indices/mapping/SimpleGetMappingsTests.java
src/test/java/org/elasticsearch/indices/mapping/UpdateMappingTests.java
src/test/java/org/elasticsearch/indices/settings/GetSettingsBlocksTests.java
src/test/java/org/elasticsearch/indices/settings/UpdateSettingsTests.java
src/test/java/org/elasticsearch/indices/state/OpenCloseIndexTests.java
src/test/java/org/elasticsearch/indices/template/IndexTemplateBlocksTests.java
src/test/java/org/elasticsearch/indices/warmer/IndicesWarmerBlocksTests.java
src/test/java/org/elasticsearch/river/RiverTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
comments:
Merge branch 'master' into put_me_in_coach

Conflicts:
	src/main/java/org/elasticsearch/env/NodeEnvironment.java

time:
2015-04-23T19:04:58Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/Security.java
comments:
Remove crazy permissions for filestores, ssds, now that
this logic has been refactored.

Log a warning when security is disabled.

time:
2015-04-23T17:29:24Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
comments:
Snapshot/Restore: remove obsolete expand_wildcards_open and  expand_wildcards_close options

In #6097 we made snapshot/restore index option consistent with other API. Now we can remove old style options from master.

Closes #10743

time:
2015-04-23T16:50:10Z
class:
src/main/java/org/elasticsearch/env/ESFileStore.java
src/main/java/org/elasticsearch/env/Environment.java
src/main/java/org/elasticsearch/env/NodeEnvironment.java
comments:
Merge pull request #10755 from rmuir/filestores

refactor SSD/FileStore logic out of NodeEnvironment

time:
2015-04-23T15:28:18Z
class:
src/main/java/org/elasticsearch/env/ESFileStore.java
src/main/java/org/elasticsearch/env/Environment.java
src/main/java/org/elasticsearch/env/NodeEnvironment.java
comments:
refactor SSD/FileStore logic out of NodeEnvironment

time:
2015-04-23T13:13:57Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/node/shutdown/TransportNodesShutdownAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/TransportDeleteRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/TransportGetRepositoriesAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/TransportPutRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/TransportVerifyRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/TransportRestoreSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
src/main/java/org/elasticsearch/action/admin/cluster/tasks/TransportPendingClusterTasksAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/TransportIndicesAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/exists/TransportAliasesExistAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/create/TransportCreateIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/TransportIndicesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
src/main/java/org/elasticsearch/action/admin/indices/get/TransportGetIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetMappingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
src/main/java/org/elasticsearch/action/admin/indices/open/TransportOpenIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/get/TransportGetSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/put/TransportUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/TransportDeleteIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/TransportGetIndexTemplatesAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/TransportPutIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/get/TransportGetWarmersAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java
src/main/java/org/elasticsearch/cluster/block/ClusterBlock.java
src/main/java/org/elasticsearch/cluster/block/ClusterBlockLevel.java
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/discovery/DiscoverySettings.java
src/main/java/org/elasticsearch/tribe/TribeService.java
src/test/java/org/elasticsearch/action/admin/cluster/repositories/RepositoryBlocksTests.java
src/test/java/org/elasticsearch/action/admin/cluster/snapshots/SnapshotBlocksTests.java
src/test/java/org/elasticsearch/action/admin/cluster/tasks/PendingTasksBlocksTests.java
src/test/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheBlocksTests.java
src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexTests.java
src/test/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexBlocksTests.java
src/test/java/org/elasticsearch/action/admin/indices/flush/FlushBlocksTests.java
src/test/java/org/elasticsearch/action/admin/indices/get/GetIndexTests.java
src/test/java/org/elasticsearch/action/admin/indices/optimize/OptimizeBlocksTests.java
src/test/java/org/elasticsearch/action/admin/indices/refresh/RefreshBlocksTests.java
src/test/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsBlocksTests.java
src/test/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsBlocksTests.java
src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java
src/test/java/org/elasticsearch/blocks/SimpleBlocksTests.java
src/test/java/org/elasticsearch/cluster/BlockClusterStatsTests.java
src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteTests.java
src/test/java/org/elasticsearch/cluster/block/ClusterBlockTests.java
src/test/java/org/elasticsearch/cluster/settings/ClusterSettingsTests.java
src/test/java/org/elasticsearch/cluster/shards/ClusterSearchShardsTests.java
src/test/java/org/elasticsearch/gateway/RecoverAfterNodesTests.java
src/test/java/org/elasticsearch/indices/IndicesOptionsIntegrationTests.java
src/test/java/org/elasticsearch/indices/exists/indices/IndicesExistsTests.java
src/test/java/org/elasticsearch/indices/exists/types/TypesExistsTests.java
src/test/java/org/elasticsearch/indices/mapping/SimpleGetFieldMappingsTests.java
src/test/java/org/elasticsearch/indices/mapping/SimpleGetMappingsTests.java
src/test/java/org/elasticsearch/indices/mapping/UpdateMappingTests.java
src/test/java/org/elasticsearch/indices/settings/GetSettingsBlocksTests.java
src/test/java/org/elasticsearch/indices/settings/UpdateSettingsTests.java
src/test/java/org/elasticsearch/indices/state/OpenCloseIndexTests.java
src/test/java/org/elasticsearch/indices/template/IndexTemplateBlocksTests.java
src/test/java/org/elasticsearch/indices/warmer/IndicesWarmerBlocksTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
comments:
Internal: Add METADATA_READ and METADATA_WRITE blocks

This commit splits the current ClusterBlockLevel.METADATA into two disctins ClusterBlockLevel.METADATA_READ and ClusterBlockLevel.METADATA_WRITE blocks. It allows to make a distinction between
an operation that modifies the index or cluster metadata and an operation that does not change any metadata.

Before this commit, many operations where blocked when the cluster was read-only: Cluster Stats, Get Mappings, Get Snapshot, Get Index Settings, etc. Now those operations are allowed even when
the cluster or the index is read-only.

Related to #8102, #2833

Closes #3703
Closes #5855
Closes #10521
Closes #10522
heya @tlrx you are planning to send another PR to remove this deprecated block on master and all the version checks right? sorry if you are already working on it, whcih is probably the case ;)


time:
2015-04-23T12:53:26Z
class:
src/test/java/org/elasticsearch/river/RiverTests.java
comments:
Tests: Mute RiverTests.testMultipleRiversStart.

time:
2015-04-23T12:34:27Z
class:
src/main/java/org/elasticsearch/action/ActionModule.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStats.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsAction.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequest.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsResponse.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardRequest.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardResponse.java
src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/action/percolate/MultiPercolateRequest.java
src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
src/main/java/org/elasticsearch/action/support/IndicesOptions.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/action/update/UpdateHelper.java
src/main/java/org/elasticsearch/client/Client.java
src/main/java/org/elasticsearch/client/support/AbstractClient.java
src/main/java/org/elasticsearch/cluster/action/index/MappingUpdatedAction.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/common/lucene/search/Queries.java
src/main/java/org/elasticsearch/common/lucene/search/ResolvableFilter.java
src/main/java/org/elasticsearch/common/lucene/search/function/BoostScoreFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/CombineFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/FieldValueFactorFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
src/main/java/org/elasticsearch/common/lucene/search/function/RandomScoreFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/WeightFactorFunction.java
src/main/java/org/elasticsearch/common/xcontent/support/XContentMapValues.java
src/main/java/org/elasticsearch/env/NodeEnvironment.java
src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/weighted/WeightedFilterCache.java
src/main/java/org/elasticsearch/index/engine/CommitStats.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
src/main/java/org/elasticsearch/index/gateway/IndexShardGateway.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/query/HasChildFilterParser.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/ScriptFilterParser.java
src/main/java/org/elasticsearch/index/query/TemplateQueryParser.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryParser.java
src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
src/main/java/org/elasticsearch/index/query/functionscore/exp/ExponentialDecayFunctionParser.java
src/main/java/org/elasticsearch/index/query/functionscore/gauss/GaussDecayFunctionParser.java
src/main/java/org/elasticsearch/index/query/functionscore/lin/LinearDecayFunctionParser.java
src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionParser.java
src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
src/main/java/org/elasticsearch/index/search/FieldDataTermsFilter.java
src/main/java/org/elasticsearch/index/search/NumericRangeFieldDataFilter.java
src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentIdsFilter.java
src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceFilter.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeFilter.java
src/main/java/org/elasticsearch/index/search/geo/InMemoryGeoBoundingBoxFilter.java
src/main/java/org/elasticsearch/index/search/nested/NonNestedDocsFilter.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/store/Store.java
src/main/java/org/elasticsearch/index/termvectors/ShardTermVectorsService.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
src/main/java/org/elasticsearch/node/Node.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/percolator/QueryCollector.java
src/main/java/org/elasticsearch/rest/BaseRestHandler.java
src/main/java/org/elasticsearch/rest/action/RestActionModule.java
src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/validate/query/RestValidateQueryAction.java
src/main/java/org/elasticsearch/rest/action/count/RestCountAction.java
src/main/java/org/elasticsearch/rest/action/deletebyquery/RestDeleteByQueryAction.java
src/main/java/org/elasticsearch/rest/action/exists/RestExistsAction.java
src/main/java/org/elasticsearch/rest/action/explain/RestExplainAction.java
src/main/java/org/elasticsearch/rest/action/fieldstats/RestFieldStatsAction.java
src/main/java/org/elasticsearch/rest/action/search/RestClearScrollAction.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchScrollAction.java
src/main/java/org/elasticsearch/rest/action/suggest/RestSuggestAction.java
src/main/java/org/elasticsearch/rest/action/support/RestActions.java
src/main/java/org/elasticsearch/rest/action/termvectors/RestTermVectorsAction.java
src/main/java/org/elasticsearch/script/CompiledScript.java
src/main/java/org/elasticsearch/script/Script.java
src/main/java/org/elasticsearch/script/ScriptService.java
src/main/java/org/elasticsearch/search/SearchService.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ScriptHeuristic.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/InternalScriptedMetric.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricAggregator.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceParser.java
src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
src/main/java/org/elasticsearch/search/fetch/script/ScriptFieldsParseElement.java
src/main/java/org/elasticsearch/search/rescore/QueryRescorer.java
src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
src/main/java/org/elasticsearch/search/sort/ScriptSortParser.java
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
src/test/java/org/elasticsearch/action/IndicesRequestTests.java
src/test/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsTests.java
src/test/java/org/elasticsearch/action/percolate/MultiPercolatorRequestTests.java
src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
src/test/java/org/elasticsearch/common/lucene/LuceneTest.java
src/test/java/org/elasticsearch/explain/ExplainActionTests.java
src/test/java/org/elasticsearch/fieldstats/FieldStatsIntegrationTests.java
src/test/java/org/elasticsearch/fieldstats/FieldStatsTests.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/index/query/TemplateQueryTest.java
src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
src/test/java/org/elasticsearch/index/search/child/TopChildrenQueryTests.java
src/test/java/org/elasticsearch/index/store/StoreTest.java
src/test/java/org/elasticsearch/indices/analyze/AnalyzeActionTests.java
src/test/java/org/elasticsearch/indices/mapping/ConcurrentDynamicTemplateTests.java
src/test/java/org/elasticsearch/nested/SimpleNestedTests.java
src/test/java/org/elasticsearch/percolator/PercolatorTests.java
src/test/java/org/elasticsearch/script/CustomScriptContextTests.java
src/test/java/org/elasticsearch/script/IndexedScriptTests.java
src/test/java/org/elasticsearch/script/NativeScriptTests.java
src/test/java/org/elasticsearch/script/ScriptServiceTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTest.java
src/test/java/org/elasticsearch/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptTests.java
src/test/java/org/elasticsearch/search/functionscore/FunctionScorePluginTests.java
src/test/java/org/elasticsearch/search/functionscore/FunctionScoreTests.java
src/test/java/org/elasticsearch/search/innerhits/InnerHitsTests.java
src/test/java/org/elasticsearch/search/scroll/SearchScrollTests.java
src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
src/test/java/org/elasticsearch/test/rest/Rest0Tests.java
src/test/java/org/elasticsearch/test/rest/Rest1Tests.java
src/test/java/org/elasticsearch/test/rest/Rest2Tests.java
src/test/java/org/elasticsearch/test/rest/Rest3Tests.java
src/test/java/org/elasticsearch/test/rest/Rest4Tests.java
src/test/java/org/elasticsearch/test/rest/Rest5Tests.java
src/test/java/org/elasticsearch/test/rest/Rest6Tests.java
src/test/java/org/elasticsearch/test/rest/Rest7Tests.java
src/test/java/org/elasticsearch/test/rest/Stash.java
src/test/java/org/elasticsearch/test/rest/section/SkipSection.java
src/test/java/org/elasticsearch/test/rest/test/SkipSectionParserTests.java
src/test/java/org/elasticsearch/validate/SimpleValidateQueryTests.java
comments:
Merge branch 'master' into put_me_in_coach

time:
2015-04-23T12:04:46Z
class:
comments:
Docs: Fix missing comma in context suggester docs

Closes #10623

time:
2015-04-23T12:00:44Z
class:
comments:
[Docs] fix typo in scripting module

Closes #10622

time:
2015-04-23T10:36:29Z
class:
src/main/java/org/elasticsearch/action/ActionModule.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStats.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsAction.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequest.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsResponse.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardRequest.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardResponse.java
src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/action/percolate/MultiPercolateRequest.java
src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
src/main/java/org/elasticsearch/action/support/IndicesOptions.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/action/update/UpdateHelper.java
src/main/java/org/elasticsearch/client/Client.java
src/main/java/org/elasticsearch/client/support/AbstractClient.java
src/main/java/org/elasticsearch/cluster/action/index/MappingUpdatedAction.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/common/lucene/search/Queries.java
src/main/java/org/elasticsearch/common/lucene/search/ResolvableFilter.java
src/main/java/org/elasticsearch/common/lucene/search/function/BoostScoreFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/CombineFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/FieldValueFactorFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
src/main/java/org/elasticsearch/common/lucene/search/function/RandomScoreFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/WeightFactorFunction.java
src/main/java/org/elasticsearch/common/xcontent/support/XContentMapValues.java
src/main/java/org/elasticsearch/env/NodeEnvironment.java
src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/weighted/WeightedFilterCache.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
src/main/java/org/elasticsearch/index/gateway/IndexShardGateway.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/query/HasChildFilterParser.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/ScriptFilterParser.java
src/main/java/org/elasticsearch/index/query/TemplateQueryParser.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryParser.java
src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
src/main/java/org/elasticsearch/index/query/functionscore/exp/ExponentialDecayFunctionParser.java
src/main/java/org/elasticsearch/index/query/functionscore/gauss/GaussDecayFunctionParser.java
src/main/java/org/elasticsearch/index/query/functionscore/lin/LinearDecayFunctionParser.java
src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionParser.java
src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
src/main/java/org/elasticsearch/index/search/FieldDataTermsFilter.java
src/main/java/org/elasticsearch/index/search/NumericRangeFieldDataFilter.java
src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentIdsFilter.java
src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceFilter.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeFilter.java
src/main/java/org/elasticsearch/index/search/geo/InMemoryGeoBoundingBoxFilter.java
src/main/java/org/elasticsearch/index/search/nested/NonNestedDocsFilter.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/termvectors/ShardTermVectorsService.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
src/main/java/org/elasticsearch/node/Node.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/percolator/QueryCollector.java
src/main/java/org/elasticsearch/rest/BaseRestHandler.java
src/main/java/org/elasticsearch/rest/action/RestActionModule.java
src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/validate/query/RestValidateQueryAction.java
src/main/java/org/elasticsearch/rest/action/count/RestCountAction.java
src/main/java/org/elasticsearch/rest/action/deletebyquery/RestDeleteByQueryAction.java
src/main/java/org/elasticsearch/rest/action/exists/RestExistsAction.java
src/main/java/org/elasticsearch/rest/action/explain/RestExplainAction.java
src/main/java/org/elasticsearch/rest/action/fieldstats/RestFieldStatsAction.java
src/main/java/org/elasticsearch/rest/action/search/RestClearScrollAction.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchScrollAction.java
src/main/java/org/elasticsearch/rest/action/suggest/RestSuggestAction.java
src/main/java/org/elasticsearch/rest/action/support/RestActions.java
src/main/java/org/elasticsearch/rest/action/termvectors/RestTermVectorsAction.java
src/main/java/org/elasticsearch/script/CompiledScript.java
src/main/java/org/elasticsearch/script/Script.java
src/main/java/org/elasticsearch/script/ScriptService.java
src/main/java/org/elasticsearch/search/SearchService.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ScriptHeuristic.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/InternalScriptedMetric.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricAggregator.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceParser.java
src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
src/main/java/org/elasticsearch/search/fetch/script/ScriptFieldsParseElement.java
src/main/java/org/elasticsearch/search/rescore/QueryRescorer.java
src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
src/main/java/org/elasticsearch/search/sort/ScriptSortParser.java
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
src/test/java/org/elasticsearch/action/percolate/MultiPercolatorRequestTests.java
src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
src/test/java/org/elasticsearch/common/lucene/LuceneTest.java
src/test/java/org/elasticsearch/explain/ExplainActionTests.java
src/test/java/org/elasticsearch/fieldstats/FieldStatsIntegrationTests.java
src/test/java/org/elasticsearch/fieldstats/FieldStatsTests.java
src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
src/test/java/org/elasticsearch/index/search/child/TopChildrenQueryTests.java
src/test/java/org/elasticsearch/indices/mapping/ConcurrentDynamicTemplateTests.java
src/test/java/org/elasticsearch/nested/SimpleNestedTests.java
src/test/java/org/elasticsearch/percolator/PercolatorTests.java
src/test/java/org/elasticsearch/script/CustomScriptContextTests.java
src/test/java/org/elasticsearch/script/NativeScriptTests.java
src/test/java/org/elasticsearch/script/ScriptServiceTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTest.java
src/test/java/org/elasticsearch/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptTests.java
src/test/java/org/elasticsearch/search/functionscore/FunctionScorePluginTests.java
src/test/java/org/elasticsearch/search/functionscore/FunctionScoreTests.java
src/test/java/org/elasticsearch/search/innerhits/InnerHitsTests.java
src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
src/test/java/org/elasticsearch/test/rest/Rest0Tests.java
src/test/java/org/elasticsearch/test/rest/Rest1Tests.java
src/test/java/org/elasticsearch/test/rest/Rest2Tests.java
src/test/java/org/elasticsearch/test/rest/Rest3Tests.java
src/test/java/org/elasticsearch/test/rest/Rest4Tests.java
src/test/java/org/elasticsearch/test/rest/Rest5Tests.java
src/test/java/org/elasticsearch/test/rest/Rest6Tests.java
src/test/java/org/elasticsearch/test/rest/Rest7Tests.java
src/test/java/org/elasticsearch/test/rest/Stash.java
src/test/java/org/elasticsearch/test/rest/section/SkipSection.java
src/test/java/org/elasticsearch/test/rest/test/SkipSectionParserTests.java
src/test/java/org/elasticsearch/validate/SimpleValidateQueryTests.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-04-23T09:53:24Z
class:
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/cluster/action/index/MappingUpdatedAction.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
src/main/java/org/elasticsearch/index/gateway/IndexShardGateway.java
src/main/java/org/elasticsearch/index/termvectors/ShardTermVectorsService.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
src/main/java/org/elasticsearch/node/Node.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/test/java/org/elasticsearch/indices/mapping/ConcurrentDynamicTemplateTests.java
comments:
Merge pull request #10720 from jpountz/fix/simplify_mapperupdatedaction

Mappings: simplify dynamic mappings updates.

Close #10720

time:
2015-04-23T09:44:23Z
class:
src/main/java/org/elasticsearch/search/aggregations/reducers/Reducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/MaxBucketBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/MaxBucketParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/MaxBucketReducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/derivative/DerivativeParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/MovAvgParser.java
src/test/java/org/elasticsearch/search/aggregations/reducers/MaxBucketTests.java
comments:
Fix MaxBucketReducer to use gapPolicy

Also moved gapPolicy and format ParseField constants to common class

time:
2015-04-23T09:39:54Z
class:
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/cluster/action/index/MappingUpdatedAction.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
src/main/java/org/elasticsearch/index/gateway/IndexShardGateway.java
src/main/java/org/elasticsearch/index/termvectors/ShardTermVectorsService.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
src/main/java/org/elasticsearch/node/Node.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/test/java/org/elasticsearch/indices/mapping/ConcurrentDynamicTemplateTests.java
comments:
Mappings: simplify dynamic mappings updates.

While dynamic mappings updates are using the same code path as updates from the
API when applied on a data node since #10593, they were still using a different
code path on the master node. This commit makes dynamic updates processed the
same way as updates from the API, which also seems to do a better way at
acknowledgements (I could not reproduce the ConcurrentDynamicTemplateTests
failure anymore). It also adds more checks, like for instance that indexing on
replicas should not trigger dynamic mapping updates since they should have been
handled on the primary before.

Close #10720

time:
2015-04-23T08:50:01Z
class:
comments:
docs: make sure that the options are rendered correctly

time:
2015-04-23T08:42:05Z
class:
src/test/java/org/elasticsearch/search/aggregations/reducers/moving/avg/MovAvgTests.java
comments:
Muted failing MovAvgTests

time:
2015-04-23T08:04:24Z
class:
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
comments:
field stats: removed redundant package prefixes

time:
2015-04-23T07:57:31Z
class:
comments:
docs: fixed title out of sequence

time:
2015-04-23T06:52:34Z
class:
src/main/java/org/elasticsearch/action/ActionModule.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStats.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsAction.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequest.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsResponse.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardRequest.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardResponse.java
src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
src/main/java/org/elasticsearch/client/Client.java
src/main/java/org/elasticsearch/client/support/AbstractClient.java
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/rest/action/RestActionModule.java
src/main/java/org/elasticsearch/rest/action/fieldstats/RestFieldStatsAction.java
src/test/java/org/elasticsearch/fieldstats/FieldStatsIntegrationTests.java
src/test/java/org/elasticsearch/fieldstats/FieldStatsTests.java
comments:
Added field stats api

The field stats api returns field level statistics such as lowest, highest values and number of documents that have at least one value for a field.

An api like this can be useful to explore a data set you don't know much about. For example you can figure at with the lowest and highest response times are, so that you can create a histogram or range aggregation with sane settings.

This api doesn't run a search to figure this statistics out, but rather use the Lucene index look these statics up (using Terms class in Lucene). So finding out these stats for fields is cheap and quick.

The min/max values are based on the type of the field. So for a numeric field min/max are numbers and date field the min/max date and other fields the min/max are term based.

Closes #10523

time:
2015-04-22T23:43:36Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
src/main/java/org/elasticsearch/action/percolate/MultiPercolateRequest.java
src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
src/main/java/org/elasticsearch/action/support/IndicesOptions.java
src/main/java/org/elasticsearch/common/xcontent/support/XContentMapValues.java
src/test/java/org/elasticsearch/action/percolate/MultiPercolatorRequestTests.java
src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
comments:
Snapshot/Restore: make handling of expand_wildcards option  consistent

Closes #6097

time:
2015-04-22T22:59:39Z
class:
comments:
[DOCS] Add link to movavg page

time:
2015-04-22T22:59:39Z
class:
src/test/java/org/elasticsearch/search/aggregations/reducers/moving/avg/MovAvgTests.java
comments:
[TESTS] randomize metric type, better naming, fix gap handling

- Randomizes the metric type between min/max/avg.  Should have identical behavior, but good to test
- Fixes improper handling of gaps due to a bug in the production of the "expected" dataset. Due to this fix,
randomization of gap policy was re-enabled
- Bunch of renaming to be more descriptive and less verbose

time:
2015-04-22T22:59:39Z
class:
comments:
[DOCS] Add documentation for moving average

time:
2015-04-22T22:59:30Z
class:
src/main/java/org/elasticsearch/search/aggregations/reducers/ReducerBuilders.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/MovAvgBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/MovAvgParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/MovAvgReducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/DoubleExpModel.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/MovAvgModel.java
src/test/java/org/elasticsearch/search/aggregations/reducers/MovAvgTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/moving/avg/MovAvgTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/moving/avg/MovAvgUnitTests.java
comments:
Add prediction capability to MovAvgReducer

This commit adds the ability for moving average models to output a "prediction" based on the current
moving average model.  For simple, linear and single, this prediction is simply converges on the
moving average's mean at the last point, leading to a straight line.  For double, this will
predict in the direction of the linear trend (either globally or locally, depending on beta).

Also adds some more tests.

Closes #10545

time:
2015-04-22T22:19:16Z
class:
src/main/java/org/elasticsearch/action/update/UpdateHelper.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/query/ScriptFilterParser.java
src/main/java/org/elasticsearch/index/query/TemplateQueryParser.java
src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionParser.java
src/main/java/org/elasticsearch/script/CompiledScript.java
src/main/java/org/elasticsearch/script/Script.java
src/main/java/org/elasticsearch/script/ScriptService.java
src/main/java/org/elasticsearch/search/SearchService.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ScriptHeuristic.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/InternalScriptedMetric.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricAggregator.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceParser.java
src/main/java/org/elasticsearch/search/fetch/script/ScriptFieldsParseElement.java
src/main/java/org/elasticsearch/search/sort/ScriptSortParser.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
src/test/java/org/elasticsearch/script/CustomScriptContextTests.java
src/test/java/org/elasticsearch/script/NativeScriptTests.java
src/test/java/org/elasticsearch/script/ScriptServiceTests.java
comments:
Scripting: Added a new script construct

Added an initial script construct to unify the parameters typically
passed to methods in the ScriptService. This changes the way several public
methods are called in the ScriptService along with all the callers
since they must wrap the parameters passed in into a script object. In the
future, parsing parameters can also be moved into this construct along with
ToXContent.

closes #10649

time:
2015-04-22T20:25:05Z
class:
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
src/test/java/org/elasticsearch/common/lucene/LuceneTest.java
src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
comments:
[ENGINE] Implement retries for ShadowEngine creation

When using a filesystem that may have lag between an index being created
on the primary and a on the replica, creation of the ShadowEngine can
fail because there are no segments in the directory.

In these situations, we retry during engine creation to wait until an
index is present in the directory. The number wait delay is
configurable, defaulting to waiting for 5 seconds from an index to
become available.

Resolves #10637

time:
2015-04-22T19:12:51Z
class:
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
comments:
Use debug logging if no translog file is found

time:
2015-04-22T18:51:36Z
class:
comments:
Merge pull request #10711 from rmuir/java_home_only

Execute tests with $JAVA_HOME.

time:
2015-04-22T18:40:26Z
class:
src/test/java/org/elasticsearch/test/rest/section/SkipSection.java
src/test/java/org/elasticsearch/test/rest/test/SkipSectionParserTests.java
comments:
Tests: Add shortcut "all" to skip version ranges in rest tests

This was suggested on #10656 as cleaner than " - " to indicate all
versions should be skipped.

closes #10702

time:
2015-04-22T17:53:19Z
class:
comments:
[DOCS] Add example of setting disk threshold decider settings

Fixes #10686

time:
2015-04-22T16:18:42Z
class:
src/test/java/org/elasticsearch/search/functionscore/FunctionScoreTests.java
comments:
Tests: Fix function_score explanation expectations.

time:
2015-04-22T15:47:38Z
class:
src/main/java/org/elasticsearch/rest/BaseRestHandler.java
src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/validate/query/RestValidateQueryAction.java
src/main/java/org/elasticsearch/rest/action/count/RestCountAction.java
src/main/java/org/elasticsearch/rest/action/deletebyquery/RestDeleteByQueryAction.java
src/main/java/org/elasticsearch/rest/action/exists/RestExistsAction.java
src/main/java/org/elasticsearch/rest/action/explain/RestExplainAction.java
src/main/java/org/elasticsearch/rest/action/search/RestClearScrollAction.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchScrollAction.java
src/main/java/org/elasticsearch/rest/action/suggest/RestSuggestAction.java
src/main/java/org/elasticsearch/rest/action/support/RestActions.java
src/main/java/org/elasticsearch/rest/action/termvectors/RestTermVectorsAction.java
comments:
Merge pull request #10724 from s1monw/rest_actions_helper

[REST] Add more utilitis for source/body handling in RestAction

time:
2015-04-22T15:41:46Z
class:
src/main/java/org/elasticsearch/rest/BaseRestHandler.java
src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/validate/query/RestValidateQueryAction.java
src/main/java/org/elasticsearch/rest/action/count/RestCountAction.java
src/main/java/org/elasticsearch/rest/action/deletebyquery/RestDeleteByQueryAction.java
src/main/java/org/elasticsearch/rest/action/exists/RestExistsAction.java
src/main/java/org/elasticsearch/rest/action/explain/RestExplainAction.java
src/main/java/org/elasticsearch/rest/action/search/RestClearScrollAction.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchScrollAction.java
src/main/java/org/elasticsearch/rest/action/suggest/RestSuggestAction.java
src/main/java/org/elasticsearch/rest/action/support/RestActions.java
src/main/java/org/elasticsearch/rest/action/termvectors/RestTermVectorsAction.java
comments:
[REST] Add more utilitis for source/body handling in RestAction

time:
2015-04-22T15:26:05Z
class:
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/common/lucene/search/Queries.java
src/main/java/org/elasticsearch/common/lucene/search/ResolvableFilter.java
src/main/java/org/elasticsearch/common/lucene/search/function/BoostScoreFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/CombineFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/FieldValueFactorFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
src/main/java/org/elasticsearch/common/lucene/search/function/RandomScoreFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/WeightFactorFunction.java
src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/weighted/WeightedFilterCache.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/query/HasChildFilterParser.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryParser.java
src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
src/main/java/org/elasticsearch/index/query/functionscore/exp/ExponentialDecayFunctionParser.java
src/main/java/org/elasticsearch/index/query/functionscore/gauss/GaussDecayFunctionParser.java
src/main/java/org/elasticsearch/index/query/functionscore/lin/LinearDecayFunctionParser.java
src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
src/main/java/org/elasticsearch/index/search/FieldDataTermsFilter.java
src/main/java/org/elasticsearch/index/search/NumericRangeFieldDataFilter.java
src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentIdsFilter.java
src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceFilter.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeFilter.java
src/main/java/org/elasticsearch/index/search/geo/InMemoryGeoBoundingBoxFilter.java
src/main/java/org/elasticsearch/index/search/nested/NonNestedDocsFilter.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/percolator/QueryCollector.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregator.java
src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
src/main/java/org/elasticsearch/search/rescore/QueryRescorer.java
src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
src/main/java/org/elasticsearch/search/sort/ScriptSortParser.java
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
src/test/java/org/elasticsearch/explain/ExplainActionTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
src/test/java/org/elasticsearch/index/search/child/TopChildrenQueryTests.java
src/test/java/org/elasticsearch/nested/SimpleNestedTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTest.java
src/test/java/org/elasticsearch/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptTests.java
src/test/java/org/elasticsearch/search/functionscore/FunctionScorePluginTests.java
src/test/java/org/elasticsearch/search/functionscore/FunctionScoreTests.java
src/test/java/org/elasticsearch/search/innerhits/InnerHitsTests.java
comments:
Merge pull request #10727 from jpountz/upgrade/lucene-5.2-snapshot-1675363

Upgrade to lucene-5.2-snapshot-1675363.

time:
2015-04-22T15:23:17Z
class:
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/common/lucene/search/Queries.java
src/main/java/org/elasticsearch/common/lucene/search/ResolvableFilter.java
src/main/java/org/elasticsearch/common/lucene/search/function/BoostScoreFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/CombineFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/FieldValueFactorFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
src/main/java/org/elasticsearch/common/lucene/search/function/RandomScoreFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/WeightFactorFunction.java
src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/weighted/WeightedFilterCache.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/query/HasChildFilterParser.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryParser.java
src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
src/main/java/org/elasticsearch/index/query/functionscore/exp/ExponentialDecayFunctionParser.java
src/main/java/org/elasticsearch/index/query/functionscore/gauss/GaussDecayFunctionParser.java
src/main/java/org/elasticsearch/index/query/functionscore/lin/LinearDecayFunctionParser.java
src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
src/main/java/org/elasticsearch/index/search/FieldDataTermsFilter.java
src/main/java/org/elasticsearch/index/search/NumericRangeFieldDataFilter.java
src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentIdsFilter.java
src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceFilter.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeFilter.java
src/main/java/org/elasticsearch/index/search/geo/InMemoryGeoBoundingBoxFilter.java
src/main/java/org/elasticsearch/index/search/nested/NonNestedDocsFilter.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/percolator/QueryCollector.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregator.java
src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
src/main/java/org/elasticsearch/search/rescore/QueryRescorer.java
src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
src/main/java/org/elasticsearch/search/sort/ScriptSortParser.java
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
src/test/java/org/elasticsearch/explain/ExplainActionTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
src/test/java/org/elasticsearch/index/search/child/TopChildrenQueryTests.java
src/test/java/org/elasticsearch/nested/SimpleNestedTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTest.java
src/test/java/org/elasticsearch/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptTests.java
src/test/java/org/elasticsearch/search/functionscore/FunctionScorePluginTests.java
src/test/java/org/elasticsearch/search/functionscore/FunctionScoreTests.java
src/test/java/org/elasticsearch/search/innerhits/InnerHitsTests.java
comments:
Upgrade to lucene-5.2-snapshot-1675363.

This snapshot contains in particular LUCENE-6446 (refactored explanation API)
and LUCENE-6448 (better equals/hashcode for filters).

time:
2015-04-22T15:05:10Z
class:
src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
src/test/java/org/elasticsearch/test/rest/Rest0Tests.java
src/test/java/org/elasticsearch/test/rest/Rest1Tests.java
src/test/java/org/elasticsearch/test/rest/Rest2Tests.java
src/test/java/org/elasticsearch/test/rest/Rest3Tests.java
src/test/java/org/elasticsearch/test/rest/Rest4Tests.java
src/test/java/org/elasticsearch/test/rest/Rest5Tests.java
src/test/java/org/elasticsearch/test/rest/Rest6Tests.java
src/test/java/org/elasticsearch/test/rest/Rest7Tests.java
comments:
Merge pull request #10726 from rmuir/nuke_nested_classes

Don't use nested classes for Rest tests.

time:
2015-04-22T15:01:23Z
class:
src/test/java/org/elasticsearch/search/aggregations/reducers/MovAvgTests.java
comments:
Temporarily disabled gap policy randomisation in MovAvgTests

time:
2015-04-22T14:55:29Z
class:
src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
src/test/java/org/elasticsearch/index/query/MatchAllQueryBuilderTest.java
comments:
Query refactoring: Add refactored MatchAllQuery and BaseQueryTestCase

time:
2015-04-22T14:55:15Z
class:
src/main/java/org/elasticsearch/rest/action/search/RestSearchScrollAction.java
comments:
Fix RestSearchScrollAction to also accept source parameter instead of the request body

time:
2015-04-22T14:40:30Z
class:
src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
src/test/java/org/elasticsearch/test/rest/Rest0Tests.java
src/test/java/org/elasticsearch/test/rest/Rest1Tests.java
src/test/java/org/elasticsearch/test/rest/Rest2Tests.java
src/test/java/org/elasticsearch/test/rest/Rest3Tests.java
src/test/java/org/elasticsearch/test/rest/Rest4Tests.java
src/test/java/org/elasticsearch/test/rest/Rest5Tests.java
src/test/java/org/elasticsearch/test/rest/Rest6Tests.java
src/test/java/org/elasticsearch/test/rest/Rest7Tests.java
comments:
Don't use nested classes for Rest tests.

Nested classes have the advantage of organizing the hack in a way
where its easy to see what is happening overall, but they have
the downside of class names with $ in them.

These names work just fine, but can require shell escaping
or other annoyances, which is the last thing you want if
you are trying to just reproduce.

time:
2015-04-22T14:10:28Z
class:
comments:
Test: move to ensure yellow in indices.stats/12_level.yaml

time:
2015-04-22T13:56:45Z
class:
src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
src/test/java/org/elasticsearch/test/rest/Stash.java
comments:
Test: add ensure green to indices.stats/12_level.yaml

Also changed the stash logger to not log all stashed values under debug (it does trace now) but do dump the stash content upon failure (under info as a XContent)

time:
2015-04-22T13:50:49Z
class:
src/main/java/org/elasticsearch/search/aggregations/reducers/BucketHelpers.java
src/test/java/org/elasticsearch/search/aggregations/reducers/DerivativeTests.java
comments:
Derivative tests for gaps in metrics

time:
2015-04-22T13:35:25Z
class:
src/main/java/org/elasticsearch/discovery/gce/GceDiscovery.java
comments:
Fix non working update dynamic settings

Described in https://github.com/elastic/elasticsearch/issues/10614, it's not possible with cloud discovery plugin to update dynamic settings anymore.

```sh
curl -XPUT localhost:9200/_cluster/settings -d '{
    "persistent" : {
        "discovery.zen.minimum_master_nodes" : 3
    },
    "transient" : {
        "discovery.zen.minimum_master_nodes" : 3
    }
}'
```

gives

```json
{"acknowledged":true,"persistent":{},"transient":{}}
```

Closes #47.

(cherry picked from commit 9df33a3)
(cherry picked from commit a40016e)

time:
2015-04-22T13:30:04Z
class:
src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java
comments:
Fix RestAnalyzeAction to also accept source parameter instead of the request body

time:
2015-04-22T12:46:14Z
class:
comments:
fix typo

time:
2015-04-22T11:46:31Z
class:
src/main/java/org/apache/lucene/search/vectorhighlight/CustomFieldQuery.java
src/main/java/org/apache/lucene/spatial/prefix/RecursivePrefixTreeStrategy.java
src/main/java/org/apache/lucene/spatial/prefix/tree/CellIterator.java
src/main/java/org/apache/lucene/spatial/prefix/tree/LegacyCell.java
src/main/java/org/apache/lucene/spatial/prefix/tree/PackedQuadPrefixTree.java
src/main/java/org/apache/lucene/spatial/prefix/tree/QuadPrefixTree.java
src/main/java/org/elasticsearch/Version.java
src/main/java/org/elasticsearch/action/ActionListenerResponseHandler.java
src/main/java/org/elasticsearch/action/WriteFailureException.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/count/TransportCountAction.java
src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java
src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
src/main/java/org/elasticsearch/action/search/TransportClearScrollAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchCountAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryAndFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryThenFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchQueryAndFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchQueryThenFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchScanAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryAndFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryThenFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollScanAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
src/main/java/org/elasticsearch/action/support/HandledTransportAction.java
src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastOperationAction.java
src/main/java/org/elasticsearch/action/support/nodes/TransportNodesOperationAction.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsWriter.java
src/main/java/org/elasticsearch/action/termvectors/dfs/TransportDfsOnlyAction.java
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/JVMCheck.java
src/main/java/org/elasticsearch/cluster/action/index/MappingUpdatedAction.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
src/main/java/org/elasticsearch/cluster/settings/ClusterDynamicSettingsModule.java
src/main/java/org/elasticsearch/common/io/FileSystemUtils.java
src/main/java/org/elasticsearch/common/io/PathUtils.java
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/common/lucene/docset/AndDocIdSet.java
src/main/java/org/elasticsearch/common/lucene/docset/DocIdSets.java
src/main/java/org/elasticsearch/common/lucene/docset/NotDocIdSet.java
src/main/java/org/elasticsearch/common/lucene/docset/OrDocIdSet.java
src/main/java/org/elasticsearch/common/lucene/search/AndFilter.java
src/main/java/org/elasticsearch/common/lucene/search/MatchAllDocsFilter.java
src/main/java/org/elasticsearch/common/lucene/search/MatchNoDocsFilter.java
src/main/java/org/elasticsearch/common/lucene/search/NotFilter.java
src/main/java/org/elasticsearch/common/lucene/search/OrFilter.java
src/main/java/org/elasticsearch/common/lucene/search/Queries.java
src/main/java/org/elasticsearch/common/lucene/search/RegexpFilter.java
src/main/java/org/elasticsearch/common/lucene/search/XBooleanFilter.java
src/main/java/org/elasticsearch/common/lucene/search/XDocIdSetIterator.java
src/main/java/org/elasticsearch/common/util/MultiDataPathUpgrader.java
src/main/java/org/elasticsearch/common/util/concurrent/EsExecutors.java
src/main/java/org/elasticsearch/env/Environment.java
src/main/java/org/elasticsearch/env/NodeEnvironment.java
src/main/java/org/elasticsearch/gateway/DanglingIndicesState.java
src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
src/main/java/org/elasticsearch/http/HttpServer.java
src/main/java/org/elasticsearch/index/IndexService.java
src/main/java/org/elasticsearch/index/aliases/IndexAliasesService.java
src/main/java/org/elasticsearch/index/cache/filter/AutoFilterCachingPolicy.java
src/main/java/org/elasticsearch/index/cache/filter/FilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/FilterCacheModule.java
src/main/java/org/elasticsearch/index/cache/filter/none/NoneFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/weighted/WeightedFilterCache.java
src/main/java/org/elasticsearch/index/codec/CodecService.java
src/main/java/org/elasticsearch/index/engine/CommitStats.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
src/main/java/org/elasticsearch/index/gateway/IndexShardGateway.java
src/main/java/org/elasticsearch/index/get/ShardGetService.java
src/main/java/org/elasticsearch/index/mapper/DocumentFieldMappers.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/FieldMappersLookup.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/MapperUtils.java
src/main/java/org/elasticsearch/index/mapper/Mapping.java
src/main/java/org/elasticsearch/index/mapper/ParseContext.java
src/main/java/org/elasticsearch/index/mapper/ParsedDocument.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
src/main/java/org/elasticsearch/index/query/AndFilterBuilder.java
src/main/java/org/elasticsearch/index/query/AndFilterParser.java
src/main/java/org/elasticsearch/index/query/BoolFilterParser.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/ExistsFilterParser.java
src/main/java/org/elasticsearch/index/query/FQueryFilterParser.java
src/main/java/org/elasticsearch/index/query/FilterBuilders.java
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeohashCellFilter.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/IdsFilterParser.java
src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
src/main/java/org/elasticsearch/index/query/IndicesFilterParser.java
src/main/java/org/elasticsearch/index/query/LimitFilterParser.java
src/main/java/org/elasticsearch/index/query/MatchAllFilterParser.java
src/main/java/org/elasticsearch/index/query/MissingFilterParser.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
src/main/java/org/elasticsearch/index/query/NotFilterParser.java
src/main/java/org/elasticsearch/index/query/OrFilterBuilder.java
src/main/java/org/elasticsearch/index/query/OrFilterParser.java
src/main/java/org/elasticsearch/index/query/PrefixFilterParser.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/query/RangeFilterParser.java
src/main/java/org/elasticsearch/index/query/RegexpFilterParser.java
src/main/java/org/elasticsearch/index/query/ScriptFilterParser.java
src/main/java/org/elasticsearch/index/query/TermFilterParser.java
src/main/java/org/elasticsearch/index/query/TermsFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TermsFilterParser.java
src/main/java/org/elasticsearch/index/query/TypeFilterParser.java
src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/support/QueryParsers.java
src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentIdsFilter.java
src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
src/main/java/org/elasticsearch/index/search/geo/IndexedGeoBoundingBoxFilter.java
src/main/java/org/elasticsearch/index/search/nested/NonNestedDocsFilter.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
src/main/java/org/elasticsearch/index/shard/ShardPath.java
src/main/java/org/elasticsearch/index/shard/ShardStateMetaData.java
src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
src/main/java/org/elasticsearch/index/store/DirectoryService.java
src/main/java/org/elasticsearch/index/store/DistributorDirectory.java
src/main/java/org/elasticsearch/index/store/IndexStore.java
src/main/java/org/elasticsearch/index/store/Store.java
src/main/java/org/elasticsearch/index/store/StoreModule.java
src/main/java/org/elasticsearch/index/store/distributor/AbstractDistributor.java
src/main/java/org/elasticsearch/index/store/distributor/Distributor.java
src/main/java/org/elasticsearch/index/store/distributor/LeastUsedDistributor.java
src/main/java/org/elasticsearch/index/store/distributor/RandomWeightedDistributor.java
src/main/java/org/elasticsearch/index/store/fs/DefaultFsDirectoryService.java
src/main/java/org/elasticsearch/index/store/fs/FsDirectoryService.java
src/main/java/org/elasticsearch/index/store/fs/MmapFsDirectoryService.java
src/main/java/org/elasticsearch/index/store/fs/NioFsDirectoryService.java
src/main/java/org/elasticsearch/index/store/fs/SimpleFsDirectoryService.java
src/main/java/org/elasticsearch/index/store/support/AbstractIndexStore.java
src/main/java/org/elasticsearch/index/termvectors/ShardTermVectorsService.java
src/main/java/org/elasticsearch/index/translog/Translog.java
src/main/java/org/elasticsearch/index/translog/fs/FsTranslog.java
src/main/java/org/elasticsearch/indices/IndicesService.java
src/main/java/org/elasticsearch/indices/InternalIndicesLifecycle.java
src/main/java/org/elasticsearch/indices/analysis/HunspellService.java
src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/plugins/PluginsService.java
src/main/java/org/elasticsearch/repositories/fs/FsRepository.java
src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java
src/main/java/org/elasticsearch/rest/action/search/RestClearScrollAction.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchScrollAction.java
src/main/java/org/elasticsearch/script/ScriptService.java
src/main/java/org/elasticsearch/search/action/SearchServiceTransportAction.java
src/main/java/org/elasticsearch/search/aggregations/AggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorBase.java
src/main/java/org/elasticsearch/search/aggregations/TransportAggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/bucket/BestBucketsDeferringCollector.java
src/main/java/org/elasticsearch/search/aggregations/bucket/BestDocsDeferringCollector.java
src/main/java/org/elasticsearch/search/aggregations/bucket/DeferringBucketCollector.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedBytesHashSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedMapSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedNumericSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedOrdinalsSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/InternalSampler.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/Sampler.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/SamplerAggregationBuilder.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/SamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/SamplerParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/UnmappedSampler.java
src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
src/main/java/org/elasticsearch/search/fetch/matchedqueries/MatchedQueriesFetchSubPhase.java
src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
src/main/java/org/elasticsearch/search/query/QueryPhase.java
src/main/java/org/elasticsearch/search/suggest/context/GeolocationContextMapping.java
src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
src/test/java/org/apache/lucene/queries/BlendedTermQueryTest.java
src/test/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighterTests.java
src/test/java/org/apache/lucene/search/postingshighlight/XPostingsHighlighterTests.java
src/test/java/org/apache/lucene/util/AbstractRandomizedTest.java
src/test/java/org/apache/lucene/util/SloppyMathTests.java
src/test/java/org/elasticsearch/NamingConventionTests.java
src/test/java/org/elasticsearch/VersionTests.java
src/test/java/org/elasticsearch/action/IndicesRequestTests.java
src/test/java/org/elasticsearch/action/OriginalIndicesTests.java
src/test/java/org/elasticsearch/action/admin/HotThreadsTest.java
src/test/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequestTest.java
src/test/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsTests.java
src/test/java/org/elasticsearch/action/bulk/BulkIntegrationTests.java
src/test/java/org/elasticsearch/action/bulk/BulkProcessorTests.java
src/test/java/org/elasticsearch/action/get/MultiGetShardRequestTests.java
src/test/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequestTests.java
src/test/java/org/elasticsearch/action/mlt/MoreLikeThisRequestTests.java
src/test/java/org/elasticsearch/action/support/IndicesOptionsTests.java
comments:
merged from master

time:
2015-04-22T11:10:51Z
class:
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/percolator/PercolatorTests.java
src/test/java/org/elasticsearch/validate/SimpleValidateQueryTests.java
comments:
Query enhancement: single value numeric queries shouldn't be handled by NumericRangeQuery and should use a TermQuery wrapped in a ConstantScoreQuery instead.
Equally, single value filters should use TermFilters rather than NumericRangeFilters

Closes #10646

time:
2015-04-22T10:49:06Z
class:
comments:
Docs: Removed some unused callout from the scroll docs

time:
2015-04-22T10:24:42Z
class:
src/main/java/org/elasticsearch/env/NodeEnvironment.java
comments:
Make NodeEnvironment.getFileStore a bit more defensive

This improves the NodeEnvironment code that walks through all mount
points looking for the one matching the file store for a specified
path, to make it a bit more defensive.  We currently rely on this to
log the correct file system type of the path.data paths.

Closes #10696

time:
2015-04-22T09:36:36Z
class:
src/main/java/org/apache/lucene/search/vectorhighlight/CustomFieldQuery.java
src/main/java/org/apache/lucene/spatial/prefix/RecursivePrefixTreeStrategy.java
src/main/java/org/apache/lucene/spatial/prefix/tree/CellIterator.java
src/main/java/org/apache/lucene/spatial/prefix/tree/LegacyCell.java
src/main/java/org/apache/lucene/spatial/prefix/tree/PackedQuadPrefixTree.java
src/main/java/org/apache/lucene/spatial/prefix/tree/QuadPrefixTree.java
src/main/java/org/elasticsearch/action/WriteFailureException.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java
src/main/java/org/elasticsearch/bootstrap/JVMCheck.java
src/main/java/org/elasticsearch/cluster/action/index/MappingUpdatedAction.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
src/main/java/org/elasticsearch/cluster/settings/ClusterDynamicSettingsModule.java
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/common/lucene/docset/AndDocIdSet.java
src/main/java/org/elasticsearch/common/lucene/docset/DocIdSets.java
src/main/java/org/elasticsearch/common/lucene/docset/NotDocIdSet.java
src/main/java/org/elasticsearch/common/lucene/docset/OrDocIdSet.java
src/main/java/org/elasticsearch/common/lucene/search/AndFilter.java
src/main/java/org/elasticsearch/common/lucene/search/MatchAllDocsFilter.java
src/main/java/org/elasticsearch/common/lucene/search/MatchNoDocsFilter.java
src/main/java/org/elasticsearch/common/lucene/search/NotFilter.java
src/main/java/org/elasticsearch/common/lucene/search/OrFilter.java
src/main/java/org/elasticsearch/common/lucene/search/Queries.java
src/main/java/org/elasticsearch/common/lucene/search/RegexpFilter.java
src/main/java/org/elasticsearch/common/lucene/search/XBooleanFilter.java
src/main/java/org/elasticsearch/common/lucene/search/XDocIdSetIterator.java
src/main/java/org/elasticsearch/common/util/MultiDataPathUpgrader.java
src/main/java/org/elasticsearch/env/NodeEnvironment.java
src/main/java/org/elasticsearch/gateway/DanglingIndicesState.java
src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
src/main/java/org/elasticsearch/index/IndexService.java
src/main/java/org/elasticsearch/index/aliases/IndexAliasesService.java
src/main/java/org/elasticsearch/index/cache/filter/AutoFilterCachingPolicy.java
src/main/java/org/elasticsearch/index/cache/filter/FilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/FilterCacheModule.java
src/main/java/org/elasticsearch/index/cache/filter/none/NoneFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/weighted/WeightedFilterCache.java
src/main/java/org/elasticsearch/index/engine/CommitStats.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
src/main/java/org/elasticsearch/index/gateway/IndexShardGateway.java
src/main/java/org/elasticsearch/index/get/ShardGetService.java
src/main/java/org/elasticsearch/index/mapper/DocumentFieldMappers.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/FieldMappersLookup.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/MapperUtils.java
src/main/java/org/elasticsearch/index/mapper/Mapping.java
src/main/java/org/elasticsearch/index/mapper/ParseContext.java
src/main/java/org/elasticsearch/index/mapper/ParsedDocument.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
src/main/java/org/elasticsearch/index/query/AndFilterBuilder.java
src/main/java/org/elasticsearch/index/query/AndFilterParser.java
src/main/java/org/elasticsearch/index/query/BoolFilterParser.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/ExistsFilterParser.java
src/main/java/org/elasticsearch/index/query/FQueryFilterParser.java
src/main/java/org/elasticsearch/index/query/FilterBuilders.java
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeohashCellFilter.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/IdsFilterParser.java
src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
src/main/java/org/elasticsearch/index/query/IndicesFilterParser.java
src/main/java/org/elasticsearch/index/query/LimitFilterParser.java
src/main/java/org/elasticsearch/index/query/MatchAllFilterParser.java
src/main/java/org/elasticsearch/index/query/MissingFilterParser.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
src/main/java/org/elasticsearch/index/query/NotFilterParser.java
src/main/java/org/elasticsearch/index/query/OrFilterBuilder.java
src/main/java/org/elasticsearch/index/query/OrFilterParser.java
src/main/java/org/elasticsearch/index/query/PrefixFilterParser.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/query/RangeFilterParser.java
src/main/java/org/elasticsearch/index/query/RegexpFilterParser.java
src/main/java/org/elasticsearch/index/query/ScriptFilterParser.java
src/main/java/org/elasticsearch/index/query/TermFilterParser.java
src/main/java/org/elasticsearch/index/query/TermsFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TermsFilterParser.java
src/main/java/org/elasticsearch/index/query/TypeFilterParser.java
src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/support/QueryParsers.java
src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentIdsFilter.java
src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
src/main/java/org/elasticsearch/index/search/geo/IndexedGeoBoundingBoxFilter.java
src/main/java/org/elasticsearch/index/search/nested/NonNestedDocsFilter.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
src/main/java/org/elasticsearch/index/shard/ShardPath.java
src/main/java/org/elasticsearch/index/shard/ShardStateMetaData.java
src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
src/main/java/org/elasticsearch/index/store/DirectoryService.java
src/main/java/org/elasticsearch/index/store/DistributorDirectory.java
src/main/java/org/elasticsearch/index/store/IndexStore.java
src/main/java/org/elasticsearch/index/store/Store.java
src/main/java/org/elasticsearch/index/store/StoreModule.java
src/main/java/org/elasticsearch/index/store/distributor/AbstractDistributor.java
src/main/java/org/elasticsearch/index/store/distributor/LeastUsedDistributor.java
src/main/java/org/elasticsearch/index/store/distributor/RandomWeightedDistributor.java
src/main/java/org/elasticsearch/index/store/fs/DefaultFsDirectoryService.java
src/main/java/org/elasticsearch/index/store/fs/FsDirectoryService.java
src/main/java/org/elasticsearch/index/store/fs/MmapFsDirectoryService.java
src/main/java/org/elasticsearch/index/store/fs/NioFsDirectoryService.java
src/main/java/org/elasticsearch/index/store/fs/SimpleFsDirectoryService.java
src/main/java/org/elasticsearch/index/store/support/AbstractIndexStore.java
src/main/java/org/elasticsearch/index/termvectors/ShardTermVectorsService.java
src/main/java/org/elasticsearch/index/translog/Translog.java
src/main/java/org/elasticsearch/index/translog/fs/FsTranslog.java
src/main/java/org/elasticsearch/indices/IndicesService.java
src/main/java/org/elasticsearch/indices/InternalIndicesLifecycle.java
src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java
src/main/java/org/elasticsearch/rest/action/search/RestClearScrollAction.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchScrollAction.java
src/main/java/org/elasticsearch/script/ScriptService.java
src/main/java/org/elasticsearch/search/aggregations/AggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorBase.java
src/main/java/org/elasticsearch/search/aggregations/TransportAggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/bucket/BestBucketsDeferringCollector.java
src/main/java/org/elasticsearch/search/aggregations/bucket/BestDocsDeferringCollector.java
src/main/java/org/elasticsearch/search/aggregations/bucket/DeferringBucketCollector.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedBytesHashSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedMapSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedNumericSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedOrdinalsSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/InternalSampler.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/Sampler.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/SamplerAggregationBuilder.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/SamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/SamplerParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/UnmappedSampler.java
src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
src/main/java/org/elasticsearch/search/fetch/matchedqueries/MatchedQueriesFetchSubPhase.java
src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
src/main/java/org/elasticsearch/search/suggest/context/GeolocationContextMapping.java
src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
src/test/java/org/elasticsearch/action/IndicesRequestTests.java
src/test/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsTests.java
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteTests.java
src/test/java/org/elasticsearch/common/lucene/docset/DocIdSetsTests.java
src/test/java/org/elasticsearch/common/lucene/index/FreqTermsEnumTests.java
src/test/java/org/elasticsearch/common/lucene/search/MatchAllDocsFilterTests.java
src/test/java/org/elasticsearch/common/lucene/search/TermsFilterTests.java
src/test/java/org/elasticsearch/common/lucene/search/XBooleanFilterLuceneTests.java
src/test/java/org/elasticsearch/common/lucene/search/XBooleanFilterTests.java
src/test/java/org/elasticsearch/common/util/MultiDataPathUpgraderTests.java
src/test/java/org/elasticsearch/env/NodeEnvironmentTests.java
src/test/java/org/elasticsearch/index/TermsFilterIntegrationTests.java
src/test/java/org/elasticsearch/index/aliases/IndexAliasesServiceTests.java
src/test/java/org/elasticsearch/index/analysis/PreBuiltAnalyzerTests.java
src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTest.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
src/test/java/org/elasticsearch/index/fielddata/AbstractStringFieldDataTests.java
src/test/java/org/elasticsearch/index/mapper/FieldMappersLookupTests.java
src/test/java/org/elasticsearch/index/mapper/camelcase/CamelCaseFieldNameTests.java
src/test/java/org/elasticsearch/index/mapper/completion/CompletionFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/copyto/CopyToMapperTests.java
src/test/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
src/test/java/org/elasticsearch/index/mapper/dynamic/DynamicMappingIntegrationTests.java
src/test/java/org/elasticsearch/index/mapper/dynamic/DynamicMappingTests.java
src/test/java/org/elasticsearch/index/mapper/dynamictemplate/genericstore/GenericStoreDynamicTemplateTests.java
src/test/java/org/elasticsearch/index/mapper/dynamictemplate/pathmatch/PathMatchDynamicTemplateTests.java
src/test/java/org/elasticsearch/index/mapper/dynamictemplate/simple/SimpleDynamicTemplatesTests.java
src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/geo/GeohashMappingGeoPointTests.java
src/test/java/org/elasticsearch/index/mapper/index/IndexTypeMapperTests.java
src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/lucene/DoubleIndexingDocTest.java
src/test/java/org/elasticsearch/index/mapper/merge/TestMergeMapperTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/merge/JavaMultiFieldMergeTests.java
src/test/java/org/elasticsearch/index/mapper/numeric/SimpleNumericTests.java
src/test/java/org/elasticsearch/index/mapper/path/PathMapperTests.java
src/test/java/org/elasticsearch/index/mapper/simple/SimpleMapperTests.java
src/test/java/org/elasticsearch/index/mapper/size/SizeMappingTests.java
src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
src/test/java/org/elasticsearch/index/merge/policy/MergePolicySettingsTest.java
src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeFormatTests.java
src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeTimezoneTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/index/query/TemplateQueryParserTest.java
src/test/java/org/elasticsearch/index/query/TemplateQueryTest.java
src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
src/test/java/org/elasticsearch/index/search/nested/AbstractNumberNestedSortingTests.java
src/test/java/org/elasticsearch/index/search/nested/DoubleNestedSortingTests.java
src/test/java/org/elasticsearch/index/search/nested/FloatNestedSortingTests.java
src/test/java/org/elasticsearch/index/search/nested/NestedSortingTests.java
src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
src/test/java/org/elasticsearch/index/shard/ShardPathTests.java
src/test/java/org/elasticsearch/index/similarity/SimilarityTests.java
src/test/java/org/elasticsearch/index/store/CorruptedFileTest.java
src/test/java/org/elasticsearch/index/store/CorruptedTranslogTests.java
src/test/java/org/elasticsearch/index/store/DistributorDirectoryTest.java
src/test/java/org/elasticsearch/index/store/DistributorInTheWildTest.java
src/test/java/org/elasticsearch/index/store/StoreTest.java
src/test/java/org/elasticsearch/index/store/distributor/DistributorTests.java
src/test/java/org/elasticsearch/index/translog/AbstractSimpleTranslogTests.java
src/test/java/org/elasticsearch/indices/IndicesServiceTest.java
src/test/java/org/elasticsearch/indices/analyze/AnalyzeActionTests.java
src/test/java/org/elasticsearch/indices/mapping/ConcurrentDynamicTemplateTests.java
src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerTests.java
src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationTests.java
src/test/java/org/elasticsearch/indices/store/SimpleDistributorTests.java
src/test/java/org/elasticsearch/indices/store/StrictDistributor.java
src/test/java/org/elasticsearch/nested/SimpleNestedTests.java
src/test/java/org/elasticsearch/recovery/RelocationTests.java
src/test/java/org/elasticsearch/script/IndexedScriptTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/SamplerTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTest.java
src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsTests.java
src/test/java/org/elasticsearch/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/search/fetch/innerhits/NestedChildrenFilterTest.java
src/test/java/org/elasticsearch/search/functionscore/FunctionScoreTests.java
src/test/java/org/elasticsearch/search/highlight/HighlighterSearchTests.java
src/test/java/org/elasticsearch/search/scriptfilter/ScriptFilterSearchTests.java
src/test/java/org/elasticsearch/search/scroll/SearchScrollTests.java
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/ElasticsearchSingleNodeTest.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Merge branch 'master' into feature/query-refactoring

Conflicts:
	src/main/java/org/elasticsearch/index/query/IdsQueryParser.java

time:
2015-04-22T09:15:12Z
class:
src/main/java/org/elasticsearch/script/ScriptService.java
src/test/java/org/elasticsearch/index/query/TemplateQueryTest.java
src/test/java/org/elasticsearch/script/IndexedScriptTests.java
comments:
Merge pull request #10526 from MaineC/bug-fix/10397-update-templates-not-recompiled

Closes #10397: Fix updating indexed search templates.

time:
2015-04-22T09:06:22Z
class:
src/test/java/org/elasticsearch/search/aggregations/reducers/DerivativeTests.java
comments:
unit test for derivative of metric agg with gaps

time:
2015-04-22T09:00:13Z
class:
src/main/java/org/elasticsearch/script/ScriptService.java
src/test/java/org/elasticsearch/index/query/TemplateQueryTest.java
src/test/java/org/elasticsearch/script/IndexedScriptTests.java
comments:
Fix updating templates.

Closes #10397

When putting new templates to an index they are added to the cache
of compiled templates as a side effect of the validate method. When
updating templates they are also validated but the scripts that are
already in the cache never get updated.

As per comments on PR #10526 adding more tests around updating scripts
and templates.

time:
2015-04-22T08:53:20Z
class:
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequestBuilder.java
src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java
src/main/java/org/elasticsearch/rest/action/search/RestClearScrollAction.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchScrollAction.java
src/test/java/org/elasticsearch/action/IndicesRequestTests.java
src/test/java/org/elasticsearch/indices/analyze/AnalyzeActionTests.java
src/test/java/org/elasticsearch/search/scroll/SearchScrollTests.java
comments:
Rest: Add json in request body to scroll, clear scroll, and analyze API

Change analyze.asciidoc and scroll.asciidoc
Add json support to Analyze and Scroll, and clear scrollAPI
Add rest-api-spec/test

Closes #5866

time:
2015-04-22T07:36:01Z
class:
src/test/java/org/elasticsearch/index/store/StoreTest.java
comments:
[TEST] Make StoreTest extraFS proof

time:
2015-04-22T07:33:14Z
class:
src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
src/main/java/org/elasticsearch/index/engine/CommitStats.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/store/Store.java
src/test/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsTests.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
comments:
Stats: add CommitStats to supply information about the current commit point

Extends ShardStats with commit specific information. We currently expose commit id, generation and the user data map.

The information is also retrievable via the Rest API by using `GET _stats?level=shards`

Closes #10687

time:
2015-04-22T07:24:11Z
class:
comments:
Fix download link in README.textile

time:
2015-04-22T07:20:45Z
class:
src/test/java/org/elasticsearch/index/store/StoreTest.java
comments:
[TEST] make sure extraFS files are not in the metadata

time:
2015-04-22T07:12:44Z
class:
src/test/java/org/elasticsearch/indices/mapping/ConcurrentDynamicTemplateTests.java
comments:
Test: mute testConcurrentDynamicMapping

time:
2015-04-22T07:04:50Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/Security.java
src/main/java/org/elasticsearch/env/NodeEnvironment.java
comments:
enable securitymanager

time:
2015-04-22T00:27:27Z
class:
comments:
Execute tests with $JAVA_HOME.

time:
2015-04-21T23:14:25Z
class:
comments:
Merge pull request #10709 from rmuir/remove_this_insanity

Fix JVM isolation in tests.

time:
2015-04-21T23:04:56Z
class:
comments:
actually remove this line rather than comment it out. tsts pass

time:
2015-04-21T23:02:14Z
class:
comments:
Fix JVM isolation in tests.

Currently security manager would allow for one JVM to muck
with the files (read, write, AND delete) of another JVM.

This is unnecessary.

time:
2015-04-21T22:43:14Z
class:
src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapperTests.java
comments:
unbreak the COMPILE

time:
2015-04-21T22:00:28Z
class:
src/main/java/org/elasticsearch/index/mapper/DocumentFieldMappers.java
src/main/java/org/elasticsearch/index/mapper/FieldMappersLookup.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/query/ExistsFilterParser.java
src/main/java/org/elasticsearch/index/query/MissingFilterParser.java
src/main/java/org/elasticsearch/search/suggest/context/GeolocationContextMapping.java
src/test/java/org/elasticsearch/index/analysis/PreBuiltAnalyzerTests.java
src/test/java/org/elasticsearch/index/mapper/FieldMappersLookupTests.java
src/test/java/org/elasticsearch/index/mapper/camelcase/CamelCaseFieldNameTests.java
src/test/java/org/elasticsearch/index/mapper/completion/CompletionFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/copyto/CopyToMapperTests.java
src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
src/test/java/org/elasticsearch/index/mapper/dynamic/DynamicMappingTests.java
src/test/java/org/elasticsearch/index/mapper/dynamictemplate/genericstore/GenericStoreDynamicTemplateTests.java
src/test/java/org/elasticsearch/index/mapper/dynamictemplate/pathmatch/PathMatchDynamicTemplateTests.java
src/test/java/org/elasticsearch/index/mapper/dynamictemplate/simple/SimpleDynamicTemplatesTests.java
src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/index/IndexTypeMapperTests.java
src/test/java/org/elasticsearch/index/mapper/merge/TestMergeMapperTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/merge/JavaMultiFieldMergeTests.java
src/test/java/org/elasticsearch/index/mapper/path/PathMapperTests.java
src/test/java/org/elasticsearch/index/mapper/simple/SimpleMapperTests.java
src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
src/test/java/org/elasticsearch/index/similarity/SimilarityTests.java
comments:
Mappings: Simplified mapper lookups

We no longer support overriding field index names, but the lookup
data structures still optimize for this use case. This complicates
the work for #8871.  Instead, we can use a lookup structure
by making the legacy case slower.

This change simplifies the field mappers lookup to only
store a single map, keyed by the field's full name. It also
changes a lot of tests to decrease the uses of the older api
(looking up by index name where the index name is different
than the field name).

closes #10705

time:
2015-04-21T19:42:10Z
class:
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapperTests.java
comments:
[GEO] Prioritize tree_level and precision parameters over default distance_error_pct

If a user explicitly defined the tree_level or precision parameter in a geo_shape mapping their specification was always overridden by the default_error_pct parameter (even though our docs say this parameter is a 'hint'). This lead to unexpected accuracy problems in the results of a geo_shape filter. (example provided in issue #9691)

This simple patch fixes the unexpected behavior by setting the default distance_error_pct parameter to zero when the tree_level or precision parameters are provided by the user. Under the covers the quadtree will now use the tree level defined by the user. The docs will be updated to alert the user to exercise caution with these parameters.  Specifying a precision of "1m" for an index using large complex shapes can quickly lead to OOM issues.

closes #9691

time:
2015-04-21T19:02:27Z
class:
src/main/java/org/apache/lucene/spatial/prefix/RecursivePrefixTreeStrategy.java
src/main/java/org/apache/lucene/spatial/prefix/tree/CellIterator.java
src/main/java/org/apache/lucene/spatial/prefix/tree/LegacyCell.java
src/main/java/org/apache/lucene/spatial/prefix/tree/PackedQuadPrefixTree.java
src/main/java/org/apache/lucene/spatial/prefix/tree/QuadPrefixTree.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
comments:
[GEO] Fix OOM for high precision exotic shapes

This is currently submitted as a patch in LUCENE-6422. It removes unnecessary transient memory usage for QuadPrefixTree and, for 1.6.0+ shape indexes adds a new compact bit encoded representation for each quadcell. This is the heart of numerous false positive matches, OOM exceptions, and all around poor shape indexing performance. The compact bit representation will also allows for encoding 3D shapes in future enhancements.

time:
2015-04-21T18:15:04Z
class:
src/test/java/org/elasticsearch/index/store/CorruptedTranslogTests.java
src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerTests.java
src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsTests.java
src/test/java/org/elasticsearch/test/engine/MockEngineSupport.java
src/test/java/org/elasticsearch/test/engine/MockInternalEngine.java
src/test/java/org/elasticsearch/test/engine/MockShadowEngine.java
src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
comments:
[TEST] Share code for mock engines

Today we have duplicated logic in the MockInternal and MockShadowEngine
since they need to subclass the actual engine. This commit shares the most of
the code making it easier to add mock engines in the future.

time:
2015-04-21T15:00:02Z
class:
src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
src/test/java/org/elasticsearch/search/aggregations/reducers/DerivativeTests.java
comments:
Derivative can now access multi-value metric aggregations

time:
2015-04-21T14:06:20Z
class:
comments:
Documentation for the max_bucket reducer

time:
2015-04-21T14:06:20Z
class:
comments:
Documentation for the derivative reducer

time:
2015-04-21T14:06:19Z
class:
comments:
Added section for reducer aggregations in the main aggregation docs page

time:
2015-04-21T13:40:21Z
class:
src/main/java/org/apache/lucene/search/vectorhighlight/CustomFieldQuery.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
src/main/java/org/elasticsearch/common/lucene/docset/AndDocIdSet.java
src/main/java/org/elasticsearch/common/lucene/docset/DocIdSets.java
src/main/java/org/elasticsearch/common/lucene/docset/NotDocIdSet.java
src/main/java/org/elasticsearch/common/lucene/docset/OrDocIdSet.java
src/main/java/org/elasticsearch/common/lucene/search/AndFilter.java
src/main/java/org/elasticsearch/common/lucene/search/MatchAllDocsFilter.java
src/main/java/org/elasticsearch/common/lucene/search/MatchNoDocsFilter.java
src/main/java/org/elasticsearch/common/lucene/search/NotFilter.java
src/main/java/org/elasticsearch/common/lucene/search/OrFilter.java
src/main/java/org/elasticsearch/common/lucene/search/Queries.java
src/main/java/org/elasticsearch/common/lucene/search/RegexpFilter.java
src/main/java/org/elasticsearch/common/lucene/search/XBooleanFilter.java
src/main/java/org/elasticsearch/common/lucene/search/XDocIdSetIterator.java
src/main/java/org/elasticsearch/index/aliases/IndexAliasesService.java
src/main/java/org/elasticsearch/index/cache/filter/AutoFilterCachingPolicy.java
src/main/java/org/elasticsearch/index/cache/filter/FilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/FilterCacheModule.java
src/main/java/org/elasticsearch/index/cache/filter/none/NoneFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/weighted/WeightedFilterCache.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
src/main/java/org/elasticsearch/index/query/AndFilterBuilder.java
src/main/java/org/elasticsearch/index/query/AndFilterParser.java
src/main/java/org/elasticsearch/index/query/BoolFilterParser.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/ExistsFilterParser.java
src/main/java/org/elasticsearch/index/query/FQueryFilterParser.java
src/main/java/org/elasticsearch/index/query/FilterBuilders.java
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeohashCellFilter.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/IdsFilterParser.java
src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
src/main/java/org/elasticsearch/index/query/IndicesFilterParser.java
src/main/java/org/elasticsearch/index/query/LimitFilterParser.java
src/main/java/org/elasticsearch/index/query/MatchAllFilterParser.java
src/main/java/org/elasticsearch/index/query/MissingFilterParser.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
src/main/java/org/elasticsearch/index/query/NotFilterParser.java
src/main/java/org/elasticsearch/index/query/OrFilterBuilder.java
src/main/java/org/elasticsearch/index/query/OrFilterParser.java
src/main/java/org/elasticsearch/index/query/PrefixFilterParser.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/query/RangeFilterParser.java
src/main/java/org/elasticsearch/index/query/RegexpFilterParser.java
src/main/java/org/elasticsearch/index/query/ScriptFilterParser.java
src/main/java/org/elasticsearch/index/query/TermFilterParser.java
src/main/java/org/elasticsearch/index/query/TermsFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TermsFilterParser.java
src/main/java/org/elasticsearch/index/query/TypeFilterParser.java
src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/support/QueryParsers.java
src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentIdsFilter.java
src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
src/main/java/org/elasticsearch/index/search/geo/IndexedGeoBoundingBoxFilter.java
src/main/java/org/elasticsearch/index/search/nested/NonNestedDocsFilter.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregator.java
src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
src/main/java/org/elasticsearch/search/fetch/matchedqueries/MatchedQueriesFetchSubPhase.java
src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
src/test/java/org/elasticsearch/common/lucene/docset/DocIdSetsTests.java
src/test/java/org/elasticsearch/common/lucene/index/FreqTermsEnumTests.java
src/test/java/org/elasticsearch/common/lucene/search/MatchAllDocsFilterTests.java
src/test/java/org/elasticsearch/common/lucene/search/TermsFilterTests.java
src/test/java/org/elasticsearch/common/lucene/search/XBooleanFilterLuceneTests.java
src/test/java/org/elasticsearch/common/lucene/search/XBooleanFilterTests.java
src/test/java/org/elasticsearch/index/TermsFilterIntegrationTests.java
src/test/java/org/elasticsearch/index/aliases/IndexAliasesServiceTests.java
src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTest.java
src/test/java/org/elasticsearch/index/fielddata/AbstractStringFieldDataTests.java
src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/index/query/TemplateQueryParserTest.java
src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
src/test/java/org/elasticsearch/index/search/nested/AbstractNumberNestedSortingTests.java
src/test/java/org/elasticsearch/index/search/nested/DoubleNestedSortingTests.java
src/test/java/org/elasticsearch/index/search/nested/FloatNestedSortingTests.java
src/test/java/org/elasticsearch/index/search/nested/NestedSortingTests.java
src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
src/test/java/org/elasticsearch/nested/SimpleNestedTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTest.java
src/test/java/org/elasticsearch/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/search/fetch/innerhits/NestedChildrenFilterTest.java
src/test/java/org/elasticsearch/search/functionscore/FunctionScoreTests.java
src/test/java/org/elasticsearch/search/highlight/HighlighterSearchTests.java
src/test/java/org/elasticsearch/search/scriptfilter/ScriptFilterSearchTests.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/validate/SimpleValidateQueryTests.java
comments:
Merge pull request #10531 from jpountz/upgrade/lucene-5.1-queries

Search: Replace deprecated filters with equivalent queries.

time:
2015-04-21T13:32:43Z
class:
src/main/java/org/apache/lucene/search/vectorhighlight/CustomFieldQuery.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
src/main/java/org/elasticsearch/common/lucene/docset/AndDocIdSet.java
src/main/java/org/elasticsearch/common/lucene/docset/DocIdSets.java
src/main/java/org/elasticsearch/common/lucene/docset/NotDocIdSet.java
src/main/java/org/elasticsearch/common/lucene/docset/OrDocIdSet.java
src/main/java/org/elasticsearch/common/lucene/search/AndFilter.java
src/main/java/org/elasticsearch/common/lucene/search/MatchAllDocsFilter.java
src/main/java/org/elasticsearch/common/lucene/search/MatchNoDocsFilter.java
src/main/java/org/elasticsearch/common/lucene/search/NotFilter.java
src/main/java/org/elasticsearch/common/lucene/search/OrFilter.java
src/main/java/org/elasticsearch/common/lucene/search/Queries.java
src/main/java/org/elasticsearch/common/lucene/search/RegexpFilter.java
src/main/java/org/elasticsearch/common/lucene/search/XBooleanFilter.java
src/main/java/org/elasticsearch/common/lucene/search/XDocIdSetIterator.java
src/main/java/org/elasticsearch/index/aliases/IndexAliasesService.java
src/main/java/org/elasticsearch/index/cache/filter/AutoFilterCachingPolicy.java
src/main/java/org/elasticsearch/index/cache/filter/FilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/FilterCacheModule.java
src/main/java/org/elasticsearch/index/cache/filter/none/NoneFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/weighted/WeightedFilterCache.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
src/main/java/org/elasticsearch/index/query/AndFilterBuilder.java
src/main/java/org/elasticsearch/index/query/AndFilterParser.java
src/main/java/org/elasticsearch/index/query/BoolFilterParser.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/ExistsFilterParser.java
src/main/java/org/elasticsearch/index/query/FQueryFilterParser.java
src/main/java/org/elasticsearch/index/query/FilterBuilders.java
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeFilterParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeohashCellFilter.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/IdsFilterParser.java
src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
src/main/java/org/elasticsearch/index/query/IndicesFilterParser.java
src/main/java/org/elasticsearch/index/query/LimitFilterParser.java
src/main/java/org/elasticsearch/index/query/MatchAllFilterParser.java
src/main/java/org/elasticsearch/index/query/MissingFilterParser.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
src/main/java/org/elasticsearch/index/query/NotFilterParser.java
src/main/java/org/elasticsearch/index/query/OrFilterBuilder.java
src/main/java/org/elasticsearch/index/query/OrFilterParser.java
src/main/java/org/elasticsearch/index/query/PrefixFilterParser.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/query/RangeFilterParser.java
src/main/java/org/elasticsearch/index/query/RegexpFilterParser.java
src/main/java/org/elasticsearch/index/query/ScriptFilterParser.java
src/main/java/org/elasticsearch/index/query/TermFilterParser.java
src/main/java/org/elasticsearch/index/query/TermsFilterBuilder.java
src/main/java/org/elasticsearch/index/query/TermsFilterParser.java
src/main/java/org/elasticsearch/index/query/TypeFilterParser.java
src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/support/QueryParsers.java
src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentIdsFilter.java
src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
src/main/java/org/elasticsearch/index/search/geo/IndexedGeoBoundingBoxFilter.java
src/main/java/org/elasticsearch/index/search/nested/NonNestedDocsFilter.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregator.java
src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
src/main/java/org/elasticsearch/search/fetch/matchedqueries/MatchedQueriesFetchSubPhase.java
src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
src/test/java/org/elasticsearch/common/lucene/docset/DocIdSetsTests.java
src/test/java/org/elasticsearch/common/lucene/index/FreqTermsEnumTests.java
src/test/java/org/elasticsearch/common/lucene/search/MatchAllDocsFilterTests.java
src/test/java/org/elasticsearch/common/lucene/search/TermsFilterTests.java
src/test/java/org/elasticsearch/common/lucene/search/XBooleanFilterLuceneTests.java
src/test/java/org/elasticsearch/common/lucene/search/XBooleanFilterTests.java
src/test/java/org/elasticsearch/index/TermsFilterIntegrationTests.java
src/test/java/org/elasticsearch/index/aliases/IndexAliasesServiceTests.java
src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTest.java
src/test/java/org/elasticsearch/index/fielddata/AbstractStringFieldDataTests.java
src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/index/query/TemplateQueryParserTest.java
src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
src/test/java/org/elasticsearch/index/search/nested/AbstractNumberNestedSortingTests.java
src/test/java/org/elasticsearch/index/search/nested/DoubleNestedSortingTests.java
src/test/java/org/elasticsearch/index/search/nested/FloatNestedSortingTests.java
src/test/java/org/elasticsearch/index/search/nested/NestedSortingTests.java
src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
src/test/java/org/elasticsearch/nested/SimpleNestedTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTest.java
src/test/java/org/elasticsearch/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/search/fetch/innerhits/NestedChildrenFilterTest.java
src/test/java/org/elasticsearch/search/functionscore/FunctionScoreTests.java
src/test/java/org/elasticsearch/search/highlight/HighlighterSearchTests.java
src/test/java/org/elasticsearch/search/scriptfilter/ScriptFilterSearchTests.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/validate/SimpleValidateQueryTests.java
comments:
Replace deprecated filters with equivalent queries.

In Lucene 5.1 lots of filters got deprecated in favour of equivalent queries.
Additionally, random-access to filters is now replaced with approximations on
scorers. This commit
 - replaces the deprecated NumericRangeFilter, PrefixFilter, TermFilter and
   TermsFilter with NumericRangeQuery, PrefixQuery, TermQuery and TermsQuery,
   wrapped in a QueryWrapperFilter
 - replaces XBooleanFilter, AndFilter and OrFilter with a BooleanQuery in a
   QueryWrapperFilter
 - removes DocIdSets.isBroken: the new two-phase iteration API will now help
   execute slow filters efficiently
 - replaces FilterCachingPolicy with QueryCachingPolicy

Close #8960

time:
2015-04-21T13:22:50Z
class:
comments:
Merge pull request #10699 from rmuir/lucene_1675100

Upgrade to Lucene 5.2 r1675100

time:
2015-04-21T13:06:44Z
class:
comments:
Upgrade to Lucene 5.2 r1675100

This upgrade is for https://issues.apache.org/jira/browse/LUCENE-6442

It should improve test reproducibility, especially if you are on a mac
and want to reproduce a jenkins failure that happened on linux.

time:
2015-04-21T09:22:05Z
class:
src/main/java/org/elasticsearch/search/aggregations/AggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorBase.java
src/main/java/org/elasticsearch/search/aggregations/TransportAggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/bucket/BestBucketsDeferringCollector.java
src/main/java/org/elasticsearch/search/aggregations/bucket/BestDocsDeferringCollector.java
src/main/java/org/elasticsearch/search/aggregations/bucket/DeferringBucketCollector.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedBytesHashSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedMapSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedNumericSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedOrdinalsSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/InternalSampler.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/Sampler.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/SamplerAggregationBuilder.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/SamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/SamplerParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/UnmappedSampler.java
src/test/java/org/elasticsearch/search/aggregations/bucket/SamplerTests.java
comments:
New feature - Sampler aggregation used to limit any nested aggregations' processing to a sample of the top-scoring documents.
Optionally, a â€œdiversifyâ€ setting can limit the number of collected matches that share a common value such as an "author".

Closes #8108

time:
2015-04-21T09:19:58Z
class:
src/main/java/org/elasticsearch/action/WriteFailureException.java
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/cluster/action/index/MappingUpdatedAction.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
src/main/java/org/elasticsearch/cluster/settings/ClusterDynamicSettingsModule.java
src/main/java/org/elasticsearch/index/gateway/IndexShardGateway.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/MapperUtils.java
src/main/java/org/elasticsearch/index/mapper/Mapping.java
src/main/java/org/elasticsearch/index/mapper/ParseContext.java
src/main/java/org/elasticsearch/index/mapper/ParsedDocument.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
src/main/java/org/elasticsearch/index/termvectors/ShardTermVectorsService.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
src/test/java/org/elasticsearch/index/mapper/camelcase/CamelCaseFieldNameTests.java
src/test/java/org/elasticsearch/index/mapper/copyto/CopyToMapperTests.java
src/test/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
src/test/java/org/elasticsearch/index/mapper/dynamic/DynamicMappingIntegrationTests.java
src/test/java/org/elasticsearch/index/mapper/dynamic/DynamicMappingTests.java
src/test/java/org/elasticsearch/index/mapper/dynamictemplate/genericstore/GenericStoreDynamicTemplateTests.java
src/test/java/org/elasticsearch/index/mapper/dynamictemplate/pathmatch/PathMatchDynamicTemplateTests.java
src/test/java/org/elasticsearch/index/mapper/dynamictemplate/simple/SimpleDynamicTemplatesTests.java
src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/index/IndexTypeMapperTests.java
src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/lucene/DoubleIndexingDocTest.java
src/test/java/org/elasticsearch/index/mapper/merge/TestMergeMapperTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/merge/JavaMultiFieldMergeTests.java
src/test/java/org/elasticsearch/index/mapper/numeric/SimpleNumericTests.java
src/test/java/org/elasticsearch/index/mapper/size/SizeMappingTests.java
src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeFormatTests.java
src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeTimezoneTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/indices/mapping/ConcurrentDynamicTemplateTests.java
src/test/java/org/elasticsearch/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Merge pull request #10634 from jpountz/fix/validate_mappings_on_master

Mappings: Validate dynamic mappings updates on the master node.

time:
2015-04-21T09:08:21Z
class:
src/main/java/org/elasticsearch/action/WriteFailureException.java
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/cluster/action/index/MappingUpdatedAction.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
src/main/java/org/elasticsearch/cluster/settings/ClusterDynamicSettingsModule.java
src/main/java/org/elasticsearch/index/gateway/IndexShardGateway.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/MapperUtils.java
src/main/java/org/elasticsearch/index/mapper/Mapping.java
src/main/java/org/elasticsearch/index/mapper/ParseContext.java
src/main/java/org/elasticsearch/index/mapper/ParsedDocument.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
src/main/java/org/elasticsearch/index/termvectors/ShardTermVectorsService.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
src/test/java/org/elasticsearch/index/mapper/camelcase/CamelCaseFieldNameTests.java
src/test/java/org/elasticsearch/index/mapper/copyto/CopyToMapperTests.java
src/test/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
src/test/java/org/elasticsearch/index/mapper/dynamic/DynamicMappingIntegrationTests.java
src/test/java/org/elasticsearch/index/mapper/dynamic/DynamicMappingTests.java
src/test/java/org/elasticsearch/index/mapper/dynamictemplate/genericstore/GenericStoreDynamicTemplateTests.java
src/test/java/org/elasticsearch/index/mapper/dynamictemplate/pathmatch/PathMatchDynamicTemplateTests.java
src/test/java/org/elasticsearch/index/mapper/dynamictemplate/simple/SimpleDynamicTemplatesTests.java
src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/index/IndexTypeMapperTests.java
src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/lucene/DoubleIndexingDocTest.java
src/test/java/org/elasticsearch/index/mapper/merge/TestMergeMapperTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/merge/JavaMultiFieldMergeTests.java
src/test/java/org/elasticsearch/index/mapper/numeric/SimpleNumericTests.java
src/test/java/org/elasticsearch/index/mapper/size/SizeMappingTests.java
src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeFormatTests.java
src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeTimezoneTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/indices/mapping/ConcurrentDynamicTemplateTests.java
src/test/java/org/elasticsearch/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Mappings: Validate dynamic mappings updates on the master node.

This commit changes dynamic mappings updates so that they are synchronous on the
entire cluster and their validity is checked by the master node. There are some
important consequences of this commit:
 - a failing index request on a non-existing type does not implicitely create
   the type anymore
 - dynamic mappings updates cannot create inconsistent mappings on different
   shards
 - indexing requests that introduce new fields might induce latency spikes
   because of the overhead to update the mappings on the master node

Close #8688

time:
2015-04-21T09:08:21Z
class:
src/main/java/org/elasticsearch/common/lucene/Lucene.java
comments:
Internal: Ensure that explanation descriptions are not null on serialization.

As requested on #10399

time:
2015-04-21T08:55:49Z
class:
src/main/java/org/elasticsearch/search/fetch/matchedqueries/MatchedQueriesFetchSubPhase.java
src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsTests.java
comments:
Merge pull request #10694 from martijnvg/matched_queries/cleanup

matched queries: Remove redundant and broken code

time:
2015-04-21T07:50:48Z
class:
src/main/java/org/elasticsearch/common/lucene/Lucene.java
comments:
Merge pull request #10689 from jpountz/enhancement/check_expl_desc

Internal: Ensure that explanation descriptions are not null on serialization.

Close #10399

time:
2015-04-21T06:52:51Z
class:
src/main/java/org/elasticsearch/search/fetch/matchedqueries/MatchedQueriesFetchSubPhase.java
src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsTests.java
comments:
matched queries: Remove redundant and broken code

Because the fetch phase now has nested doc, the logic that deals with detecting if a named nested query/filter matches with a hit can be removed.

Closes #10661

time:
2015-04-20T22:57:57Z
class:
comments:
Docs: Warn about the fact that min_doc_count=0 might return terms that only belong to different types.

time:
2015-04-20T21:58:28Z
class:
src/main/java/org/elasticsearch/common/lucene/Lucene.java
comments:
Internal: Ensure that explanation descriptions are not null on serialization.

As requested on #10399

time:
2015-04-20T19:55:32Z
class:
src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
comments:
Improve the error message when attempting to snapshot a closed index

Currently the error message is the same when index is closed and when it is missing shards. This commit will generate a specific failure message when a user tries to create a snapshot of a closed index.

Related to #10579

time:
2015-04-20T17:35:40Z
class:
src/main/java/org/elasticsearch/bootstrap/JVMCheck.java
comments:
Merge pull request #10525 from MaineC/bug-fix/JVM_Checker

Fix typo in JVM checker user help.

When checking the JVM we provide the user with help on which environment variable to use to disable the check in case the check fails. Fixing the variable we point the user to - should be JAVA_OPTS

time:
2015-04-20T17:07:24Z
class:
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java
src/main/java/org/elasticsearch/index/get/ShardGetService.java
src/main/java/org/elasticsearch/index/mapper/DocumentFieldMappers.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/FieldMappersLookup.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
src/test/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/dynamictemplate/simple/SimpleDynamicTemplatesTests.java
src/test/java/org/elasticsearch/index/mapper/geo/GeohashMappingGeoPointTests.java
src/test/java/org/elasticsearch/index/mapper/lucene/DoubleIndexingDocTest.java
src/test/java/org/elasticsearch/index/mapper/merge/TestMergeMapperTests.java
comments:
Mappings: Remove dead code after previous refactorings

This is mostly removing code that handled deletion of types, which was
removed in #8877.

closes #10666

time:
2015-04-20T16:29:27Z
class:
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/ElasticsearchSingleNodeTest.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
[TEST] Add back old way for naming clusters

time:
2015-04-20T16:15:51Z
class:
comments:
[TEST] allow to read from lig/sigar

time:
2015-04-20T16:05:45Z
class:
comments:
[DOCS] Be explicit about scan doing no scoring

time:
2015-04-20T15:19:45Z
class:
src/main/java/org/elasticsearch/common/util/MultiDataPathUpgrader.java
src/main/java/org/elasticsearch/env/NodeEnvironment.java
src/main/java/org/elasticsearch/gateway/DanglingIndicesState.java
src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
src/main/java/org/elasticsearch/index/IndexService.java
src/main/java/org/elasticsearch/index/gateway/IndexShardGateway.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
src/main/java/org/elasticsearch/index/shard/ShardPath.java
src/main/java/org/elasticsearch/index/shard/ShardStateMetaData.java
src/main/java/org/elasticsearch/index/store/DirectoryService.java
src/main/java/org/elasticsearch/index/store/DistributorDirectory.java
src/main/java/org/elasticsearch/index/store/IndexStore.java
src/main/java/org/elasticsearch/index/store/Store.java
src/main/java/org/elasticsearch/index/store/StoreModule.java
src/main/java/org/elasticsearch/index/store/distributor/AbstractDistributor.java
src/main/java/org/elasticsearch/index/store/distributor/Distributor.java
src/main/java/org/elasticsearch/index/store/distributor/LeastUsedDistributor.java
src/main/java/org/elasticsearch/index/store/distributor/RandomWeightedDistributor.java
src/main/java/org/elasticsearch/index/store/fs/DefaultFsDirectoryService.java
src/main/java/org/elasticsearch/index/store/fs/FsDirectoryService.java
src/main/java/org/elasticsearch/index/store/fs/MmapFsDirectoryService.java
src/main/java/org/elasticsearch/index/store/fs/NioFsDirectoryService.java
src/main/java/org/elasticsearch/index/store/fs/SimpleFsDirectoryService.java
src/main/java/org/elasticsearch/index/store/support/AbstractIndexStore.java
src/main/java/org/elasticsearch/index/translog/Translog.java
src/main/java/org/elasticsearch/index/translog/fs/FsTranslog.java
src/main/java/org/elasticsearch/indices/IndicesService.java
src/main/java/org/elasticsearch/indices/InternalIndicesLifecycle.java
src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteTests.java
src/test/java/org/elasticsearch/common/util/MultiDataPathUpgraderTests.java
src/test/java/org/elasticsearch/env/NodeEnvironmentTests.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
src/test/java/org/elasticsearch/index/merge/policy/MergePolicySettingsTest.java
src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
src/test/java/org/elasticsearch/index/shard/ShardPathTests.java
src/test/java/org/elasticsearch/index/store/CorruptedFileTest.java
src/test/java/org/elasticsearch/index/store/CorruptedTranslogTests.java
src/test/java/org/elasticsearch/index/store/DistributorDirectoryTest.java
src/test/java/org/elasticsearch/index/store/DistributorInTheWildTest.java
src/test/java/org/elasticsearch/index/store/StoreTest.java
src/test/java/org/elasticsearch/index/store/distributor/DistributorTests.java
src/test/java/org/elasticsearch/index/translog/AbstractSimpleTranslogTests.java
src/test/java/org/elasticsearch/indices/IndicesServiceTest.java
src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationTests.java
src/test/java/org/elasticsearch/indices/store/SimpleDistributorTests.java
src/test/java/org/elasticsearch/indices/store/StrictDistributor.java
src/test/java/org/elasticsearch/recovery/RelocationTests.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/store/MockDirectoryHelper.java
src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
comments:
[STORE] Move to on data.path per shard

This commit moves away from using stripe RAID-0 simumlation across multiple
data paths towards using a single path per shard. Multiple data paths are still
supported but shards and it's data is not striped across multiple paths / disks.
This will for instance prevent to loose all shards if a single disk is corrupted.

Indices that are using this features already will automatically upgraded to a single
datapath based on a simple diskspace based heuristic. In general there must be enough
diskspace to move a single shard at any time otherwise the upgrade will fail.

Closes #9498

time:
2015-04-20T14:51:27Z
class:
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
src/test/java/org/elasticsearch/test/rest/RestTestExecutionContext.java
comments:
[TEST] remove unused ElasticsearchIntegrationTest#afterTestFailed method

time:
2015-04-20T14:15:40Z
class:
src/main/java/org/elasticsearch/Version.java
src/main/java/org/elasticsearch/action/ActionListenerResponseHandler.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
src/main/java/org/elasticsearch/action/count/TransportCountAction.java
src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
src/main/java/org/elasticsearch/action/search/TransportClearScrollAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchCountAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryAndFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryThenFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchQueryAndFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchQueryThenFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchScanAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryAndFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryThenFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollScanAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
src/main/java/org/elasticsearch/action/support/HandledTransportAction.java
src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastOperationAction.java
src/main/java/org/elasticsearch/action/support/nodes/TransportNodesOperationAction.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsWriter.java
src/main/java/org/elasticsearch/action/termvectors/dfs/TransportDfsOnlyAction.java
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/common/io/FileSystemUtils.java
src/main/java/org/elasticsearch/common/io/PathUtils.java
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/common/util/concurrent/EsExecutors.java
src/main/java/org/elasticsearch/env/Environment.java
src/main/java/org/elasticsearch/env/NodeEnvironment.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
src/main/java/org/elasticsearch/http/HttpServer.java
src/main/java/org/elasticsearch/index/codec/CodecService.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/main/java/org/elasticsearch/indices/analysis/HunspellService.java
src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
src/main/java/org/elasticsearch/plugins/PluginsService.java
src/main/java/org/elasticsearch/repositories/fs/FsRepository.java
src/main/java/org/elasticsearch/search/action/SearchServiceListener.java
src/main/java/org/elasticsearch/search/action/SearchServiceTransportAction.java
src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
src/main/java/org/elasticsearch/search/query/QueryPhase.java
src/test/java/org/apache/lucene/queries/BlendedTermQueryTest.java
src/test/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighterTests.java
src/test/java/org/apache/lucene/search/postingshighlight/XPostingsHighlighterTests.java
src/test/java/org/apache/lucene/util/AbstractRandomizedTest.java
src/test/java/org/apache/lucene/util/SloppyMathTests.java
src/test/java/org/elasticsearch/NamingConventionTests.java
src/test/java/org/elasticsearch/VersionTests.java
src/test/java/org/elasticsearch/action/IndicesRequestTests.java
src/test/java/org/elasticsearch/action/OriginalIndicesTests.java
src/test/java/org/elasticsearch/action/admin/HotThreadsTest.java
src/test/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequestTest.java
src/test/java/org/elasticsearch/action/bulk/BulkIntegrationTests.java
src/test/java/org/elasticsearch/action/bulk/BulkProcessorTests.java
src/test/java/org/elasticsearch/action/get/MultiGetShardRequestTests.java
src/test/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequestTests.java
src/test/java/org/elasticsearch/action/mlt/MoreLikeThisRequestTests.java
src/test/java/org/elasticsearch/action/support/IndicesOptionsTests.java
src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsTests.java
src/test/java/org/elasticsearch/action/termvectors/TermVectorsUnitTests.java
src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java
src/test/java/org/elasticsearch/benchmark/common/lucene/uidscan/LuceneUidScanBenchmark.java
src/test/java/org/elasticsearch/benchmark/fs/FsAppendBenchmark.java
src/test/java/org/elasticsearch/benchmark/scripts/score/BasicScriptBenchmark.java
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatTests.java
src/test/java/org/elasticsearch/bwcompat/StaticIndexBackwardCompatibilityTest.java
src/test/java/org/elasticsearch/client/transport/TransportClientTests.java
src/test/java/org/elasticsearch/cluster/ClusterServiceTests.java
src/test/java/org/elasticsearch/cluster/MinimumMasterNodesTests.java
src/test/java/org/elasticsearch/cluster/SpecificMasterNodesTests.java
src/test/java/org/elasticsearch/cluster/node/DiscoveryNodeTests.java
src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityTests.java
src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityUponUpgradeTests.java
src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceUnbalancedClusterTest.java
src/test/java/org/elasticsearch/cluster/routing/allocation/NodeVersionAllocationDeciderTests.java
src/test/java/org/elasticsearch/codecs/CodecTests.java
src/test/java/org/elasticsearch/common/ChannelsTests.java
src/test/java/org/elasticsearch/common/PidFileTests.java
src/test/java/org/elasticsearch/common/blobstore/BlobStoreTest.java
src/test/java/org/elasticsearch/common/bytes/PagedBytesReferenceTest.java
src/test/java/org/elasticsearch/common/hppc/HppcMapsTests.java
src/test/java/org/elasticsearch/common/io/FileSystemUtilsTests.java
src/test/java/org/elasticsearch/common/io/streams/BytesStreamsTests.java
src/test/java/org/elasticsearch/common/logging/log4j/Log4jESLoggerTests.java
src/test/java/org/elasticsearch/common/logging/log4j/LoggingConfigurationTests.java
src/test/java/org/elasticsearch/common/lucene/LuceneTest.java
src/test/java/org/elasticsearch/common/lucene/index/ElasticsearchDirectoryReaderTests.java
src/test/java/org/elasticsearch/common/lucene/index/FreqTermsEnumTests.java
src/test/java/org/elasticsearch/common/lucene/search/AndDocIdSetTests.java
src/test/java/org/elasticsearch/common/lucene/search/XBooleanFilterTests.java
src/test/java/org/elasticsearch/common/lucene/uid/VersionsTests.java
src/test/java/org/elasticsearch/deleteByQuery/DeleteByQueryTests.java
src/test/java/org/elasticsearch/discovery/ZenUnicastDiscoveryTests.java
src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryTests.java
src/test/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPingTests.java
src/test/java/org/elasticsearch/env/EnvironmentTests.java
src/test/java/org/elasticsearch/env/NodeEnvironmentTests.java
src/test/java/org/elasticsearch/gateway/GatewayIndexStateTests.java
src/test/java/org/elasticsearch/gateway/MetaDataStateFormatTest.java
src/test/java/org/elasticsearch/gateway/MetaStateServiceTests.java
src/test/java/org/elasticsearch/gateway/RecoverAfterNodesTests.java
src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayTests.java
src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTest.java
src/test/java/org/elasticsearch/index/IndexWithShadowReplicasTests.java
src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
src/test/java/org/elasticsearch/index/analysis/HunspellTokenFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/PreBuiltAnalyzerTests.java
src/test/java/org/elasticsearch/index/analysis/StemmerTokenFilterFactoryTests.java
src/test/java/org/elasticsearch/index/codec/CodecTests.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTests.java
src/test/java/org/elasticsearch/index/fielddata/fieldcomparator/ReplaceMissingTests.java
src/test/java/org/elasticsearch/index/fielddata/plain/ParentChildFilteredTermsEnumTests.java
src/test/java/org/elasticsearch/index/mapper/FileBasedMappingsTests.java
src/test/java/org/elasticsearch/index/mapper/TransformOnIndexMapperIntegrationTest.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/SimpleExternalMappingTests.java
src/test/java/org/elasticsearch/index/mapper/lucene/DoubleIndexingDocTest.java
src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterTests.java
src/test/java/org/elasticsearch/index/merge/policy/VersionFieldUpgraderTest.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/index/query/TemplateQueryParserTest.java
src/test/java/org/elasticsearch/index/query/TemplateQueryTest.java
src/test/java/org/elasticsearch/index/search/child/AbstractChildTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
src/test/java/org/elasticsearch/index/search/child/TopChildrenQueryTests.java
src/test/java/org/elasticsearch/index/shard/ShardUtilsTests.java
src/test/java/org/elasticsearch/index/snapshots/blobstore/FileInfoTest.java
src/test/java/org/elasticsearch/index/store/CorruptedFileTest.java
src/test/java/org/elasticsearch/index/store/CorruptedTranslogTests.java
src/test/java/org/elasticsearch/index/store/DirectoryUtilsTest.java
src/test/java/org/elasticsearch/index/store/DistributorInTheWildTest.java
src/test/java/org/elasticsearch/index/store/LegacyVerificationTests.java
src/test/java/org/elasticsearch/index/store/StoreTest.java
src/test/java/org/elasticsearch/index/store/distributor/DistributorTests.java
src/test/java/org/elasticsearch/index/translog/AbstractSimpleTranslogTests.java
src/test/java/org/elasticsearch/index/translog/TranslogVersionTests.java
src/test/java/org/elasticsearch/indexing/IndexActionTests.java
src/test/java/org/elasticsearch/indices/IndicesCustomDataPathTests.java
src/test/java/org/elasticsearch/indices/IndicesOptionsIntegrationTests.java
src/test/java/org/elasticsearch/indices/analysis/PreBuiltAnalyzerIntegrationTests.java
src/test/java/org/elasticsearch/indices/analyze/HunspellServiceTests.java
src/test/java/org/elasticsearch/indices/mapping/ConcurrentDynamicTemplateTests.java
src/test/java/org/elasticsearch/indices/mapping/UpdateMappingTests.java
src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryTests.java
src/test/java/org/elasticsearch/indices/recovery/RecoveryStateTest.java
src/test/java/org/elasticsearch/indices/recovery/StartRecoveryRequestTest.java
src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationTests.java
src/test/java/org/elasticsearch/indices/store/IndicesStoreTests.java
src/test/java/org/elasticsearch/indices/template/IndexTemplateFileLoadingTests.java
src/test/java/org/elasticsearch/mlt/MoreLikeThisActionTests.java
src/test/java/org/elasticsearch/mlt/XMoreLikeThisTests.java
src/test/java/org/elasticsearch/nested/SimpleNestedTests.java
src/test/java/org/elasticsearch/nodesinfo/SimpleNodesInfoTests.java
src/test/java/org/elasticsearch/percolator/PercolatorTests.java
src/test/java/org/elasticsearch/percolator/TTLPercolatorTests.java
src/test/java/org/elasticsearch/plugins/PluginLuceneCheckerTests.java
src/test/java/org/elasticsearch/plugins/PluginManagerTests.java
src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
src/test/java/org/elasticsearch/plugins/PluginServiceTests.java
src/test/java/org/elasticsearch/plugins/PluginTestCase.java
src/test/java/org/elasticsearch/plugins/SitePluginTests.java
src/test/java/org/elasticsearch/recovery/RelocationTests.java
src/test/java/org/elasticsearch/recovery/TruncatedRecoveryTests.java
src/test/java/org/elasticsearch/script/CustomScriptContextTests.java
src/test/java/org/elasticsearch/script/OnDiskScriptTests.java
src/test/java/org/elasticsearch/script/ScriptServiceTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/DedicatedAggregationTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/ParentIdAggTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTest.java
src/test/java/org/elasticsearch/search/aggregations/bucket/significant/SignificanceHeuristicTests.java
src/test/java/org/elasticsearch/search/aggregations/metrics/ScriptedMetricTests.java
src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsTests.java
src/test/java/org/elasticsearch/search/basic/TransportTwoNodesSearchTests.java
src/test/java/org/elasticsearch/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/search/fetch/innerhits/NestedChildrenFilterTest.java
src/test/java/org/elasticsearch/search/functionscore/FunctionScoreTests.java
src/test/java/org/elasticsearch/search/functionscore/RandomScoreFunctionTests.java
src/test/java/org/elasticsearch/search/highlight/HighlighterSearchTests.java
src/test/java/org/elasticsearch/search/query/ExistsMissingTests.java
src/test/java/org/elasticsearch/search/query/MultiMatchQueryTests.java
src/test/java/org/elasticsearch/search/query/SearchQueryTests.java
src/test/java/org/elasticsearch/search/query/SimpleQueryStringTests.java
src/test/java/org/elasticsearch/search/rescore/QueryRescorerTests.java
src/test/java/org/elasticsearch/search/scroll/DuelScrollTests.java
src/test/java/org/elasticsearch/search/sort/SimpleSortTests.java
src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearchTests.java
src/test/java/org/elasticsearch/search/suggest/ContextSuggestSearchTests.java
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/snapshots/RepositoriesTests.java
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/snapshots/SnapshotBackwardsCompatibilityTest.java
src/test/java/org/elasticsearch/snapshots/mockstore/MockRepository.java
src/test/java/org/elasticsearch/test/AfterTestRule.java
src/test/java/org/elasticsearch/test/ElasticsearchBackwardsCompatIntegrationTest.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/ElasticsearchLuceneTestCase.java
src/test/java/org/elasticsearch/test/ElasticsearchSingleNodeLuceneTestCase.java
src/test/java/org/elasticsearch/test/ElasticsearchSingleNodeTest.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/ElasticsearchTokenStreamTestCase.java
src/test/java/org/elasticsearch/test/ExternalNode.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/test/SecurityHack.java
src/test/java/org/elasticsearch/test/VersionUtils.java
src/test/java/org/elasticsearch/test/discovery/ClusterDiscoveryConfiguration.java
src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
src/test/java/org/elasticsearch/test/junit/listeners/ReproduceInfoPrinter.java
src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
src/test/java/org/elasticsearch/test/rest/RestTestExecutionContext.java
src/test/java/org/elasticsearch/test/rest/client/RestClient.java
src/test/java/org/elasticsearch/test/rest/section/SkipSection.java
src/test/java/org/elasticsearch/test/rest/support/FileUtils.java
src/test/java/org/elasticsearch/test/rest/support/VersionUtils.java
src/test/java/org/elasticsearch/test/rest/test/FileUtilsTests.java
src/test/java/org/elasticsearch/test/rest/test/RestTestParserTests.java
src/test/java/org/elasticsearch/test/rest/test/SetupSectionParserTests.java
src/test/java/org/elasticsearch/test/rest/test/SkipSectionParserTests.java
src/test/java/org/elasticsearch/test/rest/test/TestSectionParserTests.java
src/test/java/org/elasticsearch/test/rest/test/VersionUtilsTests.java
src/test/java/org/elasticsearch/test/store/MockDirectoryHelper.java
src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
src/test/java/org/elasticsearch/test/test/InternalTestClusterTests.java
src/test/java/org/elasticsearch/test/test/SuiteScopeClusterTests.java
src/test/java/org/elasticsearch/test/test/VersionUtilsTests.java
src/test/java/org/elasticsearch/test/transport/AssertingLocalTransport.java
src/test/java/org/elasticsearch/transport/netty/SimpleNettyTransportTests.java
src/test/java/org/elasticsearch/tribe/TribeTests.java
src/test/java/org/elasticsearch/tribe/TribeUnitTests.java
src/test/java/org/elasticsearch/update/UpdateTests.java
src/test/java/org/elasticsearch/validate/SimpleValidateQueryTests.java
src/test/java/org/elasticsearch/versioning/SimpleVersioningTests.java
src/test/java/org/elasticsearch/watcher/FileWatcherTest.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-04-20T14:09:10Z
class:
src/test/java/org/elasticsearch/search/aggregations/reducers/MaxBucketTests.java
comments:
More tests for max bucket reducer

time:
2015-04-20T12:58:19Z
class:
comments:
Update after @eletrical review

time:
2015-04-20T12:58:19Z
class:
comments:
Standardization of packages structure and install

The existing DEB/RPM packages have a lot of differences: they don't execute the same actions when installing or removing the package. They also don't declare exactly the same environment variables at the same place. At the end of the day the global behavior and configuration is *almost* the same but it's very difficult to maintain the scripts.

This commits unifies the package behavior:
- DEB/RPM use the same package scripts (pre installation, post installation etc) in order to execute exactly the same actions
- Use of a unique environment vars file that declares everything needed by scripts (the goal is to delete vars declaration in init.d and systemd scripts, this will be done in another PR)
- Variables like directory paths are centralized and replaced according to the target platform (using #10330)
- Move /etc/rc.d/init.d to standard /etc/init.d (RPM only)
- Add PID_DIR env var
- Always set ES_USER, ES_GROUP,MAX_MAP_COUNT and MAX_OPEN_FILES in env vars file
- Create log, data, work and plugins directories with DEB/RPM packaging system
- Change to elastic.co domain in copyright and control files
- Add Bats files to automate testing of DEB and RPM packages
- Update TESTING.asciidoc

More info on Bats here:  https://github.com/sstephenson/bats

time:
2015-04-20T12:54:48Z
class:
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
src/main/java/org/elasticsearch/search/query/QueryPhase.java
comments:
Merge pull request #10674 from jpountz/enhancement/indexsearcher_count

Search: Cut over to IndexSearcher.count.

Close #10674

time:
2015-04-20T12:49:35Z
class:
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
src/main/java/org/elasticsearch/search/query/QueryPhase.java
comments:
Search: Cut over to IndexSearcher.count.

There is a new IndexSearcher.count method that makes it easier to count how
many documents match a particular query.

time:
2015-04-20T12:14:06Z
class:
src/main/java/org/elasticsearch/Version.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsWriter.java
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/common/io/FileSystemUtils.java
src/main/java/org/elasticsearch/common/io/PathUtils.java
src/main/java/org/elasticsearch/common/util/concurrent/EsExecutors.java
src/main/java/org/elasticsearch/env/Environment.java
src/main/java/org/elasticsearch/env/NodeEnvironment.java
src/main/java/org/elasticsearch/http/HttpServer.java
src/main/java/org/elasticsearch/index/codec/CodecService.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/indices/analysis/HunspellService.java
src/main/java/org/elasticsearch/plugins/PluginsService.java
src/main/java/org/elasticsearch/repositories/fs/FsRepository.java
src/test/java/org/apache/lucene/queries/BlendedTermQueryTest.java
src/test/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighterTests.java
src/test/java/org/apache/lucene/search/postingshighlight/XPostingsHighlighterTests.java
src/test/java/org/apache/lucene/util/AbstractRandomizedTest.java
src/test/java/org/apache/lucene/util/SloppyMathTests.java
src/test/java/org/elasticsearch/NamingConventionTests.java
src/test/java/org/elasticsearch/VersionTests.java
src/test/java/org/elasticsearch/action/IndicesRequestTests.java
src/test/java/org/elasticsearch/action/OriginalIndicesTests.java
src/test/java/org/elasticsearch/action/admin/HotThreadsTest.java
src/test/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequestTest.java
src/test/java/org/elasticsearch/action/bulk/BulkIntegrationTests.java
src/test/java/org/elasticsearch/action/bulk/BulkProcessorTests.java
src/test/java/org/elasticsearch/action/get/MultiGetShardRequestTests.java
src/test/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequestTests.java
src/test/java/org/elasticsearch/action/mlt/MoreLikeThisRequestTests.java
src/test/java/org/elasticsearch/action/support/IndicesOptionsTests.java
src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsTests.java
src/test/java/org/elasticsearch/action/termvectors/TermVectorsUnitTests.java
src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java
src/test/java/org/elasticsearch/benchmark/common/lucene/uidscan/LuceneUidScanBenchmark.java
src/test/java/org/elasticsearch/benchmark/fs/FsAppendBenchmark.java
src/test/java/org/elasticsearch/benchmark/scripts/score/BasicScriptBenchmark.java
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatTests.java
src/test/java/org/elasticsearch/bwcompat/StaticIndexBackwardCompatibilityTest.java
src/test/java/org/elasticsearch/client/transport/TransportClientTests.java
src/test/java/org/elasticsearch/cluster/ClusterServiceTests.java
src/test/java/org/elasticsearch/cluster/MinimumMasterNodesTests.java
src/test/java/org/elasticsearch/cluster/SpecificMasterNodesTests.java
src/test/java/org/elasticsearch/cluster/node/DiscoveryNodeTests.java
src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityTests.java
src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityUponUpgradeTests.java
src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceUnbalancedClusterTest.java
src/test/java/org/elasticsearch/cluster/routing/allocation/NodeVersionAllocationDeciderTests.java
src/test/java/org/elasticsearch/codecs/CodecTests.java
src/test/java/org/elasticsearch/common/ChannelsTests.java
src/test/java/org/elasticsearch/common/PidFileTests.java
src/test/java/org/elasticsearch/common/blobstore/BlobStoreTest.java
src/test/java/org/elasticsearch/common/bytes/PagedBytesReferenceTest.java
src/test/java/org/elasticsearch/common/hppc/HppcMapsTests.java
src/test/java/org/elasticsearch/common/io/FileSystemUtilsTests.java
src/test/java/org/elasticsearch/common/io/streams/BytesStreamsTests.java
src/test/java/org/elasticsearch/common/logging/log4j/Log4jESLoggerTests.java
src/test/java/org/elasticsearch/common/logging/log4j/LoggingConfigurationTests.java
src/test/java/org/elasticsearch/common/lucene/LuceneTest.java
src/test/java/org/elasticsearch/common/lucene/index/ElasticsearchDirectoryReaderTests.java
src/test/java/org/elasticsearch/common/lucene/index/FreqTermsEnumTests.java
src/test/java/org/elasticsearch/common/lucene/search/AndDocIdSetTests.java
src/test/java/org/elasticsearch/common/lucene/search/XBooleanFilterTests.java
src/test/java/org/elasticsearch/common/lucene/uid/VersionsTests.java
src/test/java/org/elasticsearch/deleteByQuery/DeleteByQueryTests.java
src/test/java/org/elasticsearch/discovery/ZenUnicastDiscoveryTests.java
src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryTests.java
src/test/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPingTests.java
src/test/java/org/elasticsearch/env/EnvironmentTests.java
src/test/java/org/elasticsearch/env/NodeEnvironmentTests.java
src/test/java/org/elasticsearch/gateway/GatewayIndexStateTests.java
src/test/java/org/elasticsearch/gateway/MetaDataStateFormatTest.java
src/test/java/org/elasticsearch/gateway/MetaStateServiceTests.java
src/test/java/org/elasticsearch/gateway/RecoverAfterNodesTests.java
src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayTests.java
src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTest.java
src/test/java/org/elasticsearch/index/IndexWithShadowReplicasTests.java
src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
src/test/java/org/elasticsearch/index/analysis/HunspellTokenFilterFactoryTests.java
src/test/java/org/elasticsearch/index/analysis/PreBuiltAnalyzerTests.java
src/test/java/org/elasticsearch/index/analysis/StemmerTokenFilterFactoryTests.java
src/test/java/org/elasticsearch/index/codec/CodecTests.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTests.java
src/test/java/org/elasticsearch/index/fielddata/fieldcomparator/ReplaceMissingTests.java
src/test/java/org/elasticsearch/index/fielddata/plain/ParentChildFilteredTermsEnumTests.java
src/test/java/org/elasticsearch/index/mapper/FileBasedMappingsTests.java
src/test/java/org/elasticsearch/index/mapper/TransformOnIndexMapperIntegrationTest.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/SimpleExternalMappingTests.java
src/test/java/org/elasticsearch/index/mapper/lucene/DoubleIndexingDocTest.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterTests.java
src/test/java/org/elasticsearch/index/merge/policy/VersionFieldUpgraderTest.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/index/query/TemplateQueryParserTest.java
src/test/java/org/elasticsearch/index/query/TemplateQueryTest.java
src/test/java/org/elasticsearch/index/search/child/AbstractChildTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
src/test/java/org/elasticsearch/index/search/child/TopChildrenQueryTests.java
src/test/java/org/elasticsearch/index/shard/ShardUtilsTests.java
src/test/java/org/elasticsearch/index/snapshots/blobstore/FileInfoTest.java
src/test/java/org/elasticsearch/index/store/CorruptedFileTest.java
src/test/java/org/elasticsearch/index/store/CorruptedTranslogTests.java
src/test/java/org/elasticsearch/index/store/DirectoryUtilsTest.java
src/test/java/org/elasticsearch/index/store/DistributorInTheWildTest.java
src/test/java/org/elasticsearch/index/store/LegacyVerificationTests.java
src/test/java/org/elasticsearch/index/store/StoreTest.java
src/test/java/org/elasticsearch/index/store/distributor/DistributorTests.java
src/test/java/org/elasticsearch/index/translog/AbstractSimpleTranslogTests.java
src/test/java/org/elasticsearch/index/translog/TranslogVersionTests.java
src/test/java/org/elasticsearch/indexing/IndexActionTests.java
src/test/java/org/elasticsearch/indices/IndicesCustomDataPathTests.java
src/test/java/org/elasticsearch/indices/IndicesOptionsIntegrationTests.java
src/test/java/org/elasticsearch/indices/analysis/PreBuiltAnalyzerIntegrationTests.java
src/test/java/org/elasticsearch/indices/analyze/HunspellServiceTests.java
src/test/java/org/elasticsearch/indices/mapping/ConcurrentDynamicTemplateTests.java
src/test/java/org/elasticsearch/indices/mapping/UpdateMappingTests.java
src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryTests.java
src/test/java/org/elasticsearch/indices/recovery/RecoveryStateTest.java
src/test/java/org/elasticsearch/indices/recovery/StartRecoveryRequestTest.java
src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationTests.java
src/test/java/org/elasticsearch/indices/store/IndicesStoreTests.java
src/test/java/org/elasticsearch/indices/template/IndexTemplateFileLoadingTests.java
src/test/java/org/elasticsearch/mlt/MoreLikeThisActionTests.java
src/test/java/org/elasticsearch/mlt/XMoreLikeThisTests.java
src/test/java/org/elasticsearch/nested/SimpleNestedTests.java
src/test/java/org/elasticsearch/nodesinfo/SimpleNodesInfoTests.java
src/test/java/org/elasticsearch/percolator/PercolatorTests.java
src/test/java/org/elasticsearch/percolator/TTLPercolatorTests.java
src/test/java/org/elasticsearch/plugins/PluginLuceneCheckerTests.java
src/test/java/org/elasticsearch/plugins/PluginManagerTests.java
src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
src/test/java/org/elasticsearch/plugins/PluginServiceTests.java
src/test/java/org/elasticsearch/plugins/PluginTestCase.java
src/test/java/org/elasticsearch/plugins/SitePluginTests.java
src/test/java/org/elasticsearch/recovery/RelocationTests.java
src/test/java/org/elasticsearch/recovery/TruncatedRecoveryTests.java
src/test/java/org/elasticsearch/script/CustomScriptContextTests.java
src/test/java/org/elasticsearch/script/OnDiskScriptTests.java
src/test/java/org/elasticsearch/script/ScriptServiceTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/DedicatedAggregationTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/ParentIdAggTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTest.java
src/test/java/org/elasticsearch/search/aggregations/bucket/significant/SignificanceHeuristicTests.java
src/test/java/org/elasticsearch/search/aggregations/metrics/ScriptedMetricTests.java
src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsTests.java
src/test/java/org/elasticsearch/search/basic/TransportTwoNodesSearchTests.java
src/test/java/org/elasticsearch/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/search/fetch/innerhits/NestedChildrenFilterTest.java
src/test/java/org/elasticsearch/search/functionscore/FunctionScoreTests.java
src/test/java/org/elasticsearch/search/functionscore/RandomScoreFunctionTests.java
src/test/java/org/elasticsearch/search/highlight/HighlighterSearchTests.java
src/test/java/org/elasticsearch/search/query/ExistsMissingTests.java
src/test/java/org/elasticsearch/search/query/MultiMatchQueryTests.java
src/test/java/org/elasticsearch/search/query/SearchQueryTests.java
src/test/java/org/elasticsearch/search/query/SimpleQueryStringTests.java
src/test/java/org/elasticsearch/search/rescore/QueryRescorerTests.java
src/test/java/org/elasticsearch/search/scroll/DuelScrollTests.java
src/test/java/org/elasticsearch/search/sort/SimpleSortTests.java
src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearchTests.java
src/test/java/org/elasticsearch/search/suggest/ContextSuggestSearchTests.java
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/snapshots/RepositoriesTests.java
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/snapshots/SnapshotBackwardsCompatibilityTest.java
src/test/java/org/elasticsearch/snapshots/mockstore/MockRepository.java
src/test/java/org/elasticsearch/test/AfterTestRule.java
src/test/java/org/elasticsearch/test/ElasticsearchBackwardsCompatIntegrationTest.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/ElasticsearchLuceneTestCase.java
src/test/java/org/elasticsearch/test/ElasticsearchSingleNodeLuceneTestCase.java
src/test/java/org/elasticsearch/test/ElasticsearchSingleNodeTest.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/ElasticsearchTokenStreamTestCase.java
src/test/java/org/elasticsearch/test/ExternalNode.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/test/SecurityHack.java
src/test/java/org/elasticsearch/test/VersionUtils.java
src/test/java/org/elasticsearch/test/discovery/ClusterDiscoveryConfiguration.java
src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
src/test/java/org/elasticsearch/test/junit/listeners/ReproduceInfoPrinter.java
src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
src/test/java/org/elasticsearch/test/rest/RestTestExecutionContext.java
src/test/java/org/elasticsearch/test/rest/client/RestClient.java
src/test/java/org/elasticsearch/test/rest/section/SkipSection.java
src/test/java/org/elasticsearch/test/rest/support/FileUtils.java
src/test/java/org/elasticsearch/test/rest/support/VersionUtils.java
src/test/java/org/elasticsearch/test/rest/test/FileUtilsTests.java
src/test/java/org/elasticsearch/test/rest/test/RestTestParserTests.java
src/test/java/org/elasticsearch/test/rest/test/SetupSectionParserTests.java
src/test/java/org/elasticsearch/test/rest/test/SkipSectionParserTests.java
src/test/java/org/elasticsearch/test/rest/test/TestSectionParserTests.java
src/test/java/org/elasticsearch/test/rest/test/VersionUtilsTests.java
src/test/java/org/elasticsearch/test/store/MockDirectoryHelper.java
src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
src/test/java/org/elasticsearch/test/test/InternalTestClusterTests.java
src/test/java/org/elasticsearch/test/test/SuiteScopeClusterTests.java
src/test/java/org/elasticsearch/test/test/VersionUtilsTests.java
src/test/java/org/elasticsearch/test/transport/AssertingLocalTransport.java
src/test/java/org/elasticsearch/transport/netty/SimpleNettyTransportTests.java
src/test/java/org/elasticsearch/tribe/TribeTests.java
src/test/java/org/elasticsearch/tribe/TribeUnitTests.java
src/test/java/org/elasticsearch/update/UpdateTests.java
src/test/java/org/elasticsearch/validate/SimpleValidateQueryTests.java
src/test/java/org/elasticsearch/versioning/SimpleVersioningTests.java
src/test/java/org/elasticsearch/watcher/FileWatcherTest.java
comments:
Merge pull request #10656 from elastic/mockfilesystem

Integrate better with lucene test framework and mockfilesystems

time:
2015-04-20T09:46:29Z
class:
src/main/java/org/elasticsearch/action/termvectors/TermVectorsWriter.java
src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsTests.java
comments:
Use dummy TermStatistics when term is not found Closes #10660
Thanks for fixing this bug!


time:
2015-04-20T08:43:06Z
class:
src/main/java/org/elasticsearch/action/ActionListenerResponseHandler.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
src/main/java/org/elasticsearch/action/count/TransportCountAction.java
src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
src/main/java/org/elasticsearch/action/search/TransportClearScrollAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchCountAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryAndFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryThenFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchQueryAndFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchQueryThenFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchScanAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryAndFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryThenFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollScanAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
src/main/java/org/elasticsearch/action/support/HandledTransportAction.java
src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastOperationAction.java
src/main/java/org/elasticsearch/action/support/nodes/TransportNodesOperationAction.java
src/main/java/org/elasticsearch/action/termvectors/dfs/TransportDfsOnlyAction.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
src/main/java/org/elasticsearch/search/action/SearchServiceListener.java
src/main/java/org/elasticsearch/search/action/SearchServiceTransportAction.java
comments:
Cleanup local code transport execution
Now that we handle automatically the local execution within the transport service, we can remove parts of the code that handle it in actions.
closes #10582

time:
2015-04-19T22:44:14Z
class:
comments:
set heartbeat to 10s

time:
2015-04-19T19:09:16Z
class:
src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsTests.java
comments:
mark just this method as @Slow, can easily take over a minute

time:
2015-04-19T17:56:12Z
class:
src/main/java/org/elasticsearch/index/codec/CodecService.java
src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsTests.java
src/test/java/org/elasticsearch/bwcompat/StaticIndexBackwardCompatibilityTest.java
src/test/java/org/elasticsearch/index/codec/CodecTests.java
src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTests.java
src/test/java/org/elasticsearch/index/mapper/TransformOnIndexMapperIntegrationTest.java
src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
src/test/java/org/elasticsearch/nested/SimpleNestedTests.java
src/test/java/org/elasticsearch/recovery/TruncatedRecoveryTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsTests.java
src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearchTests.java
src/test/java/org/elasticsearch/search/suggest/ContextSuggestSearchTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
comments:
run tests with AssertingCodec to find bugs

time:
2015-04-19T13:50:08Z
class:
src/test/java/org/elasticsearch/test/rest/section/SkipSection.java
src/test/java/org/elasticsearch/test/rest/test/RestTestParserTests.java
src/test/java/org/elasticsearch/test/rest/test/SkipSectionParserTests.java
comments:
simplified rest skip range version parsing more, ranges can now be open
ended

time:
2015-04-19T13:21:45Z
class:
src/main/java/org/elasticsearch/common/io/PathUtils.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
comments:
add more paranoia to PathUtils

time:
2015-04-19T13:12:15Z
class:
comments:
ensure these two versions are always in sync

time:
2015-04-19T11:56:25Z
class:
comments:
[DOCS] Fix REST test execution line in testing documentation

time:
2015-04-19T01:17:13Z
class:
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
comments:
cleanup order of before/after stuff, reorganize helper methods a bit

time:
2015-04-18T23:59:29Z
class:
src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexTests.java
src/test/java/org/elasticsearch/action/bulk/BulkIntegrationTests.java
src/test/java/org/elasticsearch/action/bulk/BulkProcessorTests.java
src/test/java/org/elasticsearch/action/termvectors/MultiTermVectorsTests.java
src/test/java/org/elasticsearch/blocks/SimpleBlocksTests.java
src/test/java/org/elasticsearch/cluster/BlockClusterStatsTests.java
src/test/java/org/elasticsearch/cluster/ClusterHealthTests.java
src/test/java/org/elasticsearch/cluster/ClusterServiceTests.java
src/test/java/org/elasticsearch/cluster/MinimumMasterNodesTests.java
src/test/java/org/elasticsearch/cluster/SimpleClusterStateTests.java
src/test/java/org/elasticsearch/cluster/settings/ClusterSettingsTests.java
src/test/java/org/elasticsearch/count/query/CountQueryTests.java
src/test/java/org/elasticsearch/count/simple/SimpleCountTests.java
src/test/java/org/elasticsearch/document/BulkTests.java
src/test/java/org/elasticsearch/document/ShardInfoTests.java
src/test/java/org/elasticsearch/exists/SimpleExistsTests.java
src/test/java/org/elasticsearch/get/GetActionTests.java
src/test/java/org/elasticsearch/index/IndexWithShadowReplicasTests.java
src/test/java/org/elasticsearch/index/fielddata/FSTPackedBytesStringFieldDataTests.java
src/test/java/org/elasticsearch/index/fielddata/FieldDataLoadingTests.java
src/test/java/org/elasticsearch/index/fielddata/NoOrdinalsStringFieldDataTests.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalValuesMapperIntegrationTests.java
src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/index/query/TemplateQueryTest.java
src/test/java/org/elasticsearch/indexing/IndexActionTests.java
src/test/java/org/elasticsearch/indices/IndicesOptionsIntegrationTests.java
src/test/java/org/elasticsearch/indices/mapping/ConcurrentDynamicTemplateTests.java
src/test/java/org/elasticsearch/indices/mapping/UpdateMappingTests.java
src/test/java/org/elasticsearch/indices/settings/UpdateNumberOfReplicasTests.java
src/test/java/org/elasticsearch/indices/state/OpenCloseIndexTests.java
src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationTests.java
src/test/java/org/elasticsearch/indices/store/SimpleDistributorTests.java
src/test/java/org/elasticsearch/mlt/MoreLikeThisActionTests.java
src/test/java/org/elasticsearch/operateAllIndices/DestructiveOperationsIntegrationTests.java
src/test/java/org/elasticsearch/percolator/ConcurrentPercolatorTests.java
src/test/java/org/elasticsearch/percolator/PercolatorFacetsAndAggregationsTests.java
src/test/java/org/elasticsearch/percolator/PercolatorTests.java
src/test/java/org/elasticsearch/percolator/TTLPercolatorTests.java
src/test/java/org/elasticsearch/recovery/RelocationTests.java
src/test/java/org/elasticsearch/recovery/SimpleRecoveryTests.java
src/test/java/org/elasticsearch/recovery/SmallTranslogOpsRecoveryTests.java
src/test/java/org/elasticsearch/routing/SimpleRoutingTests.java
src/test/java/org/elasticsearch/script/CustomScriptContextTests.java
src/test/java/org/elasticsearch/script/IndexLookupTests.java
src/test/java/org/elasticsearch/script/OnDiskScriptTests.java
src/test/java/org/elasticsearch/script/ScriptIndexSettingsTest.java
src/test/java/org/elasticsearch/search/aggregations/CombiTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/ChildrenTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/DedicatedAggregationTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/DoubleTermsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/FiltersTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/HistogramTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/IPv4RangeTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/LongTermsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/MinDocCountTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/NestedTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/ParentIdAggTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/ShardSizeTermsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/StringTermsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/TermsDocCountErrorTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/TermsShardMinDocCountTests.java
src/test/java/org/elasticsearch/search/aggregations/metrics/AbstractNumericTests.java
src/test/java/org/elasticsearch/search/aggregations/metrics/CardinalityTests.java
src/test/java/org/elasticsearch/search/aggregations/metrics/GeoBoundsTests.java
src/test/java/org/elasticsearch/search/aggregations/metrics/SumTests.java
src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsTests.java
src/test/java/org/elasticsearch/search/basic/TransportTwoNodesSearchTests.java
src/test/java/org/elasticsearch/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/search/compress/SearchSourceCompressTests.java
src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreTests.java
src/test/java/org/elasticsearch/search/functionscore/RandomScoreFunctionTests.java
src/test/java/org/elasticsearch/search/geo/GeoShapeIntegrationTests.java
src/test/java/org/elasticsearch/search/innerhits/InnerHitsTests.java
src/test/java/org/elasticsearch/search/query/ExistsMissingTests.java
src/test/java/org/elasticsearch/search/query/MultiMatchQueryTests.java
src/test/java/org/elasticsearch/search/query/SimpleQueryStringTests.java
src/test/java/org/elasticsearch/search/rescore/QueryRescorerTests.java
src/test/java/org/elasticsearch/search/scriptfilter/ScriptFilterSearchTests.java
src/test/java/org/elasticsearch/search/sort/SimpleSortTests.java
src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearchTests.java
src/test/java/org/elasticsearch/search/suggest/ContextSuggestSearchTests.java
src/test/java/org/elasticsearch/snapshots/RepositoriesTests.java
src/test/java/org/elasticsearch/test/junit/listeners/ReproduceInfoPrinter.java
src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
src/test/java/org/elasticsearch/test/test/SuiteScopeClusterTests.java
src/test/java/org/elasticsearch/test/test/TestScopeClusterTests.java
src/test/java/org/elasticsearch/timestamp/SimpleTimestampTests.java
src/test/java/org/elasticsearch/update/UpdateTests.java
src/test/java/org/elasticsearch/validate/SimpleValidateQueryTests.java
comments:
more fine-grained @slow tuning, remove from many tests that got unlucky with fsync

time:
2015-04-18T20:28:17Z
class:
src/test/java/org/elasticsearch/test/test/VersionUtilsTests.java
comments:
remove fixed seed for version util tests

time:
2015-04-18T20:25:00Z
class:
src/test/java/org/elasticsearch/index/IndexWithShadowReplicasTests.java
src/test/java/org/elasticsearch/index/store/CorruptedFileTest.java
src/test/java/org/elasticsearch/indices/IndicesCustomDataPathTests.java
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/VersionUtils.java
src/test/java/org/elasticsearch/test/test/InternalTestClusterTests.java
src/test/java/org/elasticsearch/test/test/VersionUtilsTests.java
src/test/java/org/elasticsearch/tribe/TribeTests.java
src/test/java/org/elasticsearch/watcher/FileWatcherTest.java
comments:
suppress extrasfs from integ tests, fix bug in random version util

time:
2015-04-18T20:04:28Z
class:
comments:
upgrade to lucene r1674576

time:
2015-04-18T19:48:00Z
class:
src/main/java/org/elasticsearch/Version.java
src/test/java/org/elasticsearch/VersionTests.java
src/test/java/org/elasticsearch/action/OriginalIndicesTests.java
src/test/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequestTest.java
src/test/java/org/elasticsearch/action/get/MultiGetShardRequestTests.java
src/test/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequestTests.java
src/test/java/org/elasticsearch/action/mlt/MoreLikeThisRequestTests.java
src/test/java/org/elasticsearch/action/support/IndicesOptionsTests.java
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/cluster/node/DiscoveryNodeTests.java
src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityTests.java
src/test/java/org/elasticsearch/cluster/routing/allocation/NodeVersionAllocationDeciderTests.java
src/test/java/org/elasticsearch/codecs/CodecTests.java
src/test/java/org/elasticsearch/index/analysis/PreBuiltAnalyzerTests.java
src/test/java/org/elasticsearch/index/analysis/StemmerTokenFilterFactoryTests.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/indices/analysis/PreBuiltAnalyzerIntegrationTests.java
src/test/java/org/elasticsearch/indices/recovery/RecoveryStateTest.java
src/test/java/org/elasticsearch/indices/recovery/StartRecoveryRequestTest.java
src/test/java/org/elasticsearch/indices/store/IndicesStoreTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/significant/SignificanceHeuristicTests.java
src/test/java/org/elasticsearch/search/query/SearchQueryTests.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/ElasticsearchTokenStreamTestCase.java
src/test/java/org/elasticsearch/test/VersionUtils.java
src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
src/test/java/org/elasticsearch/test/rest/RestTestExecutionContext.java
src/test/java/org/elasticsearch/test/rest/client/RestClient.java
src/test/java/org/elasticsearch/test/rest/section/SkipSection.java
src/test/java/org/elasticsearch/test/rest/support/VersionUtils.java
src/test/java/org/elasticsearch/test/rest/test/RestTestParserTests.java
src/test/java/org/elasticsearch/test/rest/test/SetupSectionParserTests.java
src/test/java/org/elasticsearch/test/rest/test/SkipSectionParserTests.java
src/test/java/org/elasticsearch/test/rest/test/TestSectionParserTests.java
src/test/java/org/elasticsearch/test/rest/test/VersionUtilsTests.java
src/test/java/org/elasticsearch/test/test/VersionUtilsTests.java
src/test/java/org/elasticsearch/test/transport/AssertingLocalTransport.java
comments:
simplify version handling in rest tests, add tests for version utilities

time:
2015-04-18T17:48:33Z
class:
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
comments:
let tests.verbose tell the story

time:
2015-04-18T16:25:39Z
class:
comments:
remove repo, latest randomizedtesting is on maven central now

time:
2015-04-18T11:20:25Z
class:
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
src/main/java/org/elasticsearch/indices/IndicesModule.java
src/main/java/org/elasticsearch/indices/SyncedFlushService.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/shard/SyncCommitTests.java
src/test/java/org/elasticsearch/indices/FlushTest.java
comments:
moved to synced flush terminology plus a node level service for now

time:
2015-04-18T10:00:45Z
class:
src/test/java/org/elasticsearch/VersionTests.java
src/test/java/org/elasticsearch/action/OriginalIndicesTests.java
src/test/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequestTest.java
src/test/java/org/elasticsearch/action/get/MultiGetShardRequestTests.java
src/test/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequestTests.java
src/test/java/org/elasticsearch/action/mlt/MoreLikeThisRequestTests.java
src/test/java/org/elasticsearch/action/support/IndicesOptionsTests.java
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/cluster/node/DiscoveryNodeTests.java
src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityTests.java
src/test/java/org/elasticsearch/cluster/routing/allocation/NodeVersionAllocationDeciderTests.java
src/test/java/org/elasticsearch/codecs/CodecTests.java
src/test/java/org/elasticsearch/index/analysis/PreBuiltAnalyzerTests.java
src/test/java/org/elasticsearch/index/analysis/StemmerTokenFilterFactoryTests.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/indices/analysis/PreBuiltAnalyzerIntegrationTests.java
src/test/java/org/elasticsearch/indices/recovery/RecoveryStateTest.java
src/test/java/org/elasticsearch/indices/recovery/StartRecoveryRequestTest.java
src/test/java/org/elasticsearch/indices/store/IndicesStoreTests.java
src/test/java/org/elasticsearch/mlt/MoreLikeThisActionTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/significant/SignificanceHeuristicTests.java
src/test/java/org/elasticsearch/search/query/SearchQueryTests.java
src/test/java/org/elasticsearch/search/scroll/DuelScrollTests.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/ElasticsearchTokenStreamTestCase.java
src/test/java/org/elasticsearch/test/VersionTestUtil.java
src/test/java/org/elasticsearch/test/discovery/ClusterDiscoveryConfiguration.java
src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
src/test/java/org/elasticsearch/test/transport/AssertingLocalTransport.java
comments:
move version related stuff to dedicated test utility

time:
2015-04-18T08:53:22Z
class:
src/test/java/org/elasticsearch/gateway/MetaStateServiceTests.java
src/test/java/org/elasticsearch/mlt/MoreLikeThisActionTests.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/versioning/SimpleVersioningTests.java
comments:
removed some esoteric helper functions, shuffled methods around in base class

time:
2015-04-18T08:00:45Z
class:
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/junit/listeners/ReproduceInfoPrinter.java
src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
comments:
move rest and integration test annotations and sysprops to their respective tests

time:
2015-04-18T06:23:05Z
class:
src/test/java/org/elasticsearch/action/IndicesRequestTests.java
src/test/java/org/elasticsearch/action/admin/HotThreadsTest.java
src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexTests.java
src/test/java/org/elasticsearch/action/bulk/BulkIntegrationTests.java
src/test/java/org/elasticsearch/action/bulk/BulkProcessorTests.java
src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsTests.java
src/test/java/org/elasticsearch/action/termvectors/MultiTermVectorsTests.java
src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java
src/test/java/org/elasticsearch/blocks/SimpleBlocksTests.java
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/cluster/BlockClusterStatsTests.java
src/test/java/org/elasticsearch/cluster/ClusterHealthTests.java
src/test/java/org/elasticsearch/cluster/ClusterServiceTests.java
src/test/java/org/elasticsearch/cluster/MinimumMasterNodesTests.java
src/test/java/org/elasticsearch/cluster/SimpleClusterStateTests.java
src/test/java/org/elasticsearch/cluster/SpecificMasterNodesTests.java
src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceUnbalancedClusterTest.java
src/test/java/org/elasticsearch/cluster/settings/ClusterSettingsTests.java
src/test/java/org/elasticsearch/codecs/CodecTests.java
src/test/java/org/elasticsearch/count/query/CountQueryTests.java
src/test/java/org/elasticsearch/count/simple/SimpleCountTests.java
src/test/java/org/elasticsearch/deleteByQuery/DeleteByQueryTests.java
src/test/java/org/elasticsearch/discovery/ZenUnicastDiscoveryTests.java
src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryTests.java
src/test/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPingTests.java
src/test/java/org/elasticsearch/document/BulkTests.java
src/test/java/org/elasticsearch/document/ShardInfoTests.java
src/test/java/org/elasticsearch/exists/SimpleExistsTests.java
src/test/java/org/elasticsearch/gateway/RecoverAfterNodesTests.java
src/test/java/org/elasticsearch/get/GetActionTests.java
src/test/java/org/elasticsearch/index/IndexWithShadowReplicasTests.java
src/test/java/org/elasticsearch/index/fielddata/FSTPackedBytesStringFieldDataTests.java
src/test/java/org/elasticsearch/index/fielddata/FieldDataLoadingTests.java
src/test/java/org/elasticsearch/index/fielddata/NoOrdinalsStringFieldDataTests.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalValuesMapperIntegrationTests.java
src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/index/query/TemplateQueryTest.java
src/test/java/org/elasticsearch/indexing/IndexActionTests.java
src/test/java/org/elasticsearch/indices/IndicesOptionsIntegrationTests.java
src/test/java/org/elasticsearch/indices/mapping/ConcurrentDynamicTemplateTests.java
src/test/java/org/elasticsearch/indices/mapping/UpdateMappingTests.java
src/test/java/org/elasticsearch/indices/settings/UpdateNumberOfReplicasTests.java
src/test/java/org/elasticsearch/indices/state/OpenCloseIndexTests.java
src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationTests.java
src/test/java/org/elasticsearch/indices/store/SimpleDistributorTests.java
src/test/java/org/elasticsearch/mlt/MoreLikeThisActionTests.java
src/test/java/org/elasticsearch/operateAllIndices/DestructiveOperationsIntegrationTests.java
src/test/java/org/elasticsearch/percolator/ConcurrentPercolatorTests.java
src/test/java/org/elasticsearch/percolator/PercolatorFacetsAndAggregationsTests.java
src/test/java/org/elasticsearch/percolator/PercolatorTests.java
src/test/java/org/elasticsearch/percolator/TTLPercolatorTests.java
src/test/java/org/elasticsearch/recovery/RelocationTests.java
src/test/java/org/elasticsearch/recovery/SimpleRecoveryTests.java
src/test/java/org/elasticsearch/recovery/SmallTranslogOpsRecoveryTests.java
src/test/java/org/elasticsearch/routing/SimpleRoutingTests.java
src/test/java/org/elasticsearch/script/CustomScriptContextTests.java
src/test/java/org/elasticsearch/script/IndexLookupTests.java
src/test/java/org/elasticsearch/script/OnDiskScriptTests.java
src/test/java/org/elasticsearch/script/ScriptIndexSettingsTest.java
src/test/java/org/elasticsearch/search/aggregations/CombiTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/ChildrenTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/DedicatedAggregationTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/DoubleTermsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/FiltersTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/HistogramTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/IPv4RangeTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/LongTermsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/MinDocCountTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/NestedTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/ParentIdAggTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/ShardSizeTermsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/StringTermsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/TermsDocCountErrorTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/TermsShardMinDocCountTests.java
src/test/java/org/elasticsearch/search/aggregations/metrics/AbstractNumericTests.java
src/test/java/org/elasticsearch/search/aggregations/metrics/CardinalityTests.java
src/test/java/org/elasticsearch/search/aggregations/metrics/GeoBoundsTests.java
src/test/java/org/elasticsearch/search/aggregations/metrics/SumTests.java
src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsTests.java
src/test/java/org/elasticsearch/search/basic/TransportTwoNodesSearchTests.java
src/test/java/org/elasticsearch/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/search/compress/SearchSourceCompressTests.java
src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreTests.java
src/test/java/org/elasticsearch/search/functionscore/FunctionScoreTests.java
src/test/java/org/elasticsearch/search/functionscore/RandomScoreFunctionTests.java
src/test/java/org/elasticsearch/search/geo/GeoShapeIntegrationTests.java
src/test/java/org/elasticsearch/search/highlight/HighlighterSearchTests.java
src/test/java/org/elasticsearch/search/innerhits/InnerHitsTests.java
src/test/java/org/elasticsearch/search/query/ExistsMissingTests.java
src/test/java/org/elasticsearch/search/query/MultiMatchQueryTests.java
src/test/java/org/elasticsearch/search/query/SearchQueryTests.java
src/test/java/org/elasticsearch/search/query/SimpleQueryStringTests.java
src/test/java/org/elasticsearch/search/rescore/QueryRescorerTests.java
src/test/java/org/elasticsearch/search/scriptfilter/ScriptFilterSearchTests.java
src/test/java/org/elasticsearch/search/sort/SimpleSortTests.java
src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearchTests.java
src/test/java/org/elasticsearch/search/suggest/ContextSuggestSearchTests.java
src/test/java/org/elasticsearch/snapshots/RepositoriesTests.java
src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
src/test/java/org/elasticsearch/test/test/SuiteScopeClusterTests.java
src/test/java/org/elasticsearch/test/test/TestScopeClusterTests.java
src/test/java/org/elasticsearch/timestamp/SimpleTimestampTests.java
src/test/java/org/elasticsearch/transport/netty/SimpleNettyTransportTests.java
src/test/java/org/elasticsearch/tribe/TribeTests.java
src/test/java/org/elasticsearch/update/UpdateTests.java
src/test/java/org/elasticsearch/validate/SimpleValidateQueryTests.java
comments:
mark slow tests with @Slow annotation

time:
2015-04-18T04:09:36Z
class:
src/test/java/org/elasticsearch/index/store/CorruptedFileTest.java
comments:
suppress extrasfs from corrupted file test

time:
2015-04-18T03:53:46Z
class:
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
comments:
Merge branch 'mockfilesystem' of github.com:elastic/elasticsearch into mockfilesystem

time:
2015-04-18T03:52:38Z
class:
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/ElasticsearchSingleNodeTest.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/test/discovery/ClusterDiscoveryConfiguration.java
src/test/java/org/elasticsearch/test/test/InternalTestClusterTests.java
src/test/java/org/elasticsearch/tribe/TribeTests.java
comments:
removed jvm ordinal constant, only really needed now for test cluster
port numbering (moved to there)

time:
2015-04-18T03:52:28Z
class:
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
comments:
disable extras for this test

time:
2015-04-18T03:38:01Z
class:
src/test/java/org/elasticsearch/test/junit/listeners/ReproduceInfoPrinter.java
src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
comments:
parallelize rest tests

time:
2015-04-18T01:48:34Z
class:
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/indices/analysis/PreBuiltAnalyzerIntegrationTests.java
src/test/java/org/elasticsearch/test/ElasticsearchBackwardsCompatIntegrationTest.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
comments:
move bwc specific stuff to backcompat base class

time:
2015-04-18T01:22:57Z
class:
src/test/java/org/elasticsearch/search/sort/SimpleSortTests.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
comments:
remove these helpers

time:
2015-04-18T01:09:53Z
class:
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/client/transport/TransportClientTests.java
src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityTests.java
src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceUnbalancedClusterTest.java
src/test/java/org/elasticsearch/common/ChannelsTests.java
src/test/java/org/elasticsearch/common/PidFileTests.java
src/test/java/org/elasticsearch/common/blobstore/BlobStoreTest.java
src/test/java/org/elasticsearch/common/bytes/PagedBytesReferenceTest.java
src/test/java/org/elasticsearch/common/io/FileSystemUtilsTests.java
src/test/java/org/elasticsearch/common/logging/log4j/LoggingConfigurationTests.java
src/test/java/org/elasticsearch/env/EnvironmentTests.java
src/test/java/org/elasticsearch/env/NodeEnvironmentTests.java
src/test/java/org/elasticsearch/gateway/MetaDataStateFormatTest.java
src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayTests.java
src/test/java/org/elasticsearch/index/IndexWithShadowReplicasTests.java
src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
src/test/java/org/elasticsearch/index/mapper/FileBasedMappingsTests.java
src/test/java/org/elasticsearch/index/store/CorruptedFileTest.java
src/test/java/org/elasticsearch/index/store/distributor/DistributorTests.java
src/test/java/org/elasticsearch/index/translog/AbstractSimpleTranslogTests.java
src/test/java/org/elasticsearch/indices/IndicesCustomDataPathTests.java
src/test/java/org/elasticsearch/indices/template/IndexTemplateFileLoadingTests.java
src/test/java/org/elasticsearch/plugins/PluginManagerTests.java
src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
src/test/java/org/elasticsearch/script/ScriptServiceTests.java
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/snapshots/RepositoriesTests.java
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/snapshots/SnapshotBackwardsCompatibilityTest.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/rest/test/FileUtilsTests.java
src/test/java/org/elasticsearch/test/test/InternalTestClusterTests.java
src/test/java/org/elasticsearch/watcher/FileWatcherTest.java
comments:
nuke duplicate methods

time:
2015-04-18T01:02:05Z
class:
src/test/java/org/elasticsearch/VersionTests.java
src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
src/test/java/org/elasticsearch/plugins/PluginManagerTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
comments:
nuke some unused stuff

time:
2015-04-18T00:35:28Z
class:
src/test/java/org/apache/lucene/queries/BlendedTermQueryTest.java
src/test/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighterTests.java
src/test/java/org/apache/lucene/search/postingshighlight/XPostingsHighlighterTests.java
src/test/java/org/elasticsearch/NamingConventionTests.java
src/test/java/org/elasticsearch/action/termvectors/TermVectorsUnitTests.java
src/test/java/org/elasticsearch/common/lucene/LuceneTest.java
src/test/java/org/elasticsearch/common/lucene/index/ElasticsearchDirectoryReaderTests.java
src/test/java/org/elasticsearch/common/lucene/index/FreqTermsEnumTests.java
src/test/java/org/elasticsearch/common/lucene/search/AndDocIdSetTests.java
src/test/java/org/elasticsearch/common/lucene/search/XBooleanFilterTests.java
src/test/java/org/elasticsearch/common/lucene/uid/VersionsTests.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
src/test/java/org/elasticsearch/index/fielddata/fieldcomparator/ReplaceMissingTests.java
src/test/java/org/elasticsearch/index/fielddata/plain/ParentChildFilteredTermsEnumTests.java
src/test/java/org/elasticsearch/index/merge/policy/VersionFieldUpgraderTest.java
src/test/java/org/elasticsearch/index/shard/ShardUtilsTests.java
src/test/java/org/elasticsearch/index/store/DirectoryUtilsTest.java
src/test/java/org/elasticsearch/index/store/LegacyVerificationTests.java
src/test/java/org/elasticsearch/index/store/StoreTest.java
src/test/java/org/elasticsearch/mlt/XMoreLikeThisTests.java
src/test/java/org/elasticsearch/search/fetch/innerhits/NestedChildrenFilterTest.java
src/test/java/org/elasticsearch/test/ESTestCase.java
src/test/java/org/elasticsearch/test/ElasticsearchBackwardsCompatIntegrationTest.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/junit/listeners/ReproduceInfoPrinter.java
src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTests.java
src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
comments:
fold ESTestCase into ElasticsearchTestCase

time:
2015-04-18T00:19:32Z
class:
src/test/java/org/elasticsearch/index/codec/CodecTests.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/SimpleExternalMappingTests.java
src/test/java/org/elasticsearch/index/mapper/lucene/DoubleIndexingDocTest.java
src/test/java/org/elasticsearch/index/search/child/AbstractChildTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTest.java
src/test/java/org/elasticsearch/test/ElasticsearchSingleNodeLuceneTestCase.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
comments:
nuke ElasticsearchSingleNodeLuceneTestCase

time:
2015-04-17T23:41:55Z
class:
src/test/java/org/elasticsearch/bwcompat/StaticIndexBackwardCompatibilityTest.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
comments:
fix backwards test to not muck with URIs or get mad about extra clusters

time:
2015-04-17T23:15:25Z
class:
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/test/java/org/elasticsearch/bwcompat/StaticIndexBackwardCompatibilityTest.java
src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
src/test/java/org/elasticsearch/rest/action/admin/indices/upgrade/UpgradeReallyOldIndexTest.java
comments:
Merge branch 'master' into mockfilesystem

time:
2015-04-17T22:32:52Z
class:
src/main/java/org/elasticsearch/common/util/concurrent/EsExecutors.java
src/test/java/org/elasticsearch/test/ESTestCase.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/test/junit/listeners/ReproduceInfoPrinter.java
comments:
remove tests.processors, this is a reproducibility nightmare

time:
2015-04-17T21:16:03Z
class:
comments:
nobody wants to look at bytecode

time:
2015-04-17T21:12:55Z
class:
src/test/java/org/elasticsearch/test/store/MockDirectoryHelper.java
comments:
speed up directory wrapping

time:
2015-04-17T20:37:46Z
class:
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
src/main/java/org/elasticsearch/index/shard/SyncCommitService.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/shard/SyncCommitTests.java
comments:
support in syncCommitIfNoPendingChanges in IndexShard and Engine. Also added commit id to flush + test.

Added a service to allow us to start working..

time:
2015-04-17T20:18:53Z
class:
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
comments:
Mappings: Fixed an equality check in StringFieldMapper.

The check was ineffective and was causing search_quote_analyzer to be added to the mapping unnecessarily.

Closes #10357
closes #10359

time:
2015-04-17T19:54:15Z
class:
comments:
Change nocommit checks to not happen on intellij files (where there can
be a TODO task named eg Nocommits).

time:
2015-04-17T19:46:41Z
class:
src/main/java/org/elasticsearch/index/query/BaseQueryBuilder.java
src/main/java/org/elasticsearch/index/query/BaseQueryParser.java
src/main/java/org/elasticsearch/index/query/BaseQueryParserTemp.java
src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/BoostingQueryParser.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryParser.java
src/main/java/org/elasticsearch/index/query/FilteredQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryBuilder.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/query/QueryParser.java
src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryWrappingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanFirstQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanNotQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanOrQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TemplateQueryParser.java
src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermQueryParser.java
src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TopChildrenQueryParser.java
src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
src/main/java/org/elasticsearch/index/query/WrapperQueryParser.java
src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
src/test/java/org/elasticsearch/index/query/guice/MyJsonQueryParser.java
src/test/java/org/elasticsearch/index/query/plugin/PluginJsonQueryParser.java
comments:
Query refactoring: Introduce toQuery() and fromXContent() in QueryBuilders and QueryParsers

The planed refactoring of search queries layed out in #9901 requires to split the "parse()"
method in QueryParsers into two methods, first a "fromXContent(...)" method that allows parsing
to an intermediate query representation (currently called FooQueryBuilder) and second a
"Query toQuery(...)" method on these intermediate representations that create the actual lucene queries.

This PR is a first step in that direction as it introduces the interface changes necessary for the further
refactoring. It introduces the new interface methods while for now keeping the old Builder/Parsers still
in place by delegating the new "toQuery()" implementations to the existing "parse()" methods, and by
introducing a "catch-all" "fromXContent()" implementation in a BaseQueryParser that returns a temporary
QueryBuilder wrapper implementation. This allows us to refactor the existing QueryBuilders step by step
while already beeing able to start refactoring queries with nested inner queries.

Closes #10580

time:
2015-04-17T18:02:53Z
class:
src/test/java/org/elasticsearch/bwcompat/StaticIndexBackwardCompatibilityTest.java
src/test/java/org/elasticsearch/rest/action/admin/indices/upgrade/UpgradeReallyOldIndexTest.java
comments:
Test back compat of 0.90.6 index

Add back UpgradeReallyOldIndexTest from 1.x, but test 0.90.6 index
(Lucene 4.x) instead of 0.20 (Lucene 3.x), and make sure
only_ancient_segments works.

Closes #10639

time:
2015-04-17T16:28:29Z
class:
src/test/java/org/elasticsearch/plugins/PluginManagerTests.java
comments:
suppress all filesystems here due to jimfs brokenness

time:
2015-04-17T15:57:45Z
class:
src/test/java/org/elasticsearch/NamingConventionTests.java
src/test/java/org/elasticsearch/common/io/FileSystemUtilsTests.java
src/test/java/org/elasticsearch/env/NodeEnvironmentTests.java
src/test/java/org/elasticsearch/gateway/GatewayIndexStateTests.java
src/test/java/org/elasticsearch/gateway/MetaDataStateFormatTest.java
src/test/java/org/elasticsearch/gateway/QuorumGatewayTests.java
src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayTests.java
src/test/java/org/elasticsearch/index/store/CorruptedTranslogTests.java
src/test/java/org/elasticsearch/index/translog/AbstractSimpleTranslogTests.java
src/test/java/org/elasticsearch/index/translog/TranslogVersionTests.java
src/test/java/org/elasticsearch/indices/IndicesCustomDataPathTests.java
src/test/java/org/elasticsearch/plugins/PluginManagerTests.java
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
comments:
fix nocommits

time:
2015-04-17T15:35:20Z
class:
src/test/java/org/elasticsearch/index/store/DistributorInTheWildTest.java
src/test/java/org/elasticsearch/test/AfterTestRule.java
src/test/java/org/elasticsearch/test/ElasticsearchTokenStreamTestCase.java
comments:
disable extras for test, clean up some stragglers

time:
2015-04-17T13:45:38Z
class:
comments:
fail the build if you typo test name

time:
2015-04-17T13:22:28Z
class:
comments:
make stacktraces reasonable

time:
2015-04-17T13:21:54Z
class:
src/test/java/org/elasticsearch/common/io/FileSystemUtilsTests.java
comments:
disable WindowsFS for this test. unsure if its a problem on real windows too

time:
2015-04-17T12:26:25Z
class:
src/main/java/org/elasticsearch/common/io/FileSystemUtils.java
src/test/java/org/elasticsearch/NamingConventionTests.java
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatTests.java
src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityUponUpgradeTests.java
src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceUnbalancedClusterTest.java
src/test/java/org/elasticsearch/common/io/FileSystemUtilsTests.java
src/test/java/org/elasticsearch/common/logging/log4j/Log4jESLoggerTests.java
src/test/java/org/elasticsearch/common/logging/log4j/LoggingConfigurationTests.java
src/test/java/org/elasticsearch/index/analysis/HunspellTokenFilterFactoryTests.java
src/test/java/org/elasticsearch/index/query/TemplateQueryParserTest.java
src/test/java/org/elasticsearch/index/query/TemplateQueryTest.java
src/test/java/org/elasticsearch/index/translog/TranslogVersionTests.java
src/test/java/org/elasticsearch/indices/analyze/HunspellServiceTests.java
src/test/java/org/elasticsearch/plugins/PluginTestCase.java
src/test/java/org/elasticsearch/plugins/SitePluginTests.java
src/test/java/org/elasticsearch/script/OnDiskScriptTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreTests.java
src/test/java/org/elasticsearch/search/aggregations/metrics/ScriptedMetricTests.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/tribe/TribeUnitTests.java
comments:
fix FileSystemUtils failures

time:
2015-04-17T11:58:20Z
class:
src/test/java/org/elasticsearch/test/ESTestCase.java
comments:
upgrade to lucene 5.2 r1674278

time:
2015-04-17T11:55:48Z
class:
src/main/java/org/apache/lucene/queries/BlendedTermQuery.java
src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
src/main/java/org/apache/lucene/search/postingshighlight/XPostingsHighlighter.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
src/main/java/org/elasticsearch/common/lucene/search/MatchNoDocsQuery.java
src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
src/main/java/org/elasticsearch/common/lucene/search/Queries.java
src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
src/main/java/org/elasticsearch/index/search/nested/IncludeNestedDocsQuery.java
src/main/java/org/elasticsearch/search/dfs/DfsPhase.java
src/main/java/org/elasticsearch/search/highlight/PostingsHighlighter.java
src/main/java/org/elasticsearch/search/rescore/QueryRescorer.java
src/test/java/org/apache/lucene/queries/BlendedTermQueryTest.java
src/test/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighterTests.java
src/test/java/org/elasticsearch/indices/template/IndexTemplateFileLoadingTests.java
comments:
Merge branch 'master' into mockfilesystem

time:
2015-04-17T08:46:22Z
class:
src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
comments:
Core: Fix NPE. The `future` field is set from a different thread.

Closes #10630

time:
2015-04-17T08:43:51Z
class:
src/main/java/org/apache/lucene/queries/BlendedTermQuery.java
src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
src/main/java/org/apache/lucene/search/postingshighlight/XPostingsHighlighter.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
src/main/java/org/elasticsearch/common/lucene/search/MatchNoDocsQuery.java
src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
src/main/java/org/elasticsearch/common/lucene/search/Queries.java
src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
src/main/java/org/elasticsearch/index/search/nested/IncludeNestedDocsQuery.java
src/main/java/org/elasticsearch/search/dfs/DfsPhase.java
src/main/java/org/elasticsearch/search/highlight/PostingsHighlighter.java
src/main/java/org/elasticsearch/search/rescore/QueryRescorer.java
src/test/java/org/apache/lucene/queries/BlendedTermQueryTest.java
src/test/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighterTests.java
comments:
Merge pull request #10641 from jpountz/upgrade/lucene-5.2-snapshot-1674183

Upgrade to Lucene-5.2-snapshot-1674183.

time:
2015-04-17T08:24:50Z
class:
comments:
Doc: Change the wording a bit for the HOSTNAME environment variable

I should have done this while merging #9474.

time:
2015-04-17T08:17:55Z
class:
comments:
Merge pull request #9474 from AndreKR/export-hostname-for-config

Export the hostname as environment variable

time:
2015-04-17T08:05:30Z
class:
src/main/java/org/apache/lucene/queries/BlendedTermQuery.java
src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
src/main/java/org/apache/lucene/search/postingshighlight/XPostingsHighlighter.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
src/main/java/org/elasticsearch/common/lucene/search/MatchNoDocsQuery.java
src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
src/main/java/org/elasticsearch/common/lucene/search/Queries.java
src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
src/main/java/org/elasticsearch/index/search/nested/IncludeNestedDocsQuery.java
src/main/java/org/elasticsearch/search/dfs/DfsPhase.java
src/main/java/org/elasticsearch/search/highlight/PostingsHighlighter.java
src/main/java/org/elasticsearch/search/rescore/QueryRescorer.java
src/test/java/org/apache/lucene/queries/BlendedTermQueryTest.java
src/test/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighterTests.java
comments:
Upgrade to Lucene-5.2-snapshot-1674183.

time:
2015-04-17T07:17:02Z
class:
comments:
Export the hostname as environment variable and mention it in the docs

time:
2015-04-17T06:34:51Z
class:
src/test/java/org/elasticsearch/indices/template/IndexTemplateFileLoadingTests.java
comments:
[TEST] Use lowercase index names in test

time:
2015-04-17T06:05:59Z
class:
src/test/java/org/elasticsearch/test/ESTestCase.java
src/test/java/org/elasticsearch/test/junit/listeners/ReproduceInfoPrinter.java
comments:
remove redundant confusing output

time:
2015-04-17T01:24:07Z
class:
src/test/java/org/elasticsearch/NamingConventionTests.java
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatTests.java
src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityUponUpgradeTests.java
src/test/java/org/elasticsearch/common/io/FileSystemUtilsTests.java
src/test/java/org/elasticsearch/common/logging/log4j/Log4jESLoggerTests.java
src/test/java/org/elasticsearch/common/logging/log4j/LoggingConfigurationTests.java
src/test/java/org/elasticsearch/nodesinfo/SimpleNodesInfoTests.java
src/test/java/org/elasticsearch/plugins/PluginLuceneCheckerTests.java
src/test/java/org/elasticsearch/plugins/PluginServiceTests.java
src/test/java/org/elasticsearch/plugins/PluginTestCase.java
src/test/java/org/elasticsearch/plugins/SitePluginTests.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/rest/support/FileUtils.java
src/test/java/org/elasticsearch/tribe/TribeUnitTests.java
comments:
fix many test bugs by minimizing URI handling

time:
2015-04-16T23:05:06Z
class:
src/test/java/org/elasticsearch/NamingConventionTests.java
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatTests.java
src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityUponUpgradeTests.java
src/test/java/org/elasticsearch/common/io/FileSystemUtilsTests.java
src/test/java/org/elasticsearch/common/logging/log4j/Log4jESLoggerTests.java
src/test/java/org/elasticsearch/common/logging/log4j/LoggingConfigurationTests.java
src/test/java/org/elasticsearch/nodesinfo/SimpleNodesInfoTests.java
src/test/java/org/elasticsearch/plugins/PluginManagerTests.java
src/test/java/org/elasticsearch/plugins/SitePluginTests.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/rest/support/FileUtils.java
src/test/java/org/elasticsearch/tribe/TribeUnitTests.java
comments:
revert change to use .getPath(), it doens't work on windows

time:
2015-04-16T22:38:45Z
class:
comments:
note these test seeds for investigation

time:
2015-04-16T22:26:12Z
class:
src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeRequest.java
src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/Mapper.java
src/main/java/org/elasticsearch/index/mapper/MapperParsingException.java
src/main/java/org/elasticsearch/index/mapper/MapperUtils.java
src/main/java/org/elasticsearch/index/mapper/MergeContext.java
src/main/java/org/elasticsearch/index/mapper/ParseContext.java
src/main/java/org/elasticsearch/index/mapper/StrictDynamicMappingException.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SizeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/main/java/org/elasticsearch/index/mapper/object/RootObjectMapper.java
src/main/java/org/elasticsearch/index/merge/policy/ElasticsearchMergePolicy.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/rest/action/admin/indices/upgrade/RestUpgradeAction.java
src/main/java/org/elasticsearch/transport/netty/MessageChannelHandler.java
src/test/java/org/elasticsearch/common/unit/FuzzinessTests.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
src/test/java/org/elasticsearch/index/mapper/dynamic/DynamicMappingTests.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalRootMapper.java
src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterTests.java
src/test/java/org/elasticsearch/rest/action/admin/indices/upgrade/UpgradeTest.java
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
comments:
Merge branch 'master' into mockfilesystem

time:
2015-04-16T20:56:52Z
class:
src/test/java/org/elasticsearch/common/unit/FuzzinessTests.java
comments:
[TEST] mute test and remove once #10638 is in

time:
2015-04-16T17:44:20Z
class:
comments:
Merge pull request #10635 from rmuir/test_status_bar

Add tests progress indicator

time:
2015-04-16T17:29:51Z
class:
comments:
Add tests progress indicator

Looks like this:

    Suite: org.elasticsearch.search.aggregations.bucket.HistogramTests
    Completed [10/713] on J0 in 8.32s, 27 tests

    Suite: org.elasticsearch.indices.state.OpenCloseIndexTests
    Completed [11/713] on J2 in 16.23s, 20 tests

Upgrades randomizedtesting to 2.1.13.

time:
2015-04-16T15:17:29Z
class:
comments:
update documentation with release 2.6.0

time:
2015-04-16T14:44:23Z
class:
src/main/java/org/elasticsearch/cloud/azure/AzureModule.java
src/main/java/org/elasticsearch/cloud/azure/management/AzureComputeService.java
src/main/java/org/elasticsearch/cloud/azure/management/AzureComputeServiceImpl.java
src/main/java/org/elasticsearch/cloud/azure/management/AzureComputeSettingsFilter.java
src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageService.java
src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageServiceImpl.java
src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageSettingsFilter.java
src/main/java/org/elasticsearch/discovery/azure/AzureUnicastHostsProvider.java
src/main/java/org/elasticsearch/plugin/cloud/azure/CloudAzurePlugin.java
src/test/java/org/elasticsearch/discovery/azure/AbstractAzureComputeServiceTest.java
src/test/java/org/elasticsearch/repositories/azure/AbstractAzureRepositoryServiceTest.java
comments:
Remove deprecated settings

#61 and #62 renamed settings by deprecating old ones and creating new ones.
In version 3.0.0, we can remove old settings.

That said, we should not remove it from master doc before 2.6.0 is released.

Closes #70.

time:
2015-04-16T13:56:56Z
class:
src/test/java/org/elasticsearch/test/junit/listeners/ReproduceInfoPrinter.java
comments:
improve REPRODUCE WITH

time:
2015-04-16T13:42:13Z
class:
comments:
these leaks are plugged

time:
2015-04-16T13:33:59Z
class:
src/main/java/org/elasticsearch/cloud/azure/AzureModule.java
src/main/java/org/elasticsearch/cloud/azure/AzureSettingsFilter.java
src/main/java/org/elasticsearch/cloud/azure/blobstore/AzureBlobStore.java
src/main/java/org/elasticsearch/cloud/azure/management/AzureComputeService.java
src/main/java/org/elasticsearch/cloud/azure/management/AzureComputeServiceImpl.java
src/main/java/org/elasticsearch/cloud/azure/management/AzureComputeSettingsFilter.java
src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageService.java
src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageServiceImpl.java
src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageSettingsFilter.java
src/main/java/org/elasticsearch/discovery/azure/AzureDiscovery.java
src/main/java/org/elasticsearch/discovery/azure/AzureDiscoveryModule.java
src/main/java/org/elasticsearch/discovery/azure/AzureUnicastHostsProvider.java
src/main/java/org/elasticsearch/repositories/azure/AzureRepository.java
src/main/java/org/elasticsearch/repositories/azure/AzureRepositoryModule.java
src/test/java/org/elasticsearch/cloud/azure/AbstractAzureTest.java
src/test/java/org/elasticsearch/discovery/azure/AbstractAzureComputeServiceTest.java
src/test/java/org/elasticsearch/discovery/azure/AzureSimpleTest.java
src/test/java/org/elasticsearch/discovery/azure/AzureTwoStartedNodesTest.java
src/test/java/org/elasticsearch/repositories/azure/AbstractAzureRepositoryServiceTest.java
src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreITest.java
comments:
Update settings filter and remove component settings from AbstractComponent

Update settings filter to match elasticsearch/elasticsearch#9748
Remove component settings from AbstractComponent as seen in elasticsearch/elasticsearch#9919

Closes #71.
Closes #72.

time:
2015-04-16T12:10:36Z
class:
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
comments:
[TEST] Wait for green after restore indices

time:
2015-04-16T09:24:33Z
class:
src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeRequest.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
src/main/java/org/elasticsearch/index/merge/policy/ElasticsearchMergePolicy.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/rest/action/admin/indices/upgrade/RestUpgradeAction.java
src/main/java/org/elasticsearch/transport/netty/MessageChannelHandler.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/rest/action/admin/indices/upgrade/UpgradeTest.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
comments:
Core: add only_ancient_segments to upgrade API, so only segments with an old Lucene version are upgraded

This option defaults to false, because it is also important to upgrade
the "merely old" segments since many Lucene improvements happen within
minor releases.

But you can pass true to do the minimal work necessary to upgrade to
the next major Elasticsearch release.

The HTTP GET upgrade request now also breaks out how many bytes of
ancient segments need upgrading.

Closes #10213

Closes #10540

Conflicts:
	dev-tools/create_bwc_index.py
	rest-api-spec/api/indices.upgrade.json
	src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeRequest.java
	src/main/java/org/elasticsearch/action/admin/indices/optimize/ShardOptimizeRequest.java
	src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
	src/main/java/org/elasticsearch/index/engine/InternalEngine.java
	src/test/java/org/elasticsearch/bwcompat/StaticIndexBackwardCompatibilityTest.java
	src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
	src/test/java/org/elasticsearch/rest/action/admin/indices/upgrade/UpgradeReallyOldIndexTest.java

time:
2015-04-16T08:17:38Z
class:
src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/Mapper.java
src/main/java/org/elasticsearch/index/mapper/MapperParsingException.java
src/main/java/org/elasticsearch/index/mapper/MapperUtils.java
src/main/java/org/elasticsearch/index/mapper/MergeContext.java
src/main/java/org/elasticsearch/index/mapper/ParseContext.java
src/main/java/org/elasticsearch/index/mapper/StrictDynamicMappingException.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SizeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/main/java/org/elasticsearch/index/mapper/object/RootObjectMapper.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
src/test/java/org/elasticsearch/index/mapper/dynamic/DynamicMappingTests.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalRootMapper.java
src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
comments:
Merge pull request #10593 from jpountz/fix/dynamic_mappings_updates

Mappings: Same code path for dynamic mappings updates and updates coming from the API.

Close #10593

time:
2015-04-16T08:16:59Z
class:
src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/Mapper.java
src/main/java/org/elasticsearch/index/mapper/MapperParsingException.java
src/main/java/org/elasticsearch/index/mapper/MapperUtils.java
src/main/java/org/elasticsearch/index/mapper/MergeContext.java
src/main/java/org/elasticsearch/index/mapper/ParseContext.java
src/main/java/org/elasticsearch/index/mapper/StrictDynamicMappingException.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SizeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/main/java/org/elasticsearch/index/mapper/object/RootObjectMapper.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
src/test/java/org/elasticsearch/index/mapper/dynamic/DynamicMappingTests.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalRootMapper.java
src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
comments:
Mappings: Same code path for dynamic mappings updates and updates coming from the API.

We have two completely different code paths for mappings updates, depending on
whether they come from the API or are guessed based on the parsed documents.
This commit makes dynamic mappings updates execute like updates from the API.

The only change in behaviour is that a document that fails parsing can not
modify mappings anymore (useful to prevent issues such as #9851). Other than
that, this change should be fairly transparent to users but working this way
opens doors to other changes such as validating dynamic mappings updates on the
master node (#8688).

The way it works internally is that Mapper.parse now returns a Mapper instead
of being void. The returned Mapper represents a mapping update that has been
performed in order to parse the document. Mappings updates are propagated
recursively back to the root mapper, and once parsing is finished, we check
that the mappings update can be applied, and either fail the parsing if the
update cannot be merged (eg. because of a concurrent mapping update from the
API) or merge the update into the mappings.

However not all mappings updates can be applied recursively, `copy_to` for
instance can add mappings at totally different places in the tree. Because of
it I added ParseContext.rootMapperUpdates which `copy_to` fills when the
field to copy data to does not exist in the mappings yet. These mappings
updates are merged from the ones generated by regular parsing.

One particular mapping update was the `auto_boost` setting on the `all` root
mapper. Being tricky to work on, I removed it in favour of search-time checks
that payloads have been indexed.

One interesting side-effect of the change is that concurrency on ObjectMapper
is greatly simplified since we do not have to care anymore about having
concurrent dynamic mappings and API updates.

time:
2015-04-16T07:25:02Z
class:
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/common/blobstore/BlobStoreTest.java
src/test/java/org/elasticsearch/env/NodeEnvironmentTests.java
src/test/java/org/elasticsearch/gateway/GatewayIndexStateTests.java
src/test/java/org/elasticsearch/gateway/MetaDataStateFormatTest.java
src/test/java/org/elasticsearch/gateway/QuorumGatewayTests.java
src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayTests.java
src/test/java/org/elasticsearch/index/IndexWithShadowReplicasTests.java
src/test/java/org/elasticsearch/index/store/CorruptedTranslogTests.java
src/test/java/org/elasticsearch/index/translog/AbstractSimpleTranslogTests.java
src/test/java/org/elasticsearch/index/translog/TranslogVersionTests.java
src/test/java/org/elasticsearch/indices/IndicesCustomDataPathTests.java
src/test/java/org/elasticsearch/plugins/PluginManagerTests.java
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/rest/support/FileUtils.java
src/test/java/org/elasticsearch/watcher/FileWatcherTest.java
comments:
Enabled mockfs on base test class. All tests pass. Added suppressions
with nocommits for tests that need to be investigated.

time:
2015-04-16T06:09:21Z
class:
src/test/java/org/elasticsearch/NamingConventionTests.java
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatTests.java
src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityUponUpgradeTests.java
src/test/java/org/elasticsearch/common/io/FileSystemUtilsTests.java
src/test/java/org/elasticsearch/common/logging/log4j/Log4jESLoggerTests.java
src/test/java/org/elasticsearch/common/logging/log4j/LoggingConfigurationTests.java
src/test/java/org/elasticsearch/nodesinfo/SimpleNodesInfoTests.java
src/test/java/org/elasticsearch/plugins/SitePluginTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/tribe/TribeUnitTests.java
comments:
Fixed test using .getURI() for resource paths to use .getPath() instead.  We should probalby ban .getURI()?
Also added a couple nocommits for some issues with tests after mockfs is
working again. But I also re-enabled the mockfs suppression in the base
test case for now.

time:
2015-04-16T04:58:02Z
class:
src/main/java/org/elasticsearch/common/io/PathUtils.java
src/test/java/org/apache/lucene/queries/BlendedTermQueryTest.java
src/test/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighterTests.java
src/test/java/org/apache/lucene/search/postingshighlight/XPostingsHighlighterTests.java
src/test/java/org/apache/lucene/util/AbstractRandomizedTest.java
src/test/java/org/apache/lucene/util/SloppyMathTests.java
src/test/java/org/elasticsearch/NamingConventionTests.java
src/test/java/org/elasticsearch/VersionTests.java
src/test/java/org/elasticsearch/action/termvectors/TermVectorsUnitTests.java
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/common/blobstore/BlobStoreTest.java
src/test/java/org/elasticsearch/common/hppc/HppcMapsTests.java
src/test/java/org/elasticsearch/common/io/FileSystemUtilsTests.java
src/test/java/org/elasticsearch/common/io/streams/BytesStreamsTests.java
src/test/java/org/elasticsearch/common/lucene/LuceneTest.java
src/test/java/org/elasticsearch/common/lucene/index/ElasticsearchDirectoryReaderTests.java
src/test/java/org/elasticsearch/common/lucene/index/FreqTermsEnumTests.java
src/test/java/org/elasticsearch/common/lucene/search/AndDocIdSetTests.java
src/test/java/org/elasticsearch/common/lucene/search/XBooleanFilterTests.java
src/test/java/org/elasticsearch/common/lucene/uid/VersionsTests.java
src/test/java/org/elasticsearch/gateway/MetaDataStateFormatTest.java
src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTest.java
src/test/java/org/elasticsearch/index/codec/CodecTests.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
src/test/java/org/elasticsearch/index/fielddata/fieldcomparator/ReplaceMissingTests.java
src/test/java/org/elasticsearch/index/fielddata/plain/ParentChildFilteredTermsEnumTests.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/index/merge/policy/VersionFieldUpgraderTest.java
src/test/java/org/elasticsearch/index/search/child/AbstractChildTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
src/test/java/org/elasticsearch/index/search/child/TopChildrenQueryTests.java
src/test/java/org/elasticsearch/index/shard/ShardUtilsTests.java
src/test/java/org/elasticsearch/index/snapshots/blobstore/FileInfoTest.java
src/test/java/org/elasticsearch/index/store/CorruptedFileTest.java
src/test/java/org/elasticsearch/index/store/CorruptedTranslogTests.java
src/test/java/org/elasticsearch/index/store/DirectoryUtilsTest.java
src/test/java/org/elasticsearch/index/store/LegacyVerificationTests.java
src/test/java/org/elasticsearch/index/store/StoreTest.java
src/test/java/org/elasticsearch/indices/IndicesOptionsIntegrationTests.java
src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryTests.java
src/test/java/org/elasticsearch/indices/template/IndexTemplateFileLoadingTests.java
src/test/java/org/elasticsearch/mlt/XMoreLikeThisTests.java
src/test/java/org/elasticsearch/search/fetch/innerhits/NestedChildrenFilterTest.java
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/snapshots/RepositoriesTests.java
src/test/java/org/elasticsearch/snapshots/SnapshotBackwardsCompatibilityTest.java
src/test/java/org/elasticsearch/test/ESTestCase.java
src/test/java/org/elasticsearch/test/ElasticsearchBackwardsCompatIntegrationTest.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/ElasticsearchLuceneTestCase.java
src/test/java/org/elasticsearch/test/ElasticsearchSingleNodeLuceneTestCase.java
src/test/java/org/elasticsearch/test/ElasticsearchSingleNodeTest.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/test/SecurityHack.java
src/test/java/org/elasticsearch/test/junit/listeners/ReproduceInfoPrinter.java
src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTests.java
src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
src/test/java/org/elasticsearch/tribe/TribeTests.java
src/test/java/org/elasticsearch/tribe/TribeUnitTests.java
src/test/java/org/elasticsearch/watcher/FileWatcherTest.java
comments:
cutover to lucenetestcase

time:
2015-04-16T01:20:13Z
class:
src/test/java/org/elasticsearch/test/ElasticsearchLuceneTestCase.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/ElasticsearchTokenStreamTestCase.java
src/test/java/org/elasticsearch/test/SecurityHack.java
comments:
ensure security manager is always on if it should be

time:
2015-04-15T22:34:24Z
class:
src/main/java/org/elasticsearch/index/translog/Translog.java
src/main/java/org/elasticsearch/index/translog/fs/FsTranslog.java
src/test/java/org/elasticsearch/index/translog/AbstractSimpleTranslogTests.java
src/test/java/org/elasticsearch/test/ElasticsearchLuceneTestCase.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
comments:
Merge branch 'master' into mockfilesystem

Conflicts:
	src/main/java/org/elasticsearch/index/translog/Translog.java
	src/main/java/org/elasticsearch/index/translog/fs/FsTranslog.java

time:
2015-04-15T22:23:30Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/common/io/FileSystemUtils.java
src/main/java/org/elasticsearch/common/io/PathUtils.java
src/main/java/org/elasticsearch/env/Environment.java
src/main/java/org/elasticsearch/env/NodeEnvironment.java
src/main/java/org/elasticsearch/http/HttpServer.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/translog/Translog.java
src/main/java/org/elasticsearch/index/translog/fs/FsTranslog.java
src/main/java/org/elasticsearch/indices/analysis/HunspellService.java
src/main/java/org/elasticsearch/plugins/PluginsService.java
src/main/java/org/elasticsearch/repositories/fs/FsRepository.java
src/test/java/org/apache/lucene/util/AbstractRandomizedTest.java
src/test/java/org/elasticsearch/NamingConventionTests.java
src/test/java/org/elasticsearch/benchmark/common/lucene/uidscan/LuceneUidScanBenchmark.java
src/test/java/org/elasticsearch/benchmark/fs/FsAppendBenchmark.java
src/test/java/org/elasticsearch/benchmark/scripts/score/BasicScriptBenchmark.java
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatTests.java
src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityUponUpgradeTests.java
src/test/java/org/elasticsearch/common/io/FileSystemUtilsTests.java
src/test/java/org/elasticsearch/common/logging/log4j/Log4jESLoggerTests.java
src/test/java/org/elasticsearch/common/logging/log4j/LoggingConfigurationTests.java
src/test/java/org/elasticsearch/env/NodeEnvironmentTests.java
src/test/java/org/elasticsearch/index/store/CorruptedFileTest.java
src/test/java/org/elasticsearch/index/store/CorruptedTranslogTests.java
src/test/java/org/elasticsearch/indices/IndicesCustomDataPathTests.java
src/test/java/org/elasticsearch/nodesinfo/SimpleNodesInfoTests.java
src/test/java/org/elasticsearch/plugins/PluginServiceTests.java
src/test/java/org/elasticsearch/plugins/SitePluginTests.java
src/test/java/org/elasticsearch/snapshots/mockstore/MockRepository.java
src/test/java/org/elasticsearch/test/ElasticsearchBackwardsCompatIntegrationTest.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
src/test/java/org/elasticsearch/test/ExternalNode.java
src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTests.java
src/test/java/org/elasticsearch/test/rest/support/FileUtils.java
src/test/java/org/elasticsearch/tribe/TribeUnitTests.java
comments:
contain filesystem access

time:
2015-04-15T21:49:56Z
class:
src/test/java/org/elasticsearch/test/ElasticsearchLuceneTestCase.java
src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
comments:
[TEST] Supress filesystems for base test classes

time:
2015-04-15T21:37:55Z
class:
src/main/java/org/elasticsearch/index/translog/Translog.java
src/main/java/org/elasticsearch/index/translog/fs/FsTranslog.java
src/test/java/org/elasticsearch/index/translog/AbstractSimpleTranslogTests.java
comments:
[TEST] Fix ShadowEngineTests writing to CWD

After #a3f0789 these tests fail because the translog getPath returns a
path that is a CWD path (even though it is unneeded)

time:
2015-04-15T19:45:20Z
class:
src/main/java/org/elasticsearch/http/HttpServer.java
src/test/java/org/elasticsearch/client/transport/TransportClientTests.java
src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityTests.java
src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayTests.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
src/test/java/org/elasticsearch/index/mapper/FileBasedMappingsTests.java
src/test/java/org/elasticsearch/index/store/distributor/DistributorTests.java
src/test/java/org/elasticsearch/index/translog/AbstractSimpleTranslogTests.java
src/test/java/org/elasticsearch/index/translog/fs/FsBufferedTranslogTests.java
src/test/java/org/elasticsearch/index/translog/fs/FsSimpleTranslogTests.java
src/test/java/org/elasticsearch/indices/store/SimpleDistributorTests.java
src/test/java/org/elasticsearch/plugins/PluginManagerTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/ElasticsearchSingleNodeTest.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/test/test/InternalTestClusterTests.java
src/test/java/org/elasticsearch/tribe/TribeTests.java
src/test/java/org/elasticsearch/tribe/TribeUnitTests.java
comments:
Tests: Forbid tests from writing to CWD

Allowing tests writing to the working directory can mask problems.
For example, multiple tests running in the same jvm, and using the
same relative path, may cause issues if the first test to run
leaves data in the directory, and the second test does not remember
to cleanup the path before using it.

This change adds security manager rules to disallow tests writing
to the working directory. Instead, tests create a temp dir with
the existing test framework.

closes #10605

time:
2015-04-15T16:01:24Z
class:
src/main/java/org/elasticsearch/search/suggest/context/GeolocationContextMapping.java
src/test/java/org/elasticsearch/search/suggest/ContextSuggestSearchTests.java
comments:
[FIX] Make GeoContext mapping idempotent

closes #10581
closes #8937

time:
2015-04-15T14:37:19Z
class:
comments:
Merge pull request #10612 from rmuir/lucene_r1673726

upgrade to 5.2 r1673726

time:
2015-04-15T14:28:31Z
class:
comments:
upgrade to 5.2 r1673726

time:
2015-04-14T18:36:32Z
class:
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
comments:
Test: testTranslogReplayWithFailure didn't allow for MockDirectoryWrapper being optional

time:
2015-04-14T17:11:09Z
class:
src/main/java/org/elasticsearch/action/termvectors/TermVectorsFields.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsFilter.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequest.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequestBuilder.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsResponse.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsWriter.java
src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
src/main/java/org/elasticsearch/index/termvectors/ShardTermVectorsService.java
src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsTests.java
comments:
Term Vectors: terms filtering

This adds a new feature to the Term Vectors API which allows for filtering of
terms based on their tf-idf scores. With `dfs` option on, this could be useful
for finding out a good characteric vector of a document or a set of documents.
The parameters are similar to the ones used in the MLT Query.

Closes #9561

time:
2015-04-14T15:30:18Z
class:
src/main/java/org/elasticsearch/search/aggregations/metrics/avg/InternalAvg.java
src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/InternalCardinality.java
src/main/java/org/elasticsearch/search/aggregations/metrics/max/InternalMax.java
src/main/java/org/elasticsearch/search/aggregations/metrics/min/InternalMin.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractInternalPercentiles.java
src/main/java/org/elasticsearch/search/aggregations/metrics/stats/InternalStats.java
src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/InternalExtendedStats.java
src/main/java/org/elasticsearch/search/aggregations/metrics/sum/InternalSum.java
src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/InternalValueCount.java
comments:
Aggregations: Fix _as_string output to only show when format specified

Closes #10284

time:
2015-04-14T14:57:09Z
class:
src/main/java/org/apache/lucene/search/postingshighlight/XPostingsHighlighter.java
src/main/java/org/elasticsearch/Version.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsFields.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsResponse.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsWriter.java
src/main/java/org/elasticsearch/action/termvectors/dfs/DfsOnlyRequest.java
src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
src/main/java/org/elasticsearch/common/lucene/index/FilterableTermsEnum.java
src/main/java/org/elasticsearch/common/lucene/search/MoreLikeThisQuery.java
src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
src/main/java/org/elasticsearch/common/lucene/search/XMoreLikeThis.java
src/main/java/org/elasticsearch/common/lucene/uid/PerThreadIDAndVersionLookup.java
src/main/java/org/elasticsearch/index/codec/postingsformat/BloomFilterPostingsFormat.java
src/main/java/org/elasticsearch/index/engine/EngineSearcherFactory.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexOrdinalsFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointCompressedIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PackedArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIntersectTermsEnum.java
src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
src/main/java/org/elasticsearch/index/fieldvisitor/UidAndRoutingFieldsVisitor.java
src/main/java/org/elasticsearch/index/merge/policy/VersionFieldUpgrader.java
src/main/java/org/elasticsearch/index/search/child/ParentIdsFilter.java
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/support/IncludeExclude.java
src/main/java/org/elasticsearch/search/lookup/IndexFieldTerm.java
src/main/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProvider.java
src/main/java/org/elasticsearch/search/suggest/phrase/DirectCandidateGenerator.java
src/test/java/org/elasticsearch/action/termvectors/AbstractTermVectorsTests.java
src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsCheckDocFreqTests.java
src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsTests.java
src/test/java/org/elasticsearch/action/termvectors/MultiTermVectorsTests.java
src/test/java/org/elasticsearch/deps/lucene/SimpleLuceneTests.java
src/test/java/org/elasticsearch/index/mapper/core/BooleanFieldMapperTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
src/test/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProviderV1.java
src/test/java/org/elasticsearch/search/suggest/completion/CompletionPostingsFormatTest.java
src/test/java/org/elasticsearch/test/engine/ThrowingLeafReaderWrapper.java
comments:
Merge pull request #10562 from jpountz/upgrade/lucene-5.2.0-snapshot-1673124

Upgrade to lucene-5.2.0-snapshot-1673124.

time:
2015-04-14T13:57:09Z
class:
src/main/java/org/elasticsearch/index/translog/fs/FsTranslog.java
comments:
[TRANSLOG] Remove useless random translog directory selection

Using ThreadLocalRandom only prevents reproducibilty but doesn't buy us
anything. In production different datapaths won't have the same since
anyway or at least with a low likelyhood.

time:
2015-04-14T13:31:26Z
class:
comments:
Merge pull request #10552 from clintongormley/resiliency_1.5

Doc: Updates to resiliency page for 1.5.0/1

time:
2015-04-14T13:30:33Z
class:
comments:
Doc: Updates to resiliency page for 1.5.0/1

time:
2015-04-14T11:11:05Z
class:
src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
src/test/java/org/elasticsearch/stresstest/fullrestart/FullRestartStressTest.java
comments:
Merge pull request #10592 from cbuescher/remove-matchall-norms

Remove unused normsField from MatchAllQuery

time:
2015-04-14T10:39:05Z
class:
src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
src/test/java/org/elasticsearch/stresstest/fullrestart/FullRestartStressTest.java
comments:
Remove unused normsField from MatchAllQuery

time:
2015-04-14T10:22:24Z
class:
src/main/java/org/elasticsearch/env/NodeEnvironment.java
comments:
also log all mounts in node path summary log line; use JmxFsProbe also in non-summarized case

time:
2015-04-14T08:58:35Z
class:
src/main/java/org/elasticsearch/env/NodeEnvironment.java
src/main/java/org/elasticsearch/monitor/fs/FsStats.java
src/main/java/org/elasticsearch/monitor/fs/JmxFsProbe.java
src/main/java/org/elasticsearch/monitor/fs/SigarFsProbe.java
src/test/java/org/elasticsearch/env/NodeEnvironmentTests.java
comments:
Include spins and file system type in "fs" nodes stats

Also log a one-line summary at default INFO level logging of the
spins, type for all paths in the node's path.data.

Closes #10527

time:
2015-04-14T08:43:23Z
class:
src/main/java/org/elasticsearch/index/engine/EngineConfig.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerTests.java
comments:
[CORE] Move back to single EngineConfig

We need to preserve settings (yet transient) even though the engine is not yet
started. This commit moves back to a single EngineConfig to simplify IndexShard
and settings state.

Closes #10584

time:
2015-04-14T08:40:31Z
class:
comments:
[BUILD] Fix m2.repository path permission in tests.policy

time:
2015-04-14T07:53:02Z
class:
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/gateway/IndexShardGatewayService.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryState.java
src/test/java/org/elasticsearch/indices/recovery/RecoveryStateTest.java
comments:
[CORE] Rename START phase into VERIFY_INDEX

we really only optionally run checkindex in this phase and moving
the engine start into translog is move cleaner code wise.

Closes #10570

time:
2015-04-14T07:35:40Z
class:
src/test/java/org/elasticsearch/common/io/FileSystemUtilsTests.java
comments:
[BUILD] Restrict read permission to project.basedir/target if security manager is used

time:
2015-04-14T06:36:29Z
class:
src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerTests.java
comments:
Test: mute testIndexBufferSizeUpdateAfterCreationRemoval

see #10584

time:
2015-04-13T23:37:04Z
class:
src/main/java/org/elasticsearch/index/analysis/SynonymTokenFilterFactory.java
src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTest.java
comments:
Analysis: fix ignoring tokenizer settings in SynonymTokenFilterFactory

 add test for synonym with tokenizer settings

time:
2015-04-13T22:57:02Z
class:
src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
comments:
nuke duplicate copy-paste in AllTermQuery

time:
2015-04-13T22:45:55Z
class:
src/main/java/org/elasticsearch/transport/TransportService.java
src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTests.java
comments:
Improve exception handling in transport local execution
Local execution of transport messages failures can create a more detailed remote transport exceptions. Also, when failing to handle an exception, the error should be logged, and not call the handler again with another exception
closes #10554

time:
2015-04-13T22:24:14Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
src/main/java/org/elasticsearch/monitor/jvm/JvmInfo.java
src/main/java/org/elasticsearch/monitor/jvm/JvmMonitorService.java
src/main/java/org/elasticsearch/monitor/jvm/JvmService.java
src/main/java/org/elasticsearch/monitor/jvm/JvmStats.java
src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
src/main/java/org/elasticsearch/transport/netty/SizeHeaderFrameDecoder.java
src/test/java/org/elasticsearch/benchmark/search/scroll/ScrollSearchBenchmark.java
comments:
Cleanup JVM info and stats
Remove reflection since its not needed with Java 7, remove lastGcInfo since its not used, and move to only provide getters
closes #10553

time:
2015-04-13T20:59:32Z
class:
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
comments:
[CORE] Log sending translog operation batches to nodes

time:
2015-04-13T17:17:58Z
class:
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryRequest.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequest.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequestBuilder.java
src/main/java/org/elasticsearch/rest/action/admin/indices/validate/query/RestValidateQueryAction.java
src/test/java/org/elasticsearch/validate/SimpleValidateQueryTests.java
comments:
Validate API: support for verbose explanation of succesfully validated queries

This commit adds a `rewrite` parameter to the validate API in order to shown
how the given query is re-written into primitive queries. For example, an MLT
query is re-written into a disjunction of the selected terms. Other use cases
include `fuzzy`, `common_terms`, or `match` query especially with a
`cutoff_frequency` parameter. Note that the explanation is only given for a
single randomly chosen shard only, so the output may vary from one shard to
another.

Relates #1412
Closes #10147

time:
2015-04-13T14:44:31Z
class:
src/test/java/org/elasticsearch/common/jna/NativesTests.java
comments:
[BUILD] Restrict read permission to project.basedir

This prevents reads from anywhere outside of the elasticsearch
clone when running tests with security manager enabled.

time:
2015-04-13T14:42:45Z
class:
src/main/java/org/elasticsearch/index/engine/EngineConfig.java
src/main/java/org/elasticsearch/index/engine/EngineFactory.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/InternalEngineFactory.java
src/main/java/org/elasticsearch/index/gateway/IndexShardGateway.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
src/main/java/org/elasticsearch/index/snapshots/IndexShardSnapshotAndRestoreService.java
src/main/java/org/elasticsearch/index/translog/Translog.java
src/main/java/org/elasticsearch/index/translog/fs/FsTranslog.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayTests.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
src/test/java/org/elasticsearch/index/store/CorruptedTranslogTests.java
src/test/java/org/elasticsearch/index/translog/AbstractSimpleTranslogTests.java
src/test/java/org/elasticsearch/index/translog/TranslogSizeMatcher.java
src/test/java/org/elasticsearch/test/engine/MockEngineFactory.java
src/test/java/org/elasticsearch/test/engine/MockInternalEngine.java
comments:
[RECOVERY] Integrate translog recovery into Engine / InternalEngine

Today the engine writes the transaction log itself as well as manages
all the commit / translog mapping internally. Yet, if an engine is closed
and reopend it doesn't replay it's translog or does anything to be consistent
with it's latest state again.
This change moves the transaction log replay code into the Engine / InternalEngine
and adds unittests for replaying and consistency.

Closes #10452

time:
2015-04-13T14:35:21Z
class:
comments:
Docs: Reverte migration docs mentioning parent removal from update request

Relates to #9612

time:
2015-04-13T14:13:02Z
class:
src/main/java/org/elasticsearch/search/aggregations/reducers/Reducer.java
comments:
changed `bucketsPaths` to `buckets_paths`

time:
2015-04-13T13:34:53Z
class:
src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
src/main/java/org/elasticsearch/search/aggregations/AggregationBuilder.java
src/main/java/org/elasticsearch/search/aggregations/Aggregator.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
src/main/java/org/elasticsearch/search/aggregations/reducers/BucketHelpers.java
comments:
clean up

time:
2015-04-13T13:24:23Z
class:
src/main/java/org/elasticsearch/search/aggregations/reducers/derivative/DerivativeBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/derivative/DerivativeParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/derivative/DerivativeReducer.java
src/test/java/org/elasticsearch/search/aggregations/reducers/DateDerivativeTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/DerivativeTests.java
comments:
Revert "Added normalisation to Derivative Reducer"

This reverts commit 48a94a41df7e9da359fef38901147fc73b25ed14.

time:
2015-04-13T13:07:14Z
class:
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/store/Store.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
src/test/java/org/elasticsearch/index/store/CorruptedFileTest.java
comments:
Recovery: allow to recover into a folder containing a corrupted shard

At the moment, we are very strict when handling data folders containing corrupted shards and will fail any recovery attempt into it. Typically this wouldn't be a problem as the shard will be assigned to another node (which we try first anyway when a shard fails). However, it has been proven to be too strict for smaller clusters which may not have an extra node available (either because of allocation filtering, disk space issues etc.). This commit changes the behavior to force a full recovery. Once all the new files are verified we remove the old corrupted data and start the shard.

This also fixes a small issue where the shard state file wasn't deleted on an engine failure (we had a protection against deleting the state file on an active shard, but in this case the shard is still active but will be removed). The state deletion is also moved to before the failure handlers are called, to avoid race conditions when calling the master (it will potentially try to read it when allocating the shard)

Closes #10558

time:
2015-04-13T12:46:47Z
class:
comments:
Docs: Fix simple_query_string example

The "&" is not part of the simple_query_string DSL

Closes #10563

time:
2015-04-13T11:46:56Z
class:
comments:
Update links in README file

Change-Id: Ife01695355db77c91246efd4f34a25998a3ca01f

time:
2015-04-13T10:44:29Z
class:
src/main/java/org/elasticsearch/search/aggregations/reducers/derivative/DerivativeBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/derivative/DerivativeParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/derivative/DerivativeReducer.java
src/test/java/org/elasticsearch/search/aggregations/reducers/DateDerivativeTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/DerivativeTests.java
comments:
Added normalisation to Derivative Reducer

This changes adds the ability to specify the units for the x-axis for derivative values and calculate the derivative based on those units rather than the original histograms x-axis units

time:
2015-04-13T08:53:49Z
class:
src/main/java/org/elasticsearch/Version.java
src/main/java/org/elasticsearch/common/geo/builders/BasePolygonBuilder.java
src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
src/main/java/org/elasticsearch/common/lucene/search/LimitFilter.java
src/main/java/org/elasticsearch/env/NodeEnvironment.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/main/java/org/elasticsearch/index/query/FilterBuilders.java
src/main/java/org/elasticsearch/index/query/FuzzyLikeThisFieldQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FuzzyLikeThisFieldQueryParser.java
src/main/java/org/elasticsearch/index/query/FuzzyLikeThisQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FuzzyLikeThisQueryParser.java
src/main/java/org/elasticsearch/index/query/LimitFilterBuilder.java
src/main/java/org/elasticsearch/index/query/LimitFilterParser.java
src/main/java/org/elasticsearch/index/query/QueryBuilders.java
src/main/java/org/elasticsearch/indices/query/IndicesQueriesModule.java
src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/common/geo/GeoJSONShapeParserTests.java
src/test/java/org/elasticsearch/common/geo/ShapeBuilderTests.java
src/test/java/org/elasticsearch/count/query/CountQueryTests.java
src/test/java/org/elasticsearch/flt/FuzzyLikeThisActionTests.java
src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapperTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/search/query/SearchQueryTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/ElasticsearchSingleNodeTest.java
src/test/java/org/elasticsearch/test/store/MockDirectoryHelper.java
src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
comments:
Merge branch 'master' into feature/aggs_2_0

time:
2015-04-13T08:43:58Z
class:
src/main/java/org/apache/lucene/search/postingshighlight/XPostingsHighlighter.java
src/main/java/org/elasticsearch/Version.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsFields.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsResponse.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsWriter.java
src/main/java/org/elasticsearch/action/termvectors/dfs/DfsOnlyRequest.java
src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
src/main/java/org/elasticsearch/common/lucene/index/FilterableTermsEnum.java
src/main/java/org/elasticsearch/common/lucene/search/MoreLikeThisQuery.java
src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
src/main/java/org/elasticsearch/common/lucene/search/XMoreLikeThis.java
src/main/java/org/elasticsearch/common/lucene/uid/PerThreadIDAndVersionLookup.java
src/main/java/org/elasticsearch/index/codec/postingsformat/BloomFilterPostingsFormat.java
src/main/java/org/elasticsearch/index/engine/EngineSearcherFactory.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexOrdinalsFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointCompressedIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PackedArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIntersectTermsEnum.java
src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
src/main/java/org/elasticsearch/index/fieldvisitor/UidAndRoutingFieldsVisitor.java
src/main/java/org/elasticsearch/index/merge/policy/VersionFieldUpgrader.java
src/main/java/org/elasticsearch/index/search/child/ParentIdsFilter.java
src/main/java/org/elasticsearch/index/search/child/TopChildrenQuery.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/support/IncludeExclude.java
src/main/java/org/elasticsearch/search/lookup/IndexFieldTerm.java
src/main/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProvider.java
src/main/java/org/elasticsearch/search/suggest/phrase/DirectCandidateGenerator.java
src/test/java/org/elasticsearch/action/termvectors/AbstractTermVectorsTests.java
src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsCheckDocFreqTests.java
src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsTests.java
src/test/java/org/elasticsearch/action/termvectors/MultiTermVectorsTests.java
src/test/java/org/elasticsearch/deps/lucene/SimpleLuceneTests.java
src/test/java/org/elasticsearch/index/mapper/core/BooleanFieldMapperTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
src/test/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProviderV1.java
src/test/java/org/elasticsearch/search/suggest/completion/CompletionPostingsFormatTest.java
src/test/java/org/elasticsearch/test/engine/ThrowingLeafReaderWrapper.java
comments:
Upgrade to lucene-5.2.0-snapshot-1673124.

time:
2015-04-13T08:08:50Z
class:
src/main/java/org/elasticsearch/Version.java
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
src/main/java/org/elasticsearch/common/SuppressForbidden.java
src/main/java/org/elasticsearch/common/cli/Terminal.java
src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
src/main/java/org/elasticsearch/common/io/Channels.java
src/main/java/org/elasticsearch/common/logging/log4j/ConsoleAppender.java
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/common/lucene/search/Queries.java
src/main/java/org/elasticsearch/common/math/UnboxedMathUtils.java
src/main/java/org/elasticsearch/common/util/concurrent/FutureUtils.java
src/main/java/org/elasticsearch/plugins/PluginManager.java
comments:
[BUILD] Use SuppressFrobidden annotation instead of class level excludes

Forbidden APIs 1.8 allows excludes based on annotations which can now be on methods etc. for more find grained control.

Closes #10560

time:
2015-04-12T23:27:56Z
class:
comments:
Update forbiddenapis to version 1.8

time:
2015-04-11T13:02:40Z
class:
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/ElasticsearchSingleNodeTest.java
comments:
[TEST] better test start and end messages

print when cleaning up also for SingleNodeTests
distinguish between after suite and after test cleanup

time:
2015-04-11T10:02:59Z
class:
src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
comments:
don't return negative percentage when max < 0

time:
2015-04-10T20:33:21Z
class:
src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
src/test/java/org/elasticsearch/common/geo/GeoJSONShapeParserTests.java
comments:
[GEO] Correct ShapeBuilder coordinate parser to ignore values in 3rd+ dimension

ShapeBuilder's coordinate parser expected 2 double values for every coordinate array. If > 2 doubles were provided the parser terminated parsing of the coordinate array. This resulted in an invalid Shape state leaving LineStrings, LinearRings, and Polygons with a single coordinate. An incorrect parse exception was thrown. This corrects the parser to ignore those values in the 3rd+ dimension, correctly parsing the rest of the coordinate array.

Unit tests have been updated to verify the fix.

closes #10510

time:
2015-04-10T19:33:17Z
class:
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapperTests.java
comments:
[GEO] Add merge conflicts to GeoShapeFieldMapper

Prevents the user from changing strategies, tree, tree_level or precision. distance_error_pct changes are allowed as they do not compromise the integrity of the index. A separate issue is open for allowing users to change tree_level or precision.

time:
2015-04-10T16:44:40Z
class:
src/main/java/org/elasticsearch/common/geo/builders/BasePolygonBuilder.java
src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
src/test/java/org/elasticsearch/common/geo/GeoJSONShapeParserTests.java
src/test/java/org/elasticsearch/common/geo/ShapeBuilderTests.java
comments:
[GEO] Fix hole intersection at tangential coordinate

OGC SFA 2.1.10 assertion 3 allows interior boundaries to touch exterior boundaries provided they intersect at a single point. Issue #9511 provides an example where a valid shape is incorrectly interpreted as invalid (a false violation of assertion 3).  When the intersecting point appears as the first and last coordinate of the interior boundary in a polygon, the ShapeBuilder incorrectly counted this as multiple intersecting vertices. The fix required a little more than just a logic check. Passing the duplicate vertices resulted in a connected component in the edge graph causing an invalid self crossing polygon. This required additional logic to the edge assignment in order to correctly segment the connected components. Finally, an additional hole validation has been added along with proper unit tests for testing valid and invalid conditions (including dateline crossing polys).

closes #9511
@nknize , thanks for the fix. Will this go directly into 2.0.0, or can we expect an intermediate bugfix 1.5.x release before that?

There will be an intermediate bugfix in 1.5.x


time:
2015-04-10T15:48:04Z
class:
comments:
Fix m2e Eclipse Integration

Update Eclipse core prefs

Eclipse Luna overwrites the prefs file, putting all the settings
in alphabetical order and removing comments. This causes the prefs
files to be modified in the git workspace.

Update the file with the version generated by Eclipse to prevent it
from being modified every time.

No settings values are modified by this change.

This also  adds another plugin to the lifecycle mapping in the pom.xml which was missed in https://github.com/elastic/elasticsearch/pull/10524.

time:
2015-04-10T15:38:36Z
class:
comments:
Docs: fix build.

time:
2015-04-10T15:28:30Z
class:
comments:
allow reflection of MXBean for file descriptor stats

time:
2015-04-10T15:19:43Z
class:
src/main/java/org/elasticsearch/common/lucene/search/LimitFilter.java
src/main/java/org/elasticsearch/index/query/FilterBuilders.java
src/main/java/org/elasticsearch/index/query/LimitFilterBuilder.java
src/main/java/org/elasticsearch/index/query/LimitFilterParser.java
src/test/java/org/elasticsearch/count/query/CountQueryTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/search/query/SearchQueryTests.java
comments:
Merge pull request #10532 from jpountz/deprecate/limit_filter

Search: deprecate the limit filter.

Close #10532

time:
2015-04-10T15:18:50Z
class:
src/main/java/org/elasticsearch/common/lucene/search/LimitFilter.java
src/main/java/org/elasticsearch/index/query/FilterBuilders.java
src/main/java/org/elasticsearch/index/query/LimitFilterBuilder.java
src/main/java/org/elasticsearch/index/query/LimitFilterParser.java
src/test/java/org/elasticsearch/count/query/CountQueryTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/search/query/SearchQueryTests.java
comments:
Search: deprecate the limit filter.

This is really a Collector instead of a filter. This commit deprecates the
`limit` filter, makes it a no-op and recommends to use the `terminate_after`
parameter instead that we introduced in the meantime.

time:
2015-04-10T15:17:00Z
class:
src/main/java/org/elasticsearch/index/query/FuzzyLikeThisFieldQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FuzzyLikeThisFieldQueryParser.java
src/main/java/org/elasticsearch/index/query/FuzzyLikeThisQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FuzzyLikeThisQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryBuilders.java
src/main/java/org/elasticsearch/indices/query/IndicesQueriesModule.java
src/test/java/org/elasticsearch/flt/FuzzyLikeThisActionTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
comments:
Merge pull request #10391 from jpountz/fix/remove_flt

Queries: Remove fuzzy-like-this support.

Close #10391

time:
2015-04-10T15:16:02Z
class:
src/main/java/org/elasticsearch/index/query/FuzzyLikeThisFieldQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FuzzyLikeThisFieldQueryParser.java
src/main/java/org/elasticsearch/index/query/FuzzyLikeThisQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FuzzyLikeThisQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryBuilders.java
src/main/java/org/elasticsearch/indices/query/IndicesQueriesModule.java
src/test/java/org/elasticsearch/flt/FuzzyLikeThisActionTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
comments:
Queries: Remove fuzzy-like-this support.

The fuzzy-like-this query builds very expensive queries and only serves esoteric
use-cases.

time:
2015-04-10T12:37:18Z
class:
comments:
[BUILD] Add sigar binaries when running unittests

the sigar binaries are not available when running tests today. This
commit adds the path to the test run.
You're my hero!


time:
2015-04-10T09:37:26Z
class:
comments:
removed erroneous tab character

time:
2015-04-10T07:42:11Z
class:
src/main/java/org/elasticsearch/bootstrap/JVMCheck.java
comments:
Fix typo in JVM checker user help.

When checking the JVM currently running ES we provide the user with
help on which environment variable to use to disable the check in
case the check fails. The variable we point to however is the wrong
one.

time:
2015-04-10T07:34:01Z
class:
comments:
Fix to pom.xml to allow eclipse maven integration using m2e

time:
2015-04-09T21:31:31Z
class:
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
comments:
Tests: Add multi data path testing to static bwc tests

This randomly chooses to run bwc indexes on single or multi data paths.

closes #10519

time:
2015-04-09T20:31:08Z
class:
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
comments:
Tests: increasing timeout for replicas in static bwc tests, to account
for reallySlowJenkinsWhenIndexHasLotsOfSegments

time:
2015-04-09T18:47:48Z
class:
src/main/java/org/elasticsearch/env/NodeEnvironment.java
comments:
fix indent

time:
2015-04-09T18:31:42Z
class:
src/test/java/org/elasticsearch/test/store/MockDirectoryHelper.java
comments:
Tests: don't fsync so often

Most tests don't "really" need to fsync, and this is costly (makes
tests slower, wears out our SSDs).

This change makes it uncommon to actually fsync when Lucene asks for
it.  It's just a workaround (in MockDirectoryHelper) until we can
cutover Elasticseach to use MockFileSystem like Lucene.

Closes #10516

time:
2015-04-09T17:11:49Z
class:
src/main/java/org/elasticsearch/env/NodeEnvironment.java
comments:
Core: log path.data filesystem details to INFO level

This change logs total space, free space, usable free space, an
estimate of whether the IO system spins (e.g., SSD or not), the mount
point and filesystem type, on node startup.

It produces log output like this:

[2015-04-09 12:09:30,244][INFO ][env                      ] [node_t0] node data locations details:
  -> /l/es.logspins/target/J0/data/TEST-haswell-CHILD_VM=[0]-CLUSTER_SEED=[2926863498862121027]-HASH=[AFC194B1B384B]/nodes/0, free_space [260.6gb], usable_space [256.3gb], total_space [465gb], spins? [no], mount [/ (/dev/mapper/haswell--vg-root)], type [btrfs]

Closes #10502

time:
2015-04-09T16:25:57Z
class:
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
comments:
Only flush for checkindex if we have uncommitted changes

Today we force a flush before check index to ensure we have an index
to check on. Yet if the index is large and the FS is slow this can have
significant impact on the index deletion performance. This commit introduces
a check if there are any uncommitted changes in order to skip the additional commit.

Closes #10505

time:
2015-04-09T15:03:35Z
class:
comments:
[TEST] add 1.5.1 index for bw comp tests

time:
2015-04-09T14:33:34Z
class:
src/main/java/org/elasticsearch/cluster/ClusterState.java
src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryState.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/percolator/QueryCollector.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/state/RestClusterStateAction.java
src/main/java/org/elasticsearch/river/AbstractRiverComponent.java
src/main/java/org/elasticsearch/river/River.java
src/main/java/org/elasticsearch/river/RiverComponent.java
src/main/java/org/elasticsearch/river/RiverName.java
src/main/java/org/elasticsearch/river/RiversService.java
src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorBase.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
src/main/java/org/elasticsearch/search/aggregations/InternalAggregation.java
src/main/java/org/elasticsearch/search/aggregations/InternalAggregations.java
src/main/java/org/elasticsearch/search/aggregations/bucket/DeferringBucketCollector.java
src/main/java/org/elasticsearch/search/aggregations/bucket/InternalSingleBucketAggregation.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/InternalFilters.java
src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/InternalGeoHashGrid.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/InternalHistogram.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/InternalRange.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/GlobalOrdinalsSignificantTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/InternalSignificantTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantStringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/UnmappedSignificantTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/GlobalOrdinalsStringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/InternalTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/StringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsBuilder.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/UnmappedTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/support/IncludeExclude.java
src/main/java/org/elasticsearch/search/aggregations/metrics/avg/InternalAvg.java
src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/InternalCardinality.java
src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/InternalGeoBounds.java
src/main/java/org/elasticsearch/search/aggregations/metrics/max/InternalMax.java
src/main/java/org/elasticsearch/search/aggregations/metrics/min/InternalMin.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractInternalPercentiles.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/InternalScriptedMetric.java
src/main/java/org/elasticsearch/search/aggregations/metrics/stats/InternalStats.java
src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/InternalExtendedStats.java
src/main/java/org/elasticsearch/search/aggregations/metrics/sum/InternalSum.java
src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/InternalTopHits.java
src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/InternalValueCount.java
src/main/java/org/elasticsearch/search/aggregations/reducers/InternalSimpleValue.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/InternalBucketMetricValue.java
src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/IncludeExcludeAggregationSearchBenchmark.java
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
src/test/java/org/elasticsearch/indices/recovery/RecoveryStateTest.java
src/test/java/org/elasticsearch/search/aggregations/EquivalenceTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/StringTermsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTest.java
src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
comments:
Merge branch 'master' into feature/aggs_2_0

Conflicts:
	src/main/java/org/elasticsearch/percolator/PercolatorService.java
	src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
	src/main/java/org/elasticsearch/search/aggregations/InternalAggregation.java
	src/main/java/org/elasticsearch/search/aggregations/InternalAggregations.java
	src/main/java/org/elasticsearch/search/aggregations/bucket/InternalSingleBucketAggregation.java
	src/main/java/org/elasticsearch/search/aggregations/bucket/filters/InternalFilters.java
	src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/InternalGeoHashGrid.java
	src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/InternalHistogram.java
	src/main/java/org/elasticsearch/search/aggregations/bucket/range/InternalRange.java
	src/main/java/org/elasticsearch/search/aggregations/bucket/significant/GlobalOrdinalsSignificantTermsAggregator.java
	src/main/java/org/elasticsearch/search/aggregations/bucket/significant/InternalSignificantTerms.java
	src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantStringTermsAggregator.java
	src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorFactory.java
	src/main/java/org/elasticsearch/search/aggregations/bucket/significant/UnmappedSignificantTerms.java
	src/main/java/org/elasticsearch/search/aggregations/bucket/terms/GlobalOrdinalsStringTermsAggregator.java
	src/main/java/org/elasticsearch/search/aggregations/bucket/terms/InternalTerms.java
	src/main/java/org/elasticsearch/search/aggregations/bucket/terms/StringTermsAggregator.java
	src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactory.java
	src/main/java/org/elasticsearch/search/aggregations/bucket/terms/UnmappedTerms.java
	src/main/java/org/elasticsearch/search/aggregations/metrics/avg/InternalAvg.java
	src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/InternalCardinality.java
	src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/InternalGeoBounds.java
	src/main/java/org/elasticsearch/search/aggregations/metrics/max/InternalMax.java
	src/main/java/org/elasticsearch/search/aggregations/metrics/min/InternalMin.java
	src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractInternalPercentiles.java
	src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/InternalScriptedMetric.java
	src/main/java/org/elasticsearch/search/aggregations/metrics/stats/InternalStats.java
	src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/InternalExtendedStats.java
	src/main/java/org/elasticsearch/search/aggregations/metrics/sum/InternalSum.java
	src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/InternalTopHits.java
	src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/InternalValueCount.java

time:
2015-04-09T14:15:05Z
class:
src/main/java/org/elasticsearch/Version.java
comments:
add 1.5.2 snapshot version and and make 1.5.1 a released version

time:
2015-04-09T13:58:17Z
class:
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/search/aggregations/InternalAggregation.java
src/main/java/org/elasticsearch/search/aggregations/InternalAggregations.java
src/main/java/org/elasticsearch/search/aggregations/bucket/InternalSingleBucketAggregation.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/InternalFilters.java
src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/InternalGeoHashGrid.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/InternalHistogram.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/InternalRange.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/InternalSignificantTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/UnmappedSignificantTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/InternalTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/UnmappedTerms.java
src/main/java/org/elasticsearch/search/aggregations/metrics/avg/InternalAvg.java
src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/InternalCardinality.java
src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/InternalGeoBounds.java
src/main/java/org/elasticsearch/search/aggregations/metrics/max/InternalMax.java
src/main/java/org/elasticsearch/search/aggregations/metrics/min/InternalMin.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractInternalPercentiles.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/InternalScriptedMetric.java
src/main/java/org/elasticsearch/search/aggregations/metrics/stats/InternalStats.java
src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/InternalExtendedStats.java
src/main/java/org/elasticsearch/search/aggregations/metrics/sum/InternalSum.java
src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/InternalTopHits.java
src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/InternalValueCount.java
src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
comments:
Aggregations: removed aggregations from ReduceContext

ReduceContext contains the list of aggregations to reduce but these aggregations are set as null half of the time. This change makes the reduce(ReduceContext) method changed to reduce(List<InternalAggregation>, ReduceContext) and ReduceContext now only holds the BigArrays and Script services.

time:
2015-04-09T13:07:28Z
class:
src/main/java/org/elasticsearch/indices/recovery/RecoveryState.java
src/test/java/org/elasticsearch/indices/recovery/RecoveryStateTest.java
comments:
Add missing hashCode method to RecoveryState#File

time:
2015-04-09T12:50:11Z
class:
comments:
Docs: Updated version annotations in master

time:
2015-04-09T12:39:04Z
class:
src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
comments:
Fix compilation.

See https://github.com/elastic/elasticsearch/pull/10389 for background.

time:
2015-04-09T12:30:15Z
class:
src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
comments:
Fix compilation.

See https://github.com/elastic/elasticsearch/pull/10389 for background.

time:
2015-04-09T12:29:16Z
class:
src/main/java/org/elasticsearch/river/AbstractRiverComponent.java
src/main/java/org/elasticsearch/river/River.java
src/main/java/org/elasticsearch/river/RiverComponent.java
src/main/java/org/elasticsearch/river/RiverName.java
src/main/java/org/elasticsearch/river/RiversService.java
comments:
Deprecate rivers

* In code, we mark `River`, `AbstractRiverComponent`, `RiverComponent` and `RiverName` classes as deprecated
* We log that information when a cluster is still using it
* We add this information in the plugins list as well

time:
2015-04-09T11:16:35Z
class:
src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java
src/main/java/org/elasticsearch/action/percolate/PercolateShardResponse.java
src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/search/aggregations/AggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
src/main/java/org/elasticsearch/search/aggregations/TransportAggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/reducers/BucketHelpers.java
src/main/java/org/elasticsearch/search/aggregations/reducers/Reducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/ReducerBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/ReducerBuilders.java
src/main/java/org/elasticsearch/search/aggregations/reducers/ReducerFactory.java
src/main/java/org/elasticsearch/search/aggregations/reducers/SiblingReducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/InternalBucketMetricValue.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/MaxBucketBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/MaxBucketParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/bucketmetrics/MaxBucketReducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/derivative/DerivativeReducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/MovAvgReducer.java
src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
src/main/java/org/elasticsearch/search/query/QuerySearchResult.java
src/test/java/org/elasticsearch/percolator/PercolatorFacetsAndAggregationsTests.java
src/test/java/org/elasticsearch/search/aggregations/reducers/MaxBucketTests.java
comments:
max bucket reducer and sibling reducer framework

time:
2015-04-09T10:28:33Z
class:
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
comments:
Merge pull request #10420 from jpountz/feature/numeric_resolution

Mappings: Bring back numeric_resolution.

Close #10420

time:
2015-04-09T10:16:37Z
class:
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/GlobalOrdinalsSignificantTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantStringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/GlobalOrdinalsStringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/StringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsBuilder.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/support/IncludeExclude.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/IncludeExcludeAggregationSearchBenchmark.java
src/test/java/org/elasticsearch/search/aggregations/bucket/StringTermsTests.java
comments:
Merge pull request #10418 from jpountz/enhancement/speed_up_aggs_include_exclude

Aggregations: Speed up include/exclude in terms aggregations with regexps.

Close #10418

time:
2015-04-09T10:12:56Z
class:
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/GlobalOrdinalsSignificantTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantStringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/GlobalOrdinalsStringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/StringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsBuilder.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/support/IncludeExclude.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/IncludeExcludeAggregationSearchBenchmark.java
src/test/java/org/elasticsearch/search/aggregations/bucket/StringTermsTests.java
comments:
Aggregations: Speed up include/exclude in terms aggregations with regexps.

Today we check every regular expression eagerly against every possible term.
This can be very slow if you have lots of unique terms, and even the bottleneck
if your query is selective.

This commit switches to Lucene regular expressions instead of Java (not exactly
the same syntax yet most existing regular expressions should keep working) and
uses the same logic as RegExpQuery to intersect the regular expression with the
terms dictionary. I wrote a quick benchmark (in the PR) to make sure it made
things faster and the same request that took 750ms on master now takes 74ms with
this change.

Close #7526

time:
2015-04-09T10:09:48Z
class:
src/main/java/org/elasticsearch/percolator/QueryCollector.java
src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorBase.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
src/main/java/org/elasticsearch/search/aggregations/bucket/DeferringBucketCollector.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregator.java
src/test/java/org/elasticsearch/search/aggregations/EquivalenceTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTest.java
comments:
Merge pull request #10411 from jpountz/fix/multi_level_breadth_first

Aggregations: Fix multi-level breadth-first aggregations.

Close #10411

time:
2015-04-09T10:06:08Z
class:
src/main/java/org/elasticsearch/percolator/QueryCollector.java
src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorBase.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
src/main/java/org/elasticsearch/search/aggregations/bucket/DeferringBucketCollector.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregator.java
src/test/java/org/elasticsearch/search/aggregations/EquivalenceTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTest.java
comments:
Aggregations: Fix multi-level breadth-first aggregations.

The refactoring in #9544 introduced a regression that broke multi-level
aggregations using breadth-first. This was due to sub-aggregators creating
deferred collectors before their parent aggregator and then the parent
aggregator trying to collect sub aggregators directly instead of going through
the deferred wrapper.

This commit fixes the issue but we should try to simplify all the pre/post
collection logic that we have.

Also `breadth_first` is now automatically ignored if the sub aggregators need
scores (just like we ignore `execution_mode` when the value does not make sense
like using ordinals on a script).

Close #9823

time:
2015-04-09T09:56:36Z
class:
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
comments:
[TEST] issue additional flush

time:
2015-04-09T09:01:53Z
class:
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
comments:
merged

time:
2015-04-09T09:00:40Z
class:
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
comments:
Core: add trace logging for the commitTranslog=false case in InternalEngine.flush

time:
2015-04-09T08:47:00Z
class:
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
comments:
[TEST] beast slow index to fail with trace logging

time:
2015-04-09T08:07:50Z
class:
src/main/java/org/elasticsearch/index/engine/Engine.java
comments:
[LOGGING] Use static logger name in Engine.java

To ensure subclasses like MockInternalEngine which is in a different
package (test.engine) are logging under the same logger name this commit
moves to a static logger class to determin the logger name. This way
all subclasses of engine will log under `index.engine` which also plays
nicely with `@TestLogging` where log messages sometimes disappeared since
they were enabled for the `index.engine` package but not for `test.engine`

time:
2015-04-09T08:05:10Z
class:
comments:
Fix maven-resources-plugin warnings

Commit 168238dab6f5cb081c1e919c0136c13a3c837b72 declared multiple maven-resources-plugin usages instead of declaring multiple executions for the same plugin... resulting to Maven warnings.

Closes #10433

time:
2015-04-09T07:25:05Z
class:
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
comments:
Tests: increase logging for lucene commit during flush in InternalEngine

time:
2015-04-09T06:29:37Z
class:
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
comments:
Tests: remove static bwc delete index timeout, so that the slow delete
failure can repro with additional logging

time:
2015-04-09T04:41:11Z
class:
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
comments:
[TEST] increase logging for pulling snapshot from InternalEngine

time:
2015-04-09T04:24:36Z
class:
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
comments:
Tests: Increase delete timeout for static bwc tests to 1 minute

time:
2015-04-08T22:36:23Z
class:
comments:
Indexed scripts/templates: fix yaml test indentation

time:
2015-04-08T20:57:22Z
class:
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
comments:
Tests: allow up to 30s to delete indexes in old static tests

When deleting an index, the tests run checkindex, which requires a
flush.  This can be very slow on virtualized hardware..

time:
2015-04-08T16:02:44Z
class:
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
comments:
Tests: Fix static bwc replicas at 1

time:
2015-04-08T15:57:33Z
class:
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
comments:
[ENGINE] sync translog before closing engine

If the translog is buffered we must make sure everything is synced to disk
before we rollback the writer otherwise we open a window for potential dataloss due
to stupid errors preventing the translog from being closed.

time:
2015-04-08T15:44:39Z
class:
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
comments:
Test: increasing replicas timeout to avoid slowness on virtualized
hardware (aka jenkins)

time:
2015-04-08T14:20:46Z
class:
src/main/java/org/elasticsearch/search/aggregations/AggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/TransportAggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/reducers/ReducerBuilders.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/MovAvgBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/MovAvgParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/MovAvgReducer.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/DoubleExpModel.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/LinearModel.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/MovAvgModel.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/MovAvgModelBuilder.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/MovAvgModelModule.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/MovAvgModelParser.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/MovAvgModelParserMapper.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/MovAvgModelStreams.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/SimpleModel.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/SingleExpModel.java
src/main/java/org/elasticsearch/search/aggregations/reducers/movavg/models/TransportMovAvgModelModule.java
src/test/java/org/elasticsearch/search/aggregations/reducers/MovAvgTests.java
comments:
Aggregations: Add MovAvg Reducer

Allows the user to calculate a Moving Average over a histogram  of buckets.  Provides four different
moving averages:
 - Simple
 - Linear weighted
 - Single Exponentially weighted (aka EWMA)
 - Double Exponentially weighted (aka Holt-winters)

Closes #10024

time:
2015-04-08T14:10:36Z
class:
src/main/java/org/elasticsearch/cluster/ClusterState.java
comments:
Cluster state REST api: print routing_nodes out only when requested through specific flag

For bacwards compatibility reasons routing_nodes were previously printed out when routing_table was requested, together with the actual routing_table. Now they are printed out only when requests through `routing_nodes` flag.

Relates to #10412
Closes #10486

time:
2015-04-08T13:44:45Z
class:
src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
comments:
Test: increase recovery concurrency in OldIndexBackwardsCompatibilityTests.testOldIndices

Also added some logging to help pin point slowness

time:
2015-04-08T13:35:11Z
class:
src/main/java/org/elasticsearch/cluster/ClusterState.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/state/RestClusterStateAction.java
comments:
Cluster state REST api: routing_nodes as an independent metric option

Cluster state api returns both routing_table and routing_nodes sections whenever routing_table is requested. That is pretty much the same info, just grouped differently. This commit allows to differentiate between the two. Yet, routing_table still returns both for bw comp reasons.

Closes #10352
Closes #10412

time:
2015-04-08T13:15:50Z
class:
src/main/java/org/apache/lucene/search/postingshighlight/XPostingsHighlighter.java
src/main/java/org/elasticsearch/Version.java
src/main/java/org/elasticsearch/action/ActionModule.java
src/main/java/org/elasticsearch/action/ActionWriteResponse.java
src/main/java/org/elasticsearch/action/admin/indices/flush/FlushRequest.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/delete/DeleteMappingAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/delete/DeleteMappingClusterStateUpdateRequest.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/delete/DeleteMappingRequest.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/delete/DeleteMappingRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/delete/DeleteMappingResponse.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/delete/TransportDeleteMappingAction.java
src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStatsFlags.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequest.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequestBuilder.java
src/main/java/org/elasticsearch/action/bench/AbortBenchmarkAction.java
src/main/java/org/elasticsearch/action/bench/AbortBenchmarkRequest.java
src/main/java/org/elasticsearch/action/bench/AbortBenchmarkRequestBuilder.java
src/main/java/org/elasticsearch/action/bench/AbortBenchmarkResponse.java
src/main/java/org/elasticsearch/action/bench/BenchmarkAction.java
src/main/java/org/elasticsearch/action/bench/BenchmarkCompetitor.java
src/main/java/org/elasticsearch/action/bench/BenchmarkCompetitorBuilder.java
src/main/java/org/elasticsearch/action/bench/BenchmarkExecutionException.java
src/main/java/org/elasticsearch/action/bench/BenchmarkExecutor.java
src/main/java/org/elasticsearch/action/bench/BenchmarkRequest.java
src/main/java/org/elasticsearch/action/bench/BenchmarkRequestBuilder.java
src/main/java/org/elasticsearch/action/bench/BenchmarkResponse.java
src/main/java/org/elasticsearch/action/bench/BenchmarkService.java
src/main/java/org/elasticsearch/action/bench/BenchmarkSettings.java
src/main/java/org/elasticsearch/action/bench/BenchmarkStatusAction.java
src/main/java/org/elasticsearch/action/bench/BenchmarkStatusNodeResponse.java
src/main/java/org/elasticsearch/action/bench/BenchmarkStatusRequest.java
src/main/java/org/elasticsearch/action/bench/BenchmarkStatusRequestBuilder.java
src/main/java/org/elasticsearch/action/bench/BenchmarkStatusResponse.java
src/main/java/org/elasticsearch/action/bench/CompetitionDetails.java
src/main/java/org/elasticsearch/action/bench/CompetitionIteration.java
src/main/java/org/elasticsearch/action/bench/CompetitionIterationData.java
src/main/java/org/elasticsearch/action/bench/CompetitionNodeResult.java
src/main/java/org/elasticsearch/action/bench/CompetitionResult.java
src/main/java/org/elasticsearch/action/bench/CompetitionSummary.java
src/main/java/org/elasticsearch/action/bench/SinglePassStatistics.java
src/main/java/org/elasticsearch/action/bench/TransportAbortBenchmarkAction.java
src/main/java/org/elasticsearch/action/bench/TransportBenchmarkAction.java
src/main/java/org/elasticsearch/action/bench/TransportBenchmarkStatusAction.java
src/main/java/org/elasticsearch/action/bulk/BulkProcessor.java
src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
src/main/java/org/elasticsearch/action/bulk/BulkRequestBuilder.java
src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java
src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/count/CountRequest.java
src/main/java/org/elasticsearch/action/count/CountRequestBuilder.java
src/main/java/org/elasticsearch/action/count/CountResponse.java
src/main/java/org/elasticsearch/action/delete/DeleteRequestBuilder.java
src/main/java/org/elasticsearch/action/delete/IndexDeleteRequest.java
src/main/java/org/elasticsearch/action/delete/IndexDeleteResponse.java
src/main/java/org/elasticsearch/action/delete/ShardDeleteRequest.java
src/main/java/org/elasticsearch/action/delete/ShardDeleteResponse.java
src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
src/main/java/org/elasticsearch/action/delete/TransportIndexDeleteAction.java
src/main/java/org/elasticsearch/action/delete/TransportShardDeleteAction.java
src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequest.java
src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequestBuilder.java
src/main/java/org/elasticsearch/action/deletebyquery/IndexDeleteByQueryRequest.java
src/main/java/org/elasticsearch/action/deletebyquery/ShardDeleteByQueryRequest.java
src/main/java/org/elasticsearch/action/exists/ExistsRequest.java
src/main/java/org/elasticsearch/action/exists/ExistsRequestBuilder.java
src/main/java/org/elasticsearch/action/explain/ExplainRequest.java
src/main/java/org/elasticsearch/action/explain/ExplainRequestBuilder.java
src/main/java/org/elasticsearch/action/get/MultiGetShardRequest.java
src/main/java/org/elasticsearch/action/index/IndexRequest.java
src/main/java/org/elasticsearch/action/index/IndexRequestBuilder.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptRequest.java
src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptRequestBuilder.java
src/main/java/org/elasticsearch/action/mlt/MoreLikeThisRequest.java
src/main/java/org/elasticsearch/action/mlt/TransportMoreLikeThisAction.java
src/main/java/org/elasticsearch/action/percolate/MultiPercolateRequest.java
src/main/java/org/elasticsearch/action/percolate/PercolateRequest.java
src/main/java/org/elasticsearch/action/percolate/PercolateRequestBuilder.java
src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
src/main/java/org/elasticsearch/action/search/SearchRequest.java
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/action/search/SearchResponse.java
src/main/java/org/elasticsearch/action/search/SearchType.java
src/main/java/org/elasticsearch/action/search/TransportSearchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchHelper.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
src/main/java/org/elasticsearch/action/suggest/SuggestRequest.java
comments:
Merge branch 'master' into feature/aggs_2_0

time:
2015-04-08T11:40:35Z
class:
comments:
Docs: fix typos in example JSON data

Closes #10479

time:
2015-04-08T10:20:03Z
class:
src/main/java/org/elasticsearch/script/ScriptContext.java
src/main/java/org/elasticsearch/script/ScriptService.java
comments:
Scripting: remove deprecated methods from ScriptService

Removed the following methods from `ScriptService`, which don't require the `ScriptContext` argument:

```
public CompiledScript compile(String lang,  String script, ScriptType scriptType)

public ExecutableScript executable(String lang, String script, ScriptType scriptType, Map<String, Object> vars)

public SearchScript search(SearchLookup lookup, String lang, String script, ScriptType scriptType, @Nullable Map<String, Object> vars)
```

Also removed the ScriptContext.Standard.GENERIC_PLUGIN enum value, as it was used only for backwards compatibility.

 Plugins that make use of scripts should declare their own script contexts through `ScriptModule#registerScriptContext` and use them when compiling/executing scripts.

Closes #10476

time:
2015-04-08T09:57:00Z
class:
src/main/java/org/elasticsearch/action/update/UpdateHelper.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/query/ScriptFilterParser.java
src/main/java/org/elasticsearch/index/query/TemplateQueryParser.java
src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionParser.java
src/main/java/org/elasticsearch/script/ScriptContext.java
src/main/java/org/elasticsearch/script/ScriptContextRegistry.java
src/main/java/org/elasticsearch/script/ScriptModes.java
src/main/java/org/elasticsearch/script/ScriptModule.java
src/main/java/org/elasticsearch/script/ScriptService.java
src/main/java/org/elasticsearch/search/SearchService.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ScriptHeuristic.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/InternalScriptedMetric.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricAggregator.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceParser.java
src/main/java/org/elasticsearch/search/fetch/script/ScriptFieldsParseElement.java
src/main/java/org/elasticsearch/search/sort/ScriptSortParser.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
src/test/java/org/elasticsearch/script/CustomScriptContextTests.java
src/test/java/org/elasticsearch/script/NativeScriptTests.java
src/test/java/org/elasticsearch/script/ScriptContextRegistryTests.java
src/test/java/org/elasticsearch/script/ScriptModesTests.java
src/test/java/org/elasticsearch/script/ScriptServiceTests.java
comments:
Scripting: allow plugins to define custom operations that they use scripts for

Plugins can now define multiple operations/contexts that they use scripts for. Fine-grained settings can then be used to enable/disable scripts based on each single registered context.

Also added a new generic category called `plugin`, which will be used as a default when the context is not specified. This allows us to restore backwards compatibility for plugins on `ScriptService` by restoring the old methods that don't require the script context and making them internally use the `plugin` context, as they can only be called from plugins.

Closes #10347
Closes #10419

time:
2015-04-08T09:46:05Z
class:
comments:
Docs: Include groovy community

This change includes the a new community: groovy to point to the official client.

Closes #10470

time:
2015-04-08T08:44:11Z
class:
src/main/java/org/elasticsearch/rest/action/script/RestGetIndexedScriptAction.java
src/main/java/org/elasticsearch/rest/action/template/RestGetSearchTemplateAction.java
comments:
Indexed scripts/templates: return response body when script is not found

Align get indexed scripts and get search template apis to our get api, which returns a response body when the document is not found, with a found boolean flag. Also, return metadata info all the time too.

Closes #7325
Closes #10396

time:
2015-04-08T07:58:59Z
class:
src/test/java/org/elasticsearch/index/search/child/AbstractChildTests.java
comments:
Tests: Disable the query cache for parent/child unit tests.

time:
2015-04-08T07:45:50Z
class:
src/test/java/org/elasticsearch/search/sort/SimpleSortTests.java
comments:
Tests: Fix bug in SimpleSortTests.

This tests adds a mappings with {"fielddata": {"format": "doc_values"}} but the
default mapping has {"doc_values": false} so when the document mapper parsing
logic merges both we have {"doc_values": false,"fielddata": {"format": "doc_values"}}
and {"doc_values": false} wins, so the test is not using doc values while it
thought it would.

time:
2015-04-08T07:10:47Z
class:
src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
src/main/java/org/elasticsearch/cluster/action/index/NodeMappingRefreshAction.java
src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
src/main/java/org/elasticsearch/snapshots/RestoreService.java
src/main/java/org/elasticsearch/transport/TransportService.java
src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTests.java
comments:
Transport: shortcut local execution

In several places in the code we need to notify a node it needs to do something (typically the master). When that node is the local node, we have an optimization in serveral places that runs the execution code immediately instead of sending the request through the wire to itself. This is a shame as we need to implement the same pattern again and again. On top of that we may forget (see note bellow) to do so and we might have to write some craft if the code need to run under another thread pool.

This commit folds the optimization in the TrasnportService, shortcutting wire serliazition if the target node is local.

Note: this was discovered by #10247 which tries to import a dangling index quickly after the cluster forms. When sending an import dangling request to master, the code didn't take into account that fact that the local node may master. If this happens quickly enough, one would get a NodeNotConnected exception causing the dangling indices not to be imported. This will succeed after 10s where InternalClusterService.ReconnectToNodes runs and actively connects the local node to itself (which is not needed), potentially after another cluster state update.

Closes #10350

time:
2015-04-07T18:07:18Z
class:
src/test/java/org/elasticsearch/test/ElasticsearchLuceneTestCase.java
comments:
Merge pull request #10468 from jpountz/upgrade/5.1.0-snapshot-1671894

Upgrade to lucene-5.1.0-snapshot-1671894.

time:
2015-04-07T18:04:54Z
class:
src/test/java/org/elasticsearch/test/ElasticsearchLuceneTestCase.java
comments:
Upgrade to lucene-5.1.0-snapshot-1671894.

This includes a fix for LUCENE-6406.

time:
2015-04-07T17:09:47Z
class:
src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
comments:
Netty: make exceptionCaught method protected

The exceptionCaught method had default access, which imposes a requirement
for subclasses that need to override this method to be in a specific package. This
change simply makes the method protected, which removes the package requirement.

time:
2015-04-07T16:16:58Z
class:
src/main/java/org/elasticsearch/action/update/UpdateHelper.java
src/main/java/org/elasticsearch/common/lucene/search/function/BoostScoreFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/FieldValueFactorFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
src/main/java/org/elasticsearch/common/lucene/search/function/LeafScoreFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/RandomScoreFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/ScoreFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/WeightFactorFunction.java
src/main/java/org/elasticsearch/index/get/ShardGetService.java
src/main/java/org/elasticsearch/index/query/ScriptFilterParser.java
src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
src/main/java/org/elasticsearch/percolator/PercolateContext.java
src/main/java/org/elasticsearch/script/AbstractSearchScript.java
src/main/java/org/elasticsearch/script/ExplainableSearchScript.java
src/main/java/org/elasticsearch/script/LeafSearchScript.java
src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
src/main/java/org/elasticsearch/script/SearchScript.java
src/main/java/org/elasticsearch/script/expression/ExpressionScript.java
src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricAggregator.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSource.java
src/main/java/org/elasticsearch/search/aggregations/support/values/ScriptBytesValues.java
src/main/java/org/elasticsearch/search/aggregations/support/values/ScriptDoubleValues.java
src/main/java/org/elasticsearch/search/aggregations/support/values/ScriptLongValues.java
src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
src/main/java/org/elasticsearch/search/fetch/script/ScriptFieldsFetchSubPhase.java
src/main/java/org/elasticsearch/search/highlight/HighlightUtils.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SourceScoreOrderFragmentsBuilder.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SourceSimpleFragmentsBuilder.java
src/main/java/org/elasticsearch/search/lookup/DocLookup.java
src/main/java/org/elasticsearch/search/lookup/FieldsLookup.java
src/main/java/org/elasticsearch/search/lookup/IndexField.java
src/main/java/org/elasticsearch/search/lookup/IndexFieldTerm.java
src/main/java/org/elasticsearch/search/lookup/IndexLookup.java
src/main/java/org/elasticsearch/search/lookup/LeafDocLookup.java
src/main/java/org/elasticsearch/search/lookup/LeafFieldsLookup.java
src/main/java/org/elasticsearch/search/lookup/LeafIndexLookup.java
src/main/java/org/elasticsearch/search/lookup/LeafSearchLookup.java
src/main/java/org/elasticsearch/search/lookup/SearchLookup.java
src/main/java/org/elasticsearch/search/lookup/SourceLookup.java
src/main/java/org/elasticsearch/search/sort/ScriptSortParser.java
src/test/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunctionTests.java
src/test/java/org/elasticsearch/script/expression/ExpressionScriptTests.java
src/test/java/org/elasticsearch/search/aggregations/support/ScriptValuesTests.java
src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptTests.java
comments:
Merge pull request #10389 from jpountz/enhancement/per_segment_apis

Internal: Make APIs work per-segment like Lucene's Collector.

Close #10389

time:
2015-04-07T16:10:53Z
class:
comments:
[DOCS] update versions in java api module.xml

The filenames are updated to fit to the current elasticsearch version

time:
2015-04-07T15:56:01Z
class:
src/main/java/org/elasticsearch/action/update/UpdateHelper.java
src/main/java/org/elasticsearch/common/lucene/search/function/BoostScoreFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/FieldValueFactorFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
src/main/java/org/elasticsearch/common/lucene/search/function/LeafScoreFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/RandomScoreFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/ScoreFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java
src/main/java/org/elasticsearch/common/lucene/search/function/WeightFactorFunction.java
src/main/java/org/elasticsearch/index/get/ShardGetService.java
src/main/java/org/elasticsearch/index/query/ScriptFilterParser.java
src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
src/main/java/org/elasticsearch/percolator/PercolateContext.java
src/main/java/org/elasticsearch/script/AbstractSearchScript.java
src/main/java/org/elasticsearch/script/ExplainableSearchScript.java
src/main/java/org/elasticsearch/script/LeafSearchScript.java
src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
src/main/java/org/elasticsearch/script/SearchScript.java
src/main/java/org/elasticsearch/script/expression/ExpressionScript.java
src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricAggregator.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSource.java
src/main/java/org/elasticsearch/search/aggregations/support/values/ScriptBytesValues.java
src/main/java/org/elasticsearch/search/aggregations/support/values/ScriptDoubleValues.java
src/main/java/org/elasticsearch/search/aggregations/support/values/ScriptLongValues.java
src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
src/main/java/org/elasticsearch/search/fetch/script/ScriptFieldsFetchSubPhase.java
src/main/java/org/elasticsearch/search/highlight/HighlightUtils.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SourceScoreOrderFragmentsBuilder.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SourceSimpleFragmentsBuilder.java
src/main/java/org/elasticsearch/search/lookup/DocLookup.java
src/main/java/org/elasticsearch/search/lookup/FieldsLookup.java
src/main/java/org/elasticsearch/search/lookup/IndexField.java
src/main/java/org/elasticsearch/search/lookup/IndexFieldTerm.java
src/main/java/org/elasticsearch/search/lookup/IndexLookup.java
src/main/java/org/elasticsearch/search/lookup/LeafDocLookup.java
src/main/java/org/elasticsearch/search/lookup/LeafFieldsLookup.java
src/main/java/org/elasticsearch/search/lookup/LeafIndexLookup.java
src/main/java/org/elasticsearch/search/lookup/LeafSearchLookup.java
src/main/java/org/elasticsearch/search/lookup/SearchLookup.java
src/main/java/org/elasticsearch/search/lookup/SourceLookup.java
src/main/java/org/elasticsearch/search/sort/ScriptSortParser.java
src/test/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunctionTests.java
src/test/java/org/elasticsearch/script/expression/ExpressionScriptTests.java
src/test/java/org/elasticsearch/search/aggregations/support/ScriptValuesTests.java
src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptTests.java
comments:
Internal: Make APIs work per-segment like Lucene's Collector.

We still have a lot of APIs that use setNextReader in order to change the
current segment that should be considered. This commit moves such APIs to
getLeafXXX() instead to be more in-line with Lucene 5's collector API.

I also renamed setDocId to setDocument to be more in-line with the doc values
APIs.

Close #10389

time:
2015-04-07T15:49:50Z
class:
src/main/java/org/elasticsearch/cache/recycler/PageCacheRecycler.java
src/main/java/org/elasticsearch/threadpool/ThreadPool.java
comments:
Merge pull request #9165 from jpountz/enhancement/reduce_search_pool_size

Internal: reduce the size of the search thread pool.

time:
2015-04-07T15:32:34Z
class:
comments:
Tests: Add --all flag to create-bwc script to regenerate all indexes

It is currently a pain to regenerate all the bwc indexes when making
a change to the generation script.  This makes it a single command.

time:
2015-04-07T15:28:40Z
class:
src/main/java/org/elasticsearch/Version.java
comments:
Merge pull request #10393 from jpountz/fix/112_snapshot

Internal: Fix snapshot status of version 1.1.2.

time:
2015-04-07T15:11:48Z
class:
src/main/java/org/elasticsearch/http/netty/NettyHttpChannel.java
src/main/java/org/elasticsearch/rest/BytesRestResponse.java
src/main/java/org/elasticsearch/rest/RestResponse.java
src/main/java/org/elasticsearch/rest/action/cat/AbstractCatAction.java
src/main/java/org/elasticsearch/rest/action/support/RestTable.java
src/test/java/org/elasticsearch/rest/RestFilterChainTests.java
comments:
Remove content thread safe from REST layer
there is no need for this anymore, for some time, since in netty now we rely on copying over the buffer and reusing it
closes #10429

time:
2015-04-07T14:57:20Z
class:
src/test/java/org/elasticsearch/test/ElasticsearchLuceneTestCase.java
comments:
Tests: work-around for LUCENE-6406.

time:
2015-04-07T13:36:45Z
class:
src/test/java/org/elasticsearch/common/lucene/LuceneTest.java
comments:
[TEST] expect simpletext CFS format in test

time:
2015-04-07T13:26:58Z
class:
src/main/java/org/elasticsearch/Version.java
comments:
Update Lucene version constants for 1.4.5 and above to 4.10.4

time:
2015-04-07T12:28:01Z
class:
comments:
Docs: Note on shard vs. index level doc frequencies.

Relates to #10154 and #10150

Adds link to additional information on how document frequencies are treated across shards to the cutoff_frequency parameter documentation.

Closes #10451

time:
2015-04-07T12:10:17Z
class:
comments:
Docs: Missing 1 escape character in example

Closes #10446

time:
2015-04-07T11:34:08Z
class:
src/test/java/org/elasticsearch/common/collect/CopyOnWriteHashMapTests.java
src/test/java/org/elasticsearch/common/collect/CopyOnWriteHashSetTests.java
comments:
Tests: Speed up CopyOnWriteHash(Map|Set)Tests

These tests create artificial hash collisions in order to make sure that they
can be resolved correctly. But this also makes the tests very slow if there
are too many collisions because insertions/deletions become linear in such
cases. The tests have been modified to not do too many iterations when
collisions are likely.

Close #10442

time:
2015-04-07T10:09:35Z
class:
src/main/java/org/apache/lucene/search/postingshighlight/XPostingsHighlighter.java
src/main/java/org/elasticsearch/index/codec/postingsformat/BloomFilterPostingsFormat.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/merge/policy/VersionFieldUpgrader.java
src/main/java/org/elasticsearch/search/lookup/IndexFieldTerm.java
src/test/java/org/elasticsearch/count/query/CountQueryTests.java
src/test/java/org/elasticsearch/index/store/StoreTest.java
src/test/java/org/elasticsearch/script/IndexLookupTests.java
src/test/java/org/elasticsearch/search/query/SearchQueryTests.java
comments:
Upgrade to Lucene 5.1 r1671277.

Closes #10435.

Squashed commit of the following:

commit aa1935c790b2731fc2bbc7de6142b09e3fe8bd4a
Author: Ryan Ernst <ryan@iernst.net>
Date:   Mon Apr 6 13:44:40 2015 -0700

    fix index lookup

commit bb6373595ff62ffc56fdf0cba3ac9c0ebe679946
Merge: 916962b eb3a170
Author: Robert Muir <rmuir@apache.org>
Date:   Mon Apr 6 14:24:38 2015 -0400

    Merge branch 'lucene_r1671277' of github.com:elasticsearch/elasticsearch into lucene_r1671277

commit 916962b82d192a53add471b4cc4a1396bc30eb0e
Merge: 197b3a2 21f72fe
Author: Robert Muir <rmuir@apache.org>
Date:   Mon Apr 6 07:09:41 2015 -0400

    Merge branch 'master' into lucene_r1671277

commit eb3a1703f7932ddd0cf3e83bec0e86131d255407
Author: Ryan Ernst <ryan@iernst.net>
Date:   Sat Apr 4 11:06:03 2015 -0700

    re-enable index lookup tests

commit 80d65d5eab39062dd8364687da74ddbb87ebcb76
Author: Ryan Ernst <ryan@iernst.net>
Date:   Sat Apr 4 10:39:52 2015 -0700

    update pom to point to new snapshot repo

commit 197b3a21ac2c2d70c9f740fe53e58632a22d1aad
Author: Robert Muir <rmuir@apache.org>
Date:   Sat Apr 4 12:51:22 2015 -0400

    fix postingsenum usage

commit 0e2b7a00cd07d068f755c51185ac521aa1eb0326
Author: Robert Muir <rmuir@apache.org>
Date:   Sat Apr 4 12:21:23 2015 -0400

    upgrade to lucene r1671277 (have not yet run tests or looked at postings changes)

time:
2015-04-07T09:04:41Z
class:
src/main/java/org/elasticsearch/common/blobstore/BlobContainer.java
src/main/java/org/elasticsearch/common/blobstore/fs/FsBlobContainer.java
src/main/java/org/elasticsearch/common/blobstore/support/AbstractBlobContainer.java
src/main/java/org/elasticsearch/common/blobstore/url/URLBlobContainer.java
src/test/java/org/elasticsearch/snapshots/mockstore/BlobContainerWrapper.java
src/test/java/org/elasticsearch/snapshots/mockstore/MockRepository.java
comments:
AbstractBlobContainer.deleteByPrefix() should not list all blobs

The current implementation of AbstractBlobContainer.deleteByPrefix() calls AbstractBlobContainer.deleteBlobsByFilter() which calls BlobContainer.listBlobs() for deleting files, resulting in loading all files in order to delete few of them. This can be improved by calling BlobContainer.listBlobsByPrefix() directly.

This problem happened in #10344 when the repository verification process tries to delete a blob prefixed by "tests-" to ensure that the repository is accessible for the node. When doing so we have the following calling graph: BlobStoreRepository.endVerification() -> BlobContainer.deleteByPrefix() -> AbstractBlobContainer.deleteByPrefix() -> AbstractBlobContainer.deleteBlobsByFilter() -> BlobContainer.listBlobs()... and boom.

Also, AbstractBlobContainer.listBlobsByPrefix() and BlobContainer.deleteBlobsByFilter() can be removed because it has the same drawbacks as AbstractBlobContainer.deleteByPrefix() and also lists all blobs. Listing blobs by prefix can be done at the FsBlobContainer level.

Related to #10344

time:
2015-04-07T08:31:48Z
class:
comments:
Update README.md

Updating link to documentation docs from old elasticsearch to new elastic repository.

time:
2015-04-07T08:07:58Z
class:
src/test/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPingTests.java
comments:
Test: increase timeout in  UnicastZenPingTests#testSimplePings

time:
2015-04-07T07:19:01Z
class:
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
comments:
Test: mute testOldIndexes

Ensure greens times out often. See https://github.com/elastic/elasticsearch/issues/10434

time:
2015-04-07T06:25:53Z
class:
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
comments:
Test: make httpClient() helper not rely on internalCluster (which may be read only)

time:
2015-04-06T17:16:50Z
class:
comments:
[DOCS] Document `indices.recovery.concurrent_small_file_streams`

time:
2015-04-06T03:26:14Z
class:
src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentParser.java
src/test/java/org/elasticsearch/common/xcontent/cbor/CborXContentParserTests.java
comments:
Queries: Avoid NPE during query parsing

Workaround until Jackson is upgraded to 2.6.x.
Fixes #8629.

time:
2015-04-05T18:54:26Z
class:
comments:
Warning in documentation for deprecation of rivers

Adding a warning in the documentation on the wiki to inform users that rivers are being deprecated.

Closes #10423

time:
2015-04-05T18:14:24Z
class:
comments:
Add Pes Plugin to the plugin page

I do not know normally whether this section is the right place or not, please let me know.

Here is the pes plugin's GitHub site :https://github.com/kodcu/pes

Closes #10398

time:
2015-04-05T16:08:57Z
class:
comments:
Documentation: Add note about not having sources in repositories

Closes #10390

time:
2015-04-05T16:05:14Z
class:
comments:
Update for clarification

Make it clear which nodes in the cluster should have `http.enabled` set to `false`.

Closes #10305

time:
2015-04-05T13:14:40Z
class:
comments:
typo in ruby docs

Closes #10331

time:
2015-04-05T09:43:49Z
class:
comments:
Update repositories.asciidoc

Added a warning explaining how `add-apt-repository` adds a `deb-src` entry, which can result in errors.

Closes #10223

time:
2015-04-04T18:21:37Z
class:
comments:
Docs: Elasticsearch will refuse to start with a known bad JVM

time:
2015-04-04T16:27:12Z
class:
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
comments:
Test: temporarily avoiding replica problems with 0.90.13, see #10434

time:
2015-04-04T15:51:28Z
class:
comments:
Document `doc_values` for field type `ip`

Closes #9809

time:
2015-04-04T14:50:04Z
class:
comments:
Update indices.asciidoc

Fixed typo in cat indices

Relates to #7936

time:
2015-04-04T13:21:11Z
class:
comments:
Docs: Update client.asciidoc

change a typo.

Closes #10039

time:
2015-04-04T06:21:55Z
class:
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/bwcompat/StaticIndexBackwardCompatibilityTest.java
src/test/java/org/elasticsearch/network/DirectBufferNetworkTests.java
src/test/java/org/elasticsearch/plugins/ResponseHeaderPluginTests.java
src/test/java/org/elasticsearch/rest/CorsRegexDefaultTests.java
src/test/java/org/elasticsearch/rest/CorsRegexTests.java
src/test/java/org/elasticsearch/rest/action/admin/indices/upgrade/UpgradeTest.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
comments:
Tests: Revamp static bwc test framework to use dangling indexes

The static old index tests currently take a long time to run because
each index version essentially recreates the cluster, and spins up
new nodes.  This PR instead loads each old version into the existing
cluster as a dangling index. It also removes the intermediate
"StaticIndexBackwardCompatibilityTest" which was an extra layer
with no purpose, and moves a shared version of a commonly found
function to get an http client.

The test now takes between 40 and 60 seconds for me. I also ran it
"under stress" by running all ES tests in one shell, while
simultaneously running 10 iterations of the old index tests. Each
iteration took on average about 90 seconds, which is much better
than the 20+ minutes we see in master on jenkins.

closes #10247

time:
2015-04-04T02:35:52Z
class:
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
comments:
Mappings: Fix doc values representation to always serliaze if explicitly set

When doc values are explicitly set to the default value serialization
is skipped. This means the alternate way of specifying doc values,
through `fielddata.format: doc_values`, will take precedense if
present.

This change fixes doc values to always be serialized when an explicit value
was passed, so that it continues to take precedence over
`fielddata.format`.

closes #10297
closes #10302

time:
2015-04-04T02:25:43Z
class:
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatTests.java
comments:
Tests: Skip Version.CURRENT for static bwc indexes

The current version is normally a snapshot while in development.
However, when the release process changes the snapshot flag to false,
this causes the static bwc tests to fail because they cannot
find an index for the current version.  Instead, this change
skips the current version, because there is no need to test
a verion's bwc against itself.

closes #10292
closes #10293

time:
2015-04-03T17:54:14Z
class:
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
comments:
Mappings: Bring back numeric_resolution.

We had an undocumented parameter called `numeric_resolution` which allows to
configure how to deal with dates when provided as a number. The default is to
handle them as milliseconds, but you can also opt-on for eg. seconds.

Close #10072

time:
2015-04-03T16:30:59Z
class:
src/test/java/org/elasticsearch/search/stats/SearchStatsTests.java
comments:
Test: Not all shards maybe in a started state after the initial scroll search, but are after we do the stats call, so add ensureGreen to ensure we don't up with this discrepancy

time:
2015-04-03T14:46:30Z
class:
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
comments:
Tests: Make OldIndexBackwardsCompatibilityTests copy to fewer replicas.

We recently increased the size of bw indexes and backward compatibility tests
are now taking more time so it makes sense to ask them to do a bit less. This
commit changes the number of replicas we try to copy primaries to from (2 or 3)
to (1 or 2).

time:
2015-04-03T14:09:57Z
class:
src/test/java/org/elasticsearch/search/stats/SearchStatsTests.java
comments:
Tests: Add more assertions to SearchStatsTests.

time:
2015-04-03T12:12:29Z
class:
comments:
Update core-types.asciidoc

time:
2015-04-03T09:33:30Z
class:
src/test/java/org/elasticsearch/search/aggregations/bucket/DoubleTermsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/LongTermsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/StringTermsTests.java
comments:
Test: Disable TRACE logging on aggregations tests.

time:
2015-04-03T06:57:10Z
class:
src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
src/test/java/org/elasticsearch/search/innerhits/InnerHitsTests.java
comments:
inner hits: Make sure inner hits also work for nested fields defined in object field

Closes #10334

