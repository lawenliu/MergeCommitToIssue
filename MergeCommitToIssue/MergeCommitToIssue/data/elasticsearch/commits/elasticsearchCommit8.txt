time:
2016-05-18T13:40:55Z
class:
core/src/main/java/org/elasticsearch/monitor/fs/FsInfo.java
comments:
Merge pull request #18443 from tlrx/fix-18433

Add missing builder.endObject() in FsInfo

time:
2016-05-18T13:32:48Z
class:
comments:
Add CONSOLE to version docs

time:
2016-05-18T13:31:28Z
class:
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmGcMonitorService.java
core/src/test/java/org/elasticsearch/common/settings/SettingTests.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmGcMonitorServiceSettingsTests.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmGcMonitorServiceTests.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmMonitorTests.java
comments:
Add GC overhead logging

This commit adds simple GC overhead logging. This logging capturesintervals where the JVM is spending a lot of time performing GC but itis not necessarily the case that each GC is large. For a start, thislogging is simple and does not attempt to incorporate whether or not thecollections were efficient (that is, we are only capturing that a lot ofGC is happening, not that a lot of useless GC is happening).Relates #18419

time:
2016-05-18T13:23:15Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/CircuitBreakerServiceIT.java
comments:
Merge pull request #18432 from danielmitterdorfer/fix-circuit-breaker-it

Clear all caches after testing parent breaker

time:
2016-05-18T13:20:21Z
class:
comments:
Add CONSOLE to source filtering docs

time:
2016-05-18T13:19:30Z
class:
core/src/main/java/org/elasticsearch/monitor/fs/FsInfo.java
comments:
Add missing builder.endObject() in FsInfo

closes #18433

time:
2016-05-18T13:08:28Z
class:
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
comments:
Fix parsing single `rescore` element in SearchSourceBuilder

We are currently only parsing the array-syntax for the rescore part
in SearchSourceBuilder ("rescore" : [ {...}, {...} ]) . We also need
to support "rescore" : {...}

Closes #18439

time:
2016-05-18T12:38:54Z
class:
comments:
Add CONSOLE to script-fields docs

time:
2016-05-18T12:34:22Z
class:
comments:
Add CONSOLE to preference docs

time:
2016-05-18T12:31:48Z
class:
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/StringTests.java
comments:
Merge branch 'master' into docs/add_console_to_search_request_options

time:
2016-05-18T12:31:04Z
class:
comments:
Add CONSOLE to post-filter

time:
2016-05-18T12:00:20Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/StringTests.java
comments:
Merge pull request #18400 from uschindler/painless_java9StringConcats

Use Java 9 Indy String Concats, if available

time:
2016-05-18T11:36:19Z
class:
comments:
Adds CONSOLE to count api

time:
2016-05-18T11:33:25Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
comments:
Make the index-too-old exception more explicit (#18438)

Closes #18418

time:
2016-05-18T11:15:19Z
class:
comments:
Add CONSOLE to several trivial search request docs.

Relates to #18160

Touches explain, fielddata-fields, fields, index-boost, min-score,
named-queries-and-filters, query

time:
2016-05-18T11:02:55Z
class:
comments:
Disabling nodes.stats/30_discovery.yaml rest test

This is tracked in issue #18433, so temporarily disabling
the tests.

time:
2016-05-18T10:37:13Z
class:
comments:
Convert search-after tests to // CONSOLE

Relates to #18160

time:
2016-05-18T10:10:13Z
class:
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java
comments:
Add tests for null precondition check in BulkRequest

Relates #18347

Checked with @javanna

time:
2016-05-18T09:54:41Z
class:
comments:
Add CONSOLE to from/size docs

Relates to #18160

time:
2016-05-18T09:20:41Z
class:
comments:
Merge pull request #18423 from MaineC/docs/add_console_to_sort

Add CONSOLE annotation to sort documentation

time:
2016-05-18T09:09:00Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/support/HandledTransportAction.java
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeAction.java
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeReadAction.java
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCheck.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/FailedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/StartedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/FilterAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ShardsLimitAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/SnapshotInProgressAllocationDecider.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/unit/Fuzziness.java
core/src/main/java/org/elasticsearch/common/util/iterable/Iterables.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/NodesFaultDetection.java
core/src/main/java/org/elasticsearch/env/ESFileStore.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/analysis/FingerprintAnalyzer.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/StringFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/TermBasedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper2x.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/KeywordFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyByteFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDoubleFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyFloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyIntegerFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyLongFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyNumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyShortFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TextFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/BaseGeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/LegacyIpFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/search/MatchQuery.java
core/src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/indices/IndexAlreadyExistsException.java
core/src/main/java/org/elasticsearch/indices/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveriesCollection.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTargetService.java
core/src/main/java/org/elasticsearch/ingest/processor/SortProcessor.java
core/src/main/java/org/elasticsearch/monitor/MonitorService.java
core/src/main/java/org/elasticsearch/monitor/fs/FsInfo.java
core/src/main/java/org/elasticsearch/monitor/fs/FsProbe.java
core/src/main/java/org/elasticsearch/monitor/fs/FsService.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmGcMonitorService.java
core/src/main/java/org/elasticsearch/node/NodeModule.java
core/src/main/java/org/elasticsearch/script/AbstractDoubleSearchScript.java
core/src/main/java/org/elasticsearch/script/AbstractLongSearchScript.java
core/src/main/java/org/elasticsearch/script/AbstractSearchScript.java
core/src/main/java/org/elasticsearch/script/LeafSearchScript.java
core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
core/src/main/java/org/elasticsearch/script/NativeScriptFactory.java
core/src/main/java/org/elasticsearch/script/ScriptEngineRegistry.java
core/src/main/java/org/elasticsearch/script/ScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptMode.java
core/src/main/java/org/elasticsearch/script/ScriptModes.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/script/ScriptSettings.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilders.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/BinaryRangeAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/BinaryRangeAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/InternalBinaryRange.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ip/IpRangeAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ip/IpRangeParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IPv4RangeAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/InternalIPv4Range.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IpRangeParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/Ipv4RangeAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/GlobalOrdinalsSignificantTermsAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/InternalSignificantTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantLongTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantStringTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantStringTermsAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/UnmappedSignificantTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/StringTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValueType.java
core/src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchResponse.java
core/src/main/java/org/elasticsearch/search/profile/AbstractProfileBreakdown.java
core/src/main/java/org/elasticsearch/search/profile/ProfileResult.java
core/src/main/java/org/elasticsearch/search/profile/ProfileShardResult.java
core/src/main/java/org/elasticsearch/search/profile/Profilers.java
core/src/main/java/org/elasticsearch/search/profile/SearchProfileShardResults.java
core/src/main/java/org/elasticsearch/search/profile/query/CollectorResult.java
core/src/main/java/org/elasticsearch/search/profile/query/InternalProfileCollector.java
core/src/main/java/org/elasticsearch/search/profile/query/InternalQueryProfileTree.java
core/src/main/java/org/elasticsearch/search/profile/query/ProfileCollector.java
core/src/main/java/org/elasticsearch/search/profile/query/ProfileScorer.java
core/src/main/java/org/elasticsearch/search/profile/query/ProfileWeight.java
core/src/main/java/org/elasticsearch/search/profile/query/QueryProfileBreakdown.java
core/src/main/java/org/elasticsearch/search/profile/query/QueryProfiler.java
core/src/main/java/org/elasticsearch/search/profile/query/QueryTimingType.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/main/java/org/elasticsearch/transport/RequestHandlerRegistry.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/main/java/org/elasticsearch/transport/local/LocalTransport.java
core/src/main/java/org/elasticsearch/transport/netty/MessageChannelHandler.java
core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java
core/src/test/java/org/elasticsearch/cluster/DiskUsageTests.java
core/src/test/java/org/elasticsearch/cluster/ack/AckClusterUpdateSettingsIT.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunctionTests.java
core/src/test/java/org/elasticsearch/common/unit/FuzzinessTests.java
core/src/test/java/org/elasticsearch/common/util/iterable/IterablesTests.java
core/src/test/java/org/elasticsearch/discovery/ZenFaultDetectionTests.java
core/src/test/java/org/elasticsearch/gateway/PrimaryShardAllocatorTests.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/index/analysis/FingerprintAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/mapper/DocumentFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeLookupTests.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/FakeStringFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/IdFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/UidFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/FuzzyQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MultiMatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/PrefixQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RegexpQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/IndexingMemoryControllerTests.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/CircuitBreakerServiceIT.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateIT.java
core/src/test/java/org/elasticsearch/ingest/processor/SortProcessorTests.java
core/src/test/java/org/elasticsearch/monitor/fs/DeviceStatsTests.java
core/src/test/java/org/elasticsearch/monitor/fs/FsProbeTests.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmGcMonitorServiceTests.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmMonitorTests.java
core/src/test/java/org/elasticsearch/recovery/RecoveriesCollectionTests.java
core/src/test/java/org/elasticsearch/script/FileScriptTests.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptContextTests.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/script/ScriptSettingsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregatorParsingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/BaseAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/BasePipelineAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IPv4RangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IpRangeIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IpRangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/range/BinaryRangeAggregatorTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/significant/SignificanceHeuristicTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
core/src/test/java/org/elasticsearch/search/aggregations/support/ScriptValuesTests.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
core/src/test/java/org/elasticsearch/search/profile/query/ProfileTests.java
core/src/test/java/org/elasticsearch/search/profile/query/QueryProfilerIT.java
core/src/test/java/org/elasticsearch/search/profile/query/RandomQueryGenerator.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
core/src/test/java/org/elasticsearch/search/sort/AbstractSortTestCase.java
core/src/test/java/org/elasticsearch/search/sort/GeoDistanceSortBuilderTests.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/threadpool/FixedThreadPoolTests.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionPlugin.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionSearchScript.java
modules/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionTests.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyPlugin.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IPv4RangeTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndicesRequestTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovySecurityTests.java
modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MustachePlugin.java
modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MustacheScriptEngineService.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/TemplateQueryParserTests.java
modules/lang-mustache/src/test/java/org/elasticsearch/script/mustache/MustacheScriptEngineTests.java
modules/lang-mustache/src/test/java/org/elasticsearch/script/mustache/MustacheTests.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerCaster.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Compiler.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DynamicCallSite.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/FeatureTest.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessPlugin.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngineService.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/ScriptImpl.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Writer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ALink.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ANode.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AStatement.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBool.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBoolean.java
comments:
Merge branch 'master' into docs/add_console_to_sort

time:
2016-05-18T09:08:27Z
class:
comments:
Switch to keyword/text type, add refresh parameter

time:
2016-05-18T08:51:57Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveriesCollection.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTargetService.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/IndexingMemoryControllerTests.java
core/src/test/java/org/elasticsearch/recovery/RecoveriesCollectionTests.java
comments:
Simplify recovery logic in IndicesClusterStateService (#18405)

- Moves recovery logic into IndexShard- Simplifies logic to cancel peer recovery of shard where recovery source node changed- Ensures routing entry is set on initialization of IndexShard

time:
2016-05-18T07:31:35Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/CircuitBreakerServiceIT.java
comments:
Clear all caches after testing parent breaker

With this commit we clear all caches after testing the parent circuit breaker.
This is necessary as caches hold on to circuit breakers internally. Additionally,
due to usage of CircuitBreaker#addWithoutBreaking() in caches, it's even possible
to go above the limit. As a consequence, all subsequent requests fall victim to
the limit.

Hence, right after the parent circuit breaker tripped, we clear all caches to
reduce these circuit breakers to 0 again. We also exclude the clear caches
transport request from limit check in order to ensure it will succeed. As this is
typically a very small and low-volume request, it is deemed ok to exclude it.

Closes #18325

time:
2016-05-18T01:21:43Z
class:
comments:
[docs] Add // CONSOLE to validate and uri-request

Two of the snippets in validate weren't working properly so they are
marked as skip and linked to this:
https://github.com/elastic/elasticsearch/issues/18254

We didn't properly handle empty parameter values. We were sending
them as the literal string "null". Now we do better and send them
as the empty string.

time:
2016-05-17T22:31:12Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
comments:
painless: fix checkstyle

time:
2016-05-17T22:26:47Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/StringTests.java
comments:
painless: Improve string concat tests; add state machine check after MethodWriter

time:
2016-05-17T20:47:20Z
class:
comments:
[DOCS] Add missing section include for reindex breaking changes

time:
2016-05-17T20:39:53Z
class:
comments:
[TEST] Add missing sort processor to tests, continued

time:
2016-05-17T20:29:49Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerCaster.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EExplicit.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOperationTests.java
comments:
Merge pull request #18425 from jdconrad/cast

Made def variable casting consistent with invokedynamic rules

time:
2016-05-17T20:16:49Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerCaster.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EExplicit.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOperationTests.java
comments:
Made def variable casting consistent with invokedynamic rules.

time:
2016-05-17T20:16:39Z
class:
core/src/main/java/org/elasticsearch/env/ESFileStore.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/monitor/MonitorService.java
core/src/main/java/org/elasticsearch/monitor/fs/FsInfo.java
core/src/main/java/org/elasticsearch/monitor/fs/FsProbe.java
core/src/main/java/org/elasticsearch/monitor/fs/FsService.java
core/src/test/java/org/elasticsearch/cluster/DiskUsageTests.java
core/src/test/java/org/elasticsearch/monitor/fs/DeviceStatsTests.java
core/src/test/java/org/elasticsearch/monitor/fs/FsProbeTests.java
test/framework/src/main/java/org/elasticsearch/cluster/MockInternalClusterInfoService.java
comments:
Add I/O statistics on Linux

This commit adds a variety of real disk metrics for the block devicesthat back Elasticsearch data paths. A collection of statistics are readfrom /proc/diskstats and are used to report the raw metrics foroperations and read/write bytes.Relates #15915

time:
2016-05-17T19:56:59Z
class:
comments:
Merge remote-tracking branch 'dakrone/dont-mkdir-data-with-comma'

time:
2016-05-17T19:42:24Z
class:
comments:
Don't run `mkdir` when $DATA_DIR contains a comma-separated list

Resolves #16992
Resolves https://github.com/elastic/cookbook-elasticsearch/issues/441

time:
2016-05-17T19:21:30Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/FailedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/StartedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/FilterAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ShardsLimitAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/SnapshotInProgressAllocationDecider.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/ingest/processor/SortProcessor.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmGcMonitorService.java
core/src/main/java/org/elasticsearch/node/NodeModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/main/java/org/elasticsearch/search/profile/ProfileResult.java
core/src/main/java/org/elasticsearch/search/profile/ProfileShardResult.java
core/src/main/java/org/elasticsearch/search/profile/Profilers.java
core/src/main/java/org/elasticsearch/search/profile/SearchProfileShardResults.java
core/src/main/java/org/elasticsearch/search/profile/query/CollectorResult.java
core/src/main/java/org/elasticsearch/search/profile/query/InternalProfileCollector.java
core/src/main/java/org/elasticsearch/search/profile/query/InternalQueryProfileTree.java
core/src/main/java/org/elasticsearch/search/profile/query/ProfileCollector.java
core/src/main/java/org/elasticsearch/search/profile/query/ProfileScorer.java
core/src/main/java/org/elasticsearch/search/profile/query/ProfileWeight.java
core/src/main/java/org/elasticsearch/search/profile/query/QueryProfileBreakdown.java
core/src/main/java/org/elasticsearch/search/profile/query/QueryProfiler.java
core/src/main/java/org/elasticsearch/search/profile/query/QueryTimingType.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/test/java/org/elasticsearch/cluster/ack/AckClusterUpdateSettingsIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/gateway/PrimaryShardAllocatorTests.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateIT.java
core/src/test/java/org/elasticsearch/ingest/processor/SortProcessorTests.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmGcMonitorServiceTests.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmMonitorTests.java
core/src/test/java/org/elasticsearch/search/profile/query/ProfileTests.java
core/src/test/java/org/elasticsearch/search/profile/query/QueryProfilerIT.java
core/src/test/java/org/elasticsearch/search/profile/query/RandomQueryGenerator.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/FeatureTest.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewObj.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOperationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/NoSemiColonTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/OverloadTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/StringTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractAsyncBulkByScrollAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkByScrollRequest.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkByScrollRequestBuilder.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkIndexByScrollRequestBuilder.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/BulkByScrollTask.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/BulkIndexByScrollResponse.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/ReindexRequest.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/ReindexRequestBuilder.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/UpdateByQueryRequest.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/UpdateByQueryRequestBuilder.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/AsyncBulkByScrollActionTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/BulkByScrollTaskTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/BulkIndexByScrollResponseMatcher.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/CancelTestUtils.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/RethrottleTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/RetryTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/RoundTripTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/UpdateByQueryRequestTests.java
comments:
Merge branch 'master' into docs/add_console_to_highlighting

time:
2016-05-17T19:19:51Z
class:
comments:
Merge pull request #18422 from MaineC/docs/add_autosense_to_query_dsl

Amended PR adding testing to query-dsl doc snippets

time:
2016-05-17T19:12:06Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/FailedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/StartedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/FilterAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ShardsLimitAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/SnapshotInProgressAllocationDecider.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/ingest/processor/SortProcessor.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmGcMonitorService.java
core/src/main/java/org/elasticsearch/node/NodeModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/main/java/org/elasticsearch/search/profile/ProfileResult.java
core/src/main/java/org/elasticsearch/search/profile/ProfileShardResult.java
core/src/main/java/org/elasticsearch/search/profile/Profilers.java
core/src/main/java/org/elasticsearch/search/profile/SearchProfileShardResults.java
core/src/main/java/org/elasticsearch/search/profile/query/CollectorResult.java
core/src/main/java/org/elasticsearch/search/profile/query/InternalProfileCollector.java
core/src/main/java/org/elasticsearch/search/profile/query/InternalQueryProfileTree.java
core/src/main/java/org/elasticsearch/search/profile/query/ProfileCollector.java
core/src/main/java/org/elasticsearch/search/profile/query/ProfileScorer.java
core/src/main/java/org/elasticsearch/search/profile/query/ProfileWeight.java
core/src/main/java/org/elasticsearch/search/profile/query/QueryProfileBreakdown.java
core/src/main/java/org/elasticsearch/search/profile/query/QueryProfiler.java
core/src/main/java/org/elasticsearch/search/profile/query/QueryTimingType.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/test/java/org/elasticsearch/cluster/ack/AckClusterUpdateSettingsIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/gateway/PrimaryShardAllocatorTests.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateIT.java
core/src/test/java/org/elasticsearch/ingest/processor/SortProcessorTests.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmGcMonitorServiceTests.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmMonitorTests.java
core/src/test/java/org/elasticsearch/search/profile/query/ProfileTests.java
core/src/test/java/org/elasticsearch/search/profile/query/QueryProfilerIT.java
core/src/test/java/org/elasticsearch/search/profile/query/RandomQueryGenerator.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/FeatureTest.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewObj.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOperationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/NoSemiColonTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/OverloadTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/StringTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractAsyncBulkByScrollAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkByScrollRequest.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkByScrollRequestBuilder.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkIndexByScrollRequestBuilder.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/BulkByScrollTask.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/BulkIndexByScrollResponse.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/ReindexRequest.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/ReindexRequestBuilder.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/UpdateByQueryRequest.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/UpdateByQueryRequestBuilder.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/AsyncBulkByScrollActionTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/BulkByScrollTaskTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/BulkIndexByScrollResponseMatcher.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/CancelTestUtils.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/RethrottleTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/RetryTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/RoundTripTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/UpdateByQueryRequestTests.java
comments:
Merge branch 'master' into docs/add_autosense_to_query_dsl

time:
2016-05-17T19:00:15Z
class:
comments:
Add Console to highlighting docs

... in order to execute the snippets through rest tests.

Relates to #18160

time:
2016-05-17T18:56:33Z
class:
comments:
Merge pull request #18420 from elastic/revert-18211-docs/add_autosense_to_query_dsl

Revert "Add Autosense annotation for query dsl testing"

time:
2016-05-17T18:55:56Z
class:
comments:
Revert "Add Autosense annotation for query dsl testing"

time:
2016-05-17T18:55:45Z
class:
comments:
Merge pull request #18211 from MaineC/docs/add_autosense_to_query_dsl

Add Autosense annotation for query dsl testing

time:
2016-05-17T18:52:17Z
class:
comments:
[TEST] Add missing sort processor to test

Also fixes the naming of the sort REST test
to follow the numbering convention

time:
2016-05-17T18:05:35Z
class:
modules/reindex/src/test/java/org/elasticsearch/index/reindex/AsyncBulkByScrollActionTests.java
comments:
[reindex] Add assertBusy to test

It has timing issues.

time:
2016-05-17T17:58:45Z
class:
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractAsyncBulkByScrollAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkByScrollRequest.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkByScrollRequestBuilder.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkIndexByScrollRequestBuilder.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/BulkByScrollTask.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/BulkIndexByScrollResponse.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/ReindexRequest.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/ReindexRequestBuilder.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/UpdateByQueryRequest.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/UpdateByQueryRequestBuilder.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/AsyncBulkByScrollActionTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/BulkByScrollTaskTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/BulkIndexByScrollResponseMatcher.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/CancelTestUtils.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/RethrottleTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/RetryTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/RoundTripTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/UpdateByQueryRequestTests.java
comments:
Reindex should retry on search failures

This uses the same backoff policy we use for bulk and just retries until
the request isn't rejected.

Instead of `{"retries": 12}` in the response to count retries this now
looks like `{"retries": {"bulk": 12", "search": 1}`.

Closes #18059

time:
2016-05-17T17:05:36Z
class:
core/src/main/java/org/elasticsearch/monitor/jvm/JvmGcMonitorService.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmGcMonitorServiceTests.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmMonitorTests.java
comments:
Refactor JvmGcMonitorService for testing

This commit refactors the JvmGcMonitorService so that it can betested. In particular, hooks are added to verify that theJvmMonitorService correctly observes slow GC events, and that theJvmGcMonitorService logs the correct messages.Relates #18378

time:
2016-05-17T17:02:28Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/FailedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/StartedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/FilterAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ShardsLimitAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/SnapshotInProgressAllocationDecider.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/test/java/org/elasticsearch/cluster/ack/AckClusterUpdateSettingsIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/gateway/PrimaryShardAllocatorTests.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateIT.java
comments:
Expose previous cluster state only in RoutingAllocation (#18390)

Instead of re-exposing index metadata and blocks in RoutingNodes (which is part of the cluster state before rerouting), expose it as part of the RoutingAllocation which is known to be only temporarily used during reroute.

time:
2016-05-17T16:55:07Z
class:
core/src/test/java/org/elasticsearch/ingest/processor/SortProcessorTests.java
comments:
[TEST] Use a reproducible source of randomness in shuffle

time:
2016-05-17T16:47:33Z
class:
core/src/main/java/org/elasticsearch/ingest/processor/SortProcessor.java
core/src/main/java/org/elasticsearch/node/NodeModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/main/java/org/elasticsearch/search/profile/ProfileResult.java
core/src/main/java/org/elasticsearch/search/profile/ProfileShardResult.java
core/src/main/java/org/elasticsearch/search/profile/Profilers.java
core/src/main/java/org/elasticsearch/search/profile/SearchProfileShardResults.java
core/src/main/java/org/elasticsearch/search/profile/query/CollectorResult.java
core/src/main/java/org/elasticsearch/search/profile/query/InternalProfileCollector.java
core/src/main/java/org/elasticsearch/search/profile/query/InternalQueryProfileTree.java
core/src/main/java/org/elasticsearch/search/profile/query/ProfileCollector.java
core/src/main/java/org/elasticsearch/search/profile/query/ProfileScorer.java
core/src/main/java/org/elasticsearch/search/profile/query/ProfileWeight.java
core/src/main/java/org/elasticsearch/search/profile/query/QueryProfileBreakdown.java
core/src/main/java/org/elasticsearch/search/profile/query/QueryProfiler.java
core/src/main/java/org/elasticsearch/search/profile/query/QueryTimingType.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/test/java/org/elasticsearch/ingest/processor/SortProcessorTests.java
core/src/test/java/org/elasticsearch/search/profile/query/ProfileTests.java
core/src/test/java/org/elasticsearch/search/profile/query/QueryProfilerIT.java
core/src/test/java/org/elasticsearch/search/profile/query/RandomQueryGenerator.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/FeatureTest.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewObj.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOperationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/NoSemiColonTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/OverloadTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/StringTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
comments:
Merge branch 'master' into painless_java9StringConcats

# Conflicts:
#	modules/lang-painless/src/test/java/org/elasticsearch/painless/StringTests.java

time:
2016-05-17T16:18:20Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOperationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/NoSemiColonTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/StringTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
comments:
Merge pull request #18410 from rmuir/painless_parser_performance_bug

painless: fix insanely slow compilation

time:
2016-05-17T16:06:48Z
class:
core/src/main/java/org/elasticsearch/ingest/processor/SortProcessor.java
core/src/main/java/org/elasticsearch/node/NodeModule.java
core/src/test/java/org/elasticsearch/ingest/processor/SortProcessorTests.java
comments:
Add a Sort ingest processor

Sorts an array of values in ascending or descending order. If all elements are numerics, they will be sorted numerically. If values are strings, or mixtures of strings/numbers, the elements will be sorted lexicographically.

time:
2016-05-17T15:44:46Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/StringTests.java
comments:
painless: use Java 9 Indy String Concats, if available

time:
2016-05-17T15:39:47Z
class:
comments:
[docs] Add missing article

[docs] Add missing article to zen.asciidoc

time:
2016-05-17T15:03:48Z
class:
comments:
fix example in doc

time:
2016-05-17T14:55:40Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOperationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/NoSemiColonTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/StringTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
comments:
make semicolons only optional at the end

time:
2016-05-17T13:40:53Z
class:
comments:
Fix occasional build error.

time:
2016-05-17T13:20:05Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/main/java/org/elasticsearch/search/profile/ProfileResult.java
core/src/main/java/org/elasticsearch/search/profile/ProfileShardResult.java
core/src/main/java/org/elasticsearch/search/profile/Profilers.java
core/src/main/java/org/elasticsearch/search/profile/SearchProfileShardResults.java
core/src/main/java/org/elasticsearch/search/profile/query/CollectorResult.java
core/src/main/java/org/elasticsearch/search/profile/query/InternalProfileCollector.java
core/src/main/java/org/elasticsearch/search/profile/query/InternalQueryProfileTree.java
core/src/main/java/org/elasticsearch/search/profile/query/ProfileCollector.java
core/src/main/java/org/elasticsearch/search/profile/query/ProfileScorer.java
core/src/main/java/org/elasticsearch/search/profile/query/ProfileWeight.java
core/src/main/java/org/elasticsearch/search/profile/query/QueryProfileBreakdown.java
core/src/main/java/org/elasticsearch/search/profile/query/QueryProfiler.java
core/src/main/java/org/elasticsearch/search/profile/query/QueryTimingType.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/test/java/org/elasticsearch/search/profile/query/ProfileTests.java
core/src/test/java/org/elasticsearch/search/profile/query/QueryProfilerIT.java
core/src/test/java/org/elasticsearch/search/profile/query/RandomQueryGenerator.java
comments:
Moves query profiler classes into their own package

The change also renames fields and methods in the Profilers class.

Note that I had to make ProfileResult a public class (it was package private before) because now classes that call it are in a different package.

time:
2016-05-17T13:17:43Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/FeatureTest.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewObj.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/OverloadTests.java
comments:
painless: add method overloading based on arity

Closes #18385

Squashed commit of the following:

commit b2819df4d392d69b86e5c96d358eb03424e67e02
Author: Robert Muir <rmuir@apache.org>
Date:   Tue May 17 09:15:47 2016 -0400

    add note about tuple

commit 85fcac6a0d0674da24535121eab23e2c407d683f
Author: Robert Muir <rmuir@apache.org>
Date:   Mon May 16 23:39:25 2016 -0400

    painless: add method overloading based on arity

time:
2016-05-17T13:14:37Z
class:
comments:
Add CONSOLE annotation to sort documentation

This adds CONSOLE to sort docs in order to automatically execute the doc
snippets. Fixes a few minor types along the way.

Relates to #18160

time:
2016-05-17T10:07:38Z
class:
comments:
Merge pull request #18392 from colings86/docs/profiler_changes

Updates the documentation for the recent changes in the profiler

time:
2016-05-17T09:59:50Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsGroup.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/ShardSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/ShardUpgradeStatus.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/support/HandledTransportAction.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeAction.java
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeReadAction.java
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCheck.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexGraveyard.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/routing/AllocationId.java
core/src/main/java/org/elasticsearch/cluster/routing/IllegalShardRoutingStateException.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AbstractAllocateAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateEmptyPrimaryAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/lucene/index/FilterableTermsEnum.java
core/src/main/java/org/elasticsearch/common/unit/Fuzziness.java
core/src/main/java/org/elasticsearch/common/util/iterable/Iterables.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/NodesFaultDetection.java
core/src/main/java/org/elasticsearch/gateway/DanglingIndicesState.java
core/src/main/java/org/elasticsearch/http/netty/cors/CorsHandler.java
core/src/main/java/org/elasticsearch/index/analysis/FingerprintAnalyzer.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/StringFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/TermBasedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper2x.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/KeywordFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyByteFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDoubleFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyFloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyIntegerFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyLongFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyNumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyShortFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TextFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/BaseGeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/LegacyIpFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/search/MatchQuery.java
core/src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
core/src/main/java/org/elasticsearch/indices/IndexAlreadyExistsException.java
core/src/main/java/org/elasticsearch/indices/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/flush/ShardsSyncedFlushResult.java
core/src/main/java/org/elasticsearch/plugins/ListPluginsCommand.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestFielddataAction.java
core/src/main/java/org/elasticsearch/rest/support/RestUtils.java
core/src/main/java/org/elasticsearch/script/AbstractDoubleSearchScript.java
core/src/main/java/org/elasticsearch/script/AbstractLongSearchScript.java
core/src/main/java/org/elasticsearch/script/AbstractSearchScript.java
core/src/main/java/org/elasticsearch/script/ExecutableScript.java
core/src/main/java/org/elasticsearch/script/LeafSearchScript.java
core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
core/src/main/java/org/elasticsearch/script/NativeScriptFactory.java
core/src/main/java/org/elasticsearch/script/ScriptEngineRegistry.java
core/src/main/java/org/elasticsearch/script/ScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptMode.java
core/src/main/java/org/elasticsearch/script/ScriptModes.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/script/ScriptSettings.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilders.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/BinaryRangeAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/BinaryRangeAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/InternalBinaryRange.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ip/IpRangeAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ip/IpRangeParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IPv4RangeAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/InternalIPv4Range.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IpRangeParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/Ipv4RangeAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/GlobalOrdinalsSignificantTermsAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/InternalSignificantTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantLongTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantLongTermsAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantStringTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantStringTermsAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/UnmappedSignificantTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/StringTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/avg/AvgBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/max/MaxBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/min/MinBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/PercentilesBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/StatsBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/ExtendedStatsBucketParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/sum/SumBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValueType.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSource.java
core/src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchResponse.java
core/src/main/java/org/elasticsearch/search/profile/AbstractProfileBreakdown.java
core/src/main/java/org/elasticsearch/search/profile/InternalQueryProfileTree.java
core/src/main/java/org/elasticsearch/search/profile/ProfileResult.java
core/src/main/java/org/elasticsearch/search/profile/ProfileScorer.java
core/src/main/java/org/elasticsearch/search/profile/ProfileShardResult.java
core/src/main/java/org/elasticsearch/search/profile/ProfileWeight.java
core/src/main/java/org/elasticsearch/search/profile/Profilers.java
core/src/main/java/org/elasticsearch/search/profile/QueryProfileBreakdown.java
core/src/main/java/org/elasticsearch/search/profile/QueryProfiler.java
core/src/main/java/org/elasticsearch/search/profile/QueryTimingType.java
core/src/main/java/org/elasticsearch/search/profile/SearchProfileShardResults.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/main/java/org/elasticsearch/transport/RequestHandlerRegistry.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/main/java/org/elasticsearch/transport/local/LocalTransport.java
core/src/main/java/org/elasticsearch/transport/netty/MessageChannelHandler.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanationTests.java
core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ClusterStateCreationUtils.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportReplicationActionTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/DiskUsageTests.java
core/src/test/java/org/elasticsearch/cluster/ack/AckIT.java
core/src/test/java/org/elasticsearch/cluster/action/shard/ShardFailedClusterStateTaskExecutorTests.java
core/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java
core/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteIT.java
core/src/test/java/org/elasticsearch/cluster/metadata/IndexGraveyardTests.java
core/src/test/java/org/elasticsearch/cluster/routing/AllocationIdTests.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/RandomShardRoutingMutator.java
core/src/test/java/org/elasticsearch/cluster/routing/ShardRoutingHelper.java
core/src/test/java/org/elasticsearch/cluster/routing/ShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AddIncrementallyTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ClusterRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/DeadNodesAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ExpectedShardSizeAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FilterRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/StartedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ThrottlingAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunctionTests.java
core/src/test/java/org/elasticsearch/common/unit/FuzzinessTests.java
core/src/test/java/org/elasticsearch/common/util/iterable/IterablesTests.java
core/src/test/java/org/elasticsearch/discovery/ZenFaultDetectionTests.java
core/src/test/java/org/elasticsearch/gateway/DanglingIndicesStateTests.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpChannelTests.java
core/src/test/java/org/elasticsearch/index/analysis/FingerprintAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/mapper/DocumentFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeLookupTests.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/FakeStringFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/IdFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/UidFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/FuzzyQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MultiMatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/PrefixQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RegexpQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/IndexingMemoryControllerTests.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerSingleNodeTests.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/CircuitBreakerServiceIT.java
core/src/test/java/org/elasticsearch/script/FileScriptTests.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptContextTests.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/script/ScriptSettingsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregatorParsingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/BaseAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/BasePipelineAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IPv4RangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IpRangeIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IpRangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TermsShardMinDocCountIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/range/BinaryRangeAggregatorTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/significant/SignificanceHeuristicTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/ExtendedStatsBucketTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/PercentilesBucketTests.java
core/src/test/java/org/elasticsearch/search/aggregations/support/ScriptValuesTests.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
core/src/test/java/org/elasticsearch/search/profile/ProfileTests.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringIT.java
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
core/src/test/java/org/elasticsearch/search/sort/AbstractSortTestCase.java
core/src/test/java/org/elasticsearch/search/sort/GeoDistanceSortBuilderTests.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/threadpool/FixedThreadPoolTests.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
comments:
Merge branch 'master' into docs/add_autosense_to_query_dsl

time:
2016-05-17T08:58:30Z
class:
comments:
[DOCS] Updates the documentation for the recent changes in the profiler

time:
2016-05-17T01:18:49Z
class:
comments:
Clarify squashing of pull request commits

This commit rewords the note regarding the squashing of pull request
commits to make it clearer that the note applies to everyone and not
just external contributors.

time:
2016-05-17T01:12:06Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Writer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ALink.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ANode.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AStatement.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBool.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBoolean.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConditional.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConstant.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EDecimal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EExplicit.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENull.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENumeric.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LArrayLength.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewObj.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LString.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LVariable.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBreak.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SContinue.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclaration.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDo.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIfElse.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SReturn.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SThrow.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STry.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SWhile.java
comments:
Merge pull request #18382 from uschindler/painless_writerRefactoring

painless: Refactor WriterUtils to extend ASM GeneratorAdapter

time:
2016-05-17T00:25:05Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/MethodWriter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Writer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ALink.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ANode.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AStatement.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBool.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBoolean.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConditional.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConstant.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EDecimal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EExplicit.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENull.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENumeric.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LArrayLength.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewObj.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LString.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LVariable.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBreak.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SContinue.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclaration.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDo.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIfElse.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SReturn.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SThrow.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STry.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SWhile.java
comments:
painless: Refactor WriterUtils to extends ASM GeneratorAdapter as "MethodWriter" for easy usage (and more coming later)

time:
2016-05-16T23:41:53Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/IDefLink.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/package-info.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOperationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOptimizationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ScriptTestCase.java
comments:
Merge pull request #18379 from jdconrad/types

Fix Bug in Painless Assignment

time:
2016-05-16T22:48:29Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/IDefLink.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/package-info.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOptimizationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ScriptTestCase.java
comments:
Moved ADefLink to be a marker interface instead.

time:
2016-05-16T22:41:36Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java
comments:
Removed unused AllocationService member in
TransportClusterAllocationExplainAction

Closes #18381

time:
2016-05-16T21:34:32Z
class:
comments:
Add note to contributing docs about force push

This commit adds a note to the contributing docs regarding force pushingduring the review process.Relates #18380

time:
2016-05-16T21:22:59Z
class:
core/src/main/java/org/elasticsearch/script/AbstractDoubleSearchScript.java
core/src/main/java/org/elasticsearch/script/AbstractFloatSearchScript.java
core/src/main/java/org/elasticsearch/script/AbstractLongSearchScript.java
core/src/main/java/org/elasticsearch/script/AbstractSearchScript.java
core/src/main/java/org/elasticsearch/script/LeafSearchScript.java
core/src/main/java/org/elasticsearch/script/NativeScriptFactory.java
core/src/test/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunctionTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
core/src/test/java/org/elasticsearch/search/aggregations/support/ScriptValuesTests.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionSearchScript.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/ScriptImpl.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
comments:
Merge branch 'master' into types

time:
2016-05-16T21:18:05Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
comments:
Fixed a casting bug in Painless.

time:
2016-05-16T21:08:49Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
comments:
Merge pull request #18372 from rmuir/painless_whitelist_expansion

painless whitelist expansion

time:
2016-05-16T21:08:25Z
class:
core/src/main/java/org/elasticsearch/script/AbstractDoubleSearchScript.java
core/src/main/java/org/elasticsearch/script/AbstractFloatSearchScript.java
core/src/main/java/org/elasticsearch/script/AbstractLongSearchScript.java
core/src/main/java/org/elasticsearch/script/AbstractSearchScript.java
core/src/main/java/org/elasticsearch/script/LeafSearchScript.java
core/src/main/java/org/elasticsearch/script/NativeScriptFactory.java
core/src/test/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunctionTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
core/src/test/java/org/elasticsearch/search/aggregations/support/ScriptValuesTests.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionSearchScript.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/ScriptImpl.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
comments:
Merge pull request #18364 from rmuir/nukeRunAsFloat

Remove LeafSearchScript.runAsFloat(): Nothing calls it.

time:
2016-05-16T19:43:24Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerCaster.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterUtility.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STrap.java
comments:
Merge branch 'master' into types

time:
2016-05-16T19:42:25Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/package-info.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOperationTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefOptimizationTests.java
comments:
Add more def tests including checking bytecode for specific
optimizations.

time:
2016-05-16T19:41:09Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerCaster.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterUtility.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STrap.java
comments:
Merge pull request #18350 from uschindler/painless_isAssignableFrom

Use isAssignableFrom instead of relying on ClassCastException

time:
2016-05-16T19:11:37Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ADefLink.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ArrayTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicAPITests.java
comments:
Merge pull request #18359 from uschindler/painless_removeStoreBoxing

Remove boxing when loading and storing values in "def" fields/arrays, remove boxing onsimple method calls of "def" methods

time:
2016-05-16T19:04:03Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
comments:
painless: Some reformatting in EChain to make it clear if "this" or inner "expression" is affected

time:
2016-05-16T18:37:51Z
class:
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicAPITests.java
comments:
painless: Add Jack's test

time:
2016-05-16T18:31:27Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ArrayTests.java
comments:
painless: Fix issue with dup and cast

time:
2016-05-16T15:37:00Z
class:
core/src/main/java/org/elasticsearch/common/unit/Fuzziness.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/StringFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/TermBasedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper2x.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/KeywordFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyByteFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDoubleFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyFloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyIntegerFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyLongFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyNumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyShortFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TextFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/BaseGeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/LegacyIpFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorFieldMapper.java
core/src/main/java/org/elasticsearch/index/search/MatchQuery.java
core/src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
core/src/test/java/org/elasticsearch/common/unit/FuzzinessTests.java
core/src/test/java/org/elasticsearch/index/mapper/DocumentFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeLookupTests.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/FakeStringFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/IdFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/UidFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/query/FuzzyQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MultiMatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/PrefixQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RegexpQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
core/src/test/java/org/elasticsearch/search/sort/GeoDistanceSortBuilderTests.java
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/AttachmentMapper.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/index/mapper/murmur3/Murmur3FieldMapper.java
test/framework/src/main/java/org/elasticsearch/index/mapper/MockFieldMapper.java
comments:
Lessen leniency of the query dsl. #18276

This change does the following:
 - Queries that are currently unsupported such as prefix queries on numeric
   fields or term queries on geo fields now throw an error rather than returning
   a query that does not match anything.
 - Fuzzy queries on numeric, date and ip fields are now unsupported: they used
   to create range queries, we now expect users to use range queries directly.
   Fuzzy, regexp and prefix queries are now only supported on text/keyword
   fields (including `_all`).
 - The `_uid` and `_id` fields do not support prefix or range queries anymore as
   it would prevent us to store them more efficiently in the future, eg. by
   using a binary encoding.

Note that it is still possible to ignore these errors by using the `lenient`
option of the `match` or `query_string` queries.

time:
2016-05-16T15:16:05Z
class:
core/src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchResponse.java
core/src/main/java/org/elasticsearch/search/profile/AbstractProfileBreakdown.java
core/src/main/java/org/elasticsearch/search/profile/InternalQueryProfileTree.java
core/src/main/java/org/elasticsearch/search/profile/ProfileResult.java
core/src/main/java/org/elasticsearch/search/profile/ProfileScorer.java
core/src/main/java/org/elasticsearch/search/profile/ProfileShardResult.java
core/src/main/java/org/elasticsearch/search/profile/ProfileWeight.java
core/src/main/java/org/elasticsearch/search/profile/Profilers.java
core/src/main/java/org/elasticsearch/search/profile/QueryProfileBreakdown.java
core/src/main/java/org/elasticsearch/search/profile/QueryProfiler.java
core/src/main/java/org/elasticsearch/search/profile/QueryTimingType.java
core/src/main/java/org/elasticsearch/search/profile/SearchProfileShardResults.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/test/java/org/elasticsearch/search/profile/ProfileTests.java
comments:
Merge pull request #18370 from colings86/refactor/query-profiler

Refactor of query profile classes to make way for other profile implementations

time:
2016-05-16T15:15:50Z
class:
core/src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchResponse.java
core/src/main/java/org/elasticsearch/search/profile/AbstractProfileBreakdown.java
core/src/main/java/org/elasticsearch/search/profile/InternalQueryProfileTree.java
core/src/main/java/org/elasticsearch/search/profile/ProfileResult.java
core/src/main/java/org/elasticsearch/search/profile/ProfileScorer.java
core/src/main/java/org/elasticsearch/search/profile/ProfileShardResult.java
core/src/main/java/org/elasticsearch/search/profile/ProfileWeight.java
core/src/main/java/org/elasticsearch/search/profile/Profilers.java
core/src/main/java/org/elasticsearch/search/profile/QueryProfileBreakdown.java
core/src/main/java/org/elasticsearch/search/profile/QueryProfiler.java
core/src/main/java/org/elasticsearch/search/profile/QueryTimingType.java
core/src/main/java/org/elasticsearch/search/profile/SearchProfileShardResults.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/test/java/org/elasticsearch/search/profile/ProfileTests.java
comments:
Refactor of query profile classes to make way for other profile implementations

time:
2016-05-16T14:37:27Z
class:
comments:
Fix response format of /customer/external/1?pretty

The response format is displaying elements "found" and "source" in the
same lines and they should appear on their own separate lines.

Closes #18374

time:
2016-05-16T13:58:50Z
class:
modules/lang-painless/src/test/java/org/elasticsearch/painless/Debugger.java
comments:
Merge pull request #18371 from uschindler/painless_debuggerCleanup

painless: Small cleanup of Debugger class to use StringWriter

time:
2016-05-16T13:56:29Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
comments:
expand whitelist for basic types

time:
2016-05-16T13:52:14Z
class:
modules/lang-painless/src/test/java/org/elasticsearch/painless/Debugger.java
comments:
painless: Small cleanup of Debugger class to use StringWriter

time:
2016-05-16T12:19:29Z
class:
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkByScrollRequest.java
comments:
Switch default batch size for reindex to 1000

time:
2016-05-16T08:36:08Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java
comments:
Adds the ability to dynamically create fields with dots in the field name

Adds a methods to find (and dynamically create) the mappers for the parents of a field with dots in the field name

time:
2016-05-16T08:07:22Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java
comments:
more tests following review

time:
2016-05-16T08:07:22Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
comments:
small fix following rebase on master

time:
2016-05-16T08:07:22Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
comments:
review comments

time:
2016-05-16T08:07:22Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java
comments:
Adds a methods to find (and dynamically create) the mappers for the parents of a field with dots in the field name

time:
2016-05-16T02:59:28Z
class:
core/src/main/java/org/elasticsearch/script/AbstractDoubleSearchScript.java
core/src/main/java/org/elasticsearch/script/AbstractFloatSearchScript.java
core/src/main/java/org/elasticsearch/script/AbstractLongSearchScript.java
core/src/main/java/org/elasticsearch/script/AbstractSearchScript.java
core/src/main/java/org/elasticsearch/script/LeafSearchScript.java
core/src/main/java/org/elasticsearch/script/NativeScriptFactory.java
core/src/test/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunctionTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
core/src/test/java/org/elasticsearch/search/aggregations/support/ScriptValuesTests.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionSearchScript.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/ScriptImpl.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
comments:
Remove LeafSearchScript.runAsFloat(): Nothing calls it.

time:
2016-05-16T01:29:43Z
class:
comments:
Fix failing index doc tests

This commit fixes some failing doc tests due to sequence numbers and
shard IDs being in the response body but not in the expected response.

time:
2016-05-15T21:00:32Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ADefLink.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ArrayTests.java
comments:
painless: make compound statement like a[1]++ work with def. There was also a bug with the size of LDefArray: fixed

time:
2016-05-15T17:49:25Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
comments:
painless: Also remove boxing for reads and method calls

time:
2016-05-15T17:32:31Z
class:
comments:
Removed docs from mapper-attachment about copy_to

Closes #18361

time:
2016-05-15T16:31:53Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ADefLink.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
comments:
painless: Make field stores not box; use GeneratorAdapter.invokeDynmaic for consistency with other method calls

time:
2016-05-15T14:21:35Z
class:
core/src/main/java/org/elasticsearch/common/util/iterable/Iterables.java
core/src/main/java/org/elasticsearch/indices/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/test/java/org/elasticsearch/common/util/iterable/IterablesTests.java
comments:
Merge pull request #18355 from mikemccand/iterables_flatten

Iterables.flatten should not pre-cache the first iterator

time:
2016-05-15T14:18:29Z
class:
core/src/main/java/org/elasticsearch/indices/IndexingMemoryController.java
comments:
Merge pull request #18357 from mikemccand/imc_bytes_tracking

Fix concurrency bug in IMC that could cause it to check too infrequently

time:
2016-05-15T00:23:59Z
class:
core/src/main/java/org/apache/lucene/document/XInetAddressPoint.java
core/src/main/java/org/apache/lucene/index/XPointValues.java
core/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XFuzzySuggester.java
core/src/main/java/org/apache/lucene/spatial/geopoint/search/XGeoPointDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/Build.java
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/ActionListenerResponseHandler.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/DocWriteResponse.java
core/src/main/java/org/elasticsearch/action/RealtimeRequest.java
core/src/main/java/org/elasticsearch/action/ReplicationResponse.java
core/src/main/java/org/elasticsearch/action/TaskOperationFailure.java
core/src/main/java/org/elasticsearch/action/TransportActionNodeProxy.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanation.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/NodeExplanation.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/LivenessResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/TransportCancelTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/ListTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TaskGroup.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TaskInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TransportListTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/ClusterUpdateSettingsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/SettingsUpdater.java
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsGroup.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexShardStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotShardsStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/DeleteStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/DeleteStoredScriptRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/DeleteStoredScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/DeleteStoredScriptResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/GetStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/GetStoredScriptRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/GetStoredScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/GetStoredScriptResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/PutStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/PutStoredScriptRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/PutStoredScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/PutStoredScriptResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/TransportDeleteStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/TransportGetStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/TransportPutStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/tasks/PendingClusterTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/RenderSearchTemplateRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/TransportRenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/DetailAnalyzeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/SyncedFlushResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/ShardSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/put/UpdateSettingsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoresResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/TransportIndicesShardStoresAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/put/TransportPutIndexTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/ShardUpgradeStatus.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/DeleteResponse.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/explain/ExplainRequest.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStats.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequest.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsResponse.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardResponse.java
core/src/main/java/org/elasticsearch/action/fieldstats/IndexConstraint.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/action/get/GetRequest.java
core/src/main/java/org/elasticsearch/action/get/GetRequestBuilder.java
core/src/main/java/org/elasticsearch/action/get/GetResponse.java
core/src/main/java/org/elasticsearch/action/get/MultiGetRequest.java
core/src/main/java/org/elasticsearch/action/get/MultiGetRequestBuilder.java
core/src/main/java/org/elasticsearch/action/get/MultiGetResponse.java
core/src/main/java/org/elasticsearch/action/get/MultiGetShardRequest.java
core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java
core/src/main/java/org/elasticsearch/action/get/TransportShardMultiGetAction.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/index/IndexResponse.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/delete/DeleteIndexedScriptRequest.java
core/src/main/java/org/elasticsearch/action/indexedscripts/delete/DeleteIndexedScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/indexedscripts/delete/DeleteIndexedScriptResponse.java
core/src/main/java/org/elasticsearch/action/indexedscripts/delete/TransportDeleteIndexedScriptAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/delete/package-info.java
core/src/main/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequest.java
core/src/main/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptResponse.java
core/src/main/java/org/elasticsearch/action/indexedscripts/get/TransportGetIndexedScriptAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/get/package-info.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptRequest.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptResponse.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/TransportPutIndexedScriptAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/package-info.java
core/src/main/java/org/elasticsearch/action/ingest/IngestProxyActionFilter.java
core/src/main/java/org/elasticsearch/action/ingest/PutPipelineTransportAction.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateDocumentBaseResult.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateDocumentResult.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateDocumentVerboseResult.java
core/src/main/java/org/elasticsearch/action/ingest/SimulatePipelineRequest.java
core/src/main/java/org/elasticsearch/action/ingest/SimulatePipelineResponse.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateProcessorResult.java
core/src/main/java/org/elasticsearch/action/ingest/WriteableIngestDocument.java
core/src/main/java/org/elasticsearch/action/main/MainAction.java
core/src/main/java/org/elasticsearch/action/main/MainRequest.java
core/src/main/java/org/elasticsearch/action/main/MainRequestBuilder.java
core/src/main/java/org/elasticsearch/action/main/MainResponse.java
core/src/main/java/org/elasticsearch/action/main/TransportMainAction.java
core/src/main/java/org/elasticsearch/action/percolate/MultiPercolateResponse.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateResponse.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java
core/src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
core/src/main/java/org/elasticsearch/action/search/AbstractSearchAsyncAction.java
core/src/main/java/org/elasticsearch/action/search/ClearScrollResponse.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchResponse.java
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/search/SearchResponse.java
core/src/main/java/org/elasticsearch/action/search/TransportClearScrollAction.java
core/src/main/java/org/elasticsearch/action/search/TransportSearchAction.java
core/src/main/java/org/elasticsearch/action/search/TransportSearchHelper.java
core/src/main/java/org/elasticsearch/action/support/HandledTransportAction.java
core/src/main/java/org/elasticsearch/action/support/ThreadedActionListener.java
core/src/main/java/org/elasticsearch/action/support/ToXContentToBytes.java
core/src/main/java/org/elasticsearch/action/support/broadcast/BroadcastShardRequest.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/action/support/master/MasterNodeRequest.java
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeAction.java
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeReadAction.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodeRequest.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodeResponse.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodesResponse.java
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationOperation.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationAction.java
core/src/main/java/org/elasticsearch/action/support/tasks/BaseTasksRequest.java
core/src/main/java/org/elasticsearch/action/support/tasks/TasksRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/tasks/TransportTasksAction.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsResponse.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsResponse.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportMultiTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/update/UpdateHelper.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequest.java
core/src/main/java/org/elasticsearch/action/update/UpdateResponse.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCheck.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapSettings.java
core/src/main/java/org/elasticsearch/bootstrap/JVMCheck.java
core/src/main/java/org/elasticsearch/bootstrap/JavaVersion.java
core/src/main/java/org/elasticsearch/bootstrap/Natives.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/cli/Command.java
core/src/main/java/org/elasticsearch/client/Client.java
core/src/main/java/org/elasticsearch/client/ClusterAdminClient.java
core/src/main/java/org/elasticsearch/client/ParentTaskAssigningClient.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/AbstractDiffable.java
core/src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/Diffable.java
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/MasterNodeChangePredicate.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
core/src/main/java/org/elasticsearch/cluster/action/index/NodeMappingRefreshAction.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterHealthStatus.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexGraveyard.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
core/src/main/java/org/elasticsearch/cluster/metadata/RepositoriesMetaData.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodeFilters.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodeService.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/AllocationId.java
core/src/main/java/org/elasticsearch/cluster/routing/IllegalShardRoutingStateException.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTableValidation.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationExplanation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RerouteExplanation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocator.java
comments:
Merge branch 'master' into feature/seq_no

* master: (904 commits)
  Removes unused methods in the o/e/common/Strings class.
  Add note regarding thread stack size on Windows
  painless: restore accidentally removed test
  Documented fuzzy_transpositions in match query
  Add not-null precondition check in BulkRequest
  Build: Make run task you full zip distribution
  Build: More pom generation improvements
  Add test for wrong array index
  Take return type from "after" field.
  painless: build descriptor of array and field load/store in code; fix array index to adapt type not DEF
  Build: Add developer info to generated pom files
  painless: improve exception stacktraces
  painless: Rename the dynamic call site factory to DefBootstrap and make the inner class very short (PIC = Polymorphic Inline Cache)
  Remove dead code.
  Avoid race while retiring executors
  Allow only a single extension for a scripting engine
  Adding REST tests to ensure key_as_string behavior stays consistent
  [test] Set logging to 11 on reindex test
  [TEST] increase logger level until we know what is going on
  Don't allow `fuzziness` for `multi_match` types cross_fields, phrase and phrase_prefix
  ...

time:
2016-05-14T23:06:29Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerCaster.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterUtility.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
comments:
painless: Transform more try-catch-ClassCastException to isAssignableFrom

time:
2016-05-14T22:50:10Z
class:
core/src/main/java/org/elasticsearch/indices/IndexingMemoryController.java
comments:
remove whitespace

time:
2016-05-14T22:47:26Z
class:
core/src/main/java/org/elasticsearch/indices/IndexingMemoryController.java
comments:
Fix concurrency bug in IMC that could lead to negative total indexing bytes

time:
2016-05-14T21:10:17Z
class:
core/src/main/java/org/elasticsearch/common/util/iterable/Iterables.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/test/java/org/elasticsearch/common/util/iterable/IterablesTests.java
comments:
leave Iterables.flatten pre-caching the outer Iterable

time:
2016-05-14T21:00:19Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
comments:
Merge pull request #18352 from uschindler/painless_cleanups

painless: Some cleanups

time:
2016-05-14T17:46:34Z
class:
core/src/main/java/org/elasticsearch/common/util/iterable/Iterables.java
comments:
improve javadocs

time:
2016-05-14T17:39:48Z
class:
core/src/main/java/org/elasticsearch/common/util/iterable/Iterables.java
core/src/main/java/org/elasticsearch/indices/IndexingMemoryController.java
core/src/test/java/org/elasticsearch/common/util/iterable/IterablesTests.java
comments:
Iterables.flatten should not pre-cache the first iterator

time:
2016-05-14T15:23:29Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
comments:
painless: Some cleanups

time:
2016-05-14T14:04:18Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STrap.java
comments:
painless: Use isAssignableFrom instead of relying on ClassCastException

time:
2016-05-14T12:08:30Z
class:
core/src/main/java/org/elasticsearch/common/Strings.java
comments:
Removes unused methods in the o/e/common/Strings class.

Closes #18346

time:
2016-05-14T11:52:27Z
class:
comments:
Increase default heap size to 2g

Increase default heap size to 2g

time:
2016-05-14T11:29:55Z
class:
comments:
Add note regarding thread stack size on Windows

This commit adds a note to the Windows service docs regarding the threadstack size setting for the Windows service installer. As the ApacheCommons procrun daemon requires that this setting be explicitly set, weneed a value to be set when the service is installed. The right placefor this setting is the jvm.options file. We do not want to ship with ahard-coded value here because we do not want to override the defaultsetting on other platforms, and the right default depends on whether ornot the end-user is on a 32-bit versus a 64-bit Windows system.Relates #18324

time:
2016-05-14T10:11:04Z
class:
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
comments:
Merge pull request #18349 from uschindler/painless_fixtest

painless: restore accidentally removed test

time:
2016-05-14T10:00:30Z
class:
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
comments:
painless: restore accidentally removed test

time:
2016-05-14T09:25:02Z
class:
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
comments:
Merge pull request #18347 from danielmitterdorfer/bulk-req-precondition-check

Add not-null precondition check in BulkRequest

time:
2016-05-14T09:20:04Z
class:
comments:
Documented fuzzy_transpositions in match query

Relates to #18320

time:
2016-05-14T07:59:53Z
class:
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
comments:
Add not-null precondition check in BulkRequest

With this commit we add a precondition check to BulkRequest so
we fail early if users pass `null` for the request object.

For a more detailed discussion, see #12038.
This supersedes #12038.

Relates #12038.

time:
2016-05-14T00:00:41Z
class:
comments:
Merge pull request #18344 from rjernst/run_distro

Build: Make run task you full zip distribution

time:
2016-05-14T00:00:10Z
class:
comments:
Merge pull request #18343 from rjernst/pom_desc

Build: More pom generation improvements

time:
2016-05-13T23:36:26Z
class:
comments:
Build: Make run task you full zip distribution

This change makes `gradle run` use the full zip distribution. Arguably
we could make it do the same when run inside plugins, but I started out
with this simple change. I am open to moving it into the RunTask itself
so that plugins will do this as well.

time:
2016-05-13T23:32:35Z
class:
comments:
Build: More pom generation improvements

This adds a non empty description to all generated poms, as well as
fixing distributions so they actually have a generated pom.

time:
2016-05-13T21:25:40Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
comments:
Merge pull request #18338 from uschindler/painless_arrayindextype

painless: build descriptor of array and field load/store in code

time:
2016-05-13T21:22:41Z
class:
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
comments:
Add test for wrong array index

time:
2016-05-13T21:17:22Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
comments:
Take return type from "after" field.

time:
2016-05-13T21:05:40Z
class:
comments:
Merge pull request #18339 from rjernst/pom_dev_info

Build: Add developer info to generated pom files

time:
2016-05-13T21:04:04Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
comments:
painless: build descriptor of array and field load/store in code; fix array index to adapt type not DEF

time:
2016-05-13T20:57:08Z
class:
comments:
Build: Add developer info to generated pom files

time:
2016-05-13T19:40:45Z
class:
core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/test/java/org/elasticsearch/script/FileScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/script/ScriptSettingsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
modules/lang-expression/src/test/java/org/elasticsearch/script/expression/ExpressionTests.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
modules/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovySecurityTests.java
modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MustacheScriptEngineService.java
modules/lang-mustache/src/test/java/org/elasticsearch/script/mustache/MustacheScriptEngineTests.java
modules/lang-mustache/src/test/java/org/elasticsearch/script/mustache/MustacheTests.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Compiler.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngineService.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Writer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ANode.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBreak.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SContinue.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclaration.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDo.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIfElse.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SReturn.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SThrow.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STry.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SWhile.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/Debugger.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/NeedsScoreTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ScriptEngineTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ScriptTestCase.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineTests.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptMultiThreadedTests.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptSecurityTests.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptEngineTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptMultiThreadedTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonSecurityTests.java
test/framework/src/main/java/org/elasticsearch/script/MockScriptEngine.java
comments:
painless: improve exception stacktraces

closes #18319

time:
2016-05-13T18:05:14Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefBootstrapTests.java
comments:
Merge pull request #18335 from uschindler/painless_bootsrap_renames

painless: Rename the dynamic call site factory to DefBootstrap

time:
2016-05-13T17:58:05Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DefBootstrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefBootstrapTests.java
comments:
painless: Rename the dynamic call site factory to DefBootstrap and make the inner class very short (PIC = Polymorphic Inline Cache)

time:
2016-05-13T16:28:41Z
class:
core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/script/ScriptSettingsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MustacheScriptEngineService.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngineService.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-python/src/main/java/org/elasticsearch/plugin/python/PythonPlugin.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
test/framework/src/main/java/org/elasticsearch/script/MockScriptEngine.java
comments:
Merge remote-tracking branch 'dakrone/there-can-be-only-one2'

time:
2016-05-13T16:27:12Z
class:
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IpRangeIT.java
comments:
Remove dead code.

time:
2016-05-13T16:26:18Z
class:
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
comments:
Avoid race while retiring executors

Today, a race condition exists when retiring executors. Namely, if anexecutor is retired and then the thread pool is terminated, the retiringof the executor and the termination of the thread pool can race toremove the retired executor from the queue of retired executors. Moreprecisely, when the executor is initially retired, it is placed on aqueue of retired executors, and then removed when it is successfullyshutdown. When the pool is terminated, it will also drain the queue ofretired executors. This leads to a time-of-check-time-of-use race wherethe draining can see a retired executor on the queue but that retiredexecutor can be removed upon successful shutdown of that executor. Thisleads to the draining attempting to remove an element from the queuewhen there is none. This commit addresses this race condition by insteadsafely polling the queue.Relates #18333

time:
2016-05-13T15:54:31Z
class:
core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/script/ScriptSettingsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MustacheScriptEngineService.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngineService.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-python/src/main/java/org/elasticsearch/plugin/python/PythonPlugin.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
test/framework/src/main/java/org/elasticsearch/script/MockScriptEngine.java
comments:
Allow only a single extension for a scripting engine

Previously multiple extensions could be provided, however, this can lead
to confusion with on-disk scripts (ie, "foo.js" and "foo.javascript")
having different content. Only a single extension is now supported.

The only language currently supporting multiple extensions was the
Javascript engine ("js" and "javascript"). It now only supports the
`.js` extension.

Relates to #10598

time:
2016-05-13T15:50:39Z
class:
core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptEngineRegistry.java
core/src/main/java/org/elasticsearch/script/ScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptMode.java
core/src/main/java/org/elasticsearch/script/ScriptModes.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/script/ScriptSettings.java
core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/script/FileScriptTests.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptContextTests.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/script/ScriptSettingsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregatorParsingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/BaseAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/BasePipelineAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/AbstractSortTestCase.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionPlugin.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyPlugin.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MustachePlugin.java
modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MustacheScriptEngineService.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/TemplateQueryParserTests.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessPlugin.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngineService.java
plugins/lang-javascript/src/main/java/org/elasticsearch/plugin/javascript/JavaScriptPlugin.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-python/src/main/java/org/elasticsearch/plugin/python/PythonPlugin.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
qa/smoke-test-ingest-with-all-dependencies/src/test/java/org/elasticsearch/ingest/AbstractMustacheTestCase.java
test/framework/src/main/java/org/elasticsearch/script/MockScriptEngine.java
comments:
Merge remote-tracking branch 'dakrone/remove-script-sandbox'

time:
2016-05-13T15:48:49Z
class:
comments:
Adding REST tests to ensure key_as_string behavior stays consistent

time:
2016-05-13T15:48:01Z
class:
modules/reindex/src/test/java/org/elasticsearch/index/reindex/RethrottleTests.java
comments:
[test] Set logging to 11 on reindex test

It has failures we can't explain and we need logs to be able to do
anything useful with the failures:
https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+g1gc/359/consoleFull

time:
2016-05-13T15:37:17Z
class:
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
comments:
[TEST] increase logger level until we know what is going on

We have an issue for it too: https://github.com/elastic/elasticsearch/issues/18121

time:
2016-05-13T15:32:14Z
class:
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/MultiMatchQueryBuilderTests.java
comments:
Don't allow `fuzziness` for `multi_match` types cross_fields, phrase and phrase_prefix

Currently `fuzziness` is not supported for the `cross_fields` type
of the `multi_match` query since it complicates the logic that
blends the term queries that cross_fields uses internally. At the
moment using this combination is silently ignored, which can lead to
confusions. Instead we should throw an exception in this case.
The same is true for phrase and phrase_prefix type.

Closes #7764

time:
2016-05-13T15:27:12Z
class:
core/src/test/java/org/elasticsearch/threadpool/FixedThreadPoolTests.java
comments:
Add test for fixed executor rejected count

This commit adds a test that a fixed executors rejected count behaves asexpected. In particular, we test that if we consume the executor, thenstuff the executor queue, further tasks will be rejected and therejected stats are updated appropriately. This test also asserts that ifwe resize the queue the rejected count is reset to zero.Relates #18301

time:
2016-05-13T15:24:31Z
class:
core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptEngineRegistry.java
core/src/main/java/org/elasticsearch/script/ScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/script/ScriptSettings.java
core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/script/FileScriptTests.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptContextTests.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/script/ScriptSettingsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregatorParsingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/BaseAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/BasePipelineAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/AbstractSortTestCase.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionPlugin.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyPlugin.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MustachePlugin.java
modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MustacheScriptEngineService.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/TemplateQueryParserTests.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessPlugin.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngineService.java
plugins/lang-javascript/src/main/java/org/elasticsearch/plugin/javascript/JavaScriptPlugin.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-python/src/main/java/org/elasticsearch/plugin/python/PythonPlugin.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
qa/smoke-test-ingest-with-all-dependencies/src/test/java/org/elasticsearch/ingest/AbstractMustacheTestCase.java
test/framework/src/main/java/org/elasticsearch/script/MockScriptEngine.java
test/framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
test/framework/src/main/java/org/elasticsearch/test/ESSingleNodeTestCase.java
comments:
Remove support for mulitple languages per scripting engine

time:
2016-05-13T15:24:31Z
class:
core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptEngineRegistry.java
core/src/main/java/org/elasticsearch/script/ScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptMode.java
core/src/main/java/org/elasticsearch/script/ScriptModes.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/script/ScriptSettings.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/script/ScriptContextTests.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/script/ScriptSettingsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/BasePipelineAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionPlugin.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
modules/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MustachePlugin.java
modules/lang-mustache/src/main/java/org/elasticsearch/script/mustache/MustacheScriptEngineService.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/TemplateQueryParserTests.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessPlugin.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngineService.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
test/framework/src/main/java/org/elasticsearch/script/MockScriptEngine.java
test/framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
test/framework/src/main/java/org/elasticsearch/test/ESSingleNodeTestCase.java
comments:
Remove vestiges of script engine sandboxing

This removes all the mentions of the sandbox from the script engine
services and permissions model. This means that the following settings
are no longer supported:

```yaml
script.inline: sandbox
script.stored: sandbox
```

Instead, only a `true` or `false` value can be specified.

Since this would otherwise break the default-allow parameter for
languages like expressions, painless, and mustache, all script engines
have been updated to have individual settings, for instance:

```yaml
script.engine.groovy.inline: true
```

Would enable all inline scripts for groovy. (they can still be
overridden on a per-operation basis).

Expressions, Painless, and Mustache all default to `true` for inline,
file, and stored scripts to preserve the old scripting behavior.

Resolves #17114

time:
2016-05-13T15:22:01Z
class:
core/src/main/java/org/elasticsearch/index/mapper/ip/LegacyIpFieldMapper.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilders.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/BinaryRangeAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/BinaryRangeAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/InternalBinaryRange.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ip/IpRangeAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ip/IpRangeParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IPv4RangeAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/InternalIPv4Range.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IpRangeParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/Ipv4RangeAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValueType.java
core/src/test/java/org/elasticsearch/search/aggregations/BaseAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IPv4RangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IpRangeIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IpRangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/range/BinaryRangeAggregatorTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IPv4RangeTests.java
comments:
Add back support for `ip` range aggregations. #17859

This commit adds support for range aggregations on `ip` fields. However it will
only work on 5.x indices.

Closes #17700

time:
2016-05-13T15:19:27Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/DynamicCallSite.java
comments:
Merge pull request #18323 from uschindler/dynamiccallsite_cleanup

painless: cleanup of DynamicCallSite

time:
2016-05-13T14:27:40Z
class:
comments:
Update CONTRIBUTING.md

Fix typoRelates #18330

time:
2016-05-13T13:50:55Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/DynamicCallSite.java
comments:
painless: cleanup of DynamicCallSite to have all implementation encapsulated in inner class, outer class only has bootstrap method

time:
2016-05-13T13:08:15Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
comments:
Fixed grammar in index-too-old exception (#18327)

time:
2016-05-13T12:59:36Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/GlobalOrdinalsSignificantTermsAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/InternalSignificantTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantLongTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantStringTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantStringTermsAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/UnmappedSignificantTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/StringTerms.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/significant/SignificanceHeuristicTests.java
comments:
Fix xcontent rendering of ip terms aggs. #18003

Currently terms on an ip address try to put their binary representation in the
json response. With this commit, they would return a formatted ip address:

```
      "buckets": [
        {
          "key": "192.168.1.7",
          "doc_count": 1
        }
      ]
```

time:
2016-05-13T12:21:24Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
core/src/main/java/org/elasticsearch/action/support/HandledTransportAction.java
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeAction.java
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeReadAction.java
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
core/src/main/java/org/elasticsearch/discovery/zen/fd/NodesFaultDetection.java
core/src/main/java/org/elasticsearch/transport/RequestHandlerRegistry.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/main/java/org/elasticsearch/transport/local/LocalTransport.java
core/src/main/java/org/elasticsearch/transport/netty/MessageChannelHandler.java
core/src/test/java/org/elasticsearch/discovery/ZenFaultDetectionTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndicesRequestTests.java
comments:
Exclude specific transport actions from request size limit check

We add support to explicitly exclude specific transport actions
from the request size limit check.

We also exclude the following request types currently:

*MasterPingRequest
* PingRequest

time:
2016-05-13T12:08:17Z
class:
core/src/test/java/org/elasticsearch/indices/memory/breaker/CircuitBreakerServiceIT.java
comments:
[TEST] mute test for now, we have an issue for it

https://github.com/elastic/elasticsearch/issues/18325

time:
2016-05-13T11:07:56Z
class:
comments:
Restore unequal min and max default heap

After considerable discussion, we have elected to set the default min
heap to 256m and the default max heap to 2g. This is to balance the
desire for a good out-of-the-box performance experience (default max
heap of 2g) with a good out-of-the-box experience running on machines
with limited resources or running multiple instances on a single modern
developer laptop (default min heap of 1g).

time:
2016-05-13T10:09:30Z
class:
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationIT.java
comments:
[TEST] muste test, we have an issue for it

https://github.com/elastic/elasticsearch/issues/18293

time:
2016-05-13T03:50:59Z
class:
comments:
Merge pull request #18313 from eskibars/docs_test

Add CONSOLE tests to aliases documentation

time:
2016-05-13T01:44:08Z
class:
comments:
Add TESTRESPONSE code

time:
2016-05-13T01:04:31Z
class:
comments:
Increase default heap size to 2g

Benchmarking with the geonames data set shows that Elasticsearch truly
needs 2g of heap or the heap is a bottleneck for indexing rates. If our
goal is to satisfy the out-of-the-box-experience, we should prioritize
the out-of-the-box performance experience. Thus, the default heap should
be 2g until smaller heaps are not the bottleneck for indexing small data
sets.

time:
2016-05-12T22:13:04Z
class:
comments:
Switch init.d scripts to use bash

This commit modifies the init.d scripts to use bash now that bash is arequired dependency.Relates #18308

time:
2016-05-12T21:53:34Z
class:
comments:
[docs] Add wait_for_status=yellow

Another unstable snippet....

https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+multijob-os-compatibility/os=sles/402/console

time:
2016-05-12T20:42:27Z
class:
comments:
Removing the superfluous 's'

Pretty sure we're not making a brand new `/var/logs` directory when everything else goes into `/var/log`Relates #18305

time:
2016-05-12T18:32:30Z
class:
core/src/main/java/org/elasticsearch/indices/IndexAlreadyExistsException.java
comments:
Add index name and uuid in IndexAlreadyExistsException default message

Relates #18274

time:
2016-05-12T18:25:13Z
class:
comments:
Adds CONSOLE tests to aliases documentation

time:
2016-05-12T17:41:18Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ALink.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ANode.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AStatement.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBool.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBoolean.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConditional.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConstant.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EDecimal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EExplicit.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENull.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENumeric.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LArrayLength.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewObj.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LString.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LVariable.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBreak.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SContinue.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclaration.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDo.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIfElse.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SReturn.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SThrow.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STry.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SWhile.java
comments:
Merge pull request #18298 from jdconrad/line

Make Line Number Available in Painless

time:
2016-05-12T17:33:03Z
class:
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCheck.java
core/src/main/java/org/elasticsearch/index/analysis/FingerprintAnalyzer.java
core/src/test/java/org/elasticsearch/index/analysis/FingerprintAnalyzerTests.java
comments:
Merge branch 'master' into line

time:
2016-05-12T17:32:06Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ALink.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ANode.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AStatement.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBool.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBoolean.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConditional.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConstant.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EDecimal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EExplicit.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENull.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENumeric.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LArrayLength.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewObj.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LString.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LVariable.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBreak.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SContinue.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclaration.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDo.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIfElse.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SReturn.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SThrow.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STry.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SWhile.java
comments:
Made line number available in painless nodes for debugging.

time:
2016-05-12T16:48:58Z
class:
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCheck.java
comments:
Remove period in min master node check log message

As most of our log messages are not sentences and do not end with
periods, this commit removes a period from the end of the min master
node bootstrap check log message.

time:
2016-05-12T16:20:06Z
class:
comments:
Add wait_for_health=yellow to reindex snippets

This should help the tests pass more consistently. Should.

This also removes from `?pretty` from the docs. It isn't a thing
with `// CONSOLE`.

Relates to
https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+multijob-os-compatibility/os=oraclelinux/399/console

time:
2016-05-12T13:34:15Z
class:
core/src/main/java/org/elasticsearch/index/analysis/FingerprintAnalyzer.java
core/src/test/java/org/elasticsearch/index/analysis/FingerprintAnalyzerTests.java
comments:
Move AsciiFolding earlier in FingerprintAnalyzer filter chain

Rearranges the FingerprintAnalyzer so that AsciiFolding comes earlier in the chain (after lowercasing, before stop removal, for maximum deduping power)Closes #18266

time:
2016-05-12T13:04:24Z
class:
comments:
Add tests that packages depend on bash

This commit adds bats tests that the RPM and Debian packages depend onbash.Relates #18292

time:
2016-05-12T11:23:06Z
class:
comments:
Fix build failure

time:
2016-05-12T10:58:22Z
class:
comments:
Something messed with auto-indent. Fixed now.

time:
2016-05-12T10:30:33Z
class:
comments:
Fix indent

time:
2016-05-12T10:29:18Z
class:
comments:
Fix test failures.

time:
2016-05-12T08:03:52Z
class:
comments:
Invoke scripts from Gradle with the shell interpreter they choose

time:
2016-05-12T07:46:48Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Analyzer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerCaster.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerExternal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerPromoter.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerStatement.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerUtility.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Compiler.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/CompilerSettings.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DynamicCallSite.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Executable.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Metadata.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/NeedsScore.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Operation.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessError.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessPlugin.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngineService.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/ScriptImpl.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Utility.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Variables.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Writer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterCaster.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterExternal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterStatement.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterUtility.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/ErrorHandlingLexer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessLexer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserBaseVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/PainlessParserVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/ParserErrorStrategy.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/antlr/Walker.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ALink.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ANode.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/AStatement.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBinary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBool.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EBoolean.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ECast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EChain.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EComp.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConditional.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EConstant.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EDecimal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EExplicit.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENull.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/ENumeric.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/EUnary.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LArrayLength.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LBrace.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LCast.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefCall.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LDefField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LField.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LListShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LMapShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewArray.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LNewObj.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LShortcut.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LString.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/LVariable.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SBreak.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SContinue.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclBlock.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDeclaration.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SDo.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SFor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SIfElse.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SReturn.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SSource.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SThrow.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STrap.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/STry.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SWhile.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/node/package-info.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BinaryOperatorTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/Debugger.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DefTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ReservedWordTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/StringTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
comments:
Decouple the ANTLR AST from Painless.

Closes #18286

time:
2016-05-12T07:05:59Z
class:
comments:
Use proper encoding to write docs test snippets
should we add `dest.newPrintWriter()` to forbidden APIs? I think it should even be forbidden upstream?

This is code in buildSrc, which is not checked by forbiddenApis at the moment. I'll have to investigate how much effort it is to enable forbiddenApis there.

oh right nevermind then

I think https://github.com/elastic/elasticsearch/pull/18196 makes it possible. I think this is a groovy API which might make it harder but it should be possible.

It's tricky because forbidden APIs looks at compiled byte code. But since Groovy is dynamic, the compiled byte code does not look like a regular method invocation. Instead, it prepares the call site:

```
     493: ldc_w         #316                // int 68
     496: ldc_w         #452                // String newPrintWriter
```

and at the call site:

```
     291: aload_2
     292: ldc_w         #316                // int 68
     295: aaload
     296: aload         4
     298: invokeinterface #196,  2          // InterfaceMethod org/codehaus/groovy/runtime/callsite/CallSite.call:(Ljava/lang/Object;)Ljava/lang/Object;
     303: astore        7
     305: aload         7
     307: ldc_w         #277                // class java/io/PrintWriter
     310: invokestatic  #202                // Method org/codehaus/groovy/runtime/ScriptBytecodeAdapter.castToType:(Ljava/lang/Object;Ljava/lang/Class;)Ljava/lang/Object;
     313: checkcast     #277                // class java/io/PrintWriter
```


time:
2016-05-12T05:16:32Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Compiler.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/Debugger.java
comments:
Merge pull request #18288 from rmuir/painless_debug

painless: add debugging tool to tests

time:
2016-05-12T04:08:28Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
comments:
Merge pull request #18282 from jdconrad/longs

Long priority over Float

time:
2016-05-12T03:56:19Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Compiler.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/Debugger.java
comments:
add debugger

time:
2016-05-12T01:45:07Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Analyzer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Executable.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Metadata.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Writer.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicExpressionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ScriptEngineTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
comments:
Merge pull request #18287 from rmuir/input_goes_params

painless: remove input, support params instead

time:
2016-05-12T01:32:10Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Analyzer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Executable.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Metadata.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Writer.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicExpressionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ScriptEngineTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
comments:
painless: remove input, support params instead

time:
2016-05-12T00:37:35Z
class:
core/src/main/java/org/elasticsearch/script/ExecutableScript.java
core/src/main/java/org/elasticsearch/script/LeafSearchScript.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionSearchScript.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Analyzer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerExternal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Executable.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Metadata.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/ScriptImpl.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ReservedWordTests.java
comments:
Merge pull request #18284 from rmuir/painless_value_aggregations

_value support in painess?

time:
2016-05-12T00:05:09Z
class:
comments:
Fix Debian package bash requires clause

This commit fixes the Debian package requires clause for bash. For the
RPM it is okay to specify the binary, but for the Debian package the
package name must be specified.

time:
2016-05-11T20:07:08Z
class:
comments:
add a rest test for this that seems to work, fix the documentation. thanks @s1monw

time:
2016-05-11T19:39:00Z
class:
core/src/main/java/org/elasticsearch/script/ExecutableScript.java
core/src/main/java/org/elasticsearch/script/LeafSearchScript.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionSearchScript.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Analyzer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerExternal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Executable.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Metadata.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/ScriptImpl.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ReservedWordTests.java
comments:
this makes aggregations per-document _value fast (bypass hash put, hash get, etc) for painless.

but i have no clue how to test it, it seems this feature never worked via REST?

Should we drop the feature instead?

time:
2016-05-11T19:30:15Z
class:
core/src/main/java/org/elasticsearch/http/netty/cors/CorsHandler.java
core/src/main/java/org/elasticsearch/rest/support/RestUtils.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpChannelTests.java
comments:
CORS handling triggered whether User-Agent is a browser or not

This commit ensures that if CORS is enabled, then Origin headers are
checked regardless of whether the request came from a browser or not.
In the past, we only proceeded with CORS checks if the User-Agent was a
browser.

time:
2016-05-11T19:24:36Z
class:
core/src/main/java/org/elasticsearch/http/netty/cors/CorsHandler.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpChannelTests.java
comments:
When CORS is enabled, permit requests from the same origin as the
request host, as the request is not a cross origin.

Relates #18256

time:
2016-05-11T17:22:40Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
comments:
Removed extra branches.  Only check for long first where we already know the
second type.

time:
2016-05-11T16:56:19Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/IndexGraveyard.java
core/src/main/java/org/elasticsearch/gateway/DanglingIndicesState.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/test/java/org/elasticsearch/cluster/metadata/IndexGraveyardTests.java
core/src/test/java/org/elasticsearch/gateway/DanglingIndicesStateTests.java
comments:
Dangling indices are not imported if a tombstone for the same index
(same name and UUID) exists in the cluster state.  This resolves a
situation where if an index data folder was copied into a node's data
directory while the node is running and that index had a tombstone in
the cluster state, the index would still get imported.

Closes #18250
Closes #18249

time:
2016-05-11T16:38:07Z
class:
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregator.java
comments:
Remove dead code.

time:
2016-05-11T16:32:30Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
comments:
Give long priority over float in Def math calcs.  Promotion of types
still works correclty.

time:
2016-05-11T16:10:48Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Analyzer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Writer.java
comments:
Merge pull request #18277 from rmuir/painless_score_as_double

painless: _score as double, not float

time:
2016-05-11T15:19:18Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Analyzer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Writer.java
comments:
painless: _score as double, not float

time:
2016-05-11T14:52:58Z
class:
core/src/main/java/org/elasticsearch/common/lucene/index/FilterableTermsEnum.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/GlobalOrdinalsSignificantTermsAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantLongTermsAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantStringTermsAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorFactory.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TermsShardMinDocCountIT.java
comments:
Make significant terms work on fields that are indexed with points. #18031

It will keep using the caching terms enum for keyword/text fields and falls back
to IndexSearcher.count for fields that do not use the inverted index for
searching (such as numbers and ip addresses). Note that this probably means that
significant terms aggregations on these fields will be less efficient than they
used to be. It should be ok under a sampler aggregation though.

This moves tests back to the state they were in before numbers started using
points, and also adds a new test that significant terms aggs fail if a field is
not indexed.

In the long term, we might want to follow the approach that Robert initially
proposed that consists in collecting all documents from the background filter in
order to compute frequencies using doc values. This would also mean that
significant terms aggregations do not require fields to be indexed anymore.

time:
2016-05-11T14:48:08Z
class:
comments:
Equal default min and max heap settings

Today we encourage users to set their minimum and maximum heap settingsequal to each other to prevent the heap from resizing. Yet, the defaultheap settings do not start Elasticsearch in this fashion. This commitaddresses this discrepancy by setting the default min heap to '512m' andthe default max heap to the default min heap.Relates #16334

time:
2016-05-11T14:37:23Z
class:
core/src/main/java/org/elasticsearch/indices/IndexingMemoryController.java
comments:
Log setting key not setting object in IMC

This commit modifies two logging statements in theIndexingMemoryController to log the key for the settingindices.memory.index_buffer_size instead of the object.Relates #18191

time:
2016-05-11T12:37:19Z
class:
comments:
Convert rest of query-dsl docs to be run in tests

time:
2016-05-11T12:17:56Z
class:
comments:
First pass at improving analyzer docs (#18269)

* Docs: First pass at improving analyzer docsI've rewritten the intro to analyzers plus the docsfor all analyzers to provide working examples.I've also removed:* analyzer aliases (see #18244)* analyzer versions (see #18267)* snowball analyzer (see #8690)Next steps will be tokenizers, token filters, char filters* Fixed two typos

time:
2016-05-11T09:59:41Z
class:
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationIT.java
comments:
Increased logging level for testDelayedAllocationChangeWithSettingTo100ms

time:
2016-05-11T07:54:52Z
class:
modules/reindex/src/test/java/org/elasticsearch/index/reindex/BulkIndexByScrollResponseMatcher.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexBasicTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexCancelTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexFailureTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexParentChildTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexTestCase.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexVersioningTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/UpdateByQueryBasicTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/UpdateByQueryCancelTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/UpdateByQueryWhileModifyingTests.java
comments:
Clean up tests in Reindex module

time:
2016-05-11T06:50:52Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Analyzer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerExternal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Metadata.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Writer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterExternal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterStatement.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ReservedWordTests.java
comments:
Merge pull request #18264 from rmuir/painless_ctx

Add 'ctx' keyword to painless.

time:
2016-05-11T06:31:19Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Analyzer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerExternal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Metadata.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Writer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterExternal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterStatement.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ReservedWordTests.java
comments:
Add 'ctx' keyword to painless.

time:
2016-05-11T06:19:42Z
class:
plugins/discovery-ec2/src/main/java/org/elasticsearch/plugin/discovery/ec2/Ec2DiscoveryPlugin.java
comments:
Merge pull request #18257 from j16r/master

Add TAG_SETTING to list of allowed tags for the ec2 discovery plugin.

time:
2016-05-11T06:18:44Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Analyzer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerExternal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterExternal.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/NeedsScoreTests.java
comments:
Merge pull request #18263 from jdconrad/mapfix

Fix bracket shortcuts

time:
2016-05-11T06:11:13Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Analyzer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerExternal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterExternal.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/NeedsScoreTests.java
comments:
Fixed an issue related to bracket shortcuts.

time:
2016-05-11T04:58:24Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Analyzer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerExternal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Executable.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Metadata.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/ScriptImpl.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/NeedsScoreTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ReservedWordTests.java
comments:
Merge pull request #18262 from rmuir/painless_doc_access

Painless doc access

time:
2016-05-11T04:17:19Z
class:
modules/lang-painless/src/test/java/org/elasticsearch/painless/ReservedWordTests.java
comments:
add reserved word tests for 'doc', too

time:
2016-05-11T03:43:57Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Analyzer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerExternal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Executable.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Metadata.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/ScriptImpl.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/NeedsScoreTests.java
comments:
special access to doc

time:
2016-05-11T02:55:06Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerExternal.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ReservedWordTests.java
comments:
add tests for reserved words. ban stores against _score

time:
2016-05-11T02:29:09Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Analyzer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Executable.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Metadata.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/ScriptImpl.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Writer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
comments:
Merge pull request #18258 from rmuir/painless_faster_score

painless: retrieve _score directly from Scorer

time:
2016-05-11T02:06:37Z
class:
core/src/main/java/org/elasticsearch/plugins/ListPluginsCommand.java
comments:
Sort plugins in list plugins command

This commit modifies the list plugins command to produce deterministicoutput by sorting the plugins by comparing paths.Relates #18260

time:
2016-05-11T01:17:09Z
class:
comments:
Require /bin/bash in packaging

This commit adds a hard requirement to the RPM and Debian packages for/bin/bash to be present, and adds a note regarding this to the migrationdocs.Relates #18259

time:
2016-05-11T00:53:08Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Analyzer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Executable.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Metadata.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/ScriptImpl.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Writer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
comments:
painless: retrieve _score directly from Scorer

time:
2016-05-10T23:21:09Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/DynamicCallSite.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/NeedsScore.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngineService.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Writer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/NeedsScoreTests.java
comments:
Merge pull request #18247 from rmuir/needsScore

painless: implement needsScore() correctly.

time:
2016-05-10T23:17:13Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterExternal.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
comments:
Merge pull request #18234 from rmuir/more_indy_type_data

painless: use better typing for dynamic method calls

time:
2016-05-10T20:19:46Z
class:
plugins/discovery-ec2/src/main/java/org/elasticsearch/plugin/discovery/ec2/Ec2DiscoveryPlugin.java
comments:
Add TAG_SETTING to list of allowed tags for the ec2 discovery plugin.

I am unable to set ec2 discovery tags because this setting was
accidentally omitted from the register settings list in
Ec2DiscoveryPlugin.java. I get this:

java.lang.IllegalArgumentException: unknown setting [discovery.ec2.tag.project]

time:
2016-05-10T19:32:23Z
class:
comments:
Fix handling of default path conf in plugin script

In the plugin script we set the setting default.path.conf to control the
path to the configuration file. But the default directory might not
exist in which case we can run into exceptions. This commit restores a
guard against this directory not existing.

time:
2016-05-10T19:06:51Z
class:
comments:
Switch scripts to use bash

This commit switches the command-line scripts to use bash instead of shso that we can take advantage of features that bash provides likearrays.Relates #18251

time:
2016-05-10T18:22:39Z
class:
plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3Repository.java
comments:
Merge branch 'pr/hide-s3-repositories-credentials'

time:
2016-05-10T17:40:19Z
class:
core/src/test/java/org/elasticsearch/action/support/replication/ClusterStateCreationUtils.java
comments:
[TEST] Ensure creation of valid routing table

An additional sanity check introduced by #17821 makes some tests fail. This check verifies that
only one shard with same shard id is allocated to a node. This commit fixes a bug in
ClusterStateCreationUtils which would construct a cluster state that allocated two shards with same
id to the same node.

time:
2016-05-10T17:11:04Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsGroup.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/ShardSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/ShardUpgradeStatus.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/routing/AllocationId.java
core/src/main/java/org/elasticsearch/cluster/routing/IllegalShardRoutingStateException.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AbstractAllocateAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateEmptyPrimaryAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/flush/ShardsSyncedFlushResult.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportReplicationActionTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/DiskUsageTests.java
core/src/test/java/org/elasticsearch/cluster/ack/AckIT.java
core/src/test/java/org/elasticsearch/cluster/action/shard/ShardFailedClusterStateTaskExecutorTests.java
core/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java
core/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteIT.java
core/src/test/java/org/elasticsearch/cluster/routing/AllocationIdTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RandomShardRoutingMutator.java
core/src/test/java/org/elasticsearch/cluster/routing/ShardRoutingHelper.java
core/src/test/java/org/elasticsearch/cluster/routing/ShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AddIncrementallyTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ClusterRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/DeadNodesAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ExpectedShardSizeAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FilterRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/StartedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ThrottlingAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/IndexingMemoryControllerTests.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerSingleNodeTests.java
test/framework/src/main/java/org/elasticsearch/cluster/routing/TestShardRouting.java
comments:
Make ShardRouting and UnassignedInfo immutable (#17821)

This makes defensive copying of ShardRouting objects obsolete whenever we do a reroute and trashes less objects.

time:
2016-05-10T16:37:14Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicAPITests.java
comments:
Merge pull request #18241 from uschindler/painless_list_length

painless: Add synthetic length property as alias to Lists, so they can be used like arrays

time:
2016-05-10T16:31:02Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/DynamicCallSite.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Writer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/NeedsScoreTests.java
comments:
some cleanups suggested by @uschindler and break some long lines

time:
2016-05-10T15:56:57Z
class:
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
comments:
Log exception when join validation fails

Today when join validation fails, we log a warning but do not log the
exception that led to the join validation failing. This commit modifies
this so that we do log this exception.

time:
2016-05-10T15:34:33Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/NeedsScore.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngineService.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Writer.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/NeedsScoreTests.java
comments:
add test and cleanup

time:
2016-05-10T15:32:21Z
class:
core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringIT.java
comments:
Use uppercase 'L' for long literal

time:
2016-05-10T15:23:50Z
class:
core/src/main/java/org/elasticsearch/plugins/ListPluginsCommand.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestFielddataAction.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/avg/AvgBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/max/MaxBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/min/MinBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/PercentilesBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/StatsBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/ExtendedStatsBucketParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/sum/SumBucketPipelineAggregatorBuilder.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/CircuitBreakerServiceIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/ExtendedStatsBucketTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/PercentilesBucketTests.java
core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringIT.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DynamicCallSite.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterExternal.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ArrayTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicAPITests.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/ListPluginsCommandTests.java
comments:
Merge branch 'master' into needsScore

time:
2016-05-10T15:23:24Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/NeedsScore.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Writer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
comments:
hack

time:
2016-05-10T15:23:17Z
class:
core/src/main/java/org/elasticsearch/plugins/ListPluginsCommand.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/ListPluginsCommandTests.java
comments:
Add plugin information for Verbose mode

Relates #18051

time:
2016-05-10T14:35:48Z
class:
core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringIT.java
comments:
Add test for NullPointerException in SQS when analyzing text produces null query

time:
2016-05-10T14:27:43Z
class:
core/src/main/java/org/elasticsearch/rest/action/cat/RestFielddataAction.java
comments:
Merge branch 'pr/18068'

time:
2016-05-10T14:11:02Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/avg/AvgBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/max/MaxBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/min/MinBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/PercentilesBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/StatsBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/ExtendedStatsBucketParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/sum/SumBucketPipelineAggregatorBuilder.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/ExtendedStatsBucketTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/PercentilesBucketTests.java
comments:
Improving parsing of sigma param for Extended Stats Bucket Aggregatio

Improving parsing of sigma param for Extended Stats Bucket Aggregation

time:
2016-05-10T14:08:58Z
class:
comments:
Further simplifications of plugin script

In 7d1fd17172f5f8cb7ed381de1ff23dfb9f1856a5 the parsing of command-lineproperties in the plugin script was removed. That commit missedadditional parsing of the properties for es.default.path.conf. Thiscommit removes that parsing and also replaces the use of eval with exec.Relates #18239

time:
2016-05-10T13:41:21Z
class:
comments:
Add note about cat field data API changes into migration doc

time:
2016-05-10T13:01:49Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicAPITests.java
comments:
painless: Add synthetic length property as alias to Lists, so they can really be used like arrays

time:
2016-05-10T11:54:54Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/avg/AvgBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/max/MaxBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/min/MinBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/PercentilesBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/StatsBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/ExtendedStatsBucketParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/sum/SumBucketPipelineAggregatorBuilder.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/ExtendedStatsBucketTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/PercentilesBucketTests.java
comments:
Improving parsing of sigma param for Extended Stats Bucket Aggregation  #17499

time:
2016-05-10T10:59:44Z
class:
comments:
Add CONSOLE to span queries.

... and range, and terms...

time:
2016-05-10T10:55:13Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DynamicCallSite.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterExternal.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ArrayTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicAPITests.java
comments:
Merge pull request #18232 from uschindler/array_invoke_dynamic

painless: Array load/store and length with invokedynamic

time:
2016-05-10T10:46:00Z
class:
comments:
Use TESTSETUP instead of TEST[continued]

time:
2016-05-10T10:42:17Z
class:
comments:
CONSOLE is the new AUTOSENSE

time:
2016-05-10T10:41:27Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DynamicCallSite.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterExternal.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/ArrayTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicAPITests.java
comments:
painless: Array load/store and length with invokedynamic

time:
2016-05-10T10:24:49Z
class:
core/src/test/java/org/elasticsearch/indices/memory/breaker/CircuitBreakerServiceIT.java
comments:
Reenable CircuitBreakerServiceIT#testParentChecking()

time:
2016-05-10T10:18:21Z
class:
comments:
Update full-text-queries.asciidoc

Updated the full text query intro to add `match_phrase` and `match_phrase_prefix`

time:
2016-05-10T09:54:48Z
class:
comments:
Add Autosense annotation for query dsl testing

this adds the autosense annotation to a couple of query dsl
docs files and fixes the snippets to work in the tests along
the way.

time:
2016-05-10T09:44:16Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterExternal.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
comments:
painless: use better typing for dynamic method calls

time:
2016-05-10T09:06:54Z
class:
core/src/main/java/org/elasticsearch/index/search/stats/StatsGroupsParseElement.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/SearchPhase.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBinaryParseElement.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationParseElement.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
core/src/main/java/org/elasticsearch/search/dfs/DfsPhase.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/FieldsParseElement.java
core/src/main/java/org/elasticsearch/search/fetch/explain/ExplainFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/explain/ExplainParseElement.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsParseElement.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/script/ScriptFieldsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/script/ScriptFieldsParseElement.java
core/src/main/java/org/elasticsearch/search/fetch/source/FetchSourceParseElement.java
core/src/main/java/org/elasticsearch/search/fetch/source/FetchSourceSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/version/VersionFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/version/VersionParseElement.java
core/src/main/java/org/elasticsearch/search/query/FromParseElement.java
core/src/main/java/org/elasticsearch/search/query/IndicesBoostParseElement.java
core/src/main/java/org/elasticsearch/search/query/MinScoreParseElement.java
core/src/main/java/org/elasticsearch/search/query/PostFilterParseElement.java
core/src/main/java/org/elasticsearch/search/query/QueryParseElement.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/query/SizeParseElement.java
core/src/main/java/org/elasticsearch/search/query/TerminateAfterParseElement.java
core/src/main/java/org/elasticsearch/search/query/TimeoutParseElement.java
core/src/main/java/org/elasticsearch/search/sort/TrackScoresParseElement.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/search/fetch/FieldDataFieldsTests.java
comments:
Removes the now obsolete SearchParseElement implementations

All implementations of SearchParseElement have been removed since they are no longer used now that parsing is done on the coordinating node. The SearchParseElement and FetchSubPhaseParseElement classes are not removed as currently they are needed for plugins that add a custom fetch sub phase. These will be removed in a follow up PR that will allow fetch sub phase plugins to register a parser in a different way.

time:
2016-05-10T07:39:42Z
class:
comments:
Fix minor typo (#18222)

time:
2016-05-10T06:17:59Z
class:
core/src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/test/java/org/elasticsearch/index/mapper/lucene/StoredNumericValuesTests.java
comments:
Remove code duplication in FieldsVisitor. #18218

It currently has twice the same method, once with a MapperService instance and
once with a DocumentMapper. This commits only keeps the former.

time:
2016-05-10T06:17:00Z
class:
core/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
plugins/mapper-attachments/src/main/java/org/elasticsearch/mapper/attachments/AttachmentMapper.java
comments:
Remove FieldMapper.Builder.indexName. #18219

The ability to configure index names that are different from the full name was
removed in 2.0.

time:
2016-05-10T06:16:05Z
class:
core/src/main/java/org/elasticsearch/common/lucene/uid/PerThreadIDAndVersionLookup.java
core/src/main/java/org/elasticsearch/common/lucene/uid/Versions.java
core/src/main/java/org/elasticsearch/index/VersionType.java
core/src/main/java/org/elasticsearch/index/shard/ElasticsearchMergePolicy.java
core/src/test/java/org/elasticsearch/common/lucene/uid/VersionsTests.java
core/src/test/java/org/elasticsearch/index/VersionTypeTests.java
comments:
Remove old backward compatibility layer for version lookups. #18215

The current code tries to handle the case that document versions are either
missing or stored in payloads rather than doc values. Since none of the 2.x
releases allowed this, we can remove this logic.

time:
2016-05-10T06:14:18Z
class:
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/index/mapper/ContentPath.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/ParseContext.java
core/src/main/java/org/elasticsearch/index/mapper/ParsedDocument.java
core/src/main/java/org/elasticsearch/index/mapper/SourceToParse.java
core/src/main/java/org/elasticsearch/index/mapper/Uid.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/PercolateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/index/termvectors/TermVectorsService.java
core/src/test/java/org/elasticsearch/index/IndexingSlowLogTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/id/IdMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/index/IndexTypeMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/parent/ParentMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/routing/RoutingTypeMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
plugins/mapper-size/src/main/java/org/elasticsearch/index/mapper/size/SizeFieldMapper.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/SizeMappingTests.java
comments:
Mapping cleanups. #18180

This removes dead/duplicate code and makes the `_index` field not configurable.
(Configuration used to jus be ignored, now we would throw an exception if any
is provided.)

time:
2016-05-10T01:44:32Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerUtility.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Compiler.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/DynamicCallSite.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessError.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessScriptEngineService.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterConstants.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterExternal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterStatement.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicAPITests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicStatementTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/DynamicCallSiteTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/FieldTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/NoSemiColonTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/WhenThingsGoWrongTests.java
comments:
Switch over dynamic method calls, loads and stores to invokedynamic.
Remove performance hack for accessing a document's fields, its not needed.
Add support for accessing is-getter methods like List.isEmpty() as .empty

Closes #18201

time:
2016-05-10T01:20:37Z
class:
comments:
Add missing comma in JSON data in curl example

Relates #18227

time:
2016-05-09T23:02:54Z
class:
core/src/test/java/org/elasticsearch/transport/NettyTransportServiceHandshakeTests.java
comments:
Increaes timeout on Netty handshake tests

This commit increases the timeout on the Netty handshake tests because
the previous value could cause timeout exceptions on slow machines.

time:
2016-05-09T21:32:29Z
class:
comments:
Fail build when docs contain // AUTOSENSE

It is deprecated and should be replaced with // CONSOLE.

time:
2016-05-09T21:29:52Z
class:
comments:
Docs tests: rename autoSense to console

Since `// AUTOSENSE` has been replaced by `// CONSOLE` we should use
the new name for the variable name.

time:
2016-05-09T21:18:42Z
class:
comments:
Docs tests: allow any number of leading spaces

0 too!

time:
2016-05-09T20:56:02Z
class:
core/src/main/java/org/elasticsearch/action/get/GetResponse.java
core/src/main/java/org/elasticsearch/action/search/SearchResponse.java
comments:
Use Strings.toString() for toString() in SearchResponse and GetResponse (#18102)

time:
2016-05-09T18:07:27Z
class:
test/framework/src/main/java/org/elasticsearch/test/rest/ESRestTestCase.java
test/framework/src/main/java/org/elasticsearch/test/rest/section/ResponseBodyAssertion.java
comments:
Build a plugin for testing docs

This makes it much easier to apply to other projects.

Fixes to doc tests infrastructure:
* Fix comparing lists. Was totally broken.
* Fix order of actual vs expected parameters.
* Allow multiple `// TESTRESPONSE` lines with substitutions to join
into one big list of subtitutions. This makes lets the docs look
tidier.
* Exclude build from snippet scanning
* Allow subclasses of ESRestTestCase access to the admin execution context

time:
2016-05-09T17:25:38Z
class:
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyByteFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDoubleFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyFloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyIntegerFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyLongFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyShortFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/LegacyIpFieldMapper.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsIntegrationIT.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsTests.java
comments:
Merge pull request #18212 from jimferenczi/field_stats_null

Do not return fieldstats information for fields that exist in the mapping but not in the index.

time:
2016-05-09T17:24:23Z
class:
comments:
Merge pull request #18196 from rjernst/build_tools_pom

Build: Add fake project to include buildSrc as normal project

time:
2016-05-09T17:24:03Z
class:
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyByteFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDoubleFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyFloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyIntegerFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyLongFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyShortFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/LegacyIpFieldMapper.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsIntegrationIT.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsTests.java
comments:
Do not return fieldstats information for fields that exist in the mapping
but not in the index.

time:
2016-05-09T17:17:47Z
class:
comments:
Remove IDE settings as they are now pulled in through the virtual
build-tools project

time:
2016-05-09T17:16:15Z
class:
comments:
Merge pull request #18172 from rjernst/vagrant_logging2

Tests: Delay starting progress loggers for vagrant until test is running

time:
2016-05-09T17:06:18Z
class:
comments:
Remove plugin script parsing of system properties

The plugin script parses command-line options looking for Java systemproperties and extracts these arguments to pass to the java command whenstarting the JVM. Since elasticsearch-plugin allows arbitrary userarguments to the JVM via ES_JAVA_OPTS, this parsing is unnecessary. Thiscommit removes this unnecessary Relates #18207

time:
2016-05-09T17:04:33Z
class:
test/framework/src/main/java/org/elasticsearch/test/rest/section/DoSection.java
comments:
Improve logging of raw rest actions on failure

Log the method and the path.

time:
2016-05-09T16:25:52Z
class:
comments:
Account for rpm behavior difference on directories

This commit modifies the packaging tests to account for the fact thatrpm behaves differently with respect to preserving directories marked as"CONFIG | NOREPLACE" on older versions versus newer versions. Olderversions will leave the directory as-is while newer versions will appendthe suffix ".rpmsave" to the directory name.Relates #18216

time:
2016-05-09T15:03:16Z
class:
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractAsyncBulkIndexByScrollAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBaseReindexRestHandler.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/BulkByScrollTask.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/BulkIndexByScrollResponse.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/BulkIndexByScrollResponseContentListener.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/ReindexAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/ReindexRequestBuilder.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/ReindexResponse.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/RestReindexAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/RestUpdateByQueryAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/TransportReindexAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/TransportUpdateByQueryAction.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/AbstractAsyncBulkIndexByScrollActionTestCase.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexCancelTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexFailureTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexMetadataTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexScriptTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexTestCase.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexVersioningTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/RoundTripTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/UpdateByQueryWithScriptTests.java
comments:
Remove ReindexResponse in favor of BulkIndexByScrollResponse

time:
2016-05-09T13:52:23Z
class:
test/framework/src/main/java/org/elasticsearch/test/rest/Stash.java
test/framework/src/main/java/org/elasticsearch/test/rest/client/RestResponse.java
comments:
Rest tests: More defense around stashing body

Integration tests failed:
https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+multijob-intake/483/console

We'll see if the rest tests were hiding some other failure.

time:
2016-05-09T13:42:23Z
class:
comments:
Renamed all AUTOSENSE snippets to CONSOLE (#18210)

time:
2016-05-09T13:23:23Z
class:
comments:
CONSOLE is the new AUTOSENSE

This makes the test generation support both while we move from
`// AUTOSENSE` to `// CONSOLE`.

Will bother #18160

time:
2016-05-09T13:10:01Z
class:
core/src/main/java/org/elasticsearch/http/HttpServer.java
comments:
Merge remote-tracking branch 'danielmitterdorfer/eager-content-length'

time:
2016-05-09T13:07:41Z
class:
core/src/main/java/org/elasticsearch/http/HttpServer.java
core/src/main/java/org/elasticsearch/rest/BytesRestResponse.java
core/src/main/java/org/elasticsearch/rest/RestController.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/allocation/RestClusterAllocationExplainAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/alias/head/RestAliasesExistAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/exists/indices/RestIndicesExistsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/exists/types/RestTypesExistsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/template/head/RestHeadIndexTemplateAction.java
core/src/main/java/org/elasticsearch/rest/action/get/RestHeadAction.java
core/src/main/java/org/elasticsearch/rest/action/main/RestMainAction.java
core/src/test/java/org/elasticsearch/http/HttpServerTests.java
core/src/test/java/org/elasticsearch/rest/action/main/RestMainActionIT.java
comments:
Free bytes reserved on request breaker

With this commit we free all bytes reserved on the request
circuit breaker.

Closes #18144

time:
2016-05-09T09:11:59Z
class:
core/src/main/java/org/elasticsearch/http/HttpServer.java
comments:
Determine content length eagerly in HttpServer

With this commit we eagerly evaluate content length in HttpServer
and also pass the same value to ResourceHandlingHttpChannel. With
this change it easier to reason about the content length that is
freed leaving no doubt that it must be identical to the reserved
amount.

time:
2016-05-07T15:16:31Z
class:
comments:
Correct docs for dynamic mapping of fields

Floating point numbers are added as `float`, and Strings are added as `text` with `keyword sub-field

time:
2016-05-07T15:09:17Z
class:
comments:
Add link to field data docs from field data fields

This commit adds a link to the field data docs from the field data
fields docs for completeness.

Closes #17672

time:
2016-05-07T05:26:15Z
class:
comments:
Build: Add fake project to include buildSrc as normal project

This is a follow up to #18173 and includes adding pom generation to the
fake build-tools project, which is really just buildSrc, but builds
during normal builds.

time:
2016-05-07T00:26:33Z
class:
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/ip/IpFieldMapperTests.java
comments:
Merge pull request #18194 from rjernst/null_ip_default

Mappings: Fix ip mapper to correctly serialize a null null_value

time:
2016-05-07T00:07:24Z
class:
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/ip/IpFieldMapperTests.java
comments:
Mappings: Fix ip mapper to correctly serialize a null null_value

We recently added correct serialization for null values, but the helper
method used does not allow null. This fixes serialization to handle the
null.

time:
2016-05-06T20:34:22Z
class:
core/src/main/java/org/elasticsearch/action/ingest/SimulatePipelineRequest.java
core/src/test/java/org/elasticsearch/action/ingest/SimulatePipelineRequestParsingTests.java
comments:
add check for non-existent pipelines provided to simulate requests (#18190)

fixes #18139

time:
2016-05-06T20:14:43Z
class:
core/src/main/java/org/elasticsearch/common/component/Lifecycle.java
comments:
Fix exception message in lifecycle

This commit fixes the exception messages for lifecycles when stopping inillegal states.Relates #18189

time:
2016-05-06T20:11:15Z
class:
comments:
Merge pull request #18173 from rjernst/pom_gen

Build: Add pom generation to assemble task

time:
2016-05-06T20:09:48Z
class:
comments:
Remove unnecessary nebula source or javadoc plugins

time:
2016-05-06T19:56:51Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/TransportIndicesShardStoresAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/explain/ExplainRequest.java
core/src/main/java/org/elasticsearch/action/ingest/PutPipelineTransportAction.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java
core/src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodesResponse.java
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterHealthStatus.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
core/src/main/java/org/elasticsearch/common/geo/GeoPoint.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/gateway/AsyncShardFetch.java
core/src/main/java/org/elasticsearch/gateway/Gateway.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/index/mapper/ParseContext.java
core/src/main/java/org/elasticsearch/index/mapper/Uid.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/InnerHitBuilder.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/PercolateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/QueryParser.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/ingest/PipelineExecutionService.java
core/src/main/java/org/elasticsearch/repositories/Repository.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/hotthreads/RestNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/info/RestNodesInfoAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/stats/RestNodesStatsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/stats/RestClusterStatsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/validate/query/RestValidateQueryAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestCountAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestRecoveryAction.java
core/src/main/java/org/elasticsearch/rest/action/count/RestCountAction.java
core/src/main/java/org/elasticsearch/rest/action/explain/RestExplainAction.java
core/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
core/src/main/java/org/elasticsearch/rest/action/support/RestActions.java
core/src/main/java/org/elasticsearch/rest/support/RestUtils.java
core/src/main/java/org/elasticsearch/search/DocValueFormat.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilders.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/highlight/AbstractHighlighterBuilder.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/query/QuerySearchResult.java
core/src/main/java/org/elasticsearch/search/rescore/QueryRescorerBuilder.java
core/src/main/java/org/elasticsearch/search/rescore/RescoreBuilder.java
core/src/main/java/org/elasticsearch/search/rescore/RescorePhase.java
core/src/main/java/org/elasticsearch/search/searchafter/SearchAfterBuilder.java
core/src/main/java/org/elasticsearch/search/sort/FieldSortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/ScoreSortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/ScriptSortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/SortAndFormats.java
core/src/main/java/org/elasticsearch/search/sort/SortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/SortFieldAndFormat.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/Snapshot.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotInfo.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/test/java/org/elasticsearch/action/admin/HotThreadsIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/CancellableTasksTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TaskManagerTestCase.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TestTaskPlugin.java
core/src/test/java/org/elasticsearch/action/support/nodes/TransportNodesActionTests.java
core/src/test/java/org/elasticsearch/bwcompat/ClusterStateBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/client/transport/FailAndRetryMockTransport.java
core/src/test/java/org/elasticsearch/cluster/DiskUsageTests.java
core/src/test/java/org/elasticsearch/cluster/ack/AckClusterUpdateSettingsIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/common/geo/builders/AbstractShapeBuilderTestCase.java
core/src/test/java/org/elasticsearch/common/io/stream/BytesStreamsTests.java
core/src/test/java/org/elasticsearch/common/network/NetworkAddressTests.java
core/src/test/java/org/elasticsearch/common/xcontent/ConstructingObjectParserTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryIT.java
core/src/test/java/org/elasticsearch/gateway/AsyncShardFetchTests.java
core/src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayIT.java
core/src/test/java/org/elasticsearch/index/mapper/core/DateFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/KeywordFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/NumberFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/NumberFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapperPlugin.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalValuesMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/FakeStringFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/ip/IpFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/BoostingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IndicesQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/InnerHitBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NestedQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/PercolateQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RandomQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNearQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanOrQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/snapshots/blobstore/FileInfoTests.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedTranslogIT.java
core/src/test/java/org/elasticsearch/index/suggest/stats/SuggestStatsIT.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/CircuitBreakerServiceIT.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryIT.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsIT.java
core/src/test/java/org/elasticsearch/ingest/IngestMetadataTests.java
core/src/test/java/org/elasticsearch/ingest/PipelineExecutionServiceTests.java
core/src/test/java/org/elasticsearch/nodesinfo/SimpleNodesInfoIT.java
core/src/test/java/org/elasticsearch/rest/action/cat/RestRecoveryActionTests.java
core/src/test/java/org/elasticsearch/rest/util/RestUtilsTests.java
core/src/test/java/org/elasticsearch/script/ScriptMetaDataTests.java
core/src/test/java/org/elasticsearch/search/DocValueFormatTests.java
core/src/test/java/org/elasticsearch/search/aggregations/BaseAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/BasePipelineAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/FilterIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/FiltersIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/FiltersTests.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/functionscore/QueryRescorerIT.java
core/src/test/java/org/elasticsearch/search/highlight/HighlightBuilderTests.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/rescore/QueryRescoreBuilderTests.java
core/src/test/java/org/elasticsearch/search/searchafter/SearchAfterBuilderTests.java
core/src/test/java/org/elasticsearch/search/searchafter/SearchAfterIT.java
core/src/test/java/org/elasticsearch/search/sort/AbstractSortTestCase.java
core/src/test/java/org/elasticsearch/search/sort/FieldSortBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/FieldSortIT.java
core/src/test/java/org/elasticsearch/search/sort/GeoDistanceSortBuilderIT.java
core/src/test/java/org/elasticsearch/search/sort/GeoDistanceSortBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/ScoreSortBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/ScriptSortBuilderTests.java
core/src/test/java/org/elasticsearch/search/suggest/AbstractSuggestionBuilderTestCase.java
core/src/test/java/org/elasticsearch/search/suggest/completion/CompletionSuggesterBuilderTests.java
core/src/test/java/org/elasticsearch/search/suggest/phrase/DirectCandidateGeneratorTests.java
core/src/test/java/org/elasticsearch/search/suggest/phrase/SmoothingModelTestCase.java
core/src/test/java/org/elasticsearch/threadpool/SimpleThreadPoolIT.java
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTestCase.java
core/src/test/java/org/elasticsearch/transport/NettyTransportServiceHandshakeTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportPublishAddressIT.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MinDocCountTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchStatsTests.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkByScrollRequestBuilder.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexParentChildTests.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequest.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequestBuilder.java
plugins/delete-by-query/src/main/java/org/elasticsearch/rest/action/deletebyquery/RestDeleteByQueryAction.java
plugins/discovery-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureComputeServiceTestCase.java
test/framework/src/main/java/org/elasticsearch/cluster/MockInternalClusterInfoService.java
test/framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
test/framework/src/main/java/org/elasticsearch/test/ESTestCase.java
test/framework/src/main/java/org/elasticsearch/test/ExternalNode.java
test/framework/src/main/java/org/elasticsearch/test/ExternalTestCluster.java
test/framework/src/main/java/org/elasticsearch/test/TestSearchContext.java
test/framework/src/test/java/org/elasticsearch/test/test/ESTestCaseTests.java
comments:
Merge branch 'master' into pom_gen

time:
2016-05-06T18:59:43Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/TransportIndicesShardStoresAction.java
core/src/main/java/org/elasticsearch/action/ingest/PutPipelineTransportAction.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodesResponse.java
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterHealthStatus.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/gateway/AsyncShardFetch.java
core/src/main/java/org/elasticsearch/gateway/Gateway.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/hotthreads/RestNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/info/RestNodesInfoAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/stats/RestNodesStatsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/stats/RestClusterStatsAction.java
core/src/main/java/org/elasticsearch/rest/action/support/RestActions.java
core/src/test/java/org/elasticsearch/action/admin/HotThreadsIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/CancellableTasksTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TaskManagerTestCase.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TestTaskPlugin.java
core/src/test/java/org/elasticsearch/action/support/nodes/TransportNodesActionTests.java
core/src/test/java/org/elasticsearch/bwcompat/ClusterStateBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/cluster/DiskUsageTests.java
core/src/test/java/org/elasticsearch/cluster/ack/AckClusterUpdateSettingsIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/common/io/stream/BytesStreamsTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryIT.java
core/src/test/java/org/elasticsearch/gateway/AsyncShardFetchTests.java
core/src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedTranslogIT.java
core/src/test/java/org/elasticsearch/index/suggest/stats/SuggestStatsIT.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/CircuitBreakerServiceIT.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryIT.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsIT.java
core/src/test/java/org/elasticsearch/nodesinfo/SimpleNodesInfoIT.java
core/src/test/java/org/elasticsearch/threadpool/SimpleThreadPoolIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportPublishAddressIT.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchStatsTests.java
plugins/discovery-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureComputeServiceTestCase.java
test/framework/src/main/java/org/elasticsearch/cluster/MockInternalClusterInfoService.java
test/framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
test/framework/src/main/java/org/elasticsearch/test/ExternalNode.java
test/framework/src/main/java/org/elasticsearch/test/ExternalTestCluster.java
comments:
Add Failure Details to every NodesResponse

Most of the current implementations of BaseNodesResponse (plural Nodes) ignore FailedNodeExceptions.

- This adds a helper function to do the grouping to TransportNodesAction
- Requires a non-null array of FailedNodeExceptions within the BaseNodesResponse constructor
- Reads/writes the array to output
- Also adds StreamInput and StreamOutput methods for generically reading and writing arrays

time:
2016-05-06T17:24:54Z
class:
comments:
Preserve config files from RPM install

This commit modifies the packaging for the RPM package so that edits toconfig files will not get lost during removal and upgrade.Relates #18188

time:
2016-05-06T17:17:43Z
class:
core/src/test/java/org/elasticsearch/rest/action/cat/RestRecoveryActionTests.java
comments:
Test was not updated with #18187

time:
2016-05-06T14:59:53Z
class:
core/src/main/java/org/elasticsearch/rest/action/cat/RestRecoveryAction.java
comments:
Add node name to Cat Recovery

closes #8041

time:
2016-05-06T14:57:25Z
class:
core/src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapperPlugin.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalValuesMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/FakeStringFieldMapper.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
comments:
Merge pull request #18183 from brwe/exclude-all-but-text-from-wildcard-highlighting

Exclude all but string fields from highlighting if wildcards are used…

time:
2016-05-06T14:50:34Z
class:
comments:
add string to documentation

time:
2016-05-06T14:27:31Z
class:
core/src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
comments:
fix highlighing for old version indices with string fields

time:
2016-05-06T14:05:19Z
class:
comments:
Documentation: Switch to https for debian repository

time:
2016-05-06T13:54:26Z
class:
core/src/main/java/org/elasticsearch/rest/support/RestUtils.java
core/src/test/java/org/elasticsearch/rest/util/RestUtilsTests.java
comments:
Add semicolon query string parameter delimiter

This commit adds support for the semicolon character as a valid querystring parameter delimiter.Relates #18186

time:
2016-05-06T13:26:19Z
class:
comments:
Allow leading `/` in AUTOSENSE path

Relates to #18160

time:
2016-05-06T13:17:18Z
class:
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/test/java/org/elasticsearch/client/transport/FailAndRetryMockTransport.java
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTestCase.java
core/src/test/java/org/elasticsearch/transport/NettyTransportServiceHandshakeTests.java
comments:
Remove handshake from transport client

This commit removes handshaking from the transport client. Thishandshaking is not needed because of the existence of the livenesscheck.Relates #18174

time:
2016-05-06T13:06:57Z
class:
comments:
Remove unused chechstyle_supressions line length checks

The files removed are below the 140 character line length limit.

time:
2016-05-06T13:01:09Z
class:
core/src/test/java/org/elasticsearch/index/query/InnerHitBuilderTests.java
comments:
Random script fields can't overlap

This causes round tripping through xcontent to fail.

Closes #18166

time:
2016-05-06T13:00:41Z
class:
core/src/main/java/org/elasticsearch/ingest/PipelineExecutionService.java
core/src/test/java/org/elasticsearch/ingest/PipelineExecutionServiceTests.java
comments:
Pipeline Stats: Fix concurrent modification exception (#18177)

Due to trying to modify a map while iterating it, a concurrent modificationin the pipeline stats could be thrown. This uses an iterator to prevent this.Closes #18126

time:
2016-05-06T12:29:19Z
class:
core/src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
comments:
keyword fields should also be highlighted

time:
2016-05-06T11:41:16Z
class:
core/src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapperPlugin.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalValuesMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/FakeStringFieldMapper.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
comments:
Exclude all but string fields from highlighting if wildcards are used in fieldname

We should prevent highlighting if a field is anything but a text or keyword field.
However, someone might implement a custom field type that has text and still want to
highlight on that. We cannot know in advance if the highlighter will be able to
highlight such a field and so we do the following:
If the field is only highlighted because the field matches a wildcard we assume
it was a mistake and do not process it.
If the field was explicitly given we assume that whoever issued the query knew
what they were doing and try to highlight anyway.

closes #17537

time:
2016-05-06T11:16:58Z
class:
core/src/main/java/org/elasticsearch/index/mapper/ParseContext.java
core/src/main/java/org/elasticsearch/index/mapper/Uid.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
comments:
Remove StringBuilder reuse for uid creation. #18181

This would be better handled by escape analysis.

time:
2016-05-06T10:30:22Z
class:
core/src/main/java/org/elasticsearch/Version.java
comments:
Add back Version.V_5_0_0. #18176

This was lost whene releasing alpha2 since the version constant got renamed.

time:
2016-05-06T08:46:39Z
class:
core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java
core/src/test/java/org/elasticsearch/common/geo/builders/AbstractShapeBuilderTestCase.java
core/src/test/java/org/elasticsearch/common/xcontent/ConstructingObjectParserTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/InnerHitBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/PercolateQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/snapshots/blobstore/FileInfoTests.java
core/src/test/java/org/elasticsearch/ingest/IngestMetadataTests.java
core/src/test/java/org/elasticsearch/script/ScriptMetaDataTests.java
core/src/test/java/org/elasticsearch/search/aggregations/BaseAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/BasePipelineAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/highlight/HighlightBuilderTests.java
core/src/test/java/org/elasticsearch/search/rescore/QueryRescoreBuilderTests.java
core/src/test/java/org/elasticsearch/search/searchafter/SearchAfterBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/AbstractSortTestCase.java
core/src/test/java/org/elasticsearch/search/suggest/AbstractSuggestionBuilderTestCase.java
core/src/test/java/org/elasticsearch/search/suggest/completion/CompletionSuggesterBuilderTests.java
core/src/test/java/org/elasticsearch/search/suggest/phrase/DirectCandidateGeneratorTests.java
core/src/test/java/org/elasticsearch/search/suggest/phrase/SmoothingModelTestCase.java
test/framework/src/main/java/org/elasticsearch/test/ESTestCase.java
test/framework/src/test/java/org/elasticsearch/test/test/ESTestCaseTests.java
comments:
Add xContent shuffling to some more tests

This adds some random shuffling of xContent to some more test cases.

Relates to #5831

time:
2016-05-06T08:40:34Z
class:
comments:
Removed scripting docs for docs[field].multiValued

Closes #18164

time:
2016-05-06T07:28:23Z
class:
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/core/DateFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/KeywordFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/NumberFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/NumberFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/ip/IpFieldMapperTests.java
comments:
Fix and test handling of `null_value`. #18090

This was mostly untested and had some bugs.

Closes #18085

time:
2016-05-06T07:27:02Z
class:
core/src/main/java/org/elasticsearch/index/query/InnerHitBuilder.java
core/src/main/java/org/elasticsearch/search/DocValueFormat.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/query/QuerySearchResult.java
core/src/main/java/org/elasticsearch/search/rescore/RescorePhase.java
core/src/main/java/org/elasticsearch/search/searchafter/SearchAfterBuilder.java
core/src/main/java/org/elasticsearch/search/sort/FieldSortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/ScoreSortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/ScriptSortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/SortAndFormats.java
core/src/main/java/org/elasticsearch/search/sort/SortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/SortFieldAndFormat.java
core/src/test/java/org/elasticsearch/common/network/NetworkAddressTests.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NestedQueryBuilderTests.java
core/src/test/java/org/elasticsearch/search/DocValueFormatTests.java
core/src/test/java/org/elasticsearch/search/searchafter/SearchAfterIT.java
core/src/test/java/org/elasticsearch/search/sort/AbstractSortTestCase.java
core/src/test/java/org/elasticsearch/search/sort/FieldSortBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/FieldSortIT.java
core/src/test/java/org/elasticsearch/search/sort/GeoDistanceSortBuilderIT.java
core/src/test/java/org/elasticsearch/search/sort/GeoDistanceSortBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/ScoreSortBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/ScriptSortBuilderTests.java
test/framework/src/main/java/org/elasticsearch/test/TestSearchContext.java
comments:
Allow binary sort values. #17959

The `ip` field uses a binary representation internally. This breaks when
rendering sort values in search responses since elasticsearch tries to write a
binary byte[] as an utf8 json string. This commit extends the `DocValueFormat`
API in order to give fields a chance to choose how to render values.

Closes #6077

time:
2016-05-06T07:25:58Z
class:
comments:
Fixed bad asciidoc

time:
2016-05-06T06:38:20Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/explain/ExplainRequest.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java
core/src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/InnerHitBuilder.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/PercolateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/QueryParser.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/validate/query/RestValidateQueryAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestCountAction.java
core/src/main/java/org/elasticsearch/rest/action/count/RestCountAction.java
core/src/main/java/org/elasticsearch/rest/action/explain/RestExplainAction.java
core/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
core/src/main/java/org/elasticsearch/rest/action/support/RestActions.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilders.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParser.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/highlight/AbstractHighlighterBuilder.java
core/src/main/java/org/elasticsearch/search/rescore/QueryRescorerBuilder.java
core/src/main/java/org/elasticsearch/search/rescore/RescoreBuilder.java
core/src/main/java/org/elasticsearch/search/sort/FieldSortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/ScriptSortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/SortBuilder.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/BoostingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IndicesQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/InnerHitBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NestedQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/PercolateQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RandomQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanNearQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SpanOrQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/FilterIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/FiltersIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/FiltersTests.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/functionscore/QueryRescorerIT.java
core/src/test/java/org/elasticsearch/search/rescore/QueryRescoreBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/AbstractSortTestCase.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/MinDocCountTests.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkByScrollRequestBuilder.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexParentChildTests.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequest.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequestBuilder.java
plugins/delete-by-query/src/main/java/org/elasticsearch/rest/action/deletebyquery/RestDeleteByQueryAction.java
comments:
QueryBuilder does not need generics. #18133

QueryBuilder has generics, but those are never used: all call sites use
`QueryBuilder<?>`. Only `AbstractQueryBuilder` needs generics so that the base
class can contain a default implementation for setters that returns `this`.

time:
2016-05-06T00:57:44Z
class:
comments:
Build: Add pom generation to assemble task

In preparation for a unified release process, we need to be able to
generate the pom files independently of trying to actually publish. This
change adds back the maven-publish plugin just for that purpose. The
nexus plugin still exists for now, so that we do not break snapshots,
but that can be removed at a later time once snapshots are happenign
through the unified tools. Note I also changed the dir jars are written
into so that all our artifacts are under build/distributions.

time:
2016-05-06T00:16:57Z
class:
core/src/test/java/org/elasticsearch/index/query/InnerHitBuilderTests.java
comments:
Mark IHBT#testFromAndToXContent as awaits fix

This commit marks InnerHitsBuilderTests#testFromAndToXContent as
awaiting a fix.

time:
2016-05-05T23:17:31Z
class:
comments:
Fix typo in message for variable setup ES_MAX_MEM

Small typo fix in startup script.Relates #18168

time:
2016-05-05T23:16:57Z
class:
comments:
Fix error message on ES_MAX_MEM set

This commit fixes a typo in the error message when the now unsupported
environment variable ES_MAX_MEM is set on Windows.

time:
2016-05-05T23:13:52Z
class:
comments:
Merge pull request #18170 from rjernst/rpm_dirs

Packaging: Make rpm not include parent dirs

time:
2016-05-05T23:12:22Z
class:
comments:
Tests: Delay starting progress loggers for vagrant until test is running

This was broken recently as part of making the vagrant tasks extend
LoggedExec. This change fixes the progress logger to not be started
until we start seeing output from vagrant.

time:
2016-05-05T23:03:23Z
class:
comments:
Another wait_for_yellow to the docs

All in service of the snippets passing consistently.

time:
2016-05-05T22:38:41Z
class:
core/src/main/java/org/elasticsearch/common/geo/GeoPoint.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
comments:
Painless: add fielddata accessors (.value/.values/.distance()/etc)

This gives better coverage and consistency with the scripting APIs, by
whitelisting the primary search scripting API classes and using them instead
of only Map and List methods.

For example, accessing fields can now be done with `.value` instead of `.0`
because `getValue()` is whitelisted. For now, access to a document's fields in
this way (loads) are fast-pathed in the code, to avoid dynamic overhead.

Access to geo fields and geo distance functions is now supported.

TODO: date support (e.g. whitelist ReadableDateTime methods as a start)
TODO: improve docs (like expressions and groovy have for document's fields)
TODO: remove fast-path hack

Closes #18169

Squashed commit of the following:

commit ec9f24b2424891a7429bb4c0a03f9868cba0a213
Author: Robert Muir <rmuir@apache.org>
Date:   Thu May 5 17:59:37 2016 -0400

    cutover to <Def> instead of <Object> here

commit 9edb1550438acd209733bc36f0d2e0aecf190ecb
Author: Robert Muir <rmuir@apache.org>
Date:   Thu May 5 17:03:02 2016 -0400

    add fast-path for docvalues field loads

commit f8e38c0932fccc0cfa217516130ad61522e59fe5
Author: Robert Muir <rmuir@apache.org>
Date:   Thu May 5 16:47:31 2016 -0400

    Painless: add fielddata accessors (.value/.values/.distance()/etc)

time:
2016-05-05T21:22:14Z
class:
comments:
Packaging: Make rpm not include parent dirs

closes #18162

time:
2016-05-05T20:53:13Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/repositories/Repository.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/Snapshot.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotInfo.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
comments:
Remove the Snapshot class in favor of using SnapshotInfo

o/e/snapshots/Snapshot and o/e/snapshots/SnapshotInfo contain the same
fields and represent the same information.  Snapshot was used to
maintain snapshot information to the snapshot repository, while
SnapshotInfo was used to represent the snapshot information as presented
through the REST layer.  This removes the Snapshot class and combines
all uses into the SnapshotInfo class.

Closes #18167

time:
2016-05-05T20:02:00Z
class:
comments:
[docs] Add wait_until_yellow to fix build failure

The snippet in the docs creates and index and uses it with the
_analyze api. The trouble is that if the index hasn't been created
fully the _analyze API will fail. This adds a
GET _cluster/health?wait_for_status=yellow
which fixes the issue.

While this does make the docs more cluttered, it also makes the snippets
actually runnable.

Closes #18165

time:
2016-05-05T17:58:03Z
class:
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
docs/src/test/java/org/elasticsearch/smoketest/SmokeTestDocsIT.java
test/framework/src/main/java/org/elasticsearch/test/rest/RestTestExecutionContext.java
test/framework/src/main/java/org/elasticsearch/test/rest/Stash.java
test/framework/src/main/java/org/elasticsearch/test/rest/client/RestClient.java
test/framework/src/main/java/org/elasticsearch/test/rest/json/JsonPath.java
test/framework/src/main/java/org/elasticsearch/test/rest/parser/RestTestSectionParser.java
test/framework/src/main/java/org/elasticsearch/test/rest/parser/RestTestSuiteParseContext.java
test/framework/src/main/java/org/elasticsearch/test/rest/section/ResponseBodyAssertion.java
comments:
Generate and run tests from the docs

Adds infrastructure so `gradle :docs:check` will extract tests from
snippets in the documentation and execute the tests. This is included
in `gradle check` so it should happen on CI and during a normal build.

By default each `// AUTOSENSE` snippet creates a unique REST test. These
tests are executed in a random order and the cluster is wiped between
each one. If multiple snippets chain together into a test you can annotate
all snippets after the first with `// TEST[continued]` to have the
generated tests for both snippets joined.

Snippets marked as `// TESTRESPONSE` are checked against the response
of the last action.

See docs/README.asciidoc for lots more.

Closes #12583. That issue is about catching bugs in the docs during build.
This catches *some* bugs in the docs during build which is a good start.

time:
2016-05-05T16:26:02Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Analyzer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerCaster.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerExpression.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/AnalyzerExternal.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Definition.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessLexer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessParser.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessParserBaseVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/PainlessParserVisitor.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Utility.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/Writer.java
modules/lang-painless/src/main/java/org/elasticsearch/painless/WriterExpression.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/BasicExpressionTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/EqualsTests.java
modules/lang-painless/src/test/java/org/elasticsearch/painless/StringTests.java
comments:
Added single-quoted strings.

Closes #18150

time:
2016-05-05T14:36:21Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCheck.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapCheckTests.java
comments:
Default to server VM and add client VM check

Today we softly warn about running with the client VM. However, weshould really refuse to start in production mode if running with theclient VM as the performance of the client VM is too devastating for aserver application. This commit adds an option to jvm.options to ensurethat we are starting with the server VM (on all 32-bit non-Windowsplatforms on server-class machines (2+ CPUs, 2+ GB physical RAM) this isthe default and on all 64-bit platforms this is the only option) andadds a bootstrap check for the client VM.Relates #18155

time:
2016-05-05T14:19:34Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
comments:
Merge pull request #18151 from rmuir/easy_win

painless: optimize/simplify dynamic field and method access

time:
2016-05-05T07:47:56Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
comments:
make internal Def methods private and add basic javadocs

time:
2016-05-05T07:42:14Z
class:
modules/lang-painless/src/main/java/org/elasticsearch/painless/Def.java
comments:
painless: optimize/simplify dynamic field and method access

time:
2016-05-05T00:46:52Z
class:
comments:
Merge pull request #18147 from rjernst/vagrant_logging

Tests: improve logging for vagrant to emit entire output on failure

time:
2016-05-05T00:29:23Z
class:
comments:
Tests: improve logging for vagrant to emit entire output on failure

This change makes the vagrant tasks extend LoggedExec, so that the
entire vagrant output can be dumped on failure (and completely logged
when using --info). It should help for debugging issues like #18122.

time:
2016-05-05T00:06:47Z
class:
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TaskManagerTestCase.java
core/src/test/java/org/elasticsearch/action/bulk/TransportBulkActionTookTests.java
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/master/TransportMasterNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/nodes/TransportNodesActionTests.java
core/src/test/java/org/elasticsearch/action/support/replication/BroadcastReplicationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportReplicationActionTests.java
core/src/test/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationActionTests.java
core/src/test/java/org/elasticsearch/client/transport/FailAndRetryMockTransport.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientHeadersTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java
core/src/test/java/org/elasticsearch/cluster/NodeConnectionsServiceTests.java
core/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java
core/src/test/java/org/elasticsearch/cluster/health/ClusterStateHealthTests.java
core/src/test/java/org/elasticsearch/common/network/NetworkModuleTests.java
core/src/test/java/org/elasticsearch/discovery/ZenFaultDetectionTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPingIT.java
core/src/test/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateActionTests.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingDisabledTests.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreTests.java
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTestCase.java
core/src/test/java/org/elasticsearch/transport/NettySizeHeaderFrameDecoderTests.java
core/src/test/java/org/elasticsearch/transport/NettyTransportServiceHandshakeTests.java
core/src/test/java/org/elasticsearch/transport/TransportModuleTests.java
core/src/test/java/org/elasticsearch/transport/local/SimpleLocalTransportTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyScheduledPingTests.java
core/src/test/java/org/elasticsearch/transport/netty/SimpleNettyTransportTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndicesRequestTests.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryTests.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoveryTests.java
test/framework/src/main/java/org/elasticsearch/test/transport/MockTransportService.java
comments:
Introduce node handshake

This commit introduces a handshake when initiating a lightconnection. During this handshake, node information, cluster name, andversion are received from the target node of the connection. Thisinformation can be used to immediately validate that the target node isa member of the same cluster, and used to set the version on thestream. This will allow us to extend APIs that are used during initialcluster recovery without a major version change.Relates #15971

time:
2016-05-04T20:48:51Z
class:
comments:
Fixed a bad asciidoc link

time:
2016-05-04T20:43:08Z
class:
comments:
Docs: Fixed broken cross doc links to script topics.

time:
2016-05-04T20:14:32Z
class:
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractAsyncBulkByScrollAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBaseReindexRestHandler.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkByScrollRequest.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkByScrollRequestBuilder.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkIndexByScrollRequestBuilder.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/BulkByScrollTask.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/RethrottleRequest.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/RethrottleRequestBuilder.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/AsyncBulkByScrollActionTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/BulkByScrollTaskTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/CancelTestUtils.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexBasicTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexCancelTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexFailureTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexParentChildTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexTestCase.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexVersioningTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/RethrottleTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/RoundTripTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/UpdateByQueryBasicTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/UpdateByQueryCancelTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/UpdateByQueryTestCase.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/UpdateByQueryWhileModifyingTests.java
comments:
[reindex] Switch throttle to Float.POSITIVE_INFITINTY/"unlimited"

All other values are errors.

Add java test for throttling. We had a REST test but it only ran against
one node so it didn't catch serialization errors.

Add Simple round trip test for rethrottle request

time:
2016-05-04T19:21:47Z
class:
comments:
Update misc.asciidoc

Added documentation for the cluster.indices.tombstones.size property for maximum tombstones in the cluster state.

time:
2016-05-04T18:11:29Z
class:
comments:
Remove client option for JVM for plugins script

Today we specify the client option for the JVM when executing plugincommands. Yet, this option does nothing on a 64-bit capable JDK as suchJDKs always select the Hotspot server VM. And for 32-bit JDKs, runningplugin commands with the server VM is okay. Thus, we should just removethis unnecessary flag and just let the default VM be selected.Relates #18142

time:
2016-05-04T16:50:12Z
class:
comments:
docs: remove null from expressions case.

Expressions don't have nulls, only doubles. If the field is missing, then its
treated as 0.0. You can query .empty to see if its missing and substitute something else.

See https://github.com/elastic/elasticsearch/pull/18132#discussion_r62068494
Ah right - thanks @rmuir 


time:
2016-05-04T16:48:39Z
class:
comments:
Pass ES_JAVA_OPTS to JVM for plugins script 

This commit adds support for ES_JAVA_OPTS to the elasticsearch-pluginscript.Relates #18140

time:
2016-05-04T16:17:10Z
class:
comments:
Reorganise scripting docs (#18132)

* Reorganize scripting documentation* Further changes to tidy up scripting docsCloses #18116* Add note about .lat/lon potentially returning null* Added .value to expressions example* Fixed two bad ASCIIDOC links

time:
2016-05-04T15:43:15Z
class:
core/src/main/java/org/elasticsearch/index/query/InnerHitBuilder.java
core/src/test/java/org/elasticsearch/index/query/InnerHitBuilderTests.java
comments:
Change scriptFields member in InnerHitBuilder to set

Adding random shuffling of xContent to InnterHitBuilderTests shows
that the scriptFields are stored in order as a list internally although
they are an unordered json objects in the query dsl.

This changes the internal representation to a set and updates
serialization accordingly.

time:
2016-05-04T15:01:34Z
class:
comments:
[docs] Modernize README.textile

* camel_case all the things
* `?pretty` all the things (we tell people to do this in bug reports)

Closes #18136

time:
2016-05-04T14:52:30Z
class:
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/search/query/PostFilterParseElement.java
core/src/main/java/org/elasticsearch/search/query/QueryParseElement.java
core/src/main/java/org/elasticsearch/search/rescore/QueryRescorer.java
core/src/main/java/org/elasticsearch/search/rescore/Rescorer.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
comments:
Consolidate query generation in QueryShardContext

Currently we have a lot of methods left in QueryShardContext that
take parsers or BytesReference arguments to do some xContent
parsing on the shard. While this still seems necessary in some cases
(e.g. percolation, phrase suggester), the shard context should only
be concerned with generating lucene queries from QueryBuilders.

This change removes all of the parseX() methods in favour of two
public methods toQuery(QueryBuilder) and toFilter(QueryBuilder) that
either call the query builders toFilter() or toQuery() method and
move all code required for parsing out to the respective callers.

time:
2016-05-04T14:48:08Z
class:
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
comments:
Fix build: restore illegalScorer still in use in ExpressionSearchScript (2)

time:
2016-05-04T14:46:44Z
class:
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
comments:
Fix build: restore illegalScorer still in use in ExpressionSearchScript

time:
2016-05-04T13:57:08Z
class:
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorBase.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/BestBucketsDeferringCollector.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregator.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TopHitsIT.java
core/src/test/java/org/elasticsearch/search/profile/ProfileTests.java
comments:
Merge pull request #18127 from jimferenczi/breadth_first_needs_score

Add the ability to use the breadth_first mode with nested aggregations (such as `top_hits`) which require access to score information.

time:
2016-05-04T13:38:47Z
class:
core/src/main/java/org/elasticsearch/action/search/TransportSearchHelper.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/Table.java
core/src/main/java/org/elasticsearch/common/path/PathTrie.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/util/BloomFilter.java
core/src/main/java/org/elasticsearch/common/xcontent/support/XContentMapValues.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/ingest/core/IngestDocument.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TasksIT.java
core/src/test/java/org/elasticsearch/common/settings/SettingsTests.java
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/network/GceNameResolver.java
plugins/repository-azure/src/main/java/org/elasticsearch/repositories/azure/AzureRepository.java
plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3Repository.java
test/framework/src/main/java/org/elasticsearch/ingest/RandomDocumentPicks.java
comments:
Merge pull request #18110 from jasontedor/strings-split-as-array

Remove Strings#splitStringToArrayRemove arbitrary separator/wildcard from PathTrie

time:
2016-05-04T13:35:45Z
class:
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorBase.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/BestBucketsDeferringCollector.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregator.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TopHitsIT.java
core/src/test/java/org/elasticsearch/search/profile/ProfileTests.java
comments:
Add the ability to use the breadth_first mode with nested aggregations (such as `top_hits`) which require access to score information.
The score is recomputed lazily for each document belonging to a top bucket.
Relates to #9825

time:
2016-05-04T13:18:30Z
class:
core/src/main/java/org/elasticsearch/common/path/PathTrie.java
comments:
Remove arbitrary separator/wildcard from PathTrie

PathTrie has a constructor that allows for an arbitrary separtor and
wildcard, but this constructor is unused and internally we always use
'/' as the separator and '*' as the wildcard. There are no tests for the
case where the separator differs from the default separator and
wildcard. This commit removes this constructor and now all instances of
PathTrie have the default separator and wildcard.

time:
2016-05-04T12:12:41Z
class:
core/src/main/java/org/elasticsearch/action/search/TransportSearchHelper.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/Table.java
core/src/main/java/org/elasticsearch/common/path/PathTrie.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/util/BloomFilter.java
core/src/main/java/org/elasticsearch/common/xcontent/support/XContentMapValues.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/ingest/core/IngestDocument.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TasksIT.java
core/src/test/java/org/elasticsearch/common/settings/SettingsTests.java
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/network/GceNameResolver.java
plugins/repository-azure/src/main/java/org/elasticsearch/repositories/azure/AzureRepository.java
plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3Repository.java
test/framework/src/main/java/org/elasticsearch/ingest/RandomDocumentPicks.java
comments:
Remove Strings#splitStringToArray

This commit removes the method Strings#splitStringToArray and replaces
the call sites with invocations to String#split. There are only two
explanations for the existence of this method. The first is that
String#split is slightly tricky in that it accepts a regular expression
rather than a character to split on. This means that if s is a string,
s.split(".")  does not split on the character '.', but rather splits on
the regular expression '.' which splits on every character (of course,
this is easily fixed by invoking s.split("\\.") instead). The second
possible explanation is that (again) String#split accepts a regular
expression. This means that there could be a performance concern
compared to just splitting on a single character. However, it turns out
that String#split has a fast path for the case of splitting on a single
character and microbenchmarks show that String#split has 1.5x--2x the
throughput of Strings#splitStringToArray. There is a slight behavior
difference between Strings#splitStringToArray and String#split: namely,
the former would return an empty array in cases when the input string
was null or empty but String#split will just NPE at the call site on
null and return a one-element array containing the empty string when the
input string is empty. There was only one place relying on this behavior
and the call site has been modified accordingly.
This method was removed without updating the "breaking changes" document to describe the replacement...
I am not sure that this was considered public api. we do not fill a new breaking change whenever we remove a method. Maybe this comes from the fact that java api users have to depend on the whole elasticsearch and end up using methods that we think they shouldn't be using?
The class was public and the method was public, and the class is not in a package named "internal", so I consider this a "breaking API change that did not even get documented or properly deprecated to warn the user of the API."Also, you didn't remove the toDelimitedString method, so now it's an inconsistent API - you can convert from Settings to String, but how do you get back to a Settings? What if someone was using this to serialise a Settings object? (We were.)
> The class was public and the method was public, and the class is not in a package named "internal", so I consider this a "breaking API change that did not even get documented or properly deprecated to warn the user of the API."That's the problem. Elasticsearch is a server, not a library. Unfortunately java api users need to depend on the whole elasticsearch and may end up using classes that we don't expect them to use, but we commit only to document breaking changes on the java client api (we may have missed something there too and that we have to fix for the future). All the rest, no matter what package or visibility, is internal to us.

time:
2016-05-04T11:46:07Z
class:
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortBuilder.java
core/src/test/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/GeoDistanceSortBuilderIT.java
core/src/test/java/org/elasticsearch/search/sort/GeoDistanceSortBuilderTests.java
comments:
Merge pull request #18036 from MaineC/enhancement/switch_geodistancesortbuilder_to_geovalidationmethod

Introduces GeoValidationMethod to GeoDistanceSortBuilder

time:
2016-05-04T11:34:11Z
class:
core/src/test/java/org/elasticsearch/search/sort/GeoDistanceSortBuilderTests.java
test/framework/src/main/java/org/elasticsearch/test/ESTestCase.java
comments:
Clean up merge commit changes

time:
2016-05-04T11:16:40Z
class:
core/src/test/java/org/elasticsearch/search/sort/AbstractSortTestCase.java
core/src/test/java/org/elasticsearch/search/sort/FieldSortBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/GeoDistanceSortBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/RandomSortDataGenerator.java
core/src/test/java/org/elasticsearch/search/sort/ScoreSortBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/ScriptSortBuilderTests.java
test/framework/src/main/java/org/elasticsearch/test/ESTestCase.java
comments:
Merge branch 'master' into enhancement/switch_geodistancesortbuilder_to_geovalidationmethod

time:
2016-05-04T11:15:48Z
class:
core/src/test/java/org/elasticsearch/search/sort/AbstractSortTestCase.java
core/src/test/java/org/elasticsearch/search/sort/FieldSortBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/GeoDistanceSortBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/RandomSortDataGenerator.java
core/src/test/java/org/elasticsearch/search/sort/ScoreSortBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/ScriptSortBuilderTests.java
test/framework/src/main/java/org/elasticsearch/test/ESTestCase.java
comments:
Merge pull request #18042 from MaineC/tests/switch_to_random_value_other_than_for_sort

Get (mostly) rid of random test data generator for sort tests

time:
2016-05-04T10:14:39Z
class:
core/src/test/java/org/elasticsearch/search/sort/GeoDistanceSortBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/ScoreSortBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/ScriptSortBuilderTests.java
comments:
Remove left over references to ESTestCase

time:
2016-05-04T10:04:28Z
class:
comments:
Add deprecation warnings for ignore_malformed to reference docs

time:
2016-05-04T09:30:15Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanation.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/NodeExplanation.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoresResponse.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCheck.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapSettings.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
core/src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/Queries.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/main/java/org/elasticsearch/common/unit/SizeValue.java
core/src/main/java/org/elasticsearch/common/util/concurrent/KeyedLock.java
core/src/main/java/org/elasticsearch/http/HttpTransportSettings.java
core/src/main/java/org/elasticsearch/http/netty/ESHttpContentDecompressor.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/InnerHitBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/support/InnerHitsBuilder.java
core/src/main/java/org/elasticsearch/index/search/MatchQuery.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/ingest/core/ConfigurationUtils.java
core/src/main/java/org/elasticsearch/ingest/core/IngestDocument.java
core/src/main/java/org/elasticsearch/ingest/processor/DateIndexNameProcessor.java
core/src/main/java/org/elasticsearch/ingest/processor/SetProcessor.java
core/src/main/java/org/elasticsearch/node/NodeModule.java
core/src/main/java/org/elasticsearch/rest/action/support/RestTable.java
core/src/main/java/org/elasticsearch/script/ScriptMetaData.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotUtils.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanationTests.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapCheckTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpCompressionIT.java
core/src/test/java/org/elasticsearch/index/IndexSettingsTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/StringMappingUpgradeTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/ExistsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/InnerHitBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchNoneQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchPhrasePrefixQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchPhraseQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MultiMatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NestedQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/support/InnerHitsBuilderTests.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
core/src/test/java/org/elasticsearch/ingest/core/ConfigurationUtilsTests.java
core/src/test/java/org/elasticsearch/ingest/core/IngestDocumentTests.java
core/src/test/java/org/elasticsearch/ingest/processor/DateIndexNameFactoryTests.java
core/src/test/java/org/elasticsearch/ingest/processor/DateIndexNameProcessorTests.java
core/src/test/java/org/elasticsearch/ingest/processor/SetProcessorFactoryTests.java
core/src/test/java/org/elasticsearch/ingest/processor/SetProcessorTests.java
core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
core/src/test/java/org/elasticsearch/snapshots/SnapshotUtilsTests.java
core/src/test/java/org/elasticsearch/threadpool/ESThreadPoolTestCase.java
core/src/test/java/org/elasticsearch/threadpool/ScalingThreadPoolTests.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/CountMethodFunctionValues.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/CountMethodValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/DateField.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/DateMethodFunctionValues.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/DateMethodValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/EmptyMemberValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/FieldDataFunctionValues.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/FieldDataValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/GeoEmptyValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/GeoField.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/GeoLatitudeValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/GeoLongitudeValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/NumericField.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ReplaceableConstFunctionValues.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ReplaceableConstValueSource.java
modules/lang-expression/src/test/java/org/elasticsearch/script/expression/MoreExpressionTests.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/TemplateQueryParserTests.java
plugins/discovery-azure/src/main/java/org/elasticsearch/cloud/azure/management/AzureComputeService.java
plugins/discovery-azure/src/main/java/org/elasticsearch/cloud/azure/management/AzureComputeServiceImpl.java
plugins/discovery-azure/src/main/java/org/elasticsearch/discovery/azure/AzureUnicastHostsProvider.java
plugins/discovery-azure/src/main/java/org/elasticsearch/plugin/discovery/azure/AzureDiscoveryPlugin.java
plugins/discovery-azure/src/test/java/org/elasticsearch/discovery/azure/AzureDiscoveryClusterFormationTests.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryClusterFormationTests.java
plugins/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/GeoIpProcessor.java
plugins/ingest-geoip/src/test/java/org/elasticsearch/ingest/geoip/GeoIpProcessorFactoryTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MultifieldAttachmentMapperTests.java
test/framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
comments:
Merge branch 'master' into enhancement/switch_geodistancesortbuilder_to_geovalidationmethod

time:
2016-05-04T09:25:23Z
class:
core/src/test/java/org/elasticsearch/search/sort/AbstractSortTestCase.java
core/src/test/java/org/elasticsearch/search/sort/FieldSortBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/GeoDistanceSortBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/NestedQueryBuilderGenerator.java
core/src/test/java/org/elasticsearch/search/sort/ScriptSortBuilderTests.java
comments:
Fold helper class into abstract sort test class.

Folds the helper class for random object generation into the
abstract sort test class. Removes a few references to ESTestCase
that were not needed due to inheriting from it along the way.

time:
2016-05-04T08:24:46Z
class:
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCheck.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapSettings.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/http/HttpTransportSettings.java
core/src/main/java/org/elasticsearch/http/netty/ESHttpContentDecompressor.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/ingest/core/IngestDocument.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapCheckTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpCompressionIT.java
core/src/test/java/org/elasticsearch/index/IndexSettingsTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/StringMappingUpgradeTests.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/CountMethodFunctionValues.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/CountMethodValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/DateField.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/DateMethodFunctionValues.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/DateMethodValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/EmptyMemberValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/FieldDataFunctionValues.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/FieldDataValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/GeoEmptyValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/GeoField.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/GeoLatitudeValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/GeoLongitudeValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/NumericField.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ReplaceableConstFunctionValues.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ReplaceableConstValueSource.java
modules/lang-expression/src/test/java/org/elasticsearch/script/expression/MoreExpressionTests.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/TemplateQueryParserTests.java
test/framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
comments:
Merge branch 'master' into tests/switch_to_random_value_other_than_for_sort

time:
2016-05-04T06:53:11Z
class:
comments:
Update store documentation after #17616.

time:
2016-05-04T06:53:11Z
class:
comments:
Add note about using ipv6 addresses in `query_string`.

time:
2016-05-04T05:20:58Z
class:
comments:
Merge pull request #18125 from jeesim2/patch-3

Update java client.asciidoc - Settings.settingsBuilder() removal.

time:
2016-05-04T05:07:28Z
class:
comments:
Update client.asciidoc

as of https://github.com/elastic/elasticsearch/commit/42526ac28e07da0055faafca1de6f8c5ec96cd855.0.0 alpha2 have no settingsBuilder() method.

time:
2016-05-03T17:29:57Z
class:
comments:
Update function-score-query.asciidoc (#18115)

time:
2016-05-03T16:56:16Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/TemplateQueryParserTests.java
comments:
Make reset() in QueryShardContext private

The query shard reset() method resets some internal state in the
query shard context, like clearing query names, the filter flag
or named queries. The problem with this method being public is
that it currently (miss?) used for modifying an existing context
for recursive invocatiob, but the contexts that have been reseted
that way cannot be properly set back to their previous state.

This PR is a step towards removing reset() entirely by first making
it only be used internally in QueryShardContext. In places where
reset() was used we can either create new QueryShardContexts or
modify the existing context because it is discarded afterwards anyway.

time:
2016-05-03T16:46:37Z
class:
comments:
Merge remote-tracking branch 'dakrone/document-new-explain-stuff'

time:
2016-05-03T16:03:00Z
class:
comments:
Revert "Removing old documentation mentioning NodeBuilder."

This reverts commit 3ca02d647eafcd875802109fcbd009e80d37e5bb.

time:
2016-05-03T15:51:15Z
class:
comments:
Add documentation for shard store output in allocation explain API

Relates to #17689

time:
2016-05-03T15:37:34Z
class:
comments:
Removing old documentation mentioning NodeBuilder.

time:
2016-05-03T14:05:44Z
class:
core/src/main/java/org/elasticsearch/ingest/core/IngestDocument.java
comments:
Avoid string concatentation in IngestDocument.FieldPath

Today, the constructor for IngestDocument#FieldPath does a stringconcatentation and two object allocation on every field path. Thiscommit removes these unnecessary operations.Relates #18108

time:
2016-05-03T13:35:33Z
class:
comments:
Bumped docs version

time:
2016-05-03T13:20:19Z
class:
comments:
Add note on configuring assertions in IDEs

This commit adds a note to the contributing docs on how to configureassertions inside Eclipse and IntelliJ.Relates #18107

time:
2016-05-03T09:31:56Z
class:
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/test/java/org/elasticsearch/index/IndexSettingsTests.java
comments:
Use object equality to compare versions in IndexSettings (#18103)

Fixes an issue where updating index metadata on a index from a version that it does not have in its static list of known versions fails.

time:
2016-05-03T06:53:15Z
class:
core/src/main/java/org/elasticsearch/http/HttpTransportSettings.java
core/src/main/java/org/elasticsearch/http/netty/ESHttpContentDecompressor.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpCompressionIT.java
test/framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
comments:
Enable HTTP compression by default with compression level 3

With this commit we compress HTTP responses provided the client
supports it (as indicated by the HTTP header 'Accept-Encoding').

We're also able to process compressed HTTP requests if needed.

The default compression level is lowered from 6 to 3 as benchmarks
have indicated that this reduces query latency with a negligible
increase in network traffic.

Closes #7309

time:
2016-05-02T23:38:34Z
class:
modules/lang-expression/src/test/java/org/elasticsearch/script/expression/MoreExpressionTests.java
comments:
Merge pull request #18099 from rmuir/expression_boolean

Add tests/doc for boolean fields with expressions

time:
2016-05-02T22:13:03Z
class:
modules/lang-expression/src/test/java/org/elasticsearch/script/expression/MoreExpressionTests.java
comments:
Add tests/doc for boolean fields with expressions

time:
2016-05-02T21:49:21Z
class:
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/CountMethodFunctionValues.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/CountMethodValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/DateField.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/DateMethodFunctionValues.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/DateMethodValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/EmptyMemberValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/FieldDataFunctionValues.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/FieldDataValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/GeoEmptyValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/GeoField.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/GeoLatitudeValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/GeoLongitudeValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/NumericField.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ReplaceableConstFunctionValues.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ReplaceableConstValueSource.java
modules/lang-expression/src/test/java/org/elasticsearch/script/expression/MoreExpressionTests.java
comments:
Support geo_point fields in lucene expressions.

Closes #18096

time:
2016-05-02T20:14:05Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
comments:
also compute completion stats for 2.x shards

time:
2016-05-02T18:49:15Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
comments:
Merge pull request #18094 from mikemccand/completion_stats_once

Don't try to compute completion stats on a reader after we already closed it

Conflicts:
	core/src/main/java/org/elasticsearch/index/shard/IndexShard.java

time:
2016-05-02T16:22:40Z
class:
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCheck.java
comments:
Kill redundant conditional in BootstrapCheck#check

This commit removes an unnecessary if statement in Bootstrap#check. The
removed if statement was duplicating the conditionals in the nested if
statements and was merely an artifact of an earlier refactoring.

time:
2016-05-02T15:48:35Z
class:
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCheck.java
comments:
Mark MaxMapCountCheck#isSystemCheck as final

This commit marks the method MaxMapCountCheck#isSystemCheck as final as
this method should not be modifiable by inheriting classes (used in
tests).

time:
2016-05-02T15:28:43Z
class:
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/core/StringMappingUpgradeTests.java
comments:
Fail automatic string upgrade if the value of `index` is not recognized. #18082

Closes #18062

time:
2016-05-02T14:59:50Z
class:
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCheck.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapSettings.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapCheckTests.java
comments:
Add system bootstrap checks escape hatch

Today when running in production mode the bootstrap checks arecompletely unforgiving. But there are cases where an end-user might nothave the ability to modify some of the system-level settings that causethe bootstrap checks to trip (e.g., guest settings that are inheritedfrom a host and can not be modified). This commit adds a setting thatallows system-level bootstrap checks to be ignored for theseend-users. We classify certain bootstrap checks into system-level checksand only those bootstrap checks will be ignored if this flag isenabled. All other bootstrap checks are still subject to being enforcedif the user is in production mode. We will still log warnings for thesebootstrap checks because the end-user does still need to be made awarethat they are running in a configuration that is less-than-ideal from aresiliency perspective.Relates #18088

time:
2016-05-02T13:41:05Z
class:
core/src/test/java/org/elasticsearch/search/sort/FieldSortBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/ScriptSortBuilderTests.java
test/framework/src/main/java/org/elasticsearch/test/ESTestCase.java
comments:
Switch to using predicate for testing existing value

time:
2016-05-02T13:07:25Z
class:
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/CountMethodValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/EmptyMemberValueSource.java
modules/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
modules/lang-expression/src/test/java/org/elasticsearch/script/expression/MoreExpressionTests.java
comments:
Add support for .empty to expressions, and some docs improvements

Closes #18077

time:
2016-05-02T12:21:59Z
class:
comments:
Added release notes for 5.0.0-alpha2

time:
2016-05-02T11:50:00Z
class:
core/src/test/java/org/elasticsearch/search/sort/FieldSortBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/GeoDistanceSortBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/NestedQueryBuilderGenerator.java
core/src/test/java/org/elasticsearch/search/sort/ScriptSortBuilderTests.java
comments:
Use plain random values for generating *SortBuilders

time:
2016-05-02T11:47:14Z
class:
comments:
Update keyword.asciidoc

`ignore_above` doesn't apply to analyzed `text` fields

time:
2016-05-02T11:06:07Z
class:
comments:
Change qoutes to quotes (#18078)

Updated misspelling in documentation

time:
2016-05-02T09:38:40Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanation.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/NodeExplanation.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoresResponse.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/Queries.java
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/main/java/org/elasticsearch/common/unit/SizeValue.java
core/src/main/java/org/elasticsearch/common/util/concurrent/KeyedLock.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/InnerHitBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/support/InnerHitsBuilder.java
core/src/main/java/org/elasticsearch/index/search/MatchQuery.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/ingest/core/ConfigurationUtils.java
core/src/main/java/org/elasticsearch/ingest/core/IngestDocument.java
core/src/main/java/org/elasticsearch/ingest/processor/DateIndexNameProcessor.java
core/src/main/java/org/elasticsearch/ingest/processor/SetProcessor.java
core/src/main/java/org/elasticsearch/node/NodeModule.java
core/src/main/java/org/elasticsearch/rest/action/support/RestTable.java
core/src/main/java/org/elasticsearch/script/ScriptMetaData.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotUtils.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanationTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/ExistsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/InnerHitBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchNoneQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchPhrasePrefixQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchPhraseQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MultiMatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NestedQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/support/InnerHitsBuilderTests.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
core/src/test/java/org/elasticsearch/ingest/core/ConfigurationUtilsTests.java
core/src/test/java/org/elasticsearch/ingest/core/IngestDocumentTests.java
core/src/test/java/org/elasticsearch/ingest/processor/DateIndexNameFactoryTests.java
core/src/test/java/org/elasticsearch/ingest/processor/DateIndexNameProcessorTests.java
core/src/test/java/org/elasticsearch/ingest/processor/SetProcessorFactoryTests.java
core/src/test/java/org/elasticsearch/ingest/processor/SetProcessorTests.java
core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
core/src/test/java/org/elasticsearch/snapshots/SnapshotUtilsTests.java
core/src/test/java/org/elasticsearch/threadpool/ESThreadPoolTestCase.java
core/src/test/java/org/elasticsearch/threadpool/ScalingThreadPoolTests.java
plugins/discovery-azure/src/main/java/org/elasticsearch/cloud/azure/management/AzureComputeService.java
plugins/discovery-azure/src/main/java/org/elasticsearch/cloud/azure/management/AzureComputeServiceImpl.java
plugins/discovery-azure/src/main/java/org/elasticsearch/discovery/azure/AzureUnicastHostsProvider.java
plugins/discovery-azure/src/main/java/org/elasticsearch/plugin/discovery/azure/AzureDiscoveryPlugin.java
plugins/discovery-azure/src/test/java/org/elasticsearch/discovery/azure/AzureDiscoveryClusterFormationTests.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryClusterFormationTests.java
plugins/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/GeoIpProcessor.java
plugins/ingest-geoip/src/test/java/org/elasticsearch/ingest/geoip/GeoIpProcessorFactoryTests.java
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MultifieldAttachmentMapperTests.java
comments:
Merge branch 'master' into tests/switch_to_random_value_other_than_for_sort

time:
2016-04-29T20:21:59Z
class:
core/src/test/java/org/elasticsearch/threadpool/ScalingThreadPoolTests.java
comments:
Remove unused import from ScalingThreadPoolTests

time:
2016-04-29T20:21:22Z
class:
core/src/test/java/org/elasticsearch/threadpool/ScalingThreadPoolTests.java
comments:
Remove racy but unnecessary assertion

This commit removes a racy but unnecessary assertion in scaling thread
pool idle test. Namely, the main test thread can reach the removed
assertion before the last few threads in the thread pool have completed
their tasks and caused the completed tasks count on the underlying
executor to be updated. But this assertion is unnecessary. The main test
thread already waits on a latch that is only decremented immediately
before a task completes. This ensures that it was in fact the case that
every submitted task was executed.

Closes #18072

time:
2016-04-29T17:29:25Z
class:
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
comments:
Tests: Fix TermsQueryBuilderTests expectations when lookup returns no terms

When the termslookup (mocked in this case) doesn't return any terms, the
query used to rewrite to an empty boolean query. Now it rewrites to a
MatchNoDocsQuery. This changes the test expectation accordingly.

Closes #18071

time:
2016-04-29T16:07:48Z
class:
comments:
Fixed the documentation formatting. (#17990)

The source code example for the initial example was missing the correct JSON object formatting and syntax.  That has been fixed with my change.

time:
2016-04-29T16:03:22Z
class:
comments:
Fix typo in include-in-all.asciidoc (#18055)

time:
2016-04-29T15:40:31Z
class:
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
comments:
When checking if an index tombstone can be applied, use both the index
name and uuid because the cluster state may contain an active index of
the same name (but different uuid).

Closes #18058
Closes #18054

time:
2016-04-29T15:20:48Z
class:
core/src/main/java/org/elasticsearch/ingest/processor/DateIndexNameProcessor.java
core/src/main/java/org/elasticsearch/node/NodeModule.java
core/src/test/java/org/elasticsearch/ingest/processor/DateIndexNameFactoryTests.java
core/src/test/java/org/elasticsearch/ingest/processor/DateIndexNameProcessorTests.java
comments:
ingest: Add `date_index_name` processor.

Closes #17814

time:
2016-04-29T14:58:27Z
class:
plugins/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/GeoIpProcessor.java
plugins/ingest-geoip/src/test/java/org/elasticsearch/ingest/geoip/GeoIpProcessorFactoryTests.java
comments:
Validate properties values according to database type (#17940)

Fixes #17683.

time:
2016-04-29T14:56:24Z
class:
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeService.java
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeServiceImpl.java
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/GceMetadataService.java
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/GceMetadataServiceImpl.java
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/GceModule.java
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/network/GceNameResolver.java
plugins/discovery-gce/src/main/java/org/elasticsearch/plugin/discovery/gce/GceDiscoveryPlugin.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceComputeServiceMock.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoverTests.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoveryTests.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceMetadataServiceMock.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceMockUtils.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceNetworkTests.java
comments:
Allow `_gce_` network when not using discovery gce

For now we support `_gce_` only if discovery is set to `gce` and all information about GCE is provided (project_id and zone).
But in some cases, people would like to only bind to `_gce_` on a single node (without any elasticsearch cluster).

They could access the machine then from other machines running inside the same project.

This commit adds a new GceMetadataService which is started as soon as the plugin is started so GceNameResolver can use it to resolve `_gce`.

Closes #15724.

time:
2016-04-29T14:29:02Z
class:
core/src/test/java/org/elasticsearch/threadpool/ESThreadPoolTestCase.java
comments:
Return null for "same" thread pool info

This commit modifes the EsThreadPoolTestCase#info helper method to
return null when info for the thread pool can not be found. This really
should only happen for the "same" thread pool, and so we also assert
that we only get to a place where there is no info if the thread pool
that info was requested for is in fact the "same" thread pool. Not
returning null here and instead throwing an exception would fail tests
that tried to lookup info on the "same" thread pool.

time:
2016-04-29T13:54:15Z
class:
plugins/discovery-azure/src/main/java/org/elasticsearch/cloud/azure/management/AzureComputeService.java
plugins/discovery-azure/src/main/java/org/elasticsearch/cloud/azure/management/AzureComputeServiceImpl.java
plugins/discovery-azure/src/main/java/org/elasticsearch/discovery/azure/AzureUnicastHostsProvider.java
plugins/discovery-azure/src/main/java/org/elasticsearch/plugin/discovery/azure/AzureDiscoveryPlugin.java
plugins/discovery-azure/src/test/java/org/elasticsearch/discovery/azure/AzureDiscoveryClusterFormationTests.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryClusterFormationTests.java
comments:
Add Azure discovery tests mocking Azure management endpoint (#18004)

time:
2016-04-29T13:47:03Z
class:
core/src/test/java/org/elasticsearch/index/query/ExistsQueryBuilderTests.java
comments:
test: changed test's expectation that a BooleanQuery is returned. A NoMatchDocsQuery is returned instead now.

time:
2016-04-29T13:39:51Z
class:
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/AwsS3Service.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/InternalAwsS3Service.java
plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3Repository.java
comments:
Update after rebase onto master

time:
2016-04-29T13:21:16Z
class:
core/src/main/java/org/apache/lucene/document/XInetAddressPoint.java
core/src/main/java/org/apache/lucene/index/XPointValues.java
core/src/main/java/org/apache/lucene/index/memory/ExtendedMemoryIndex.java
core/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/apache/lucene/queryparser/classic/MissingFieldQueryExtension.java
core/src/main/java/org/apache/lucene/search/XFilteredDocIdSetIterator.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XFuzzySuggester.java
core/src/main/java/org/apache/lucene/search/vectorhighlight/CustomFieldQuery.java
core/src/main/java/org/apache/lucene/spatial/geopoint/search/XGeoPointDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/Build.java
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/ExceptionsHelper.java
core/src/main/java/org/elasticsearch/SpecialPermission.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/ActionFuture.java
core/src/main/java/org/elasticsearch/action/ActionListener.java
core/src/main/java/org/elasticsearch/action/ActionListenerResponseHandler.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/ActionRequest.java
core/src/main/java/org/elasticsearch/action/ActionRequestBuilder.java
core/src/main/java/org/elasticsearch/action/ActionWriteResponse.java
core/src/main/java/org/elasticsearch/action/AliasesRequest.java
core/src/main/java/org/elasticsearch/action/DocWriteResponse.java
core/src/main/java/org/elasticsearch/action/DocumentRequest.java
core/src/main/java/org/elasticsearch/action/IndicesRequest.java
core/src/main/java/org/elasticsearch/action/NoSuchNodeException.java
core/src/main/java/org/elasticsearch/action/RealtimeRequest.java
core/src/main/java/org/elasticsearch/action/ReplicationResponse.java
core/src/main/java/org/elasticsearch/action/TaskOperationFailure.java
core/src/main/java/org/elasticsearch/action/TransportActionNodeProxy.java
core/src/main/java/org/elasticsearch/action/UnavailableShardsException.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanation.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/NodeExplanation.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/LivenessResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/TransportLivenessAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/CancelTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/CancelTasksRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/CancelTasksRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/CancelTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/TransportCancelTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/ListTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/ListTasksRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/ListTasksRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/ListTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TaskGroup.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TaskInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TransportListTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/TransportDeleteRepositoryAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/TransportGetRepositoriesAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/TransportPutRepositoryAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/TransportVerifyRepositoryAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/ClusterUpdateSettingsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/SettingsUpdater.java
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsGroup.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/DeleteSnapshotRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/TransportRestoreSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexShardStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotShardsStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodeResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/DeleteStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/DeleteStoredScriptRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/DeleteStoredScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/DeleteStoredScriptResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/GetStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/GetStoredScriptRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/GetStoredScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/GetStoredScriptResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/PutStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/PutStoredScriptRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/PutStoredScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/PutStoredScriptResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/TransportDeleteStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/TransportGetStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/TransportPutStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/tasks/PendingClusterTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/tasks/TransportPendingClusterTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/RenderSearchTemplateRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/TransportRenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/TransportIndicesAliasesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/exists/TransportAliasesExistAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/DetailAnalyzeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/TransportCreateIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/indices/TransportIndicesExistsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/types/TypesExistsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/FlushRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/ShardFlushRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/SyncedFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/SyncedFlushRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/SyncedFlushRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/SyncedFlushResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportSyncedFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/forcemerge/ForceMergeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/forcemerge/TransportForceMergeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/TransportGetIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetMappingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/open/TransportOpenIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/get/TransportGetSettingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/put/TransportUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/put/UpdateSettingsClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/put/UpdateSettingsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/put/UpdateSettingsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoresRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoresResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/TransportIndicesShardStoresAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStatsFlags.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/delete/TransportDeleteIndexTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/get/TransportGetIndexTemplatesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/put/TransportPutIndexTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/TransportUpgradeStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeSettingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/TransportGetWarmersAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/package-info.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java
core/src/main/java/org/elasticsearch/action/bulk/BackoffPolicy.java
core/src/main/java/org/elasticsearch/action/bulk/BulkItemRequest.java
core/src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java
core/src/main/java/org/elasticsearch/action/bulk/BulkProcessor.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequestHandler.java
core/src/main/java/org/elasticsearch/action/bulk/BulkResponse.java
core/src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java
core/src/main/java/org/elasticsearch/action/bulk/BulkShardResponse.java
core/src/main/java/org/elasticsearch/action/bulk/Retry.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/DeleteRequest.java
core/src/main/java/org/elasticsearch/action/delete/DeleteResponse.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/explain/ExplainRequest.java
core/src/main/java/org/elasticsearch/action/explain/ExplainResponse.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStats.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequest.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsResponse.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardResponse.java
core/src/main/java/org/elasticsearch/action/fieldstats/IndexConstraint.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/action/get/GetRequest.java
core/src/main/java/org/elasticsearch/action/get/GetRequestBuilder.java
core/src/main/java/org/elasticsearch/action/get/MultiGetRequest.java
core/src/main/java/org/elasticsearch/action/get/MultiGetRequestBuilder.java
comments:
Merge branch 'master' into pr/s3-path-style-access

# Conflicts:
#	plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/AwsS3Service.java
#	plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/InternalAwsS3Service.java
#	plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3Repository.java
#	plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/TestAwsS3Service.java

time:
2016-04-29T13:09:14Z
class:
core/src/main/java/org/elasticsearch/common/unit/SizeValue.java
core/src/main/java/org/elasticsearch/rest/action/support/RestTable.java
comments:
Merge branch 'pr/cat-size-time-units'

time:
2016-04-29T13:03:25Z
class:
comments:
Merge remote-tracking branch 'origin/master'

time:
2016-04-29T13:02:04Z
class:
plugins/mapper-attachments/src/test/java/org/elasticsearch/mapper/attachments/MultifieldAttachmentMapperTests.java
comments:
Fix test in mapper attachments plugin

time:
2016-04-29T13:00:32Z
class:
comments:
Merge pull request #17994 from eskibars/master

Add new IPv6 types to docs where it's supported

time:
2016-04-29T12:55:42Z
class:
core/src/main/java/org/apache/lucene/document/XInetAddressPoint.java
core/src/main/java/org/apache/lucene/index/XPointValues.java
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XFuzzySuggester.java
core/src/main/java/org/apache/lucene/spatial/geopoint/search/XGeoPointDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/ActionListenerResponseHandler.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/DocWriteResponse.java
core/src/main/java/org/elasticsearch/action/RealtimeRequest.java
core/src/main/java/org/elasticsearch/action/ReplicationResponse.java
core/src/main/java/org/elasticsearch/action/TaskOperationFailure.java
core/src/main/java/org/elasticsearch/action/TransportActionNodeProxy.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanation.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/NodeExplanation.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/TransportCancelTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/ListTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TaskInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TransportListTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/ClusterUpdateSettingsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/SettingsUpdater.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexShardStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotShardsStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/DeleteStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/DeleteStoredScriptRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/DeleteStoredScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/DeleteStoredScriptResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/GetStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/GetStoredScriptRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/GetStoredScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/GetStoredScriptResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/PutStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/PutStoredScriptRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/PutStoredScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/PutStoredScriptResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/TransportDeleteStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/TransportGetStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/TransportPutStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/tasks/PendingClusterTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/RenderSearchTemplateRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/TransportRenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/DetailAnalyzeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/SyncedFlushResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/put/UpdateSettingsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoresResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/TransportIndicesShardStoresAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/put/TransportPutIndexTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/DeleteResponse.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/explain/ExplainRequest.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStats.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequest.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsResponse.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardResponse.java
core/src/main/java/org/elasticsearch/action/fieldstats/IndexConstraint.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/action/get/GetRequest.java
core/src/main/java/org/elasticsearch/action/get/GetRequestBuilder.java
core/src/main/java/org/elasticsearch/action/get/MultiGetRequest.java
core/src/main/java/org/elasticsearch/action/get/MultiGetRequestBuilder.java
core/src/main/java/org/elasticsearch/action/get/MultiGetResponse.java
core/src/main/java/org/elasticsearch/action/get/MultiGetShardRequest.java
core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java
core/src/main/java/org/elasticsearch/action/get/TransportShardMultiGetAction.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/index/IndexResponse.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/delete/DeleteIndexedScriptRequest.java
core/src/main/java/org/elasticsearch/action/indexedscripts/delete/DeleteIndexedScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/indexedscripts/delete/DeleteIndexedScriptResponse.java
core/src/main/java/org/elasticsearch/action/indexedscripts/delete/TransportDeleteIndexedScriptAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/delete/package-info.java
core/src/main/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequest.java
core/src/main/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptResponse.java
core/src/main/java/org/elasticsearch/action/indexedscripts/get/TransportGetIndexedScriptAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/get/package-info.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptRequest.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptResponse.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/TransportPutIndexedScriptAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/package-info.java
core/src/main/java/org/elasticsearch/action/ingest/IngestProxyActionFilter.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateDocumentBaseResult.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateDocumentResult.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateDocumentVerboseResult.java
core/src/main/java/org/elasticsearch/action/ingest/SimulatePipelineResponse.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateProcessorResult.java
core/src/main/java/org/elasticsearch/action/ingest/WriteableIngestDocument.java
core/src/main/java/org/elasticsearch/action/percolate/MultiPercolateResponse.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateResponse.java
core/src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
core/src/main/java/org/elasticsearch/action/search/ClearScrollResponse.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchResponse.java
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/search/SearchResponse.java
core/src/main/java/org/elasticsearch/action/support/ToXContentToBytes.java
core/src/main/java/org/elasticsearch/action/support/broadcast/BroadcastShardRequest.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/action/support/master/MasterNodeRequest.java
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeAction.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodeRequest.java
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationOperation.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/tasks/BaseTasksRequest.java
core/src/main/java/org/elasticsearch/action/support/tasks/TasksRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/tasks/TransportTasksAction.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsResponse.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsResponse.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportMultiTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/update/UpdateHelper.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequest.java
core/src/main/java/org/elasticsearch/action/update/UpdateResponse.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCheck.java
core/src/main/java/org/elasticsearch/bootstrap/JVMCheck.java
core/src/main/java/org/elasticsearch/bootstrap/JavaVersion.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/cli/Command.java
core/src/main/java/org/elasticsearch/client/Client.java
core/src/main/java/org/elasticsearch/client/ClusterAdminClient.java
core/src/main/java/org/elasticsearch/client/ParentTaskAssigningClient.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/cluster/AbstractDiffable.java
core/src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/Diffable.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexGraveyard.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
core/src/main/java/org/elasticsearch/cluster/metadata/RepositoriesMetaData.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodeService.java
core/src/main/java/org/elasticsearch/cluster/routing/AllocationId.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTableValidation.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RerouteExplanation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AbstractAllocateAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateEmptyPrimaryAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateReplicaAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateStalePrimaryAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommandRegistry.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommands.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/BasePrimaryAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/MoveAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ThrottlingAllocationDecider.java
core/src/main/java/org/elasticsearch/common/MacAddressProvider.java
core/src/main/java/org/elasticsearch/common/ParseField.java
core/src/main/java/org/elasticsearch/common/ParseFieldMatcherSupplier.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/Table.java
core/src/main/java/org/elasticsearch/common/TimeBasedUUIDGenerator.java
core/src/main/java/org/elasticsearch/common/UUIDs.java
core/src/main/java/org/elasticsearch/common/breaker/CircuitBreaker.java
core/src/main/java/org/elasticsearch/common/breaker/CircuitBreakingException.java
core/src/main/java/org/elasticsearch/common/breaker/MemoryCircuitBreaker.java
core/src/main/java/org/elasticsearch/common/breaker/NoopCircuitBreaker.java
core/src/main/java/org/elasticsearch/common/geo/GeoDistance.java
core/src/main/java/org/elasticsearch/common/geo/GeoHashUtils.java
core/src/main/java/org/elasticsearch/common/geo/GeoPoint.java
core/src/main/java/org/elasticsearch/common/geo/GeoUtils.java
core/src/main/java/org/elasticsearch/common/geo/ShapeRelation.java
core/src/main/java/org/elasticsearch/common/geo/SpatialStrategy.java
core/src/main/java/org/elasticsearch/common/geo/builders/GeometryCollectionBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/common/inject/InjectorImpl.java
core/src/main/java/org/elasticsearch/common/io/FileSystemUtils.java
core/src/main/java/org/elasticsearch/common/io/stream/NamedWriteable.java
core/src/main/java/org/elasticsearch/common/io/stream/NamedWriteableAwareStreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/NamedWriteableRegistry.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamableReader.java
core/src/main/java/org/elasticsearch/common/io/stream/Writeable.java
core/src/main/java/org/elasticsearch/common/logging/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllEntries.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllField.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllTokenStream.java
core/src/main/java/org/elasticsearch/common/lucene/search/MatchNoDocsQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/Queries.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/CombineFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FieldValueFactorFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/network/NetworkModule.java
core/src/main/java/org/elasticsearch/common/settings/AbstractScopedSettings.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/settings/SettingsFilter.java
core/src/main/java/org/elasticsearch/common/settings/loader/XContentSettingsLoader.java
core/src/main/java/org/elasticsearch/common/transport/DummyTransportAddress.java
core/src/main/java/org/elasticsearch/common/transport/InetSocketTransportAddress.java
core/src/main/java/org/elasticsearch/common/transport/LocalTransportAddress.java
core/src/main/java/org/elasticsearch/common/transport/TransportAddress.java
core/src/main/java/org/elasticsearch/common/transport/TransportAddressSerializers.java
core/src/main/java/org/elasticsearch/common/unit/DistanceUnit.java
core/src/main/java/org/elasticsearch/common/unit/Fuzziness.java
core/src/main/java/org/elasticsearch/common/util/concurrent/EsExecutors.java
core/src/main/java/org/elasticsearch/common/util/concurrent/KeyedLock.java
core/src/main/java/org/elasticsearch/common/util/concurrent/ThreadContext.java
core/src/main/java/org/elasticsearch/common/xcontent/AbstractObjectParser.java
core/src/main/java/org/elasticsearch/common/xcontent/ConstructingObjectParser.java
core/src/main/java/org/elasticsearch/common/xcontent/FromXContentBuilder.java
core/src/main/java/org/elasticsearch/common/xcontent/ObjectParser.java
core/src/main/java/org/elasticsearch/common/xcontent/ParseFieldRegistry.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentParser.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContent.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java
comments:
Merge branch 'master' into pr/attachments-add-test-forced-values

time:
2016-04-29T12:41:57Z
class:
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/AmazonEC2Mock.java
comments:
Add new UnsupportedException for EC Mock

time:
2016-04-29T12:18:27Z
class:
comments:
Added perl migration script for indexed scripts to migration docs

time:
2016-04-29T12:05:23Z
class:
core/src/main/java/org/elasticsearch/common/util/concurrent/KeyedLock.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
comments:
Avoid sliced locked contention in internal engine

Today we use a sliced lock strategy for acquiring locks to preventconcurrent updates to the same document. The number of sliced locks iscomputed as a linear function of the number of logicalprocessors. Unfortunately, the probability of a collision against asliced lock is prone to the birthday problem and grows faster thanexpected. In fact, the mathematics works out such that for a fixedtarget probability of collision, the number of lock slices should growlike the square of the number of logical processors. This isless-than-ideal, and we can do better anyway. This commit introduces astrategy for avoiding lock contention within the internalengine. Ideally, we would only have lock contention if there wereconcurrent updates to the same document. We can get close to this idealworld by associating a lock with the ID of each document. Thisassociation can be held in a concurrent hash map. Now, the JDKConcurrentHashMap also uses a sliced lock internally, but it has severalstrategies for avoiding taking the locks and these locks are only heldfor a very short period of time. This implementation associates areference count with the lock that is associated with a document ID andautomatically removes the document ID from the concurrent hash map whenthe reference count reaches zero.Relates #18060

time:
2016-04-29T09:17:24Z
class:
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/InnerHitBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/support/InnerHitsBuilder.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/InnerHitBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NestedQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/support/InnerHitsBuilderTests.java
core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
comments:
Drop top level inner hits in favour of inner hits defined in the query dsl.

Fix a limitation that prevent from hierarchical inner hits be defined in query dsl.

Removed the nested_path, parent_child_type and query options from inner hits dsl. These options are only set by ES
upon parsing the has_child, has_parent and nested queries are using their respective query builders.

These options are still used internally, when these options are set a new private copy is created based on the
provided InnerHitBuilder and configuring either nested_path or parent_child_type and the inner query of the query builder
being used.

Closes #11118

time:
2016-04-29T03:41:16Z
class:
core/src/main/java/org/elasticsearch/ingest/processor/SetProcessor.java
comments:
Fix line-length violation in SetProcessor

This commit addresses a checkstyle line-length violation in
SetProcessor.java.

time:
2016-04-28T21:00:29Z
class:
core/src/main/java/org/elasticsearch/ingest/core/ConfigurationUtils.java
core/src/main/java/org/elasticsearch/ingest/core/IngestDocument.java
core/src/main/java/org/elasticsearch/ingest/processor/SetProcessor.java
core/src/test/java/org/elasticsearch/ingest/core/ConfigurationUtilsTests.java
core/src/test/java/org/elasticsearch/ingest/core/IngestDocumentTests.java
core/src/test/java/org/elasticsearch/ingest/processor/SetProcessorFactoryTests.java
core/src/test/java/org/elasticsearch/ingest/processor/SetProcessorTests.java
comments:
Merge pull request #17902 from talevy/fix/17659-set-override

add ability to disable ability to override values of existing fields in set processor

time:
2016-04-28T20:50:19Z
class:
core/src/main/java/org/elasticsearch/ingest/core/ConfigurationUtils.java
core/src/main/java/org/elasticsearch/ingest/core/IngestDocument.java
core/src/main/java/org/elasticsearch/ingest/processor/SetProcessor.java
core/src/test/java/org/elasticsearch/ingest/core/ConfigurationUtilsTests.java
core/src/test/java/org/elasticsearch/ingest/core/IngestDocumentTests.java
core/src/test/java/org/elasticsearch/ingest/processor/SetProcessorFactoryTests.java
core/src/test/java/org/elasticsearch/ingest/processor/SetProcessorTests.java
comments:
add ability to disable ability to override values of existing fields in set processor

time:
2016-04-28T19:47:55Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanation.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/NodeExplanation.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoresResponse.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanationTests.java
comments:
Merge remote-tracking branch 'dakrone/add-store-status-to-explain'

time:
2016-04-28T19:46:06Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanationTests.java
comments:
Handle the case where `allocatedPostIndexCreate` is true

time:
2016-04-28T18:48:52Z
class:
comments:
Merge pull request #18050 from rjernst/plugin_props_uptodate

Build: Fix plugin properties generation when version changes

time:
2016-04-28T18:44:48Z
class:
comments:
Build: Fix plugin properties generation when version changes

This change fixes the generation of plugin properties files when the
version changes. Before, it would not regenerate, and running integTest
would fail with an incompatibile version error.

time:
2016-04-28T16:25:48Z
class:
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/test/java/org/elasticsearch/common/settings/SettingTests.java
comments:
Merge pull request #17949 from jaymode/list_setting_exists

fix exists method for list settings when using numbered setting format

time:
2016-04-28T15:30:43Z
class:
comments:
Merge pull request #18047 from rjernst/javac_target

Build: Explicitly set target and source compatibility for javac

time:
2016-04-28T15:14:15Z
class:
comments:
Build: Explicitly set target and source compatibility for javac

Gradle has a "shortcut" which omits the target and source compatibility
we set when it thinks it is not necessary (eg gradle is running on the
same version as the target compat). However, the way we compile against
java 9 is to set javac to use java 9, while gradle still runs on java 8.
This change makes -source and -target explicit for now, until these
"optimizations" can be removed from gradle.

closes #18039

time:
2016-04-28T14:42:12Z
class:
core/src/main/java/org/elasticsearch/script/ScriptMetaData.java
comments:
removed duplicated code

time:
2016-04-28T14:29:06Z
class:
comments:
Merge pull request #18046 from gmoskovicz/master

Allow import of all projects in Eclipse on Windows

time:
2016-04-28T14:08:21Z
class:
comments:
Fix indentation

time:
2016-04-28T14:02:11Z
class:
comments:
Allow import of all projects in Eclipse on Windows

time:
2016-04-28T13:31:56Z
class:
core/src/test/java/org/elasticsearch/search/sort/FieldSortBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/GeoDistanceSortBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/NestedQueryBuilderGenerator.java
core/src/test/java/org/elasticsearch/search/sort/ScriptSortBuilderTests.java
comments:
Shorten nested test query builder generation.

time:
2016-04-28T13:27:36Z
class:
core/src/test/java/org/elasticsearch/search/sort/FieldSortBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/RandomSortDataGenerator.java
comments:
Get rid of no longer needed missing generation method

time:
2016-04-28T13:14:15Z
class:
core/src/test/java/org/elasticsearch/search/sort/FieldSortBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/GeoDistanceSortBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/RandomSortDataGenerator.java
core/src/test/java/org/elasticsearch/search/sort/ScoreSortBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/ScriptSortBuilderTests.java
comments:
Get rid of duplicate random sort order generation

time:
2016-04-28T13:07:55Z
class:
core/src/test/java/org/elasticsearch/search/sort/FieldSortBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/GeoDistanceSortBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/RandomSortDataGenerator.java
core/src/test/java/org/elasticsearch/search/sort/ScriptSortBuilderTests.java
comments:
Get rid of duplicated random ascii generation

time:
2016-04-28T12:45:56Z
class:
core/src/test/java/org/elasticsearch/search/sort/FieldSortBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/RandomSortDataGenerator.java
core/src/test/java/org/elasticsearch/search/sort/ScriptSortBuilderTests.java
test/framework/src/main/java/org/elasticsearch/test/ESTestCase.java
comments:
Switch from separate sort_mode to more general randomValueOtherThan

... for sort tests only ...

time:
2016-04-28T12:34:31Z
class:
comments:
Smoke tester: Fix new x-pack configuration (#17989)

In case of x-pack the superuser role is required.Also the code for extracting the host was simplifiedLastly the keyserver was replaced as the current one is beingunresponsive.

time:
2016-04-28T12:27:22Z
class:
core/src/test/java/org/elasticsearch/search/sort/GeoDistanceSortBuilderTests.java
test/framework/src/main/java/org/elasticsearch/test/ESTestCase.java
comments:
Switch to new random value supplier for test.

time:
2016-04-28T12:13:58Z
class:
comments:
Add note that coerce and ignore_malformed are deprecated for geo
distance sorting

time:
2016-04-28T12:10:59Z
class:
core/src/test/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilderTests.java
comments:
Deprecate coerce/ignore_malformed for GeoBoundingBoxQuery

time:
2016-04-28T12:10:01Z
class:
core/src/main/java/org/elasticsearch/snapshots/SnapshotUtils.java
core/src/test/java/org/elasticsearch/snapshots/SnapshotUtilsTests.java
comments:
Handle indices=["_all"] when restoring a snapshot (#18025)

Setting indices=["_all"] when restoring a snapshot would throw an IndexNotFoundException instead of selecting all indices as in other APIs.

time:
2016-04-28T12:06:27Z
class:
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
comments:
Deprecate coerce/ignore_malformed in GeoDistanceQueryBuilder

time:
2016-04-28T12:01:54Z
class:
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
comments:
Deprecate coerce/ignore_malformed for GeoDistanceRangeQuery

time:
2016-04-28T11:56:50Z
class:
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
comments:
Deprecate coerce/ignore_malformed for GeoPolygonQueryBuilder

Includes update to parsing code, tests, migration docs and reference
docs.

time:
2016-04-28T11:36:14Z
class:
comments:
Update id-field.asciidoc

Clarified which queries support the `_id` field

time:
2016-04-28T11:13:51Z
class:
core/src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/Queries.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/search/MatchQuery.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchNoneQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchPhrasePrefixQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchPhraseQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MultiMatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
comments:
Merge pull request #18007 from MaineC/enhancement/switch_boolean_to_match_no_docs_query

Switches from empty boolean query to matchNoDocs

time:
2016-04-28T10:39:16Z
class:
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/search/MatchQuery.java
comments:
Adjust wording according to review.

time:
2016-04-28T10:35:43Z
class:
core/src/main/java/org/apache/lucene/index/XPointValues.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/ListTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TransportListTasksAction.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStats.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequest.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsResponse.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardResponse.java
core/src/main/java/org/elasticsearch/action/fieldstats/IndexConstraint.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/action/support/tasks/TasksRequestBuilder.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/common/settings/AbstractScopedSettings.java
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/settings/loader/XContentSettingsLoader.java
core/src/main/java/org/elasticsearch/common/xcontent/AbstractObjectParser.java
core/src/main/java/org/elasticsearch/common/xcontent/ConstructingObjectParser.java
core/src/main/java/org/elasticsearch/common/xcontent/ObjectParser.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/KeywordFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyByteFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDoubleFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyFloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyIntegerFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyLongFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyShortFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TextFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/LegacyIpFieldMapper.java
core/src/main/java/org/elasticsearch/rest/action/fieldstats/RestFieldStatsAction.java
core/src/main/java/org/elasticsearch/search/suggest/completion/FuzzyOptions.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/CancellableTasksTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TaskManagerTestCase.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TasksIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TransportTasksActionTests.java
core/src/test/java/org/elasticsearch/action/bulk/BulkProcessorRetryIT.java
core/src/test/java/org/elasticsearch/action/fieldstats/FieldStatsRequestTests.java
core/src/test/java/org/elasticsearch/common/settings/ScopedSettingsTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsModuleTests.java
core/src/test/java/org/elasticsearch/common/xcontent/ConstructingObjectParserTests.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsIntegrationIT.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsTests.java
core/src/test/java/org/elasticsearch/index/fielddata/IndexFieldDataServiceTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/BooleanFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/DateFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/KeywordFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/NumberFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/TextFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/TextFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/ip/IpFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
comments:
Merge branch 'master' into enhancement/switch_boolean_to_match_no_docs_query

time:
2016-04-28T10:10:56Z
class:
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortBuilder.java
core/src/test/java/org/elasticsearch/search/sort/GeoDistanceSortBuilderIT.java
core/src/test/java/org/elasticsearch/search/sort/GeoDistanceSortBuilderTests.java
comments:
Introduces GeoValidationMethod to GeoDistanceSortBuilder

Previously like in other geo related query parsers we were using
a combination of two booleans for coerce and ignore_malformed
which was error prone and not very clear.

Switched to using GeoValidationMethod instead as we already do
e.g. in GeoBoundingBoxQueryBuilder.

Left support for both, coerce and ignore_malformed in the parser
but deprecated the two in favour of validation method.

Introduced the same deprecation in geo bounding box query builder.

time:
2016-04-28T07:39:08Z
class:
core/src/test/java/org/elasticsearch/index/mapper/ip/IpFieldTypeTests.java
comments:
iter

time:
2016-04-28T07:37:04Z
class:
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/KeywordFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TextFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/core/BooleanFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/DateFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/KeywordFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/NumberFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/TextFieldTypeTests.java
comments:
Fail queries on not indexed fields.

While returning no hits on fields that are not mapped may be fine, it is not
for fields that are mapped but not indexed (`index:false`). We should fail the
query in that case rather than returning no hits.

time:
2016-04-27T22:18:20Z
class:
core/src/main/java/org/elasticsearch/common/settings/AbstractScopedSettings.java
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/settings/loader/XContentSettingsLoader.java
core/src/test/java/org/elasticsearch/common/settings/ScopedSettingsTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsModuleTests.java
comments:
Wrap settings at 140 columns

and remove the checkstyle suppressions.

time:
2016-04-27T21:25:37Z
class:
core/src/main/java/org/elasticsearch/Version.java
comments:
Wrap Version at 140 columns

and remove its checkstyle_suppression line

time:
2016-04-27T21:05:09Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/ListTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TransportListTasksAction.java
core/src/main/java/org/elasticsearch/action/support/tasks/TasksRequestBuilder.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/CancellableTasksTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TaskManagerTestCase.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TransportTasksActionTests.java
comments:
Wrap tasks code at 140 columns

Switch something from an explicit toString to Strings.toString which
is the same thing but with more code reuse.

Also renamed a constant to be CONSTANT_CASE.

time:
2016-04-27T20:21:39Z
class:
core/src/test/java/org/elasticsearch/action/bulk/BulkProcessorRetryIT.java
comments:
[test] Remove BulkProcessorRetryIT's generic threadpool setting

It wasn't required to excercise the retries and it caused stability issues.

time:
2016-04-27T19:32:56Z
class:
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TasksIT.java
comments:
[test] Wrap long lines in TasksIT

time:
2016-04-27T19:28:35Z
class:
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TasksIT.java
comments:
[test] TasksIT expected a request per copy

But instead the field stats API makes a request per primary.

time:
2016-04-27T19:26:55Z
class:
core/src/main/java/org/apache/lucene/index/XPointValues.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/core/DateFieldTypeTests.java
comments:
Merge pull request #18011 from jimferenczi/point_values_fix

Add XPointValues

time:
2016-04-27T18:51:30Z
class:
core/src/main/java/org/apache/lucene/index/XPointValues.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/core/DateFieldTypeTests.java
comments:
Add XPointValues: forked utility methods from Lucene's PointValues until LUCENE-7257 is released.
Replace PointValues with XPointValues where needed.
Fixes #18010

time:
2016-04-27T18:10:01Z
class:
core/src/main/java/org/elasticsearch/common/xcontent/AbstractObjectParser.java
core/src/main/java/org/elasticsearch/common/xcontent/ConstructingObjectParser.java
core/src/main/java/org/elasticsearch/common/xcontent/ObjectParser.java
core/src/main/java/org/elasticsearch/search/suggest/completion/FuzzyOptions.java
core/src/test/java/org/elasticsearch/common/xcontent/ConstructingObjectParserTests.java
comments:
ConstructingObjectParser is ObjectParser for ctors

ObjectParser makes parsing XContent 95% easier. No more nested loops.
No more forgetting to use ParseField. Consistent handling for arrays.
Awesome. But ObjectParser doesn't support building things objects whose
constructor arguments are mixed in with the rest of its properties.
Enter ConstructingObjectParser! ConstructingObjectParser queues up
fields until all of the constructor arguments have been parsed and
then sets them on the target object.

Closes #17352

time:
2016-04-27T17:24:40Z
class:
comments:
Merge pull request #18019 from jasontedor/pull-request-template

Add pull request template

time:
2016-04-27T17:17:53Z
class:
comments:
Uncomment pull request template body

This commit uncomments the pull request template body to make it more
visible, and adds an explanation of the templates purpose.

time:
2016-04-27T17:02:07Z
class:
comments:
Add pull request template

This commits adds a pull request template for contributors that submit
documentation updates or code patches.

time:
2016-04-27T16:43:08Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanationTests.java
comments:
Reorganize final decision, explanation, and store copy calculation, add tests

time:
2016-04-27T15:18:12Z
class:
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStats.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequest.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsResponse.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardResponse.java
core/src/main/java/org/elasticsearch/action/fieldstats/IndexConstraint.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyByteFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDoubleFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyFloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyIntegerFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyLongFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyShortFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TextFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/LegacyIpFieldMapper.java
core/src/main/java/org/elasticsearch/rest/action/fieldstats/RestFieldStatsAction.java
core/src/test/java/org/elasticsearch/action/fieldstats/FieldStatsRequestTests.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsIntegrationIT.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsTests.java
core/src/test/java/org/elasticsearch/index/fielddata/IndexFieldDataServiceTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/TextFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
comments:
Merge pull request #17980 from jimferenczi/extend_field_stats

Extend field stats

time:
2016-04-27T15:07:44Z
class:
comments:
Revert IPv6 here

time:
2016-04-27T14:51:53Z
class:
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStats.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequest.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsResponse.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardResponse.java
core/src/main/java/org/elasticsearch/action/fieldstats/IndexConstraint.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyByteFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDoubleFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyFloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyIntegerFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyLongFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyShortFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TextFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/LegacyIpFieldMapper.java
core/src/main/java/org/elasticsearch/rest/action/fieldstats/RestFieldStatsAction.java
core/src/test/java/org/elasticsearch/action/fieldstats/FieldStatsRequestTests.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsIntegrationIT.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsTests.java
core/src/test/java/org/elasticsearch/index/fielddata/IndexFieldDataServiceTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/TextFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
comments:
Extend field stats:
* Add isSearchable and isAggregatable (collapsed to true if any of the instances of that field are searchable or aggregatable).
* Accept wildcards in field names.
* Add a section named conflicts for fields with the same name but with incompatible types (instead of throwing an exception).

time:
2016-04-27T14:35:33Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanation.java
comments:
Use "_in_millis" for the suffix of delay times

Also change the javadoc to say "milliseconds" instead of "nanoseconds"

time:
2016-04-27T13:37:07Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
comments:
Javadoc: In Stream* scannability is priority 1!

time:
2016-04-27T13:17:54Z
class:
core/src/test/java/org/elasticsearch/threadpool/ScalingThreadPoolTests.java
comments:
Merge branch 'master' into enhancement/switch_boolean_to_match_no_docs_query

time:
2016-04-27T13:08:28Z
class:
core/src/main/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/Queries.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/search/MatchQuery.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchNoneQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchPhrasePrefixQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchPhraseQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MultiMatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
comments:
Switch to MatchNoDocsQuery with explicit reason string

time:
2016-04-27T12:27:38Z
class:
core/src/test/java/org/elasticsearch/threadpool/ScalingThreadPoolTests.java
comments:
Fix test bug in scaling thread pool idle test

This commit fixes a test bug in the scaling thread pool idle
test. Namely, a random thread pool is chosen which could have a min pool
size of one or four but the while loop was acting as if the min pool
size was four (this is due to the test having been initially written for
only the generic thread pool).

Additionally, a latch is added between the test thread and the work
tasks to reduce the chance of a race condition between the test thread
and last few tasks.

time:
2016-04-27T12:11:17Z
class:
plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3Repository.java
comments:
S3 repositories credentials should be filtered

When working on #18008 I found while reading the code that we don't filter anymore `repositories.s3.access_key` and `repositories.s3.secret_key`.

Also fixed a typo in REST test

time:
2016-04-27T12:03:29Z
class:
core/src/main/java/org/elasticsearch/index/search/MatchQuery.java
comments:
Removing question concerning default no docs query.

time:
2016-04-27T11:19:50Z
class:
core/src/main/java/org/elasticsearch/common/lucene/search/Queries.java
core/src/main/java/org/elasticsearch/index/search/MatchQuery.java
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchNoneQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchPhrasePrefixQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchPhraseQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
comments:
Switches from empty boolean query to matchNoDocs

Closes #17981

time:
2016-04-27T10:29:02Z
class:
core/src/main/java/org/elasticsearch/rest/action/cat/RestFielddataAction.java
comments:
Row-centric output for _cat/fielddata

time:
2016-04-27T10:10:19Z
class:
comments:
Update keyword.asciidoc

time:
2016-04-26T19:12:36Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanation.java
comments:
Remove unneeded imports

time:
2016-04-26T19:06:32Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanation.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanationTests.java
comments:
Get tests working with the new redesign

time:
2016-04-26T19:03:38Z
class:
comments:
Updated the 2.3.2 bwc indices with those built from master

time:
2016-04-26T18:38:49Z
class:
comments:
Add new IPv6 types to docs where it's supported

time:
2016-04-26T18:31:00Z
class:
comments:
Duplicated colon was removed (#17988)

Hope this help :-)

time:
2016-04-26T18:13:08Z
class:
comments:
removing duplicated parenthese open (#17975)

removing duplicated parenthese open

time:
2016-04-26T16:36:48Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanation.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/NodeExplanation.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java
comments:
Move remaining logic into Transport class

Also split NodeExplanation into its own class

time:
2016-04-26T14:16:38Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/common/lucene/search/MatchNoDocsQuery.java
core/src/main/java/org/elasticsearch/common/util/concurrent/EsExecutors.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyByteFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDoubleFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyFloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyIntegerFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyLongFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyShortFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyTokenCountFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/BaseGeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/LegacyIpFieldMapper.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/test/java/org/elasticsearch/action/bulk/BulkProcessorRetryIT.java
core/src/test/java/org/elasticsearch/common/lucene/search/MatchNoDocsQueryTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/query/FuzzyQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java
core/src/test/java/org/elasticsearch/threadpool/ESThreadPoolTestCase.java
core/src/test/java/org/elasticsearch/threadpool/ScalingThreadPoolTests.java
core/src/test/java/org/elasticsearch/threadpool/ThreadPoolTests.java
core/src/test/java/org/elasticsearch/threadpool/UpdateThreadPoolSettingsTests.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/index/mapper/murmur3/Murmur3FieldMapper.java
plugins/mapper-size/src/main/java/org/elasticsearch/index/mapper/size/SizeFieldMapper.java
test/framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
test/framework/src/main/java/org/elasticsearch/test/TestSearchContext.java
test/framework/src/main/java/org/elasticsearch/test/junit/rule/RepeatOnExceptionRule.java
comments:
Merge branch 'master' into docs/completion_suggester

time:
2016-04-26T14:15:21Z
class:
comments:
Document completion suggest breaking changes

time:
2016-04-26T14:03:50Z
class:
comments:
Add kotlin query DSL to community clients (#17943)

Hi, I've created a query builder DSL for Kotlin language that mimics the JSON query DSL.This makes it easier to translate the documentation targeting the JSON api onto kotlin code.Please consider adding it to the list of community clients.Thanks,Mike Buhot

time:
2016-04-26T13:04:01Z
class:
core/src/main/java/org/elasticsearch/Version.java
comments:
Added 2.3.2 and bwc indices for 2.3.2

time:
2016-04-26T12:27:48Z
class:
core/src/main/java/org/elasticsearch/common/util/concurrent/EsExecutors.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/test/java/org/elasticsearch/action/bulk/BulkProcessorRetryIT.java
core/src/test/java/org/elasticsearch/threadpool/ESThreadPoolTestCase.java
core/src/test/java/org/elasticsearch/threadpool/ScalingThreadPoolTests.java
core/src/test/java/org/elasticsearch/threadpool/ThreadPoolTests.java
core/src/test/java/org/elasticsearch/threadpool/UpdateThreadPoolSettingsTests.java
test/framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Merge pull request #17017 from jasontedor/generic-thread-pool

Actually bound the generic thread pool

time:
2016-04-26T12:17:54Z
class:
core/src/test/java/org/elasticsearch/threadpool/ScalingThreadPoolTests.java
comments:
Expand scaling thread pool configuration coverage

This commit slightly expands the scaling thread pool configuration test
coverage. In particular, the test testScalingThreadPoolConfiguration is
expanded to include the case when min is equal to size, and the test
testDynamicThreadPoolSize is expanded to include all possible cases when
size is greater than or equal to min.

time:
2016-04-26T11:45:30Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
comments:
Fix index name equality check in RoutingNodes

This commit fixes an index name equality check in RoutingNodes. Namely,
the check was comparing an instance of Index to an instance of
String. Instead, the index name should be obtained from the Index
instance to be compared to the instance of String.

Closes #17982

time:
2016-04-26T10:20:12Z
class:
core/src/main/java/org/elasticsearch/common/lucene/search/MatchNoDocsQuery.java
core/src/test/java/org/elasticsearch/common/lucene/search/MatchNoDocsQueryTests.java
comments:
Merge pull request #17780 from jimferenczi/match_nodocs_query

Add MatchNoDocsQuery, a query that matches no documents and prints the reason why in the toString method.

time:
2016-04-26T09:55:50Z
class:
comments:
Packaging: Fix vagrant tests on centos 6 (#17979)

The RPM init script did not include the check for `bin/elasticsearch` beingexecutable. This fix adds this checks and makes the tests pass.This fixes the init script, so the tests pass on centos-6 again.

time:
2016-04-26T09:03:17Z
class:
comments:
Remove trailing / in rest spec for ingest.simulate (#17976)

The url that takes an id has a trailing forward slash, not really anerror but as its the only url in the whole spec that does this ittriggered my OCD :)

time:
2016-04-26T08:50:38Z
class:
comments:
Document missing shard version in routing table of cluster state (#17945)

as breaking changeremoved as per: https://github.com/elastic/elasticsearch/pull/16243because of: https://github.com/elastic/elasticsearch/issues/14739

time:
2016-04-26T07:53:49Z
class:
test/framework/src/main/java/org/elasticsearch/test/junit/rule/RepeatOnExceptionRule.java
comments:
Testing: Remove unused junit rule (#17947)

This rule was used to repeat failed tests due to binding on an already bound port. The test has been fixedso we can get rid of this rule as well.

time:
2016-04-26T07:30:26Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyByteFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDoubleFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyFloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyIntegerFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyLongFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyShortFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyTokenCountFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/BaseGeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/LegacyIpFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/query/FuzzyQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/index/mapper/murmur3/Murmur3FieldMapper.java
plugins/mapper-size/src/main/java/org/elasticsearch/index/mapper/size/SizeFieldMapper.java
comments:
Version: Set version to 5.0.0-alpha2

time:
2016-04-26T07:15:39Z
class:
comments:
Update settings.asciidoc

Changed "must bet set" to "must be set" under Discovery Settings.

time:
2016-04-26T07:08:37Z
class:
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
test/framework/src/main/java/org/elasticsearch/test/TestSearchContext.java
comments:
Remove the `SearchType` setter on `SearchContext`. #17955

It was not used.

time:
2016-04-26T06:57:42Z
class:
comments:
Update settings.asciidoc

Added the 2 missing ` under Request Cache Settings section.

time:
2016-04-26T06:35:42Z
class:
comments:
Update mapping.asciidoc

Changed "referrer to" to "refer to".

time:
2016-04-26T02:50:18Z
class:
comments:
Remove unnecessary sleep from init script restart

Today when restarting Elasticsearch using the start-stop-daemon onDebian-based systems using System V init, we sleep for one secondbetween the process successfully stopping and starting the processagain. This sleep is unnecessary as the stop function retries foreveruntil the previous instance successfully terminates. This commit removesthat unncessary sleep.Relates #17966

time:
2016-04-26T01:21:56Z
class:
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XFuzzySuggester.java
core/src/main/java/org/elasticsearch/index/codec/PerFieldMappingPostingFormatCodec.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper2x.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/search/suggest/Suggest.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggester.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestionBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestionContext.java
core/src/main/java/org/elasticsearch/search/suggest/completion2x/AnalyzingCompletionLookupProvider.java
core/src/main/java/org/elasticsearch/search/suggest/completion2x/Completion090PostingsFormat.java
core/src/main/java/org/elasticsearch/search/suggest/completion2x/CompletionSuggestion.java
core/src/main/java/org/elasticsearch/search/suggest/completion2x/CompletionTokenStream.java
core/src/main/java/org/elasticsearch/search/suggest/completion2x/PayloadProcessor.java
core/src/main/java/org/elasticsearch/search/suggest/completion2x/context/CategoryContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/completion2x/context/ContextBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/completion2x/context/ContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/completion2x/context/GeolocationContextMapping.java
core/src/test/java/org/elasticsearch/index/mapper/completion/CompletionFieldMapper2xTests.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearch2xIT.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/ContextSuggestSearch2xIT.java
comments:
Add bwc support for pre-5.0 completion index

This commit adds support for reading and querying
completion fields that were indexed in 2.x

time:
2016-04-25T19:43:20Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexGraveyard.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
core/src/main/java/org/elasticsearch/gateway/MetaStateService.java
core/src/main/java/org/elasticsearch/index/Index.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/test/java/org/elasticsearch/cluster/ClusterChangedEventTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/metadata/IndexGraveyardTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataTests.java
core/src/test/java/org/elasticsearch/gateway/GatewayIndexStateIT.java
core/src/test/java/org/elasticsearch/gateway/MetaDataStateFormatTests.java
core/src/test/java/org/elasticsearch/index/IndexTests.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
test/framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Adds tombstones to cluster state for index deletions

Previously, we would determine index deletes in the cluster state by
comparing the index metadatas between the current cluster state and the
previous cluster state and decipher which ones were missing (the missing
ones are deleted indices).  This led to a situation where a node that
went offline and rejoined the cluster could potentially cause dangling
indices to be imported which should have been deleted, because when a node
rejoins, its previous cluster state does not contain reliable state.

This commit introduces the notion of index tombstones in the cluster
state, where we are explicit about which indices have been deleted.
In the case where the previous cluster state is not useful for index
metadata comparisons, a node now determines which indices are to be
deleted based on these tombstones in the cluster state.  There is also
functionality to purge the tombstones after exceeding a certain amount.

Closes #17265
Closes #16358
Closes #17435

time:
2016-04-25T18:41:10Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanation.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainIT.java
comments:
Change corruption explanation

time:
2016-04-25T18:25:06Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanation.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanationTests.java
comments:
Update tests

time:
2016-04-25T17:44:30Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanation.java
comments:
Rewrite ClusterAllocationExplanation to be more object-y

time:
2016-04-25T15:36:38Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanation.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportClusterAllocationExplainAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoresResponse.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanationTests.java
comments:
Add the shard's store status to the explain API

This adds information similar to what is from the [shard stores
API](https://www.elastic.co/guide/en/elasticsearch/reference/2.3/indices-shards-stores.html)
to the cluster allocation explanation API (in fact, internally it uses
that API).

This means when you have a decision that otherwise could indicate that a
shard can go somewhere, you now have more information:

```json
{
  "shard" : {
    "index" : "i",
    "index_uuid" : "QzoKda9aQCG_hCaZQ18GEg",
    "id" : 0,
    "primary" : true
  },
  "assigned" : false,
  "unassigned_info" : {
    "reason" : "CLUSTER_RECOVERED",
    "at" : "2016-04-11T20:58:04.088Z"
  },
  "allocation_delay" : "0s",
  "allocation_delay_ms" : 0,
  "remaining_delay" : "0s",
  "remaining_delay_ms" : 0,
  "nodes" : {
    "24Qmw4tdRTuVOtjAdtmr5Q" : {
      "node_name" : "Vampire by Night",
      "node_attributes" : { },
      "final_decision" : "YES",
      "weight" : 7.0,
      "decisions" : [ ],
      "store" : {
        "allocation_id" : "aC6qVWA7TT2pgsalYxxUJQ",
        "store_exception" : "IndexFormatTooOldException[Format version is not supported (resource BufferedChecksumIndexInput(SimpleFSIndexInput(path=\"/home/hinmanm/scratch/elasticsearch-5.0.0-alpha1-SNAPSHOT/data/elasticsearch/nodes/0/indices/QzoKda9aQCG_hCaZQ18GEg/0/index/segments_1\"))): -1906795950 (needs to be between 1071082519 and 1071082519). This version of Lucene only supports indexes created with release 5.0 and later.]",
        "allocation" : "UNUSED"
      }
    }
  }
}
```

The "store" section is the new section, and will include allocation, id,
and the exception if there is one.

Relates to #17372

time:
2016-04-25T11:45:54Z
class:
comments:
serial-diff-aggregation.asciidoc: fix a mistake (#17950)

time:
2016-04-25T11:08:40Z
class:
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/watcher/ResourceWatcherService.java
comments:
Merge pull request #17948 from jaymode/resource_watcher_settings

convert settings for ResourceWatcherService to new infrastructure

time:
2016-04-25T11:07:14Z
class:
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/watcher/ResourceWatcherService.java
comments:
convert settings for ResourceWatcherService to new infrastructure

This commit converts the settings for the ResourceWatcherService to use the new infrastructure and
registers the settings so that they do not cause errors when used.

time:
2016-04-25T11:06:57Z
class:
comments:
Update index-apis.asciidoc

Asciidoc typo

time:
2016-04-25T10:47:27Z
class:
core/src/test/java/org/elasticsearch/threadpool/ScalingThreadPoolTests.java
comments:
Test min pool size of zero for scaling executor

This commit expands the configuration test for scaling executors to
include the case where the min pool size is set to zero.

time:
2016-04-25T10:47:27Z
class:
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/test/java/org/elasticsearch/threadpool/ScalingThreadPoolTests.java
comments:
Clarify message on resize scaling executor queues

This commit clarifies an error message that is produced when an attempt
is made to resize the backing queue for a scaling executor. As this
queue is unbounded, resizing the backing queue does not make sense. The
clarification here is to specify that this restriction is because the
executor is a scaling executor.

time:
2016-04-25T10:47:26Z
class:
core/src/main/java/org/elasticsearch/common/util/concurrent/EsExecutors.java
comments:
Cleanup o/e/c/u/c/EsExecutors.java

This commit removes two unused imports and applies a few other
formatting cleanups to EsExecutors.java.

time:
2016-04-25T10:47:26Z
class:
core/src/main/java/org/elasticsearch/common/util/concurrent/EsExecutors.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/test/java/org/elasticsearch/action/bulk/BulkProcessorRetryIT.java
core/src/test/java/org/elasticsearch/threadpool/ESThreadPoolTestCase.java
core/src/test/java/org/elasticsearch/threadpool/ScalingThreadPoolTests.java
core/src/test/java/org/elasticsearch/threadpool/ThreadPoolTests.java
core/src/test/java/org/elasticsearch/threadpool/UpdateThreadPoolSettingsTests.java
test/framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Actually bound the generic thread pool

This commit actually bounds the size of the generic thread pool. The
generic thread pool was of type cached, a thread pool with an unbounded
number of workers and an unbounded work queue. With this commit, the
generic thread pool is now of type scaling. As such, the cached thread
pool type has been removed. By default, the generic thread pool is
constructed with a core pool size of four, a max pool size of 128 and
idle workers can be reaped after a keep-alive time of thirty seconds
expires. The work queue for this thread pool remains unbounded.

time:
2016-04-25T00:36:58Z
class:
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/test/java/org/elasticsearch/common/settings/SettingTests.java
comments:
fix exists method for list settings when using numbered setting format

The list settings parser supports retrieving lists defined in settings that use a key followed by a `.` and a
number (for example `foo.bar.0`). However, the exists method would indicate that the provided settings
do not contain a value for this setting. This change makes it so that the exists method now handles this
format.

time:
2016-04-25T00:25:08Z
class:
comments:
Merge pull request #17924 from elastic/russcam-patch-1

Update settings.asciidoc

time:
2016-04-23T23:20:07Z
class:
comments:
Merge pull request #17942 from rjernst/aggs_example_keyword

Docs: Update example aggs to use dynamic keyword field

time:
2016-04-23T11:44:42Z
class:
comments:
Update settings.asciidoc

Asciidoc typo

time:
2016-04-23T01:44:59Z
class:
comments:
Update settings.asciidoc

Add note for removal of index.translog.interval

time:
2016-04-22T23:34:15Z
class:
comments:
Docs: Update example aggs to use dynamic keyword field

The getting started docs use dynamic mappings. With the recent change to
string split into text and keyword, text lost the default ability to do
aggs. This was added back in #17188. This change updates the getting
started examples to use the keyword multi field added to dynamically
mapped text fields.

closes #17941

time:
2016-04-22T22:03:02Z
class:
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuTokenizerFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/plugin/analysis/icu/AnalysisICUPlugin.java
comments:
Fix icu IndexScope setting

time:
2016-04-22T21:58:13Z
class:
core/src/main/java/org/elasticsearch/cli/Command.java
core/src/test/java/org/elasticsearch/cli/CommandTests.java
comments:
Merge pull request #17938 from rjernst/plugin_command_help

Cli: Improve output for usage errors

time:
2016-04-22T21:09:35Z
class:
core/src/main/java/org/elasticsearch/cli/Command.java
core/src/test/java/org/elasticsearch/cli/CommandTests.java
comments:
Cli: Improve output for usage errors

When a cli throws a USAGE error, it is implied that the user did
something wrong, and probably needs help in understanding the cli
arguments. This change adds help output before the usage error is
printed.

time:
2016-04-22T20:46:43Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
core/src/main/java/org/elasticsearch/common/ParseField.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisRegistry.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/Mapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/KeywordFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyByteFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyFloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyIntegerFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyLongFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyShortFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyTokenCountFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TextFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
core/src/main/java/org/elasticsearch/index/mapper/geo/BaseGeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperLegacy.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/LegacyIpFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/DynamicTemplate.java
core/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/RootObjectMapper.java
core/src/test/java/org/elasticsearch/common/ParseFieldTests.java
core/src/test/java/org/elasticsearch/common/StringsTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsTests.java
core/src/test/java/org/elasticsearch/common/xcontent/ObjectParserTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisServiceTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/PrefixQueryBuilderTests.java
core/src/test/java/org/elasticsearch/script/ScriptParameterParserTests.java
core/src/test/java/org/elasticsearch/search/SearchModuleTests.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/SuggestSearchTests.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/RestReindexAction.java
plugins/mapper-size/src/main/java/org/elasticsearch/index/mapper/size/SizeFieldMapper.java
plugins/repository-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreTests.java
comments:
Merge pull request #17933 from rjernst/camelcase4

Remove camelCase support

time:
2016-04-22T19:59:06Z
class:
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuTokenizerFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/plugin/analysis/icu/AnalysisICUPlugin.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/IcuTokenizerFactoryTests.java
comments:
Merge pull request #13651 from xuzha/icu

Adding support for customizing the rule file in ICU tokenizer

time:
2016-04-22T19:39:20Z
class:
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuTokenizerFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/plugin/analysis/icu/AnalysisICUPlugin.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/IcuTokenizerFactoryTests.java
comments:
Add support for customizing the rule file in ICU tokenizer

Lucene allows to create a ICUTokenizer with a special config argument
enabling the customization of the rule based iterator by providing
custom rules files.

This commit enable this feature. Users could provide a list of RBBI rule
files to ICU tokenizer.

closes #13146

time:
2016-04-22T19:19:22Z
class:
comments:
Merge pull request #17937 from rjernst/tools_cleanup

Remove ununsed dev tools files

time:
2016-04-22T18:00:11Z
class:
core/src/main/java/org/elasticsearch/client/ParentTaskAssigningClient.java
core/src/test/java/org/elasticsearch/client/ParentTaskAssigningClientTests.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractAsyncBulkByScrollAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractAsyncBulkIndexByScrollAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/TransportReindexAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/TransportUpdateByQueryAction.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/AsyncBulkByScrollActionTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexMetadataTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexScriptTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/UpdateByQueryWithScriptTests.java
comments:
Reindex: properly mark things as child tasks

Do this by creating a Client subclass that automatically assigns the
parentTask to all requests that come through it. Code that doesn't want
to set the parentTask can call `unwrap` on the Client to get the inner
client instance that doesn't set the parentTask. Reindex uses this for
its ClearScrollRequest so that the request will run properly after the
reindex request has been canceled.

time:
2016-04-22T17:48:05Z
class:
comments:
Fix exit code

Exit with proper exit code (1) and an error message if elasticsearch
executable binary does not exists or has insufficient permissions to
execute.

Squashed commit of the following:

commit 9768d316303418ba4f9c96d3f87c376048a1b1bc
Author: Puru <tuladharpuru@gmail.com>
Date:   Fri Apr 22 23:26:47 2016 +0545

    Fixed ES_HOME typo

commit 79a2b0394297f8b02b6f71b71ba35ff79f1a684e
Author: Puru <tuladharpuru@gmail.com>
Date:   Sun Apr 10 11:00:24 2016 +0545

    Improve elasticsearch startup script test

    Added improvement as per conversation in https://github.com/elastic/elasticsearch/pull/17082#issuecomment-206459613

commit 7be38e1fefd4baa6ccdbdc14745c00f6dc052e0c
Author: Puru <tuladharpuru@gmail.com>
Date:   Wed Mar 23 13:23:52 2016 +0545

    Add elasticsearch startup script test

    The test ensures that elasticsearch startup script exists and is executable.

commit d10eed5c08260fa9c158a4487bbb3103a8d867ed
Author: Puru <tuladharpuru@gmail.com>
Date:   Wed Mar 23 12:30:25 2016 +0545

    Fixed IF syntax and failure message

commit 6dc66f616545572485b4d43bee05a4cbbf1bed72
Author: Puru <tuladharpuru@gmail.com>
Date:   Sat Mar 12 11:08:11 2016 +0545

    Fix exit code

    Exit with proper exit code (1) and an error message if elasticsearch executable binary does not exists or has insufficient permissions to execute.

time:
2016-04-22T17:34:11Z
class:
comments:
Remove ununsed dev tools files

time:
2016-04-22T16:56:13Z
class:
comments:
Update terms-query.asciidoc

user id of tweet hould exist in the `followers`, otherwise the search result is empty

time:
2016-04-22T16:54:25Z
class:
comments:
Update bucket.asciidoc

time:
2016-04-22T16:51:33Z
class:
comments:
Update bulk.asciidoc

time:
2016-04-22T16:50:42Z
class:
comments:
Update update.asciidoc

time:
2016-04-22T16:48:58Z
class:
comments:
Update get.asciidoc

time:
2016-04-22T16:26:30Z
class:
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
comments:
Merge pull request #17662 from rjernst/verbose_install

Plugin cli: Add verbose output with zip url when installing plugin

time:
2016-04-22T16:18:10Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
core/src/main/java/org/elasticsearch/common/ParseField.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisRegistry.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/Mapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/KeywordFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyByteFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyDateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyFloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyIntegerFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyLongFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyShortFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LegacyTokenCountFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TextFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
core/src/main/java/org/elasticsearch/index/mapper/geo/BaseGeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperLegacy.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/LegacyIpFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/DynamicTemplate.java
core/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/RootObjectMapper.java
core/src/test/java/org/elasticsearch/common/ParseFieldTests.java
core/src/test/java/org/elasticsearch/common/StringsTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsTests.java
core/src/test/java/org/elasticsearch/common/xcontent/ObjectParserTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisServiceTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/PrefixQueryBuilderTests.java
core/src/test/java/org/elasticsearch/script/ScriptParameterParserTests.java
core/src/test/java/org/elasticsearch/search/SearchModuleTests.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/SuggestSearchTests.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/RestReindexAction.java
plugins/mapper-size/src/main/java/org/elasticsearch/index/mapper/size/SizeFieldMapper.java
plugins/repository-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreTests.java
comments:
Remove camelCase support

Now that the current uses of magical camelCase support have been
deprecated, we can remove these in master (sans remaining issues like
BulkRequest). This change removes camel case support from ParseField,
query types, analysis, and settings lookup.

see #8988

time:
2016-04-22T15:26:19Z
class:
core/src/main/java/org/elasticsearch/tasks/TaskManager.java
comments:
createTask can return null

That is totally allowed.

time:
2016-04-22T15:26:19Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/TransportCancelTasksAction.java
comments:
Fix javadoc

time:
2016-04-22T15:26:18Z
class:
core/src/main/java/org/elasticsearch/action/support/ChildTaskRequest.java
core/src/main/java/org/elasticsearch/action/support/broadcast/BroadcastShardRequest.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/action/support/nodes/BaseNodeRequest.java
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/tasks/TransportTasksAction.java
core/src/main/java/org/elasticsearch/tasks/TaskManager.java
core/src/main/java/org/elasticsearch/transport/TransportRequest.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/CancellableTasksTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TestTaskPlugin.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TransportTasksActionTests.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkByScrollRequest.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/BulkByScrollTask.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/AbstractAsyncBulkIndexByScrollActionTestCase.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/BulkByScrollTaskTests.java
comments:
Remove ChildTaskRequest and always pass parentTaskId when building a task

Passing parentTaskId forces the caller to handle the parentTaskId.

time:
2016-04-22T15:26:18Z
class:
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/tasks/CancellableTask.java
core/src/main/java/org/elasticsearch/tasks/Task.java
core/src/main/java/org/elasticsearch/transport/TransportRequest.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/CancellableTasksTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TestTaskPlugin.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/BulkByScrollTask.java
comments:
Remove parent-less task methods

Callers should explicitly handle parents - either using EMPTY_TASK_ID when
a parent isn't possible or piping parents from the TransportRequest when
possible.

time:
2016-04-22T15:26:18Z
class:
core/src/main/java/org/elasticsearch/action/support/ChildTaskActionRequest.java
core/src/main/java/org/elasticsearch/action/support/master/MasterNodeRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/transport/TransportRequest.java
comments:
Move parentTaskId into TransportRequest

Now everything can have a parent!

time:
2016-04-22T15:10:01Z
class:
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/test/java/org/elasticsearch/common/settings/SettingTests.java
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
comments:
Fix fallback setting for two get/2

time:
2016-04-22T15:10:01Z
class:
core/src/main/java/org/elasticsearch/common/settings/IndexScopedSettings.java
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
comments:
Fail request if rescore window > 10,000

The setting is named `index.max_rescore_window` and defaults to
`index.max_result_window` which defaults to 10,000.

time:
2016-04-22T12:05:33Z
class:
core/src/main/java/org/elasticsearch/common/inject/InjectorImpl.java
comments:
Kill thread local leak

This commit modifies InjectorImpl to prevent a thread local leak incertain web containers. This leak can arise when starting a node clientinside such a web container. The underlying issue is that theThreadLocal instance was created via an anonymous class. Such ananonymous class has an implicit reference back to the InjectorImpl inwhich it was created. The solution here is to not use an anonymous classbut instead just create the reference locally and set it on the threadlocal.Relates #17921

time:
2016-04-22T12:00:37Z
class:
comments:
Update completion-suggest.asciidoc

Removed trailing comma.

time:
2016-04-22T11:42:55Z
class:
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/DeleteStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/DeleteStoredScriptRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/DeleteStoredScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/DeleteStoredScriptResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/GetStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/GetStoredScriptRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/GetStoredScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/GetStoredScriptResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/PutStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/PutStoredScriptRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/PutStoredScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/PutStoredScriptResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/TransportDeleteStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/TransportGetStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/storedscripts/TransportPutStoredScriptAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/TransportRenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/delete/DeleteIndexedScriptRequest.java
core/src/main/java/org/elasticsearch/action/indexedscripts/delete/DeleteIndexedScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/indexedscripts/delete/DeleteIndexedScriptResponse.java
core/src/main/java/org/elasticsearch/action/indexedscripts/delete/TransportDeleteIndexedScriptAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequest.java
core/src/main/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/indexedscripts/get/TransportGetIndexedScriptAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/get/package-info.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptRequest.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptRequestBuilder.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/PutIndexedScriptResponse.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/TransportPutIndexedScriptAction.java
core/src/main/java/org/elasticsearch/action/indexedscripts/put/package-info.java
core/src/main/java/org/elasticsearch/action/update/UpdateHelper.java
core/src/main/java/org/elasticsearch/client/Client.java
core/src/main/java/org/elasticsearch/client/ClusterAdminClient.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/common/network/NetworkModule.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/NodeServicesProvider.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/query/QueryRewriteContext.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScriptScoreFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/support/InnerHitBuilder.java
core/src/main/java/org/elasticsearch/ingest/InternalTemplateService.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/storedscripts/RestDeleteSearchTemplateAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/storedscripts/RestDeleteStoredScriptAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/storedscripts/RestGetSearchTemplateAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/storedscripts/RestGetStoredScriptAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/storedscripts/RestPutSearchTemplateAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/storedscripts/RestPutStoredScriptAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/validate/template/RestRenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/rest/action/script/RestDeleteIndexedScriptAction.java
core/src/main/java/org/elasticsearch/rest/action/script/RestPutIndexedScriptAction.java
core/src/main/java/org/elasticsearch/script/AbstractScriptParser.java
core/src/main/java/org/elasticsearch/script/ScriptMetaData.java
core/src/main/java/org/elasticsearch/script/ScriptParameterParser.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregation.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ScriptHeuristic.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/InternalScriptedMetric.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketselector/BucketSelectorPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
core/src/main/java/org/elasticsearch/search/fetch/script/ScriptFieldsParseElement.java
core/src/main/java/org/elasticsearch/search/sort/ScriptSortBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestionBuilder.java
core/src/test/java/org/elasticsearch/action/admin/cluster/storedscripts/GetStoredScriptRequestTests.java
core/src/test/java/org/elasticsearch/action/update/UpdateRequestTests.java
core/src/test/java/org/elasticsearch/client/AbstractClientHeadersTestCase.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/percolator/PercolatorQueryCacheTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/QueryDSLDocumentationTests.java
core/src/test/java/org/elasticsearch/index/query/QueryShardContextTests.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryRewriteTests.java
core/src/test/java/org/elasticsearch/script/FileScriptTests.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptContextTests.java
core/src/test/java/org/elasticsearch/script/ScriptMetaDataTests.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptParameterParserTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/script/StoredScriptsIT.java
core/src/test/java/org/elasticsearch/search/highlight/HighlightBuilderTests.java
core/src/test/java/org/elasticsearch/search/rescore/QueryRescoreBuilderTests.java
core/src/test/java/org/elasticsearch/search/sort/AbstractSortTestCase.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
modules/lang-expression/src/test/java/org/elasticsearch/script/expression/IndexedExpressionTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/BucketScriptTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/BucketSelectorTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndexedScriptTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ScriptIndexSettingsTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ScriptedMetricTests.java
modules/lang-groovy/src/test/java/org/elasticsearch/messy/tests/package-info.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/RenderSearchTemplateTests.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/TemplateQueryParserTests.java
modules/lang-mustache/src/test/java/org/elasticsearch/messy/tests/TemplateQueryTests.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractAsyncBulkIndexByScrollAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/TransportReindexAction.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/TransportUpdateByQueryAction.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexMetadataTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/ReindexScriptTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/UpdateByQueryMetadataTests.java
modules/reindex/src/test/java/org/elasticsearch/index/reindex/UpdateByQueryWithScriptTests.java
test/framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
test/framework/src/main/java/org/elasticsearch/test/ESSingleNodeTestCase.java
test/framework/src/test/java/org/elasticsearch/search/MockSearchServiceTests.java
comments:
Changed indexed scripts to be stored in the cluster state instead of the `.scripts` index.
Also added max script size soft limit for stored scripts.

Closes #16651

time:
2016-04-22T11:28:12Z
class:
core/src/test/java/org/elasticsearch/http/netty/NettyHttpRequestSizeLimitIT.java
comments:
Increase number of concurrent requests in NettyHttpRequestSizeLimitIT

For some seeds the number of concurrent requests previously defined
in NettyHttpRequestSizeLimitIT was too low to trigger the intended
breaker limit.

With this commit we increase the number of concurrent requests that
are sent to the test cluster thus triggering the limit.

time:
2016-04-22T10:45:12Z
class:
comments:
Added cautionary note to match_phrase_prefix explaining its shortcomings

Closes #17655

time:
2016-04-22T07:58:01Z
class:
core/src/main/java/org/apache/lucene/document/XInetAddressPoint.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/ip/IpFieldTypeTests.java
comments:
Add back range support to `ip` fields. #17777

`ip` fields currently fail range queries when either bound is inclusive. This
commit makes ranges also work in the exclusive case to be consistent with other
data types.

time:
2016-04-22T06:39:01Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/RenderSearchTemplateRequest.java
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequest.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScriptScoreFunctionBuilder.java
core/src/main/java/org/elasticsearch/script/Script.java
core/src/main/java/org/elasticsearch/script/Template.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ScriptHeuristic.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/InternalScriptedMetric.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketselector/BucketSelectorPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketselector/BucketSelectorPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/internal/ShardSearchLocalRequest.java
core/src/main/java/org/elasticsearch/search/sort/ScriptSortBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestionBuilder.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkIndexByScrollRequest.java
comments:
Merge pull request #17908 from MaineC/enhancement/make-script-writeable

Makes Script type writeable

time:
2016-04-21T20:02:17Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/RenderSearchTemplateRequest.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
core/src/main/java/org/elasticsearch/script/Script.java
core/src/main/java/org/elasticsearch/script/Template.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestionBuilder.java
comments:
Address stylistic comments.

time:
2016-04-21T19:46:14Z
class:
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsResponse.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportMultiTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
core/src/main/java/org/elasticsearch/index/termvectors/TermVectorsService.java
core/src/test/java/org/elasticsearch/index/termvectors/TermVectorsServiceTests.java
comments:
Fix calculation of time of term vectors request

This commit addresses an issue in the calculation of the time to executea term vectors request. The underlying issue was due to measuring thetook time by passing the starting wall clock time along with the requestand calculating the total time using the ending wall clock time on theresponding node. The fix is to use a relative time source on a singlenode.Relates #17817

time:
2016-04-21T19:28:55Z
class:
core/src/main/java/org/elasticsearch/action/TaskOperationFailure.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanation.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TaskInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
core/src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateDocumentBaseResult.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateDocumentResult.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateDocumentVerboseResult.java
core/src/main/java/org/elasticsearch/action/ingest/SimulatePipelineResponse.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateProcessorResult.java
core/src/main/java/org/elasticsearch/action/ingest/WriteableIngestDocument.java
core/src/main/java/org/elasticsearch/action/support/tasks/TransportTasksAction.java
core/src/main/java/org/elasticsearch/cluster/Diffable.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommand.java
core/src/main/java/org/elasticsearch/common/geo/GeoDistance.java
core/src/main/java/org/elasticsearch/common/geo/ShapeRelation.java
core/src/main/java/org/elasticsearch/common/geo/SpatialStrategy.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/common/io/stream/NamedWriteable.java
core/src/main/java/org/elasticsearch/common/io/stream/NamedWriteableAwareStreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/NamedWriteableRegistry.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/common/io/stream/Writeable.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/CombineFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FieldValueFactorFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/transport/TransportAddress.java
core/src/main/java/org/elasticsearch/common/unit/DistanceUnit.java
core/src/main/java/org/elasticsearch/common/unit/Fuzziness.java
core/src/main/java/org/elasticsearch/common/util/concurrent/ThreadContext.java
core/src/main/java/org/elasticsearch/index/Index.java
core/src/main/java/org/elasticsearch/index/VersionType.java
core/src/main/java/org/elasticsearch/index/query/GeoExecType.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoValidationMethod.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/Operator.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/support/InnerHitBuilder.java
core/src/main/java/org/elasticsearch/index/query/support/InnerHitsBuilder.java
core/src/main/java/org/elasticsearch/index/search/MatchQuery.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/indices/TermsLookup.java
core/src/main/java/org/elasticsearch/ingest/IngestStats.java
core/src/main/java/org/elasticsearch/ingest/core/IngestInfo.java
core/src/main/java/org/elasticsearch/ingest/core/ProcessorInfo.java
core/src/main/java/org/elasticsearch/ingest/processor/DateProcessor.java
core/src/main/java/org/elasticsearch/ingest/processor/RenameProcessor.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java
core/src/main/java/org/elasticsearch/search/DocValueFormat.java
core/src/main/java/org/elasticsearch/search/MultiValueMode.java
core/src/main/java/org/elasticsearch/search/SearchShardTarget.java
core/src/main/java/org/elasticsearch/search/aggregations/Aggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramInterval.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/ExtendedBounds.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/SignificanceHeuristic.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/support/IncludeExclude.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesMethod.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModel.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValueType.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceType.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/highlight/AbstractHighlighterBuilder.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightBuilder.java
core/src/main/java/org/elasticsearch/search/profile/CollectorResult.java
core/src/main/java/org/elasticsearch/search/profile/InternalProfileShardResults.java
core/src/main/java/org/elasticsearch/search/profile/ProfileResult.java
core/src/main/java/org/elasticsearch/search/profile/ProfileShardResult.java
core/src/main/java/org/elasticsearch/search/rescore/QueryRescoreMode.java
core/src/main/java/org/elasticsearch/search/rescore/RescoreBuilder.java
core/src/main/java/org/elasticsearch/search/searchafter/SearchAfterBuilder.java
core/src/main/java/org/elasticsearch/search/sort/ScriptSortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/SortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/SortMode.java
core/src/main/java/org/elasticsearch/search/sort/SortOrder.java
core/src/main/java/org/elasticsearch/search/suggest/SortBy.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestionBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/completion/FuzzyOptions.java
core/src/main/java/org/elasticsearch/search/suggest/completion/RegexOptions.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/DirectCandidateGeneratorBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestionBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/SmoothingModel.java
core/src/main/java/org/elasticsearch/search/suggest/term/TermSuggestionBuilder.java
core/src/main/java/org/elasticsearch/tasks/Task.java
core/src/main/java/org/elasticsearch/tasks/TaskId.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TestTaskPlugin.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TransportTasksActionTests.java
core/src/test/java/org/elasticsearch/common/geo/ShapeRelationTests.java
core/src/test/java/org/elasticsearch/common/geo/SpatialStrategyTests.java
core/src/test/java/org/elasticsearch/common/io/stream/AbstractWriteableEnumTestCase.java
core/src/test/java/org/elasticsearch/common/io/stream/BytesStreamsTests.java
core/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java
core/src/test/java/org/elasticsearch/ingest/IngestClientIT.java
core/src/test/java/org/elasticsearch/ingest/processor/DateProcessorFactoryTests.java
core/src/test/java/org/elasticsearch/ingest/processor/RenameProcessorFactoryTests.java
core/src/test/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeActionTests.java
core/src/test/java/org/elasticsearch/search/aggregations/SubAggCollectionModeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesMethodTests.java
core/src/test/java/org/elasticsearch/search/aggregations/support/ValuesSourceTypeTests.java
plugins/ingest-attachment/src/main/java/org/elasticsearch/ingest/attachment/AttachmentProcessor.java
plugins/ingest-attachment/src/test/java/org/elasticsearch/ingest/attachment/AttachmentProcessorFactoryTests.java
plugins/ingest-attachment/src/test/java/org/elasticsearch/ingest/attachment/AttachmentProcessorTests.java
plugins/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/GeoIpProcessor.java
plugins/ingest-geoip/src/test/java/org/elasticsearch/ingest/geoip/GeoIpProcessorFactoryTests.java
plugins/ingest-geoip/src/test/java/org/elasticsearch/ingest/geoip/GeoIpProcessorTests.java
comments:
Merge branch 'master' into enhancement/make-script-writeable

time:
2016-04-21T18:31:07Z
class:
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/InstallPluginCommandTests.java
comments:
Merge remote-tracking branch 'dakrone/vagrant-umask'

time:
2016-04-21T18:30:56Z
class:
core/src/main/java/org/elasticsearch/plugins/InstallPluginCommand.java
qa/evil-tests/src/test/java/org/elasticsearch/plugins/InstallPluginCommandTests.java
comments:
Explicitly set packaging permissions

This changes our packaging to be explicit about the permissions of files
and directories in the tar.gz, rpm, and deb packages. This is to protect
against a user having an incorrectly set umask when installing.

Additionally, plugins that are installed now have their permissions set
by the plugin installation so that plugins that may have been packaged
with incorrect permissions are secured.

Resolves #17634

time:
2016-04-21T16:11:01Z
class:
comments:
Remove QueryFilterBuilder section from migration docs.

This query builder was deprecated in 2.0 and has been removed.

time:
2016-04-21T15:14:00Z
class:
core/src/main/java/org/elasticsearch/action/TaskOperationFailure.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanation.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TaskInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
core/src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateDocumentBaseResult.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateDocumentResult.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateDocumentVerboseResult.java
core/src/main/java/org/elasticsearch/action/ingest/SimulatePipelineResponse.java
core/src/main/java/org/elasticsearch/action/ingest/SimulateProcessorResult.java
core/src/main/java/org/elasticsearch/action/ingest/WriteableIngestDocument.java
core/src/main/java/org/elasticsearch/action/support/tasks/TransportTasksAction.java
core/src/main/java/org/elasticsearch/cluster/Diffable.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommand.java
core/src/main/java/org/elasticsearch/common/geo/GeoDistance.java
core/src/main/java/org/elasticsearch/common/geo/ShapeRelation.java
core/src/main/java/org/elasticsearch/common/geo/SpatialStrategy.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/common/io/stream/NamedWriteable.java
core/src/main/java/org/elasticsearch/common/io/stream/NamedWriteableAwareStreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/NamedWriteableRegistry.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/common/io/stream/Writeable.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/CombineFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FieldValueFactorFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/transport/TransportAddress.java
core/src/main/java/org/elasticsearch/common/unit/DistanceUnit.java
core/src/main/java/org/elasticsearch/common/unit/Fuzziness.java
core/src/main/java/org/elasticsearch/common/util/concurrent/ThreadContext.java
core/src/main/java/org/elasticsearch/index/Index.java
core/src/main/java/org/elasticsearch/index/VersionType.java
core/src/main/java/org/elasticsearch/index/query/GeoExecType.java
core/src/main/java/org/elasticsearch/index/query/GeoValidationMethod.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/Operator.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/support/InnerHitBuilder.java
core/src/main/java/org/elasticsearch/index/query/support/InnerHitsBuilder.java
core/src/main/java/org/elasticsearch/index/search/MatchQuery.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/indices/TermsLookup.java
core/src/main/java/org/elasticsearch/ingest/IngestStats.java
core/src/main/java/org/elasticsearch/ingest/core/IngestInfo.java
core/src/main/java/org/elasticsearch/ingest/core/ProcessorInfo.java
core/src/main/java/org/elasticsearch/search/DocValueFormat.java
core/src/main/java/org/elasticsearch/search/MultiValueMode.java
core/src/main/java/org/elasticsearch/search/SearchShardTarget.java
core/src/main/java/org/elasticsearch/search/aggregations/Aggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramInterval.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/ExtendedBounds.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/SignificanceHeuristic.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/support/IncludeExclude.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesMethod.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModel.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValueType.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/highlight/AbstractHighlighterBuilder.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightBuilder.java
core/src/main/java/org/elasticsearch/search/profile/InternalProfileShardResults.java
core/src/main/java/org/elasticsearch/search/profile/ProfileResult.java
core/src/main/java/org/elasticsearch/search/profile/ProfileShardResult.java
core/src/main/java/org/elasticsearch/search/rescore/QueryRescoreMode.java
core/src/main/java/org/elasticsearch/search/rescore/RescoreBuilder.java
core/src/main/java/org/elasticsearch/search/searchafter/SearchAfterBuilder.java
core/src/main/java/org/elasticsearch/search/sort/ScriptSortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/SortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/SortMode.java
core/src/main/java/org/elasticsearch/search/sort/SortOrder.java
core/src/main/java/org/elasticsearch/search/suggest/SortBy.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestionBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/completion/FuzzyOptions.java
core/src/main/java/org/elasticsearch/search/suggest/completion/RegexOptions.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/DirectCandidateGeneratorBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestionBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/SmoothingModel.java
core/src/main/java/org/elasticsearch/search/suggest/term/TermSuggestionBuilder.java
core/src/main/java/org/elasticsearch/tasks/Task.java
core/src/main/java/org/elasticsearch/tasks/TaskId.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TestTaskPlugin.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TransportTasksActionTests.java
core/src/test/java/org/elasticsearch/common/io/stream/AbstractWriteableEnumTestCase.java
core/src/test/java/org/elasticsearch/common/io/stream/BytesStreamsTests.java
core/src/test/java/org/elasticsearch/ingest/IngestClientIT.java
comments:
Remove <T> from Writeable

It isn't needed any more! Hurray!

Closes #17085

time:
2016-04-21T13:58:46Z
class:
core/src/main/java/org/elasticsearch/action/TaskOperationFailure.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplanation.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TaskInfo.java
core/src/main/java/org/elasticsearch/action/ingest/WriteableIngestDocument.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
core/src/main/java/org/elasticsearch/common/geo/GeoDistance.java
core/src/main/java/org/elasticsearch/common/geo/ShapeRelation.java
core/src/main/java/org/elasticsearch/common/geo/SpatialStrategy.java
core/src/main/java/org/elasticsearch/common/io/stream/Writeable.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TestTaskPlugin.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TransportTasksActionTests.java
core/src/test/java/org/elasticsearch/common/geo/ShapeRelationTests.java
core/src/test/java/org/elasticsearch/common/geo/SpatialStrategyTests.java
comments:
Remove Writeable#readFrom

It is always better to call a static read method or a constructor that
takes StreamInput.

Relates to #17085

time:
2016-04-21T12:07:28Z
class:
core/src/main/java/org/elasticsearch/search/SearchShardTarget.java
core/src/main/java/org/elasticsearch/search/aggregations/Aggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramInterval.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesMethod.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceType.java
core/src/main/java/org/elasticsearch/search/profile/CollectorResult.java
core/src/main/java/org/elasticsearch/search/profile/InternalProfileShardResults.java
core/src/main/java/org/elasticsearch/search/profile/ProfileResult.java
core/src/main/java/org/elasticsearch/search/profile/ProfileShardResult.java
core/src/test/java/org/elasticsearch/search/aggregations/SubAggCollectionModeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesMethodTests.java
core/src/test/java/org/elasticsearch/search/aggregations/support/ValuesSourceTypeTests.java
comments:
Remove readFrom from org.elasticsearch.search

Replace with a constructor that takes StreamInput or a static method.

In one case (ValuesSourceType) we no longer need to serialize the data
at all!

Relates to #17085

time:
2016-04-21T11:40:43Z
class:
core/src/main/java/org/elasticsearch/ingest/processor/DateProcessor.java
core/src/main/java/org/elasticsearch/ingest/processor/RenameProcessor.java
core/src/test/java/org/elasticsearch/ingest/processor/DateProcessorFactoryTests.java
core/src/test/java/org/elasticsearch/ingest/processor/RenameProcessorFactoryTests.java
plugins/ingest-attachment/src/main/java/org/elasticsearch/ingest/attachment/AttachmentProcessor.java
plugins/ingest-attachment/src/test/java/org/elasticsearch/ingest/attachment/AttachmentProcessorFactoryTests.java
plugins/ingest-attachment/src/test/java/org/elasticsearch/ingest/attachment/AttachmentProcessorTests.java
plugins/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/GeoIpProcessor.java
plugins/ingest-geoip/src/test/java/org/elasticsearch/ingest/geoip/GeoIpProcessorFactoryTests.java
plugins/ingest-geoip/src/test/java/org/elasticsearch/ingest/geoip/GeoIpProcessorTests.java
comments:
ingest: Streamline option naming for several processors:
* `rename` processor, renamed `to` to `target_field`
* `date` processor, renamed `match_field` to `field` and renamed `match_formats` to `formats`
* `geoip` processor, renamed `source_field` to `field` and renamed `fields` to `properties`
* `attachment` processor, renamed `source_field` to `field` and renamed `fields` to `properties`

Closes #17835

time:
2016-04-21T10:40:29Z
class:
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequest.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScriptScoreFunctionBuilder.java
core/src/main/java/org/elasticsearch/script/Script.java
core/src/main/java/org/elasticsearch/script/Template.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ScriptHeuristic.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/InternalScriptedMetric.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketselector/BucketSelectorPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketselector/BucketSelectorPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/internal/ShardSearchLocalRequest.java
core/src/main/java/org/elasticsearch/search/sort/ScriptSortBuilder.java
modules/reindex/src/main/java/org/elasticsearch/index/reindex/AbstractBulkIndexByScrollRequest.java
comments:
Makes Script type writeable

Used to be Streamable. Left-over of the PROTOTYPE related refactoring by
@nik9000

Closes #17753

time:
2016-04-21T09:05:11Z
class:
core/src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java
core/src/test/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeActionTests.java
comments:
Analyze API : Rename filters/token_filters/char_filter to filter/token_filter/char_filter

Closes #15189

time:
2016-04-21T08:39:45Z
class:
core/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java
comments:
[TEST] Adds tests for some missing coverage on dynamically created fields

This adds some new tests to DocumentParserTests to make sure the DocumentParser behaves correctly when dynamically mapping fields. Especially testing that the dynamic setting works when dynamically mapping different field types.

time:
2016-04-20T20:57:56Z
class:
core/src/main/java/org/elasticsearch/action/ingest/SimulateProcessorResult.java
core/src/main/java/org/elasticsearch/ingest/IngestStats.java
core/src/main/java/org/elasticsearch/ingest/PipelineConfiguration.java
core/src/main/java/org/elasticsearch/ingest/core/IngestInfo.java
core/src/main/java/org/elasticsearch/ingest/core/ProcessorInfo.java
core/src/test/java/org/elasticsearch/ingest/IngestStatsTests.java
comments:
Remove readFrom from ingest

It isn't needed and will be removed from the interface declaring it.

Relates to #17085

time:
2016-04-20T20:10:56Z
class:
core/src/main/java/org/elasticsearch/index/analysis/ASCIIFoldingTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisRegistry.java
core/src/main/java/org/elasticsearch/index/analysis/FingerprintAnalyzer.java
core/src/main/java/org/elasticsearch/index/analysis/FingerprintAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/FingerprintTokenFilterFactory.java
core/src/test/java/org/elasticsearch/index/analysis/FingerprintAnalyzerTests.java
comments:
Add `fingerprint` token filter and `fingerprint` analyzer

Adds a `fingerprint` token filter which uses Lucene's FingerprintFilter,and a `fingerprint` analyzer that combines the Fingerprint filter withlowercasing, stop word removal and asciifolding.Closes #13325

time:
2016-04-20T17:35:41Z
class:
core/src/main/java/org/elasticsearch/common/util/concurrent/ThreadContext.java
core/src/test/java/org/elasticsearch/common/io/stream/BytesStreamsTests.java
comments:
Remove a few more readFroms

ThreadContext had a very odd relationship with the Writeable interface.
This makes it conform.

Relates to #17085

time:
2016-04-20T14:38:52Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommands.java
core/src/main/java/org/elasticsearch/common/xcontent/ParseFieldRegistry.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregatorBuilder.java
core/src/test/java/org/elasticsearch/search/SearchModuleTests.java
comments:
Don't pass XContentParser to ParseFieldRegistry#lookup (#17794)

Don't pass XContentParser to ParseFieldRegistry#lookupPassing the parser in is not good because we are not parsing anything in the lookup methods, we only need it to retrieve the xcontent location from it so that in case there is an error we emit where we were with the parsing. It is better to pass in the XContentLocation although calling getTokenLocation needs to create a new object at each call. The workaround of passing the Parser in is worse than the original problem.

time:
2016-04-20T13:36:12Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTableValidation.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingValidationException.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/cluster/health/ClusterIndexHealthTests.java
core/src/test/java/org/elasticsearch/cluster/health/ClusterStateHealthTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingTableGenerator.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingTableTests.java
comments:
Remove validation errors from cluster health response

Cluster health responses have not shown validation errors, which are
retrieved from RoutingTable validations, in any production or testing
instances.  The code is unit tested well in this area and any issues are
exposed through the testing infrastructure, so this commit removes
reporting of validation errors in the cluster health response.

Closes #17773
Closes #16979

time:
2016-04-20T13:23:54Z
class:
core/src/main/java/org/elasticsearch/action/percolate/PercolateResponse.java
core/src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorHighlightSubFetchPhase.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueryCache.java
core/src/main/java/org/elasticsearch/index/query/PercolateQuery.java
core/src/main/java/org/elasticsearch/index/query/PercolateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/test/java/org/elasticsearch/index/percolator/PercolatorHighlightSubFetchPhaseTests.java
core/src/test/java/org/elasticsearch/index/percolator/PercolatorQueryCacheTests.java
core/src/test/java/org/elasticsearch/index/query/PercolateQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/PercolateQueryTests.java
core/src/test/java/org/elasticsearch/search/SearchModuleTests.java
core/src/test/java/org/elasticsearch/search/percolator/PercolatorQuerySearchIT.java
comments:
percolator: renamed `percolator` query to `percolate` query

time:
2016-04-20T12:09:31Z
class:
core/src/main/java/org/elasticsearch/index/Index.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/store/StoreFileMetaData.java
comments:
Remove readFrom from some classes in index

These methods aren't used. They were just there to implement an interface
and that interface is losing that method.

Relates to #17085

time:
2016-04-20T11:42:40Z
class:
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/EwmaModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltLinearModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltWintersModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/LinearModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelParserMapper.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelStreams.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/SimpleModel.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgUnitTests.java
comments:
Normalize registration of MovAvgModels

This is what happens when you pull on the "Remove the PROTOTYPEs from
MovAvgModels" string. This removes MovAvgModelStreams in favor of
readNamedWriteable and MovAvgParserMapper in favor of
ParseFieldRegistry<MovAvgModel.AbstractModelParser>.

Relates to #17085

time:
2016-04-20T11:37:52Z
class:
comments:
Updated decay-function image in function_score query

Closes #17479

time:
2016-04-20T09:48:27Z
class:
core/src/test/java/org/elasticsearch/index/percolator/PercolatorQueryCacheTests.java
comments:
test: no need to randomize the IndexWriterConfig, only adds noise.

time:
2016-04-20T09:40:14Z
class:
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
core/src/test/java/org/elasticsearch/search/morelikethis/MoreLikeThisIT.java
comments:
Merge pull request #17204 from mstockerl/master

Alias items are not ignored anymore

time:
2016-04-20T07:48:00Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java
comments:
Fix cross type mapping updates for `boolean` fields. #17882

Boolean fields were not handled in `DocumentParser.createBuilderFromFieldType`.
This also improves the logic a bit by falling back to the default mapping of
the given type insteah of hard-coding every case and throws a better exception
than a NPE if no dynamic mappings could be created.

Closes #17879

time:
2016-04-20T06:35:03Z
class:
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/core/StringMappingUpgradeTests.java
comments:
Automatically upgrade analyzed strings with an analyzer to `text`. #17861

I had stayed away from it until now since the `analyzer` property is supported
on analyzed strings but not on analyzed strings. So th list of supported
properties for the upgrade has been splitted so that we would still fail the
upgrade if setting an analyzer on a not-analyzed string field.

See https://discuss.elastic.co/t/es5-0a1-the-string-type-is-removed-in-5-0-you-should-now-use-either-a-text-or-keyword-field-instead-for-field/47305/7

time:
2016-04-19T23:38:45Z
class:
core/src/main/java/org/elasticsearch/common/settings/Settings.java
comments:
Merge pull request #17874 from rjernst/less_settings

Internal: Remove unused Settings methods taking multiple setting names

time:
2016-04-19T23:31:02Z
class:
core/src/main/java/org/elasticsearch/common/settings/Settings.java
comments:
Internal: Remove unused Settings methods taking multiple setting names

The Settings class has an enormous amount of methods with variations of
parameters. This change removes all the methods which take multiple
setting names, which were completely unused.

time:
2016-04-19T21:39:16Z
class:
core/src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/test/java/org/elasticsearch/action/bulk/BulkItemResponseTests.java
core/src/test/java/org/elasticsearch/common/StringsTests.java
comments:
Fix BulkItemResponse.Failure.toString

It was busted and causing intermittent test failures.

time:
2016-04-19T21:29:28Z
class:
core/src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java
comments:
Revert "fix toString"

This reverts commit 935ccb13043e1064d512bc3a45ea12e7749f083a.

time:
2016-04-19T21:27:16Z
class:
core/src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java
comments:
fix toString

time:
2016-04-19T21:25:49Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java
comments:
Merge pull request #17864 from rjernst/dynamic_lookup

Mappings: Fix dynamic check to properly handle parents

time:
2016-04-19T21:21:11Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/TransportCancelTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TaskInfo.java
core/src/main/java/org/elasticsearch/action/support/ChildTaskActionRequest.java
core/src/main/java/org/elasticsearch/action/support/ChildTaskRequest.java
core/src/main/java/org/elasticsearch/action/support/tasks/BaseTasksRequest.java
core/src/main/java/org/elasticsearch/tasks/TaskId.java
core/src/test/java/org/elasticsearch/tasks/TaskIdTests.java
comments:
Short the serialization of the empty TaskId

We plan to change every request so that it can support a parentTaskId.
This shrinks EMPTY_TASK_ID, which will be on every request once that change
is made, from 31 bytes to 9 bytes to 1 byte.

time:
2016-04-19T19:46:46Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/support/IncludeExclude.java
comments:
Remove more PROTOTYPEs from aggregations

Relates to #17085

time:
2016-04-19T19:44:45Z
class:
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilderTests.java
comments:
[test] Fix random bounds

0 is invalid so we don't generate it any more.

time:
2016-04-19T18:23:27Z
class:
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
comments:
#14944 Remove obsolete hasResponseFromRequest method

time:
2016-04-19T18:05:18Z
class:
comments:
Added link to breaking changes to release notes

time:
2016-04-19T17:56:55Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java
comments:
Mappings: Fix dynamic check to properly handle parents

This change fixes the lookup during document parsing of whether an
object field is dynamic to handle looking up through parent object
mappers, and also handle when a parent object mapper was created during
document parsing.

closes #17854

time:
2016-04-19T16:02:53Z
class:
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContent.java
core/src/main/java/org/elasticsearch/node/Node.java
comments:
Merge remote-tracking branch 'dakrone/allow-bad-json'

time:
2016-04-19T15:38:16Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/DateRangeAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IPv4RangeAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IpRangeParser.java
comments:
Remove PROTOTYPEs from Ranges

Relates to #17085

time:
2016-04-19T15:37:24Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequest.java
core/src/main/java/org/elasticsearch/action/explain/ExplainRequest.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/support/InnerHitBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/highlight/AbstractHighlighterBuilder.java
core/src/main/java/org/elasticsearch/search/rescore/QueryRescorerBuilder.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
comments:
Migrate (read|write)Query to (read|write)NamedWriteable

Now there aren't any more specialized methods to read or write
NamedWriteables! Now StreamInput and StreamOutput don't need to know
about large chunks of the application!

time:
2016-04-19T15:35:53Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestBuilder.java
core/src/test/java/org/elasticsearch/search/suggest/AbstractSuggestionBuilderTestCase.java
comments:
Migrate more functions to (read|write)NamedWriteable

ScoreFunction and Suggestion.
Relates #17682.

time:
2016-04-19T15:14:23Z
class:
core/src/main/java/org/elasticsearch/action/RealtimeRequest.java
core/src/main/java/org/elasticsearch/action/get/GetRequest.java
core/src/main/java/org/elasticsearch/action/get/GetRequestBuilder.java
core/src/main/java/org/elasticsearch/action/get/MultiGetRequest.java
core/src/main/java/org/elasticsearch/action/get/MultiGetRequestBuilder.java
core/src/main/java/org/elasticsearch/action/get/MultiGetShardRequest.java
core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java
core/src/main/java/org/elasticsearch/action/get/TransportShardMultiGetAction.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequestBuilder.java
core/src/main/java/org/elasticsearch/rest/action/get/RestGetAction.java
core/src/main/java/org/elasticsearch/rest/action/get/RestGetSourceAction.java
core/src/main/java/org/elasticsearch/rest/action/get/RestHeadAction.java
core/src/main/java/org/elasticsearch/rest/action/get/RestMultiGetAction.java
core/src/main/java/org/elasticsearch/rest/action/percolate/RestPercolateAction.java
core/src/main/java/org/elasticsearch/rest/action/termvectors/RestTermVectorsAction.java
comments:
settings: Removed `action.get.realtime` setting

Closes #12543

time:
2016-04-19T15:14:13Z
class:
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContent.java
core/src/main/java/org/elasticsearch/node/Node.java
comments:
Allow JSON with unquoted field names by enabling system property

In Elasticsearch 5.0.0, by default unquoted field names in JSON will be
rejected. This can cause issues, however, for documents that were
already indexed with unquoted field names. To alleviate this, a system
property has been added that can be enabled so migration can occur.

This system property will be removed in Elasticsearch 6.0.0

Resolves #17674

time:
2016-04-19T14:25:50Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestionBuilder.java
comments:
Remove (read|write)PhraseSuggestionSmoothingModel

time:
2016-04-19T14:25:50Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/TaskInfo.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
comments:
Remove (read|write)TaskStatus

time:
2016-04-19T14:25:50Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/index/query/support/InnerHitBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
comments:
Remove (read|write)SortBuilder

time:
2016-04-19T14:25:50Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RerouteExplanation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommands.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/BucketStreamContext.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/InternalHistogram.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/InternalRange.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantLongTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/DoubleTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/LongTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/StringTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/avg/InternalAvg.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/InternalCardinality.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/max/InternalMax.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/min/InternalMin.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/hdr/AbstractInternalHDRPercentiles.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/tdigest/AbstractInternalTDigestPercentiles.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/InternalStats.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/sum/InternalSum.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/InternalSimpleValue.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/InternalBucketMetricValue.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/InternalPercentilesBucket.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/cumulativesum/CumulativeSumPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/DerivativePipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffPipelineAggregator.java
core/src/test/java/org/elasticsearch/search/DocValueFormatTests.java
comments:
Remove writeAllocationCommand and writeValueFormat

Replace with writeNamedWriteable. s/write/read/g

time:
2016-04-19T14:17:49Z
class:
core/src/main/java/org/elasticsearch/index/query/support/InnerHitBuilder.java
core/src/main/java/org/elasticsearch/index/query/support/InnerHitsBuilder.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/test/java/org/elasticsearch/index/query/support/InnerHitsBuilderTests.java
comments:
Remove PROTO from InnerHits

Relates to #17085

time:
2016-04-19T14:07:51Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
core/src/main/java/org/elasticsearch/monitor/fs/FsInfo.java
core/src/main/java/org/elasticsearch/monitor/fs/FsService.java
comments:
Clean up serialization on some stats

Removes readFrom which is no longer required/actively discouraged and
replaces some instances of `Streamable` with `Writeable`.

Relates to #17085

time:
2016-04-19T13:58:37Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/AbstractHistogramBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/ExtendedBounds.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/InternalHistogram.java
comments:
Remove PROTOTYPE from ExtendedBounds

and make it implement Writeable because it is Writeable.

Relates to #17085

time:
2016-04-19T13:47:37Z
class:
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantLongTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantStringTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/UnmappedSignificantTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ChiSquare.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/GND.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/JLHScore.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/MutualInformation.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/NXYSignificanceHeuristic.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/PercentageScore.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ScriptHeuristic.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/SignificanceHeuristicParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/SignificanceHeuristicParserMapper.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/SignificanceHeuristicStreams.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/significant/SignificanceHeuristicTests.java
test/framework/src/main/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
comments:
Normalize registration for SignificanceHeuristics

When I pulled on the thread that is "Remove PROTOTYPEs from
SignificanceHeuristics" I ended up removing SignificanceHeuristicStreams
and replacing it with readNamedWriteable. That seems like a lot at once
but it made sense at the time. And it is what we want in the end, I think.

Anyway, this also converts registration of SignificanceHeuristics to
use ParseFieldRegistry to make them consistent with Queries, Aggregations
and lots of other stuff.

Adds a new and wonderous hack to support serialization checking of
NamedWriteables registered by plugins!

Related to #17085

time:
2016-04-19T13:30:45Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregatorBuilder.java
comments:
Remove PROTOTYPE from KeyedFilter

Relates to #17085

time:
2016-04-19T13:29:06Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
comments:
Remove PROTOTYPE from AggregatorFactories

Relates to #17085

time:
2016-04-19T13:25:34Z
class:
core/src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java
core/src/test/java/org/elasticsearch/ingest/IngestClientIT.java
comments:
Add additional assertions to IngestClientIT

time:
2016-04-19T12:45:59Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationOperation.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/transport/TransportChannelResponseHandler.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ClusterStateCreationUtils.java
core/src/test/java/org/elasticsearch/action/support/replication/ReplicationOperationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportReplicationActionTests.java
core/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
Extract non-transport primary logic from TransportReplicationAction #16492

Extracts all the replication logic that is done on the Primary to a separated class called ReplicationOperation. The goal
here is to make unit testing of this logic easier and in the future allow setting up tests that work directly on IndexShards
without the need for networking.

Closes #16492

time:
2016-04-19T12:36:28Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/NamedWriteableRegistry.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/Aggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregation.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/children/ChildrenAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoGridAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/global/GlobalAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/AbstractHistogramBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/missing/MissingAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/AbstractRangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/SamplerAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/avg/AvgAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/GeoBoundsAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/GeoCentroidAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/max/MaxAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/min/MinAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/StatsAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/ExtendedStatsAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/sum/SumAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/ValueCountAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/avg/AvgBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/max/MaxBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/min/MinBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/PercentilesBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/StatsBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/ExtendedStatsBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/sum/SumBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketselector/BucketSelectorPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/cumulativesum/CumulativeSumPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/DerivativePipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/support/AbstractValuesSourceParser.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceAggregatorBuilder.java
comments:
Remove deprecated registration methods

Removes deprecated registration methods from SearchModule and
NamedWriteableRegistry and removes the "shims" used to migrate
aggregations to the new registration methods.

Relates to #17085

time:
2016-04-19T12:19:11Z
class:
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregatorBuilder.java
comments:
FiltersAggregatorBuilder: Don't create new context for inner parsing

We don't have to create new parse context for inner parsing.

time:
2016-04-19T12:11:45Z
class:
comments:
Fixed split processor example

time:
2016-04-19T12:11:23Z
class:
comments:
Percolator docs missing a callout

time:
2016-04-19T09:56:05Z
class:
comments:
Update has-parent-query.asciidoc (#17841)

Change reference to `score_mode` to `score`

time:
2016-04-19T09:54:48Z
class:
comments:
Update search.asciidoc

Corrected breaking changes for `has_parent`.  Relates to https://github.com/elastic/elasticsearch/pull/17841

time:
2016-04-19T09:49:51Z
class:
comments:
docs: removed confusing statement.

time:
2016-04-19T09:32:00Z
class:
core/src/main/java/org/elasticsearch/index/percolator/PercolatorFieldMapper.java
comments:
added comment, why we fail here.

time:
2016-04-19T09:20:31Z
class:
core/src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/percolator/ExtractQueryTermsService.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorHighlightSubFetchPhase.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueryCache.java
core/src/main/java/org/elasticsearch/index/query/PercolatorQuery.java
core/src/main/java/org/elasticsearch/index/query/PercolatorQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/test/java/org/elasticsearch/index/percolator/PercolatorFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/percolator/PercolatorHighlightSubFetchPhaseTests.java
core/src/test/java/org/elasticsearch/index/percolator/PercolatorQueryCacheTests.java
core/src/test/java/org/elasticsearch/index/query/PercolatorQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/PercolatorQueryTests.java
core/src/test/java/org/elasticsearch/indices/IndicesOptionsIntegrationIT.java
core/src/test/java/org/elasticsearch/percolator/MultiPercolatorIT.java
core/src/test/java/org/elasticsearch/percolator/PercolatorAggregationsIT.java
core/src/test/java/org/elasticsearch/percolator/PercolatorBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
core/src/test/java/org/elasticsearch/search/percolator/PercolatorQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearchIT.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
comments:
percolator: removed .percolator type instead a field of type `percolator` should be configured before indexing percolator queries

* Added an extra `field` parameter to the `percolator` query to indicate what percolator field should be used. This must be an existing field in the mapping of type `percolator`.
* The `.percolator` type is now forbidden. (just like any type that starts with a `.`)

This only applies for new indices created on 5.0 and later. Indices created on previous versions the .percolator type is still allowed to exist.
The new `percolator` field type isn't active in such indices and the `PercolatorQueryCache` knows how to load queries from these legacy indices.
The `PercolatorQueryBuilder` will not enforce that the `field` parameter is of type `percolator`.

time:
2016-04-19T09:11:58Z
class:
comments:
Update ingest-node.asciidoc

Documented `separator` in the `split processorCloses https://github.com/elastic/elasticsearch/issues/17831

time:
2016-04-19T01:43:48Z
class:
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodeService.java
core/src/main/java/org/elasticsearch/cluster/routing/AllocationId.java
core/src/main/java/org/elasticsearch/common/MacAddressProvider.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/TimeBasedUUIDGenerator.java
core/src/main/java/org/elasticsearch/common/UUIDs.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreResponseTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterChangedEventTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/SimpleClusterStateIT.java
core/src/test/java/org/elasticsearch/common/util/IndexFolderUpgraderTests.java
core/src/test/java/org/elasticsearch/gateway/PrimaryShardAllocatorTests.java
core/src/test/java/org/elasticsearch/index/IndexTests.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
core/src/test/java/org/elasticsearch/indices/flush/SyncedFlushSingleNodeTests.java
core/src/test/java/org/elasticsearch/search/searchafter/SearchAfterIT.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
comments:
Refactor UUID-generating methods out of Strings

This commit refactors the UUID-generating methods out of Strings intotheir own class. The primary motive for this refactoring is to avoid achain of class initializers from loading this class earlier thannecessary. This was discovered when it was noticed that startingElasticsearch without any active network interfaces leads to somelogging statements being executed before logging had beeninitailized. Thus: - these UUID methods have no place being on Strings - removing them reduces spooky action-at-distance loading of this class - removed the troublesome, logging statements from MacAddressProvider,   logging using statically-initialized instances of ESLogger are prone   to this problemRelates #17837

time:
2016-04-18T22:58:56Z
class:
core/src/main/java/org/elasticsearch/common/transport/DummyTransportAddress.java
core/src/main/java/org/elasticsearch/common/transport/InetSocketTransportAddress.java
core/src/main/java/org/elasticsearch/common/transport/LocalTransportAddress.java
core/src/main/java/org/elasticsearch/common/transport/TransportAddressSerializers.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
comments:
Remove PROTOs from TransportAddresses

We have this TransportAddressSerializers that works similarly to
NamedWriteables except it uses shorts instead of streams. I don't know
enough to propose removing it in favor of NamedWriteables to I just ported
it to using Writeable.Reader and left it alone.

Relates to #17085

time:
2016-04-18T21:55:25Z
class:
core/src/main/java/org/elasticsearch/action/DocWriteResponse.java
core/src/main/java/org/elasticsearch/action/ReplicationResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexShardStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotShardsStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/tasks/PendingClusterTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/DetailAnalyzeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/SyncedFlushResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoresResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusResponse.java
core/src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java
core/src/main/java/org/elasticsearch/action/delete/DeleteResponse.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStats.java
core/src/main/java/org/elasticsearch/action/get/MultiGetResponse.java
core/src/main/java/org/elasticsearch/action/index/IndexResponse.java
core/src/main/java/org/elasticsearch/action/ingest/SimulatePipelineResponse.java
core/src/main/java/org/elasticsearch/action/percolate/MultiPercolateResponse.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateResponse.java
core/src/main/java/org/elasticsearch/action/search/ClearScrollResponse.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchResponse.java
core/src/main/java/org/elasticsearch/action/search/SearchResponse.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsResponse.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsResponse.java
core/src/main/java/org/elasticsearch/action/update/UpdateResponse.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/common/unit/Fuzziness.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilderString.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentParser.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentString.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java
core/src/main/java/org/elasticsearch/discovery/DiscoveryStats.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PendingClusterStateStats.java
core/src/main/java/org/elasticsearch/http/HttpInfo.java
core/src/main/java/org/elasticsearch/http/HttpStats.java
core/src/main/java/org/elasticsearch/index/cache/query/QueryCacheStats.java
core/src/main/java/org/elasticsearch/index/cache/request/RequestCacheStats.java
core/src/main/java/org/elasticsearch/index/engine/CommitStats.java
core/src/main/java/org/elasticsearch/index/engine/SegmentsStats.java
core/src/main/java/org/elasticsearch/index/fielddata/FieldDataStats.java
core/src/main/java/org/elasticsearch/index/flush/FlushStats.java
core/src/main/java/org/elasticsearch/index/get/GetResult.java
core/src/main/java/org/elasticsearch/index/get/GetStats.java
core/src/main/java/org/elasticsearch/index/merge/MergeStats.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueryCacheStats.java
core/src/main/java/org/elasticsearch/index/recovery/RecoveryStats.java
core/src/main/java/org/elasticsearch/index/refresh/RefreshStats.java
core/src/main/java/org/elasticsearch/index/search/stats/SearchStats.java
core/src/main/java/org/elasticsearch/index/shard/DocsStats.java
core/src/main/java/org/elasticsearch/index/shard/IndexingStats.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshot.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshots.java
core/src/main/java/org/elasticsearch/index/store/StoreStats.java
core/src/main/java/org/elasticsearch/index/translog/TranslogStats.java
core/src/main/java/org/elasticsearch/index/warmer/WarmerStats.java
core/src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
core/src/main/java/org/elasticsearch/indices/breaker/AllCircuitBreakerStats.java
core/src/main/java/org/elasticsearch/indices/breaker/CircuitBreakerStats.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryState.java
core/src/main/java/org/elasticsearch/monitor/fs/FsInfo.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmInfo.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmStats.java
core/src/main/java/org/elasticsearch/monitor/os/OsInfo.java
core/src/main/java/org/elasticsearch/monitor/os/OsStats.java
core/src/main/java/org/elasticsearch/monitor/process/ProcessInfo.java
core/src/main/java/org/elasticsearch/monitor/process/ProcessStats.java
core/src/main/java/org/elasticsearch/plugins/PluginInfo.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/state/RestClusterStateAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/alias/get/RestGetAliasesAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/get/RestGetIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/mapping/get/RestGetMappingAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/validate/query/RestValidateQueryAction.java
core/src/main/java/org/elasticsearch/rest/action/bulk/RestBulkAction.java
core/src/main/java/org/elasticsearch/rest/action/explain/RestExplainAction.java
core/src/main/java/org/elasticsearch/rest/action/script/RestDeleteIndexedScriptAction.java
core/src/main/java/org/elasticsearch/rest/action/script/RestGetIndexedScriptAction.java
core/src/main/java/org/elasticsearch/rest/action/script/RestPutIndexedScriptAction.java
core/src/main/java/org/elasticsearch/rest/action/support/AcknowledgedRestListener.java
core/src/main/java/org/elasticsearch/rest/action/support/RestActions.java
core/src/main/java/org/elasticsearch/rest/action/template/RestGetSearchTemplateAction.java
core/src/main/java/org/elasticsearch/script/ScriptStats.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregation.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregations.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/InternalGeoCentroid.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/InternalStats.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/InternalExtendedStats.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHits.java
core/src/main/java/org/elasticsearch/search/suggest/Suggest.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionStats.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestion.java
core/src/main/java/org/elasticsearch/search/suggest/term/TermSuggestion.java
core/src/main/java/org/elasticsearch/snapshots/RestoreInfo.java
core/src/main/java/org/elasticsearch/snapshots/Snapshot.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotInfo.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPoolInfo.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPoolStats.java
core/src/main/java/org/elasticsearch/transport/TransportInfo.java
core/src/main/java/org/elasticsearch/transport/TransportStats.java
core/src/test/java/org/elasticsearch/common/xcontent/builder/XContentBuilderTests.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryResponse.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/IndexDeleteByQueryResponse.java
comments:
Merge pull request #17833 from rjernst/camelcase2

Internal: Remove XContentBuilderString

time:
2016-04-18T21:32:18Z
class:
core/src/main/java/org/elasticsearch/action/DocWriteResponse.java
core/src/main/java/org/elasticsearch/action/ReplicationResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexShardStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotShardsStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/tasks/PendingClusterTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/DetailAnalyzeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/SyncedFlushResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoresResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusResponse.java
core/src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java
core/src/main/java/org/elasticsearch/action/delete/DeleteResponse.java
core/src/main/java/org/elasticsearch/action/fieldstats/FieldStats.java
core/src/main/java/org/elasticsearch/action/get/MultiGetResponse.java
core/src/main/java/org/elasticsearch/action/index/IndexResponse.java
core/src/main/java/org/elasticsearch/action/ingest/SimulatePipelineResponse.java
core/src/main/java/org/elasticsearch/action/percolate/MultiPercolateResponse.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateResponse.java
core/src/main/java/org/elasticsearch/action/search/ClearScrollResponse.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchResponse.java
core/src/main/java/org/elasticsearch/action/search/SearchResponse.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsResponse.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsResponse.java
core/src/main/java/org/elasticsearch/action/update/UpdateResponse.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/common/unit/Fuzziness.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilderString.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentGenerator.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentParser.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentString.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java
core/src/main/java/org/elasticsearch/discovery/DiscoveryStats.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PendingClusterStateStats.java
core/src/main/java/org/elasticsearch/http/HttpInfo.java
core/src/main/java/org/elasticsearch/http/HttpStats.java
core/src/main/java/org/elasticsearch/index/cache/query/QueryCacheStats.java
core/src/main/java/org/elasticsearch/index/cache/request/RequestCacheStats.java
core/src/main/java/org/elasticsearch/index/engine/CommitStats.java
core/src/main/java/org/elasticsearch/index/engine/SegmentsStats.java
core/src/main/java/org/elasticsearch/index/fielddata/FieldDataStats.java
core/src/main/java/org/elasticsearch/index/flush/FlushStats.java
core/src/main/java/org/elasticsearch/index/get/GetResult.java
core/src/main/java/org/elasticsearch/index/get/GetStats.java
core/src/main/java/org/elasticsearch/index/merge/MergeStats.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueryCacheStats.java
core/src/main/java/org/elasticsearch/index/recovery/RecoveryStats.java
core/src/main/java/org/elasticsearch/index/refresh/RefreshStats.java
core/src/main/java/org/elasticsearch/index/search/stats/SearchStats.java
core/src/main/java/org/elasticsearch/index/shard/DocsStats.java
core/src/main/java/org/elasticsearch/index/shard/IndexingStats.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshot.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshots.java
core/src/main/java/org/elasticsearch/index/store/StoreStats.java
core/src/main/java/org/elasticsearch/index/translog/TranslogStats.java
core/src/main/java/org/elasticsearch/index/warmer/WarmerStats.java
core/src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
core/src/main/java/org/elasticsearch/indices/breaker/AllCircuitBreakerStats.java
core/src/main/java/org/elasticsearch/indices/breaker/CircuitBreakerStats.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryState.java
core/src/main/java/org/elasticsearch/monitor/fs/FsInfo.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmInfo.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmStats.java
core/src/main/java/org/elasticsearch/monitor/os/OsInfo.java
core/src/main/java/org/elasticsearch/monitor/os/OsStats.java
core/src/main/java/org/elasticsearch/monitor/process/ProcessInfo.java
core/src/main/java/org/elasticsearch/monitor/process/ProcessStats.java
core/src/main/java/org/elasticsearch/plugins/PluginInfo.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/state/RestClusterStateAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/alias/get/RestGetAliasesAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/get/RestGetIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/mapping/get/RestGetMappingAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/validate/query/RestValidateQueryAction.java
core/src/main/java/org/elasticsearch/rest/action/bulk/RestBulkAction.java
core/src/main/java/org/elasticsearch/rest/action/explain/RestExplainAction.java
core/src/main/java/org/elasticsearch/rest/action/script/RestDeleteIndexedScriptAction.java
core/src/main/java/org/elasticsearch/rest/action/script/RestGetIndexedScriptAction.java
core/src/main/java/org/elasticsearch/rest/action/script/RestPutIndexedScriptAction.java
core/src/main/java/org/elasticsearch/rest/action/support/AcknowledgedRestListener.java
core/src/main/java/org/elasticsearch/rest/action/support/RestActions.java
core/src/main/java/org/elasticsearch/rest/action/template/RestGetSearchTemplateAction.java
core/src/main/java/org/elasticsearch/script/ScriptStats.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregation.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregations.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/InternalGeoCentroid.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/InternalStats.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/InternalExtendedStats.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHits.java
core/src/main/java/org/elasticsearch/search/suggest/Suggest.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionStats.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestion.java
core/src/main/java/org/elasticsearch/search/suggest/term/TermSuggestion.java
core/src/main/java/org/elasticsearch/snapshots/RestoreInfo.java
core/src/main/java/org/elasticsearch/snapshots/Snapshot.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotInfo.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPoolInfo.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPoolStats.java
core/src/main/java/org/elasticsearch/transport/TransportInfo.java
core/src/main/java/org/elasticsearch/transport/TransportStats.java
core/src/test/java/org/elasticsearch/common/xcontent/builder/XContentBuilderTests.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryResponse.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/IndexDeleteByQueryResponse.java
comments:
Internal: Remove XContentBuilderString

This was previously used by xcontentbuilder to support camelCase.
However, it is no longer used, and can be replaced with just String.

time:
2016-04-18T21:27:09Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/list/ListTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexStatus.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusResponse.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/RepositoriesMetaData.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/unit/Fuzziness.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilderString.java
core/src/main/java/org/elasticsearch/index/fielddata/FieldDataStats.java
core/src/main/java/org/elasticsearch/index/search/stats/SearchStats.java
core/src/main/java/org/elasticsearch/index/shard/IndexingStats.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshots.java
core/src/main/java/org/elasticsearch/monitor/fs/FsInfo.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmStats.java
core/src/main/java/org/elasticsearch/rest/AbstractRestChannel.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/alias/get/RestGetAliasesAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/mapping/get/RestGetMappingAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/settings/RestGetSettingsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/upgrade/RestUpgradeAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/validate/query/RestValidateQueryAction.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionStats.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPoolStats.java
core/src/test/java/org/elasticsearch/common/xcontent/builder/XContentBuilderTests.java
comments:
Merge pull request #17774 from rjernst/camelcase1

Rest: Remove 'case' parameter from rest apis

time:
2016-04-18T21:25:05Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java
comments:
Merge pull request #17759 from rjernst/dots3

Mappings: Support dots in field names when mapping exists

time:
2016-04-18T21:24:37Z
class:
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/elasticsearch/action/admin/cluster/allocation/ClusterAllocationExplainRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCheck.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/routing/AllocationId.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AbstractAllocateAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateEmptyPrimaryAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateReplicaAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateStalePrimaryAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommands.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/BasePrimaryAllocationCommand.java
core/src/main/java/org/elasticsearch/common/ParseFieldMatcherSupplier.java
core/src/main/java/org/elasticsearch/common/geo/builders/GeometryCollectionBuilder.java
core/src/main/java/org/elasticsearch/common/io/stream/NamedWriteableAwareStreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/common/settings/ClusterSettings.java
core/src/main/java/org/elasticsearch/common/settings/Setting.java
core/src/main/java/org/elasticsearch/common/xcontent/ObjectParser.java
core/src/main/java/org/elasticsearch/common/xcontent/ParseFieldRegistry.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentParser.java
core/src/main/java/org/elasticsearch/common/xcontent/support/AbstractXContentParser.java
core/src/main/java/org/elasticsearch/gateway/MetaDataStateFormat.java
core/src/main/java/org/elasticsearch/http/HttpTransportSettings.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpChannel.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/SearchSlowLog.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/SegmentsStats.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchPhrasePrefixQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchPhraseQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ParentIdQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/PercolatorQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/QueryRewriteContext.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScriptScoreFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/ingest/IngestMetadata.java
core/src/main/java/org/elasticsearch/ingest/PipelineConfiguration.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/validate/template/RestRenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/rest/action/search/RestMultiSearchAction.java
core/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
core/src/main/java/org/elasticsearch/rest/action/suggest/RestSuggestAction.java
core/src/main/java/org/elasticsearch/rest/action/support/RestActions.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationParseElement.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoGridAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/global/GlobalAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/missing/MissingAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/missing/MissingParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/AbstractRangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/DateRangeAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/DateRangeParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IPv4RangeAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IpRangeParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedSamplerParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/SamplerAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/SamplerParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/avg/AvgAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/avg/AvgParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/GeoBoundsAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/GeoBoundsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/GeoCentroidAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/GeoCentroidParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/max/MaxAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/max/MaxParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/min/MinAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/min/MinParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/StatsAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/StatsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/ExtendedStatsAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/ExtendedStatsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/sum/SumAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/sum/SumParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/ValueCountAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/ValueCountParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/BucketHelpers.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/avg/AvgBucketParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/avg/AvgBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/max/MaxBucketParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/max/MaxBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/min/MinBucketParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/min/MinBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/PercentilesBucketParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/percentile/PercentilesBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/StatsBucketParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/StatsBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/ExtendedStatsBucketParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/stats/extended/ExtendedStatsBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/sum/SumBucketParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/sum/SumBucketPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketselector/BucketSelectorParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketselector/BucketSelectorPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/cumulativesum/CumulativeSumParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/cumulativesum/CumulativeSumPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/DerivativeParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/DerivativePipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/EwmaModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltLinearModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltWintersModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/LinearModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelParserMapper.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/SimpleModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffPipelineAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/support/AbstractValuesSourceParser.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValueType.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/fetch/source/FetchSourceContext.java
core/src/main/java/org/elasticsearch/search/rescore/RescoreBuilder.java
core/src/main/java/org/elasticsearch/search/sort/FieldSortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/ScoreSortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/ScriptSortBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/Suggest.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestionBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestionBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/completion/FuzzyOptions.java
core/src/main/java/org/elasticsearch/search/suggest/completion/RegexOptions.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/CategoryContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/CategoryQueryContext.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/ContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/GeoContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/completion/context/GeoQueryContext.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/DirectCandidateGeneratorBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/Laplace.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/LinearInterpolation.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestionBuilder.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/SmoothingModel.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/StupidBackoff.java
core/src/main/java/org/elasticsearch/search/suggest/term/TermSuggestionBuilder.java
core/src/main/java/org/elasticsearch/transport/PlainTransportFuture.java
core/src/main/java/org/elasticsearch/transport/RequestHandlerRegistry.java
core/src/main/java/org/elasticsearch/transport/Transport.java
core/src/main/java/org/elasticsearch/transport/TransportChannelResponseHandler.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/tasks/TasksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsTests.java
core/src/test/java/org/elasticsearch/action/bulk/TransportBulkActionTookTests.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapCheckTests.java
core/src/test/java/org/elasticsearch/bootstrap/MaxMapCountCheckTests.java
core/src/test/java/org/elasticsearch/client/transport/FailAndRetryMockTransport.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientIT.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientRetryIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
core/src/test/java/org/elasticsearch/common/transport/BoundTransportAddressTests.java
core/src/test/java/org/elasticsearch/common/xcontent/ObjectParserTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpRequestSizeLimitIT.java
core/src/test/java/org/elasticsearch/http/netty/NettyPipeliningDisabledIT.java
core/src/test/java/org/elasticsearch/http/netty/NettyPipeliningEnabledIT.java
core/src/test/java/org/elasticsearch/index/SearchSlowLogTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java
core/src/test/java/org/elasticsearch/index/mapper/MapperServiceTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/BoostingQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/GeohashCellQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MockRepeatAnalyzer.java
core/src/test/java/org/elasticsearch/index/query/NestedQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/ParentIdQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/PercolatorQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryStringQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TypeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/support/InnerHitBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/support/InnerHitsBuilderTests.java
core/src/test/java/org/elasticsearch/indices/IndexingMemoryControllerTests.java
core/src/test/java/org/elasticsearch/search/SearchModuleTests.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregationCollectorTests.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregatorParsingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/BaseAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/BasePipelineAggregationTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParserTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/significant/SignificanceHeuristicTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TopHitsTests.java
comments:
Merge branch 'master' into dots3

time:
2016-04-18T21:24:11Z
class:
core/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java
comments:
Add check that no dynamic update was done with existing mappings and
dots

time:
2016-04-18T20:21:50Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
comments:
Fix javadoc for new methods

time:
2016-04-18T20:19:45Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequest.java
comments:
Deprecate remaining readXYZ|writeXYZ methods

time:
2016-04-18T20:19:45Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/test/java/org/elasticsearch/search/rescore/QueryRescoreBuilderTests.java
comments:
Replace (read|write)Rescorer with (read|write)NamedWriteable

time:
2016-04-18T20:19:45Z
class:
core/src/main/java/org/elasticsearch/common/geo/builders/GeometryCollectionBuilder.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
comments:
Replace (read|write)Shape with (read|write)NamedWriteable

time:
2016-04-18T20:19:45Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/test/java/org/elasticsearch/search/aggregations/BasePipelineAggregationTestCase.java
comments:
Replace (read|write)PipelineAggregatorBuilder with (read|write)NamedWriteable

time:
2016-04-18T20:19:44Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
core/src/test/java/org/elasticsearch/search/aggregations/BaseAggregationTestCase.java
comments:
Replace (read|write)AggregatorBuilder with (read|write)NamedWriteable

time:
2016-04-18T20:19:44Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/search/sort/FieldSortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/ScriptSortBuilder.java
comments:
Replace writeOptionalQuery with writeOptionalNamedWriteable

time:
2016-04-18T20:19:44Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/search/sort/FieldSortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/ScriptSortBuilder.java
comments:
Remove readOptionalQuery

Replace it with readOptionalNamedWriteable

time:
2016-04-18T20:19:44Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/NamedWriteableAwareStreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
comments:
Make readNamedWriteable and writeNamedWriteable public

Now anyone can read or write whatever, whenever.

Closes #17682

time:
2016-04-18T19:00:27Z
class:
comments:
Update mapping.asciidoc

Correct `fielddata.frequency.regex` to `fielddata.filter.regex` in breaking changes

time:
2016-04-18T15:11:28Z
class:
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/max/MaxAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/max/MaxParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/min/MinAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/min/MinParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/StatsAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/StatsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/ExtendedStatsAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/ExtendedStatsParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/sum/SumAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/sum/SumParser.java
comments:
Cut max, min, stats, and extended stats aggregations over to registerAggregation

and remove their PROTOTYPEs.

Relates to #17085

time:
2016-04-18T15:05:39Z
class:
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesAggregatorBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesParser.java
comments:
Cut percentiles and percentile_ranks to registerAggregation

and remove their PROTOTYPEs.

Relates to #17085
