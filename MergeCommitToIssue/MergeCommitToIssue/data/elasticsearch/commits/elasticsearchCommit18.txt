time:
2015-06-29T19:55:52Z
class:
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/snapshots/create/RestCreateSnapshotAction.java
comments:
remove _create from POST to match PUT path

time:
2015-06-29T19:17:22Z
class:
comments:
Add jsr-166e license, notice and sha1 hash

time:
2015-06-29T19:07:47Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/search/SearchService.java
comments:
Don't pull the engine for access to the QueryCachingPolicy

time:
2015-06-29T18:45:38Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapTests.java
core/src/test/java/org/elasticsearch/plugins/PluginLuceneCheckerTests.java
core/src/test/java/org/elasticsearch/plugins/PluginServiceTests.java
comments:
Merge pull request #11918 from rmuir/plugin_manager_classpath

Load plugins into classpath in bootstrap

time:
2015-06-29T17:20:53Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
comments:
Add back check with a note, so anyone reviewing isn't confused.

time:
2015-06-29T16:35:59Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
comments:
Remove try/finally, its not necessary here

time:
2015-06-29T16:11:04Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapTests.java
core/src/test/java/org/elasticsearch/plugins/PluginLuceneCheckerTests.java
core/src/test/java/org/elasticsearch/plugins/PluginServiceTests.java
comments:
Load plugins into classpath in bootstrap

time:
2015-06-29T15:48:48Z
class:
core/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
comments:
Merge pull request #11909 from martijnvg/nested_query_min_score_mode

Added `min` score mode.

time:
2015-06-29T15:13:16Z
class:
core/src/main/java/jsr166e/DoubleAdder.java
core/src/main/java/jsr166e/DoubleMaxUpdater.java
core/src/main/java/jsr166e/LongAdder.java
core/src/main/java/jsr166e/LongMaxUpdater.java
core/src/main/java/jsr166e/Striped64.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/common/metrics/CounterMetric.java
core/src/main/java/org/elasticsearch/common/metrics/EWMA.java
core/src/main/java/org/elasticsearch/common/metrics/MeanMetric.java
core/src/main/java/org/elasticsearch/common/metrics/MeterMetric.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
comments:
Merge pull request #11898 from rmuir/lockdown

steps to remove dangerous security permissions

time:
2015-06-29T14:27:16Z
class:
securemock/src/main/java/org/elasticsearch/mock/Mockito.java
comments:
Merge pull request #11913 from rmuir/securemock

Add mocking for securitymanager environment.

time:
2015-06-29T14:23:42Z
class:
comments:
Link securemock into the build so we will have snapshots, etc

time:
2015-06-29T13:29:38Z
class:
securemock/src/main/java/org/elasticsearch/mock/Mockito.java
comments:
Add mocking for securitymanager environment.

This is a standalone wrapper around Mockito, it allows us to use
it without granting dangerous permissions to all of our code.

See https://github.com/rmuir/securemock
I don't think we use that method which is BTW deprecated because `ReturnValues` is deprecated in Mockito.

@rmuir It creates a deprecated warning at compile time in my IDE. Do you think you can remove this method?

We can remove it when mockito removes it only. We implement their API, including the deprecated ones.


time:
2015-06-29T13:00:40Z
class:
core/src/main/java/org/elasticsearch/index/translog/TranslogReader.java
comments:
Merge pull request #11911 from s1monw/no_utf_uuid

Don't convert possibly corrupted bytes to UTF-8

time:
2015-06-29T11:53:38Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorBuilders.java
core/src/test/java/org/elasticsearch/script/expression/ExpressionScriptTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/BucketScriptTests.java
comments:
Aggregations: Fix bucket_script builder method name

time:
2015-06-29T11:35:09Z
class:
core/src/main/java/org/elasticsearch/index/cache/IndexCache.java
core/src/main/java/org/elasticsearch/index/cache/query/QueryCacheModule.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/search/SearchService.java
comments:
Merge pull request #11886 from jpountz/fix/shard_filter_cache_stats

Store filter cache statistics at the shard level instead of index.

time:
2015-06-29T11:34:31Z
class:
core/src/main/java/org/elasticsearch/index/cache/IndexCache.java
core/src/main/java/org/elasticsearch/index/cache/query/QueryCacheModule.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/search/SearchService.java
comments:
Store filter cache statistics at the shard level instead of index.

Today we keep track of how often filters are used at the index level in order
to decide whether they should be cached or not. This is an issue if you have
several shards of the same index on the same node as it will multiply statistics
by the number of shards that you have for this index on the node, which defeats
the purpose of waiting for a filter to be reused before caching them.

time:
2015-06-29T11:16:52Z
class:
core/src/main/java/org/elasticsearch/index/translog/TranslogReader.java
comments:
Don't convert possibly corrupted bytes to UTF-8

If the translog UUID is corrupted we should not convert it
to UTF-8 since it might be invalid. Instead we should compare
the UTF-8 byte representation directly.

time:
2015-06-29T10:47:10Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
core/src/main/java/org/elasticsearch/index/cache/query/QueryCacheModule.java
core/src/main/java/org/elasticsearch/index/cache/query/QueryCacheStats.java
core/src/main/java/org/elasticsearch/index/cache/query/index/IndexQueryCache.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchTests.java
core/src/test/java/org/elasticsearch/search/scriptfilter/ScriptQuerySearchTests.java
core/src/test/java/org/elasticsearch/test/ExternalTestCluster.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Fix missing renamings.

Relates to #11893

time:
2015-06-29T10:26:30Z
class:
core/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
comments:
nested query: Added `min` score mode.

This score mode was added with the Lucene 5.2 release, but the `nested` query parser hasn't been changed to use it.

time:
2015-06-29T10:24:23Z
class:
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryState.java
core/src/test/java/org/elasticsearch/indices/recovery/RecoveryStateTest.java
comments:
Fix RecoveryState timestamps

Use System.currentTimeMillis() for wall clock time and use System.nanoTime() for delta.
Fixes #11870.

time:
2015-06-29T09:57:32Z
class:
comments:
Docs: clarification of allocation awareness w.r.t. rack failures

Closes #11908

time:
2015-06-29T09:50:44Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterStateObserver.java
comments:
Internal: ClusterStateObserver should log on trace on timeout

This more consistent with the other logging it makes and since it can be used in many operations the output can be more verbose (without adding too much info as to who timed out exactly - which we can fix separately). If need be the caller of the observer can log a higher level message.

Closes #11722

time:
2015-06-29T08:54:45Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStatsFlags.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/package-info.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/common/joda/DateMathParser.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/cache/IndexCache.java
core/src/main/java/org/elasticsearch/index/cache/IndexCacheModule.java
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/cache/filter/FilterCacheStats.java
core/src/main/java/org/elasticsearch/index/cache/query/QueryCache.java
core/src/main/java/org/elasticsearch/index/cache/query/QueryCacheModule.java
core/src/main/java/org/elasticsearch/index/cache/query/QueryCacheStats.java
core/src/main/java/org/elasticsearch/index/cache/query/index/IndexQueryCache.java
core/src/main/java/org/elasticsearch/index/cache/query/none/NoneQueryCache.java
core/src/main/java/org/elasticsearch/index/cache/request/RequestCacheStats.java
core/src/main/java/org/elasticsearch/index/cache/request/ShardRequestCache.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/EngineSearcherFactory.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
core/src/main/java/org/elasticsearch/indices/cache/filter/IndicesFilterCache.java
core/src/main/java/org/elasticsearch/indices/cache/query/IndicesQueryCache.java
core/src/main/java/org/elasticsearch/indices/cache/query/terms/TermsLookup.java
core/src/main/java/org/elasticsearch/indices/cache/request/IndicesRequestCache.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/cache/clear/RestClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/stats/RestIndicesStatsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/internal/ShardSearchLocalRequest.java
core/src/main/java/org/elasticsearch/search/internal/ShardSearchRequest.java
core/src/main/java/org/elasticsearch/search/internal/ShardSearchTransportRequest.java
core/src/main/java/org/elasticsearch/search/warmer/IndexWarmersMetaData.java
core/src/test/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheBlocksTests.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
core/src/test/java/org/elasticsearch/document/DocumentActionsTests.java
core/src/test/java/org/elasticsearch/indices/cache/query/IndicesRequestCacheTests.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
core/src/test/java/org/elasticsearch/indices/warmer/SimpleIndicesWarmerTests.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchTests.java
core/src/test/java/org/elasticsearch/search/scriptfilter/ScriptQuerySearchTests.java
core/src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
core/src/test/java/org/elasticsearch/test/ElasticsearchSingleNodeTest.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
core/src/test/java/org/elasticsearch/test/engine/MockEngineSupport.java
core/src/test/java/org/elasticsearch/test/search/MockSearchService.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-06-29T08:21:18Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStatsFlags.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/package-info.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/common/joda/DateMathParser.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/cache/IndexCache.java
core/src/main/java/org/elasticsearch/index/cache/IndexCacheModule.java
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/cache/filter/FilterCacheStats.java
core/src/main/java/org/elasticsearch/index/cache/query/QueryCache.java
core/src/main/java/org/elasticsearch/index/cache/query/QueryCacheModule.java
core/src/main/java/org/elasticsearch/index/cache/query/QueryCacheStats.java
core/src/main/java/org/elasticsearch/index/cache/query/index/IndexQueryCache.java
core/src/main/java/org/elasticsearch/index/cache/query/none/NoneQueryCache.java
core/src/main/java/org/elasticsearch/index/cache/request/RequestCacheStats.java
core/src/main/java/org/elasticsearch/index/cache/request/ShardRequestCache.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/EngineSearcherFactory.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
core/src/main/java/org/elasticsearch/indices/cache/filter/IndicesFilterCache.java
core/src/main/java/org/elasticsearch/indices/cache/query/IndicesQueryCache.java
core/src/main/java/org/elasticsearch/indices/cache/query/terms/TermsLookup.java
core/src/main/java/org/elasticsearch/indices/cache/request/IndicesRequestCache.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/cache/clear/RestClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/stats/RestIndicesStatsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/internal/ShardSearchLocalRequest.java
core/src/main/java/org/elasticsearch/search/internal/ShardSearchRequest.java
core/src/main/java/org/elasticsearch/search/internal/ShardSearchTransportRequest.java
core/src/main/java/org/elasticsearch/search/warmer/IndexWarmersMetaData.java
core/src/test/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheBlocksTests.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
core/src/test/java/org/elasticsearch/document/DocumentActionsTests.java
core/src/test/java/org/elasticsearch/indices/cache/query/IndicesRequestCacheTests.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
core/src/test/java/org/elasticsearch/indices/warmer/SimpleIndicesWarmerTests.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchTests.java
core/src/test/java/org/elasticsearch/search/scriptfilter/ScriptQuerySearchTests.java
core/src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
core/src/test/java/org/elasticsearch/test/ElasticsearchSingleNodeTest.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
core/src/test/java/org/elasticsearch/test/engine/MockEngineSupport.java
core/src/test/java/org/elasticsearch/test/search/MockSearchService.java
comments:
Merge pull request #11893 from jpountz/fix/rename_cache

Rename caches.

time:
2015-06-29T08:15:27Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStatsFlags.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/package-info.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/common/joda/DateMathParser.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/cache/IndexCache.java
core/src/main/java/org/elasticsearch/index/cache/IndexCacheModule.java
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/cache/filter/FilterCacheStats.java
core/src/main/java/org/elasticsearch/index/cache/query/QueryCache.java
core/src/main/java/org/elasticsearch/index/cache/query/QueryCacheModule.java
core/src/main/java/org/elasticsearch/index/cache/query/QueryCacheStats.java
core/src/main/java/org/elasticsearch/index/cache/query/index/IndexQueryCache.java
core/src/main/java/org/elasticsearch/index/cache/query/none/NoneQueryCache.java
core/src/main/java/org/elasticsearch/index/cache/request/RequestCacheStats.java
core/src/main/java/org/elasticsearch/index/cache/request/ShardRequestCache.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/EngineSearcherFactory.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
core/src/main/java/org/elasticsearch/indices/cache/filter/IndicesFilterCache.java
core/src/main/java/org/elasticsearch/indices/cache/query/IndicesQueryCache.java
core/src/main/java/org/elasticsearch/indices/cache/query/terms/TermsLookup.java
core/src/main/java/org/elasticsearch/indices/cache/request/IndicesRequestCache.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/cache/clear/RestClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/stats/RestIndicesStatsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/internal/ShardSearchLocalRequest.java
core/src/main/java/org/elasticsearch/search/internal/ShardSearchRequest.java
core/src/main/java/org/elasticsearch/search/internal/ShardSearchTransportRequest.java
core/src/main/java/org/elasticsearch/search/warmer/IndexWarmersMetaData.java
core/src/test/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheBlocksTests.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
core/src/test/java/org/elasticsearch/document/DocumentActionsTests.java
core/src/test/java/org/elasticsearch/indices/cache/query/IndicesRequestCacheTests.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
core/src/test/java/org/elasticsearch/indices/warmer/SimpleIndicesWarmerTests.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchTests.java
core/src/test/java/org/elasticsearch/search/scriptfilter/ScriptQuerySearchTests.java
core/src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
core/src/test/java/org/elasticsearch/test/ElasticsearchSingleNodeTest.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
core/src/test/java/org/elasticsearch/test/engine/MockEngineSupport.java
core/src/test/java/org/elasticsearch/test/search/MockSearchService.java
comments:
Rename caches.

In order to be more consistent with what they do, the query cache has been
renamed to request cache and the filter cache has been renamed to query
cache.

A known issue is that package/logger names do no longer match settings names,
please speak up if you think this is an issue.

Here are the settings for which I kept backward compatibility. Note that they
are a bit different from what was discussed on #11569 but putting `cache` before
the name of what is cached has the benefit of making these settings consistent
with the fielddata cache whose size is configured by
`indices.fielddata.cache.size`:
 * index.cache.query.enable -> index.requests.cache.enable
 * indices.cache.query.size -> indices.requests.cache.size
 * indices.cache.filter.size -> indices.queries.cache.size

Close #11569

time:
2015-06-27T06:52:07Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
comments:
Fix packaging

time:
2015-06-27T06:22:11Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
comments:
simplify further

time:
2015-06-27T05:28:13Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
comments:
remove nasty permission (hack way but works)
improving...

time:
2015-06-27T03:28:18Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
comments:
rename vars and setup for test permissions

time:
2015-06-27T00:40:42Z
class:
core/src/main/java/jsr166e/DoubleAdder.java
core/src/main/java/jsr166e/DoubleMaxUpdater.java
core/src/main/java/jsr166e/LongAdder.java
core/src/main/java/jsr166e/LongMaxUpdater.java
core/src/main/java/jsr166e/Striped64.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/common/metrics/CounterMetric.java
core/src/main/java/org/elasticsearch/common/metrics/EWMA.java
core/src/main/java/org/elasticsearch/common/metrics/MeanMetric.java
core/src/main/java/org/elasticsearch/common/metrics/MeterMetric.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
comments:
first stab at per-jar permissions for the scary stuff.

unfortunately finds a crab in pluginmanager

time:
2015-06-26T15:46:45Z
class:
comments:
Merge pull request #11868 from YoungHu/patch-1

correct mis-type in update docs

time:
2015-06-26T15:36:48Z
class:
comments:
Docs: Move field highlight order to the highlight page

time:
2015-06-26T15:31:32Z
class:
comments:
Docs: Tidied up function score query docs

Closes #5991

time:
2015-06-26T14:59:15Z
class:
core/src/main/java/org/elasticsearch/http/netty/NettyHttpChannel.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpChannelTests.java
comments:
change CORS allow origin default to allow no origins

Today, we disable CORS by default, but if a user simply enables CORS their instance of
elasticsearch will allow cross origin requests from anywhere, as the default value for allowed
origins is `*`.

This changes the default to be `null` so that no origins are allowed and the user must explicitly
specify the origins they wish to allow requests from. The documentation also mentions that there
is a security risk in using `*` as the value.

Closes #11169

time:
2015-06-26T12:48:20Z
class:
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/RootObjectMapper.java
core/src/test/java/org/elasticsearch/count/simple/SimpleCountTests.java
core/src/test/java/org/elasticsearch/index/mapper/date/DateBackwardsCompatibilityTests.java
core/src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
core/src/test/java/org/elasticsearch/percolator/PercolatorTests.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreTests.java
comments:
Merge branch 'master' into feature/query-refactoring

 Conflicts:
	core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java

time:
2015-06-26T12:40:10Z
class:
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/AndQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BaseTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FQueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/LimitQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/OrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermQueryParser.java
core/src/test/java/org/elasticsearch/index/query/BoostingQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTest.java
comments:
Merge pull request #11834 from cbuescher/feature/query-refactoring-minorcleanup

Query Refactoring: Minor consistency cleanups for default values and validation

time:
2015-06-26T12:28:47Z
class:
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/AndQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BaseTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FQueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/LimitQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/OrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermQueryParser.java
core/src/test/java/org/elasticsearch/index/query/BoostingQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTest.java
comments:
Revisited the queries already refactored, corrected and aligned some of
the codebase based on the conventions that we decided to follow. Also including
some cosmetic fixes (making members final where possible, avoiding this
references outside of setters/getters).

In addition to that this PR changes:

* prevent NPEs in doXContent when rendering out nested queries that are null. We now render out empty object ({ }) which then gets parser to null to be consistent with queries than come only through the rest layer
* prevent adding nested null queries to collections of clauses like in BoolQueryBuilder
* add validate() method to all builders (even when empty)

Closes #11834

time:
2015-06-26T08:23:02Z
class:
comments:
Docs: Update Joda URLs in documentation.

time:
2015-06-26T07:49:29Z
class:
comments:
Docs: Update date-format.asciidoc 

Joda documentation moved from http://joda-time.sourceforge.net/ to http://www.joda.org/joda-time/. Updated the links in the documentation accordingly.

time:
2015-06-25T23:04:28Z
class:
core/src/test/java/org/elasticsearch/index/query/CommonTermsQueryBuilderTest.java
comments:
[TEST] fix CommonTermsQueryBuilderTest

time:
2015-06-25T15:21:29Z
class:
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/RootObjectMapper.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
core/src/test/java/org/elasticsearch/count/simple/SimpleCountTests.java
core/src/test/java/org/elasticsearch/index/mapper/date/DateBackwardsCompatibilityTests.java
core/src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
core/src/test/java/org/elasticsearch/percolator/PercolatorTests.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreTests.java
comments:
Dates: Be backwards compatible with pre 2.x indices

In order to be backwards compatible, indices created before 2.x must support
indexing of a unix timestamp and its configured date format. Indices created
with 2.x must configure the `epoch_millis` date formatter in order to
support this.

Relates #10971

time:
2015-06-25T15:18:34Z
class:
comments:
Revert accidential modification of release script in this files previous commit

commit 05db5dc2c8e3b1d41081b9c7fb677b5850e7b3db
Author: Simon Willnauer <simonw@apache.org>
Date:   Fri Jun 5 13:12:05 2015 +0200

    create parent pom project from its original location

time:
2015-06-25T15:07:03Z
class:
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
comments:
Adapted BaseQueryTestCase to upstream changes

time:
2015-06-25T14:57:42Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsGroup.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/TransportCreateIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/ShardSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/ShardUpgradeStatus.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/TransportUpgradeStatusAction.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchResponse.java
core/src/main/java/org/elasticsearch/action/search/TransportMultiSearchAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/bootstrap/JVMCheck.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/routing/ImmutableShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/MutableShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocators.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/MoveAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/NodeVersionAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ReplicaAfterPrimaryActiveAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/SameShardAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ShardsLimitAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ThrottlingAllocationDecider.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentParser.java
core/src/main/java/org/elasticsearch/common/xcontent/support/AbstractXContentParser.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/analysis/FieldNameAnalyzer.java
core/src/main/java/org/elasticsearch/index/cache/bitset/ShardBitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/cache/filter/ShardFilterCache.java
core/src/main/java/org/elasticsearch/index/cache/query/ShardQueryCache.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/fielddata/ShardFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/ShardFieldDataModule.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
core/src/main/java/org/elasticsearch/index/gateway/IgnoreGatewayRecoveryException.java
core/src/main/java/org/elasticsearch/index/gateway/IndexShardGateway.java
core/src/main/java/org/elasticsearch/index/gateway/IndexShardGatewayException.java
core/src/main/java/org/elasticsearch/index/gateway/IndexShardGatewayRecoveryException.java
core/src/main/java/org/elasticsearch/index/gateway/IndexShardGatewayService.java
core/src/main/java/org/elasticsearch/index/gateway/IndexShardGatewaySnapshotNotAllowedException.java
core/src/main/java/org/elasticsearch/index/indexing/IndexingSlowLog.java
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentFieldMappers.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/FieldMappersLookup.java
core/src/main/java/org/elasticsearch/index/mapper/FieldTypeLookup.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldTypeReference.java
core/src/main/java/org/elasticsearch/index/mapper/Mapper.java
core/src/main/java/org/elasticsearch/index/mapper/MapperAnalyzer.java
core/src/main/java/org/elasticsearch/index/mapper/MapperBuilders.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/MapperUtils.java
core/src/main/java/org/elasticsearch/index/mapper/MergeResult.java
core/src/main/java/org/elasticsearch/index/mapper/ParseContext.java
core/src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SizeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/search/stats/SearchSlowLog.java
core/src/main/java/org/elasticsearch/index/search/stats/ShardSearchStats.java
core/src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
core/src/main/java/org/elasticsearch/index/shard/CommitPoint.java
core/src/main/java/org/elasticsearch/index/shard/CommitPoints.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardRecoveryException.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/shard/SnapshotStatus.java
core/src/main/java/org/elasticsearch/index/shard/StoreRecoveryService.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/index/snapshots/IndexShardSnapshotAndRestoreService.java
core/src/main/java/org/elasticsearch/index/store/StoreStats.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/index/warmer/ShardIndexWarmerService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryState.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/settings/RestClusterUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/create/RestCreateIndexAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/mapping/put/RestPutMappingAction.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationModule.java
core/src/main/java/org/elasticsearch/search/aggregations/TransportAggregationModule.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorBuilders.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/cumulativesum/CumulativeSumBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/cumulativesum/CumulativeSumParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/cumulativesum/CumulativeSumPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/highlight/PlainHighlighter.java
core/src/main/java/org/elasticsearch/search/warmer/IndexWarmersMetaData.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
core/src/test/java/org/elasticsearch/action/termvectors/TermVectorsUnitTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffTests.java
core/src/test/java/org/elasticsearch/cluster/ack/AckTests.java
core/src/test/java/org/elasticsearch/cluster/routing/ShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceConfigurationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/CatAllocationTestBase.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FilterRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/NodeVersionAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferLocalPrimariesToRelocatingPrimariesTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SameShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardsLimitAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardNoReplicasRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/XContentMapValuesTests.java
core/src/test/java/org/elasticsearch/exists/SimpleExistsTests.java
core/src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayTests.java
core/src/test/java/org/elasticsearch/get/GetActionTests.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresTest.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/ParentChildFieldDataTests.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/FieldMappersLookupTests.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeLookupTests.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/completion/CompletionFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/copyto/CopyToMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalRootMapper.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/index/IndexTypeMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/merge/TestMergeMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/merge/JavaMultiFieldMergeTests.java
core/src/test/java/org/elasticsearch/index/mapper/routing/RoutingTypeMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/simple/SimpleMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/size/SizeMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
core/src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeFormatTests.java
core/src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeTimezoneTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/search/child/AbstractChildTests.java
core/src/test/java/org/elasticsearch/index/shard/CommitPointsTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardModuleTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerTests.java
core/src/test/java/org/elasticsearch/indices/flush/SyncedFlushUnitTests.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryTests.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationTests.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreTests.java
core/src/test/java/org/elasticsearch/percolator/RecoveryPercolatorTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTest.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/CumulativeSumTests.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTest.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchTests.java
core/src/test/java/org/elasticsearch/search/child/ParentFieldLoadingBwcTest.java
core/src/test/java/org/elasticsearch/search/child/ParentFieldLoadingTest.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchTests.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryTests.java
core/src/test/java/org/elasticsearch/test/ElasticsearchAllocationTestCase.java
core/src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/rest/json/JsonPath.java
core/src/test/java/org/elasticsearch/test/rest/test/DoSectionParserTests.java
core/src/test/java/org/elasticsearch/threadpool/SimpleThreadPoolTests.java
core/src/test/java/org/elasticsearch/threadpool/ThreadPoolSerializationTests.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-06-25T14:41:25Z
class:
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/CumulativeSumTests.java
comments:
[TEST] fix CumulativeSumTests

time:
2015-06-25T14:22:58Z
class:
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
comments:
Make translog file name parsing strict

Today we are very lenient in parsing the translog files. This is
actually not necessary since we have a clear run once upgrade path.
All files are converted into the new file name pattern such that we
only need to look at old file patterns in the context of the upgrade.

This commit makes parsing really strict with the exceptoin of the upgrade path.

time:
2015-06-25T13:27:57Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/AggregationModule.java
core/src/main/java/org/elasticsearch/search/aggregations/TransportAggregationModule.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorBuilders.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/cumulativesum/CumulativeSumBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/cumulativesum/CumulativeSumParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/cumulativesum/CumulativeSumPipelineAggregator.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/CumulativeSumTests.java
comments:
Aggregations: Adds cumulative sum aggregation

This adds a new pipeline aggregation, the cumulative sum aggregation. This is a parent aggregation which must be specified as a sub-aggregation to a histogram or date_histogram aggregation. It will add a new aggregation to each bucket containing the sum of a specified metrics over this and all previous buckets.

time:
2015-06-25T12:23:50Z
class:
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
comments:
Mark translog as upgraded in the engine even if a legacy generation exists

Today we mark a translog as upgraded by adding a marker to the engine commit.
Yet, this commit was only added if there was no translog present before ie. only
if we have a fresh engine which is missing the entire point. Yet, this commit
adds a backwards index tests that ensures we can open old indices more than once
ie. mark the index as upgraded.

Closes #11858

time:
2015-06-25T10:32:59Z
class:
core/src/main/java/org/elasticsearch/search/highlight/PlainHighlighter.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchTests.java
comments:
highlighter: Save unwrap BytesRefHash.MaxBytesLengthExceededException

In Lucene 5x the exception thrown when highlighter encounters a huge term
is a BytesRefHash.MaxBytesLengthExceededException but in Lucene 4x it is
wrapped in a RuntimeException. Therefore, it seems saver to unwrap this.

time:
2015-06-25T09:11:55Z
class:
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/Operator.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/rest/action/explain/RestExplainAction.java
core/src/main/java/org/elasticsearch/rest/action/support/RestActions.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTest.java
core/src/test/java/org/elasticsearch/percolator/MultiPercolatorTests.java
core/src/test/java/org/elasticsearch/percolator/PercolatorTests.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchTests.java
core/src/test/java/org/elasticsearch/search/query/MultiMatchQueryTests.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryTests.java
core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringTests.java
core/src/test/java/org/elasticsearch/search/rescore/QueryRescorerTests.java
comments:
Merge pull request #11845 from MaineC/feature/simple-query-string-operator

Remove duplicate operator enums.

time:
2015-06-25T08:47:39Z
class:
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/Operator.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/rest/action/explain/RestExplainAction.java
core/src/main/java/org/elasticsearch/rest/action/support/RestActions.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTest.java
core/src/test/java/org/elasticsearch/percolator/MultiPercolatorTests.java
core/src/test/java/org/elasticsearch/percolator/PercolatorTests.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchTests.java
core/src/test/java/org/elasticsearch/search/query/MultiMatchQueryTests.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryTests.java
core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringTests.java
core/src/test/java/org/elasticsearch/search/rescore/QueryRescorerTests.java
comments:
Remove duplicate operator enums

As we now have an enum Operator that comes with many useful helper methods switching to use
that instead of the enums defined separately. Also switches to using the new enum's helper
methods where applicable removing duplicate parsing logic.

This breaks backwards compatibility. Documenting the break in
migrate_query_refactoring.asciidoc

Relates to #10217

time:
2015-06-25T07:45:28Z
class:
core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java
comments:
Merge pull request #11790 from jbarthelmes/master

Add a null-check for XContentBuilder#field for BigDecimals

time:
2015-06-24T21:33:56Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/Mapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalRootMapper.java
comments:
Merge pull request #11863 from rjernst/remove/mapper-close

Mappings: Remove close() from Mapper

time:
2015-06-24T21:31:07Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/Mapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalRootMapper.java
comments:
Mappings: Remove close() from Mapper

There was only a single actual "use" of close, for a threadlocal
in VersionFieldMapper. However, that threadlocal is completely
unnecessary, so this change removes the threadlocal and
close() altogether.

time:
2015-06-24T19:36:37Z
class:
comments:
Update core-types.asciidoc

Added an anchor for multi-fields in mappinggs

time:
2015-06-24T16:08:50Z
class:
core/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
comments:
Fix _ttl default field type to include index/search analyzer (numeric 64bit)

time:
2015-06-24T15:36:15Z
class:
core/src/main/java/org/elasticsearch/bootstrap/JVMCheck.java
comments:
Merge pull request #11850 from rmuir/enable_j9

allow IBM J9 2.8+ in version check

time:
2015-06-24T15:15:48Z
class:
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
comments:
Switch to guava version of Function, since the jdk version is only
available in java8

time:
2015-06-24T15:07:18Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/TransportCreateIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/index/analysis/FieldNameAnalyzer.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentFieldMappers.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/FieldMappersLookup.java
core/src/main/java/org/elasticsearch/index/mapper/FieldTypeLookup.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldTypeReference.java
core/src/main/java/org/elasticsearch/index/mapper/Mapper.java
core/src/main/java/org/elasticsearch/index/mapper/MapperAnalyzer.java
core/src/main/java/org/elasticsearch/index/mapper/MapperBuilders.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/MapperUtils.java
core/src/main/java/org/elasticsearch/index/mapper/MergeResult.java
core/src/main/java/org/elasticsearch/index/mapper/ParseContext.java
core/src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SizeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/create/RestCreateIndexAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/mapping/put/RestPutMappingAction.java
core/src/test/java/org/elasticsearch/action/termvectors/TermVectorsUnitTests.java
core/src/test/java/org/elasticsearch/exists/SimpleExistsTests.java
core/src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayTests.java
core/src/test/java/org/elasticsearch/get/GetActionTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/ParentChildFieldDataTests.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/FieldMappersLookupTests.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeLookupTests.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/copyto/CopyToMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/index/IndexTypeMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/merge/TestMergeMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/merge/JavaMultiFieldMergeTests.java
core/src/test/java/org/elasticsearch/index/mapper/simple/SimpleMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/size/SizeMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
core/src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeFormatTests.java
core/src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeTimezoneTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/search/child/AbstractChildTests.java
core/src/test/java/org/elasticsearch/percolator/RecoveryPercolatorTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTest.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchTests.java
core/src/test/java/org/elasticsearch/search/child/ParentFieldLoadingBwcTest.java
core/src/test/java/org/elasticsearch/search/child/ParentFieldLoadingTest.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryTests.java
comments:
Merge pull request #11812 from rjernst/pr/8871

Restrict fields with the same name in different types to have the same core settings

time:
2015-06-24T15:05:17Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsGroup.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/ShardSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/ShardUpgradeStatus.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/TransportUpgradeStatusAction.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchResponse.java
core/src/main/java/org/elasticsearch/action/search/TransportMultiSearchAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/routing/ImmutableShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/MutableShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocators.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/MoveAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/NodeVersionAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ReplicaAfterPrimaryActiveAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/SameShardAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ShardsLimitAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ThrottlingAllocationDecider.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentParser.java
core/src/main/java/org/elasticsearch/common/xcontent/support/AbstractXContentParser.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/cache/bitset/ShardBitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/cache/filter/ShardFilterCache.java
core/src/main/java/org/elasticsearch/index/cache/query/ShardQueryCache.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/fielddata/ShardFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/ShardFieldDataModule.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/AllFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/CustomFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/JustSourceFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/JustUidFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/SingleFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/UidAndRoutingFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/UidAndSourceFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/gateway/IgnoreGatewayRecoveryException.java
core/src/main/java/org/elasticsearch/index/gateway/IndexShardGateway.java
core/src/main/java/org/elasticsearch/index/gateway/IndexShardGatewayException.java
core/src/main/java/org/elasticsearch/index/gateway/IndexShardGatewayRecoveryException.java
core/src/main/java/org/elasticsearch/index/gateway/IndexShardGatewayService.java
core/src/main/java/org/elasticsearch/index/gateway/IndexShardGatewaySnapshotNotAllowedException.java
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/main/java/org/elasticsearch/index/indexing/IndexingSlowLog.java
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/percolator/QueriesLoaderCollector.java
core/src/main/java/org/elasticsearch/index/query/BoostableQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/search/stats/SearchSlowLog.java
core/src/main/java/org/elasticsearch/index/search/stats/ShardSearchStats.java
core/src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
core/src/main/java/org/elasticsearch/index/shard/CommitPoint.java
core/src/main/java/org/elasticsearch/index/shard/CommitPoints.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardRecoveryException.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShardPath.java
core/src/main/java/org/elasticsearch/index/shard/SnapshotStatus.java
core/src/main/java/org/elasticsearch/index/shard/StoreRecoveryService.java
core/src/main/java/org/elasticsearch/index/snapshots/IndexShardSnapshotAndRestoreService.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/store/StoreStats.java
core/src/main/java/org/elasticsearch/index/termvectors/ShardTermVectorsService.java
core/src/main/java/org/elasticsearch/index/warmer/ShardIndexWarmerService.java
core/src/main/java/org/elasticsearch/indices/cache/filter/IndicesFilterCache.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryState.java
core/src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/repositories/RepositoriesModule.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/settings/RestClusterUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationModule.java
core/src/main/java/org/elasticsearch/search/aggregations/TransportAggregationModule.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorBuilders.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
core/src/main/java/org/elasticsearch/search/lookup/SourceLookup.java
core/src/main/java/org/elasticsearch/search/warmer/IndexWarmersMetaData.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
core/src/test/java/org/elasticsearch/benchmark/percolator/PercolatorStressBenchmark.java
core/src/test/java/org/elasticsearch/cluster/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffTests.java
core/src/test/java/org/elasticsearch/cluster/ack/AckTests.java
core/src/test/java/org/elasticsearch/cluster/allocation/AwarenessAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/ShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceConfigurationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/CatAllocationTestBase.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FilterRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/NodeVersionAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferLocalPrimariesToRelocatingPrimariesTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SameShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardsLimitAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardNoReplicasRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/XContentMapValuesTests.java
core/src/test/java/org/elasticsearch/explain/ExplainActionTests.java
core/src/test/java/org/elasticsearch/get/GetActionTests.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresTest.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/mapper/completion/CompletionFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/copyto/CopyToMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/routing/RoutingTypeMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
core/src/test/java/org/elasticsearch/index/shard/CommitPointsTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardModuleTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indexlifecycle/IndexLifecycleActionTests.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerTests.java
core/src/test/java/org/elasticsearch/indices/flush/SyncedFlushUnitTests.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryTests.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationTests.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreTests.java
core/src/test/java/org/elasticsearch/percolator/PercolatorTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/BucketScriptTests.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTest.java
core/src/test/java/org/elasticsearch/search/fields/SearchFieldsTests.java
core/src/test/java/org/elasticsearch/test/ElasticsearchAllocationTestCase.java
core/src/test/java/org/elasticsearch/test/ElasticsearchBackwardsCompatIntegrationTest.java
core/src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/rest/json/JsonPath.java
core/src/test/java/org/elasticsearch/test/rest/test/DoSectionParserTests.java
core/src/test/java/org/elasticsearch/threadpool/SimpleThreadPoolTests.java
core/src/test/java/org/elasticsearch/threadpool/ThreadPoolSerializationTests.java
comments:
Merge branch 'master' into pr/8871

time:
2015-06-24T14:21:41Z
class:
core/src/main/java/org/elasticsearch/action/search/MultiSearchResponse.java
core/src/main/java/org/elasticsearch/action/search/TransportMultiSearchAction.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
comments:
Render strucutred exception in multi search

MultiMatch still only returns the exception message but should return the
actual exception and render it in a structured fashion

time:
2015-06-24T13:56:18Z
class:
core/src/main/java/org/elasticsearch/bootstrap/JVMCheck.java
comments:
allow IBM J9 2.8+ in version check

time:
2015-06-24T13:42:46Z
class:
comments:
Merge pull request #11836 from wolfgangkarall/patch-1

Fix endless looping if starting fails

time:
2015-06-24T13:18:04Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/cache/bitset/ShardBitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/cache/filter/ShardFilterCache.java
core/src/main/java/org/elasticsearch/index/cache/query/ShardQueryCache.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/fielddata/ShardFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/ShardFieldDataModule.java
core/src/main/java/org/elasticsearch/index/gateway/IgnoreGatewayRecoveryException.java
core/src/main/java/org/elasticsearch/index/gateway/IndexShardGateway.java
core/src/main/java/org/elasticsearch/index/gateway/IndexShardGatewayException.java
core/src/main/java/org/elasticsearch/index/gateway/IndexShardGatewayRecoveryException.java
core/src/main/java/org/elasticsearch/index/gateway/IndexShardGatewayService.java
core/src/main/java/org/elasticsearch/index/gateway/IndexShardGatewaySnapshotNotAllowedException.java
core/src/main/java/org/elasticsearch/index/indexing/IndexingSlowLog.java
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/search/stats/SearchSlowLog.java
core/src/main/java/org/elasticsearch/index/search/stats/ShardSearchStats.java
core/src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
core/src/main/java/org/elasticsearch/index/shard/CommitPoint.java
core/src/main/java/org/elasticsearch/index/shard/CommitPoints.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardRecoveryException.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/shard/SnapshotStatus.java
core/src/main/java/org/elasticsearch/index/shard/StoreRecoveryService.java
core/src/main/java/org/elasticsearch/index/snapshots/IndexShardSnapshotAndRestoreService.java
core/src/main/java/org/elasticsearch/index/warmer/ShardIndexWarmerService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryState.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/shard/CommitPointsTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardModuleTests.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryTests.java
comments:
Consolidate shard level abstractions

This commit consolidates several abstractions on the shard level in
ordinary classes not managed by the shard level guice injector.

Several classes have been collapsed into IndexShard and IndexShardGatewayService
was cleaned up to be more lightweight and self-contained. It has also been moved into
the index.shard package and it's operation is renamed from recovery from "gateway" to recovery
from "store" or "shard_store".

Closes #11847

time:
2015-06-24T12:35:57Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsGroup.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/ShardSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/ShardUpgradeStatus.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/TransportUpgradeStatusAction.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/routing/ImmutableShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/MutableShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocators.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/MoveAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/NodeVersionAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ReplicaAfterPrimaryActiveAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/SameShardAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ShardsLimitAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ThrottlingAllocationDecider.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
core/src/main/java/org/elasticsearch/index/store/StoreStats.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffTests.java
core/src/test/java/org/elasticsearch/cluster/ack/AckTests.java
core/src/test/java/org/elasticsearch/cluster/routing/ShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceConfigurationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/CatAllocationTestBase.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FilterRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/NodeVersionAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferLocalPrimariesToRelocatingPrimariesTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SameShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardsLimitAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardNoReplicasRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationTests.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresTest.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerTests.java
core/src/test/java/org/elasticsearch/indices/flush/SyncedFlushUnitTests.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationTests.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreTests.java
core/src/test/java/org/elasticsearch/test/ElasticsearchAllocationTestCase.java
core/src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Simplify ShardRouting abstraction

This commit folds ShardRouting, ImmutableShardRouting and MutableShardRouting
into ShardRouting. All mutators are package private anyway today so it's just
unnecessary abstraction.
ShardRoutings are now frozen once they are added to the IndexRoutingTable
to prevent modifications outside of the allocation code.

time:
2015-06-24T10:03:15Z
class:
core/src/main/java/org/elasticsearch/common/xcontent/support/AbstractXContentParser.java
core/src/test/java/org/elasticsearch/common/xcontent/support/XContentMapValuesTests.java
comments:
Add tests to XContentParser.list().

time:
2015-06-24T09:41:22Z
class:
core/src/main/java/org/elasticsearch/common/xcontent/XContentParser.java
core/src/main/java/org/elasticsearch/common/xcontent/support/AbstractXContentParser.java
comments:
add list parse methods to XContentParser

time:
2015-06-24T09:33:33Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentParser.java
core/src/main/java/org/elasticsearch/common/xcontent/support/AbstractXContentParser.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/settings/RestClusterUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/search/warmer/IndexWarmersMetaData.java
core/src/test/java/org/elasticsearch/common/xcontent/support/XContentMapValuesTests.java
core/src/test/java/org/elasticsearch/index/mapper/completion/CompletionFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/copyto/CopyToMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/routing/RoutingTypeMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTest.java
core/src/test/java/org/elasticsearch/test/rest/json/JsonPath.java
core/src/test/java/org/elasticsearch/test/rest/test/DoSectionParserTests.java
core/src/test/java/org/elasticsearch/threadpool/SimpleThreadPoolTests.java
core/src/test/java/org/elasticsearch/threadpool/ThreadPoolSerializationTests.java
comments:
Merge pull request #11846 from jpountz/fix/parser_map_and_close

Remove XContentParser.map[Ordered]AndClose().

time:
2015-06-24T09:29:59Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/AllFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/CustomFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/JustSourceFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/JustUidFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/SingleFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/UidAndRoutingFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/UidAndSourceFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/main/java/org/elasticsearch/index/percolator/QueriesLoaderCollector.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/shard/ShardPath.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/termvectors/ShardTermVectorsService.java
core/src/main/java/org/elasticsearch/indices/cache/filter/IndicesFilterCache.java
core/src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/repositories/RepositoriesModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationModule.java
core/src/main/java/org/elasticsearch/search/aggregations/TransportAggregationModule.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorBuilders.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
core/src/main/java/org/elasticsearch/search/lookup/SourceLookup.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/test/java/org/elasticsearch/benchmark/percolator/PercolatorStressBenchmark.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffTests.java
core/src/test/java/org/elasticsearch/cluster/allocation/AwarenessAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/explain/ExplainActionTests.java
core/src/test/java/org/elasticsearch/get/GetActionTests.java
core/src/test/java/org/elasticsearch/indexlifecycle/IndexLifecycleActionTests.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryTests.java
core/src/test/java/org/elasticsearch/percolator/PercolatorTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/BucketScriptTests.java
core/src/test/java/org/elasticsearch/search/fields/SearchFieldsTests.java
core/src/test/java/org/elasticsearch/test/ElasticsearchBackwardsCompatIntegrationTest.java
core/src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-06-24T09:10:30Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentParser.java
core/src/main/java/org/elasticsearch/common/xcontent/support/AbstractXContentParser.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/settings/RestClusterUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/search/warmer/IndexWarmersMetaData.java
core/src/test/java/org/elasticsearch/common/xcontent/support/XContentMapValuesTests.java
core/src/test/java/org/elasticsearch/index/mapper/completion/CompletionFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/copyto/CopyToMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/routing/RoutingTypeMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTest.java
core/src/test/java/org/elasticsearch/test/rest/json/JsonPath.java
core/src/test/java/org/elasticsearch/test/rest/test/DoSectionParserTests.java
core/src/test/java/org/elasticsearch/threadpool/SimpleThreadPoolTests.java
core/src/test/java/org/elasticsearch/threadpool/ThreadPoolSerializationTests.java
comments:
Remove XContentParser.map[Ordered]AndClose().

It is a bit weird to have an API to read a map then close the parser.

time:
2015-06-24T08:32:53Z
class:
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/AllFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/CustomFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/JustSourceFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/JustUidFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/SingleFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/UidAndRoutingFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/UidAndSourceFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/main/java/org/elasticsearch/index/percolator/QueriesLoaderCollector.java
core/src/main/java/org/elasticsearch/index/termvectors/ShardTermVectorsService.java
core/src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
core/src/main/java/org/elasticsearch/search/lookup/SourceLookup.java
core/src/test/java/org/elasticsearch/explain/ExplainActionTests.java
core/src/test/java/org/elasticsearch/get/GetActionTests.java
core/src/test/java/org/elasticsearch/search/fields/SearchFieldsTests.java
comments:
Merge pull request #11816 from jpountz/enhancement/return_metadata

Always return metadata in get/search APIs.

time:
2015-06-24T08:22:14Z
class:
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/AllFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/CustomFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/JustSourceFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/JustUidFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/SingleFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/UidAndRoutingFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/UidAndSourceFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/main/java/org/elasticsearch/index/percolator/QueriesLoaderCollector.java
core/src/main/java/org/elasticsearch/index/termvectors/ShardTermVectorsService.java
core/src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
core/src/main/java/org/elasticsearch/search/lookup/SourceLookup.java
core/src/test/java/org/elasticsearch/explain/ExplainActionTests.java
core/src/test/java/org/elasticsearch/get/GetActionTests.java
core/src/test/java/org/elasticsearch/search/fields/SearchFieldsTests.java
comments:
Always return metadata in get/search APIs.

This commit makes the get and search APIs always return `_parent`, `_routing`,
`_timestamp` and `_ttl` in addition to `_id` and `_type`. This way, consumers
always have all required information in order to reindex a document.

time:
2015-06-24T07:39:19Z
class:
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
comments:
Fix SimpleQueryStringBuilder wildcard handling

Forgot to commit the very last change yesterday which led to analyzeWildcard to remain at the default value always.

Relates to #11274

time:
2015-06-24T06:33:20Z
class:
comments:
Merge pull request #11843 from dpursehouse/immutable-settings-update

Replace references to ImmutableSettings with Settings

time:
2015-06-24T06:23:26Z
class:
core/src/main/java/org/elasticsearch/indices/cache/filter/IndicesFilterCache.java
comments:
Merge pull request #11833 from jpountz/fix/smaller_filter_cache

Give the filter cache a smaller maximum number of cached filters.

time:
2015-06-24T05:54:53Z
class:
comments:
Replace references to ImmutableSettings with Settings

ImmutableSettings was merged into Settings in commit 4873070.

Change-Id: I06bd0150381d131593920c2328c46beacf49661f

time:
2015-06-23T23:06:34Z
class:
comments:
Merge pull request #140 from rmuir/tika19

Upgrade tika to 1.9

time:
2015-06-23T22:01:32Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/repositories/RepositoriesModule.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
comments:
Extract all shard-level snapshot operation into dedicated SnapshotShardsService

Currently the SnapshotsService is concerned with both maintaining the global snapshot lifecycle on the master node as well as responsible for keeping track of individual shards on the data nodes. This refactoring separates two areas of concerns by moving all shard-level operations into a separate SnapshotShardsService.

Closes #11756

time:
2015-06-23T21:41:42Z
class:
comments:
Upgrade tika to 1.9. Closes #129

time:
2015-06-23T20:25:24Z
class:
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
comments:
doEquals for CommonsTerms and SimpleString queries

time:
2015-06-23T20:15:56Z
class:
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/Operator.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/test/java/org/elasticsearch/index/query/CommonTermsQueryBuilderTest.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryTests.java
comments:
Refactors CommonTermsQuery

Refactors CommonTermsQuery analogous to TermQueryBuilder. Still left to do are
the tests to compare between builder and actual Lucene query.

Relates to #10217

This PR is against the query-refactoring branch.

time:
2015-06-23T20:01:33Z
class:
core/src/main/java/org/elasticsearch/index/query/SimpleQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTest.java
comments:
Merge pull request #11274 from MaineC/feature/simple-query-string-refactoring

Refactors SimpleQueryStringBuilder/Parser

time:
2015-06-23T19:53:25Z
class:
comments:
Update plugins.asciidoc

Moved community scripting plugins to their own section

time:
2015-06-23T19:34:49Z
class:
core/src/main/java/org/elasticsearch/index/mapper/FieldTypeLookup.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeLookupTests.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/MappedFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldTypeTests.java
comments:
Added better error message when field types are not the same

time:
2015-06-23T19:23:14Z
class:
core/src/main/java/org/elasticsearch/index/query/SimpleQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTest.java
comments:
Refactors SimpleQueryStringBuilder/Parser

This commit makes SimpleQueryStringBuilder streamable, add hashCode and equals. Adds a dedicated builder/parser unit test, fixes formatting, adds JavaDoc where needed, adjust the handling of default values according to https://github.com/elastic/dev/blob/master/design/queries/general-guidelines.md

Switched to using toLanguageTag/forLanguageTag when parsing Locales. Using LocaleUtils from either Elasticsearch or Apache commons resulted in Locales not passing the roundtrip test. For more info see https://issues.apache.org/jira/browse/LUCENE-4021

Relates to #10217

time:
2015-06-23T18:52:27Z
class:
comments:
Fix endless looping if starting fails

log_end_msg does not break the loop or exit the script results in endlessly printing 'failed' in red to the screen in case of a failed start.

time:
2015-06-23T18:02:04Z
class:
comments:
Merge pull request #11801 from golubev/patch-6

fix json syntax in filters-aggregation.asciidoc

time:
2015-06-23T17:50:54Z
class:
comments:
Docs: Add Oracle doc link to getting started page

Since there is a recommended version of JDK, it would be helpful to provide a link to the Oracle documentation. Since there are many versions of Java, those that are new or infrequent users of Java would find the link helpful. Thanks!

Closes #11792

time:
2015-06-23T16:53:38Z
class:
core/src/main/java/org/elasticsearch/index/analysis/FieldNameAnalyzer.java
core/src/main/java/org/elasticsearch/index/mapper/MapperAnalyzer.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/mapper/merge/TestMergeMapperTests.java
comments:
Remove MapperAnalyzer

time:
2015-06-23T16:00:14Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/FieldTypeLookup.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldTypeReference.java
core/src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
comments:
Addressed PR comments

time:
2015-06-23T15:44:07Z
class:
core/src/main/java/org/elasticsearch/indices/cache/filter/IndicesFilterCache.java
comments:
Give the filter cache a smaller maximum number of cached filters.

Currently the filter cache is configured to have a maximum size in bytes of 10%
of the JVM memory, and a maximum number of cached filters (across all segments
of all shard on the same node) of 100000. I would like to change the latter to
a more reasonable value of 1000.

Given that we track the most 256 most recently used filters per index and only
cache those that have been seen 5 times or more, a single index cannot have more
than 50 hot filters, so a maximum number of cached filters of 1000 per node
should be more than necessary.

time:
2015-06-23T15:21:09Z
class:
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/test/java/org/elasticsearch/benchmark/percolator/PercolatorStressBenchmark.java
core/src/test/java/org/elasticsearch/cluster/allocation/AwarenessAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/indexlifecycle/IndexLifecycleActionTests.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryTests.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Remove scheduled routing
Today, we have scheduled reroute that kicks every 10 seconds and checks if a
reroute is needed. We use it when adding nodes, since we don't reroute right
away once its added, and give it a time window to add additional nodes.

We do have recover after nodes setting and such in order to wait for enough
nodes to be added, and also, it really depends at what part of the 10s window
you end up, sometimes, it might not be effective at all. In general, its historic
from the times before we had recover after nodes and such.

This change removes the 10s scheduling, simplifies RoutingService, and adds
explicit reroute when a node is added to the system. It also adds unit tests
to RoutingService.

closes #11776

time:
2015-06-23T13:48:52Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
comments:
Encapsualte common code in methods

This commit groups duplicated code in methods to make the actual decision
easier to read. There is no change in functionality in this change.

time:
2015-06-23T13:25:16Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
comments:
Minor fix: renaming read/writeNamedWritableList() to read/writeNamedWriteabelList() for consistency

The method for reading and writing single instances is called `read/writeNamedWriteable()`,
so the list version should be spelled the same.

time:
2015-06-23T13:03:31Z
class:
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/test/java/org/elasticsearch/percolator/PercolatorTests.java
comments:
percolator: Fail nicely if `nested` query with `inner_hits` is used in a percolator query.

Closes #11672

time:
2015-06-23T13:00:17Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/AggregationModule.java
core/src/main/java/org/elasticsearch/search/aggregations/TransportAggregationModule.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorBuilders.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptPipelineAggregator.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/BucketScriptTests.java
comments:
Aggregations: Rename `series_arithmetic` agg to `bucket_script`

time:
2015-06-23T12:36:57Z
class:
core/src/main/java/org/elasticsearch/index/shard/ShardPath.java
comments:
Log warn message if leftover shard is detected

time:
2015-06-23T12:07:10Z
class:
comments:
Build: tar on linux needs the --wildcard option, but not supported on OSX

Removing '*.jar'  filter when untarring during the license check

time:
2015-06-23T11:59:23Z
class:
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BaseTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FQueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/LimitQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
comments:
Query refactoring: simplify equals implementation and dedup code

Closes #11818

time:
2015-06-23T11:48:04Z
class:
core/src/main/java/org/elasticsearch/index/query/NotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NotQueryParser.java
core/src/test/java/org/elasticsearch/index/query/NotQueryBuilderTest.java
comments:
Merge pull request #11823 from cbuescher/feature/query-refactoring-not

Query refactoring: NotQueryBuilder and Parser

time:
2015-06-23T11:46:37Z
class:
core/src/main/java/org/elasticsearch/index/query/NotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NotQueryParser.java
core/src/test/java/org/elasticsearch/index/query/NotQueryBuilderTest.java
comments:
Query refactoring: NotQueryBuilder and Parser

Moving the query building functionality from the parser to the builders
new toQuery() method analogous to other recent query refactorings.

Relates to #10217
Closes #11823

time:
2015-06-23T11:25:40Z
class:
comments:
Add documentation for delete by query plugin (see #11516)

This page is placed in a /plugins directory until we figure where to place all plugins documentation.

time:
2015-06-23T11:16:16Z
class:
comments:
[Packaging] Fix missing dependencies for RPM/DEB packages

Since elasticsearch doesn't shade artifacts anymore (see #11522), the dependencies list for RPM/DEB must be updated. Now we package all maven libs by default except the generated -shaded/-tests/-test-cours JARs and slf4j-api (marked as optionnal).

time:
2015-06-23T11:11:17Z
class:
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffTests.java
core/src/test/java/org/elasticsearch/test/ElasticsearchBackwardsCompatIntegrationTest.java
core/src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Set randomized node/index settings in the right place
Don't set node settings in the index template, and try and set less index settings in the node settings
closes #11767

time:
2015-06-23T10:59:02Z
class:
comments:
Merge pull request #11785 from clintongormley/license_check

Check licenses of jars extracted from the ZIP file, and add LICENSES/NOTICES to all plugins

time:
2015-06-23T10:50:31Z
class:
comments:
Deleted slf4j.* from licenses/

Although it is in the target/lib/ directory, slf4j is not included in the
ZIP/tar files

time:
2015-06-23T10:50:31Z
class:
comments:
Added LICENSE and NOTICE files for all plugins
The encoding of this file seems wrong to me.

This LICENSE file is wrong.


time:
2015-06-23T10:50:31Z
class:
comments:
Changed the license checker to use the ZIP file as the source of JARs to check.

Also checks that the tar.gz file (if present) contains the same JARs as the
ZIP file.

time:
2015-06-23T09:54:24Z
class:
core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/AndQueryParser.java
core/src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/OrQueryParser.java
core/src/test/java/org/elasticsearch/index/query/AndQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/OrQueryBuilderTest.java
comments:
Merge pull request #11817 from cbuescher/feature/query-refactoring-or

Query refactoring: OrQueryBuilder and Parser

time:
2015-06-23T09:45:00Z
class:
core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/AndQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/OrQueryBuilderTest.java
comments:
Added null checks when adding inner queries

time:
2015-06-23T09:44:07Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java
comments:
Better test reuse of existing mappings for dynamic mappings.

time:
2015-06-23T09:00:39Z
class:
core/src/main/java/org/elasticsearch/index/shard/ShardPath.java
comments:
Fix typo

time:
2015-06-23T08:16:21Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/cluster/ClusterService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/common/joda/Joda.java
core/src/main/java/org/elasticsearch/common/util/concurrent/EsThreadPoolExecutor.java
core/src/main/java/org/elasticsearch/common/util/concurrent/PrioritizedEsThreadPoolExecutor.java
core/src/main/java/org/elasticsearch/common/util/concurrent/PrioritizedRunnable.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/BoostableQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsLookupQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/IndicesLifecycle.java
core/src/main/java/org/elasticsearch/indices/InternalIndicesLifecycle.java
core/src/main/java/org/elasticsearch/monitor/os/OsInfo.java
core/src/main/java/org/elasticsearch/monitor/os/OsService.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestHealthAction.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/EwmaModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltLinearModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltWintersModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/LinearModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/SimpleModel.java
core/src/test/java/org/elasticsearch/cluster/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedNodeRoutingTests.java
core/src/test/java/org/elasticsearch/deps/joda/SimpleJodaTests.java
core/src/test/java/org/elasticsearch/document/BulkTests.java
core/src/test/java/org/elasticsearch/get/GetActionTests.java
core/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregationHelperTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgUnitTests.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryTests.java
core/src/test/java/org/elasticsearch/search/sort/SimpleSortTests.java
core/src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
core/src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
core/src/test/java/org/elasticsearch/test/cluster/NoopClusterService.java
core/src/test/java/org/elasticsearch/test/cluster/TestClusterService.java
core/src/test/java/org/elasticsearch/timestamp/SimpleTimestampTests.java
core/src/test/java/org/elasticsearch/ttl/SimpleTTLTests.java
core/src/test/java/org/elasticsearch/update/UpdateTests.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequest.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequestBuilder.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryResponse.java
plugins/delete-by-query/src/main/java/org/elasticsearch/rest/action/deletebyquery/RestDeleteByQueryAction.java
plugins/delete-by-query/src/test/java/org/elasticsearch/action/deletebyquery/IndexDeleteByQueryResponseTests.java
comments:
Merge branch 'master' into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java

time:
2015-06-23T08:01:39Z
class:
core/src/main/java/org/elasticsearch/index/query/BoostableQueryBuilder.java
comments:
Java api: make BoostableQueryBuilder public again

FunctionScoreQueryBuilder is outside of the index.query package, missed that in my previous commit.

time:
2015-06-23T07:54:03Z
class:
core/src/main/java/org/elasticsearch/index/query/BoostableQueryBuilder.java
comments:
Merge pull request #11815 from javanna/enhancement/boostable_query_builder_pkg

Java api: make BoostableQueryBuilder package private

time:
2015-06-23T07:32:24Z
class:
core/src/main/java/org/elasticsearch/index/query/BoostableQueryBuilder.java
comments:
Java api: make BoostableQueryBuilder package private

time:
2015-06-23T07:26:10Z
class:
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
comments:
Java api: add missing boost support to TermsQueryBuilder

Relates to #11744
Closes #11810

time:
2015-06-23T07:25:53Z
class:
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
comments:
Java api: add missing boost support to GeoShapeQueryBuilder

Relates to #11744
Relates to #11810

time:
2015-06-22T22:26:31Z
class:
comments:
Docs: add description of the analyze_wildcard parameter to the simple query string query docs

time:
2015-06-22T21:59:33Z
class:
comments:
Refixed bad link

time:
2015-06-22T21:57:29Z
class:
comments:
Docs: Fixed bad link

time:
2015-06-22T21:49:45Z
class:
comments:
Docs: Refactored modules and index modules sections

time:
2015-06-22T21:30:40Z
class:
core/src/main/java/org/elasticsearch/index/mapper/MapperBuilders.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SizeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTests.java
core/src/test/java/org/elasticsearch/search/child/ParentFieldLoadingBwcTest.java
comments:
Simplify root mapper builder creation

time:
2015-06-22T21:00:10Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/TransportCreateIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentFieldMappers.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/FieldMappersLookup.java
core/src/main/java/org/elasticsearch/index/mapper/FieldTypeLookup.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldTypeReference.java
core/src/main/java/org/elasticsearch/index/mapper/Mapper.java
core/src/main/java/org/elasticsearch/index/mapper/MapperBuilders.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/MapperUtils.java
core/src/main/java/org/elasticsearch/index/mapper/MergeResult.java
core/src/main/java/org/elasticsearch/index/mapper/ParseContext.java
core/src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SizeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/create/RestCreateIndexAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/mapping/put/RestPutMappingAction.java
core/src/test/java/org/elasticsearch/action/termvectors/TermVectorsUnitTests.java
core/src/test/java/org/elasticsearch/exists/SimpleExistsTests.java
core/src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayTests.java
core/src/test/java/org/elasticsearch/get/GetActionTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/ParentChildFieldDataTests.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeLookupTests.java
core/src/test/java/org/elasticsearch/index/mapper/copyto/CopyToMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/index/IndexTypeMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/merge/TestMergeMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/merge/JavaMultiFieldMergeTests.java
core/src/test/java/org/elasticsearch/index/mapper/simple/SimpleMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/size/SizeMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
core/src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeFormatTests.java
core/src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeTimezoneTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/search/child/AbstractChildTests.java
core/src/test/java/org/elasticsearch/percolator/RecoveryPercolatorTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTest.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchTests.java
core/src/test/java/org/elasticsearch/search/child/ParentFieldLoadingBwcTest.java
core/src/test/java/org/elasticsearch/search/child/ParentFieldLoadingTest.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryTests.java
comments:
Mappings: Restrict fields with the same name in different types to have the same core settings

We currently are very lax about allowing data types to conflict for the
same field name, across document types. This change makes the underlying
map in MapperService a 1-1 map of field name to field type, and throws
exception when new types are not compatible.

To still allow changing a type, with parameters that are allowed to be
changed, but for a field that exists in multiple types, a new parameter
to index creation and put mapping API is added: update_all_types.
This defaults to false, and the exception messages suggest using
this parameter when trying to modify a setting that is allowed to be
modified but is being limited by this restriction.

There are also a couple changes which try to base fields from new types
for dynamic mappings, and root mappers, on existing settings. For
dynamic mappings this is important if the dynamic defaults have been
changed. For root mappings, this is mostly just for backcompat when
pre 2.0 root mappers could have their field type changed.

fixes #8871

time:
2015-06-22T20:03:57Z
class:
core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/AndQueryParser.java
core/src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/OrQueryParser.java
core/src/test/java/org/elasticsearch/index/query/OrQueryBuilderTest.java
comments:
Query refactoring: OrQueryBuilder and Parser

Moving the query building functionality from the parser to the builders
new toQuery() method analogous to other recent query refactorings.

Relates to #10217

time:
2015-06-22T18:36:29Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
core/src/main/java/org/elasticsearch/monitor/os/OsInfo.java
core/src/main/java/org/elasticsearch/monitor/os/OsService.java
comments:
Add OS name to _nodes and _cluster/nodes

we currently don't expose this.

This adds the following to the OS section of `_nodes`:

```
"os": {
     "name": "Mac OS X",
     ...
 }
 ```

 and the following to the OS section of `_cluster/stats`:

 ```
      "os": {
         ...
          "names": [
             {
                "name": "Mac OS X",
                "count": 1
             }
          ],
          ...
       },
 ```

Closes #11807

time:
2015-06-22T18:07:31Z
class:
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryParser.java
core/src/test/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilderTest.java
comments:
Merge pull request #11717 from cbuescher/feature/query-refactoring-fieldmaskingspan

Query refactoring: FieldMaskingSpanQueryBuilder and Parser

time:
2015-06-22T17:21:30Z
class:
core/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
core/src/test/java/org/elasticsearch/document/BulkTests.java
core/src/test/java/org/elasticsearch/get/GetActionTests.java
core/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
core/src/test/java/org/elasticsearch/search/sort/SimpleSortTests.java
core/src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
core/src/test/java/org/elasticsearch/timestamp/SimpleTimestampTests.java
core/src/test/java/org/elasticsearch/ttl/SimpleTTLTests.java
core/src/test/java/org/elasticsearch/update/UpdateTests.java
comments:
Merge pull request #11794 from rjernst/fix/lockdown-timestamp

Mappings: Lockdown _timestamp

time:
2015-06-22T17:21:03Z
class:
core/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
core/src/test/java/org/elasticsearch/document/BulkTests.java
core/src/test/java/org/elasticsearch/get/GetActionTests.java
core/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
core/src/test/java/org/elasticsearch/search/sort/SimpleSortTests.java
core/src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
core/src/test/java/org/elasticsearch/timestamp/SimpleTimestampTests.java
core/src/test/java/org/elasticsearch/ttl/SimpleTTLTests.java
core/src/test/java/org/elasticsearch/update/UpdateTests.java
comments:
Mappings: Lockdown _timestamp

This is a follow up to #8143 and #6730 for _timestamp. It removes
support for `path`, as well as any field type settings, and
enables docvalues for _timestamp, for 2.0.  Users who need to
adjust these settings can use a date field.

time:
2015-06-22T16:26:18Z
class:
core/src/main/java/org/elasticsearch/index/query/FQueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/FQueryFilterParser.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
core/src/test/java/org/elasticsearch/index/query/FQueryFilterBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/QueryFilterBuilderTest.java
comments:
Merge pull request #11729 from cbuescher/feature/query-refactoring-fquery

Query refactoring: QueryFilterBuilder and Parser

time:
2015-06-22T16:17:01Z
class:
core/src/main/java/org/elasticsearch/index/query/FQueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/FQueryFilterParser.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
core/src/test/java/org/elasticsearch/index/query/FQueryFilterBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/QueryFilterBuilderTest.java
comments:
Query refactoring: QueryFilterBuilder and Parser

Moving the query building functionality from the parser to the builders
new toQuery() method analogous to other recent query refactorings. In
this case this also includes FQueryFilterParser, since both queries are
closely related.

Relates to #10217
Closes #11729

time:
2015-06-22T15:20:50Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/EwmaModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltLinearModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltWintersModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/LinearModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/SimpleModel.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregationHelperTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgUnitTests.java
comments:
Merge pull request #11641 from polyfractal/bugfix/movavg_predict

Aggregations: Moving average forecasts should not include current point

time:
2015-06-22T15:13:35Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/EwmaModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltLinearModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltWintersModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/LinearModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/SimpleModel.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregationHelperTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgUnitTests.java
comments:
Aggregations: Moving average forecasts should not include current datapoint.

- Fixes tests, and removes a few special snowflake, fragile tests.
- Removes concrete implementation of predict() and moves it into
  each model so that the logic is clearer.  Because there is some
  shared checks/assertions, those remain in predict() and the main
  prediction happens in doPredict()

time:
2015-06-22T15:03:32Z
class:
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryParser.java
core/src/test/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilderTest.java
comments:
Query refactoring: FieldMaskingSpanQueryBuilder and Parser

Moving the query building functionality from the parser to the builders
new toQuery() method analogous to other recent query refactorings.

Relates to #10217
Closes #11717

time:
2015-06-22T14:34:02Z
class:
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
comments:
Internal: Readd accidental removed functionality in InternalClusterService

The commit about adding cluster health response features also removed
accidentally some functionality, that resulted in wrong instanceof checks
in InternalClusterService and thus in test failures because the cluster
state task that was added via an anonymous was missing the cast.

This commit readds the abstract class with slight renaming.

Commit id was: 88f8d58c8bec33494139a10c921afd55d3895d7c

time:
2015-06-22T14:23:27Z
class:
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/IndicesLifecycle.java
core/src/main/java/org/elasticsearch/indices/InternalIndicesLifecycle.java
comments:
Load percolator queries before shard is marked POST_RECOVERY

If we mark the shard as being in POST_RECOVERY before the percolator
is fully set up we might expose it to the user as fully searchable before
all queries are loaded. This can lead to wrong results especially in tests
when a shard is concurrently marked as STARTED.

This commit also removes unneded abstractions on IndexShard where readoperations
should be allowed when the purose is a write.

time:
2015-06-22T13:53:56Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedNodeRoutingTests.java
comments:
Remove reroute with no reassign
Its not used in our codebase anymore, so no need for it
closes #11804

time:
2015-06-22T13:11:04Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequestBuilder.java
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BaseTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FQueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FilteredQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/LimitQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryWrappingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsLookupQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/test/java/org/elasticsearch/index/query/AndQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/BoostingQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchTests.java
comments:
Query refactoring: make QueryBuilder an interface again and rename current abstract class to AbstractQueryBuilder

It is handy to have a base interface, not just an abstract class, for all of our query builders. This gives us  more flexibility especialy with complex class hierarchies. For instance SpanTermQueryBuilder extends BaseTermQueryBuilder, but also needs to be marked as a SpanQueryBuilder. The latter is a marker interface that should extend QueryBuilder which is not possible unless QueryBuilder actually is an interface.

Also remove queryId method as it created confusion, getName is good enough for the purpose, and override the return type of toQuery method for SpanQueryBuilders to SpanQuery.

Closes #11796

time:
2015-06-22T13:04:47Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/cluster/ClusterService.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/common/util/concurrent/EsThreadPoolExecutor.java
core/src/main/java/org/elasticsearch/common/util/concurrent/PrioritizedEsThreadPoolExecutor.java
core/src/main/java/org/elasticsearch/common/util/concurrent/PrioritizedRunnable.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestHealthAction.java
core/src/test/java/org/elasticsearch/cluster/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/test/cluster/NoopClusterService.java
core/src/test/java/org/elasticsearch/test/cluster/TestClusterService.java
comments:
Cluster Health: Add max wait time for pending task and active shard percentage

In order to get a quick overview using by simply checking the cluster state
and its corresponding cat API, the following two attributes have been added
to the cluster health response:

* task max waiting time, the time value of the first task of the
  queue and how long it has been waiting
* active shards percent: The percentage of the number of shards that are in
  initializing state

This makes the cluster health API handy to check, when a fully restarted
cluster is back up and running.

Closes #10805

time:
2015-06-22T12:34:16Z
class:
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequest.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequestBuilder.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryResponse.java
plugins/delete-by-query/src/main/java/org/elasticsearch/rest/action/deletebyquery/RestDeleteByQueryAction.java
comments:
Add high-level javadocs to delete-by-query

This commit adds high-level javadocs to the delete-by-query explaining
it's semantics and why it's moved to a plugin.

Closes #11723

time:
2015-06-22T12:10:19Z
class:
comments:
Fix indentation in deb init script

time:
2015-06-22T10:41:44Z
class:
comments:
Build: Make rest-spec-api a project so eclipse build works

The change makes rest-spec-api a project in the same way as we build dev-tools. it packages the tests and api in a bundle using the maven-remote-resources-plugin and uses the same plugin in the plugins and core pom to unpack the rest-api-spec into the target directory and references the rest tests there in the test resources.

The main stimulus for this change is that for those using Eclipse the current build does not work. After running `mvn eclipse:eclipse` the Eclipse IDE errors because the rest-api-spec is outside of the project scope, meaning that every time the command is run (required whenever any dependencies change), the class path of all the projects has to be manually fixed.

time:
2015-06-22T10:19:03Z
class:
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramTests.java
comments:
[TEST] Enable testcase since #11482 is merged

time:
2015-06-22T09:56:31Z
class:
core/src/main/java/org/elasticsearch/common/joda/Joda.java
core/src/test/java/org/elasticsearch/deps/joda/SimpleJodaTests.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryTests.java
comments:
Dates: Allow for negative unix timestamps

This fixes an issue to allow for negative unix timestamps.
An own printer for epochs instead of just having a parser has been added.
Added docs that only 10/13 length unix timestamps are supported
Added docs in upgrade documentation

Fixes #11478

time:
2015-06-22T09:25:02Z
class:
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
plugins/delete-by-query/src/test/java/org/elasticsearch/action/deletebyquery/IndexDeleteByQueryResponseTests.java
comments:
[TEST] assume assertions are enabled

time:
2015-06-22T09:04:31Z
class:
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SizeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
core/src/main/java/org/elasticsearch/index/recovery/RecoveryStats.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/repositories/RepositoriesService.java
core/src/main/java/org/elasticsearch/repositories/VerifyNodeRepositoryAction.java
core/src/main/java/org/elasticsearch/rest/RestRequest.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/EwmaModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltLinearModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltWintersModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/LinearModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/SimpleModel.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceTests.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgUnitTests.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-06-22T08:27:19Z
class:
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
comments:
Merge pull request #11795 from s1monw/abstract_runnable_ping

Use abstract runnable in scheduled ping

time:
2015-06-22T07:51:51Z
class:
core/src/test/java/org/elasticsearch/cluster/ClusterServiceTests.java
comments:
[TEST] Remove sleeps and latch timeouts from ClusterServiceTests

Tests relying on sleeps and latch timeouts are prone to weird timing issues
and hard to read / understand error messages. This commit moves towards a more
deterministic error model and replaces empty fails with real exceptions.

time:
2015-06-22T07:40:06Z
class:
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
comments:
Use abstract runnable in scheduled ping

time:
2015-06-21T19:08:07Z
class:
core/src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java
comments:
Fix #11699

Add a null-check for XContentBuilder#field for BigDecimals

time:
2015-06-21T11:50:04Z
class:
core/src/main/java/org/elasticsearch/index/recovery/RecoveryStats.java
comments:
fix typo

time:
2015-06-20T05:30:55Z
class:
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasTests.java
comments:
quite noisy test failure, related to #11769

time:
2015-06-20T02:09:03Z
class:
core/src/main/java/org/elasticsearch/repositories/RepositoriesService.java
core/src/main/java/org/elasticsearch/repositories/VerifyNodeRepositoryAction.java
comments:
Improve logging of repository verification exceptions.

Some repository verification exceptions are currently only returned to the users but not logged on the nodes where the exceptions occurred, which makes troubleshooting difficult.

Closes #11760

time:
2015-06-19T23:48:34Z
class:
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
comments:
fix parent field mapper to copy customFieldDataSettings on merge

time:
2015-06-19T23:08:51Z
class:
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterTests.java
comments:
Removed hardcoded seed from test

time:
2015-06-19T22:59:30Z
class:
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
comments:
Rename MappedFieldType.validateCompatible to checkCompatibility

time:
2015-06-19T22:45:01Z
class:
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterTests.java
comments:
Merge pull request #11783 from rjernst/refactor/field-type-merge

Move merge simulation of fieldtype settings to fieldtype method

time:
2015-06-19T22:41:36Z
class:
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterTests.java
comments:
Address PR comments and fix customFieldDataSettings to still be copied
on merge

time:
2015-06-19T20:42:16Z
class:
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
comments:
Mappings: Move merge simulation of fieldtype settings to fieldtype method.

For #8871, we need to be able to check field types are compatible,
without comparing FieldMappers.  This change moves the simulation
checks (which generate merge conflicts) for any properties of
MappedFieldTypes into a new method, validateCompatible.

This also simplifies the merge code which merges settings
between the old and new fieldtypes. Previously, each subclass
of FieldMapper would have to set its own fieldtype settings.
However, now that we have .clone(), which perfectly copies
all properties (with subclasses accounted for), we can now
do a simple clone when merging.

Finally, this fixes a subtle bug in merging, in which if
merging has conflicts, and we were not simulating, we would
still update the field type, even though it was not compatible!

NOTE: there is one test failure I am trying to track down with
timestamp merging. Otherwise, all tests pass.

time:
2015-06-19T18:46:26Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
Internal: Mark store as corrupted instead of deleting state file on engine failure

Currently, we delete the shard _state file on engine failure.
This behaviour does not persist the engine failure reason for later inspection.

This commit marks the shard store as corrupted instead of deleting
the _state file to ensure the store index can not be opened after and
the engine failure is persisted.

time:
2015-06-19T16:34:00Z
class:
comments:
Docs: Added cluster naming advice to setup and getting started docs

time:
2015-06-19T16:08:04Z
class:
comments:
Convert curl examples to Sense for snapshot restore

Closes #11537

Conflicts:
	docs/reference/modules/snapshots.asciidoc

time:
2015-06-19T15:54:57Z
class:
comments:
Docs: Fixed URLs in the Groovy docs

time:
2015-06-19T15:29:11Z
class:
comments:
Tidied up the update docs

Closes #9459

time:
2015-06-19T15:15:37Z
class:
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
comments:
CommonTermsQuery fix for ignored coordination factor

CommonTermsQueryParser does not check for disable_coords, only for
disable_coord. Yet the builder only outputs disable_coords, leading to
disabling the coordination factor to be ignored in the Java API.

Closes #11730
Closes #11780

time:
2015-06-19T15:15:33Z
class:
core/src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SizeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
comments:
Merge pull request #11770 from rjernst/fix/null_value_merge

Hide more fieldType access and cleanup null_value merging

time:
2015-06-19T14:56:25Z
class:
comments:
Docs: Add missing quotes in phrase suggest

time:
2015-06-19T14:55:28Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/EwmaModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltLinearModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltWintersModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/LinearModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/SimpleModel.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgUnitTests.java
comments:
Merge pull request #11778 from polyfractal/bugfix/11487

Aggregations: moving_avg model parser should accept any numeric

time:
2015-06-19T14:48:12Z
class:
comments:
Merge pull request #11773 from elastic/robin13-patch-1

Update stats.asciidoc

time:
2015-06-19T14:36:15Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/EwmaModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltLinearModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltWintersModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/LinearModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/SimpleModel.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgUnitTests.java
comments:
Aggregations: moving_avg model parser should accept any numeric, not just doubles

Also changes the models to throw ParseExceptions instead of SearchParseExceptions, so that
the validation can be unit-tested.

Fixes #11487

time:
2015-06-19T14:33:14Z
class:
comments:
Fixed bad asciidoc

time:
2015-06-19T14:28:07Z
class:
comments:
Docs: Rewrote the upgrade section

time:
2015-06-19T11:41:25Z
class:
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
comments:
[TEST] null out NamedWriteableRegistry in BaseQueryTestCase

time:
2015-06-19T10:24:42Z
class:
comments:
Docs: Update filter-aggregation.asciidoc

Replace the previous example which leveraged a range filter, which causes unnecessary confusion about when to use a range filter to create a single bucket or a range aggregation with exactly one member in ranges.

Closes #11704

time:
2015-06-19T10:06:23Z
class:
core/src/main/java/org/elasticsearch/rest/RestRequest.java
comments:
Fix exception message in RestRequest

Closes #11305

time:
2015-06-19T08:23:48Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/script/expression/ExpressionExecutableScript.java
core/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
core/src/main/java/org/elasticsearch/script/expression/ExpressionSearchScript.java
core/src/main/java/org/elasticsearch/script/expression/ReplaceableConstFunctionValues.java
core/src/main/java/org/elasticsearch/script/expression/ReplaceableConstValueSource.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/script/CustomScriptContextTests.java
core/src/test/java/org/elasticsearch/script/IndexedScriptTests.java
core/src/test/java/org/elasticsearch/script/OnDiskScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/script/expression/ExpressionScriptTests.java
core/src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
core/src/test/java/org/elasticsearch/test/test/SuiteScopeClusterTests.java
plugins/cloud-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreITest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreTest.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-06-19T08:22:32Z
class:
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
comments:
[TEST] remove @Repeat usages, manually run multiple iterations locally instead

time:
2015-06-19T07:21:56Z
class:
comments:
[doc] Add missing imports for Java bulk API doc

I was unable to get my BulkProcessor script to work without importing the "ByteSizeUnit" and "ByteSizeValue" classes.  Perhaps I overlooked something in the example and do not understand its code.

time:
2015-06-18T22:58:30Z
class:
core/src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SizeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
comments:
Mappings: Hide more fieldType access and cleanup null_value merging

There were some missed uses of AbstractFieldMapper.fieldType in #11764.
This change also moves null_value merging into AbstractFieldMapper.

time:
2015-06-18T20:01:07Z
class:
core/src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
comments:
Merge pull request #11764 from rjernst/fix/field-type-ref

Replace fieldType access in mappers with getter

time:
2015-06-18T19:55:53Z
class:
core/src/main/java/org/elasticsearch/transport/netty/MessageChannelHandler.java
comments:
Make sure messages are fully read even in case of EOS markers.

When using compression over the network, you might sometimes see warnings that
the stream was not fully read. This is because DeflaterOutputStream adds an
end-of-stream marker. When deserializing, we need to poll for one byte using
InputStream.read() to make sure to decode this EOS marker.

For the record, it does not strike all the time today because we perform
buffering when decompressing to avoid performing too many JNI calls, but it
is easy to make this warning happen all the time by decreasing the size of
the buffer we use.

Close #11748

time:
2015-06-18T18:47:38Z
class:
core/src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
comments:
Mappings: Replace fieldType access in mappers with getter

A small refactoring to allow changing how the field type is stored later.

time:
2015-06-18T18:40:07Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationTests.java
comments:
[TEST] Use the correct renamed setting
and make the default value setting private

time:
2015-06-18T18:34:02Z
class:
core/src/test/java/org/elasticsearch/test/test/SuiteScopeClusterTests.java
comments:
Add @Repeat to forbidden APIs

@Repeat should not be committed just like @Seed.
Use -Pdev to run annotated methods.

time:
2015-06-18T18:30:25Z
class:
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationTests.java
comments:
[TEST] assertBusy on hasUnassigned
on fast machines, node leave might not move shards to unassigned right away, wait for it

time:
2015-06-18T18:20:49Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
comments:
Reset registeredNextDelaySetting on reroute
Need to reset the registered setting in order to make sure the nex round will capture the right delay interval

also randomize setting and name the setting properly

closes #11759

time:
2015-06-18T17:57:38Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/script/expression/ExpressionExecutableScript.java
core/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
core/src/main/java/org/elasticsearch/script/expression/ExpressionSearchScript.java
core/src/main/java/org/elasticsearch/script/expression/ReplaceableConstFunctionValues.java
core/src/main/java/org/elasticsearch/script/expression/ReplaceableConstValueSource.java
core/src/test/java/org/elasticsearch/script/CustomScriptContextTests.java
core/src/test/java/org/elasticsearch/script/IndexedScriptTests.java
core/src/test/java/org/elasticsearch/script/OnDiskScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/script/expression/ExpressionScriptTests.java
comments:
Scripting: Allow executable expression scripts for aggregations

Added several classes to support expressions being used for numerical
calculations in aggregations.  Expressions will still not compile
when used with mapping and update script contexts.

Closes #11596
Closes #11689

time:
2015-06-18T17:17:01Z
class:
comments:
Merge pull request #11758 from rjernst/fix/empty-iterators

Add Iterators.emptyIterator to forbidden apis

time:
2015-06-18T17:12:58Z
class:
comments:
Build: Add Iterators.emptyIterator to forbidden apis

As a follow up to #11741, this forbids Iterators.emptyIterator in
favor the of builtin Collections.emptyIterator.

time:
2015-06-18T16:25:59Z
class:
plugins/cloud-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreITest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreTest.java
comments:
Merge pull request #11755 from dadoonet/azure/fix-tests-bytesize

[test] ByteSizeUnit.BYTES should be explicitly set

time:
2015-06-18T15:29:10Z
class:
plugins/cloud-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreITest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreTest.java
comments:
[test] ByteSizeUnit.BYTES should be explicitly set

With a recent change in core, we don't support anymore non explicit byte size units when setting values.
This commit fix that in azure repository. Otherwise, tests can't be executed.

time:
2015-06-18T14:50:35Z
class:
comments:
Allow security rule for advanced SSL configutation

if plugins need to install SSL factories etc. we have to allow
to `setFactory` in the security policy.

time:
2015-06-18T14:29:30Z
class:
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTest.java
comments:
Tests: Using UTC time zone in RangeQueryBuilderTest to make forbidden apis checker happy

time:
2015-06-18T14:19:27Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/TransportGetIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/get/GetSettingsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/get/TransportGetSettingsAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsResponse.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/routing/ImmutableShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/Preference.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/common/lucene/search/MoreLikeThisQuery.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/get/GetResult.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
core/src/main/java/org/elasticsearch/index/shard/ShardPath.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/get/RestGetIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/settings/RestGetSettingsAction.java
core/src/main/java/org/elasticsearch/snapshots/InvalidSnapshotNameException.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotCreationException.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/BasicScriptBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchBenchmark.java
core/src/test/java/org/elasticsearch/cluster/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/HumanReadableIndexSettingsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/structure/RoutingIteratorTests.java
core/src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
core/src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeTimezoneTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/MinDocCountTests.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreTests.java
core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringTests.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
core/src/test/java/org/elasticsearch/test/ElasticsearchAllocationTestCase.java
core/src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryAction.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequest.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequestBuilder.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryResponse.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/IndexDeleteByQueryResponse.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryAction.java
plugins/delete-by-query/src/main/java/org/elasticsearch/plugin/deletebyquery/DeleteByQueryModule.java
plugins/delete-by-query/src/main/java/org/elasticsearch/plugin/deletebyquery/DeleteByQueryPlugin.java
plugins/delete-by-query/src/main/java/org/elasticsearch/rest/action/deletebyquery/RestDeleteByQueryAction.java
plugins/delete-by-query/src/test/java/org/elasticsearch/action/deletebyquery/IndexDeleteByQueryResponseTests.java
plugins/delete-by-query/src/test/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryActionTests.java
plugins/delete-by-query/src/test/java/org/elasticsearch/plugin/deletebyquery/DeleteByQueryTests.java
plugins/delete-by-query/src/test/java/org/elasticsearch/plugin/deletebyquery/test/rest/DeleteByQueryRestTests.java
comments:
Merge branch 'master' into feature/query-refactoring

 Conflicts:
	core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java

time:
2015-06-18T14:16:12Z
class:
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTest.java
comments:
Merge pull request #11703 from cbuescher/feature/query-refactoring-dismax

Query Refactoring: DisMaxQueryBuilder and Parser

time:
2015-06-18T14:06:02Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
core/src/test/java/org/elasticsearch/cluster/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
comments:
Optional Delayed Allocation on Node leave
Allow to set delayed allocation timeout on unassigned shards when a node leaves the cluster. This allows to wait for the node to come back for a specific period in order to try and assign the shards back to it to reduce shards movements and unnecessary relocations.

The setting is an index level setting under `index.unassigned.node_left.delayed_timeout` and defaults to 0 (== no delayed allocation). We might want to change the default, but lets do it in a different change to come up with the best value for it. The setting can be updated dynamically.

When shards are delayed, a log message with "info" level will notify how many shards are being delayed.

An implementation note, we really only need to care about delaying allocation on unassigned replica shards. If the primary shard is unassigned, anyhow we are going to wait for a copy of it, so really the only case to delay allocation is for replicas.

close #11712

time:
2015-06-18T13:45:07Z
class:
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTest.java
comments:
Query Refactoring: DisMaxQueryBuilder and Parser

Moving the query building functionality from the parser to the builders
new toQuery() method analogous to other recent query refactorings.

Relates to #10217
Closes #11703

time:
2015-06-18T13:06:49Z
class:
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchBenchmark.java
comments:
[TEST] fix TermsAggregationSearchBenchmark

time:
2015-06-18T12:04:38Z
class:
comments:
Upgrade AWS dependency to 1.10.0

This also apgrades JodaTime to 2.8.0.

time:
2015-06-18T11:09:42Z
class:
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryAction.java
plugins/delete-by-query/src/test/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryActionTests.java
comments:
Fix number of deleted/missing documents in Delete-By-Query

The deleted counter is incremented even if the document is missing. Also, this commit ensures that the scroll id is cleared even if no documents are found by the scan request.

time:
2015-06-18T09:15:40Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/test/java/org/elasticsearch/cluster/metadata/HumanReadableIndexSettingsTests.java
comments:
Use UTC as timeszone for index creation date

time:
2015-06-18T08:43:45Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/BasicScriptBenchmark.java
core/src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
core/src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeTimezoneTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/MinDocCountTests.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreTests.java
comments:
Add DateTime ctors without timezone to forbidden APIs

Using DateTime with default timezone is asking for trouble and should
be added to forbidden APIs

time:
2015-06-18T08:10:57Z
class:
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringTests.java
comments:
Merge pull request #11696 from MaineC/feature/simple-query-string-addboost

Add support for query boost to SimpleQueryStringBuilder.

Relates to #10217

time:
2015-06-18T07:34:39Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/ImmutableShardRouting.java
comments:
remove 1.7 version check

time:
2015-06-18T06:51:17Z
class:
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsResponse.java
core/src/main/java/org/elasticsearch/index/get/GetResult.java
comments:
Merge pull request #11741 from dadoonet/cleanup/emptyiterator

Replace Iterators#emptyIterator by JDK one

time:
2015-06-18T06:47:31Z
class:
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsResponse.java
core/src/main/java/org/elasticsearch/index/get/GetResult.java
comments:
Replace Iterators#emptyIterator by JDK one

`com.google.common.collect.Iterators#emptyIterator()` is marked as deprecated and will be removed in May 2016. We should use JDK7 `Collections#emptyIterator()`

time:
2015-06-17T23:13:35Z
class:
core/src/main/java/org/elasticsearch/snapshots/InvalidSnapshotNameException.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotCreationException.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
comments:
Snapshot/Restore: Add snapshot name validation logic to all snapshot operation

Make sure snapshot name validation occurs earlier in all snapshot operations.

time:
2015-06-17T22:52:01Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/TransportGetIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/get/GetSettingsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/get/TransportGetSettingsAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/get/RestGetIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/settings/RestGetSettingsAction.java
core/src/test/java/org/elasticsearch/cluster/metadata/HumanReadableIndexSettingsTests.java
comments:
Show human readable Elasticsearch version that created index and date when index was created

By setting human parameter to true, it's now possible to see human readable versions of Elasticsearch that created and updated the index as well as the date when the index was created.

Closes #11484

time:
2015-06-17T22:18:50Z
class:
core/src/main/java/org/elasticsearch/common/lucene/search/MoreLikeThisQuery.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
comments:
More Like This: renamed `ignore_like` to `unlike`

This changes the parameter name `ignore_like` to the more user friendly name
`unlike`. This later feature generates a query from the terms in `A` but not
from the terms in `B`. This translates to a result set which is like `A` but
unlike `B`. We could have further negatively boosted any documents that have
some `B`, but these documents already do not receive any contribution from
having `B`, and would therefore negatively compete with documents having `A`.

Closes #11117

time:
2015-06-17T18:37:59Z
class:
core/src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
plugins/delete-by-query/src/test/java/org/elasticsearch/plugin/deletebyquery/test/rest/DeleteByQueryRestTests.java
comments:
Allow to opt-out of loading packaged REST tests

this is really just a workaround for plugins to run their own
REST tests instead of the core ones. It opts out of the rest test
loading from the core jar file and tries to load from the classpath instead.
Eventually we need to fix this infrastrucutre to move away from parameterized
tests such that subclasses can override behavior.

Closes #11721

time:
2015-06-17T16:06:55Z
class:
comments:
Merge pull request #11705 from clintongormley/licenses

Packaging: Add LICENSE and NOTICE files for all core dependencies

time:
2015-06-17T16:06:00Z
class:
comments:
Packaging: Add LICENSE, NOTICE, and sha1 files and tests for all core dependencies

Added a licenses/ directory to core which contains a sha1 file for each JAR
dependency, and one or more LICENSE files and one NOTICE file for each
project.

Also adds dev-tools/src/main/resources/license-check/check_license_and_sha.pl
which checks that the licenses/ dir is up to date during a mvn verify,
and which can be used to update the sha1 files when upgrading dependencies.

Closes #2794
Closes #10684
Closes #11705

time:
2015-06-17T14:28:38Z
class:
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/shard/ShardPath.java
comments:
Balance new shard allocations more evenly across multiple path.data

This change adds a simplistic heuristic to try to balance new shard
allocations across multiple data paths on one node so that e.g. if
there are two path.data and both have roughly the same free space, if
10 shards are suddenly allocated, we will put 5 on one path and 5 on
the other (vs 10 on a single path today).

Closes #11185

Closes #11122

time:
2015-06-17T12:52:25Z
class:
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryAction.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequest.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequestBuilder.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryResponse.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/IndexDeleteByQueryResponse.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryAction.java
plugins/delete-by-query/src/main/java/org/elasticsearch/plugin/deletebyquery/DeleteByQueryModule.java
plugins/delete-by-query/src/main/java/org/elasticsearch/plugin/deletebyquery/DeleteByQueryPlugin.java
plugins/delete-by-query/src/main/java/org/elasticsearch/rest/action/deletebyquery/RestDeleteByQueryAction.java
plugins/delete-by-query/src/test/java/org/elasticsearch/action/deletebyquery/IndexDeleteByQueryResponseTests.java
plugins/delete-by-query/src/test/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryActionTests.java
plugins/delete-by-query/src/test/java/org/elasticsearch/plugin/deletebyquery/DeleteByQueryTests.java
plugins/delete-by-query/src/test/java/org/elasticsearch/plugin/deletebyquery/test/rest/DeleteByQueryRestTests.java
comments:
Add delete-by-query plugin

The delete by query plugin adds support for deleting all of the documents (from one or more indices) which match the specified query. It is a replacement for the problematic delete-by-query functionality which has been removed from Elasticsearch core in 2.0. Internally, it uses the Scan/Scroll and Bulk APIs to delete documents in an efficient and safe manner. It is slower than the old delete-by-query functionality, but fixes the problems with the previous implementation.

Closes #7052
@tlrx I think we should write here `addValidationError("source is missing", null);` (actually IntelliJ is throwing a warning about it when compiling)


time:
2015-06-17T10:33:51Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/Preference.java
core/src/test/java/org/elasticsearch/cluster/structure/RoutingIteratorTests.java
core/src/test/java/org/elasticsearch/test/ElasticsearchAllocationTestCase.java
comments:
Merge pull request #11464 from nirmalc/nodes-preference

Search `preference` based on node specification

time:
2015-06-17T09:54:00Z
class:
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java
core/src/main/java/org/elasticsearch/cluster/routing/ImmutableShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/MutableShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/FailedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
core/src/main/java/org/elasticsearch/common/logging/Loggers.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DocValuesIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/NumericDVIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/SortedNumericDVIndexFieldData.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
core/src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/main/java/org/elasticsearch/river/AbstractRiverComponent.java
core/src/main/java/org/elasticsearch/river/River.java
core/src/main/java/org/elasticsearch/river/RiverComponent.java
core/src/main/java/org/elasticsearch/river/RiverException.java
core/src/main/java/org/elasticsearch/river/RiverIndexName.java
core/src/main/java/org/elasticsearch/river/RiverModule.java
core/src/main/java/org/elasticsearch/river/RiverName.java
core/src/main/java/org/elasticsearch/river/RiverNameModule.java
core/src/main/java/org/elasticsearch/river/RiverSettings.java
core/src/main/java/org/elasticsearch/river/RiversManager.java
core/src/main/java/org/elasticsearch/river/RiversModule.java
core/src/main/java/org/elasticsearch/river/RiversPluginsModule.java
core/src/main/java/org/elasticsearch/river/RiversService.java
core/src/main/java/org/elasticsearch/river/RiversTypesRegistry.java
core/src/main/java/org/elasticsearch/river/cluster/PublishRiverClusterStateAction.java
core/src/main/java/org/elasticsearch/river/cluster/RiverClusterChangedEvent.java
core/src/main/java/org/elasticsearch/river/cluster/RiverClusterService.java
core/src/main/java/org/elasticsearch/river/cluster/RiverClusterState.java
core/src/main/java/org/elasticsearch/river/cluster/RiverClusterStateListener.java
core/src/main/java/org/elasticsearch/river/cluster/RiverClusterStateUpdateTask.java
core/src/main/java/org/elasticsearch/river/cluster/RiverNodeHelper.java
core/src/main/java/org/elasticsearch/river/dummy/DummyRiver.java
core/src/main/java/org/elasticsearch/river/dummy/DummyRiverModule.java
core/src/main/java/org/elasticsearch/river/routing/RiverRouting.java
core/src/main/java/org/elasticsearch/river/routing/RiversRouter.java
core/src/main/java/org/elasticsearch/river/routing/RiversRouting.java
core/src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreTests.java
core/src/test/java/org/elasticsearch/river/RiverTests.java
core/src/test/java/org/elasticsearch/search/matchedqueries/MatchedQueriesTests.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-06-17T09:18:32Z
class:
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringTests.java
comments:
Fixing review comments.

time:
2015-06-17T08:49:52Z
class:
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringTests.java
comments:
Add boost to SimpleQueryStringBuilder.

As per discussion in #11274 this adds support for query boosting
to the SimpleQueryStringQuery.

time:
2015-06-17T06:47:40Z
class:
comments:
Clarify refresh parameter in the `_bulk` API

See #11690
Closes #11691

time:
2015-06-17T06:20:48Z
class:
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/common/logging/Loggers.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/river/AbstractRiverComponent.java
core/src/main/java/org/elasticsearch/river/River.java
core/src/main/java/org/elasticsearch/river/RiverComponent.java
core/src/main/java/org/elasticsearch/river/RiverException.java
core/src/main/java/org/elasticsearch/river/RiverIndexName.java
core/src/main/java/org/elasticsearch/river/RiverModule.java
core/src/main/java/org/elasticsearch/river/RiverName.java
core/src/main/java/org/elasticsearch/river/RiverNameModule.java
core/src/main/java/org/elasticsearch/river/RiverSettings.java
core/src/main/java/org/elasticsearch/river/RiversManager.java
core/src/main/java/org/elasticsearch/river/RiversModule.java
core/src/main/java/org/elasticsearch/river/RiversPluginsModule.java
core/src/main/java/org/elasticsearch/river/RiversService.java
core/src/main/java/org/elasticsearch/river/RiversTypesRegistry.java
core/src/main/java/org/elasticsearch/river/cluster/PublishRiverClusterStateAction.java
core/src/main/java/org/elasticsearch/river/cluster/RiverClusterChangedEvent.java
core/src/main/java/org/elasticsearch/river/cluster/RiverClusterService.java
core/src/main/java/org/elasticsearch/river/cluster/RiverClusterState.java
core/src/main/java/org/elasticsearch/river/cluster/RiverClusterStateListener.java
core/src/main/java/org/elasticsearch/river/cluster/RiverClusterStateUpdateTask.java
core/src/main/java/org/elasticsearch/river/cluster/RiverNodeHelper.java
core/src/main/java/org/elasticsearch/river/dummy/DummyRiver.java
core/src/main/java/org/elasticsearch/river/dummy/DummyRiverModule.java
core/src/main/java/org/elasticsearch/river/routing/RiverRouting.java
core/src/main/java/org/elasticsearch/river/routing/RiversRouter.java
core/src/main/java/org/elasticsearch/river/routing/RiversRouting.java
core/src/test/java/org/elasticsearch/river/RiverTests.java
comments:
Merge pull request #11568 from jpountz/remove/rivers

Rivers removal.

time:
2015-06-17T06:19:33Z
class:
core/src/main/java/org/elasticsearch/index/fielddata/plain/DocValuesIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/NumericDVIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/SortedNumericDVIndexFieldData.java
comments:
Merge pull request #11693 from jpountz/fix/simplify_timestamp_dv

Simplify doc values handling for _timestamp.

time:
2015-06-16T16:49:12Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/Preference.java
core/src/test/java/org/elasticsearch/cluster/structure/RoutingIteratorTests.java
core/src/test/java/org/elasticsearch/test/ElasticsearchAllocationTestCase.java
comments:
5925 - Allow node specification in preference

-Allow node selector api's with new preference
ONLY_NODES ( selector apis like https://www.elastic.co/guide/en/elasticsearch/reference/current/cluster.html)

-Update documentation

time:
2015-06-16T15:36:29Z
class:
core/src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
comments:
Merge pull request #11697 from jpountz/fix/synchronous_fielddata_removal

Reclaim memory from fielddata synchronously when an explicit clear is performed.

time:
2015-06-16T15:01:48Z
class:
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java
core/src/main/java/org/elasticsearch/cluster/routing/ImmutableShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/MutableShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/FailedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreTests.java
comments:
Add Unassigned meta data
Unassigned meta includes additional information as to why a shard is unassigned, this is especially handy when a shard moves to unassigned due to node leaving or shard failure.

The additional data is provided as part of the cluster state, and as part of `_cat/shards` API.

The additional meta includes the timestamp that the shard has moved to unassigned, allowing us in the future to build functionality such as delay allocation due to node leaving until a copy of the shard is found.
closes #11653
@kimchy I'm unable to get these tests to pass. [This is the help output I get](https://gist.github.com/anonymous/b37a0f92e97ce3c5f73a) and it looks like the other clients are experiencing similar failures. Any idea why that might be?


time:
2015-06-16T14:51:03Z
class:
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/BoostingQueryBuilderTest.java
comments:
Merge pull request #11621 from cbuescher/feature/query-refactoring-boostingquery

Query refactoring: BoostingQueryBuilder and Parser

time:
2015-06-16T14:16:29Z
class:
comments:
Create PID_DIR in init.d script

Since the /var/run/elasticsearch directory is cleaned when the operating system starts, the init.d script must ensure that the PID_DIR is correctly created.

Closes #11594

time:
2015-06-16T12:56:35Z
class:
core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/AndQueryParser.java
core/src/test/java/org/elasticsearch/index/query/AndQueryBuilderTest.java
comments:
Merge pull request #11628 from cbuescher/feature/query-refactoring-and

Query refactoring: AndQueryBuilder and Parser

time:
2015-06-16T12:17:23Z
class:
core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/AndQueryParser.java
core/src/test/java/org/elasticsearch/index/query/AndQueryBuilderTest.java
comments:
Query refactoring: AndQueryBuilder and Parser

Moving the query building functionality from the parser to the builders
new toQuery() method analogous to other recent query refactorings.

Relates to #10217
Closes #11628

time:
2015-06-16T11:57:06Z
class:
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/BoostingQueryBuilderTest.java
comments:
Query refactoring: BoostingQueryBuilder and Parser

As part of the refactoring of queries this PR splits the parsers parse() method
into a parsing and a query building part, adding serialization, hashCode() and
equals() to the builder.

Relates to #10217
Closes #11621

time:
2015-06-16T10:08:39Z
class:
core/src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
comments:
Reclaim memory from fielddata synchronously when an explicit clear is performed.

The cache we are using for fielddata reclaims memory lazily/asynchronously. While this
helps with throughput this is an issue when a clear operation is issued manually since
memory is not reclaimed immediately. Since our clear methods already perform in linear
time anyway, this commit changes the fielddata cache to reclaim memory synchronously
when a clear command is issued manually. However, it remains lazy in case cache entries
are invalidated because segments or readers are closed, which is important since such
events happen all the time.

Close #11695

time:
2015-06-16T10:04:51Z
class:
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
core/src/test/java/org/elasticsearch/search/matchedqueries/MatchedQueriesTests.java
comments:
Query DSL: fix support for _name in some queries

Some of our Java api builders had wrong logic when it comes to serializing the query in json format, resulting in missing fields like _name. Also, regexp parser was ignoring the _name field.

Closes #11694

time:
2015-06-16T09:52:17Z
class:
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTest.java
comments:
Merge pull request #11629 from cbuescher/feature/query-refactoring-constantscore

Query refactoring: ConstantScoreQueryBuilder and Parser

time:
2015-06-16T09:12:00Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequestBuilder.java
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/routing/ImmutableShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/MutableShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
core/src/main/java/org/elasticsearch/common/xcontent/ToXContent.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentFactory.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DisabledIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/FSTBytesAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/FSTBytesIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointCompressedAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointCompressedIndexFieldData.java
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionBuilders.java
core/src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/support/BaseInnerHitBuilder.java
core/src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/suggest/stats/ShardSuggestMetric.java
core/src/main/java/org/elasticsearch/node/service/NodeService.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/rest/RestRequest.java
core/src/main/java/org/elasticsearch/script/Script.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationModule.java
core/src/main/java/org/elasticsearch/search/aggregations/TransportAggregationModule.java
core/src/main/java/org/elasticsearch/search/aggregations/ValuesSourceAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ScriptHeuristic.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/BucketHelpers.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorBuilders.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/seriesarithmetic/SeriesArithmeticBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/seriesarithmetic/SeriesArithmeticParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/seriesarithmetic/SeriesArithmeticPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsParseElement.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/test/java/org/elasticsearch/action/update/UpdateRequestTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/CatAllocationTestBase.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/common/lucene/IndexCacheableQueryTests.java
core/src/test/java/org/elasticsearch/deps/lucene/SimpleLuceneTests.java
core/src/test/java/org/elasticsearch/document/BulkTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/DuelFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/FilterFieldDataTest.java
core/src/test/java/org/elasticsearch/index/fielddata/IndexFieldDataServiceTests.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/MappedFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/BinaryFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/BooleanFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/ByteFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/CompletionFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/DateFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/DoubleFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/FloatFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/IntegerFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/LongFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/ShortFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/StringFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/AllFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/IdFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/IndexFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/ParentFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/RoutingFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/SourceFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/TimestampFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/TypeFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/UidFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/VersionFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryTest.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerTests.java
core/src/test/java/org/elasticsearch/nested/SimpleNestedTests.java
core/src/test/java/org/elasticsearch/percolator/MultiPercolatorTests.java
core/src/test/java/org/elasticsearch/script/IndexLookupTests.java
core/src/test/java/org/elasticsearch/script/IndexedScriptTests.java
core/src/test/java/org/elasticsearch/script/OnDiskScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptFieldTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateRangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DoubleTermsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/HistogramTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IPv4RangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/LongTermsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/RangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/StringTermsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ScriptedMetricTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/SeriesArithmeticTests.java
core/src/test/java/org/elasticsearch/search/basic/TransportTwoNodesSearchTests.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchTests.java
core/src/test/java/org/elasticsearch/search/fields/SearchFieldsTests.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreBackwardCompatibilityTests.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreTests.java
core/src/test/java/org/elasticsearch/search/functionscore/RandomScoreFunctionTests.java
core/src/test/java/org/elasticsearch/search/geo/GeoDistanceTests.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsTests.java
core/src/test/java/org/elasticsearch/search/rescore/QueryRescorerTests.java
core/src/test/java/org/elasticsearch/search/scriptfilter/ScriptQuerySearchTests.java
core/src/test/java/org/elasticsearch/search/sort/SimpleSortTests.java
core/src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
core/src/test/java/org/elasticsearch/test/IBMJ9HackThreadFilters.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
core/src/test/java/org/elasticsearch/test/disruption/NetworkPartition.java
core/src/test/java/org/elasticsearch/test/disruption/NetworkPartitionTests.java
core/src/test/java/org/elasticsearch/test/engine/MockEngineSupport.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportTests.java
core/src/test/java/org/elasticsearch/update/UpdateByNativeScriptTests.java
core/src/test/java/org/elasticsearch/update/UpdateTests.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptSearchTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptSearchTests.java
comments:
Merge branch 'master' into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java

time:
2015-06-16T08:52:06Z
class:
core/src/main/java/org/elasticsearch/index/fielddata/plain/DocValuesIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/NumericDVIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/SortedNumericDVIndexFieldData.java
comments:
Simplify doc values handling for _timestamp.

`_timestamp` uses NumericDocValues instead of SortedNumericDocValues like other
numeric fields since it is guaranteed to be single-valued. However, we don't
need a different fielddata impl for it since DocValues.getSortedNumeric already
falls back to NUMERIC doc values if SORTED_NUMERIC are not available.

time:
2015-06-16T08:34:51Z
class:
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramTests.java
comments:
Tests: Add test case from #11692

time:
2015-06-16T07:45:51Z
class:
comments:
Merge pull request #11477 from dadoonet/doc/update-java-api-master

[doc] fix outdated java api examples

Some API have been changed in master. Master documentation should reflect be updated:

* QueryBuilders.queryString is now QueryBuilders.queryStringQuery
* DateHistogram.Interval is now DateHistogramInterval
* Refactoring of buckets in aggs
* FilterBuilders has been replaced by QueryBuilders

Closes #9976.

time:
2015-06-16T07:45:07Z
class:
comments:
[doc] fix outdated java api examples

* QueryBuilders.queryString is now QueryBuilders.queryStringQuery
* DateHistogram.Interval is now DateHistogramInterval
* Refactoring of buckets in aggs
* FilterBuilders has been replaced by QueryBuilders

Closes #9976.

time:
2015-06-16T07:34:55Z
class:
comments:
Merge pull request #11622 from dadoonet/maven/shade-plugin

[build] update maven-shade-plugin to 2.4

## Release Notes - Apache Maven Shade - Version 2.4

https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12317921&version=12331393

### Bugs:

* [MSHADE-155] - dependency-reduced-pom should use shadedArtifactId
* [MSHADE-169] - Typos in warning message
* [MSHADE-172] - "java.lang.ArithmeticException: / by zero" in MinijarFilter
* [MSHADE-174] - Unable to shade Java 8 jarfiles with static interface methods using minimizeJar
* [MSHADE-183] - Getting "Error creating shaded jar: java.util.jar.Attributes cannot be
                 cast to java.lang.String" error when using ManifestResourceTransformer with Maven 3.2.5
* [MSHADE-185] - systemPath content is interpolated for system dependencies

### Improvements:

* [MSHADE-177] - MavenProject/MavenSession Injection as a paremeter instead as a component.
* [MSHADE-178] - Removing plexus-container-default dependency
* [MSHADE-179] - Fix RAT Report
* [MSHADE-180] - Upgrade plexus-utils to 3.0.18
* [MSHADE-188] - Upgrade maven-dependency-tree to 2.2
* [MSHADE-191] - Upgrade plexus-utils to 3.0.22
* [MSHADE-192] - Upgrade maven-invoker to 1.10
* [MSHADE-193] - Upgrade to fluido skin 1.4.0

time:
2015-06-16T07:31:24Z
class:
comments:
Merge pull request #11637 from dadoonet/plugins/elasticsearch-provided

[build] mark elasticsearch as provided in plugins

When we build a plugin, we suppose it will be executed within elasticsearch server.
So we should mark it as `provided`.

If a java developer needs to embed the plugin and elasticsearch, it will make sense to declare both in its `pom.xml` file.

time:
2015-06-16T07:12:03Z
class:
comments:
Merge pull request #11676 from dadoonet/maven/clean-pom

[maven] clean pom.xml

In Maven parent project, in dependency management, we should only declare which versions of 3rd party jars we want to use but not force any scope.
It makes then more obvious in modules what is exactly the scope of any dependency.

For example, one could imagine importing `jimfs` as a `compile` dependency in another module/plugin with:

```xml
<dependency>
   <groupId>com.google.jimfs</groupId>
   <artifactId>jimfs</artifactId>
</dependency>
```

But it won't work as expected as the default maven `scope` should be `compile` but here it's `test` as defined in the parent project.

So, if you want to use this lib for tests, you should simply define:

```xml
<dependency>
   <groupId>com.google.jimfs</groupId>
   <artifactId>jimfs</artifactId>
   <scope>test</scope>
</dependency>
```

We also remove `maven-s3-wagon` from gce plugin as it's not used.

time:
2015-06-16T07:00:03Z
class:
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregator.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsParseElement.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
comments:
Merge pull request #11686 from rjernst/remove/smart-object-wrapper

Remove SmartNameObjectMapper

time:
2015-06-16T06:59:09Z
class:
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsParseElement.java
comments:
Make conditional clearer

time:
2015-06-16T00:03:32Z
class:
core/src/test/java/org/elasticsearch/index/mapper/core/BinaryFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/DateFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldTypeTests.java
comments:
fix field type tests

time:
2015-06-15T22:42:53Z
class:
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/MappedFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/BinaryFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/BooleanFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/ByteFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/CompletionFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/DateFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/DoubleFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/FloatFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/IntegerFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/LongFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/ShortFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/StringFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/AllFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/IdFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/IndexFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/ParentFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/RoutingFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/SourceFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/TimestampFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/TypeFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/UidFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/VersionFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
comments:
Merge pull request #11644 from rjernst/refactor/field-type-equality

Add equals/hashcode to fieldtypes

time:
2015-06-15T22:40:01Z
class:
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregator.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsParseElement.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
comments:
Mappings: Remove SmartNameObjectMapper

This was previously a container for an ObjectMapper, along with the
DocumentMapper that ObjectMapper came from. However, there was
only one use of needing the associated DocumentMapper, and that
wasn't actually used.

time:
2015-06-15T21:40:52Z
class:
core/src/test/java/org/elasticsearch/test/disruption/NetworkPartitionTests.java
comments:
Test: NetworkPartitionTests should make sure MockTransportService is used.

time:
2015-06-15T19:57:05Z
class:
comments:
Revert "Test: fix removal of e validate_query rewrite YAML test"

This reverts commit e461852548b6ee1cbb18031989af4790f4922f48.

time:
2015-06-15T18:29:06Z
class:
comments:
Test: fix removal of e validate_query rewrite YAML test

time:
2015-06-15T17:55:37Z
class:
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/core/BinaryFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/DateFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldTypeTests.java
comments:
Address PR comments

time:
2015-06-15T16:52:06Z
class:
comments:
[TEST] Remove validate_query rewrite YAML test

time:
2015-06-15T16:41:37Z
class:
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTest.java
comments:
Query refactoring: ConstantScoreQueryBuilder and Parser

Moving the query building functionality from the parser to the builders
new toQuery() method analogous to other recent query refactorings.

Relates to #10217
Closes #11629

time:
2015-06-15T15:13:46Z
class:
comments:
[SPEC] Add `rewrite` query parameter to the `indices.validate_query` API

time:
2015-06-15T15:08:15Z
class:
comments:
[maven] clean pom.xml

In Maven parent project, in dependency management, we should only declare which versions of 3rd party jars we want to use but not force any scope.
It makes then more obvious in modules what is exactly the scope of any dependency.

For example, one could imagine importing `jimfs` as a `compile` dependency in another module/plugin with:

```xml
<dependency>
   <groupId>com.google.jimfs</groupId>
   <artifactId>jimfs</artifactId>
</dependency>
```

But it won't work as expected as the default maven `scope` should be `compile` but here it's `test` as defined in the parent project.

So, if you want to use this lib for tests, you should simply define:

```xml
<dependency>
   <groupId>com.google.jimfs</groupId>
   <artifactId>jimfs</artifactId>
   <scope>test</scope>
</dependency>
```

We also remove `maven-s3-wagon` from gce plugin as it's not used.

time:
2015-06-15T14:19:48Z
class:
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DisabledIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/FSTBytesAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/FSTBytesIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointCompressedAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointCompressedIndexFieldData.java
core/src/test/java/org/elasticsearch/index/fielddata/DuelFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/FSTPackedBytesStringFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/FilterFieldDataTest.java
core/src/test/java/org/elasticsearch/index/fielddata/IndexFieldDataServiceTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerTests.java
core/src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
comments:
Merge pull request #11669 from jpountz/remove/esoteric_fielddata_formats

Remove non-default fielddata formats.

time:
2015-06-15T14:09:01Z
class:
core/src/test/java/org/elasticsearch/test/disruption/NetworkPartition.java
core/src/test/java/org/elasticsearch/test/disruption/NetworkPartitionTests.java
comments:
Merge pull request #11595 from brwe/netowrk-partition-test

[TEST] remove node from nodes list if disruption is removed from node

time:
2015-06-15T12:05:23Z
class:
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DisabledIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/FSTBytesAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/FSTBytesIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointCompressedAtomicFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointCompressedIndexFieldData.java
core/src/test/java/org/elasticsearch/index/fielddata/DuelFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/FSTPackedBytesStringFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/FilterFieldDataTest.java
core/src/test/java/org/elasticsearch/index/fielddata/IndexFieldDataServiceTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerTests.java
core/src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
comments:
Remove non-default fielddata formats.

Now that doc values are the default for fielddata, specialized in-memory
formats are becoming an esoteric option. This commit removes such formats:
 - `fst` on string fields,
 - `compressed` on geo points.

I also removed documentation and tests that the fielddata cache is shared if
you change the format, since this is only true for in-memory fielddata formats
(given that for doc values, the caching is done directly in Lucene).

time:
2015-06-15T10:24:10Z
class:
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTest.java
comments:
Tests: fix RangeQueryBuilderTest, only use timestamp when date mapper is available

Also renaming field names to 'mapped_<fieldtype>' to avoid misunderstandings in error
messages.

time:
2015-06-15T10:13:19Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/test/java/org/elasticsearch/common/lucene/IndexCacheableQueryTests.java
core/src/test/java/org/elasticsearch/deps/lucene/SimpleLuceneTests.java
core/src/test/java/org/elasticsearch/test/IBMJ9HackThreadFilters.java
core/src/test/java/org/elasticsearch/test/engine/MockEngineSupport.java
comments:
Merge pull request #11662 from jpountz/upgrade/lucene-5.2.1

Upgrade to Lucene 5.2.1.

time:
2015-06-15T09:42:12Z
class:
comments:
Merge pull request #11661 from pjcard/patch-1

Make explicit the requirement for intervals to be integers
Conflicts:
	docs/reference/search/aggregations/bucket/histogram-aggregation.asciidoc

time:
2015-06-15T09:26:28Z
class:
core/src/test/java/org/elasticsearch/deps/lucene/SimpleLuceneTests.java
comments:
Remove SimpleLuceneTests.testAddDocAfterPrepareCommit.

It is unnecessary to test features we are not using.

time:
2015-06-15T09:15:57Z
class:
comments:
Docs: Updated groovy docs link

Closes #11656

time:
2015-06-15T08:51:05Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/test/java/org/elasticsearch/common/lucene/IndexCacheableQueryTests.java
core/src/test/java/org/elasticsearch/deps/lucene/SimpleLuceneTests.java
core/src/test/java/org/elasticsearch/test/IBMJ9HackThreadFilters.java
core/src/test/java/org/elasticsearch/test/engine/MockEngineSupport.java
comments:
Upgrade to Lucene 5.2.1.

time:
2015-06-15T08:07:40Z
class:
comments:
[TEST] Shards can also be RELOCATING

time:
2015-06-15T07:46:38Z
class:
comments:
Merge pull request #11606 from s1monw/fold_in_get_service

Fold ShardGetService creation away from Guice  into IndexShard

time:
2015-06-15T07:40:28Z
class:
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
comments:
Restore interrupt status when InterruptedException is caught

time:
2015-06-14T21:43:45Z
class:
core/src/main/java/org/elasticsearch/Version.java
comments:
Add version 1.7.0
it was added in 1.x, but not in master

time:
2015-06-14T20:15:23Z
class:
comments:
Merge pull request #11649 from adjust/jdk_docs

Clarify Java requirements

time:
2015-06-14T10:20:28Z
class:
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
comments:
[TEST] Use NoMergePolicy in EngineTest#testVerboseSegments

These tests rely on that there are no merges but since MP is now
random this can break the test.

time:
2015-06-13T19:36:13Z
class:
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
comments:
[TEST] Use NoMergePolicy in EngineTest#testSegments

These tests rely on that there are no merges but since MP is now
random this can break the test.

time:
2015-06-13T19:17:57Z
class:
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportTests.java
comments:
Use CopyOnWrite list since list is concurrently modified as well as iterated

time:
2015-06-13T09:34:56Z
class:
comments:
Merge pull request #11614 from oyiadom/patch-1

Fix typo in upgrade docs

time:
2015-06-13T08:34:36Z
class:
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptSearchTests.java
comments:
[TEST] Fix JavaScript tests - case matters here

time:
2015-06-13T08:11:43Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequestBuilder.java
core/src/main/java/org/elasticsearch/common/xcontent/ToXContent.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionBuilders.java
core/src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/support/BaseInnerHitBuilder.java
core/src/main/java/org/elasticsearch/node/service/NodeService.java
core/src/main/java/org/elasticsearch/rest/RestRequest.java
core/src/main/java/org/elasticsearch/script/Script.java
core/src/main/java/org/elasticsearch/search/aggregations/ValuesSourceAggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ScriptHeuristic.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsBuilder.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/test/java/org/elasticsearch/action/update/UpdateRequestTests.java
core/src/test/java/org/elasticsearch/document/BulkTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryTest.java
core/src/test/java/org/elasticsearch/nested/SimpleNestedTests.java
core/src/test/java/org/elasticsearch/script/IndexLookupTests.java
core/src/test/java/org/elasticsearch/script/IndexedScriptTests.java
core/src/test/java/org/elasticsearch/script/OnDiskScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptFieldTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateRangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DoubleTermsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/HistogramTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IPv4RangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/LongTermsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/RangeTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/StringTermsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ScriptedMetricTests.java
core/src/test/java/org/elasticsearch/search/basic/TransportTwoNodesSearchTests.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchTests.java
core/src/test/java/org/elasticsearch/search/fields/SearchFieldsTests.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreBackwardCompatibilityTests.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreTests.java
core/src/test/java/org/elasticsearch/search/functionscore/RandomScoreFunctionTests.java
core/src/test/java/org/elasticsearch/search/geo/GeoDistanceTests.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsTests.java
core/src/test/java/org/elasticsearch/search/rescore/QueryRescorerTests.java
core/src/test/java/org/elasticsearch/search/scriptfilter/ScriptQuerySearchTests.java
core/src/test/java/org/elasticsearch/search/sort/SimpleSortTests.java
core/src/test/java/org/elasticsearch/update/UpdateByNativeScriptTests.java
core/src/test/java/org/elasticsearch/update/UpdateTests.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptSearchTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptSearchTests.java
comments:
Remove deprecated script APIs

The script APIs have been deprecated long ago we can now remove them.
This commit still keeps the parsing code since it might be used in a
query that is still stuck in transaction log. This issue should be discussed
elsewhere.

Closes #11619

time:
2015-06-12T23:32:15Z
class:
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/MappedFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/BinaryFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/BooleanFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/ByteFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/CompletionFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/DateFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/DoubleFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/FloatFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/IntegerFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/LongFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/ShortFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/StringFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/AllFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/IdFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/IndexFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/ParentFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/RoutingFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/SourceFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/TimestampFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/TypeFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/UidFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/VersionFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
comments:
Mappings: Add equals/hashcode to fieldtypes

In order to restrict a single set of field type settings for a given
field name across an index, we need the ability to compare field types.
This change adds equals and hashcode, as well as tests for every field
type.

time:
2015-06-12T23:06:56Z
class:
core/src/main/java/org/elasticsearch/common/xcontent/XContentFactory.java
core/src/test/java/org/elasticsearch/percolator/MultiPercolatorTests.java
comments:
Core: reduce the size of the XContent parsing exception

The content that caused the exception can be potentially very big and in most cases it's not very useful for debugging.

time:
2015-06-12T20:51:21Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/ImmutableShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/MutableShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
core/src/test/java/org/elasticsearch/cluster/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/CatAllocationTestBase.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
Simplify ShardRouting and centralize move to unassigned
Make sure there is a single place where shard routing move to unassigned, so we can add additional metadata when it does, also, simplify shard routing implementations a bit
closes #11634

time:
2015-06-12T18:17:00Z
class:
comments:
Fix CONTRIBUTING.md to include accurate information

time:
2015-06-12T18:11:05Z
class:
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
comments:
Merge pull request #11640 from elastic/revert-11600-gh-8862

Revert "Removing top-level filter parameter from search API."

time:
2015-06-12T18:09:58Z
class:
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
comments:
Revert "Removing top-level filter parameter from search API."

time:
2015-06-12T17:07:40Z
class:
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
comments:
Merge pull request #11600 from ycombinator/gh-8862

Removing top-level filter parameter from search API.

time:
2015-06-12T16:53:35Z
class:
comments:
[build] mark elasticsearch as provided in plugins

When we build a plugin, we suppose it will be executed within elasticsearch server.
So we should mark it as `provided`.

If a java developer needs to embed the plugin and elasticsearch, it will make sense to declare both in its `pom.xml` file.

time:
2015-06-12T14:09:55Z
class:
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
comments:
Merge pull request #11626 from mikemccand/thread_pool_nano_time

Use System.nanoTime for ThreadPool's estimated time, since it's less likely to go backwards

time:
2015-06-12T13:57:03Z
class:
core/src/main/java/org/apache/lucene/index/OneMergeHelper.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/RestoreInProgress.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/SnapshotInProgressAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/gateway/AsyncShardFetch.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/engine/ElasticsearchConcurrentMergeScheduler.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/merge/policy/AbstractMergePolicyProvider.java
core/src/main/java/org/elasticsearch/index/merge/policy/LogByteSizeMergePolicyProvider.java
core/src/main/java/org/elasticsearch/index/merge/policy/LogDocMergePolicyProvider.java
core/src/main/java/org/elasticsearch/index/merge/policy/MergePolicyModule.java
core/src/main/java/org/elasticsearch/index/merge/policy/TieredMergePolicyProvider.java
core/src/main/java/org/elasticsearch/index/merge/scheduler/ConcurrentMergeSchedulerProvider.java
core/src/main/java/org/elasticsearch/index/merge/scheduler/MergeSchedulerProvider.java
core/src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
core/src/main/java/org/elasticsearch/index/shard/ElasticsearchMergePolicy.java
core/src/main/java/org/elasticsearch/index/shard/FilterDocValuesProducer.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/shard/MergePolicyConfig.java
core/src/main/java/org/elasticsearch/index/shard/MergeSchedulerConfig.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/shard/VersionFieldUpgrader.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/state/RestClusterStateAction.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/test/java/org/elasticsearch/action/admin/cluster/snapshots/SnapshotBlocksTests.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffTests.java
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesTests.java
core/src/test/java/org/elasticsearch/common/lucene/uid/VersionsTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineMergeTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/merge/policy/MergePolicySettingsTest.java
core/src/test/java/org/elasticsearch/index/shard/MergePolicySettingsTest.java
core/src/test/java/org/elasticsearch/index/shard/VersionFieldUpgraderTest.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileTest.java
core/src/test/java/org/elasticsearch/indices/settings/UpdateSettingsTests.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateTests.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
core/src/test/java/org/elasticsearch/script/GroovySecurityTests.java
core/src/test/java/org/elasticsearch/search/child/ParentFieldLoadingBwcTest.java
core/src/test/java/org/elasticsearch/search/child/ParentFieldLoadingTest.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchTests.java
core/src/test/java/org/elasticsearch/snapshots/AbstractSnapshotTests.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
core/src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
core/src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
core/src/test/java/org/elasticsearch/test/ElasticsearchTokenStreamTestCase.java
core/src/test/java/org/elasticsearch/test/IBMJ9HackThreadFilters.java
core/src/test/java/org/elasticsearch/test/index/merge/NoMergePolicyProvider.java
core/src/test/java/org/elasticsearch/update/UpdateTests.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-06-12T13:51:49Z
class:
comments:
Merge pull request #11556 from robin13/master

Docs: More information about 'Copy field to'

time:
2015-06-12T13:16:23Z
class:
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
comments:
use System.nanoTime for ThreadPool's estimated time, since it's less likely to go backwards

time:
2015-06-12T13:09:05Z
class:
comments:
[DOCS] Make build from source read correct for new structure

The 'Building From Source' section of README.textile was misleading as it said that the release can be found in `target/releases` when they are actually now found in the `target/releases` folder of each module.

time:
2015-06-12T11:56:35Z
class:
comments:
[build] update maven-shade-plugin to 2.4

## Release Notes - Apache Maven Shade - Version 2.4

https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12317921&version=12331393

### Bugs:

* [MSHADE-155] - dependency-reduced-pom should use shadedArtifactId
* [MSHADE-169] - Typos in warning message
* [MSHADE-172] - "java.lang.ArithmeticException: / by zero" in MinijarFilter
* [MSHADE-174] - Unable to shade Java 8 jarfiles with static interface methods using minimizeJar
* [MSHADE-183] - Getting "Error creating shaded jar: java.util.jar.Attributes cannot be
                 cast to java.lang.String" error when using ManifestResourceTransformer with Maven 3.2.5
* [MSHADE-185] - systemPath content is interpolated for system dependencies

### Improvements:

* [MSHADE-177] - MavenProject/MavenSession Injection as a paremeter instead as a component.
* [MSHADE-178] - Removing plexus-container-default dependency
* [MSHADE-179] - Fix RAT Report
* [MSHADE-180] - Upgrade plexus-utils to 3.0.18
* [MSHADE-188] - Upgrade maven-dependency-tree to 2.2
* [MSHADE-191] - Upgrade plexus-utils to 3.0.22
* [MSHADE-192] - Upgrade maven-invoker to 1.10
* [MSHADE-193] - Upgrade to fluido skin 1.4.0

time:
2015-06-12T11:45:10Z
class:
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
comments:
Fold ShardGetService creation away from Guice  into IndexShard

it's always acccessed via IndexShard and has crazy circular dependencies or
rather had. It just makes IndexShard ctor bigger for no reason.

time:
2015-06-12T11:39:59Z
class:
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
comments:
Fold ShardGetService creation away from Guice  into IndexShard

it's always acccessed via IndexShard and has crazy circular dependencies or
rather had. It just makes IndexShard ctor bigger for no reason.

time:
2015-06-12T11:36:27Z
class:
core/src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/suggest/stats/ShardSuggestMetric.java
comments:
Create ShardSuggestService/Metrics manually outside of guice

This ShardSuggestService is a simple metrics counter and doesn't need
to be injected. It just makes IndexShard ctor bigger for no reason.

time:
2015-06-12T10:21:44Z
class:
core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTest.java
comments:
Tests: Fix RangeQueryBuilderTest, adding separate test for unmapped field & timestamp

time:
2015-06-12T08:25:52Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/AggregationModule.java
core/src/main/java/org/elasticsearch/search/aggregations/TransportAggregationModule.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/BucketHelpers.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorBuilders.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/seriesarithmetic/SeriesArithmeticBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/seriesarithmetic/SeriesArithmeticParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/seriesarithmetic/SeriesArithmeticPipelineAggregator.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/SeriesArithmeticTests.java
comments:
Aggregations: allow users to perform simple arithmetic operations on histogram aggregations

Closes #11029

time:
2015-06-12T07:57:25Z
class:
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/gateway/AsyncShardFetch.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesTests.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateTests.java
comments:
Merge pull request #11615 from bleskes/async_fetch_non_existent_nodes

Internal: AsyncShardFetch can hang if there are new nodes in cluster state

time:
2015-06-12T05:11:32Z
class:
core/src/test/java/org/elasticsearch/script/GroovySecurityTests.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchTests.java
core/src/test/java/org/elasticsearch/test/ElasticsearchTestCase.java
core/src/test/java/org/elasticsearch/test/ElasticsearchTokenStreamTestCase.java
core/src/test/java/org/elasticsearch/test/IBMJ9HackThreadFilters.java
comments:
Tests: fix test bugs so tests pass on IBM J9 (at least once)

time:
2015-06-11T22:11:56Z
class:
core/src/test/java/org/elasticsearch/index/query/ExistsQueryBuilderTest.java
comments:
Tests: Fix ExistsQueryBuilderTest after changes to builder merged in from master

time:
2015-06-11T21:16:09Z
class:
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/gateway/AsyncShardFetch.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesTests.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateTests.java
comments:
Internal: AsyncShardFetch can hang if there are new nodes in cluster state

The AsyncShardFetch retrieves shard information from the different nodes in order to detirment the best location for unassigned shards. The class uses TransportNodesListGatewayStartedShards and TransportNodesListShardStoreMetaData in order to fetch this information. These actions, inherit from TransportNodesAction and are activated using a list of node ids. Those node ids are extracted from the cluster state that is used to assign shards.

If we perform a reroute and adding new news in the same cluster state update task, it is possible that the AsyncShardFetch administration is based on
a different cluster state then the one used by TransportNodesAction to resolve nodes. This can cause a problem since TransportNodesAction filters away unkown nodes, causing the administration in AsyncShardFetch to get confused.

This commit fixes this allowing to override node resolving in TransportNodesAction and uses the exact node ids transfered by AsyncShardFetch

time:
2015-06-11T20:53:44Z
class:
core/src/test/java/org/elasticsearch/index/query/ExistsQueryBuilderTest.java
comments:
Tests: Mark ExitsQueryTests as @AwaitsFix.

time:
2015-06-11T19:21:18Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/RestoreInProgress.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/SnapshotInProgressAllocationDecider.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/state/RestClusterStateAction.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/test/java/org/elasticsearch/action/admin/cluster/snapshots/SnapshotBlocksTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffTests.java
core/src/test/java/org/elasticsearch/snapshots/AbstractSnapshotTests.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
comments:
Snapshot/Restore: Move in-progress snapshot and restore information from custom metadata to custom cluster state part

Information about in-progress snapshot and restore processes is not really metadata and should be represented as a part of the cluster state similar to discovery nodes, routing table, and cluster blocks. Since in-progress snapshot and restore information is no longer part of metadata, this refactoring also enables us to handle cluster blocks in more consistent manner and allow creation of snapshots of a read-only cluster.

Closes #8102

time:
2015-06-11T18:49:42Z
class:
core/src/main/java/org/apache/lucene/index/OneMergeHelper.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/engine/ElasticsearchConcurrentMergeScheduler.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/merge/scheduler/ConcurrentMergeSchedulerProvider.java
core/src/main/java/org/elasticsearch/index/merge/scheduler/MergeSchedulerProvider.java
core/src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/shard/MergeSchedulerConfig.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/indices/settings/UpdateSettingsTests.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
core/src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
comments:
Cleanup MergeScheduler infrastrucutre

This commit cleans up all the MergeScheduler infrastructure
and simplifies / removes all unneeded abstractions. The MergeScheduler
itself is now private to the Engine and all abstractions like Providers
that had support for multiple merge schedulers etc. are removed.

Closes #11602

time:
2015-06-11T18:39:24Z
class:
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
comments:
Use task's class name if not a TimedPrioritizeRunnable

This is helpful to track down the origin of pending_tasks that aren't
expected. In tests we catch this with an assert, but in production
asserts may not be enabled so we should at least add the class name.

time:
2015-06-11T17:32:21Z
class:
core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTest.java
comments:
Reverting previous commit

time:
2015-06-11T16:40:31Z
class:
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
comments:
Removing top-level filter parameter from search API

time:
2015-06-11T16:24:02Z
class:
core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
comments:
Merge pull request #11607 from cbuescher/feature/query-refactoring-rangequery-fix

Fixing edge case in RangeQueryBuilder when using time zone

time:
2015-06-11T16:09:04Z
class:
core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
comments:
Fixing edge case in RangeQueryBuilder when using time zone

When specifying a time zone, RangeQueryBuilder currently throws an
exeption when the field does not use DateFieldMapper, but if there
are no mappers at all for that field it doesn't complain. To be
consistent we also throw expection now.

time:
2015-06-11T13:04:04Z
class:
comments:
Merge pull request #11575 from skearns64/aspire-doc

Add Aspire for Elasticsearch to integrations page

time:
2015-06-11T12:47:08Z
class:
core/src/main/java/org/apache/lucene/queryparser/classic/ExistsFieldQueryExtension.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/ExistsQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/LimitQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/MatchAllQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/SpanTermQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/TermQueryBuilderTest.java
comments:
Merge pull request #11427 from cbuescher/feature/query-refactoring-exists

Query Refactoring: ExistsQueryBuilder and Parser

time:
2015-06-11T12:40:21Z
class:
core/src/main/java/org/apache/lucene/queryparser/classic/ExistsFieldQueryExtension.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/ExistsQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/LimitQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/MatchAllQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/SpanTermQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/TermQueryBuilderTest.java
comments:
Query Refactoring: ExistsQueryBuilder and Parser

Refactors ExistsQueryBuilder and Parser, splitting the parse() method into a parsing
and a query building part. Also moving newFilter() utility method from parser to query builder.

Changes in the BaseQueryTestCase include introduction of randomized version to test disabled
FieldNamesFieldMappers and also getting rid of the need for createEmptyBuilder() method by
using registered prototype constants.

Relates to #10217
Closes #11427

time:
2015-06-11T11:26:34Z
class:
comments:
Docs: Removed left over table header from merge.asciidoc

time:
2015-06-11T11:22:53Z
class:
comments:
update documentation with release 2.6.0

time:
2015-06-11T11:18:18Z
class:
core/src/main/java/org/elasticsearch/common/regex/Regex.java
core/src/test/java/org/elasticsearch/common/regex/RegexTests.java
comments:
UNICODE_CHARACTER_CLASS fix

time:
2015-06-11T11:13:09Z
class:
comments:
Create branch es-1.6

time:
2015-06-11T11:04:23Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/RandomQueryBuilder.java
comments:
Merge pull request #11121 from cbuescher/feature/query-refactoring-boolquery

Query refactoring: BoolQueryBuilder and Parser

time:
2015-06-11T10:49:56Z
class:
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
comments:
[TEST] Prevent merges from being kicked off after two docs

time:
2015-06-11T10:42:30Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/RandomQueryBuilder.java
comments:
Refactors BoolQueryBuilder and Parser. Splits the parse(QueryParseContext ctx) method into a parsing
and a query building part, adding NamedWriteable implementation for serialization and hashCode(),
equals() for testing.

This change also adds tests using fixed set of leaf queries (Terms, Ids, MatchAll) as nested Queries in test query setup.
Also QueryParseContext is adapted to return QueryBuilder instances for inner filter parses instead of
previously returning Query instances, keeping old methods in place but deprecating them.

Relates to #10217
Closes #11427

time:
2015-06-11T09:58:30Z
class:
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/merge/policy/AbstractMergePolicyProvider.java
core/src/main/java/org/elasticsearch/index/merge/policy/LogByteSizeMergePolicyProvider.java
core/src/main/java/org/elasticsearch/index/merge/policy/LogDocMergePolicyProvider.java
core/src/main/java/org/elasticsearch/index/merge/policy/MergePolicyModule.java
core/src/main/java/org/elasticsearch/index/merge/policy/MergePolicyProvider.java
core/src/main/java/org/elasticsearch/index/merge/policy/TieredMergePolicyProvider.java
core/src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
core/src/main/java/org/elasticsearch/index/shard/ElasticsearchMergePolicy.java
core/src/main/java/org/elasticsearch/index/shard/FilterDocValuesProducer.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/MergePolicyConfig.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/shard/VersionFieldUpgrader.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
core/src/test/java/org/elasticsearch/common/lucene/uid/VersionsTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineMergeTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/merge/policy/MergePolicySettingsTest.java
core/src/test/java/org/elasticsearch/index/shard/MergePolicySettingsTest.java
core/src/test/java/org/elasticsearch/index/shard/VersionFieldUpgraderTest.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileTest.java
core/src/test/java/org/elasticsearch/indices/settings/UpdateSettingsTests.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
core/src/test/java/org/elasticsearch/search/child/ParentFieldLoadingBwcTest.java
core/src/test/java/org/elasticsearch/search/child/ParentFieldLoadingTest.java
core/src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
core/src/test/java/org/elasticsearch/test/index/merge/NoMergePolicyProvider.java
core/src/test/java/org/elasticsearch/update/UpdateTests.java
comments:
Bake in TieredMergePolicy

Today we provide the ability to plug in MergePolicy and
we provide the once lucene ships with. We do not recommend to change
the default and even only a small number of expert users would ever touch
this. This commit removes the ancient log byte size and log doc count
merge policy providers, simplifies the MergePolicy wiring and makes the
tiered MP the one and only default. All notions of a merge policy has been
removed from the docs and should be deprecated in the previous version.

Closes #11588

time:
2015-06-11T07:59:54Z
class:
core/src/main/java/org/elasticsearch/common/compress/CompressedXContent.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/merge/scheduler/MergeSchedulerModule.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
core/src/main/java/org/elasticsearch/repositories/Repository.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsTests.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java
core/src/test/java/org/elasticsearch/gateway/GatewayIndexStateTests.java
core/src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesTests.java
core/src/test/java/org/elasticsearch/indices/mapping/ConcurrentDynamicTemplateTests.java
core/src/test/java/org/elasticsearch/indices/mapping/SimpleGetFieldMappingsTests.java
core/src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationTests.java
core/src/test/java/org/elasticsearch/indices/settings/UpdateSettingsTests.java
core/src/test/java/org/elasticsearch/percolator/PercolatorTests.java
core/src/test/java/org/elasticsearch/percolator/RecoveryPercolatorTests.java
core/src/test/java/org/elasticsearch/search/query/ExistsMissingTests.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
core/src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureTwoStartedNodesTest.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-06-11T07:08:10Z
class:
core/src/test/java/org/elasticsearch/test/disruption/NetworkPartition.java
core/src/test/java/org/elasticsearch/test/disruption/NetworkPartitionTests.java
comments:
[TEST] remove node from nodes list if disruption is removed from node

If we don't remove the node from the nodes list then later clearDisruption might fail
in case we shut down the node before.

time:
2015-06-11T06:59:44Z
class:
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureTwoStartedNodesTest.java
comments:
Test: added awaitFix to AzureTwoStartedNodesTest.two_nodes_should_run_using_private_ip

time:
2015-06-10T21:58:57Z
class:
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/test/java/org/elasticsearch/search/query/ExistsMissingTests.java
comments:
Merge pull request #11586 from rjernst/fix/field-names-null

Mappings: Shortcut exists and missing queries when no types/docs exist

time:
2015-06-10T19:46:23Z
class:
comments:
Update bool-query.asciidoc

Emphasise section about using bool query in filter context

time:
2015-06-10T18:28:30Z
class:
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/merge/scheduler/MergeSchedulerModule.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/test/java/org/elasticsearch/indices/settings/UpdateSettingsTests.java
core/src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
comments:
Remove MergeScheduler pluggability

Nobody should really plug in a different merge scheduler for elasticsearch.
This is too expert and might cause catastrophic failures.

time:
2015-06-10T17:06:53Z
class:
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
comments:
Merge pull request #11583 from bleskes/mapper_exception_unwrap

Recovery: Fix MapperException detection during translog ops replay

time:
2015-06-10T16:51:43Z
class:
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/test/java/org/elasticsearch/search/query/ExistsMissingTests.java
comments:
Mappings: Shortcut exists and missing queries when no types/docs exist

There used to be a null check for _field_names mapper not existing. This
was recently removed. However, there is a corner case when the mapper
may be missing: when no types or docs exist at all in the index.

This change adds back a null check and just returns no docs.

time:
2015-06-10T15:13:32Z
class:
core/src/main/java/org/elasticsearch/repositories/Repository.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
comments:
Snapshot/Restore: change metadata file format

time:
2015-06-10T15:12:14Z
class:
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
comments:
Recovery: fix MapperException detection during translog ops replay

The current ExceptionsHelper.unwrapCause(exception) requires the incoming exception to support ElasticsearchWrapperException , which TranslogRecoveryPerformer.BatchOperationException doesn't implement. I opted for a more generic solution

time:
2015-06-10T12:37:59Z
class:
core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsTests.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java
core/src/test/java/org/elasticsearch/gateway/GatewayIndexStateTests.java
core/src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesTests.java
core/src/test/java/org/elasticsearch/indices/mapping/ConcurrentDynamicTemplateTests.java
core/src/test/java/org/elasticsearch/indices/mapping/SimpleGetFieldMappingsTests.java
core/src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationTests.java
core/src/test/java/org/elasticsearch/percolator/PercolatorTests.java
core/src/test/java/org/elasticsearch/percolator/RecoveryPercolatorTests.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
core/src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
comments:
Merge pull request #11576 from bleskes/wait_on_mapping_remove

Test: rename waitForConcreteMappingsOnAll & waitForMappingOnMaster to assertConcreteMappingsOnAll & assertMappingOnMaster

time:
2015-06-10T12:12:11Z
class:
comments:
Add Aspire for Elasticsearch to integrations page

Add Aspire for Elasticsearch to the integrations page, and add two missing colons to other integrations.

time:
2015-06-10T11:38:06Z
class:
core/src/main/java/org/elasticsearch/common/compress/CompressedXContent.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
comments:
Merge pull request #11428 from jpountz/fix/CompressedXConten_fast

Make CompressedXContent.equals fast again.

time:
2015-06-10T11:37:08Z
class:
core/src/main/java/org/elasticsearch/common/compress/CompressedXContent.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
comments:
Internal: Make CompressedXContent.equals fast again.

We had to make CompressedXContent.equals decompress data to fix some
correctness issues which had the downside of making equals() slow. Now we store
a crc32 alongside compressed data which should help avoid decompress data in
most cases.

Close #11247

time:
2015-06-10T11:27:57Z
class:
core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsTests.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java
core/src/test/java/org/elasticsearch/gateway/GatewayIndexStateTests.java
core/src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesTests.java
core/src/test/java/org/elasticsearch/indices/mapping/ConcurrentDynamicTemplateTests.java
core/src/test/java/org/elasticsearch/indices/mapping/SimpleGetFieldMappingsTests.java
core/src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationTests.java
core/src/test/java/org/elasticsearch/percolator/PercolatorTests.java
core/src/test/java/org/elasticsearch/percolator/RecoveryPercolatorTests.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
core/src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
comments:
Test: rename waitForConcreteMappingsOnAll &  waitForMappingOnMaster to assertConcreteMappingsOnAll & assertMappingOnMaster

Now that mapping updates are sync and done before indexing we don't really need the waiting component. Also, removed many places were they were used as safe guard against delayed mapping updates, which are now not needed.

time:
2015-06-10T10:46:31Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/FilterStreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/NamedWriteable.java
core/src/main/java/org/elasticsearch/common/io/stream/NamedWriteableRegistry.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/index/query/FQueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/FQueryFilterParser.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
core/src/main/java/org/elasticsearch/indices/query/IndicesQueriesModule.java
core/src/main/java/org/elasticsearch/indices/query/IndicesQueriesRegistry.java
core/src/main/java/org/elasticsearch/transport/TransportModule.java
core/src/main/java/org/elasticsearch/transport/local/LocalTransport.java
core/src/main/java/org/elasticsearch/transport/netty/MessageChannelHandler.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/benchmark/transport/BenchmarkNettyLargeMessages.java
core/src/test/java/org/elasticsearch/benchmark/transport/TransportBenchmark.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffPublishingTests.java
core/src/test/java/org/elasticsearch/common/io/streams/BytesStreamsTests.java
core/src/test/java/org/elasticsearch/discovery/ZenFaultDetectionTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPingTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPingTests.java
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
core/src/test/java/org/elasticsearch/plugins/PluggableTransportModuleTests.java
core/src/test/java/org/elasticsearch/test/transport/AssertingLocalTransport.java
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTests.java
core/src/test/java/org/elasticsearch/transport/NettySizeHeaderFrameDecoderTests.java
core/src/test/java/org/elasticsearch/transport/local/SimpleLocalTransportTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyScheduledPingTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportTests.java
core/src/test/java/org/elasticsearch/transport/netty/SimpleNettyTransportTests.java
comments:
Transport: allow to de-serialize arbitrary objects given their name

As part of the query refactoring, we want to be able to serialize queries by having them extend Writeable, rather than serializing their json. When reading them though, we need to be able to identify which query we have to create, based on its name.

For this purpose we introduce a new abstraction called NamedWriteable, which is supported by StreamOutput and StreamInput through writeNamedWriteable and readNamedWriteable methods. A new NamedWriteableRegistry is introduced also where named writeable prototypes need to be registered so that we are able to retrieve the proper instance of query given its name and then de-serialize it calling readFrom against it.

Closes #11553

time:
2015-06-10T07:22:09Z
class:
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/common/logging/Loggers.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/river/AbstractRiverComponent.java
core/src/main/java/org/elasticsearch/river/River.java
core/src/main/java/org/elasticsearch/river/RiverComponent.java
core/src/main/java/org/elasticsearch/river/RiverException.java
core/src/main/java/org/elasticsearch/river/RiverIndexName.java
core/src/main/java/org/elasticsearch/river/RiverModule.java
core/src/main/java/org/elasticsearch/river/RiverName.java
core/src/main/java/org/elasticsearch/river/RiverNameModule.java
core/src/main/java/org/elasticsearch/river/RiverSettings.java
core/src/main/java/org/elasticsearch/river/RiversManager.java
core/src/main/java/org/elasticsearch/river/RiversModule.java
core/src/main/java/org/elasticsearch/river/RiversPluginsModule.java
core/src/main/java/org/elasticsearch/river/RiversService.java
core/src/main/java/org/elasticsearch/river/RiversTypesRegistry.java
core/src/main/java/org/elasticsearch/river/cluster/PublishRiverClusterStateAction.java
core/src/main/java/org/elasticsearch/river/cluster/RiverClusterChangedEvent.java
core/src/main/java/org/elasticsearch/river/cluster/RiverClusterService.java
core/src/main/java/org/elasticsearch/river/cluster/RiverClusterState.java
core/src/main/java/org/elasticsearch/river/cluster/RiverClusterStateListener.java
core/src/main/java/org/elasticsearch/river/cluster/RiverClusterStateUpdateTask.java
core/src/main/java/org/elasticsearch/river/cluster/RiverNodeHelper.java
core/src/main/java/org/elasticsearch/river/dummy/DummyRiver.java
core/src/main/java/org/elasticsearch/river/dummy/DummyRiverModule.java
core/src/main/java/org/elasticsearch/river/routing/RiverRouting.java
core/src/main/java/org/elasticsearch/river/routing/RiversRouter.java
core/src/main/java/org/elasticsearch/river/routing/RiversRouting.java
core/src/test/java/org/elasticsearch/river/RiverTests.java
comments:
Rivers removal.

While we had initially planned to keep rivers around in 2.0 to ease migration,
keeping support for rivers is challenging as it conflicts with other important
changes that we want to bring to 2.0 like synchronous dynamic mappings updates.
Nothing impossible to fix, but it would increase the complexity of how we
deal with dynamic mappings updates and manage rivers, while handling dynamic
mappings updates correctly is important for resiliency and rivers are on the go.
So removing rivers in 2.0 may well be a better trade-off.

time:
2015-06-10T07:09:43Z
class:
core/src/main/java/org/apache/lucene/queries/ExtendedCommonTermsQuery.java
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/index/codec/PerFieldMappingPostingFormatCodec.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/BytesBinaryDVIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DisabledIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DocValuesIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/FSTBytesIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointBinaryDVIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointCompressedIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/IndexIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/PackedArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/SingleFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/Murmur3FieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SizeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/QueriesLoaderCollector.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/search/MatchQuery.java
core/src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/IndexedGeoBoundingBoxQuery.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityService.java
core/src/main/java/org/elasticsearch/index/termvectors/ShardTermVectorsService.java
core/src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/percolator/QueryCollector.java
core/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/children/ChildrenParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityParser.java
core/src/main/java/org/elasticsearch/search/aggregations/support/AggregationContext.java
core/src/main/java/org/elasticsearch/search/aggregations/support/FieldContext.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceParser.java
core/src/main/java/org/elasticsearch/search/aggregations/support/format/ValueFormat.java
core/src/main/java/org/elasticsearch/search/aggregations/support/format/ValueFormatter.java
core/src/main/java/org/elasticsearch/search/aggregations/support/format/ValueParser.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/lookup/FieldLookup.java
core/src/main/java/org/elasticsearch/search/lookup/LeafDocLookup.java
core/src/main/java/org/elasticsearch/search/lookup/LeafFieldsLookup.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
core/src/main/java/org/elasticsearch/search/sort/SortParseElement.java
core/src/main/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProvider.java
core/src/main/java/org/elasticsearch/search/suggest/completion/Completion090PostingsFormat.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestParser.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggester.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestionContext.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/IndexFieldDataServiceTests.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/binary/BinaryMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/lucene/DoubleIndexingDocTest.java
core/src/test/java/org/elasticsearch/index/query/BaseTermQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationTests.java
core/src/test/java/org/elasticsearch/search/geo/GeoShapeIntegrationTests.java
core/src/test/java/org/elasticsearch/search/morelikethis/MoreLikeThisTests.java
core/src/test/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProviderV1.java
core/src/test/java/org/elasticsearch/search/suggest/completion/CompletionPostingsFormatTest.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
plugins/lang-javascript/src/main/java/org/elasticsearch/plugin/javascript/JavaScriptPlugin.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/support/NativeList.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/support/NativeMap.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/support/ScriptValueConverter.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/support/ScriptableLinkedHashMap.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/support/ScriptableMap.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/support/ScriptableWrappedMap.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineTests.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptMultiThreadedTest.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptSearchTests.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/SimpleBench.java
plugins/lang-python/src/main/java/org/elasticsearch/plugin/python/PythonPlugin.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptEngineTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptMultiThreadedTest.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptSearchTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/SimpleBench.java
comments:
Merge branch 'master' into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/TermQueryParser.java

time:
2015-06-09T21:12:08Z
class:
core/src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/binary/BinaryMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/lucene/DoubleIndexingDocTest.java
comments:
Merge pull request #11565 from rjernst/remove/field-mapper-wrappers

Mappings: Remove leftover sugar methods from FieldMapper

time:
2015-06-09T21:02:06Z
class:
core/src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/binary/BinaryMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/lucene/DoubleIndexingDocTest.java
comments:
Mappings: Remove leftover sugar methods from FieldMapper

These methods are now all in MappedFieldType. This removes the remaining
callers of the methods on FieldMapper, and cuts down the FieldMapper
API to no longer include them.

time:
2015-06-09T19:29:02Z
class:
comments:
[API] correct link for flush_synced docs

time:
2015-06-09T18:43:01Z
class:
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
comments:
[TEST] Remove deprecated API

time:
2015-06-09T18:42:06Z
class:
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapperTests.java
comments:
fix field names to be disabled again pre 1.3

time:
2015-06-09T18:16:47Z
class:
core/src/test/java/org/elasticsearch/search/morelikethis/MoreLikeThisTests.java
comments:
[TEST] Add simple test for selecting fiels to be included in mlt query

time:
2015-06-09T18:04:33Z
class:
core/src/main/java/org/apache/lucene/queries/ExtendedCommonTermsQuery.java
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/index/codec/PerFieldMappingPostingFormatCodec.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/BytesBinaryDVIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DisabledIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DocValuesIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/FSTBytesIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointBinaryDVIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointCompressedIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/IndexIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/PackedArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/SingleFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/Murmur3FieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/QueriesLoaderCollector.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/search/MatchQuery.java
core/src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/IndexedGeoBoundingBoxQuery.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityService.java
core/src/main/java/org/elasticsearch/index/termvectors/ShardTermVectorsService.java
core/src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/percolator/QueryCollector.java
core/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/children/ChildrenParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityParser.java
core/src/main/java/org/elasticsearch/search/aggregations/support/AggregationContext.java
core/src/main/java/org/elasticsearch/search/aggregations/support/FieldContext.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceParser.java
core/src/main/java/org/elasticsearch/search/aggregations/support/format/ValueFormat.java
core/src/main/java/org/elasticsearch/search/aggregations/support/format/ValueFormatter.java
core/src/main/java/org/elasticsearch/search/aggregations/support/format/ValueParser.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/lookup/FieldLookup.java
core/src/main/java/org/elasticsearch/search/lookup/LeafDocLookup.java
core/src/main/java/org/elasticsearch/search/lookup/LeafFieldsLookup.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
core/src/main/java/org/elasticsearch/search/sort/SortParseElement.java
core/src/main/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProvider.java
core/src/main/java/org/elasticsearch/search/suggest/completion/Completion090PostingsFormat.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestParser.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggester.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestionContext.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/IndexFieldDataServiceTests.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
core/src/test/java/org/elasticsearch/search/geo/GeoShapeIntegrationTests.java
core/src/test/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProviderV1.java
core/src/test/java/org/elasticsearch/search/suggest/completion/CompletionPostingsFormatTest.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
comments:
Merge pull request #11559 from rjernst/pr/field-type-users

Mappings: Make index level mapping apis use MappedFieldType

time:
2015-06-09T17:04:28Z
class:
core/src/main/java/org/apache/lucene/queries/ExtendedCommonTermsQuery.java
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/index/codec/PerFieldMappingPostingFormatCodec.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/BytesBinaryDVIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DisabledIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DocValuesIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/FSTBytesIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointBinaryDVIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointCompressedIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/IndexIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/PackedArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/SingleFieldsVisitor.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/Murmur3FieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/QueriesLoaderCollector.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/search/MatchQuery.java
core/src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/index/search/geo/IndexedGeoBoundingBoxQuery.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityService.java
core/src/main/java/org/elasticsearch/index/termvectors/ShardTermVectorsService.java
core/src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/percolator/QueryCollector.java
core/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/children/ChildrenParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityParser.java
core/src/main/java/org/elasticsearch/search/aggregations/support/AggregationContext.java
core/src/main/java/org/elasticsearch/search/aggregations/support/FieldContext.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceParser.java
core/src/main/java/org/elasticsearch/search/aggregations/support/format/ValueFormat.java
core/src/main/java/org/elasticsearch/search/aggregations/support/format/ValueFormatter.java
core/src/main/java/org/elasticsearch/search/aggregations/support/format/ValueParser.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/lookup/FieldLookup.java
core/src/main/java/org/elasticsearch/search/lookup/LeafDocLookup.java
core/src/main/java/org/elasticsearch/search/lookup/LeafFieldsLookup.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
core/src/main/java/org/elasticsearch/search/sort/SortParseElement.java
core/src/main/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProvider.java
core/src/main/java/org/elasticsearch/search/suggest/completion/Completion090PostingsFormat.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestParser.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggester.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestionContext.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/IndexFieldDataServiceTests.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
core/src/test/java/org/elasticsearch/search/geo/GeoShapeIntegrationTests.java
core/src/test/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProviderV1.java
core/src/test/java/org/elasticsearch/search/suggest/completion/CompletionPostingsFormatTest.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
comments:
Mappings: Make index level mapping apis use MappedFieldType

The MapperService is the "index wide view" of mappings. Methods on it
are used at query time to lookup how to query a field. This
change reduces the exposed api so that any information returned
is limited to that api exposed by MappedFieldType. In the future,
MappedFieldType will be guaranteed to be the same across all
document types for a given field.

Note CompletionFieldType needed some more settings moved to it. Other
than that, this change is almost purely cosmetic.
the null check here was removed, I think this could cause problems, think of an empty index for instance, I am afraid it would not have a mapper for fieldNamesFieldType then we throw NPE here? WDYT @rjernst ?

I think if _field_names is missing, we should just return MatchNoDocsQuery()? I agree the only case it can happen in is when there are no types (and therefore there can be no docs) so there is no reason to iterate over the fields. @javanna /cc @jpountz 

that sounds good to me @rjernst . What happens with older indices that don't have _field_names again? is it null or just disabled?

@javanna It is just disabled. I will create a PR with this change soon.

thanks a lot!


time:
2015-06-09T16:46:56Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/Murmur3FieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SizeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
comments:
Merge pull request #11544 from rjernst/refactor/null-value

Mapping: Move null value handling into MappedFieldType

time:
2015-06-09T16:46:19Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/common/component/AbstractComponent.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/watcher/ResourceWatcherService.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationTests.java
core/src/test/java/org/elasticsearch/watcher/ResourceWatcherServiceTests.java
plugins/lang-javascript/src/main/java/org/elasticsearch/plugin/javascript/JavaScriptPlugin.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/support/NativeList.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/support/NativeMap.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/support/ScriptValueConverter.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/support/ScriptableLinkedHashMap.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/support/ScriptableMap.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/support/ScriptableWrappedMap.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineTests.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptMultiThreadedTest.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptSearchTests.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/SimpleBench.java
plugins/lang-python/src/main/java/org/elasticsearch/plugin/python/PythonPlugin.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptEngineTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptMultiThreadedTest.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptSearchTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/SimpleBench.java
comments:
Merge branch 'master' into refactor/null-value

time:
2015-06-09T16:46:05Z
class:
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
comments:
add javadocs to null value functions

time:
2015-06-09T14:35:49Z
class:
comments:
More information about 'Copy field to'

time:
2015-06-09T14:30:02Z
class:
core/src/main/java/org/elasticsearch/Version.java
comments:
Versioning: Adding 1.6.1 development version & 1.6.0 bwc index

time:
2015-06-09T13:57:33Z
class:
core/src/main/java/org/elasticsearch/index/query/LimitQueryBuilder.java
comments:
Fix using java 8 method in LimitQueryBuilder

time:
2015-06-09T13:20:33Z
class:
core/src/main/java/org/elasticsearch/index/query/LimitQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/LimitQueryParser.java
core/src/test/java/org/elasticsearch/index/query/LimitQueryBuilderTest.java
comments:
Merge pull request #11551 from cbuescher/feature/query-refactoring-limit

Query refactoring: refactored LimitQueryBuilder and Parser and added test

time:
2015-06-09T13:17:27Z
class:
comments:
add lang-javascript module

time:
2015-06-09T13:17:27Z
class:
plugins/lang-javascript/src/main/java/org/elasticsearch/plugin/javascript/JavaScriptPlugin.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/support/NativeList.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/support/NativeMap.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/support/ScriptValueConverter.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/support/ScriptableLinkedHashMap.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/support/ScriptableMap.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/support/ScriptableWrappedMap.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineTests.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptMultiThreadedTest.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptSearchTests.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/SimpleBench.java
comments:
migrate branch for lang-javascript

time:
2015-06-09T13:17:25Z
class:
plugins/lang-javascript/src/main/java/org/elasticsearch/plugin/javascript/JavaScriptPlugin.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/support/NativeList.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/support/NativeMap.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/support/ScriptValueConverter.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/support/ScriptableLinkedHashMap.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/support/ScriptableMap.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/support/ScriptableWrappedMap.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineTests.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptMultiThreadedTest.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptSearchTests.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/SimpleBench.java
comments:
add lang-javascript module

time:
2015-06-09T13:17:23Z
class:
comments:
add lang-python module

time:
2015-06-09T13:17:23Z
class:
plugins/lang-python/src/main/java/org/elasticsearch/plugin/python/PythonPlugin.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptEngineTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptMultiThreadedTest.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptSearchTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/SimpleBench.java
comments:
migrate branch for lang-python

time:
2015-06-09T13:17:22Z
class:
plugins/lang-python/src/main/java/org/elasticsearch/plugin/python/PythonPlugin.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptEngineTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptMultiThreadedTest.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptSearchTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/SimpleBench.java
comments:
add lang-python module

time:
2015-06-09T13:16:42Z
class:
comments:
Modify script to only migrate plugins

time:
2015-06-09T12:48:13Z
class:
core/src/main/java/org/elasticsearch/index/query/LimitQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/LimitQueryParser.java
core/src/test/java/org/elasticsearch/index/query/LimitQueryBuilderTest.java
comments:
Query refactoring: refactored LimitQueryBuilder and Parser and added test

Split the parse method into a parsing and a query building part, adding serialization
and hashCode(), equals() for better testing. Add basic unit test for Builder and Parser.

Closes #11551

time:
2015-06-09T12:28:46Z
class:
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationTests.java
comments:
[TEST] stop disruption before we check for deleted shards

The shard can potentially not be deleted if the obsever that checks for the shard
STARTED is not registered because the registering is delayed by the disruption.
If the sum of delays is more than 10s then the wait for shard deletion will time out.

time:
2015-06-09T08:48:32Z
class:
core/src/main/java/org/elasticsearch/common/component/AbstractComponent.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryState.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestAllocationAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestFielddataAction.java
core/src/main/java/org/elasticsearch/watcher/ResourceWatcherService.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/indices/recovery/RecoveryStateTest.java
core/src/test/java/org/elasticsearch/watcher/ResourceWatcherServiceTests.java
comments:
Merge branch 'master' into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java

time:
2015-06-09T08:02:49Z
class:
core/src/main/java/org/elasticsearch/common/component/AbstractComponent.java
core/src/main/java/org/elasticsearch/watcher/ResourceWatcherService.java
core/src/test/java/org/elasticsearch/watcher/ResourceWatcherServiceTests.java
comments:
ResourceWatcher: Rename settings to prevent watcher clash

The ResourceWatcher used settings prefixed `watcher.`, which
potentially could clash with the watcher plugin.

In order to prevent confusion, the settings have been renamed to
`resource.reload` prefixes.

This also uses the deprecation logging infrastructure introduced
in #11033 to log deprecated settings and their alternative at
startup.

Closes #11175

time:
2015-06-09T07:31:19Z
class:
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
comments:
IdsQueryBuilder: Allow to add a list in addition to array

In case a developer gets a list of ids from another data source,
it does not make a lot of sense, to convert it to an array first,
and then internally in IdsQueryBuilder elasticsearch creates a
list out of this.

Closes #5089

time:
2015-06-09T07:25:23Z
class:
comments:
Doc: Typo 'good' vs 'well' typo

Closes #11549

time:
2015-06-08T22:48:51Z
class:
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
comments:
Merge pull request #11546 from mikemccand/segment_infos_trace

Add node setting to send SegmentInfos debug output to System.out

time:
2015-06-08T22:40:58Z
class:
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
comments:
add node setting to send SegmentInfos debug output to System.out

time:
2015-06-08T22:08:24Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/Murmur3FieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/SizeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
comments:
Mapping: Move null value handling into MappedFieldType

In order for exists queries to use the null value for
a field, null value needs to be part of the field type (should
differ between document types). This change moves null value
into the field type, as well as simplifies the null value
methods available to remove supportsNullValue().

time:
2015-06-08T16:17:50Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryState.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/indices/recovery/RecoveryStateTest.java
comments:
Merge pull request #11536 from bleskes/recovery_translog_op_count_on_mapping_retry

Fix recovered translog ops stat counting when retrying a batch

time:
2015-06-08T16:07:52Z
class:
comments:
Fix a typo in the documentation: six_hun -> "narrower"

This was introduced in https://github.com/elastic/elasticsearch.github.com/commit/defaf4f0, probably
as a search-and-replace mistake.

time:
2015-06-08T15:04:07Z
class:
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
comments:
Adapting DummyQueryParser to interfaces on featuer branch

time:
2015-06-08T14:45:59Z
class:
comments:
Update merge.asciidoc

Corrected typo in merge docs

time:
2015-06-08T14:05:42Z
class:
core/src/main/java/org/elasticsearch/rest/action/cat/RestAllocationAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestFielddataAction.java
comments:
Filtered out non data-nodes in relevant cat api

Closes #9214
Closes #9287

time:
2015-06-08T13:54:44Z
class:
comments:
Adds eclipse settings files to set correct encoding and complier preferences

This is done in the maven-eclipse-plugin so now all eclipse files are generated by mV eclipse:eclipse and can safely be ignored

time:
2015-06-08T13:52:15Z
class:
comments:
Merge pull request #11534 from rmuir/lucene_5_2

use released lucene 5.2 jar

time:
2015-06-08T13:51:22Z
class:
core/src/test/java/org/elasticsearch/index/query/plugin/CustomQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-06-08T13:50:43Z
class:
core/src/test/java/org/elasticsearch/index/query/plugin/CustomQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
comments:
[TEST] moved custom query parser tests to proper location

time:
2015-06-08T13:32:06Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryState.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/indices/recovery/RecoveryStateTest.java
comments:
Recovery: fix recovered translog ops stat counting when retrying a batch

#11363 introduced a retry logic for the case where we have to wait on a mapping update during the translog replay phase of recovery. The retry throws or recovery stats off as it may count ops twice.

time:
2015-06-08T13:14:13Z
class:
core/src/main/java/org/elasticsearch/common/property/PropertyPlaceholder.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserModule.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/QueryParserFactory.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/query/IndicesQueriesModule.java
core/src/main/java/org/elasticsearch/indices/query/IndicesQueriesRegistry.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/test/java/org/elasticsearch/common/property/PropertyPlaceholderTest.java
core/src/test/java/org/elasticsearch/common/settings/SettingsTests.java
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTest.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryTest.java
core/src/test/java/org/elasticsearch/index/query/guice/IndexQueryParserModuleTests.java
core/src/test/java/org/elasticsearch/index/query/guice/MyJsonQueryParser.java
core/src/test/java/org/elasticsearch/index/query/plugin/IndexQueryParserPlugin2Tests.java
core/src/test/java/org/elasticsearch/index/query/plugin/IndexQueryParserPluginTests.java
core/src/test/java/org/elasticsearch/index/query/plugin/PluginJsonQueryParser.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureTwoStartedNodesTest.java
src/test/java/org/elasticsearch/index/query/plugin/CustomQueryParserTests.java
src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
comments:
Merge branch 'master' into feature/query-refactoring

Conflicts:
	core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
	core/src/test/java/org/elasticsearch/index/query/guice/MyJsonQueryParser.java
	core/src/test/java/org/elasticsearch/index/query/plugin/PluginJsonQueryParser.java

time:
2015-06-08T10:51:46Z
class:
comments:
use released lucene 5.2 jar

time:
2015-06-08T10:45:48Z
class:
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureTwoStartedNodesTest.java
comments:
AwaitFix to two_nodes_should_run_using_public_ip

https://github.com/elastic/elasticsearch/issues/11533

time:
2015-06-08T10:19:53Z
class:
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserModule.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/QueryParserFactory.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/query/IndicesQueriesModule.java
core/src/main/java/org/elasticsearch/indices/query/IndicesQueriesRegistry.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTest.java
core/src/test/java/org/elasticsearch/index/query/guice/IndexQueryParserModuleTests.java
core/src/test/java/org/elasticsearch/index/query/guice/MyJsonQueryParser.java
core/src/test/java/org/elasticsearch/index/query/plugin/IndexQueryParserPlugin2Tests.java
core/src/test/java/org/elasticsearch/index/query/plugin/IndexQueryParserPluginTests.java
core/src/test/java/org/elasticsearch/index/query/plugin/PluginJsonQueryParser.java
src/test/java/org/elasticsearch/index/query/plugin/CustomQueryParserTests.java
src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
comments:
Plugins: one single (global) way to register custom query parsers

There are different ways to register custom query parsers through plugins, a couple of them work per index via index settings, which is probably even too flexible. There also three different ways to add a global custom query parser through either IndicesQueriesModule or IndicesQueriesRegistry. This commit consolidates the registration of custom query parsers via IndicesQueriesModule#addQuery(Class<? extends QueryParser>). The complexity of supporting parsers per index is not needed hence it got removed. Also the other ways of registering global custom parsers are dropped in favour of the one mentioned above.

Closes #11481

time:
2015-06-08T10:04:39Z
class:
src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineTests.java
comments:
[TEST] Don't use shaded API

time:
2015-06-08T10:01:43Z
class:
src/test/java/org/elasticsearch/script/python/PythonScriptEngineTests.java
comments:
[TEST] Don't use shaded API

time:
2015-06-08T09:46:06Z
class:
src/main/java/org/elasticsearch/index/mapper/attachment/AttachmentMapper.java
src/main/java/org/elasticsearch/plugin/mapper/attachments/MapperAttachmentsPlugin.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/standalone/StandaloneRunner.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/EncryptedDocMapperTest.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/LanguageDetectionAttachmentMapperTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/MetadataMapperTest.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/SimpleAttachmentMapperTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/VariousDocTest.java
comments:
Fix compile errors after elasticsearch-core master refactorings and multi-module builds

time:
2015-06-08T09:44:58Z
class:
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTest.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryTest.java
comments:
Scripting: Execute Scripting Engine before searching for inner templates in template query

The search template and template query did not run the template through the script engine before searching for an inner template. This meant that parsing for the inner template failed because the template was not always valid JSON (if it contained mustache code) when it was parsed to find the inner template. This has been fixed and Tests added to check for the failing behaviour.

Tests are from https://github.com/elastic/elasticsearch/pull/8393

time:
2015-06-08T07:00:49Z
class:
core/src/main/java/org/elasticsearch/index/query/BaseQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BaseQueryParserTemp.java
core/src/main/java/org/elasticsearch/index/query/BaseTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryValidationException.java
core/src/main/java/org/elasticsearch/index/query/QueryWrappingQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/BaseTermQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/MatchAllQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/SpanTermQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/TermQueryBuilderTest.java
comments:
Moving parser tests and base classes to correct location

time:
2015-06-06T19:10:25Z
class:
comments:
test: reduce replicas for indices synced flush test

We have to make sure all shards are started to know the synced flush will hit them all. Shards that are still initializing during the sync flush may be missed and confuse the stats call

time:
2015-06-06T14:41:07Z
class:
core/src/main/java/org/elasticsearch/common/property/PropertyPlaceholder.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/test/java/org/elasticsearch/common/property/PropertyPlaceholderTest.java
core/src/test/java/org/elasticsearch/common/settings/SettingsTests.java
comments:
make prompt placeholders consistent with existing placeholders

In #10918, we introduced the prompt placeholders. These were had a different format
than our existing placeholders. This changes the prompt placeholders to follow the
format of the existing placeholders.

Relates to #11455

time:
2015-06-06T12:38:04Z
class:
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesTests.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-06-05T19:52:09Z
class:
comments:
[BUILD] Don't shade core artifacts

This commit adds an additioal jar that is shaded and keeps all the
artifacts that are used by default on the server-side unshaded. Users
that need a shaded jar can now use the `shaded` classifyer to pull
the shaded minimized jar in instead. Including the shaded jar in a
downstream project looks like this:

```XML
<dependency>
  <groupId>org.elasticsearch</groupId>
  <artifactId>elasticsearch</artifactId>
  <classifier>shaded</classifier>
</dependency>
```

time:
2015-06-05T19:21:09Z
class:
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesTests.java
comments:
GatewayAllocator: reset rerouting flag after error

After asynchronously fetching shard information the gateway allocator issues a reroute via  a cluster state update task. #11421 introduced an optimization trying to avoid submitting unneeded reroutes when results for many shards come in together. This is done by having a rerouting flag, indicating a pending reroute is coming and thus any new incoming shard info doesn't need to issue a reroute. This flag wasn't reset upon an error in the reroute update task. Most notably - if a master node had to step during to a min_master_node violation, it could reject an ongoing reroute. Lacking to reset the flag causing it to skip any future reroute, when the node became master again.

Closes #11519

time:
2015-06-05T18:54:21Z
class:
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/store/Store.java
comments:
Snapshot/Restore: blob store shouldn't try deleting the write.lock file at the end of the restore process

Since we are creating write.lock earlier now, blob store shouldn't attempt deleting this file during clean up at the end of the restore process. The file is locked and the blog store doesn't succeed, but it generates a lot of useless warnings "failed to delete file [write.lock] during snapshot cleanup".

Closes #11517

time:
2015-06-05T17:17:21Z
class:
comments:
[maven] update maven-assembly-plugin to 2.5.5

```xml
<plugin>
 <groupId>org.apache.maven.plugins</groupId>
 <artifactId>maven-assembly-plugin</artifactId>
 <version>2.5.5</version>
</plugin>
```

## Release Notes - Maven Assembly Plugin - Version 2.5.5

* Bug
   - [MASSEMBLY-767] - Schema missing from the web site
   - [MASSEMBLY-768] - JarInputStream unable to find  manifest
created by version 2.5.4
   - [MASSEMBLY-769] - ZIP fileMode permissions not properly set with
dependencySet and unpackOptions

time:
2015-06-05T15:53:41Z
class:
comments:
Merge pull request #11471 from clintongormley/upgrade_api_docs

Docs: Added explanation of when to use the upgrade API

time:
2015-06-05T15:50:10Z
class:
comments:
Docs: Added explanation of when to use the upgrade API

Closes #9779

time:
2015-06-05T14:26:23Z
class:
core/src/main/java/org/elasticsearch/index/query/query/BaseQueryParser.java
core/src/main/java/org/elasticsearch/index/query/query/BaseQueryParserTemp.java
core/src/main/java/org/elasticsearch/index/query/query/BaseTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/query/QueryValidationException.java
core/src/main/java/org/elasticsearch/index/query/query/QueryWrappingQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/query/BaseQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/query/BaseTermQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/query/IdsQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/query/MatchAllQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/query/RangeQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/query/SpanTermQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/query/TermQueryBuilderTest.java
comments:
moving files not existing on master to core after introduction of multi module

time:
2015-06-05T14:21:21Z
class:
core/src/main/java/jsr166e/DoubleAdder.java
core/src/main/java/jsr166e/DoubleMaxUpdater.java
core/src/main/java/jsr166e/LongAdder.java
core/src/main/java/jsr166e/LongMaxUpdater.java
core/src/main/java/jsr166e/Striped64.java
core/src/main/java/org/apache/lucene/analysis/PrefixAnalyzer.java
core/src/main/java/org/apache/lucene/analysis/miscellaneous/UniqueTokenFilter.java
core/src/main/java/org/apache/lucene/index/TrackingConcurrentMergeScheduler.java
core/src/main/java/org/apache/lucene/index/memory/ExtendedMemoryIndex.java
core/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java
core/src/main/java/org/apache/lucene/queries/ExtendedCommonTermsQuery.java
core/src/main/java/org/apache/lucene/queryparser/classic/ExistsFieldQueryExtension.java
core/src/main/java/org/apache/lucene/queryparser/classic/FieldQueryExtension.java
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/apache/lucene/queryparser/classic/MissingFieldQueryExtension.java
core/src/main/java/org/apache/lucene/queryparser/classic/QueryParserSettings.java
core/src/main/java/org/apache/lucene/search/XFilteredDocIdSetIterator.java
core/src/main/java/org/apache/lucene/search/postingshighlight/CustomPassageFormatter.java
core/src/main/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighter.java
core/src/main/java/org/apache/lucene/search/postingshighlight/CustomSeparatorBreakIterator.java
core/src/main/java/org/apache/lucene/search/postingshighlight/Snippet.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XFuzzySuggester.java
core/src/main/java/org/apache/lucene/search/vectorhighlight/CustomFieldQuery.java
core/src/main/java/org/apache/lucene/store/RateLimitedFSDirectory.java
core/src/main/java/org/apache/lucene/store/StoreRateLimiting.java
core/src/main/java/org/apache/lucene/store/StoreUtils.java
core/src/main/java/org/elasticsearch/Build.java
core/src/main/java/org/elasticsearch/ElasticsearchCorruptionException.java
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/ElasticsearchGenerationException.java
core/src/main/java/org/elasticsearch/ElasticsearchNullPointerException.java
core/src/main/java/org/elasticsearch/ElasticsearchParseException.java
core/src/main/java/org/elasticsearch/ElasticsearchTimeoutException.java
core/src/main/java/org/elasticsearch/ElasticsearchWrapperException.java
core/src/main/java/org/elasticsearch/ExceptionsHelper.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/Action.java
core/src/main/java/org/elasticsearch/action/ActionFuture.java
core/src/main/java/org/elasticsearch/action/ActionListener.java
core/src/main/java/org/elasticsearch/action/ActionListenerResponseHandler.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/ActionRequest.java
core/src/main/java/org/elasticsearch/action/ActionRequestBuilder.java
core/src/main/java/org/elasticsearch/action/ActionRequestValidationException.java
core/src/main/java/org/elasticsearch/action/ActionResponse.java
core/src/main/java/org/elasticsearch/action/ActionRunnable.java
core/src/main/java/org/elasticsearch/action/ActionWriteResponse.java
core/src/main/java/org/elasticsearch/action/AliasesRequest.java
core/src/main/java/org/elasticsearch/action/CompositeIndicesRequest.java
core/src/main/java/org/elasticsearch/action/DocumentRequest.java
core/src/main/java/org/elasticsearch/action/FailedNodeException.java
core/src/main/java/org/elasticsearch/action/GenericAction.java
core/src/main/java/org/elasticsearch/action/IndicesRequest.java
core/src/main/java/org/elasticsearch/action/LatchedActionListener.java
core/src/main/java/org/elasticsearch/action/ListenableActionFuture.java
core/src/main/java/org/elasticsearch/action/NoShardAvailableActionException.java
core/src/main/java/org/elasticsearch/action/NoSuchNodeException.java
core/src/main/java/org/elasticsearch/action/OriginalIndices.java
core/src/main/java/org/elasticsearch/action/PrimaryMissingActionException.java
core/src/main/java/org/elasticsearch/action/RoutingMissingException.java
core/src/main/java/org/elasticsearch/action/ShardOperationFailedException.java
core/src/main/java/org/elasticsearch/action/ThreadingModel.java
core/src/main/java/org/elasticsearch/action/TimestampParsingException.java
core/src/main/java/org/elasticsearch/action/TransportActionNodeProxy.java
core/src/main/java/org/elasticsearch/action/UnavailableShardsException.java
core/src/main/java/org/elasticsearch/action/ValidateActions.java
core/src/main/java/org/elasticsearch/action/WriteConsistencyLevel.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterShardHealth.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodeHotThreads.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/PluginInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/PluginsInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/LivenessRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/LivenessResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/TransportLivenessAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/DeleteRepositoryAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/DeleteRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/DeleteRepositoryRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/DeleteRepositoryResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/TransportDeleteRepositoryAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/TransportGetRepositoriesAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/TransportPutRepositoryAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/TransportVerifyRepositoryAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/ClusterUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/ClusterUpdateSettingsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/ClusterUpdateSettingsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/ClusterUpdateSettingsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsGroup.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/DeleteSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/DeleteSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/DeleteSnapshotRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/DeleteSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/TransportRestoreSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexShardStage.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexShardStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotShardsStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodeResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/tasks/PendingClusterTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/tasks/PendingClusterTasksRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/tasks/PendingClusterTasksRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/tasks/PendingClusterTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/tasks/TransportPendingClusterTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/Alias.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/TransportIndicesAliasesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/exists/AliasesExistAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/exists/AliasesExistRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/exists/AliasesExistResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/exists/TransportAliasesExistAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/get/BaseAliasesRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/close/CloseIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/close/CloseIndexClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/close/CloseIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/close/CloseIndexRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/close/CloseIndexResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/TransportCreateIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/package-info.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/package-info.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/indices/TransportIndicesExistsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/types/TypesExistsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/types/TypesExistsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/types/TypesExistsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/types/TypesExistsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/FlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/FlushRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/FlushRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/FlushResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/ShardFlushRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/ShardFlushResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/package-info.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/TransportGetIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetMappingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetMappingsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetMappingsRequestBuilder.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-06-05T12:58:55Z
class:
comments:
[DOCS] Updated memory settings for Windows

time:
2015-06-05T12:47:07Z
class:
comments:
Seriously make forbidden apis not picky until builds are stable

time:
2015-06-05T12:05:59Z
class:
comments:
Build: Make the Eclipse build use cross-project dependencies.

time:
2015-06-05T11:44:24Z
class:
comments:
Make forbidden apis lenient (temporary!) until builds are stable

time:
2015-06-05T11:13:44Z
class:
comments:
[BUILD] Run unshaded by default

time:
2015-06-05T11:12:38Z
class:
comments:
add cloud-aws module

time:
2015-06-05T11:12:38Z
class:
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/AwsEc2Service.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/AwsModule.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/AwsS3Service.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/AwsSigner.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/InternalAwsS3Service.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/blobstore/DefaultS3OutputStream.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/blobstore/S3BlobContainer.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/blobstore/S3BlobStore.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/blobstore/S3OutputStream.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/network/Ec2NameResolver.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/node/Ec2CustomNodeAttributes.java
plugins/cloud-aws/src/main/java/org/elasticsearch/discovery/ec2/AwsEc2UnicastHostsProvider.java
plugins/cloud-aws/src/main/java/org/elasticsearch/discovery/ec2/Ec2Discovery.java
plugins/cloud-aws/src/main/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryModule.java
plugins/cloud-aws/src/main/java/org/elasticsearch/plugin/cloud/aws/CloudAwsPlugin.java
plugins/cloud-aws/src/main/java/org/elasticsearch/repositories/s3/S3Repository.java
plugins/cloud-aws/src/main/java/org/elasticsearch/repositories/s3/S3RepositoryModule.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/AWSSignersTest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/AmazonS3Wrapper.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/TestAmazonS3.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/TestAwsS3Service.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/blobstore/MockDefaultS3OutputStream.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/blobstore/S3OutputStreamTest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryITest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryUpdateSettingsITest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/repositories/s3/AbstractS3SnapshotRestoreTest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/repositories/s3/S3ProxiedSnapshotRestoreOverHttpsTest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/repositories/s3/S3SnapshotRestoreOverHttpTest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/repositories/s3/S3SnapshotRestoreOverHttpsTest.java
comments:
migrate branch for cloud-aws

time:
2015-06-05T11:12:36Z
class:
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/AwsEc2Service.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/AwsModule.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/AwsS3Service.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/AwsSigner.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/InternalAwsS3Service.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/blobstore/DefaultS3OutputStream.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/blobstore/S3BlobContainer.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/blobstore/S3BlobStore.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/blobstore/S3OutputStream.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/network/Ec2NameResolver.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/node/Ec2CustomNodeAttributes.java
plugins/cloud-aws/src/main/java/org/elasticsearch/discovery/ec2/AwsEc2UnicastHostsProvider.java
plugins/cloud-aws/src/main/java/org/elasticsearch/discovery/ec2/Ec2Discovery.java
plugins/cloud-aws/src/main/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryModule.java
plugins/cloud-aws/src/main/java/org/elasticsearch/plugin/cloud/aws/CloudAwsPlugin.java
plugins/cloud-aws/src/main/java/org/elasticsearch/repositories/s3/S3Repository.java
plugins/cloud-aws/src/main/java/org/elasticsearch/repositories/s3/S3RepositoryModule.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/AWSSignersTest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/AmazonS3Wrapper.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/TestAmazonS3.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/TestAwsS3Service.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/blobstore/MockDefaultS3OutputStream.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/blobstore/S3OutputStreamTest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryITest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryUpdateSettingsITest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/repositories/s3/AbstractS3SnapshotRestoreTest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/repositories/s3/S3ProxiedSnapshotRestoreOverHttpsTest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/repositories/s3/S3SnapshotRestoreOverHttpTest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/repositories/s3/S3SnapshotRestoreOverHttpsTest.java
comments:
add cloud-aws module

time:
2015-06-05T11:12:34Z
class:
comments:
add cloud-azure module

time:
2015-06-05T11:12:34Z
class:
plugins/cloud-azure/src/main/java/org/apache/lucene/store/SmbDirectoryWrapper.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/AzureModule.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/AzureServiceDisableException.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/AzureServiceRemoteException.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/blobstore/AzureBlobContainer.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/blobstore/AzureBlobStore.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/blobstore/AzureOutputStream.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/management/AzureComputeService.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/management/AzureComputeServiceImpl.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/management/AzureComputeSettingsFilter.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageService.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageServiceImpl.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageSettingsFilter.java
plugins/cloud-azure/src/main/java/org/elasticsearch/discovery/azure/AzureDiscovery.java
plugins/cloud-azure/src/main/java/org/elasticsearch/discovery/azure/AzureDiscoveryModule.java
plugins/cloud-azure/src/main/java/org/elasticsearch/discovery/azure/AzureUnicastHostsProvider.java
plugins/cloud-azure/src/main/java/org/elasticsearch/index/store/smbmmapfs/SmbMmapFsDirectoryService.java
plugins/cloud-azure/src/main/java/org/elasticsearch/index/store/smbmmapfs/SmbMmapFsIndexStore.java
plugins/cloud-azure/src/main/java/org/elasticsearch/index/store/smbmmapfs/SmbMmapFsIndexStoreModule.java
plugins/cloud-azure/src/main/java/org/elasticsearch/index/store/smbsimplefs/SmbSimpleFsDirectoryService.java
plugins/cloud-azure/src/main/java/org/elasticsearch/index/store/smbsimplefs/SmbSimpleFsIndexStore.java
plugins/cloud-azure/src/main/java/org/elasticsearch/index/store/smbsimplefs/SmbSimpleFsIndexStoreModule.java
plugins/cloud-azure/src/main/java/org/elasticsearch/plugin/cloud/azure/CloudAzurePlugin.java
plugins/cloud-azure/src/main/java/org/elasticsearch/repositories/azure/AzureRepository.java
plugins/cloud-azure/src/main/java/org/elasticsearch/repositories/azure/AzureRepositoryModule.java
plugins/cloud-azure/src/test/java/org/apache/lucene/store/ElasticSearchBaseDirectoryTestCase.java
plugins/cloud-azure/src/test/java/org/apache/lucene/store/SmbMMapDirectoryTest.java
plugins/cloud-azure/src/test/java/org/apache/lucene/store/SmbSimpleFSDirectoryTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/azure/itest/AzureSimpleITest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/management/AzureComputeServiceAbstractMock.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/management/AzureComputeServiceSimpleMock.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/management/AzureComputeServiceTwoNodesMock.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/storage/AzureStorageServiceMock.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AbstractAzureComputeServiceTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureMinimumMasterNodesTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureSimpleTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureTwoStartedNodesTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/index/store/AbstractAzureFsTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/index/store/SmbMMapFsTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/index/store/SmbSimpleFsTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/repositories/azure/AbstractAzureRepositoryServiceTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreITest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreTest.java
comments:
migrate branch for cloud-azure

time:
2015-06-05T11:12:32Z
class:
plugins/cloud-azure/src/main/java/org/apache/lucene/store/SmbDirectoryWrapper.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/AzureModule.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/AzureServiceDisableException.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/AzureServiceRemoteException.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/blobstore/AzureBlobContainer.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/blobstore/AzureBlobStore.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/blobstore/AzureOutputStream.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/management/AzureComputeService.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/management/AzureComputeServiceImpl.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/management/AzureComputeSettingsFilter.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageService.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageServiceImpl.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageSettingsFilter.java
plugins/cloud-azure/src/main/java/org/elasticsearch/discovery/azure/AzureDiscovery.java
plugins/cloud-azure/src/main/java/org/elasticsearch/discovery/azure/AzureDiscoveryModule.java
plugins/cloud-azure/src/main/java/org/elasticsearch/discovery/azure/AzureUnicastHostsProvider.java
plugins/cloud-azure/src/main/java/org/elasticsearch/index/store/smbmmapfs/SmbMmapFsDirectoryService.java
plugins/cloud-azure/src/main/java/org/elasticsearch/index/store/smbmmapfs/SmbMmapFsIndexStore.java
plugins/cloud-azure/src/main/java/org/elasticsearch/index/store/smbmmapfs/SmbMmapFsIndexStoreModule.java
plugins/cloud-azure/src/main/java/org/elasticsearch/index/store/smbsimplefs/SmbSimpleFsDirectoryService.java
plugins/cloud-azure/src/main/java/org/elasticsearch/index/store/smbsimplefs/SmbSimpleFsIndexStore.java
plugins/cloud-azure/src/main/java/org/elasticsearch/index/store/smbsimplefs/SmbSimpleFsIndexStoreModule.java
plugins/cloud-azure/src/main/java/org/elasticsearch/plugin/cloud/azure/CloudAzurePlugin.java
plugins/cloud-azure/src/main/java/org/elasticsearch/repositories/azure/AzureRepository.java
plugins/cloud-azure/src/main/java/org/elasticsearch/repositories/azure/AzureRepositoryModule.java
plugins/cloud-azure/src/test/java/org/apache/lucene/store/ElasticSearchBaseDirectoryTestCase.java
plugins/cloud-azure/src/test/java/org/apache/lucene/store/SmbMMapDirectoryTest.java
plugins/cloud-azure/src/test/java/org/apache/lucene/store/SmbSimpleFSDirectoryTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/azure/itest/AzureSimpleITest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/management/AzureComputeServiceAbstractMock.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/management/AzureComputeServiceSimpleMock.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/management/AzureComputeServiceTwoNodesMock.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/storage/AzureStorageServiceMock.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AbstractAzureComputeServiceTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureMinimumMasterNodesTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureSimpleTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureTwoStartedNodesTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/index/store/AbstractAzureFsTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/index/store/SmbMMapFsTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/index/store/SmbSimpleFsTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/repositories/azure/AbstractAzureRepositoryServiceTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreITest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreTest.java
comments:
add cloud-azure module

time:
2015-06-05T11:12:30Z
class:
comments:
add cloud-gce module

time:
2015-06-05T11:12:30Z
class:
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeService.java
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeServiceImpl.java
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceModule.java
plugins/cloud-gce/src/main/java/org/elasticsearch/discovery/gce/GceDiscovery.java
plugins/cloud-gce/src/main/java/org/elasticsearch/discovery/gce/GceDiscoveryModule.java
plugins/cloud-gce/src/main/java/org/elasticsearch/discovery/gce/GceUnicastHostsProvider.java
plugins/cloud-gce/src/main/java/org/elasticsearch/plugin/cloud/gce/CloudGcePlugin.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/AbstractGceTest.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/GceComputeEngineTest.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/PropertiesHelper.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/mock/GceComputeServiceAbstractMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/mock/GceComputeServiceTwoNodesDifferentTagsMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/mock/GceComputeServiceTwoNodesOneZoneMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/mock/GceComputeServiceTwoNodesSameTagsMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/mock/GceComputeServiceTwoNodesTwoZonesMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/mock/GceComputeServiceZeroNodeMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/gce/itest/GceSimpleITest.java
comments:
migrate branch for cloud-gce

time:
2015-06-05T11:12:28Z
class:
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeService.java
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeServiceImpl.java
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceModule.java
plugins/cloud-gce/src/main/java/org/elasticsearch/discovery/gce/GceDiscovery.java
plugins/cloud-gce/src/main/java/org/elasticsearch/discovery/gce/GceDiscoveryModule.java
plugins/cloud-gce/src/main/java/org/elasticsearch/discovery/gce/GceUnicastHostsProvider.java
plugins/cloud-gce/src/main/java/org/elasticsearch/plugin/cloud/gce/CloudGcePlugin.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/AbstractGceTest.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/GceComputeEngineTest.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/PropertiesHelper.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/mock/GceComputeServiceAbstractMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/mock/GceComputeServiceTwoNodesDifferentTagsMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/mock/GceComputeServiceTwoNodesOneZoneMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/mock/GceComputeServiceTwoNodesSameTagsMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/mock/GceComputeServiceTwoNodesTwoZonesMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/mock/GceComputeServiceZeroNodeMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/gce/itest/GceSimpleITest.java
comments:
add cloud-gce module

time:
2015-06-05T11:12:26Z
class:
comments:
add analysis-icu module

time:
2015-06-05T11:12:26Z
class:
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/ICUCollationKeyFilter.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuAnalysisBinderProcessor.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuCollationTokenFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuFoldingTokenFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuNormalizerCharFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuNormalizerTokenFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuTokenizerFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuTransformTokenFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IndexableBinaryStringTools.java
plugins/analysis-icu/src/main/java/org/elasticsearch/indices/analysis/IcuIndicesAnalysis.java
plugins/analysis-icu/src/main/java/org/elasticsearch/indices/analysis/IcuIndicesAnalysisModule.java
plugins/analysis-icu/src/main/java/org/elasticsearch/plugin/analysis/icu/AnalysisICUPlugin.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/AnalysisTestUtils.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/ICUIntegrationTests.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/SimpleIcuAnalysisTests.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/SimpleIcuCollationTokenFilterTests.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/SimpleIcuNormalizerCharFilterTests.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/TestIndexableBinaryStringTools.java
comments:
migrate branch for analysis-icu

time:
2015-06-05T11:12:23Z
class:
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/ICUCollationKeyFilter.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuAnalysisBinderProcessor.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuCollationTokenFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuFoldingTokenFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuNormalizerCharFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuNormalizerTokenFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuTokenizerFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuTransformTokenFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IndexableBinaryStringTools.java
plugins/analysis-icu/src/main/java/org/elasticsearch/indices/analysis/IcuIndicesAnalysis.java
plugins/analysis-icu/src/main/java/org/elasticsearch/indices/analysis/IcuIndicesAnalysisModule.java
plugins/analysis-icu/src/main/java/org/elasticsearch/plugin/analysis/icu/AnalysisICUPlugin.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/AnalysisTestUtils.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/ICUIntegrationTests.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/SimpleIcuAnalysisTests.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/SimpleIcuCollationTokenFilterTests.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/SimpleIcuNormalizerCharFilterTests.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/TestIndexableBinaryStringTools.java
comments:
add analysis-icu module

time:
2015-06-05T11:12:22Z
class:
comments:
add analysis-phonetic module

time:
2015-06-05T11:12:21Z
class:
plugins/analysis-phonetic/src/main/java/org/elasticsearch/index/analysis/PhoneticAnalysisBinderProcessor.java
plugins/analysis-phonetic/src/main/java/org/elasticsearch/index/analysis/PhoneticTokenFilterFactory.java
plugins/analysis-phonetic/src/main/java/org/elasticsearch/index/analysis/phonetic/HaasePhonetik.java
plugins/analysis-phonetic/src/main/java/org/elasticsearch/index/analysis/phonetic/KoelnerPhonetik.java
plugins/analysis-phonetic/src/main/java/org/elasticsearch/index/analysis/phonetic/Nysiis.java
plugins/analysis-phonetic/src/main/java/org/elasticsearch/plugin/analysis/AnalysisPhoneticPlugin.java
plugins/analysis-phonetic/src/test/java/org/elasticsearch/index/analysis/SimplePhoneticAnalysisTests.java
plugins/analysis-phonetic/src/test/java/org/elasticsearch/index/analysis/SimplePhoneticIntegrationTests.java
comments:
migrate branch for analysis-phonetic

time:
2015-06-05T11:12:20Z
class:
plugins/analysis-phonetic/src/main/java/org/elasticsearch/index/analysis/PhoneticAnalysisBinderProcessor.java
plugins/analysis-phonetic/src/main/java/org/elasticsearch/index/analysis/PhoneticTokenFilterFactory.java
plugins/analysis-phonetic/src/main/java/org/elasticsearch/index/analysis/phonetic/HaasePhonetik.java
plugins/analysis-phonetic/src/main/java/org/elasticsearch/index/analysis/phonetic/KoelnerPhonetik.java
plugins/analysis-phonetic/src/main/java/org/elasticsearch/index/analysis/phonetic/Nysiis.java
plugins/analysis-phonetic/src/main/java/org/elasticsearch/plugin/analysis/AnalysisPhoneticPlugin.java
plugins/analysis-phonetic/src/test/java/org/elasticsearch/index/analysis/SimplePhoneticAnalysisTests.java
plugins/analysis-phonetic/src/test/java/org/elasticsearch/index/analysis/SimplePhoneticIntegrationTests.java
comments:
add analysis-phonetic module

time:
2015-06-05T11:12:18Z
class:
comments:
add analysis-stempel module

time:
2015-06-05T11:12:17Z
class:
plugins/analysis-stempel/src/main/java/org/elasticsearch/index/analysis/pl/PolishAnalysisBinderProcessor.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/index/analysis/pl/PolishAnalyzerProvider.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/index/analysis/pl/PolishStemTokenFilterFactory.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/indices/analysis/pl/PolishIndicesAnalysis.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/indices/analysis/pl/PolishIndicesAnalysisModule.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/plugin/analysis/stempel/AnalysisStempelPlugin.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/PolishAnalysisTests.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/SimplePolishIntegrationTests.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/SimplePolishTokenFilterTests.java
comments:
migrate branch for analysis-stempel

time:
2015-06-05T11:12:16Z
class:
plugins/analysis-stempel/src/main/java/org/elasticsearch/index/analysis/pl/PolishAnalysisBinderProcessor.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/index/analysis/pl/PolishAnalyzerProvider.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/index/analysis/pl/PolishStemTokenFilterFactory.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/indices/analysis/pl/PolishIndicesAnalysis.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/indices/analysis/pl/PolishIndicesAnalysisModule.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/plugin/analysis/stempel/AnalysisStempelPlugin.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/PolishAnalysisTests.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/SimplePolishIntegrationTests.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/SimplePolishTokenFilterTests.java
comments:
add analysis-stempel module

time:
2015-06-05T11:12:14Z
class:
comments:
add analysis-smartcn module

time:
2015-06-05T11:12:14Z
class:
plugins/analysis-smartcn/src/main/java/org/elasticsearch/index/analysis/SmartChineseAnalysisBinderProcessor.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/index/analysis/SmartChineseAnalyzerProvider.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/index/analysis/SmartChineseNoOpTokenFilterFactory.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/index/analysis/SmartChineseTokenizerTokenizerFactory.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/indices/analysis/smartcn/SmartChineseIndicesAnalysis.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/indices/analysis/smartcn/SmartChineseIndicesAnalysisModule.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/plugin/analysis/smartcn/AnalysisSmartChinesePlugin.java
plugins/analysis-smartcn/src/test/java/org/elasticsearch/index/analysis/SimpleSmartChineseAnalysisTests.java
plugins/analysis-smartcn/src/test/java/org/elasticsearch/index/analysis/SimpleSmartChineseIntegrationTests.java
comments:
migrate branch for analysis-smartcn

time:
2015-06-05T11:12:12Z
class:
plugins/analysis-smartcn/src/main/java/org/elasticsearch/index/analysis/SmartChineseAnalysisBinderProcessor.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/index/analysis/SmartChineseAnalyzerProvider.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/index/analysis/SmartChineseNoOpTokenFilterFactory.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/index/analysis/SmartChineseTokenizerTokenizerFactory.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/indices/analysis/smartcn/SmartChineseIndicesAnalysis.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/indices/analysis/smartcn/SmartChineseIndicesAnalysisModule.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/plugin/analysis/smartcn/AnalysisSmartChinesePlugin.java
plugins/analysis-smartcn/src/test/java/org/elasticsearch/index/analysis/SimpleSmartChineseAnalysisTests.java
plugins/analysis-smartcn/src/test/java/org/elasticsearch/index/analysis/SimpleSmartChineseIntegrationTests.java
comments:
add analysis-smartcn module

time:
2015-06-05T11:12:09Z
class:
comments:
add analysis-kuromoji module

time:
2015-06-05T11:12:09Z
class:
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/JapaneseStopTokenFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiAnalyzerProvider.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiBaseFormFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiIterationMarkCharFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiKatakanaStemmerFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiPartOfSpeechFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiReadingFormFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiTokenizerFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/indices/analysis/KuromojiIndicesAnalysis.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/indices/analysis/KuromojiIndicesAnalysisModule.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/plugin/analysis/kuromoji/AnalysisKuromojiPlugin.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/KuromojiIntegrationTests.java
comments:
migrate branch for analysis-kuromoji

time:
2015-06-05T11:12:07Z
class:
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/JapaneseStopTokenFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiAnalyzerProvider.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiBaseFormFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiIterationMarkCharFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiKatakanaStemmerFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiPartOfSpeechFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiReadingFormFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiTokenizerFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/indices/analysis/KuromojiIndicesAnalysis.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/indices/analysis/KuromojiIndicesAnalysisModule.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/plugin/analysis/kuromoji/AnalysisKuromojiPlugin.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/KuromojiIntegrationTests.java
comments:
add analysis-kuromoji module

time:
2015-06-05T11:12:05Z
class:
comments:
add modules section

time:
2015-06-05T11:12:05Z
class:
comments:
add core module

time:
2015-06-05T11:12:05Z
class:
comments:
create parent pom project from its original location
@s1monw I'm wondering which script now uploads our stuff to S3? I can't find references to `upload-s3`.


time:
2015-06-05T11:12:03Z
class:
core/src/main/java/jsr166e/DoubleAdder.java
core/src/main/java/jsr166e/DoubleMaxUpdater.java
core/src/main/java/jsr166e/LongAdder.java
core/src/main/java/jsr166e/LongMaxUpdater.java
core/src/main/java/jsr166e/Striped64.java
core/src/main/java/org/apache/lucene/analysis/PrefixAnalyzer.java
core/src/main/java/org/apache/lucene/analysis/miscellaneous/UniqueTokenFilter.java
core/src/main/java/org/apache/lucene/index/TrackingConcurrentMergeScheduler.java
core/src/main/java/org/apache/lucene/index/memory/ExtendedMemoryIndex.java
core/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java
core/src/main/java/org/apache/lucene/queries/ExtendedCommonTermsQuery.java
core/src/main/java/org/apache/lucene/queryparser/classic/ExistsFieldQueryExtension.java
core/src/main/java/org/apache/lucene/queryparser/classic/FieldQueryExtension.java
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/apache/lucene/queryparser/classic/MissingFieldQueryExtension.java
core/src/main/java/org/apache/lucene/queryparser/classic/QueryParserSettings.java
core/src/main/java/org/apache/lucene/search/XFilteredDocIdSetIterator.java
core/src/main/java/org/apache/lucene/search/postingshighlight/CustomPassageFormatter.java
core/src/main/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighter.java
core/src/main/java/org/apache/lucene/search/postingshighlight/CustomSeparatorBreakIterator.java
core/src/main/java/org/apache/lucene/search/postingshighlight/Snippet.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XFuzzySuggester.java
core/src/main/java/org/apache/lucene/search/vectorhighlight/CustomFieldQuery.java
core/src/main/java/org/apache/lucene/store/RateLimitedFSDirectory.java
core/src/main/java/org/apache/lucene/store/StoreRateLimiting.java
core/src/main/java/org/apache/lucene/store/StoreUtils.java
core/src/main/java/org/elasticsearch/Build.java
core/src/main/java/org/elasticsearch/ElasticsearchCorruptionException.java
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/ElasticsearchGenerationException.java
core/src/main/java/org/elasticsearch/ElasticsearchNullPointerException.java
core/src/main/java/org/elasticsearch/ElasticsearchParseException.java
core/src/main/java/org/elasticsearch/ElasticsearchTimeoutException.java
core/src/main/java/org/elasticsearch/ElasticsearchWrapperException.java
core/src/main/java/org/elasticsearch/ExceptionsHelper.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/Action.java
core/src/main/java/org/elasticsearch/action/ActionFuture.java
core/src/main/java/org/elasticsearch/action/ActionListener.java
core/src/main/java/org/elasticsearch/action/ActionListenerResponseHandler.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/ActionRequest.java
core/src/main/java/org/elasticsearch/action/ActionRequestBuilder.java
core/src/main/java/org/elasticsearch/action/ActionRequestValidationException.java
core/src/main/java/org/elasticsearch/action/ActionResponse.java
core/src/main/java/org/elasticsearch/action/ActionRunnable.java
core/src/main/java/org/elasticsearch/action/ActionWriteResponse.java
core/src/main/java/org/elasticsearch/action/AliasesRequest.java
core/src/main/java/org/elasticsearch/action/CompositeIndicesRequest.java
core/src/main/java/org/elasticsearch/action/DocumentRequest.java
core/src/main/java/org/elasticsearch/action/FailedNodeException.java
core/src/main/java/org/elasticsearch/action/GenericAction.java
core/src/main/java/org/elasticsearch/action/IndicesRequest.java
core/src/main/java/org/elasticsearch/action/LatchedActionListener.java
core/src/main/java/org/elasticsearch/action/ListenableActionFuture.java
core/src/main/java/org/elasticsearch/action/NoShardAvailableActionException.java
core/src/main/java/org/elasticsearch/action/NoSuchNodeException.java
core/src/main/java/org/elasticsearch/action/OriginalIndices.java
core/src/main/java/org/elasticsearch/action/PrimaryMissingActionException.java
core/src/main/java/org/elasticsearch/action/RoutingMissingException.java
core/src/main/java/org/elasticsearch/action/ShardOperationFailedException.java
core/src/main/java/org/elasticsearch/action/ThreadingModel.java
core/src/main/java/org/elasticsearch/action/TimestampParsingException.java
core/src/main/java/org/elasticsearch/action/TransportActionNodeProxy.java
core/src/main/java/org/elasticsearch/action/UnavailableShardsException.java
core/src/main/java/org/elasticsearch/action/ValidateActions.java
core/src/main/java/org/elasticsearch/action/WriteConsistencyLevel.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterShardHealth.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodeHotThreads.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/PluginInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/PluginsInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/LivenessRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/LivenessResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/TransportLivenessAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/DeleteRepositoryAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/DeleteRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/DeleteRepositoryRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/DeleteRepositoryResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/TransportDeleteRepositoryAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/TransportGetRepositoriesAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/TransportPutRepositoryAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/TransportVerifyRepositoryAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/VerifyRepositoryResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/ClusterRerouteResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/ClusterUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/ClusterUpdateSettingsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/ClusterUpdateSettingsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/ClusterUpdateSettingsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsGroup.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/DeleteSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/DeleteSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/DeleteSnapshotRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/DeleteSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/TransportRestoreSnapshotAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexShardStage.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexShardStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotShardsStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodeResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/tasks/PendingClusterTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/tasks/PendingClusterTasksRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/tasks/PendingClusterTasksRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/tasks/PendingClusterTasksResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/tasks/TransportPendingClusterTasksAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/Alias.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/TransportIndicesAliasesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/exists/AliasesExistAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/exists/AliasesExistRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/exists/AliasesExistResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/exists/TransportAliasesExistAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/get/BaseAliasesRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/close/CloseIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/close/CloseIndexClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/close/CloseIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/close/CloseIndexRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/close/CloseIndexResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/TransportCreateIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/create/package-info.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/package-info.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/indices/TransportIndicesExistsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/types/TypesExistsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/types/TypesExistsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/types/TypesExistsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/types/TypesExistsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/FlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/FlushRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/FlushRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/FlushResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/ShardFlushRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/ShardFlushResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/package-info.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/TransportGetIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetMappingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetMappingsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetMappingsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetMappingsResponse.java
comments:
create core module

time:
2015-06-05T11:11:08Z
class:
comments:
Merge pull request #11488 from rmuir/pr/migration_script

[maven] reorganize the codebase

time:
2015-06-05T10:37:21Z
class:
comments:
Add repository migration step to preserve history

time:
2015-06-05T07:31:21Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequest.java
src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
src/main/java/org/elasticsearch/action/search/SearchRequest.java
src/main/java/org/elasticsearch/action/search/SearchScrollRequest.java
src/main/java/org/elasticsearch/action/support/AbstractListenableActionFuture.java
src/main/java/org/elasticsearch/action/support/AdapterActionFuture.java
src/main/java/org/elasticsearch/action/support/master/AcknowledgedRequest.java
src/main/java/org/elasticsearch/action/support/master/MasterNodeRequest.java
src/main/java/org/elasticsearch/action/support/nodes/BaseNodesRequest.java
src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
src/main/java/org/elasticsearch/action/support/single/instance/InstanceShardOperationRequest.java
src/main/java/org/elasticsearch/action/update/UpdateHelper.java
src/main/java/org/elasticsearch/client/transport/TransportClient.java
src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
src/main/java/org/elasticsearch/cluster/ClusterStateObserver.java
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
src/main/java/org/elasticsearch/cluster/metadata/RestoreMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/SnapshotMetaData.java
src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
src/main/java/org/elasticsearch/cluster/settings/Validator.java
src/main/java/org/elasticsearch/common/Booleans.java
src/main/java/org/elasticsearch/common/blobstore/BlobContainer.java
src/main/java/org/elasticsearch/common/blobstore/support/AbstractBlobContainer.java
src/main/java/org/elasticsearch/common/network/MulticastChannel.java
src/main/java/org/elasticsearch/common/network/NetworkService.java
src/main/java/org/elasticsearch/common/settings/Settings.java
src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java
src/main/java/org/elasticsearch/common/unit/Fuzziness.java
src/main/java/org/elasticsearch/common/unit/MemorySizeValue.java
src/main/java/org/elasticsearch/common/unit/TimeValue.java
src/main/java/org/elasticsearch/common/util/CollectionUtils.java
src/main/java/org/elasticsearch/common/util/concurrent/BaseFuture.java
src/main/java/org/elasticsearch/common/xcontent/support/XContentMapValues.java
src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java
src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
src/main/java/org/elasticsearch/gateway/MetaStateService.java
src/main/java/org/elasticsearch/index/analysis/Analysis.java
src/main/java/org/elasticsearch/index/engine/EngineConfig.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/gateway/CommitPoint.java
src/main/java/org/elasticsearch/index/gateway/CommitPoints.java
src/main/java/org/elasticsearch/index/get/GetResult.java
src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshot.java
src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshots.java
src/main/java/org/elasticsearch/index/snapshots/blobstore/SnapshotFiles.java
src/main/java/org/elasticsearch/index/translog/TranslogConfig.java
src/main/java/org/elasticsearch/indices/cache/filter/IndicesFilterCache.java
src/main/java/org/elasticsearch/indices/cache/query/IndicesQueryCache.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySettings.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
src/main/java/org/elasticsearch/plugins/PluginManager.java
src/main/java/org/elasticsearch/plugins/PluginsService.java
src/main/java/org/elasticsearch/repositories/Repository.java
src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
src/main/java/org/elasticsearch/repositories/uri/URLRepository.java
src/main/java/org/elasticsearch/rest/RestRequest.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/node/hotthreads/RestNodesHotThreadsAction.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchScrollAction.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramInterval.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/DerivativeParser.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregator.java
src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
src/main/java/org/elasticsearch/search/query/TimeoutParseElement.java
src/main/java/org/elasticsearch/snapshots/RestoreInfo.java
src/main/java/org/elasticsearch/snapshots/RestoreService.java
src/main/java/org/elasticsearch/snapshots/Snapshot.java
src/main/java/org/elasticsearch/snapshots/SnapshotInfo.java
src/main/java/org/elasticsearch/snapshots/SnapshotUtils.java
src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
src/main/java/org/elasticsearch/transport/Transports.java
src/test/java/org/elasticsearch/action/support/ListenableActionFutureTests.java
src/test/java/org/elasticsearch/benchmark/fs/FsAppendBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchBenchmark.java
src/test/java/org/elasticsearch/cluster/SimpleClusterStateTests.java
src/test/java/org/elasticsearch/cluster/ack/AckTests.java
src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
src/test/java/org/elasticsearch/cluster/settings/ClusterSettingsTests.java
src/test/java/org/elasticsearch/cluster/settings/SettingsValidatorTests.java
src/test/java/org/elasticsearch/common/blobstore/BlobStoreTest.java
src/test/java/org/elasticsearch/common/unit/ByteSizeValueTests.java
src/test/java/org/elasticsearch/common/unit/FuzzinessTests.java
src/test/java/org/elasticsearch/common/unit/TimeValueTests.java
src/test/java/org/elasticsearch/common/util/BigArraysTests.java
src/test/java/org/elasticsearch/index/engine/InternalEngineSettingsTest.java
src/test/java/org/elasticsearch/index/mapper/copyto/CopyToMapperTests.java
src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
src/test/java/org/elasticsearch/index/store/CorruptedFileTest.java
src/test/java/org/elasticsearch/index/translog/BufferedTranslogTests.java
src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryTests.java
src/test/java/org/elasticsearch/network/DirectBufferNetworkTests.java
src/test/java/org/elasticsearch/percolator/TTLPercolatorTests.java
src/test/java/org/elasticsearch/recovery/RecoverySettingsTest.java
src/test/java/org/elasticsearch/recovery/RelocationTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/TermsDocCountErrorTests.java
src/test/java/org/elasticsearch/search/aggregations/pipeline/DerivativeTests.java
src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgTests.java
src/test/java/org/elasticsearch/search/scroll/SearchScrollTests.java
src/test/java/org/elasticsearch/snapshots/AbstractSnapshotTests.java
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/snapshots/RepositoriesTests.java
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/snapshots/SnapshotBackwardsCompatibilityTest.java
src/test/java/org/elasticsearch/snapshots/SnapshotUtilsTests.java
src/test/java/org/elasticsearch/snapshots/mockstore/BlobContainerWrapper.java
src/test/java/org/elasticsearch/snapshots/mockstore/MockRepository.java
src/test/java/org/elasticsearch/stresstest/get/GetStressTest.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTests.java
src/test/java/org/elasticsearch/ttl/SimpleTTLTests.java
src/test/java/org/elasticsearch/versioning/SimpleVersioningTests.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-06-05T07:15:13Z
class:
src/main/java/org/elasticsearch/index/get/GetResult.java
src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
comments:
Merge pull request #8131 from jpountz/enhancement/top-level-meta-fields

Rest: Add all meta fields to the top level json document.

time:
2015-06-04T21:42:17Z
class:
src/main/java/org/elasticsearch/index/get/GetResult.java
src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
comments:
Rest: Add all meta fields to the top level json document.

Some of our meta fields (such as _id, _version, ...) are returned as top-level
properties of the json document, while other properties (_timestamp, _routing,
...) are returned under `fields`. This commit makes all meta fields returned
as top-level properties.

So eg. `GET test/test/1?fields=_timestamp,foo` would now return

```json
{
   "_index": "test",
   "_type": "test",
   "_id": "1",
   "_version": 1,
   "_timestamp": 10000000,
   "found": true,
   "fields": {
     "foo": [ "bar" ]
   }
}
```

while it used to return

```json
{
   "_index": "test",
   "_type": "test",
   "_id": "1",
   "_version": 1,
   "found": true,
   "fields": {
     "_timestamp": 10000000,
     "foo": [ "bar" ]
   }
}
```

time:
2015-06-04T20:38:06Z
class:
src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
src/main/java/org/elasticsearch/action/ActionModule.java
src/main/java/org/elasticsearch/action/TimestampParsingException.java
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesResponse.java
src/main/java/org/elasticsearch/action/admin/indices/seal/TransportSealIndicesAction.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/IndexShardUpgradeStatus.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/IndexUpgradeStatus.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/ShardUpgradeStatus.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/TransportUpgradeStatusAction.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusAction.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusRequest.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusResponse.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/ShardUpgradeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/ShardUpgradeResponse.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeAction.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeResponse.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsClusterStateUpdateRequest.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsResponse.java
src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
src/main/java/org/elasticsearch/action/index/IndexRequestBuilder.java
src/main/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequest.java
src/main/java/org/elasticsearch/action/search/SearchRequest.java
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/action/search/SearchScrollRequest.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryAndFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryThenFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchQueryThenFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
src/main/java/org/elasticsearch/action/support/AbstractListenableActionFuture.java
src/main/java/org/elasticsearch/action/support/AdapterActionFuture.java
src/main/java/org/elasticsearch/action/support/master/AcknowledgedRequest.java
src/main/java/org/elasticsearch/action/support/master/MasterNodeRequest.java
src/main/java/org/elasticsearch/action/support/nodes/BaseNodesRequest.java
src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
src/main/java/org/elasticsearch/action/support/single/instance/InstanceShardOperationRequest.java
src/main/java/org/elasticsearch/action/update/UpdateHelper.java
src/main/java/org/elasticsearch/action/update/UpdateRequest.java
src/main/java/org/elasticsearch/action/update/UpdateRequestBuilder.java
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/JNACLibrary.java
src/main/java/org/elasticsearch/bootstrap/JNANatives.java
src/main/java/org/elasticsearch/client/IndicesAdminClient.java
src/main/java/org/elasticsearch/client/Requests.java
src/main/java/org/elasticsearch/client/support/AbstractClient.java
src/main/java/org/elasticsearch/client/transport/TransportClient.java
src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
src/main/java/org/elasticsearch/cluster/ClusterState.java
src/main/java/org/elasticsearch/cluster/ClusterStateObserver.java
src/main/java/org/elasticsearch/cluster/DiskUsage.java
src/main/java/org/elasticsearch/cluster/metadata/AliasMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
src/main/java/org/elasticsearch/cluster/metadata/RepositoriesMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/RestoreMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/SnapshotMetaData.java
src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
src/main/java/org/elasticsearch/cluster/settings/Validator.java
src/main/java/org/elasticsearch/common/Booleans.java
src/main/java/org/elasticsearch/common/Priority.java
src/main/java/org/elasticsearch/common/blobstore/BlobContainer.java
src/main/java/org/elasticsearch/common/blobstore/support/AbstractBlobContainer.java
src/main/java/org/elasticsearch/common/bytes/PagedBytesReference.java
src/main/java/org/elasticsearch/common/cli/CliTool.java
src/main/java/org/elasticsearch/common/collect/BoundedTreeSet.java
src/main/java/org/elasticsearch/common/collect/IdentityHashSet.java
src/main/java/org/elasticsearch/common/collect/ImmutableOpenLongMap.java
src/main/java/org/elasticsearch/common/collect/Iterators2.java
src/main/java/org/elasticsearch/common/compress/CompressedIndexInput.java
src/main/java/org/elasticsearch/common/compress/CompressedStreamInput.java
src/main/java/org/elasticsearch/common/compress/CompressedXContent.java
src/main/java/org/elasticsearch/common/compress/Compressor.java
src/main/java/org/elasticsearch/common/compress/CompressorFactory.java
src/main/java/org/elasticsearch/common/compress/NotCompressedException.java
src/main/java/org/elasticsearch/common/compress/NotXContentException.java
src/main/java/org/elasticsearch/common/compress/deflate/DeflateCompressor.java
src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressedIndexInput.java
src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressedStreamInput.java
src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressor.java
src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
src/main/java/org/elasticsearch/common/io/PathUtils.java
src/main/java/org/elasticsearch/common/io/stream/InputStreamStreamInput.java
src/main/java/org/elasticsearch/common/joda/DateMathParser.java
src/main/java/org/elasticsearch/common/joda/Joda.java
src/main/java/org/elasticsearch/common/lucene/HashedBytesRef.java
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java
src/main/java/org/elasticsearch/common/network/MulticastChannel.java
src/main/java/org/elasticsearch/common/network/NetworkService.java
src/main/java/org/elasticsearch/common/settings/Settings.java
src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java
src/main/java/org/elasticsearch/common/unit/Fuzziness.java
src/main/java/org/elasticsearch/common/unit/MemorySizeValue.java
src/main/java/org/elasticsearch/common/unit/TimeValue.java
src/main/java/org/elasticsearch/common/util/CollectionUtils.java
src/main/java/org/elasticsearch/common/util/MultiDataPathUpgrader.java
src/main/java/org/elasticsearch/common/util/concurrent/BaseFuture.java
src/main/java/org/elasticsearch/common/xcontent/XContentFactory.java
src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
src/main/java/org/elasticsearch/common/xcontent/XContentType.java
src/main/java/org/elasticsearch/common/xcontent/support/XContentMapValues.java
src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java
src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
src/main/java/org/elasticsearch/env/NodeEnvironment.java
src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
src/main/java/org/elasticsearch/gateway/MetaDataStateFormat.java
src/main/java/org/elasticsearch/gateway/MetaStateService.java
src/main/java/org/elasticsearch/index/AbstractIndexComponent.java
src/main/java/org/elasticsearch/index/IndexService.java
src/main/java/org/elasticsearch/index/aliases/IndexAlias.java
src/main/java/org/elasticsearch/index/aliases/IndexAliasesService.java
src/main/java/org/elasticsearch/index/analysis/Analysis.java
src/main/java/org/elasticsearch/index/cache/filter/ShardFilterCache.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/EngineConfig.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
src/main/java/org/elasticsearch/index/fielddata/FieldDataType.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataCache.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/index/fielddata/ShardFieldData.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/GlobalOrdinalsIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/InternalGlobalOrdinalsIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexGeoPointFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexOrdinalsFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/BinaryDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/BinaryDVNumericIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/BytesBinaryDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DisabledIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DocValuesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FSTBytesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointBinaryDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointCompressedIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IndexIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/NumericDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PackedArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/SortedNumericDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/SortedSetDVOrdinalsIndexFieldData.java
src/main/java/org/elasticsearch/index/fieldvisitor/SingleFieldsVisitor.java
src/main/java/org/elasticsearch/index/gateway/CommitPoint.java
src/main/java/org/elasticsearch/index/gateway/CommitPoints.java
src/main/java/org/elasticsearch/index/indexing/ShardIndexingModule.java
src/main/java/org/elasticsearch/index/mapper/DocumentFieldMappers.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
comments:
Merge branch 'master' into pr/migration_script

time:
2015-06-04T20:31:07Z
class:
comments:
Defer mapper-attachments for now

time:
2015-06-04T20:30:13Z
class:
src/main/java/org/elasticsearch/cloud/azure/blobstore/AzureBlobContainer.java
src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageService.java
src/main/java/org/elasticsearch/cloud/azure/storage/AzureStorageServiceImpl.java
src/main/java/org/elasticsearch/discovery/azure/AzureUnicastHostsProvider.java
src/main/java/org/elasticsearch/plugin/cloud/azure/CloudAzurePlugin.java
src/main/java/org/elasticsearch/repositories/azure/AzureRepository.java
src/test/java/org/elasticsearch/cloud/azure/management/AzureComputeServiceSimpleMock.java
src/test/java/org/elasticsearch/cloud/azure/management/AzureComputeServiceTwoNodesMock.java
src/test/java/org/elasticsearch/cloud/azure/storage/AzureStorageServiceMock.java
src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreITest.java
comments:
fix cloud-azure to not use shaded APIs

time:
2015-06-04T20:29:17Z
class:
src/main/java/org/elasticsearch/action/support/AbstractListenableActionFuture.java
src/main/java/org/elasticsearch/common/util/concurrent/BaseFuture.java
src/main/java/org/elasticsearch/transport/Transports.java
src/test/java/org/elasticsearch/action/support/ListenableActionFutureTests.java
comments:
Internal: allows ActionListener to be called on the network thread

To protect  ourselves against running blocking operations on a network thread we have added an assertion that triggers that verifies that the thread calling a BaseFuture.get() is not a networking one. While this assert is good, it wrongly triggers when the get() is called in order to pass it's result to  a listener of AbstractListenableActionFuture who is marked to run on the same thread as the callee. At that point, we know that the operation has been completed and the get() call will not block.

To solve this, we change the assertion to ignore a get with a timeout of 0 and use that AbstractListenableActionFuture

Relates to #10402
Closes #10573

feedback

time:
2015-06-04T20:27:29Z
class:
src/main/java/org/elasticsearch/cloud/gce/GceComputeServiceImpl.java
src/main/java/org/elasticsearch/discovery/gce/GceUnicastHostsProvider.java
src/main/java/org/elasticsearch/plugin/cloud/gce/CloudGcePlugin.java
src/test/java/org/elasticsearch/discovery/gce/GceComputeEngineTest.java
src/test/java/org/elasticsearch/discovery/gce/mock/GceComputeServiceAbstractMock.java
src/test/java/org/elasticsearch/discovery/gce/mock/GceComputeServiceTwoNodesDifferentTagsMock.java
src/test/java/org/elasticsearch/discovery/gce/mock/GceComputeServiceTwoNodesOneZoneMock.java
src/test/java/org/elasticsearch/discovery/gce/mock/GceComputeServiceTwoNodesSameTagsMock.java
src/test/java/org/elasticsearch/discovery/gce/mock/GceComputeServiceTwoNodesTwoZonesMock.java
src/test/java/org/elasticsearch/discovery/gce/mock/GceComputeServiceZeroNodeMock.java
comments:
Don't use shaded APIs

time:
2015-06-04T20:25:34Z
class:
src/main/java/org/elasticsearch/cloud/aws/blobstore/S3BlobContainer.java
src/main/java/org/elasticsearch/cloud/aws/node/Ec2CustomNodeAttributes.java
src/main/java/org/elasticsearch/discovery/ec2/AwsEc2UnicastHostsProvider.java
src/main/java/org/elasticsearch/plugin/cloud/aws/CloudAwsPlugin.java
src/test/java/org/elasticsearch/cloud/aws/blobstore/S3OutputStreamTest.java
comments:
Don't use shaded APIs

time:
2015-06-04T20:24:45Z
class:
src/main/java/org/elasticsearch/index/analysis/IcuCollationTokenFilterFactory.java
src/main/java/org/elasticsearch/plugin/analysis/icu/AnalysisICUPlugin.java
comments:
fix analysis-icu to not use shaded APIs

time:
2015-06-04T20:24:43Z
class:
src/main/java/org/elasticsearch/cluster/ClusterStateObserver.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
Recovery: restart recovery upon mapping changes during translog replay

In rare occasion, the translog replay phase of recovery may require mapping changes on the target shard. This can happen where indexing on the primary introduces new mappings while the recovery is in phase1. If the source node processes the new mapping from the master, allowing the indexing to proceed, before the target node does and the recovery moves to the phase 2 (translog replay) before as well, the translog operations arriving on the target node may miss the mapping changes. To protect agains this we now throw and catch an exception, so we can properly wait and retry when the next cluster state arrives.

Closes #11281
Closes #11363

time:
2015-06-04T20:23:50Z
class:
src/main/java/org/elasticsearch/plugin/analysis/stempel/AnalysisStempelPlugin.java
comments:
Don't use shaded APIs

time:
2015-06-04T20:21:58Z
class:
src/main/java/org/elasticsearch/plugin/analysis/smartcn/AnalysisSmartChinesePlugin.java
comments:
Don't use shaded APIs

time:
2015-06-04T20:21:15Z
class:
src/main/java/org/elasticsearch/index/analysis/JapaneseStopTokenFilterFactory.java
src/main/java/org/elasticsearch/plugin/analysis/kuromoji/AnalysisKuromojiPlugin.java
comments:
Fix analysis-kuromoji to not use shaded APIs

time:
2015-06-04T20:10:09Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
comments:
ClusterHealth shouldn't fail with "unexpected failure" if master steps down while waiting for events

In order to wait for events of a certain priority to pass, TransportClusterHealthAction submits a cluster state update task. If the current master steps down while this task is in the queue, the task will fail causing the ClusterHealth to report an unexpected error.

We often use this request to ensure cluster stability in tests after disruption. However, depends on the nature of the failure it may happen (if we're unfortunate) that two master election rounds are needed. The above issues causes the get health request to fail after the first one. Instead we should try to wait for a new master to be elected (or the local node to be re-elected).

Closes #11493

time:
2015-06-04T19:59:31Z
class:
src/main/java/org/elasticsearch/common/util/CollectionUtils.java
comments:
java9 got a little dumber than java7 and java8

time:
2015-06-04T19:22:16Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
src/main/java/org/elasticsearch/client/transport/TransportClient.java
src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
src/main/java/org/elasticsearch/cluster/metadata/RestoreMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/SnapshotMetaData.java
src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
src/main/java/org/elasticsearch/common/blobstore/BlobContainer.java
src/main/java/org/elasticsearch/common/blobstore/support/AbstractBlobContainer.java
src/main/java/org/elasticsearch/common/util/CollectionUtils.java
src/main/java/org/elasticsearch/index/analysis/Analysis.java
src/main/java/org/elasticsearch/index/gateway/CommitPoint.java
src/main/java/org/elasticsearch/index/gateway/CommitPoints.java
src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshot.java
src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshots.java
src/main/java/org/elasticsearch/index/snapshots/blobstore/SnapshotFiles.java
src/main/java/org/elasticsearch/plugins/PluginsService.java
src/main/java/org/elasticsearch/repositories/Repository.java
src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
src/main/java/org/elasticsearch/repositories/uri/URLRepository.java
src/main/java/org/elasticsearch/snapshots/RestoreInfo.java
src/main/java/org/elasticsearch/snapshots/RestoreService.java
src/main/java/org/elasticsearch/snapshots/Snapshot.java
src/main/java/org/elasticsearch/snapshots/SnapshotInfo.java
src/main/java/org/elasticsearch/snapshots/SnapshotUtils.java
src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
src/test/java/org/elasticsearch/common/blobstore/BlobStoreTest.java
src/test/java/org/elasticsearch/index/mapper/copyto/CopyToMapperTests.java
src/test/java/org/elasticsearch/snapshots/AbstractSnapshotTests.java
src/test/java/org/elasticsearch/snapshots/RepositoriesTests.java
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/snapshots/SnapshotUtilsTests.java
src/test/java/org/elasticsearch/snapshots/mockstore/BlobContainerWrapper.java
src/test/java/org/elasticsearch/snapshots/mockstore/MockRepository.java
comments:
Minimize the usage of guava classes in interfaces, return types, arguments

Using these classes in interfaces forces downstream users to use shaded APIs.
We should minimize the usage of shaded APIs and keep them internal.

time:
2015-06-04T18:03:23Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequest.java
src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
src/main/java/org/elasticsearch/action/search/SearchRequest.java
src/main/java/org/elasticsearch/action/search/SearchScrollRequest.java
src/main/java/org/elasticsearch/action/support/AdapterActionFuture.java
src/main/java/org/elasticsearch/action/support/master/AcknowledgedRequest.java
src/main/java/org/elasticsearch/action/support/master/MasterNodeRequest.java
src/main/java/org/elasticsearch/action/support/nodes/BaseNodesRequest.java
src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
src/main/java/org/elasticsearch/action/support/single/instance/InstanceShardOperationRequest.java
src/main/java/org/elasticsearch/action/update/UpdateHelper.java
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
src/main/java/org/elasticsearch/cluster/settings/Validator.java
src/main/java/org/elasticsearch/common/Booleans.java
src/main/java/org/elasticsearch/common/settings/Settings.java
src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java
src/main/java/org/elasticsearch/common/unit/Fuzziness.java
src/main/java/org/elasticsearch/common/unit/MemorySizeValue.java
src/main/java/org/elasticsearch/common/unit/TimeValue.java
src/main/java/org/elasticsearch/common/xcontent/support/XContentMapValues.java
src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
src/main/java/org/elasticsearch/gateway/MetaStateService.java
src/main/java/org/elasticsearch/index/engine/EngineConfig.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
src/main/java/org/elasticsearch/index/translog/TranslogConfig.java
src/main/java/org/elasticsearch/indices/cache/filter/IndicesFilterCache.java
src/main/java/org/elasticsearch/indices/cache/query/IndicesQueryCache.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySettings.java
src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
src/main/java/org/elasticsearch/plugins/PluginManager.java
src/main/java/org/elasticsearch/rest/RestRequest.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/node/hotthreads/RestNodesHotThreadsAction.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchScrollAction.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramInterval.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/DerivativeParser.java
src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
src/main/java/org/elasticsearch/search/query/TimeoutParseElement.java
src/main/java/org/elasticsearch/snapshots/RestoreService.java
src/test/java/org/elasticsearch/benchmark/fs/FsAppendBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchBenchmark.java
src/test/java/org/elasticsearch/cluster/SimpleClusterStateTests.java
src/test/java/org/elasticsearch/cluster/ack/AckTests.java
src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
src/test/java/org/elasticsearch/cluster/settings/ClusterSettingsTests.java
src/test/java/org/elasticsearch/cluster/settings/SettingsValidatorTests.java
src/test/java/org/elasticsearch/common/unit/ByteSizeValueTests.java
src/test/java/org/elasticsearch/common/unit/FuzzinessTests.java
src/test/java/org/elasticsearch/common/unit/TimeValueTests.java
src/test/java/org/elasticsearch/common/util/BigArraysTests.java
src/test/java/org/elasticsearch/index/engine/InternalEngineSettingsTest.java
src/test/java/org/elasticsearch/index/store/CorruptedFileTest.java
src/test/java/org/elasticsearch/index/translog/BufferedTranslogTests.java
src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryTests.java
src/test/java/org/elasticsearch/network/DirectBufferNetworkTests.java
src/test/java/org/elasticsearch/percolator/TTLPercolatorTests.java
src/test/java/org/elasticsearch/recovery/RecoverySettingsTest.java
src/test/java/org/elasticsearch/recovery/RelocationTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/TermsDocCountErrorTests.java
src/test/java/org/elasticsearch/search/aggregations/pipeline/DerivativeTests.java
src/test/java/org/elasticsearch/search/scroll/SearchScrollTests.java
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/snapshots/RepositoriesTests.java
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/snapshots/SnapshotBackwardsCompatibilityTest.java
src/test/java/org/elasticsearch/stresstest/get/GetStressTest.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTests.java
src/test/java/org/elasticsearch/ttl/SimpleTTLTests.java
src/test/java/org/elasticsearch/versioning/SimpleVersioningTests.java
comments:
Merge pull request #11437 from mikemccand/require_units

Core: time-duration and byte-sized settings now require explicit units.

On upgrade, if there are any cluster or index settings that are missing units, a warning is logged and the default unit is applied.

Closes #7616 
Closes #10888

time:
2015-06-04T17:59:10Z
class:
src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
src/main/java/org/elasticsearch/action/ActionModule.java
src/main/java/org/elasticsearch/action/ActionRequestBuilder.java
src/main/java/org/elasticsearch/action/TimestampParsingException.java
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodeHotThreads.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/TransportDeleteRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/TransportGetRepositoriesAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/TransportPutRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/TransportVerifyRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/DeleteSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/TransportRestoreSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexShardStatus.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodeResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/tasks/PendingClusterTasksRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/tasks/TransportPendingClusterTasksAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/TransportIndicesAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/exists/TransportAliasesExistAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesRequest.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheResponse.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheResponse.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/create/TransportCreateIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/TransportIndicesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TypesExistsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/flush/FlushRequest.java
src/main/java/org/elasticsearch/action/admin/indices/flush/FlushResponse.java
src/main/java/org/elasticsearch/action/admin/indices/flush/ShardFlushRequest.java
src/main/java/org/elasticsearch/action/admin/indices/flush/ShardFlushResponse.java
src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
src/main/java/org/elasticsearch/action/admin/indices/open/TransportOpenIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeResponse.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/ShardOptimizeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/ShardOptimizeResponse.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/RecoveryRequest.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/RecoveryResponse.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/ShardRecoveryResponse.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshRequest.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshResponse.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/ShardRefreshRequest.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/ShardRefreshResponse.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesResponse.java
src/main/java/org/elasticsearch/action/admin/indices/seal/TransportSealIndicesAction.java
src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentResponse.java
src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/segments/ShardSegments.java
src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/get/GetSettingsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/settings/get/TransportGetSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/put/TransportUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/DeleteIndexTemplateRequest.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/DeleteIndexTemplateRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/TransportDeleteIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/GetIndexTemplatesRequest.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/TransportGetIndexTemplatesAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/TransportPutIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/IndexShardUpgradeStatus.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/IndexUpgradeStatus.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/ShardUpgradeStatus.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/TransportUpgradeStatusAction.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusAction.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusRequest.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusResponse.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/ShardUpgradeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/ShardUpgradeResponse.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeAction.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeResponse.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsClusterStateUpdateRequest.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsResponse.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryRequest.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryResponse.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequest.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryResponse.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java
src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
src/main/java/org/elasticsearch/action/count/CountAction.java
src/main/java/org/elasticsearch/action/count/CountRequest.java
src/main/java/org/elasticsearch/action/count/CountRequestBuilder.java
src/main/java/org/elasticsearch/action/count/CountResponse.java
src/main/java/org/elasticsearch/action/count/ShardCountRequest.java
src/main/java/org/elasticsearch/action/count/TransportCountAction.java
src/main/java/org/elasticsearch/action/exists/ExistsRequest.java
src/main/java/org/elasticsearch/action/exists/ExistsResponse.java
src/main/java/org/elasticsearch/action/exists/ShardExistsRequest.java
src/main/java/org/elasticsearch/action/exists/ShardExistsResponse.java
src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
src/main/java/org/elasticsearch/action/explain/ExplainRequest.java
src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequest.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsResponse.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardRequest.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardResponse.java
src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
src/main/java/org/elasticsearch/action/get/GetRequest.java
src/main/java/org/elasticsearch/action/get/MultiGetShardRequest.java
src/main/java/org/elasticsearch/action/get/TransportGetAction.java
src/main/java/org/elasticsearch/action/get/TransportShardMultiGetAction.java
src/main/java/org/elasticsearch/action/index/IndexRequestBuilder.java
src/main/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequest.java
src/main/java/org/elasticsearch/action/percolate/PercolateRequest.java
src/main/java/org/elasticsearch/action/percolate/PercolateResponse.java
src/main/java/org/elasticsearch/action/percolate/PercolateShardRequest.java
src/main/java/org/elasticsearch/action/percolate/PercolateShardResponse.java
src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
src/main/java/org/elasticsearch/action/percolate/TransportShardMultiPercolateAction.java
src/main/java/org/elasticsearch/action/search/SearchRequest.java
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
comments:
Merge branch 'master' into require_units

Conflicts:
	src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
	src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
	src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
	src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java

time:
2015-06-04T17:31:28Z
class:
comments:
Docs: removed the unused query_dsl/index.asciidoc

time:
2015-06-04T16:25:49Z
class:
src/main/java/org/elasticsearch/common/network/MulticastChannel.java
src/main/java/org/elasticsearch/common/network/NetworkService.java
src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java
comments:
Default to binding to loopback address

Binds to the address returned by `InetAddress.getLoopbackAddress()`.

Closes #11300

time:
2015-06-04T15:22:04Z
class:
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregator.java
src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgTests.java
comments:
Merge pull request #11465 from polyfractal/bugfix/movavg_double_predict

Aggregations: Fix bug where moving_avg prediction keys are appended to previous prediction

time:
2015-06-04T15:20:29Z
class:
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregator.java
src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgTests.java
comments:
Fix bug where predictions append to the previous prediction

Fixes #11454

time:
2015-06-04T15:11:40Z
class:
src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTest.java
comments:
Fixing incompatibilities with changes on master in DateFieldMapper and RangeQueryParser

time:
2015-06-04T13:42:55Z
class:
comments:
Doc: Minor typo fix in query_filter_context.asciidoc

time:
2015-06-04T12:44:52Z
class:
src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
src/main/java/org/elasticsearch/action/TimestampParsingException.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
src/main/java/org/elasticsearch/common/joda/DateMathParser.java
src/main/java/org/elasticsearch/common/joda/Joda.java
src/main/java/org/elasticsearch/index/fielddata/FieldDataType.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataCache.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/index/fielddata/ShardFieldData.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/GlobalOrdinalsIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/InternalGlobalOrdinalsIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexGeoPointFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexOrdinalsFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/BinaryDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/BinaryDVNumericIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/BytesBinaryDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DisabledIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DocValuesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FSTBytesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointBinaryDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointCompressedIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IndexIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/NumericDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PackedArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/SortedNumericDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/SortedSetDVOrdinalsIndexFieldData.java
src/main/java/org/elasticsearch/index/fieldvisitor/SingleFieldsVisitor.java
src/main/java/org/elasticsearch/index/mapper/DocumentFieldMappers.java
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/FieldMappersLookup.java
src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/Murmur3FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SizeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
src/main/java/org/elasticsearch/index/search/MatchQuery.java
src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
src/main/java/org/elasticsearch/index/search/geo/IndexedGeoBoundingBoxQuery.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
src/main/java/org/elasticsearch/index/similarity/SimilarityService.java
src/main/java/org/elasticsearch/index/termvectors/ShardTermVectorsService.java
src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCacheListener.java
src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
src/main/java/org/elasticsearch/percolator/SingleDocumentPercolatorIndex.java
src/main/java/org/elasticsearch/search/SearchService.java
src/main/java/org/elasticsearch/search/aggregations/AggregationBuilder.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/ChildrenParser.java
src/main/java/org/elasticsearch/search/aggregations/support/AggregationContext.java
src/main/java/org/elasticsearch/search/aggregations/support/format/ValueFormat.java
src/main/java/org/elasticsearch/search/aggregations/support/format/ValueFormatter.java
src/main/java/org/elasticsearch/search/aggregations/support/format/ValueParser.java
src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
src/main/java/org/elasticsearch/search/highlight/FastVectorHighlighter.java
src/main/java/org/elasticsearch/search/highlight/HighlightUtils.java
src/main/java/org/elasticsearch/search/highlight/PlainHighlighter.java
src/main/java/org/elasticsearch/search/highlight/PostingsHighlighter.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/FragmentBuilderHelper.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SourceScoreOrderFragmentsBuilder.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SourceSimpleFragmentsBuilder.java
src/main/java/org/elasticsearch/search/lookup/FieldLookup.java
src/main/java/org/elasticsearch/search/lookup/LeafFieldsLookup.java
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
src/main/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProvider.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java
src/test/java/org/elasticsearch/cluster/MinimumMasterNodesTests.java
src/test/java/org/elasticsearch/common/joda/DateMathParserTests.java
src/test/java/org/elasticsearch/count/simple/SimpleCountTests.java
src/test/java/org/elasticsearch/deps/joda/SimpleJodaTests.java
src/test/java/org/elasticsearch/index/analysis/PreBuiltAnalyzerTests.java
src/test/java/org/elasticsearch/index/fielddata/NoOrdinalsStringFieldDataTests.java
src/test/java/org/elasticsearch/index/mapper/FieldMappersLookupTests.java
src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
src/test/java/org/elasticsearch/index/mapper/core/Murmur3FieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/geo/GeohashMappingGeoPointTests.java
src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/merge/TestMergeMapperTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldsIntegrationTests.java
src/test/java/org/elasticsearch/index/mapper/simple/SimpleMapperTests.java
src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
src/test/java/org/elasticsearch/index/similarity/SimilarityTests.java
src/test/java/org/elasticsearch/indices/warmer/SimpleIndicesWarmerTests.java
src/test/java/org/elasticsearch/rest/action/admin/indices/upgrade/UpgradeReallyOldIndexTest.java
src/test/java/org/elasticsearch/search/aggregations/AggregationsBinaryTests.java
src/test/java/org/elasticsearch/search/child/ChildQuerySearchBwcTests.java
src/test/java/org/elasticsearch/search/child/ParentFieldLoadingBwcTest.java
src/test/java/org/elasticsearch/search/child/ParentFieldLoadingTest.java
src/test/java/org/elasticsearch/search/geo/GeoShapeIntegrationTests.java
src/test/java/org/elasticsearch/search/query/SearchQueryTests.java
src/test/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProviderV1.java
src/test/java/org/elasticsearch/search/suggest/completion/CompletionPostingsFormatTest.java
src/test/java/org/elasticsearch/snapshots/AbstractSnapshotTests.java
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
comments:
Merge branch 'master' into feature/query-refactoring

 Conflicts:
	src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
	src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java

time:
2015-06-04T11:52:14Z
class:
src/main/java/org/elasticsearch/search/aggregations/AggregationBuilder.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
src/test/java/org/elasticsearch/search/aggregations/AggregationsBinaryTests.java
comments:
Aggregations: Allow aggregation_binary to build and parse

Previously AggregationBuilder would wrap binary_aggregations in an aggregations object which would break parsing. This has been fixed so that for normally specified aggregations there are wrapped in an `aggregations` object, for binary aggregation which have the same XContentType as the builder it will use an `aggregations` field name and use the aggregationsBinary as the value (this will render the same as normal aggregations), and for binary aggregation with a different ContentType from the builder we use an `aggregations_binary` field name and add the aggregationsBinary as a binary value.

Additionally the logic in AggregationParsers needed to be changed as it previously did not parse `aggregations_binary` fields in sub-aggregations. A check has been added for the `aggregations_binary` field name and the binaryValue of this field is used to create a new parser and create the correct AggregatorFactories.

Close #11457

time:
2015-06-04T11:16:32Z
class:
comments:
Docs: Fixed heading level for in query DSL docs

time:
2015-06-04T10:30:16Z
class:
src/test/java/org/elasticsearch/cluster/MinimumMasterNodesTests.java
comments:
[TEST] Add more logging to allocation decision

time:
2015-06-04T07:21:59Z
class:
comments:
regen back compat indices

time:
2015-06-04T05:02:02Z
class:
comments:
Fix branch nuking

time:
2015-06-04T04:50:31Z
class:
comments:
Don't bring in language plugins

time:
2015-06-04T04:49:04Z
class:
comments:
Use cp -R everywhere

time:
2015-06-04T04:47:58Z
class:
comments:
Make migration script picky

time:
2015-06-04T04:45:33Z
class:
comments:
Remove plugins/ from gitignore

time:
2015-06-03T23:59:37Z
class:
comments:
Docs: Reorganised the Query DSL docs into families and explaing query vs filter context

time:
2015-06-03T23:41:57Z
class:
src/main/java/org/elasticsearch/snapshots/RestoreService.java
comments:
only add units to a snapshot that was created before 2.0

time:
2015-06-03T23:21:38Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequest.java
src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
src/main/java/org/elasticsearch/action/search/SearchRequest.java
src/main/java/org/elasticsearch/action/search/SearchScrollRequest.java
src/main/java/org/elasticsearch/action/support/AdapterActionFuture.java
src/main/java/org/elasticsearch/action/support/master/AcknowledgedRequest.java
src/main/java/org/elasticsearch/action/support/master/MasterNodeOperationRequest.java
src/main/java/org/elasticsearch/action/support/nodes/NodesOperationRequest.java
src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
src/main/java/org/elasticsearch/action/support/single/instance/InstanceShardOperationRequest.java
src/main/java/org/elasticsearch/common/xcontent/support/XContentMapValues.java
src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/DerivativeParser.java
src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
comments:
cutover to getClass().getSimpleName() for settings names

time:
2015-06-03T22:23:14Z
class:
src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
comments:
Reduce shard inactivity timeout to 5m

To better distribute the memory allocating to indexing, the IndexingMemoryController periodically checks the different shard for their last indexing activity. If no activity has happened for a while, the controller marks the shards as in active and allocated it's memory buffer budget (but a small minimal budget) to other active shards. The recently added synced flush feature (#11179, #11336) uses this inactivity trigger to attempt as a trigger to attempt adding a sync id marker (which will speed up future recoveries).

We wait for 30m before declaring a shard inactive. However, these days the operation just requires a refresh and is light. We can be stricter (and 5m) increase the chance a synced flush will be triggered.

Closes #11479

time:
2015-06-03T20:05:46Z
class:
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
comments:
Tests: remove race condition in the masterShutdownDuringSnapshotTest

time:
2015-06-03T19:02:04Z
class:
src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
src/test/java/org/elasticsearch/snapshots/AbstractSnapshotTests.java
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
comments:
Snapshot/Restore: sync up snapshot shard status on a master restart

When a snapshot operation on a particular shard finishes, the data node where this shard resides sends an update shard status request to the master node to indicate that the operation on the shard is done. When the master node receives the command it queues cluster state update task and acknowledges the receipt of the command to the data node.

The update snapshot shard status tasks have relatively low priority, so during cluster instability they tend to get stuck at the end of the queue. If the master node gets restarted before processing these tasks the information about the shards can be lost and the new master assumes that they are still in process while the data node thinks that these shards are already done.

 This commit add a retry mechanism that checks compares cluster state of a newly elected master and the current state of snapshot shards and updates the cluster state on the master again if needed.

Closes #11314

time:
2015-06-03T18:56:28Z
class:
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
src/test/java/org/elasticsearch/rest/action/admin/indices/upgrade/UpgradeReallyOldIndexTest.java
comments:
Use the smallest version rather than the default version

The minimum version comparison was always using the default version
sicne the comparison was flipped.

Closes #11474

time:
2015-06-03T18:35:31Z
class:
src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
Fix possible BWC break after upgrading from pre 1.0.0

This is happening because of #4074 when we required that the top-level "query" is present to delete-by-query requests, but prior to that we required that it is not present. So the translog has a DBQ without "query" and when we try to parse it we hit this exception.

This commit adds special handling for pre 1.0.0 indices if we hit parse exception, we
try to reparse without a top-level query object to be BWC compatible for these indices.

Closes #10262

Conflicts:
	src/main/java/org/elasticsearch/index/shard/IndexShard.java
	src/test/java/org/elasticsearch/index/shard/IndexShardTests.java

time:
2015-06-03T18:05:33Z
class:
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
comments:
Merge pull request #11468 from s1monw/cleanup_delete_by_query

Cleanup DeleteByQuery code from IndexShard

time:
2015-06-03T17:01:29Z
class:
src/test/java/org/elasticsearch/search/query/SearchQueryTests.java
comments:
Test: Fix search query tests to use correct date, mark one test as awaitsfix

time:
2015-06-03T16:07:47Z
class:
src/main/java/org/elasticsearch/action/TimestampParsingException.java
src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
src/main/java/org/elasticsearch/common/joda/DateMathParser.java
src/main/java/org/elasticsearch/common/joda/Joda.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
src/main/java/org/elasticsearch/search/aggregations/support/format/ValueFormat.java
src/main/java/org/elasticsearch/search/aggregations/support/format/ValueParser.java
src/test/java/org/elasticsearch/common/joda/DateMathParserTests.java
src/test/java/org/elasticsearch/count/simple/SimpleCountTests.java
src/test/java/org/elasticsearch/deps/joda/SimpleJodaTests.java
src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
comments:
Date Parsing: Add parsing for epoch and epoch in milliseconds

This commit changes the date handling. First and foremost Elasticsearch
does not try to convert every date to a unix timestamp first and then
uses the configured date. This now allows for dates like `2015121212` to
be parsed correctly.

Instead it is now explicit by adding a `epoch_second` and `epoch_millis`
date format. This also means, that the default date format now is
`epoch_millis||dateOptionalTime` to remain backwards compatible.

Closes #5328
Relates #10971

time:
2015-06-03T10:56:25Z
class:
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
comments:
Cleanup DeleteByQuery code from IndexShard

time:
2015-06-03T10:35:25Z
class:
comments:
[DOCS] Document the `index.shared_filesystem.recover_on_any_node` setting

Relates to #10960
Closes #11047

time:
2015-06-03T10:20:41Z
class:
src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java
comments:
Bulk: allow null values in action/metadata line parameters

Closes #11458

time:
2015-06-03T10:10:55Z
class:
src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
src/main/java/org/elasticsearch/index/fielddata/FieldDataType.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataCache.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/index/fielddata/ShardFieldData.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/GlobalOrdinalsIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/InternalGlobalOrdinalsIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexGeoPointFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexOrdinalsFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/BinaryDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/BinaryDVNumericIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/BytesBinaryDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DisabledIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DocValuesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FSTBytesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointBinaryDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointCompressedIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IndexIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/NumericDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PackedArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/SortedNumericDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/SortedSetDVOrdinalsIndexFieldData.java
src/main/java/org/elasticsearch/index/fieldvisitor/SingleFieldsVisitor.java
src/main/java/org/elasticsearch/index/mapper/DocumentFieldMappers.java
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/FieldMappersLookup.java
src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/Murmur3FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SizeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
src/main/java/org/elasticsearch/index/search/MatchQuery.java
src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
src/main/java/org/elasticsearch/index/search/geo/IndexedGeoBoundingBoxQuery.java
src/main/java/org/elasticsearch/index/similarity/SimilarityService.java
src/main/java/org/elasticsearch/index/termvectors/ShardTermVectorsService.java
src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCacheListener.java
src/main/java/org/elasticsearch/percolator/SingleDocumentPercolatorIndex.java
src/main/java/org/elasticsearch/search/SearchService.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/ChildrenParser.java
src/main/java/org/elasticsearch/search/aggregations/support/AggregationContext.java
src/main/java/org/elasticsearch/search/aggregations/support/format/ValueFormat.java
src/main/java/org/elasticsearch/search/aggregations/support/format/ValueFormatter.java
src/main/java/org/elasticsearch/search/aggregations/support/format/ValueParser.java
src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
src/main/java/org/elasticsearch/search/highlight/FastVectorHighlighter.java
src/main/java/org/elasticsearch/search/highlight/HighlightUtils.java
src/main/java/org/elasticsearch/search/highlight/PlainHighlighter.java
src/main/java/org/elasticsearch/search/highlight/PostingsHighlighter.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/FragmentBuilderHelper.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SourceScoreOrderFragmentsBuilder.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SourceSimpleFragmentsBuilder.java
src/main/java/org/elasticsearch/search/lookup/FieldLookup.java
src/main/java/org/elasticsearch/search/lookup/LeafFieldsLookup.java
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
src/main/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProvider.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
src/test/java/org/elasticsearch/index/analysis/PreBuiltAnalyzerTests.java
src/test/java/org/elasticsearch/index/fielddata/NoOrdinalsStringFieldDataTests.java
src/test/java/org/elasticsearch/index/mapper/FieldMappersLookupTests.java
src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
src/test/java/org/elasticsearch/index/mapper/core/Murmur3FieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/geo/GeohashMappingGeoPointTests.java
src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/merge/TestMergeMapperTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldsIntegrationTests.java
src/test/java/org/elasticsearch/index/mapper/simple/SimpleMapperTests.java
src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
src/test/java/org/elasticsearch/index/similarity/SimilarityTests.java
src/test/java/org/elasticsearch/indices/warmer/SimpleIndicesWarmerTests.java
src/test/java/org/elasticsearch/search/child/ChildQuerySearchBwcTests.java
src/test/java/org/elasticsearch/search/child/ParentFieldLoadingBwcTest.java
src/test/java/org/elasticsearch/search/child/ParentFieldLoadingTest.java
src/test/java/org/elasticsearch/search/geo/GeoShapeIntegrationTests.java
src/test/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProviderV1.java
src/test/java/org/elasticsearch/search/suggest/completion/CompletionPostingsFormatTest.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
comments:
Merge pull request #11422 from rjernst/pr/fieldtype-mapper-split

Mappings: Refactor core index/query time properties into FieldType

time:
2015-06-03T10:10:23Z
class:
src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
comments:
fix bad merge for parent field mapper, and change most field types to be
pkg-private and final

time:
2015-06-03T09:37:41Z
class:
src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
src/main/java/org/elasticsearch/action/search/SearchRequest.java
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryAndFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryThenFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchQueryThenFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
src/main/java/org/elasticsearch/action/update/UpdateHelper.java
src/main/java/org/elasticsearch/action/update/UpdateRequest.java
src/main/java/org/elasticsearch/action/update/UpdateRequestBuilder.java
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/JNACLibrary.java
src/main/java/org/elasticsearch/bootstrap/JNANatives.java
src/main/java/org/elasticsearch/client/transport/TransportClient.java
src/main/java/org/elasticsearch/cluster/ClusterState.java
src/main/java/org/elasticsearch/cluster/DiskUsage.java
src/main/java/org/elasticsearch/cluster/metadata/AliasMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
src/main/java/org/elasticsearch/cluster/metadata/RepositoriesMetaData.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
src/main/java/org/elasticsearch/common/bytes/PagedBytesReference.java
src/main/java/org/elasticsearch/common/cli/CliTool.java
src/main/java/org/elasticsearch/common/compress/CompressedIndexInput.java
src/main/java/org/elasticsearch/common/compress/CompressedStreamInput.java
src/main/java/org/elasticsearch/common/compress/CompressedXContent.java
src/main/java/org/elasticsearch/common/compress/Compressor.java
src/main/java/org/elasticsearch/common/compress/CompressorFactory.java
src/main/java/org/elasticsearch/common/compress/NotCompressedException.java
src/main/java/org/elasticsearch/common/compress/NotXContentException.java
src/main/java/org/elasticsearch/common/compress/deflate/DeflateCompressor.java
src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressedIndexInput.java
src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressedStreamInput.java
src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressor.java
src/main/java/org/elasticsearch/common/io/PathUtils.java
src/main/java/org/elasticsearch/common/io/stream/InputStreamStreamInput.java
src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java
src/main/java/org/elasticsearch/common/settings/Settings.java
src/main/java/org/elasticsearch/common/xcontent/XContentFactory.java
src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
src/main/java/org/elasticsearch/common/xcontent/XContentType.java
src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
src/main/java/org/elasticsearch/gateway/MetaDataStateFormat.java
src/main/java/org/elasticsearch/index/AbstractIndexComponent.java
src/main/java/org/elasticsearch/index/aliases/IndexAlias.java
src/main/java/org/elasticsearch/index/aliases/IndexAliasesService.java
src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryBuilders.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TemplateQueryParser.java
src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionBuilders.java
src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionBuilder.java
src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionParser.java
src/main/java/org/elasticsearch/index/query/support/BaseInnerHitBuilder.java
src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshot.java
src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshots.java
src/main/java/org/elasticsearch/index/snapshots/blobstore/SnapshotFiles.java
src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
src/main/java/org/elasticsearch/node/Node.java
src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
src/main/java/org/elasticsearch/plugins/PluginManager.java
src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/repositories/get/RestGetRepositoriesAction.java
src/main/java/org/elasticsearch/rest/action/update/RestUpdateAction.java
src/main/java/org/elasticsearch/script/AbstractScriptParser.java
src/main/java/org/elasticsearch/script/Script.java
src/main/java/org/elasticsearch/script/ScriptParameterParser.java
src/main/java/org/elasticsearch/script/ScriptService.java
src/main/java/org/elasticsearch/script/Template.java
src/main/java/org/elasticsearch/search/SearchService.java
src/main/java/org/elasticsearch/search/aggregations/ValuesSourceAggregationBuilder.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/ChildrenParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsBuilder.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ChiSquare.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/GND.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/JLHScore.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/MutualInformation.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/PercentageScore.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ScriptHeuristic.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/SignificanceHeuristicBuilder.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/InternalScriptedMetric.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricBuilder.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricParser.java
src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsBuilder.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceParser.java
src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
src/main/java/org/elasticsearch/search/fetch/script/ScriptFieldsParseElement.java
src/main/java/org/elasticsearch/search/internal/ShardSearchLocalRequest.java
src/main/java/org/elasticsearch/search/internal/ShardSearchRequest.java
src/main/java/org/elasticsearch/search/internal/ShardSearchTransportRequest.java
src/main/java/org/elasticsearch/search/lookup/SourceLookup.java
src/main/java/org/elasticsearch/search/sort/ScriptSortBuilder.java
src/main/java/org/elasticsearch/search/sort/ScriptSortParser.java
src/main/java/org/elasticsearch/search/sort/SortBuilders.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestionBuilder.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestionContext.java
src/main/java/org/elasticsearch/transport/netty/MessageChannelHandler.java
src/main/java/org/elasticsearch/tribe/TribeService.java
src/test/java/org/elasticsearch/action/IndicesRequestTests.java
src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java
src/test/java/org/elasticsearch/action/update/UpdateRequestTests.java
src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java
src/test/java/org/elasticsearch/benchmark/scripts/expression/ScriptComparisonBenchmark.java
src/test/java/org/elasticsearch/benchmark/scripts/score/BasicScriptBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/TimeDataHistogramAggregationBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
src/test/java/org/elasticsearch/client/transport/TransportClientRetryTests.java
src/test/java/org/elasticsearch/client/transport/TransportClientTests.java
src/test/java/org/elasticsearch/cluster/DiskUsageTests.java
src/test/java/org/elasticsearch/cluster/NoMasterNodeTests.java
src/test/java/org/elasticsearch/cluster/metadata/MappingMetaDataParserTests.java
src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
src/test/java/org/elasticsearch/common/cli/CliToolTests.java
src/test/java/org/elasticsearch/common/compress/AbstractCompressedStreamTests.java
src/test/java/org/elasticsearch/common/compress/AbstractCompressedXContentTests.java
src/test/java/org/elasticsearch/common/compress/deflate/DeflateCompressedStreamTests.java
src/test/java/org/elasticsearch/common/compress/deflate/DeflateXContentTests.java
src/test/java/org/elasticsearch/common/compress/lzf/CompressedStreamOutput.java
src/test/java/org/elasticsearch/common/compress/lzf/LZFCompressedStreamOutput.java
src/test/java/org/elasticsearch/common/compress/lzf/LZFCompressedStreamTests.java
src/test/java/org/elasticsearch/common/compress/lzf/LZFTestCompressor.java
src/test/java/org/elasticsearch/common/compress/lzf/LZFXContentTests.java
src/test/java/org/elasticsearch/common/lucene/IndexCacheableQueryTests.java
src/test/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunctionTests.java
src/test/java/org/elasticsearch/common/settings/SettingsTests.java
src/test/java/org/elasticsearch/common/xcontent/XContentFactoryTests.java
src/test/java/org/elasticsearch/document/BulkTests.java
src/test/java/org/elasticsearch/env/EnvironmentTests.java
src/test/java/org/elasticsearch/index/aliases/IndexAliasesServiceTests.java
src/test/java/org/elasticsearch/index/fielddata/ParentChildFieldDataTests.java
src/test/java/org/elasticsearch/index/mapper/binary/BinaryMappingTests.java
src/test/java/org/elasticsearch/index/mapper/merge/TestMergeMapperTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
src/test/java/org/elasticsearch/index/mapper/source/CompressSourceMappingTests.java
src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeFormatTests.java
src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeTimezoneTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/index/query/TemplateQueryBuilderTest.java
src/test/java/org/elasticsearch/index/query/TemplateQueryParserTest.java
src/test/java/org/elasticsearch/index/query/TemplateQueryTest.java
src/test/java/org/elasticsearch/index/search/child/AbstractChildTests.java
src/test/java/org/elasticsearch/index/translog/TranslogTests.java
src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerTests.java
src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateTests.java
src/test/java/org/elasticsearch/nested/SimpleNestedTests.java
src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
src/test/java/org/elasticsearch/percolator/PercolatorTests.java
src/test/java/org/elasticsearch/routing/AliasRoutingTests.java
src/test/java/org/elasticsearch/script/CustomScriptContextTests.java
src/test/java/org/elasticsearch/script/GroovyScriptTests.java
src/test/java/org/elasticsearch/script/IndexLookupTests.java
src/test/java/org/elasticsearch/script/IndexedScriptTests.java
src/test/java/org/elasticsearch/script/NativeScriptTests.java
src/test/java/org/elasticsearch/script/OnDiskScriptTests.java
src/test/java/org/elasticsearch/script/ScriptFieldTests.java
src/test/java/org/elasticsearch/script/ScriptParameterParserTest.java
src/test/java/org/elasticsearch/script/ScriptServiceTests.java
src/test/java/org/elasticsearch/script/expression/ExpressionScriptTests.java
src/test/java/org/elasticsearch/search/SearchWithRejectionsTests.java
src/test/java/org/elasticsearch/search/aggregations/EquivalenceTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/DateRangeTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/DoubleTermsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/HistogramTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/IPv4RangeTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/LongTermsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/MinDocCountTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/RangeTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/StringTermsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTest.java
src/test/java/org/elasticsearch/search/aggregations/metrics/ScriptedMetricTests.java
src/test/java/org/elasticsearch/search/child/ChildQuerySearchBwcTests.java
src/test/java/org/elasticsearch/search/child/ChildQuerySearchTests.java
src/test/java/org/elasticsearch/search/child/ParentFieldLoadingBwcTest.java
src/test/java/org/elasticsearch/search/child/ParentFieldLoadingTest.java
src/test/java/org/elasticsearch/search/compress/SearchSourceCompressTests.java
src/test/java/org/elasticsearch/search/fields/SearchFieldsTests.java
src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptTests.java
src/test/java/org/elasticsearch/search/functionscore/FunctionScoreTests.java
src/test/java/org/elasticsearch/search/functionscore/RandomScoreFunctionTests.java
src/test/java/org/elasticsearch/search/geo/GeoDistanceTests.java
src/test/java/org/elasticsearch/search/innerhits/InnerHitsTests.java
src/test/java/org/elasticsearch/search/query/SearchQueryTests.java
src/test/java/org/elasticsearch/search/rescore/QueryRescorerTests.java
src/test/java/org/elasticsearch/search/scriptfilter/ScriptQuerySearchTests.java
src/test/java/org/elasticsearch/search/sort/SimpleSortTests.java
src/test/java/org/elasticsearch/search/stats/SearchStatsTests.java
src/test/java/org/elasticsearch/search/suggest/SuggestSearchTests.java
src/test/java/org/elasticsearch/search/timeout/SearchTimeoutTests.java
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/snapshots/mockstore/MockRepositoryPlugin.java
src/test/java/org/elasticsearch/test/ElasticsearchSingleNodeTest.java
src/test/java/org/elasticsearch/test/ExternalNode.java
src/test/java/org/elasticsearch/test/ExternalTestCluster.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
src/test/java/org/elasticsearch/tribe/TribeUnitTests.java
src/test/java/org/elasticsearch/update/UpdateByNativeScriptTests.java
src/test/java/org/elasticsearch/update/UpdateTests.java
comments:
Merge branch 'master' into pr/fieldtype-mapper-split

time:
2015-06-03T08:44:02Z
class:
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
src/main/java/org/elasticsearch/action/index/IndexRequestBuilder.java
src/main/java/org/elasticsearch/action/search/SearchRequest.java
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryAndFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryThenFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchQueryThenFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
src/main/java/org/elasticsearch/action/update/UpdateHelper.java
src/main/java/org/elasticsearch/action/update/UpdateRequest.java
src/main/java/org/elasticsearch/action/update/UpdateRequestBuilder.java
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/JNACLibrary.java
src/main/java/org/elasticsearch/bootstrap/JNANatives.java
src/main/java/org/elasticsearch/client/transport/TransportClient.java
src/main/java/org/elasticsearch/cluster/ClusterState.java
src/main/java/org/elasticsearch/cluster/DiskUsage.java
src/main/java/org/elasticsearch/cluster/metadata/AliasMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
src/main/java/org/elasticsearch/cluster/metadata/RepositoriesMetaData.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
src/main/java/org/elasticsearch/common/bytes/PagedBytesReference.java
src/main/java/org/elasticsearch/common/cli/CliTool.java
src/main/java/org/elasticsearch/common/compress/CompressedIndexInput.java
src/main/java/org/elasticsearch/common/compress/CompressedStreamInput.java
src/main/java/org/elasticsearch/common/compress/CompressedXContent.java
src/main/java/org/elasticsearch/common/compress/Compressor.java
src/main/java/org/elasticsearch/common/compress/CompressorFactory.java
src/main/java/org/elasticsearch/common/compress/NotCompressedException.java
src/main/java/org/elasticsearch/common/compress/NotXContentException.java
src/main/java/org/elasticsearch/common/compress/deflate/DeflateCompressor.java
src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressedIndexInput.java
src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressedStreamInput.java
src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressor.java
src/main/java/org/elasticsearch/common/io/PathUtils.java
src/main/java/org/elasticsearch/common/io/stream/InputStreamStreamInput.java
src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java
src/main/java/org/elasticsearch/common/settings/Settings.java
src/main/java/org/elasticsearch/common/xcontent/XContentFactory.java
src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
src/main/java/org/elasticsearch/common/xcontent/XContentType.java
src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
src/main/java/org/elasticsearch/gateway/MetaDataStateFormat.java
src/main/java/org/elasticsearch/index/AbstractIndexComponent.java
src/main/java/org/elasticsearch/index/IndexService.java
src/main/java/org/elasticsearch/index/aliases/IndexAlias.java
src/main/java/org/elasticsearch/index/aliases/IndexAliasesService.java
src/main/java/org/elasticsearch/index/cache/filter/ShardFilterCacheModule.java
src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
src/main/java/org/elasticsearch/index/indexing/ShardIndexingModule.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/percolator/PercolatorShardModule.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryBuilders.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TemplateQueryParser.java
src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionBuilders.java
src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionBuilder.java
src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionParser.java
src/main/java/org/elasticsearch/index/query/support/BaseInnerHitBuilder.java
src/main/java/org/elasticsearch/index/search/stats/ShardSearchModule.java
src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
src/main/java/org/elasticsearch/index/snapshots/IndexShardSnapshotModule.java
src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshot.java
src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshots.java
src/main/java/org/elasticsearch/index/snapshots/blobstore/SnapshotFiles.java
src/main/java/org/elasticsearch/index/store/StoreModule.java
src/main/java/org/elasticsearch/index/suggest/SuggestShardModule.java
src/main/java/org/elasticsearch/index/termvectors/ShardTermVectorsModule.java
src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
src/main/java/org/elasticsearch/node/Node.java
src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
src/main/java/org/elasticsearch/plugins/PluginManager.java
src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/repositories/get/RestGetRepositoriesAction.java
src/main/java/org/elasticsearch/rest/action/update/RestUpdateAction.java
src/main/java/org/elasticsearch/script/AbstractScriptParser.java
src/main/java/org/elasticsearch/script/Script.java
src/main/java/org/elasticsearch/script/ScriptParameterParser.java
src/main/java/org/elasticsearch/script/ScriptService.java
src/main/java/org/elasticsearch/script/Template.java
src/main/java/org/elasticsearch/search/SearchService.java
src/main/java/org/elasticsearch/search/aggregations/ValuesSourceAggregationBuilder.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/ChildrenParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsBuilder.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ChiSquare.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/GND.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/JLHScore.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/MutualInformation.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/PercentageScore.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ScriptHeuristic.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/SignificanceHeuristicBuilder.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/InternalScriptedMetric.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricBuilder.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricParser.java
src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsBuilder.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceParser.java
src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
src/main/java/org/elasticsearch/search/fetch/script/ScriptFieldsParseElement.java
src/main/java/org/elasticsearch/search/internal/ShardSearchLocalRequest.java
src/main/java/org/elasticsearch/search/internal/ShardSearchRequest.java
src/main/java/org/elasticsearch/search/internal/ShardSearchTransportRequest.java
src/main/java/org/elasticsearch/search/lookup/SourceLookup.java
src/main/java/org/elasticsearch/search/sort/ScriptSortBuilder.java
src/main/java/org/elasticsearch/search/sort/ScriptSortParser.java
src/main/java/org/elasticsearch/search/sort/SortBuilders.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestionBuilder.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestionContext.java
src/main/java/org/elasticsearch/transport/netty/MessageChannelHandler.java
src/main/java/org/elasticsearch/tribe/TribeService.java
src/test/java/org/elasticsearch/action/IndicesRequestTests.java
src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequestBuilderTest.java
src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java
src/test/java/org/elasticsearch/action/index/IndexRequestBuilderTest.java
src/test/java/org/elasticsearch/action/update/UpdateRequestTests.java
src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java
src/test/java/org/elasticsearch/benchmark/scripts/expression/ScriptComparisonBenchmark.java
src/test/java/org/elasticsearch/benchmark/scripts/score/BasicScriptBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/TimeDataHistogramAggregationBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
src/test/java/org/elasticsearch/client/transport/TransportClientRetryTests.java
src/test/java/org/elasticsearch/client/transport/TransportClientTests.java
src/test/java/org/elasticsearch/cluster/DiskUsageTests.java
src/test/java/org/elasticsearch/cluster/NoMasterNodeTests.java
src/test/java/org/elasticsearch/cluster/metadata/MappingMetaDataParserTests.java
src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
src/test/java/org/elasticsearch/common/cli/CliToolTests.java
src/test/java/org/elasticsearch/common/compress/AbstractCompressedStreamTests.java
src/test/java/org/elasticsearch/common/compress/AbstractCompressedXContentTests.java
src/test/java/org/elasticsearch/common/compress/deflate/DeflateCompressedStreamTests.java
src/test/java/org/elasticsearch/common/compress/deflate/DeflateXContentTests.java
src/test/java/org/elasticsearch/common/compress/lzf/CompressedStreamOutput.java
src/test/java/org/elasticsearch/common/compress/lzf/LZFCompressedStreamOutput.java
src/test/java/org/elasticsearch/common/compress/lzf/LZFCompressedStreamTests.java
src/test/java/org/elasticsearch/common/compress/lzf/LZFTestCompressor.java
src/test/java/org/elasticsearch/common/compress/lzf/LZFXContentTests.java
src/test/java/org/elasticsearch/common/lucene/IndexCacheableQueryTests.java
src/test/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunctionTests.java
src/test/java/org/elasticsearch/common/settings/SettingsTests.java
src/test/java/org/elasticsearch/common/xcontent/XContentFactoryTests.java
src/test/java/org/elasticsearch/document/BulkTests.java
src/test/java/org/elasticsearch/env/EnvironmentTests.java
src/test/java/org/elasticsearch/index/aliases/IndexAliasesServiceTests.java
src/test/java/org/elasticsearch/index/fielddata/ParentChildFieldDataTests.java
src/test/java/org/elasticsearch/index/mapper/binary/BinaryMappingTests.java
src/test/java/org/elasticsearch/index/mapper/merge/TestMergeMapperTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
src/test/java/org/elasticsearch/index/mapper/source/CompressSourceMappingTests.java
src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeFormatTests.java
src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeTimezoneTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/index/query/TemplateQueryBuilderTest.java
src/test/java/org/elasticsearch/index/query/TemplateQueryParserTest.java
src/test/java/org/elasticsearch/index/query/TemplateQueryTest.java
src/test/java/org/elasticsearch/index/search/child/AbstractChildTests.java
src/test/java/org/elasticsearch/index/shard/IndexShardModuleTests.java
src/test/java/org/elasticsearch/index/translog/TranslogTests.java
src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerTests.java
src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateTests.java
src/test/java/org/elasticsearch/nested/SimpleNestedTests.java
src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
src/test/java/org/elasticsearch/percolator/PercolatorTests.java
src/test/java/org/elasticsearch/rest/HeadersAndContextCopyClientTests.java
src/test/java/org/elasticsearch/rest/NoOpClient.java
src/test/java/org/elasticsearch/routing/AliasRoutingTests.java
src/test/java/org/elasticsearch/script/CustomScriptContextTests.java
src/test/java/org/elasticsearch/script/GroovyScriptTests.java
src/test/java/org/elasticsearch/script/IndexLookupTests.java
src/test/java/org/elasticsearch/script/IndexedScriptTests.java
src/test/java/org/elasticsearch/script/NativeScriptTests.java
src/test/java/org/elasticsearch/script/OnDiskScriptTests.java
src/test/java/org/elasticsearch/script/ScriptFieldTests.java
src/test/java/org/elasticsearch/script/ScriptParameterParserTest.java
src/test/java/org/elasticsearch/script/ScriptServiceTests.java
src/test/java/org/elasticsearch/script/expression/ExpressionScriptTests.java
src/test/java/org/elasticsearch/search/SearchWithRejectionsTests.java
src/test/java/org/elasticsearch/search/aggregations/EquivalenceTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/DateRangeTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/DoubleTermsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/HistogramTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/IPv4RangeTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/LongTermsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/MinDocCountTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/RangeTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/StringTermsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTest.java
src/test/java/org/elasticsearch/search/aggregations/metrics/ScriptedMetricTests.java
src/test/java/org/elasticsearch/search/child/ChildQuerySearchBwcTests.java
src/test/java/org/elasticsearch/search/child/ChildQuerySearchTests.java
src/test/java/org/elasticsearch/search/child/ParentFieldLoadingBwcTest.java
src/test/java/org/elasticsearch/search/child/ParentFieldLoadingTest.java
src/test/java/org/elasticsearch/search/compress/SearchSourceCompressTests.java
src/test/java/org/elasticsearch/search/fields/SearchFieldsTests.java
src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptTests.java
src/test/java/org/elasticsearch/search/functionscore/FunctionScoreTests.java
src/test/java/org/elasticsearch/search/functionscore/RandomScoreFunctionTests.java
src/test/java/org/elasticsearch/search/geo/GeoDistanceTests.java
src/test/java/org/elasticsearch/search/innerhits/InnerHitsTests.java
src/test/java/org/elasticsearch/search/query/SearchQueryTests.java
src/test/java/org/elasticsearch/search/rescore/QueryRescorerTests.java
src/test/java/org/elasticsearch/search/scriptfilter/ScriptQuerySearchTests.java
src/test/java/org/elasticsearch/search/sort/SimpleSortTests.java
src/test/java/org/elasticsearch/search/stats/SearchStatsTests.java
src/test/java/org/elasticsearch/search/suggest/SuggestSearchTests.java
src/test/java/org/elasticsearch/search/timeout/SearchTimeoutTests.java
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/snapshots/mockstore/MockRepositoryPlugin.java
src/test/java/org/elasticsearch/test/ElasticsearchSingleNodeTest.java
src/test/java/org/elasticsearch/test/ExternalNode.java
src/test/java/org/elasticsearch/test/ExternalTestCluster.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
src/test/java/org/elasticsearch/tribe/TribeUnitTests.java
src/test/java/org/elasticsearch/update/UpdateByNativeScriptTests.java
src/test/java/org/elasticsearch/update/UpdateTests.java
comments:
Merge branch 'master' into feature/query-refactoring

Conflicts:
	src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
	src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
	src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
	src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
	src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
	src/main/java/org/elasticsearch/index/query/TemplateQueryParser.java

time:
2015-06-02T22:22:21Z
class:
src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshot.java
src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshots.java
src/main/java/org/elasticsearch/index/snapshots/blobstore/SnapshotFiles.java
src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
comments:
Improve snapshot creation and deletion performance on repositories with large number of snapshots

Each shard repository consists of snapshot file for each snapshot - this file contains a map between original physical file that is snapshotted and its representation in repository. This data includes original filename, checksum and length. When a new snapshot is created, elasticsearch needs to read all these snapshot files to figure which file are already present in the repository and which files still have to be copied there. This change adds a new index file that contains all this information combined into a single file. So, if a repository has 1000 snapshots with 1000 shards elasticsearch will only need to read 1000 blobs (one per shard) instead of 1,000,000 to delete a snapshot. This change should also improve snapshot creation speed on repositories with large number of snapshot and high latency.

Fixes #8958

time:
2015-06-02T20:54:15Z
class:
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
src/main/java/org/elasticsearch/common/Booleans.java
src/main/java/org/elasticsearch/common/unit/TimeValue.java
src/test/java/org/elasticsearch/cluster/settings/SettingsValidatorTests.java
comments:
remove/downgrade nocommits

time:
2015-06-02T20:24:19Z
class:
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
comments:
make logged warning more stern

time:
2015-06-02T20:22:00Z
class:
src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java
src/main/java/org/elasticsearch/common/unit/TimeValue.java
src/test/java/org/elasticsearch/common/unit/ByteSizeValueTests.java
comments:
add more byte-sized tests; make byte-size parsing code similar to time value parsing

time:
2015-06-02T20:10:14Z
class:
src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
comments:
Add missing `shard` object in trace logging statement

time:
2015-06-02T20:08:28Z
class:
src/main/java/org/elasticsearch/common/unit/TimeValue.java
src/test/java/org/elasticsearch/common/unit/TimeValueTests.java
comments:
cleanup time value parsing; add/consolidate tests

time:
2015-06-02T17:42:45Z
class:
comments:
Docs: fix typo

Closes #112220

time:
2015-06-02T16:59:39Z
class:
src/main/java/org/elasticsearch/search/SearchService.java
comments:
Fail shard if search execution uncovers corruption
If, as part of the search execution, a corruption is uncovered, we should fail the shard
relates to #11419

time:
2015-06-02T15:33:58Z
class:
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
comments:
Tests: Increase block timeout for snapshot to complete in batchingShardUpdateTaskTest

For a large number of shards in the test 10 seconds doesn't seem to be enough on some CI hardware.

time:
2015-06-02T13:38:07Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/common/cli/CliTool.java
src/main/java/org/elasticsearch/common/settings/Settings.java
src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
src/main/java/org/elasticsearch/plugins/PluginManager.java
src/main/java/org/elasticsearch/tribe/TribeService.java
src/test/java/org/elasticsearch/client/transport/TransportClientRetryTests.java
src/test/java/org/elasticsearch/client/transport/TransportClientTests.java
src/test/java/org/elasticsearch/common/cli/CliToolTests.java
src/test/java/org/elasticsearch/common/settings/SettingsTests.java
src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerTests.java
src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
src/test/java/org/elasticsearch/test/ElasticsearchSingleNodeTest.java
src/test/java/org/elasticsearch/test/ExternalNode.java
src/test/java/org/elasticsearch/test/ExternalTestCluster.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/tribe/TribeUnitTests.java
comments:
add ability to prompt for selected settings on startup

Some settings may be considered sensitive, such as passwords, and storing them
in the configuration file on disk is not good from a security perspective. This change
allows settings to have a special value, `${prompt::text}` or `${prompt::secret}`, to
indicate that  elasticsearch should prompt the user for the actual value on startup.
This only works when started in the foreground. In cases where elasticsearch is started
as a service or in the background, an exception will be thrown.

Closes #10838

time:
2015-06-01T21:45:26Z
class:
src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
comments:
[TEST] Fix incorrect message in DiskThresholdDeciderTests

time:
2015-06-01T21:44:38Z
class:
src/main/java/org/elasticsearch/cluster/DiskUsage.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
src/test/java/org/elasticsearch/cluster/DiskUsageTests.java
src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
comments:
Merge branch 'pr/11313'

time:
2015-06-01T20:15:35Z
class:
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
comments:
parse longs not doubles, for the 'units missing' upgrade

time:
2015-06-01T19:10:42Z
class:
src/main/java/org/elasticsearch/common/io/PathUtils.java
src/test/java/org/elasticsearch/env/EnvironmentTests.java
comments:
always normalize root paths during resolution of paths

Currently, when trying to determine if a location is within one of the configured repository
paths, we compare the root path against a normalized path but the root path is never
normalized so the check may incorrectly fail. This change normalizes the root path and
compares it to the other normalized path.

Relates to #11426

time:
2015-06-01T18:58:46Z
class:
src/main/java/org/elasticsearch/cluster/DiskUsage.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
src/test/java/org/elasticsearch/cluster/DiskUsageTests.java
src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
comments:
Issue #10588 Display low disk watermark to be consistent with
documentaiton

Change log entries, add convenience methods, unit tests

Correct allocation decision messages to display used space

Missed a word

Correct displayed threshold value

time:
2015-06-01T17:12:44Z
class:
src/main/java/org/elasticsearch/common/unit/TimeValue.java
src/test/java/org/elasticsearch/common/unit/TimeValueTests.java
comments:
allow upper-case time units

time:
2015-06-01T17:08:54Z
class:
src/main/java/org/elasticsearch/common/unit/TimeValue.java
comments:
S does not mean the same as ms!  also, allow decimal for S

time:
2015-06-01T17:06:37Z
class:
src/main/java/org/elasticsearch/common/unit/TimeValue.java
comments:
add TODO to make case sensitivity consistent between byte sizes and times

time:
2015-06-01T16:47:12Z
class:
src/test/java/org/elasticsearch/common/unit/ByteSizeValueTests.java
src/test/java/org/elasticsearch/common/unit/TimeValueTests.java
comments:
add a few more tests

time:
2015-06-01T14:38:48Z
class:
src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
comments:
fix log message. exception first, parameters later

time:
2015-06-01T11:17:13Z
class:
src/main/java/org/elasticsearch/action/update/UpdateRequest.java
src/main/java/org/elasticsearch/index/query/TemplateQueryParser.java
src/main/java/org/elasticsearch/script/AbstractScriptParser.java
src/main/java/org/elasticsearch/script/ScriptService.java
src/main/java/org/elasticsearch/script/Template.java
src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
comments:
[TEST] fix failing script REST tests

time:
2015-06-01T11:15:51Z
class:
src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryAndFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryThenFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchQueryThenFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
src/test/java/org/elasticsearch/search/SearchWithRejectionsTests.java
comments:
Merge pull request #11434 from brwe/open-search-contexts

search: release search contexts after failed dfs or query phase for d

time:
2015-06-01T07:08:25Z
class:
comments:
Merge pull request #53 from Gasol/icu_transform_doc

Update documentation for ICU Transform

time:
2015-06-01T01:16:10Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/JNACLibrary.java
src/main/java/org/elasticsearch/bootstrap/JNANatives.java
comments:
Merge pull request #11433 from rmuir/cleanup_mlockall

Better error messages when mlockall fails

time:
2015-05-31T15:04:56Z
class:
comments:
Update documentation for ICU Transform

Fixes #40

time:
2015-05-31T11:30:26Z
class:
src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
comments:
Merge pull request #11436 from martijnvg/parent-child/bug/_parent_field_validation

parent/child: Fix `_parent.type` validation.

time:
2015-05-31T11:20:49Z
class:
src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
comments:
parent/child: Fix `_parent.type` validation.

A `_parent` field can only point to a type that doesn't exist yet.
The validation that checks this relied on have all mappings in the
MapperService. The issue is that this check is performed on the
elected master node and it may not have the IndexService at all
to perform this check. In that case it creates a temporary IndexService and
MapperService to perform mapping validation, but only the mappings
that are part of the put index call are created, not the already existing mappings.
Because of that the `_parent` field validation can't be performed.

By changing the validation to rely on the cluster state's IndexMetaData instead
we can get around the issue with the IndexService/MapperService on the elected
master node. The IndexMetaData always holds the MappingMetaData instances
for all types.

time:
2015-05-31T10:48:56Z
class:
src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryAndFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryThenFetchAction.java
comments:
send request to release search context in finally block to be on the save side

time:
2015-05-31T10:45:19Z
class:
src/test/java/org/elasticsearch/search/SearchWithRejectionsTests.java
comments:
remove check for failure, might rarely not fail at all

time:
2015-05-31T09:08:06Z
class:
src/test/java/org/elasticsearch/common/lucene/IndexCacheableQueryTests.java
comments:
Tests: Disable random wrapping of index readers in IndexCacheableQueryTests until LUCENE-6500 is fixed.

time:
2015-05-30T22:09:44Z
class:
src/test/java/org/elasticsearch/cluster/settings/ClusterSettingsTests.java
comments:
fix test bugs

time:
2015-05-30T21:36:58Z
class:
src/main/java/org/elasticsearch/common/Booleans.java
src/main/java/org/elasticsearch/common/settings/Settings.java
src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java
src/main/java/org/elasticsearch/common/unit/TimeValue.java
src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
src/test/java/org/elasticsearch/cluster/settings/ClusterSettingsTests.java
comments:
add undocumented kill switch, to disable requiring units on byte size and time settings

time:
2015-05-30T21:28:27Z
class:
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
src/main/java/org/elasticsearch/gateway/MetaStateService.java
src/main/java/org/elasticsearch/snapshots/RestoreService.java
src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
comments:
also upgrade cluster state, on loading initially (MetaDataService.loadGlobalState) and on restore (RestoreService)

time:
2015-05-30T20:40:38Z
class:
src/test/java/org/elasticsearch/index/translog/TranslogTests.java
comments:
[TEST] Draw a new path if the random file name contains an illegal character

time:
2015-05-30T16:23:14Z
class:
src/main/java/org/elasticsearch/bootstrap/JNANatives.java
comments:
Give specific instructions on Linux

time:
2015-05-30T15:52:51Z
class:
src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryAndFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchDfsQueryThenFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchQueryThenFetchAction.java
src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
src/test/java/org/elasticsearch/search/SearchWithRejectionsTests.java
comments:
search: release search contexts after failed dfs or query phase for dfs queries

When the dfs phase runs a SearchContext is created on each node that has a shard
for this query. When the query phase (or query and fetch phase) failed that SearchContext
was released only if the query was actually executed on the node. If for example
the query was rejected because the thread pool queue was full then the search context
was not released.
This commit adds a dedicated call for releasing the SearchContext in this case.

In addition, we must set the docIdsToLoad to null in case the fetch phase failed, otherwise
search contexts might not be released in releaseIrrelevantSearchContexts.

closes #11400

time:
2015-05-30T15:49:44Z
class:
src/main/java/org/elasticsearch/bootstrap/JNACLibrary.java
src/main/java/org/elasticsearch/bootstrap/JNANatives.java
comments:
Don't ever print RLIM_INFINITY in a confusing way

time:
2015-05-30T15:33:19Z
class:
src/main/java/org/elasticsearch/bootstrap/JNANatives.java
comments:
Don't try to getrlimit unless we are sure we will get the right one

time:
2015-05-30T15:20:20Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
comments:
Do the root check first, so resource limits arent confusing if you are root.

time:
2015-05-30T15:19:14Z
class:
src/main/java/org/elasticsearch/bootstrap/JNACLibrary.java
src/main/java/org/elasticsearch/bootstrap/JNANatives.java
comments:
code cleanups

time:
2015-05-30T15:17:16Z
class:
src/main/java/org/elasticsearch/bootstrap/JNACLibrary.java
src/main/java/org/elasticsearch/bootstrap/JNANatives.java
comments:
Add more debugging/error messages when mlockall fails

time:
2015-05-30T09:50:25Z
class:
src/test/java/org/elasticsearch/search/child/ChildQuerySearchBwcTests.java
comments:
test: use ElasticsearchTestCase#settings(Version) to test bwc behaviour instead of setting the version directly.

time:
2015-05-30T08:40:06Z
class:
src/main/java/org/elasticsearch/index/suggest/SuggestShardModule.java
comments:
Remove leftover class, not needed anymore

time:
2015-05-30T08:39:03Z
class:
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
src/main/java/org/elasticsearch/cluster/settings/Validator.java
src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java
src/main/java/org/elasticsearch/common/unit/TimeValue.java
src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
src/main/java/org/elasticsearch/index/engine/EngineConfig.java
src/test/java/org/elasticsearch/cluster/settings/ClusterSettingsTests.java
src/test/java/org/elasticsearch/common/unit/TimeValueTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramTests.java
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/versioning/SimpleVersioningTests.java
comments:
add missing units to index settings if index was created before 2.0

time:
2015-05-29T23:32:44Z
class:
src/main/java/org/elasticsearch/cluster/metadata/RepositoriesMetaData.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/repositories/get/RestGetRepositoriesAction.java
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/snapshots/mockstore/MockRepositoryPlugin.java
comments:
Snapshot/Restore: Add support for applying setting filters when displaying repository settings

Currently all settings that were specified during repository creation are displayed. This commit enables  plugins such as cloud-aws to filter out sensitive settings from the repository.

Closes #11265

time:
2015-05-29T20:50:27Z
class:
src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
comments:
Reduce cluster update reroutes with async fetch
When using async fetch, we can end up with cluster updates and reroutes based on teh number of shards. While not disastrous we can optimize it, since a single reroute is enough to apply to all the async fetch results that arrived during that time.

time:
2015-05-29T20:45:01Z
class:
comments:
docs: added missing ids

time:
2015-05-29T19:44:17Z
class:
src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
src/main/java/org/elasticsearch/index/AbstractIndexComponent.java
src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/ChildrenParser.java
src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
src/test/java/org/elasticsearch/index/fielddata/ParentChildFieldDataTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/index/search/child/AbstractChildTests.java
src/test/java/org/elasticsearch/search/child/ChildQuerySearchBwcTests.java
src/test/java/org/elasticsearch/search/child/ChildQuerySearchTests.java
src/test/java/org/elasticsearch/search/child/ParentFieldLoadingBwcTest.java
src/test/java/org/elasticsearch/search/child/ParentFieldLoadingTest.java
src/test/java/org/elasticsearch/update/UpdateTests.java
comments:
Parent/child: refactored _parent field mapper and parent/child queries

* Cut the `has_child` and `has_parent` queries over to use Lucene's query time global ordinal join. The main benefit of this change is that parent/child queries can now efficiently execute if parent/child queries are wrapped in a bigger boolean query. If the rest of the query only hit a few documents both has_child and has_parent queries don't need to evaluate all parent or child documents any more.
* Cut the `_parent` field over to use doc values. This significantly reduces the on heap memory footprint of parent/child, because the parent id values are never loaded into memory.

Breaking changes:
* The `type` option on the `_parent` field can only point to a parent type that doesn't exist yet, so this means that an existing type/mapping can't become a parent type any longer.
* The `has_child` and `has_parent` queries can no longer be use in alias filters.

All these changes, improvements and breaks in compatibility only apply for indices created with ES version 2.0 or higher. For indices creates with ES <= 2.0 the older implementation is used.

It is highly recommended to re-index all your indices with parent and child documents to benefit from all the improvements that come with this refactoring. The easiest way to achieve this is by using the scan and bulk apis using a simple script.

Closes #6107
Closes #8134

time:
2015-05-29T19:02:38Z
class:
comments:
Release notes: Add HTML header with UTF-8 encoding

time:
2015-05-29T17:52:29Z
class:
src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
comments:
[TEST] muted ElasticsearchRestTestCase

This is because commit 35a58d874ef56be50a0ad1d7bfb13edb4204d0a3 causes the following REST tests to fail and reverting the commit causes conflicts:

update/15_script/Script
script/10_basic/Indexed script

time:
2015-05-29T16:26:08Z
class:
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestionBuilder.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestionContext.java
src/test/java/org/elasticsearch/search/suggest/SuggestSearchTests.java
comments:
This commit removes the ability to use `filter` for PhraseSuggester collate.
Only `query` can be used for collation.

Internally, a collate query is executed as an exists query. So specifying a
filter does not have any benefits.

time:
2015-05-29T15:52:04Z
class:
src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
src/main/java/org/elasticsearch/action/search/SearchRequest.java
src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
src/main/java/org/elasticsearch/action/update/UpdateHelper.java
src/main/java/org/elasticsearch/action/update/UpdateRequest.java
src/main/java/org/elasticsearch/action/update/UpdateRequestBuilder.java
src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java
src/main/java/org/elasticsearch/common/xcontent/XContentType.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
src/main/java/org/elasticsearch/index/query/QueryBuilders.java
src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TemplateQueryParser.java
src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionBuilders.java
src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionBuilder.java
src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionParser.java
src/main/java/org/elasticsearch/index/query/support/BaseInnerHitBuilder.java
src/main/java/org/elasticsearch/rest/action/update/RestUpdateAction.java
src/main/java/org/elasticsearch/script/AbstractScriptParser.java
src/main/java/org/elasticsearch/script/Script.java
src/main/java/org/elasticsearch/script/ScriptParameterParser.java
src/main/java/org/elasticsearch/script/ScriptService.java
src/main/java/org/elasticsearch/script/Template.java
src/main/java/org/elasticsearch/search/SearchService.java
src/main/java/org/elasticsearch/search/aggregations/ValuesSourceAggregationBuilder.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsBuilder.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ChiSquare.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/GND.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/JLHScore.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/MutualInformation.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/PercentageScore.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ScriptHeuristic.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/SignificanceHeuristicBuilder.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/InternalScriptedMetric.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricBuilder.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricParser.java
src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsBuilder.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceParser.java
src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
src/main/java/org/elasticsearch/search/fetch/script/ScriptFieldsParseElement.java
src/main/java/org/elasticsearch/search/internal/ShardSearchLocalRequest.java
src/main/java/org/elasticsearch/search/internal/ShardSearchRequest.java
src/main/java/org/elasticsearch/search/internal/ShardSearchTransportRequest.java
src/main/java/org/elasticsearch/search/sort/ScriptSortBuilder.java
src/main/java/org/elasticsearch/search/sort/ScriptSortParser.java
src/main/java/org/elasticsearch/search/sort/SortBuilders.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
src/test/java/org/elasticsearch/action/IndicesRequestTests.java
src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java
src/test/java/org/elasticsearch/action/update/UpdateRequestTests.java
src/test/java/org/elasticsearch/benchmark/scripts/expression/ScriptComparisonBenchmark.java
src/test/java/org/elasticsearch/benchmark/scripts/score/BasicScriptBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/TimeDataHistogramAggregationBenchmark.java
src/test/java/org/elasticsearch/cluster/NoMasterNodeTests.java
src/test/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunctionTests.java
src/test/java/org/elasticsearch/document/BulkTests.java
src/test/java/org/elasticsearch/index/query/TemplateQueryBuilderTest.java
src/test/java/org/elasticsearch/index/query/TemplateQueryParserTest.java
src/test/java/org/elasticsearch/index/query/TemplateQueryTest.java
src/test/java/org/elasticsearch/nested/SimpleNestedTests.java
src/test/java/org/elasticsearch/percolator/PercolatorTests.java
src/test/java/org/elasticsearch/routing/AliasRoutingTests.java
src/test/java/org/elasticsearch/script/CustomScriptContextTests.java
src/test/java/org/elasticsearch/script/GroovyScriptTests.java
src/test/java/org/elasticsearch/script/IndexLookupTests.java
src/test/java/org/elasticsearch/script/IndexedScriptTests.java
src/test/java/org/elasticsearch/script/NativeScriptTests.java
src/test/java/org/elasticsearch/script/OnDiskScriptTests.java
src/test/java/org/elasticsearch/script/ScriptFieldTests.java
src/test/java/org/elasticsearch/script/ScriptParameterParserTest.java
src/test/java/org/elasticsearch/script/ScriptServiceTests.java
src/test/java/org/elasticsearch/script/expression/ExpressionScriptTests.java
src/test/java/org/elasticsearch/search/aggregations/EquivalenceTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/DateRangeTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/DoubleTermsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/HistogramTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/IPv4RangeTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/LongTermsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/MinDocCountTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/RangeTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/StringTermsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsTests.java
src/test/java/org/elasticsearch/search/aggregations/metrics/ScriptedMetricTests.java
src/test/java/org/elasticsearch/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/search/fields/SearchFieldsTests.java
src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptTests.java
src/test/java/org/elasticsearch/search/functionscore/FunctionScoreTests.java
src/test/java/org/elasticsearch/search/functionscore/RandomScoreFunctionTests.java
src/test/java/org/elasticsearch/search/geo/GeoDistanceTests.java
src/test/java/org/elasticsearch/search/innerhits/InnerHitsTests.java
src/test/java/org/elasticsearch/search/query/SearchQueryTests.java
src/test/java/org/elasticsearch/search/rescore/QueryRescorerTests.java
src/test/java/org/elasticsearch/search/scriptfilter/ScriptQuerySearchTests.java
src/test/java/org/elasticsearch/search/sort/SimpleSortTests.java
src/test/java/org/elasticsearch/search/stats/SearchStatsTests.java
src/test/java/org/elasticsearch/search/timeout/SearchTimeoutTests.java
src/test/java/org/elasticsearch/update/UpdateByNativeScriptTests.java
src/test/java/org/elasticsearch/update/UpdateTests.java
comments:
Scripting: Unify script and template requests across codebase

This change unifies the way scripts and templates are specified for all instances in the codebase. It builds on the Script class added previously and adds request building and parsing support as well as the ability to transfer script objects between nodes. It also adds a Template class which aims to provide the same functionality for template APIs

Closes #11091

time:
2015-05-29T15:23:07Z
class:
src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
src/main/java/org/elasticsearch/client/transport/TransportClient.java
src/main/java/org/elasticsearch/cluster/ClusterState.java
src/main/java/org/elasticsearch/cluster/metadata/AliasMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
src/main/java/org/elasticsearch/common/bytes/PagedBytesReference.java
src/main/java/org/elasticsearch/common/compress/CompressedIndexInput.java
src/main/java/org/elasticsearch/common/compress/CompressedStreamInput.java
src/main/java/org/elasticsearch/common/compress/CompressedXContent.java
src/main/java/org/elasticsearch/common/compress/Compressor.java
src/main/java/org/elasticsearch/common/compress/CompressorFactory.java
src/main/java/org/elasticsearch/common/compress/NotCompressedException.java
src/main/java/org/elasticsearch/common/compress/NotXContentException.java
src/main/java/org/elasticsearch/common/compress/deflate/DeflateCompressor.java
src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressedIndexInput.java
src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressedStreamInput.java
src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressor.java
src/main/java/org/elasticsearch/common/io/stream/InputStreamStreamInput.java
src/main/java/org/elasticsearch/common/xcontent/XContentFactory.java
src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
src/main/java/org/elasticsearch/gateway/MetaDataStateFormat.java
src/main/java/org/elasticsearch/index/aliases/IndexAlias.java
src/main/java/org/elasticsearch/index/aliases/IndexAliasesService.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
src/main/java/org/elasticsearch/node/Node.java
src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
src/main/java/org/elasticsearch/search/lookup/SourceLookup.java
src/main/java/org/elasticsearch/transport/netty/MessageChannelHandler.java
src/test/java/org/elasticsearch/cluster/metadata/MappingMetaDataParserTests.java
src/test/java/org/elasticsearch/common/compress/AbstractCompressedStreamTests.java
src/test/java/org/elasticsearch/common/compress/AbstractCompressedXContentTests.java
src/test/java/org/elasticsearch/common/compress/deflate/DeflateCompressedStreamTests.java
src/test/java/org/elasticsearch/common/compress/deflate/DeflateXContentTests.java
src/test/java/org/elasticsearch/common/compress/lzf/CompressedStreamOutput.java
src/test/java/org/elasticsearch/common/compress/lzf/LZFCompressedStreamOutput.java
src/test/java/org/elasticsearch/common/compress/lzf/LZFCompressedStreamTests.java
src/test/java/org/elasticsearch/common/compress/lzf/LZFTestCompressor.java
src/test/java/org/elasticsearch/common/compress/lzf/LZFXContentTests.java
src/test/java/org/elasticsearch/common/xcontent/XContentFactoryTests.java
src/test/java/org/elasticsearch/index/aliases/IndexAliasesServiceTests.java
src/test/java/org/elasticsearch/index/fielddata/ParentChildFieldDataTests.java
src/test/java/org/elasticsearch/index/mapper/binary/BinaryMappingTests.java
src/test/java/org/elasticsearch/index/mapper/merge/TestMergeMapperTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
src/test/java/org/elasticsearch/index/mapper/source/CompressSourceMappingTests.java
src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeFormatTests.java
src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeTimezoneTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/index/search/child/AbstractChildTests.java
src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTest.java
src/test/java/org/elasticsearch/search/compress/SearchSourceCompressTests.java
comments:
Merge pull request #11279 from jpountz/fix/simplify_compression

Internal: tighten up our compression framework.

time:
2015-05-29T15:07:04Z
class:
src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
src/main/java/org/elasticsearch/index/fielddata/FieldDataType.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataCache.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/index/fielddata/ShardFieldData.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/GlobalOrdinalsIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/ordinals/InternalGlobalOrdinalsIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexGeoPointFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexOrdinalsFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/BinaryDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/BinaryDVNumericIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/BytesBinaryDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DisabledIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DocValuesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FSTBytesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointBinaryDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointCompressedIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IndexIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/NumericDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PackedArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/SortedNumericDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/SortedSetDVOrdinalsIndexFieldData.java
src/main/java/org/elasticsearch/index/fieldvisitor/SingleFieldsVisitor.java
src/main/java/org/elasticsearch/index/mapper/DocumentFieldMappers.java
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/FieldMappersLookup.java
src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/Murmur3FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SizeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TimestampFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
src/main/java/org/elasticsearch/index/search/MatchQuery.java
src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
src/main/java/org/elasticsearch/index/search/geo/IndexedGeoBoundingBoxQuery.java
src/main/java/org/elasticsearch/index/similarity/SimilarityService.java
src/main/java/org/elasticsearch/index/termvectors/ShardTermVectorsService.java
src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCacheListener.java
src/main/java/org/elasticsearch/percolator/SingleDocumentPercolatorIndex.java
src/main/java/org/elasticsearch/search/SearchService.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/ChildrenParser.java
src/main/java/org/elasticsearch/search/aggregations/support/AggregationContext.java
src/main/java/org/elasticsearch/search/aggregations/support/format/ValueFormat.java
src/main/java/org/elasticsearch/search/aggregations/support/format/ValueFormatter.java
src/main/java/org/elasticsearch/search/aggregations/support/format/ValueParser.java
src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
src/main/java/org/elasticsearch/search/highlight/FastVectorHighlighter.java
src/main/java/org/elasticsearch/search/highlight/HighlightUtils.java
src/main/java/org/elasticsearch/search/highlight/PlainHighlighter.java
src/main/java/org/elasticsearch/search/highlight/PostingsHighlighter.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/FragmentBuilderHelper.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SourceScoreOrderFragmentsBuilder.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SourceSimpleFragmentsBuilder.java
src/main/java/org/elasticsearch/search/lookup/FieldLookup.java
src/main/java/org/elasticsearch/search/lookup/LeafFieldsLookup.java
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
src/main/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProvider.java
src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggestParser.java
src/test/java/org/elasticsearch/index/analysis/PreBuiltAnalyzerTests.java
src/test/java/org/elasticsearch/index/fielddata/NoOrdinalsStringFieldDataTests.java
src/test/java/org/elasticsearch/index/mapper/FieldMappersLookupTests.java
src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
src/test/java/org/elasticsearch/index/mapper/core/Murmur3FieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/geo/GeohashMappingGeoPointTests.java
src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/merge/TestMergeMapperTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldsIntegrationTests.java
src/test/java/org/elasticsearch/index/mapper/simple/SimpleMapperTests.java
src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
src/test/java/org/elasticsearch/index/similarity/SimilarityTests.java
src/test/java/org/elasticsearch/indices/warmer/SimpleIndicesWarmerTests.java
src/test/java/org/elasticsearch/search/child/ParentFieldLoadingTest.java
src/test/java/org/elasticsearch/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/search/geo/GeoShapeIntegrationTests.java
src/test/java/org/elasticsearch/search/suggest/completion/AnalyzingCompletionLookupProviderV1.java
src/test/java/org/elasticsearch/search/suggest/completion/CompletionPostingsFormatTest.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
comments:
Mappings: Refactor core index/query time properties into FieldType

Mappers are currently used at both index and query time for deciding
how to "use" a field.  For #8871, we need the index wide view of
mappings to have a unified set of settings for each field of a given
name within the index.

This change moves all the current settings (and methods defining
query time behavior) into subclasses of FieldType. In a future
PR, this will allow storing the field type at the index level,
instead of mappers (which can still have settings that differ
per document type).

The change is quite large (I'm sorry). I could not see a way to
migrate to this in a more piecemeal way. I did leave out cutting
over callers of the query methods to using the field type, as
that can be done in a follow up.

time:
2015-05-29T15:01:45Z
class:
src/main/java/org/elasticsearch/client/transport/TransportClient.java
src/main/java/org/elasticsearch/common/compress/Compressor.java
src/main/java/org/elasticsearch/common/compress/CompressorFactory.java
src/main/java/org/elasticsearch/common/compress/NotXContentException.java
src/main/java/org/elasticsearch/common/compress/deflate/DeflateCompressor.java
src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressor.java
src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
src/main/java/org/elasticsearch/node/Node.java
src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
src/test/java/org/elasticsearch/common/compress/AbstractCompressedStreamTests.java
src/test/java/org/elasticsearch/common/compress/AbstractCompressedXContentTests.java
src/test/java/org/elasticsearch/common/compress/deflate/DeflateCompressedStreamTests.java
src/test/java/org/elasticsearch/common/compress/deflate/DeflateXContentTests.java
src/test/java/org/elasticsearch/common/compress/lzf/CompressedStreamOutput.java
src/test/java/org/elasticsearch/common/compress/lzf/LZFCompressedStreamOutput.java
src/test/java/org/elasticsearch/common/compress/lzf/LZFCompressedStreamTests.java
src/test/java/org/elasticsearch/common/compress/lzf/LZFTestCompressor.java
src/test/java/org/elasticsearch/common/compress/lzf/LZFXContentTests.java
src/test/java/org/elasticsearch/search/compress/SearchSourceCompressTests.java
comments:
Internal: Use DEFLATE instead of LZF for compression.

LZF only stays for backward-compatibility reasons and can only read, not write.
DEFLATE is configured to use level=3, which is a nice trade-off between speed
and compression ratio and is the same as we use for Lucene's high compression
codec.

time:
2015-05-29T12:56:55Z
class:
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/index/IndexRequestBuilder.java
src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequestBuilderTest.java
src/test/java/org/elasticsearch/action/index/IndexRequestBuilderTest.java
src/test/java/org/elasticsearch/rest/HeadersAndContextCopyClientTests.java
src/test/java/org/elasticsearch/rest/NoOpClient.java
comments:
Merge pull request #11382 from cbuescher/fix/10825

Fix typed parameters in IndexRequestBuilder and CreateIndexRequestBuilder

time:
2015-05-29T12:42:58Z
class:
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequestBuilder.java
src/main/java/org/elasticsearch/action/index/IndexRequestBuilder.java
src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequestBuilderTest.java
src/test/java/org/elasticsearch/action/index/IndexRequestBuilderTest.java
src/test/java/org/elasticsearch/rest/HeadersAndContextCopyClientTests.java
src/test/java/org/elasticsearch/rest/NoOpClient.java
comments:
Fix typed parameters in IndexRequestBuilder and CreateIndexRequestBuilder

IndexRequestBuilder#setSource as well as CreateIndexRequestBuilder#setSettings and
CreateIndexRequestBuilder#setSouce() will not work with Map<String, String> argument
although the API looks like it should. This PR fixes the problem introducing correct
wildcard parameters and adds tests.

Closes #10825

time:
2015-05-29T12:16:34Z
class:
src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
src/main/java/org/elasticsearch/index/IndexService.java
src/main/java/org/elasticsearch/index/cache/bitset/ShardBitsetFilterCacheModule.java
src/main/java/org/elasticsearch/index/cache/filter/ShardFilterCacheModule.java
src/main/java/org/elasticsearch/index/cache/query/ShardQueryCacheModule.java
src/main/java/org/elasticsearch/index/gateway/IndexShardGatewayModule.java
src/main/java/org/elasticsearch/index/get/ShardGetModule.java
src/main/java/org/elasticsearch/index/indexing/ShardIndexingModule.java
src/main/java/org/elasticsearch/index/percolator/PercolatorShardModule.java
src/main/java/org/elasticsearch/index/search/stats/ShardSearchModule.java
src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
src/main/java/org/elasticsearch/index/snapshots/IndexShardSnapshotModule.java
src/main/java/org/elasticsearch/index/store/StoreModule.java
src/main/java/org/elasticsearch/index/termvectors/ShardTermVectorsModule.java
src/test/java/org/elasticsearch/index/shard/IndexShardModuleTests.java
comments:
Consolidate shard level modules without logic into IndexShardModule

We have a lot of module classes that don't contain any actual logic,
only declarative bind actions. These classes are unnecessary and can
be consolidated into the already existings IndexShardModule

time:
2015-05-29T11:58:37Z
class:
src/main/java/org/elasticsearch/action/ActionModule.java
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesAction.java
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesRequest.java
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesResponse.java
src/main/java/org/elasticsearch/action/admin/indices/seal/TransportSealIndicesAction.java
src/main/java/org/elasticsearch/client/IndicesAdminClient.java
src/main/java/org/elasticsearch/client/support/AbstractClient.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/index/IndexService.java
src/main/java/org/elasticsearch/index/cache/filter/ShardFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/ShardFilterCacheModule.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/query/TermQueryParser.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/indices/IndicesModule.java
src/main/java/org/elasticsearch/indices/flush/IndicesSyncedFlushResult.java
src/main/java/org/elasticsearch/indices/flush/ShardsSyncedFlushResult.java
src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
src/main/java/org/elasticsearch/rest/action/RestActionModule.java
src/main/java/org/elasticsearch/rest/action/admin/indices/flush/RestSyncedFlushAction.java
src/test/java/org/elasticsearch/action/admin/indices/seal/SealIndicesTests.java
src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
src/test/java/org/elasticsearch/indices/IndicesOptionsIntegrationTests.java
src/test/java/org/elasticsearch/indices/SealTests.java
src/test/java/org/elasticsearch/indices/flush/FlushTest.java
src/test/java/org/elasticsearch/indices/flush/SyncedFlushSingleNodeTest.java
src/test/java/org/elasticsearch/indices/flush/SyncedFlushUnitTests.java
src/test/java/org/elasticsearch/indices/flush/SyncedFlushUtil.java
src/test/java/org/elasticsearch/indices/settings/UpdateSettingsTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-05-29T11:48:37Z
class:
comments:
[test] fix name in synced flush test

time:
2015-05-29T11:40:15Z
class:
src/main/java/org/elasticsearch/index/query/TermQueryParser.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
comments:
Query DSL: throw an exception if array passed to `term` query.

Closes #11246
Closes #11384

time:
2015-05-29T11:37:54Z
class:
src/main/java/org/elasticsearch/common/lucene/Lucene.java
comments:
Merge pull request #11412 from s1monw/close_lock

Close lock even if we fail to obtain

time:
2015-05-29T10:30:43Z
class:
comments:
REST spec: Renamed indices.flush.synced to indices.flush_synced

time:
2015-05-29T10:13:18Z
class:
src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
src/main/java/org/elasticsearch/cluster/ClusterState.java
src/main/java/org/elasticsearch/cluster/metadata/AliasMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
src/main/java/org/elasticsearch/common/bytes/PagedBytesReference.java
src/main/java/org/elasticsearch/common/compress/CompressedIndexInput.java
src/main/java/org/elasticsearch/common/compress/CompressedStreamInput.java
src/main/java/org/elasticsearch/common/compress/CompressedStreamOutput.java
src/main/java/org/elasticsearch/common/compress/CompressedXContent.java
src/main/java/org/elasticsearch/common/compress/Compressor.java
src/main/java/org/elasticsearch/common/compress/CompressorFactory.java
src/main/java/org/elasticsearch/common/compress/NotCompressedException.java
src/main/java/org/elasticsearch/common/compress/NotXContentException.java
src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressedIndexInput.java
src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressedStreamInput.java
src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressedStreamOutput.java
src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressor.java
src/main/java/org/elasticsearch/common/io/stream/InputStreamStreamInput.java
src/main/java/org/elasticsearch/common/xcontent/XContentFactory.java
src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
src/main/java/org/elasticsearch/gateway/MetaDataStateFormat.java
src/main/java/org/elasticsearch/index/aliases/IndexAlias.java
src/main/java/org/elasticsearch/index/aliases/IndexAliasesService.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
src/main/java/org/elasticsearch/search/lookup/SourceLookup.java
src/main/java/org/elasticsearch/transport/netty/MessageChannelHandler.java
src/test/java/org/elasticsearch/cluster/metadata/MappingMetaDataParserTests.java
src/test/java/org/elasticsearch/common/compress/CompressedXContentTests.java
src/test/java/org/elasticsearch/common/xcontent/XContentFactoryTests.java
src/test/java/org/elasticsearch/index/aliases/IndexAliasesServiceTests.java
src/test/java/org/elasticsearch/index/fielddata/ParentChildFieldDataTests.java
src/test/java/org/elasticsearch/index/mapper/binary/BinaryMappingTests.java
src/test/java/org/elasticsearch/index/mapper/merge/TestMergeMapperTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
src/test/java/org/elasticsearch/index/mapper/source/CompressSourceMappingTests.java
src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeFormatTests.java
src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeTimezoneTests.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/index/search/child/AbstractChildTests.java
src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregatorTest.java
comments:
Internal: tighten up our compression framework.

We have a compression framework that we use internally, mainly to compress some
xcontent bytes. However it is quite lenient: for instance it relies on the
assumption that detection of the compression format can only be called on either
some compressed xcontent bytes or some raw xcontent bytes, but nothing checks
this. By the way, we are misusing it in BinaryFieldMapper so that if someone
indexes a binary field which happens to have the same header as a LZF stream,
then at read time, we will try to decompress it.

It also simplifies the API by removing block compression (only streaming) and
some code duplication caused by some methods accepting a byte[] and other
methods a BytesReference.

time:
2015-05-29T09:59:27Z
class:
src/main/java/org/elasticsearch/common/lucene/Lucene.java
comments:
Close lock even if we fail to obtain

time:
2015-05-29T09:40:34Z
class:
comments:
[doc] remove reference to seal, was removed in #11336

time:
2015-05-29T09:37:00Z
class:
src/main/java/org/elasticsearch/index/mapper/MapperService.java
comments:
Mapping: add an assertion to verify consistent serialization

We recently run into two issues where mapping weren't serialized in a consistent manner (#10302 and #10318). We rely on this consistency to do a byte level checl that mappings we get from the master are indentical to the one we have locally. Mistakes here can cause endless refresh mapping loops.

This commit adds an assert that verifies this upon every update from the master.

time:
2015-05-29T09:15:37Z
class:
src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
src/test/java/org/elasticsearch/indices/IndicesOptionsIntegrationTests.java
src/test/java/org/elasticsearch/indices/settings/UpdateSettingsTests.java
comments:
Prevent changing the number of replicas on a closed index

Setting the number of replicas on a closed index can leave the index
in an unopenable state since we might not be able to recover a quorum.
This commit simply prevents updating this setting on a closed index.

Closes #9566

time:
2015-05-29T09:04:24Z
class:
src/main/java/org/elasticsearch/common/settings/Settings.java
src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java
src/main/java/org/elasticsearch/common/unit/TimeValue.java
src/test/java/org/elasticsearch/cluster/settings/ClusterSettingsTests.java
src/test/java/org/elasticsearch/cluster/settings/SettingsValidatorTests.java
src/test/java/org/elasticsearch/common/unit/ByteSizeValueTests.java
src/test/java/org/elasticsearch/common/util/BigArraysTests.java
src/test/java/org/elasticsearch/index/store/CorruptedFileTest.java
src/test/java/org/elasticsearch/index/translog/BufferedTranslogTests.java
src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryTests.java
src/test/java/org/elasticsearch/recovery/RecoverySettingsTest.java
src/test/java/org/elasticsearch/recovery/RelocationTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/TermsDocCountErrorTests.java
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/snapshots/RepositoriesTests.java
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/snapshots/SnapshotBackwardsCompatibilityTest.java
comments:
make units required for byte size values

time:
2015-05-29T08:58:34Z
class:
src/main/java/org/elasticsearch/index/IndexService.java
src/main/java/org/elasticsearch/index/cache/filter/ShardFilterCache.java
src/main/java/org/elasticsearch/index/cache/filter/ShardFilterCacheModule.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Close ShardFilterCache after Store is closed

The ShardFilterCache relies on the fact that it's
closed once the last reader on the shard is closed.
This is only guaranteed once the Store and all its
references are closed. This commit moves the closing
into the internal callback mechanism we use for deleting
shard data etc. to close the cache once we have all
searchers released.

time:
2015-05-29T08:31:03Z
class:
src/main/java/org/elasticsearch/action/ActionModule.java
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesAction.java
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesRequest.java
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesResponse.java
src/main/java/org/elasticsearch/action/admin/indices/seal/TransportSealIndicesAction.java
src/main/java/org/elasticsearch/client/IndicesAdminClient.java
src/main/java/org/elasticsearch/client/support/AbstractClient.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/indices/IndicesModule.java
src/main/java/org/elasticsearch/indices/flush/IndicesSyncedFlushResult.java
src/main/java/org/elasticsearch/indices/flush/ShardsSyncedFlushResult.java
src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
src/main/java/org/elasticsearch/rest/action/RestActionModule.java
src/main/java/org/elasticsearch/rest/action/admin/indices/flush/RestSyncedFlushAction.java
src/test/java/org/elasticsearch/action/admin/indices/seal/SealIndicesTests.java
src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayTests.java
src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
src/test/java/org/elasticsearch/indices/SealTests.java
src/test/java/org/elasticsearch/indices/flush/FlushTest.java
src/test/java/org/elasticsearch/indices/flush/SyncedFlushSingleNodeTest.java
src/test/java/org/elasticsearch/indices/flush/SyncedFlushUnitTests.java
src/test/java/org/elasticsearch/indices/flush/SyncedFlushUtil.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Merge remote-tracking branch 'boaz/index_seal_to_flush_sync'

time:
2015-05-29T08:26:33Z
class:
src/main/java/org/elasticsearch/action/ActionModule.java
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/IndexShardUpgradeStatus.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/IndexUpgradeStatus.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/ShardUpgradeStatus.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/TransportUpgradeStatusAction.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusAction.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusRequest.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusResponse.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/ShardUpgradeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/ShardUpgradeResponse.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeAction.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeResponse.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsClusterStateUpdateRequest.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsResponse.java
src/main/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequest.java
src/main/java/org/elasticsearch/client/IndicesAdminClient.java
src/main/java/org/elasticsearch/client/Requests.java
src/main/java/org/elasticsearch/client/support/AbstractClient.java
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
src/main/java/org/elasticsearch/common/Priority.java
src/main/java/org/elasticsearch/common/collect/IdentityHashSet.java
src/main/java/org/elasticsearch/common/collect/ImmutableOpenLongMap.java
src/main/java/org/elasticsearch/common/collect/Iterators2.java
src/main/java/org/elasticsearch/common/lucene/HashedBytesRef.java
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/common/util/MultiDataPathUpgrader.java
src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java
src/main/java/org/elasticsearch/env/NodeEnvironment.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/percolator/stats/PercolateStats.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/store/Store.java
src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
src/main/java/org/elasticsearch/rest/action/admin/indices/upgrade/RestUpgradeAction.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractInternalPercentiles.java
src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
src/main/java/org/elasticsearch/snapshots/RestoreService.java
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/common/collect/Iterators2Tests.java
src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
src/test/java/org/elasticsearch/rest/action/admin/indices/upgrade/UpgradeReallyOldIndexTest.java
src/test/java/org/elasticsearch/rest/action/admin/indices/upgrade/UpgradeTest.java
src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsTests.java
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-05-29T08:11:36Z
class:
src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
src/main/java/org/elasticsearch/common/collect/BoundedTreeSet.java
src/main/java/org/elasticsearch/common/collect/IdentityHashSet.java
src/main/java/org/elasticsearch/common/collect/ImmutableOpenLongMap.java
src/main/java/org/elasticsearch/common/collect/Iterators2.java
src/main/java/org/elasticsearch/common/lucene/HashedBytesRef.java
src/main/java/org/elasticsearch/common/lucene/store/ThreadSafeInputStreamIndexInput.java
src/main/java/org/elasticsearch/common/unit/Percent.java
src/test/java/org/elasticsearch/common/collect/Iterators2Tests.java
comments:
Merge pull request #11381 from jpountz/fix/remove_unused_code

Internal: remove unused code.

time:
2015-05-29T07:45:09Z
class:
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
comments:
Merge pull request #11308 from jpountz/fix/term_vs_terms_query

Search: Do not specialize TermQuery vs. TermsQuery.

time:
2015-05-29T06:28:45Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
src/main/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequest.java
src/main/java/org/elasticsearch/cluster/metadata/MappingMetaData.java
src/main/java/org/elasticsearch/common/Priority.java
src/main/java/org/elasticsearch/discovery/zen/fd/MasterFaultDetection.java
src/main/java/org/elasticsearch/index/percolator/stats/PercolateStats.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractInternalPercentiles.java
comments:
Serialization: Remove old version checks

As the 2.x release does not need to be backwards compatible in terms of
serialization, we can remove a fair share of the serialization checks.

time:
2015-05-28T22:37:52Z
class:
comments:
Tests: make REST upgrade test more reliable

 Make sure that all shards are started to avoid flush conflicts.

time:
2015-05-28T22:37:51Z
class:
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
comments:
Tests: make randomRepoPath work with bwc tests

time:
2015-05-28T22:31:44Z
class:
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
comments:
Merge remote-tracking branch 'dakrone/si-reading-fallback'

time:
2015-05-28T22:29:49Z
class:
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
comments:
Fall back to reading SegmentInfos from Store if reading from commit
fails

In the event that reading from the latest commit fails, we should fall
back to reading from the `Store` using the traditional
`Directory.listAll()`

Related to #11361

time:
2015-05-28T19:46:46Z
class:
src/main/java/org/elasticsearch/rest/action/admin/indices/upgrade/RestUpgradeAction.java
comments:
Core: fix upgrade response serialization

time:
2015-05-28T18:56:30Z
class:
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
comments:
Tests: Increase timeout waiting for snapshot to complete in batchingShardUpdateTaskTest

When this test picks a large number of shards, the snapshot doesn't always manage to complete in 10 seconds.

time:
2015-05-28T18:32:33Z
class:
src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java
comments:
Merge branch 'pr/10896'

time:
2015-05-28T17:25:00Z
class:
src/test/java/org/elasticsearch/rest/action/admin/indices/upgrade/UpgradeTest.java
comments:
Tests: fix NPE in UpgradeTest

time:
2015-05-28T17:03:30Z
class:
comments:
Export hostname as environment variable for plugin manager

In #9474, we exported the hostname in the bin/elasticsearch scripts so that it
could be used as a variable in the elasticsearch.yml file but did not do the same
for plugin manager. When using the hostname variable in elasticsearch.yml and
trying to use the plugin manager, initialization will fail because the property could
not be resolved. This change will allow the hostname to be resolved in the same
manner as the service scripts.

Closes #10902

time:
2015-05-28T15:23:49Z
class:
src/main/java/org/elasticsearch/action/ActionModule.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/IndexShardUpgradeStatus.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/IndexUpgradeStatus.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/ShardUpgradeStatus.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/TransportUpgradeStatusAction.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusAction.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusRequest.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusResponse.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/ShardUpgradeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/ShardUpgradeResponse.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeAction.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeResponse.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsClusterStateUpdateRequest.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsResponse.java
src/main/java/org/elasticsearch/client/IndicesAdminClient.java
src/main/java/org/elasticsearch/client/Requests.java
src/main/java/org/elasticsearch/client/support/AbstractClient.java
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/rest/action/admin/indices/upgrade/RestUpgradeAction.java
src/main/java/org/elasticsearch/snapshots/RestoreService.java
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/rest/action/admin/indices/upgrade/UpgradeReallyOldIndexTest.java
src/test/java/org/elasticsearch/rest/action/admin/indices/upgrade/UpgradeTest.java
comments:
Core: refactor upgrade API to use transport and write minimum compatible version that the index was upgraded to

In #11072 we are adding a check that will prevent opening of old indices. However, this check doesn't take into consideration the fact that indices can be made compatible with the current version through upgrade API. In order to make compatibility check aware of the upgrade, the upgrade API should write a new setting `index.version.minimum_compatible` that will indicate the minimum compatible version of lucene this index is compatible with and `index.version.upgraded` that will indicate the version of elasticsearch that performed the upgrade.

Closes #11095

time:
2015-05-28T15:08:10Z
class:
comments:
[maven] add script to generate maven submodules project

This commit adds a shell script which:

* move current elasticsearch core source in `/core`
* fetch `elasticsearch-parent` project in `/`
* fetch plugins in `/plugins`
* change `groupId` for all plugins to `org.elasticsearch.plugin` so versions won't conflict in maven central
* remove plugins/name/dev-tools dir which is not needed anymore
* remove plugins/name/.git dir
* remove plugins/name/LICENSE and plugins/name/CONTRIBUTING files
* clean `core/pom.xml` of useless settings that are inherited from parent project.
* `core/pom.xml` is adapted to change location of rest tests definition (`../`)
* change core name to `Elasticsearch Core`
* remove `plugins` dir from `.gitignore`

Plugins added:

* Analysis
  * analysis-kuromoji
  * analysis-smartcn
  * analysis-stempel
  * analysis-phonetic
  * analysis-icu

* Mapper
  * mapper-attachments

* Language
  * lang-python
  * lang-mvel
  * lang-javascript

* Cloud
  * cloud-gce
  * cloud-azure
  * cloud-aws

River plugins are ignored but might be added if we want to.

Todo:

* check and adapt our release tool. It now has to upload all submodules as well.
* adapt Jenkins jobs

time:
2015-05-28T14:24:41Z
class:
comments:
Testing: Ensure cat API REST tests are unaffected by randomization

The wildcard cat API REST tests relied on bulk.max and bulk.min in
the thread_pool response. However due to the thread pool types being
randomized in InternalTestCluster, the min/max values were not guaranteed
to exist (the cached thread pool type is unbounded and thus does not have a
max value).

In order to prevent this, the test has been removed and now the cat
nodes test is used for wildcard testing, which always returns stats
about the heap.

time:
2015-05-28T14:05:11Z
class:
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/common/util/MultiDataPathUpgrader.java
src/main/java/org/elasticsearch/env/NodeEnvironment.java
src/main/java/org/elasticsearch/index/store/Store.java
comments:
Consolidate directory lock obtain code

The Directory#makeLock API is trappy and can easily lead to unexpected
lock release if native locks are used. see LUCENE-6507 for details.
This commit consolidates the lock lock into one place and only returns
the lock instance if we actually acquired it.

time:
2015-05-28T13:45:23Z
class:
src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsTests.java
comments:
Aggregations fix: queries with size=0 broke aggregations that require scores.
Aggregations like Sampler and TopHits that require access to scores did not work if the query has size param set to zero. The assumption was that the Lucene query scoring logic was not required in these cases.
Added a Junit test to demonstrate the issue and a fix which relies on earlier creation of Collector wrappers so that Collector.needsScores() calls work for all search operations.

Closes #11119

time:
2015-05-28T10:39:51Z
class:
src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
comments:
Test: filter out colons in test section names

On Windows, colons ':' are illegal in file names and since we use a Path to
check if the test is blacklisted, tests with a colon in the test section name
will fail. This change simply removes the colon from the name when matching
against the blacklist.

time:
2015-05-28T09:54:56Z
class:
src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
comments:
[TEST] add path.home to settings

time:
2015-05-28T09:54:05Z
class:
src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
comments:
Merge pull request #10909 from aleph-zero/issues/9706

Read configuration file with .yaml suffix

time:
2015-05-28T07:32:09Z
class:
src/main/java/org/elasticsearch/action/ActionModule.java
src/main/java/org/elasticsearch/action/ActionRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodeHotThreads.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/TransportDeleteRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/TransportGetRepositoriesAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/TransportPutRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/TransportVerifyRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/DeleteSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/TransportRestoreSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexShardStatus.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodeResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/tasks/PendingClusterTasksRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/tasks/TransportPendingClusterTasksAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/TransportIndicesAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/exists/TransportAliasesExistAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesRequest.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheResponse.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheResponse.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/create/TransportCreateIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/TransportIndicesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TypesExistsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/flush/FlushRequest.java
src/main/java/org/elasticsearch/action/admin/indices/flush/FlushResponse.java
src/main/java/org/elasticsearch/action/admin/indices/flush/ShardFlushRequest.java
src/main/java/org/elasticsearch/action/admin/indices/flush/ShardFlushResponse.java
src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
src/main/java/org/elasticsearch/action/admin/indices/open/TransportOpenIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeResponse.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/ShardOptimizeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/ShardOptimizeResponse.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/RecoveryRequest.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/RecoveryResponse.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/ShardRecoveryResponse.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshRequest.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshResponse.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/ShardRefreshRequest.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/ShardRefreshResponse.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesRequest.java
src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentResponse.java
src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/segments/ShardSegments.java
src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/get/GetSettingsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/settings/get/TransportGetSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/put/TransportUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/DeleteIndexTemplateRequest.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/DeleteIndexTemplateRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/TransportDeleteIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/GetIndexTemplatesRequest.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/TransportGetIndexTemplatesAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/TransportPutIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryRequest.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryResponse.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequest.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryResponse.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java
src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
src/main/java/org/elasticsearch/action/count/CountAction.java
src/main/java/org/elasticsearch/action/count/CountRequest.java
src/main/java/org/elasticsearch/action/count/CountRequestBuilder.java
src/main/java/org/elasticsearch/action/count/CountResponse.java
src/main/java/org/elasticsearch/action/count/ShardCountRequest.java
src/main/java/org/elasticsearch/action/count/ShardCountResponse.java
src/main/java/org/elasticsearch/action/count/TransportCountAction.java
src/main/java/org/elasticsearch/action/exists/ExistsRequest.java
src/main/java/org/elasticsearch/action/exists/ExistsResponse.java
src/main/java/org/elasticsearch/action/exists/ShardExistsRequest.java
src/main/java/org/elasticsearch/action/exists/ShardExistsResponse.java
src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
src/main/java/org/elasticsearch/action/explain/ExplainRequest.java
src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequest.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsResponse.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardRequest.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardResponse.java
src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
src/main/java/org/elasticsearch/action/get/GetRequest.java
src/main/java/org/elasticsearch/action/get/MultiGetShardRequest.java
src/main/java/org/elasticsearch/action/get/TransportGetAction.java
src/main/java/org/elasticsearch/action/get/TransportShardMultiGetAction.java
src/main/java/org/elasticsearch/action/percolate/PercolateRequest.java
src/main/java/org/elasticsearch/action/percolate/PercolateResponse.java
src/main/java/org/elasticsearch/action/percolate/PercolateShardRequest.java
src/main/java/org/elasticsearch/action/percolate/PercolateShardResponse.java
src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
src/main/java/org/elasticsearch/action/percolate/TransportShardMultiPercolateAction.java
src/main/java/org/elasticsearch/action/suggest/ShardSuggestRequest.java
src/main/java/org/elasticsearch/action/suggest/ShardSuggestResponse.java
src/main/java/org/elasticsearch/action/suggest/SuggestRequest.java
src/main/java/org/elasticsearch/action/suggest/SuggestResponse.java
src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
src/main/java/org/elasticsearch/action/support/broadcast/BroadcastOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/broadcast/BroadcastRequest.java
src/main/java/org/elasticsearch/action/support/broadcast/BroadcastResponse.java
src/main/java/org/elasticsearch/action/support/broadcast/BroadcastShardRequest.java
src/main/java/org/elasticsearch/action/support/broadcast/BroadcastShardResponse.java
src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastAction.java
src/main/java/org/elasticsearch/action/support/master/AcknowledgedRequest.java
src/main/java/org/elasticsearch/action/support/master/MasterNodeOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/master/MasterNodeReadOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/master/MasterNodeReadRequest.java
src/main/java/org/elasticsearch/action/support/master/MasterNodeRequest.java
src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeAction.java
src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeReadAction.java
src/main/java/org/elasticsearch/action/support/master/info/ClusterInfoRequest.java
src/main/java/org/elasticsearch/action/support/master/info/TransportClusterInfoAction.java
src/main/java/org/elasticsearch/action/support/nodes/BaseNodeRequest.java
src/main/java/org/elasticsearch/action/support/nodes/BaseNodeResponse.java
src/main/java/org/elasticsearch/action/support/nodes/BaseNodesRequest.java
src/main/java/org/elasticsearch/action/support/nodes/BaseNodesResponse.java
src/main/java/org/elasticsearch/action/support/nodes/NodesOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
src/main/java/org/elasticsearch/action/support/single/shard/SingleShardOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/single/shard/SingleShardRequest.java
src/main/java/org/elasticsearch/action/support/single/shard/TransportSingleShardAction.java
src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsShardRequest.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequest.java
src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
src/main/java/org/elasticsearch/action/termvectors/dfs/DfsOnlyRequest.java
src/main/java/org/elasticsearch/action/termvectors/dfs/DfsOnlyResponse.java
src/main/java/org/elasticsearch/action/termvectors/dfs/ShardDfsOnlyRequest.java
src/main/java/org/elasticsearch/action/termvectors/dfs/ShardDfsOnlyResponse.java
src/main/java/org/elasticsearch/action/termvectors/dfs/TransportDfsOnlyAction.java
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/ConsoleCtrlHandler.java
src/main/java/org/elasticsearch/bootstrap/JNACLibrary.java
src/main/java/org/elasticsearch/bootstrap/JNAKernel32Library.java
src/main/java/org/elasticsearch/bootstrap/JNANatives.java
src/main/java/org/elasticsearch/bootstrap/Natives.java
src/main/java/org/elasticsearch/client/support/AbstractClient.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
src/main/java/org/elasticsearch/common/component/AbstractComponent.java
src/main/java/org/elasticsearch/common/logging/DeprecationLogger.java
src/main/java/org/elasticsearch/common/logging/ESLoggerFactory.java
src/main/java/org/elasticsearch/common/logging/log4j/Log4jESLoggerFactory.java
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/common/xcontent/XContent.java
src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java
src/main/java/org/elasticsearch/common/xcontent/cbor/CborXContent.java
src/main/java/org/elasticsearch/common/xcontent/cbor/CborXContentGenerator.java
src/main/java/org/elasticsearch/common/xcontent/json/BaseJsonGenerator.java
src/main/java/org/elasticsearch/common/xcontent/json/JsonXContent.java
src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java
src/main/java/org/elasticsearch/common/xcontent/smile/SmileXContent.java
src/main/java/org/elasticsearch/common/xcontent/smile/SmileXContentGenerator.java
src/main/java/org/elasticsearch/common/xcontent/support/filtering/FilterContext.java
src/main/java/org/elasticsearch/common/xcontent/support/filtering/FilteringJsonGenerator.java
src/main/java/org/elasticsearch/common/xcontent/yaml/YamlXContent.java
src/main/java/org/elasticsearch/common/xcontent/yaml/YamlXContentGenerator.java
src/main/java/org/elasticsearch/gateway/AsyncShardFetch.java
src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
src/main/java/org/elasticsearch/index/AbstractIndexComponent.java
src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
src/main/java/org/elasticsearch/index/mapper/DocumentFieldMappers.java
src/main/java/org/elasticsearch/index/mapper/FieldMappersLookup.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/shard/AbstractIndexShardComponent.java
src/main/java/org/elasticsearch/index/store/Store.java
src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
src/main/java/org/elasticsearch/monitor/process/ProcessInfo.java
src/main/java/org/elasticsearch/node/NodeBuilder.java
src/main/java/org/elasticsearch/rest/BytesRestResponse.java
src/main/java/org/elasticsearch/rest/RestChannel.java
src/main/java/org/elasticsearch/rest/RestController.java
src/main/java/org/elasticsearch/rest/action/get/RestGetSourceAction.java
src/main/java/org/elasticsearch/rest/action/index/RestIndexAction.java
src/main/java/org/elasticsearch/rest/action/script/RestPutIndexedScriptAction.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
src/main/java/org/elasticsearch/rest/action/support/RestActions.java
src/main/java/org/elasticsearch/rest/action/support/RestTable.java
src/main/java/org/elasticsearch/search/aggregations/bucket/InternalSingleBucketAggregation.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/SiblingPipelineAggregator.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgParser.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregator.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/EwmaModel.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltLinearModel.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltWintersModel.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/LinearModel.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModel.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelModule.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelParserMapper.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/SimpleModel.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/TransportMovAvgModelModule.java
src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
src/main/java/org/elasticsearch/search/highlight/FastVectorHighlighter.java
src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
src/main/java/org/elasticsearch/search/highlight/Highlighter.java
src/main/java/org/elasticsearch/search/highlight/HighlighterContext.java
src/main/java/org/elasticsearch/search/highlight/PlainHighlighter.java
src/main/java/org/elasticsearch/search/highlight/PostingsHighlighter.java
src/main/java/org/elasticsearch/tribe/TribeService.java
src/test/java/org/elasticsearch/action/IndicesRequestTests.java
src/test/java/org/elasticsearch/action/admin/HotThreadsTest.java
src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java
src/test/java/org/elasticsearch/action/count/CountRequestTests.java
src/test/java/org/elasticsearch/action/count/CountResponseTests.java
src/test/java/org/elasticsearch/benchmark/mapping/ManyMappingsBenchmark.java
src/test/java/org/elasticsearch/benchmark/recovery/ReplicaRecoveryBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/GlobalOrdinalsBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/SubAggregationSearchCollectModeBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchAndIndexingBenchmark.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-05-28T07:14:39Z
class:
src/main/java/org/elasticsearch/index/mapper/DocumentFieldMappers.java
src/main/java/org/elasticsearch/index/mapper/FieldMappersLookup.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
src/test/java/org/elasticsearch/index/mapper/FieldMappersLookupTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
comments:
Internal: deduplicate field names returned by `simpleMatchToFullName` & `simpleMatchToIndexNames` in FieldMappersLookup

Relates to #10916
Closes #11377

time:
2015-05-28T00:33:26Z
class:
src/test/java/org/elasticsearch/index/mapper/attachment/test/integration/EncryptedAttachmentIntegrationTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/integration/SimpleAttachmentIntegrationTests.java
comments:
mark slow tests

time:
2015-05-28T00:30:02Z
class:
src/test/java/org/elasticsearch/cloud/aws/blobstore/S3OutputStreamTest.java
comments:
speed up slow test

time:
2015-05-28T00:19:51Z
class:
src/test/java/org/elasticsearch/discovery/azure/AzureMinimumMasterNodesTest.java
comments:
Mark test with AwaitsFix until it gets fixed

time:
2015-05-28T00:13:41Z
class:
src/test/java/org/elasticsearch/discovery/azure/AzureSimpleTest.java
src/test/java/org/elasticsearch/discovery/azure/AzureTwoStartedNodesTest.java
comments:
speed up tests

time:
2015-05-27T23:53:49Z
class:
src/test/java/org/elasticsearch/script/python/PythonScriptMultiThreadedTest.java
comments:
tone down test

time:
2015-05-27T20:13:36Z
class:
comments:
Docs:  Fix misplaced images in moving_avg docs

time:
2015-05-27T19:26:30Z
class:
src/main/java/org/elasticsearch/bootstrap/Natives.java
comments:
catch UnsatisfiedLinkError on JNA load

This catches UnsatifiedLinkError when attempting to load the JNA Native
class, in cases where there are error loading the native libraries that JNA
needs to function.

time:
2015-05-27T18:49:39Z
class:
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgParser.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregator.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/EwmaModel.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltLinearModel.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltWintersModel.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/LinearModel.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModel.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelModule.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelParser.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelParserMapper.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/SimpleModel.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/TransportMovAvgModelModule.java
src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgTests.java
src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgUnitTests.java
comments:
Merge pull request #11043 from polyfractal/feature/aggs_holtwinters

Aggregations: Add Holt-Winters model to `moving_avg` pipeline aggregation

time:
2015-05-27T18:45:45Z
class:
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgParser.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregator.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/EwmaModel.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltLinearModel.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltWintersModel.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/LinearModel.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModel.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelModule.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelParser.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelParserMapper.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/SimpleModel.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/TransportMovAvgModelModule.java
src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgTests.java
src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgUnitTests.java
comments:
Aggregations: Add Holt-Winters model to `moving_avg` pipeline aggregation

Closes #11043

time:
2015-05-27T17:35:00Z
class:
comments:
REST tests: Fixed bad YAML in search/10_source_filtering

time:
2015-05-27T17:06:23Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/ConsoleCtrlHandler.java
src/main/java/org/elasticsearch/bootstrap/JNACLibrary.java
src/main/java/org/elasticsearch/bootstrap/JNAKernel32Library.java
src/main/java/org/elasticsearch/bootstrap/JNANatives.java
src/main/java/org/elasticsearch/bootstrap/Natives.java
src/main/java/org/elasticsearch/monitor/process/ProcessInfo.java
src/test/java/org/elasticsearch/benchmark/mapping/ManyMappingsBenchmark.java
src/test/java/org/elasticsearch/benchmark/recovery/ReplicaRecoveryBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/GlobalOrdinalsBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/SubAggregationSearchCollectModeBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchAndIndexingBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchBenchmark.java
src/test/java/org/elasticsearch/bootstrap/JNANativesTests.java
comments:
make JNA optional for tests and move classes to bootstrap package

Today, JNA is a optional dependency in the build but when running tests or running
with mlockall set to true, JNA must be on the classpath for Windows systems since
we always try to load JNA classes when using mlockall.

The old Natives class was renamed to JNANatives, and a new Natives class is
introduced without any direct imports on JNA classes. The Natives class checks to
see if JNA classes are available at startup. If the classes are available the Natives
class will delegate to the JNANatives class. If the classes are not available the
Natives class will not use the JNANatives class, which results in no additional attempts
to load JNA classes.

Additionally, all of the JNA classes were moved to the bootstrap package and made
package private as this is the only place they should be called from.

Closes #11360

time:
2015-05-27T16:35:21Z
class:
src/main/java/org/elasticsearch/search/aggregations/bucket/InternalSingleBucketAggregation.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/SiblingPipelineAggregator.java
src/test/java/org/elasticsearch/search/aggregations/pipeline/MaxBucketTests.java
comments:
Aggregations: Sibling Pipeline Aggregations can now be nested in SingleBucketAggregations

Closes #11379

time:
2015-05-27T16:25:38Z
class:
src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
src/main/java/org/elasticsearch/common/collect/BoundedTreeSet.java
src/main/java/org/elasticsearch/common/collect/IdentityHashSet.java
src/main/java/org/elasticsearch/common/collect/ImmutableOpenLongMap.java
src/main/java/org/elasticsearch/common/collect/Iterators2.java
src/main/java/org/elasticsearch/common/lucene/HashedBytesRef.java
src/main/java/org/elasticsearch/common/lucene/store/ThreadSafeInputStreamIndexInput.java
src/main/java/org/elasticsearch/common/unit/Percent.java
src/test/java/org/elasticsearch/common/collect/Iterators2Tests.java
comments:
Internal: remove unused code.

time:
2015-05-27T16:03:58Z
class:
src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java
comments:
Bulk: throw exception if unrecognized parameter in action/metadata line

Closes #10977

time:
2015-05-27T15:46:22Z
class:
src/main/java/org/elasticsearch/rest/action/support/RestTable.java
src/test/java/org/elasticsearch/rest/action/support/RestTableTest.java
comments:
Cat API: Do not rely on hashmap for sorted entries

The tests for the recently added added wildcard feature were
relying on order of the hashmap being used, which could be
different.

The implementation now ensures, that the header fields are
parsed in the order they have been added.

time:
2015-05-27T15:11:50Z
class:
src/main/java/org/elasticsearch/search/highlight/FastVectorHighlighter.java
src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
src/main/java/org/elasticsearch/search/highlight/Highlighter.java
src/main/java/org/elasticsearch/search/highlight/PlainHighlighter.java
src/main/java/org/elasticsearch/search/highlight/PostingsHighlighter.java
src/test/java/org/elasticsearch/search/highlight/CustomHighlighter.java
src/test/java/org/elasticsearch/search/highlight/HighlighterSearchTests.java
comments:
Merge pull request #11364 from brwe/highlighter-wildcard

Wildcard field names in highlighting should only return fields that can be highlighted

time:
2015-05-27T15:10:35Z
class:
src/main/java/org/elasticsearch/search/highlight/FastVectorHighlighter.java
src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
src/main/java/org/elasticsearch/search/highlight/Highlighter.java
src/main/java/org/elasticsearch/search/highlight/PlainHighlighter.java
src/main/java/org/elasticsearch/search/highlight/PostingsHighlighter.java
src/test/java/org/elasticsearch/search/highlight/CustomHighlighter.java
src/test/java/org/elasticsearch/search/highlight/HighlighterSearchTests.java
comments:
highlighting: don't fail search request when name of highlighted field contains wildcards

When we highlight on fields using wildcards then fields might match that cannot
be highlighted by the specified highlighter. The whole search request then
failed. Instead, check that the field can be highlighted and ignore the field
if it can't.
In addition ignore the exception thrown by plain highlighter if a field conatins
terms larger than 32766.

closes #9881

time:
2015-05-27T14:30:10Z
class:
src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
comments:
Search fix: fielddata_fields query string parameter was ignored.
The RestSearchAction did not parse the fielddata_fields parameter. Added test case and missing parser code.

Closes #11025

time:
2015-05-27T14:25:11Z
class:
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregator.java
src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgTests.java
comments:
Aggregations: Fixed Moving Average prediction to calculate the correct keys

The Moving average predict code generated incorrect keys if the key for the first bucket of the histogram was < 0. This fix makes the moving average use the rounding class from the histogram to generate the keys for the new buckets.

Closes #11369

time:
2015-05-27T14:09:31Z
class:
src/main/java/org/elasticsearch/rest/action/support/RestTable.java
src/test/java/org/elasticsearch/rest/action/support/RestTableTest.java
comments:
Cat API: Add wildcard support for header names

This adds wildcard support (simple regexes) for specifying header names.
Aliases are supported as well.

Closes #10811

time:
2015-05-27T12:40:02Z
class:
comments:
doc feedback

time:
2015-05-27T10:00:12Z
class:
comments:
Fix maven assembly warning about using root dir

It's a bad practice in Maven to define `/` as the output dir.
It's better to leave it empty.

See also http://stackoverflow.com/questions/28500401/maven-assembly-plugin-warning-the-assembly-descriptor-contains-a-filesystem-roo

time:
2015-05-27T10:00:12Z
class:
comments:
Ignore dependency-reduced-pom.xml even if used in submodules

time:
2015-05-27T09:51:58Z
class:
comments:
Add common SystemD file for RPM/DEB package

time:
2015-05-27T09:22:37Z
class:
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/DeleteIndexTemplateRequest.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/DeleteIndexTemplateRequestBuilder.java
comments:
Java api: add name setter to delete index template request and make default constructor public for AnalyzeRequest and DeleteIndexTemplateRequest

Closes #8122
Closes #8123

time:
2015-05-27T08:28:53Z
class:
comments:
[DOCS] add kopf to site plugins

time:
2015-05-27T08:17:10Z
class:
comments:
[DOCS] Update get.asciidoc

Updated to not mislead the reader that the data is actually gone when a document is updated. For example if you have 100GB of docs and update each one you'll only be able to access 100GB of the data, but there would theoretically be 200GB of doc data.

Closes #10375

time:
2015-05-27T07:29:37Z
class:
src/main/java/org/elasticsearch/indices/flush/IndicesSyncedFlushResult.java
src/main/java/org/elasticsearch/indices/flush/ShardsSyncedFlushResult.java
src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
src/main/java/org/elasticsearch/rest/action/admin/indices/flush/RestSyncedFlushAction.java
src/test/java/org/elasticsearch/indices/flush/SyncedFlushUnitTests.java
comments:
feedback

time:
2015-05-27T06:25:58Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodeHotThreads.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/NodesHotThreadsResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/TransportDeleteRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/TransportGetRepositoriesAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/TransportPutRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/TransportVerifyRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/DeleteSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/TransportRestoreSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexShardStatus.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
src/main/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodeResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/tasks/PendingClusterTasksRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/tasks/TransportPendingClusterTasksAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/TransportIndicesAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/exists/TransportAliasesExistAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesRequest.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheResponse.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheResponse.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/create/TransportCreateIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/IndicesExistsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/TransportIndicesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TypesExistsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/flush/FlushRequest.java
src/main/java/org/elasticsearch/action/admin/indices/flush/FlushResponse.java
src/main/java/org/elasticsearch/action/admin/indices/flush/ShardFlushRequest.java
src/main/java/org/elasticsearch/action/admin/indices/flush/ShardFlushResponse.java
src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
src/main/java/org/elasticsearch/action/admin/indices/open/TransportOpenIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeResponse.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/ShardOptimizeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/ShardOptimizeResponse.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/RecoveryRequest.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/RecoveryResponse.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/ShardRecoveryResponse.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshRequest.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/RefreshResponse.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/ShardRefreshRequest.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/ShardRefreshResponse.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesRequest.java
src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentResponse.java
src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/segments/ShardSegments.java
src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/get/GetSettingsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/settings/get/TransportGetSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/put/TransportUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/DeleteIndexTemplateRequest.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/TransportDeleteIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/GetIndexTemplatesRequest.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/TransportGetIndexTemplatesAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/TransportPutIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryRequest.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ShardValidateQueryResponse.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryRequest.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryResponse.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java
src/main/java/org/elasticsearch/action/count/CountRequest.java
src/main/java/org/elasticsearch/action/count/CountResponse.java
src/main/java/org/elasticsearch/action/exists/ExistsRequest.java
src/main/java/org/elasticsearch/action/exists/ExistsResponse.java
src/main/java/org/elasticsearch/action/exists/ShardExistsRequest.java
src/main/java/org/elasticsearch/action/exists/ShardExistsResponse.java
src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
src/main/java/org/elasticsearch/action/explain/ExplainRequest.java
src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsRequest.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsResponse.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardRequest.java
src/main/java/org/elasticsearch/action/fieldstats/FieldStatsShardResponse.java
src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
src/main/java/org/elasticsearch/action/get/GetRequest.java
src/main/java/org/elasticsearch/action/get/MultiGetShardRequest.java
src/main/java/org/elasticsearch/action/get/TransportGetAction.java
src/main/java/org/elasticsearch/action/get/TransportShardMultiGetAction.java
src/main/java/org/elasticsearch/action/percolate/PercolateRequest.java
src/main/java/org/elasticsearch/action/percolate/PercolateResponse.java
src/main/java/org/elasticsearch/action/percolate/PercolateShardRequest.java
src/main/java/org/elasticsearch/action/percolate/PercolateShardResponse.java
src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
src/main/java/org/elasticsearch/action/percolate/TransportShardMultiPercolateAction.java
src/main/java/org/elasticsearch/action/suggest/ShardSuggestRequest.java
src/main/java/org/elasticsearch/action/suggest/ShardSuggestResponse.java
src/main/java/org/elasticsearch/action/suggest/SuggestRequest.java
src/main/java/org/elasticsearch/action/suggest/SuggestResponse.java
src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
src/main/java/org/elasticsearch/action/support/broadcast/BroadcastOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/broadcast/BroadcastRequest.java
src/main/java/org/elasticsearch/action/support/broadcast/BroadcastResponse.java
src/main/java/org/elasticsearch/action/support/broadcast/BroadcastShardRequest.java
src/main/java/org/elasticsearch/action/support/broadcast/BroadcastShardResponse.java
src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastAction.java
src/main/java/org/elasticsearch/action/support/master/AcknowledgedRequest.java
src/main/java/org/elasticsearch/action/support/master/MasterNodeOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/master/MasterNodeReadOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/master/MasterNodeReadRequest.java
src/main/java/org/elasticsearch/action/support/master/MasterNodeRequest.java
src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeAction.java
src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeReadAction.java
src/main/java/org/elasticsearch/action/support/master/info/ClusterInfoRequest.java
src/main/java/org/elasticsearch/action/support/master/info/TransportClusterInfoAction.java
src/main/java/org/elasticsearch/action/support/nodes/BaseNodeRequest.java
src/main/java/org/elasticsearch/action/support/nodes/BaseNodeResponse.java
src/main/java/org/elasticsearch/action/support/nodes/BaseNodesRequest.java
src/main/java/org/elasticsearch/action/support/nodes/BaseNodesResponse.java
src/main/java/org/elasticsearch/action/support/nodes/NodesOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
src/main/java/org/elasticsearch/action/support/single/shard/SingleShardOperationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/single/shard/SingleShardRequest.java
src/main/java/org/elasticsearch/action/support/single/shard/TransportSingleShardAction.java
src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsShardRequest.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequest.java
src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
src/main/java/org/elasticsearch/action/termvectors/dfs/DfsOnlyRequest.java
src/main/java/org/elasticsearch/action/termvectors/dfs/DfsOnlyResponse.java
src/main/java/org/elasticsearch/action/termvectors/dfs/ShardDfsOnlyRequest.java
src/main/java/org/elasticsearch/action/termvectors/dfs/ShardDfsOnlyResponse.java
src/main/java/org/elasticsearch/action/termvectors/dfs/TransportDfsOnlyAction.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
src/main/java/org/elasticsearch/gateway/AsyncShardFetch.java
src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
src/main/java/org/elasticsearch/rest/action/support/RestActions.java
src/main/java/org/elasticsearch/tribe/TribeService.java
src/test/java/org/elasticsearch/action/admin/HotThreadsTest.java
src/test/java/org/elasticsearch/gateway/AsyncShardFetchTests.java
src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
comments:
Simplify Transport*OperationAction names

As a follow up to #11332, this commit simplifies more class names by remove the superfluous Operation:

TransportBroadcastOperationAction -> TransportBroadcastAction
TransportMasterNodeOperationAction -> TransportMasterNodeAction
TransportMasterNodeReadOperationAction -> TransportMasterNodeReadAction
TransportShardSingleOperationAction -> TransportSingleShardAction

Closes #11349

time:
2015-05-26T23:07:20Z
class:
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
src/main/java/org/elasticsearch/index/store/Store.java
comments:
[CORE] Read segment info from latest commit whenever possible

Instead of listing the directory to file the latest segments_N file, we
should re-use the generation/filename from the last commit. This allows
us to avoid potential race conditions on the filesystem as well as
reduce the number of directory listings performed.

time:
2015-05-26T19:39:20Z
class:
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
comments:
Be more lenient in EIT#waitForDocs

The count request now acts like search and barfs if all shards fail
this behavior changed and some tests like RecoveryWhileUnderLoadTests
relied on the lenient behavior of the old count API. This might be
a temporary solution to stop current test failures.

Relates to #11198

time:
2015-05-26T17:12:11Z
class:
src/main/java/org/elasticsearch/action/ActionModule.java
src/main/java/org/elasticsearch/action/ActionRequestBuilder.java
src/main/java/org/elasticsearch/action/count/CountAction.java
src/main/java/org/elasticsearch/action/count/CountRequest.java
src/main/java/org/elasticsearch/action/count/CountRequestBuilder.java
src/main/java/org/elasticsearch/action/count/CountResponse.java
src/main/java/org/elasticsearch/action/count/ShardCountRequest.java
src/main/java/org/elasticsearch/action/count/ShardCountResponse.java
src/main/java/org/elasticsearch/action/count/TransportCountAction.java
src/main/java/org/elasticsearch/action/support/broadcast/BroadcastOperationResponse.java
src/main/java/org/elasticsearch/client/support/AbstractClient.java
src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
src/test/java/org/elasticsearch/action/IndicesRequestTests.java
src/test/java/org/elasticsearch/action/count/CountRequestTests.java
src/test/java/org/elasticsearch/action/count/CountResponseTests.java
src/test/java/org/elasticsearch/broadcast/BroadcastActionsTests.java
src/test/java/org/elasticsearch/count/query/CountQueryTests.java
src/test/java/org/elasticsearch/document/DocumentActionsTests.java
comments:
Internal: count api to become a shortcut to the search api

The count api used to have its own execution path, although it would do the same (up to bugs!) of the search api. This commit makes it a shortcut to the search api with size set to 0. The change is made in a backwards compatible manner, by leaving all of the java api code around too, given that you may not want to get back a whole SearchResponse when asking only for number of hits matching a query, also cause migrating from countResponse.getCount() to searchResponse.getHits().totalHits() doesn't look great from a user perspective. We can always decide to drop more code around the count api if we want to break backwards compatibility on the java api, making it a shortcut on the rest layer only.

Closes #9117
Closes #11198

time:
2015-05-26T16:16:12Z
class:
comments:
Documentation: Fix elasticsearch documentation build

The commit for closing #11033 was not building the asciidoc
documentation.

time:
2015-05-26T15:44:52Z
class:
src/main/java/org/elasticsearch/common/component/AbstractComponent.java
src/main/java/org/elasticsearch/common/logging/DeprecationLogger.java
src/main/java/org/elasticsearch/common/logging/ESLoggerFactory.java
src/main/java/org/elasticsearch/common/logging/log4j/Log4jESLoggerFactory.java
src/main/java/org/elasticsearch/index/AbstractIndexComponent.java
src/main/java/org/elasticsearch/index/shard/AbstractIndexShardComponent.java
src/test/java/org/elasticsearch/common/logging/jdk/JDKESLoggerTests.java
src/test/java/org/elasticsearch/common/logging/log4j/Log4jESLoggerTests.java
comments:
Infra for deprecation logging

Add support for a specific deprecation logging that can be used to turn
on in order to notify users of a specific feature, flag, setting,
parameter, ... being deprecated.

The deprecation logger logs with a "deprecation." prefix logge
(or "org.elasticsearch.deprecation." if full name is used), and outputs
the logging to a dedicated deprecation log file.

Deprecation logging are logged under the DEBUG category. The idea is not to
enabled them by default (under WARN or ERROR) when running embedded in
another application.

By default they are turned off (INFO), in order to turn it on, the
"deprecation" category need to be set to DEBUG. This can be set in the
logging file or using the cluster update settings API, see the documentation

Closes #11033

time:
2015-05-26T14:03:45Z
class:
src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
src/main/java/org/elasticsearch/index/query/AndQueryParser.java
src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/BoostingQueryParser.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
src/main/java/org/elasticsearch/index/query/FQueryFilterParser.java
src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryParser.java
src/main/java/org/elasticsearch/index/query/FilteredQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
src/main/java/org/elasticsearch/index/query/LimitQueryBuilder.java
src/main/java/org/elasticsearch/index/query/LimitQueryParser.java
src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
src/main/java/org/elasticsearch/index/query/NotQueryBuilder.java
src/main/java/org/elasticsearch/index/query/NotQueryParser.java
src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
src/main/java/org/elasticsearch/index/query/OrQueryParser.java
src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
src/main/java/org/elasticsearch/index/query/QueryParser.java
src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanContainingQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanFirstQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanNotQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanOrQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanWithinQueryParser.java
src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TemplateQueryParser.java
src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermQueryParser.java
src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TypeQueryParser.java
src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
src/main/java/org/elasticsearch/index/query/WrapperQueryParser.java
src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/index/query/guice/MyJsonQueryParser.java
src/test/java/org/elasticsearch/index/query/plugin/PluginJsonQueryParser.java
comments:
Merge pull request #11344 from cbuescher/feature/query-refactoring-linkParsers

Query Refactoring: Adding getBuilderPrototype() method to all QueryParsers

time:
2015-05-26T14:01:12Z
class:
src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
src/main/java/org/elasticsearch/index/query/AndQueryParser.java
src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/BoostingQueryParser.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
src/main/java/org/elasticsearch/index/query/FQueryFilterParser.java
src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryParser.java
src/main/java/org/elasticsearch/index/query/FilteredQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
src/main/java/org/elasticsearch/index/query/LimitQueryBuilder.java
src/main/java/org/elasticsearch/index/query/LimitQueryParser.java
src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
src/main/java/org/elasticsearch/index/query/NotQueryBuilder.java
src/main/java/org/elasticsearch/index/query/NotQueryParser.java
src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
src/main/java/org/elasticsearch/index/query/OrQueryParser.java
src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
src/main/java/org/elasticsearch/index/query/QueryParser.java
src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanContainingQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanFirstQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanNotQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanOrQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanWithinQueryParser.java
src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TemplateQueryParser.java
src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermQueryParser.java
src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TypeQueryParser.java
src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
src/main/java/org/elasticsearch/index/query/WrapperQueryParser.java
src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/index/query/guice/MyJsonQueryParser.java
src/test/java/org/elasticsearch/index/query/plugin/PluginJsonQueryParser.java
comments:
Query refactoring: Adding getBuilderPrototype() method to all QueryParsers

Currently there is a registry for all QueryParsers accessible via the IndicesQueriesModule.
For deserializing nested queries e.g. for the BoolQueryBuilder (#11121) we need to look up
query builders by their name to be able to deserialize using a prototype builder of the concrete
class. This PR adds a getBuilderPrototype() method to each query parser so we can re-use the
parser registry to get the corresponding builder using the query name.

Closes #11344

time:
2015-05-26T13:54:44Z
class:
src/main/java/org/elasticsearch/node/NodeBuilder.java
src/test/java/org/elasticsearch/common/settings/SettingsTests.java
src/test/java/org/elasticsearch/common/settings/bar/BarTestClass.java
src/test/java/org/elasticsearch/common/settings/foo/FooTestClass.java
comments:
a few more ImmutableSettings -> Settings

time:
2015-05-26T13:54:31Z
class:
src/test/java/org/elasticsearch/index/mapper/attachment/test/standalone/StandaloneRunner.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/MultifieldAttachmentMapperTests.java
comments:
fix forbidden api usage

time:
2015-05-26T13:40:29Z
class:
src/test/java/org/elasticsearch/cloud/gce/AbstractGceTest.java
src/test/java/org/elasticsearch/discovery/gce/GceComputeEngineTest.java
src/test/java/org/elasticsearch/gce/itest/GceSimpleITest.java
comments:
Absorb ImmutableSettings into Settings

time:
2015-05-26T13:38:45Z
class:
src/test/java/org/elasticsearch/azure/itest/AzureSimpleITest.java
src/test/java/org/elasticsearch/cloud/azure/AbstractAzureTest.java
src/test/java/org/elasticsearch/discovery/azure/AbstractAzureComputeServiceTest.java
src/test/java/org/elasticsearch/discovery/azure/AzureMinimumMasterNodesTest.java
src/test/java/org/elasticsearch/discovery/azure/AzureSimpleTest.java
src/test/java/org/elasticsearch/discovery/azure/AzureTwoStartedNodesTest.java
src/test/java/org/elasticsearch/index/store/SmbMMapFsTest.java
src/test/java/org/elasticsearch/index/store/SmbSimpleFsTest.java
src/test/java/org/elasticsearch/repositories/azure/AbstractAzureRepositoryServiceTest.java
src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreITest.java
src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreTest.java
comments:
Absorb ImmutableSettings into Settings

time:
2015-05-26T13:36:17Z
class:
src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTest.java
src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryITest.java
src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryUpdateSettingsITest.java
src/test/java/org/elasticsearch/repositories/s3/AbstractS3SnapshotRestoreTest.java
src/test/java/org/elasticsearch/repositories/s3/S3SnapshotRestoreOverHttpTest.java
src/test/java/org/elasticsearch/repositories/s3/S3SnapshotRestoreOverHttpsTest.java
comments:
Absorb ImmutableSettings into Settings

time:
2015-05-26T13:34:45Z
class:
src/test/java/org/elasticsearch/test/rest/client/RestClient.java
comments:
[TEST] make filter_path a default parameter in java rest runner

Closes #11351

time:
2015-05-26T13:34:33Z
class:
src/test/java/org/elasticsearch/script/python/PythonScriptEngineTests.java
src/test/java/org/elasticsearch/script/python/PythonScriptMultiThreadedTest.java
src/test/java/org/elasticsearch/script/python/PythonScriptSearchTests.java
src/test/java/org/elasticsearch/script/python/SimpleBench.java
comments:
Absorb ImmutableSettings into Settings

time:
2015-05-26T13:32:38Z
class:
src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineTests.java
src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptMultiThreadedTest.java
src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptSearchTests.java
src/test/java/org/elasticsearch/script/javascript/SimpleBench.java
comments:
Absorb ImmutableSettings into Settings

time:
2015-05-26T13:27:59Z
class:
comments:
Change project.name to project.artifactId in bin/elasticsearch script because of 60519911b4e50bcc958c924a768dca2ae618101b

time:
2015-05-26T13:25:44Z
class:
src/main/java/org/elasticsearch/index/mapper/attachment/AttachmentMapper.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/MapperTestUtils.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/integration/EncryptedAttachmentIntegrationTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/integration/SimpleAttachmentIntegrationTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/AttachmentUnitTestCase.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/EncryptedDocMapperTest.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/LanguageDetectionAttachmentMapperTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/MetadataMapperTest.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/SimpleAttachmentMapperTests.java
comments:
Absorb ImmutableSettings into Settings; fix other pre-existing compilation issues, but there are still forbidden API failures

time:
2015-05-26T12:43:29Z
class:
comments:
Release script: Always check for valid environment

In order to be sure that a release can be executed on the local machine,
the build_release script now checks for environment variables and tries
to execute a  couple of commands.

In order to easily check for a correctly setup environment, you can
run the following commands, which exits early and does not trigger a
release process.

```
python3 dev-tools/build_release.py --check-only
```

time:
2015-05-26T12:08:58Z
class:
src/test/java/org/elasticsearch/index/analysis/SimplePhoneticAnalysisTests.java
src/test/java/org/elasticsearch/index/analysis/SimplePhoneticIntegrationTests.java
comments:
Absorb ImmutableSettings into Settings

time:
2015-05-26T12:08:12Z
class:
src/test/java/org/elasticsearch/index/analysis/PolishAnalysisTests.java
src/test/java/org/elasticsearch/index/analysis/SimplePolishIntegrationTests.java
src/test/java/org/elasticsearch/index/analysis/SimplePolishTokenFilterTests.java
comments:
Absorb ImmutableSettings into Settings

time:
2015-05-26T12:07:05Z
class:
src/test/java/org/elasticsearch/index/analysis/SimpleSmartChineseAnalysisTests.java
src/test/java/org/elasticsearch/index/analysis/SimpleSmartChineseIntegrationTests.java
comments:
Absorb ImmutableSettings into Settings

time:
2015-05-26T12:05:53Z
class:
src/test/java/org/elasticsearch/index/analysis/AnalysisTestUtils.java
src/test/java/org/elasticsearch/index/analysis/ICUIntegrationTests.java
src/test/java/org/elasticsearch/index/analysis/SimpleIcuAnalysisTests.java
src/test/java/org/elasticsearch/index/analysis/SimpleIcuCollationTokenFilterTests.java
src/test/java/org/elasticsearch/index/analysis/SimpleIcuNormalizerCharFilterTests.java
comments:
Absorb ImmutableSettings into Settings

time:
2015-05-26T12:03:20Z
class:
src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java
src/test/java/org/elasticsearch/index/analysis/KuromojiIntegrationTests.java
comments:
Absorb ImmutableSettings into Settings

time:
2015-05-26T11:51:04Z
class:
src/main/java/org/elasticsearch/common/xcontent/XContent.java
src/main/java/org/elasticsearch/common/xcontent/XContentBuilder.java
src/main/java/org/elasticsearch/common/xcontent/cbor/CborXContent.java
src/main/java/org/elasticsearch/common/xcontent/cbor/CborXContentGenerator.java
src/main/java/org/elasticsearch/common/xcontent/json/BaseJsonGenerator.java
src/main/java/org/elasticsearch/common/xcontent/json/JsonXContent.java
src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentGenerator.java
src/main/java/org/elasticsearch/common/xcontent/smile/SmileXContent.java
src/main/java/org/elasticsearch/common/xcontent/smile/SmileXContentGenerator.java
src/main/java/org/elasticsearch/common/xcontent/support/filtering/FilterContext.java
src/main/java/org/elasticsearch/common/xcontent/support/filtering/FilteringJsonGenerator.java
src/main/java/org/elasticsearch/common/xcontent/yaml/YamlXContent.java
src/main/java/org/elasticsearch/common/xcontent/yaml/YamlXContentGenerator.java
src/main/java/org/elasticsearch/rest/BytesRestResponse.java
src/main/java/org/elasticsearch/rest/RestChannel.java
src/main/java/org/elasticsearch/rest/RestController.java
src/main/java/org/elasticsearch/rest/action/get/RestGetSourceAction.java
src/main/java/org/elasticsearch/rest/action/index/RestIndexAction.java
src/main/java/org/elasticsearch/rest/action/script/RestPutIndexedScriptAction.java
src/test/java/org/elasticsearch/common/xcontent/support/filtering/AbstractFilteringJsonGeneratorTests.java
src/test/java/org/elasticsearch/common/xcontent/support/filtering/CborFilteringGeneratorTests.java
src/test/java/org/elasticsearch/common/xcontent/support/filtering/FilteringJsonGeneratorBenchmark.java
src/test/java/org/elasticsearch/common/xcontent/support/filtering/JsonFilteringGeneratorTests.java
src/test/java/org/elasticsearch/common/xcontent/support/filtering/SmileFilteringGeneratorTests.java
src/test/java/org/elasticsearch/common/xcontent/support/filtering/YamlFilteringGeneratorTests.java
src/test/java/org/elasticsearch/rest/RestFilterChainTests.java
comments:
API: Add response filtering with filter_path parameter

This change adds a new "filter_path" parameter that can be used to filter and reduce the responses returned by the REST API of elasticsearch.

For example, returning only the shards that failed to be optimized:
```
curl -XPOST 'localhost:9200/beer/_optimize?filter_path=_shards.failed'
{"_shards":{"failed":0}}%
```

It supports multiple filters (separated by a comma):
```
curl -XGET 'localhost:9200/_mapping?pretty&filter_path=*.mappings.*.properties.name,*.mappings.*.properties.title'
```

It also supports the YAML response format. Here it returns only the `_id` field of a newly indexed document:
```
curl -XPOST 'localhost:9200/library/book?filter_path=_id' -d '---hello:\n  world: 1\n'
---
_id: "AU0j64-b-stVfkvus5-A"
```

It also supports wildcards. Here it returns only the host name of every nodes in the cluster:
```
curl -XGET 'http://localhost:9200/_nodes/stats?filter_path=nodes.*.host*'
{"nodes":{"lvJHed8uQQu4brS-SXKsNA":{"host":"portable"}}}
```

And "**" can be used to include sub fields without knowing the exact path. Here it returns only the Lucene version of every segment:
```
curl 'http://localhost:9200/_segments?pretty&filter_path=indices.**.version'
{
  "indices" : {
    "beer" : {
      "shards" : {
        "0" : [ {
          "segments" : {
            "_0" : {
              "version" : "5.2.0"
            },
            "_1" : {
              "version" : "5.2.0"
            }
          }
        } ]
      }
    }
  }
}
```

Note that elasticsearch sometimes returns directly the raw value of a field, like the _source field. If you want to filter _source fields, you should consider combining the already existing _source parameter (see Get API for more details) with the filter_path parameter like this:

```
curl -XGET 'localhost:9200/_search?pretty&filter_path=hits.hits._source&_source=title'
{
  "hits" : {
    "hits" : [ {
      "_source":{"title":"Book #2"}
    }, {
      "_source":{"title":"Book #1"}
    }, {
      "_source":{"title":"Book #3"}
    } ]
  }
}
```

time:
2015-05-26T10:45:22Z
class:
src/main/java/org/elasticsearch/search/highlight/FastVectorHighlighter.java
src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
src/main/java/org/elasticsearch/search/highlight/HighlighterContext.java
src/main/java/org/elasticsearch/search/highlight/PlainHighlighter.java
src/main/java/org/elasticsearch/search/highlight/PostingsHighlighter.java
comments:
Highlighting: keep track of the original query only in HighlighterContext

We used to keep track of the rewritten query in the highlighter context to support custom rewriting done by our own postings highlighter fork. Now that we rely on lucene implementation, no rewrite happens, we can simply keep track of the original query and simplify code around it.

Closes #11317

time:
2015-05-26T09:49:33Z
class:
src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
comments:
[TEST] fix epected error message

time:
2015-05-26T09:44:10Z
class:
src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
comments:
Merge pull request #11303 from brwe/custom_analyzer_name

analyzers: custom analyzers names and aliases must not start with _

time:
2015-05-26T09:41:19Z
class:
src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
comments:
spell correct and add single quotes

time:
2015-05-26T09:41:12Z
class:
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
src/main/java/org/elasticsearch/cluster/settings/Validator.java
src/main/java/org/elasticsearch/common/settings/ImmutableSettings.java
src/main/java/org/elasticsearch/common/settings/Settings.java
src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java
src/main/java/org/elasticsearch/common/unit/MemorySizeValue.java
src/main/java/org/elasticsearch/index/engine/EngineConfig.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/translog/TranslogConfig.java
src/main/java/org/elasticsearch/indices/cache/filter/IndicesFilterCache.java
src/main/java/org/elasticsearch/indices/cache/query/IndicesQueryCache.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySettings.java
src/main/java/org/elasticsearch/rest/RestRequest.java
src/test/java/org/elasticsearch/benchmark/fs/FsAppendBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchBenchmark.java
src/test/java/org/elasticsearch/cluster/SimpleClusterStateTests.java
src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
src/test/java/org/elasticsearch/common/unit/ByteSizeValueTests.java
src/test/java/org/elasticsearch/network/DirectBufferNetworkTests.java
src/test/java/org/elasticsearch/recovery/RecoverySettingsTest.java
comments:
require setting name to Memory/ByteSizeValue parsers

time:
2015-05-26T09:40:57Z
class:
comments:
[maven] fix paths for final artifact

We need to define an absolute path (based on `${project.basedir}`) instead of using related paths.

time:
2015-05-26T09:38:51Z
class:
src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTest.java
comments:
Changing references of ImmutableSettings to Settings after merge with master

time:
2015-05-26T09:38:15Z
class:
src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
comments:
analyzers: custom analyzers names and aliases must not start with _

closes #9596

time:
2015-05-26T09:17:01Z
class:
src/main/java/org/elasticsearch/action/TransportActionNodeProxy.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/TransportLivenessAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/TransportDeleteRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/TransportGetRepositoriesAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/TransportPutRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/TransportVerifyRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/ClusterUpdateSettingsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/ClusterUpdateSettingsResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/TransportRestoreSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/tasks/TransportPendingClusterTasksAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/TransportIndicesAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/exists/TransportAliasesExistAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexClusterStateUpdateRequest.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/create/TransportCreateIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/TransportIndicesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java
src/main/java/org/elasticsearch/action/admin/indices/get/TransportGetIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetMappingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
src/main/java/org/elasticsearch/action/admin/indices/open/TransportOpenIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
src/main/java/org/elasticsearch/action/admin/indices/seal/TransportSealIndicesAction.java
src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/get/GetSettingsResponse.java
src/main/java/org/elasticsearch/action/admin/indices/settings/get/TransportGetSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/put/TransportUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/put/UpdateSettingsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/settings/put/UpdateSettingsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/TransportDeleteIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/TransportGetIndexTemplatesAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/TransportPutIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/get/TransportGetWarmersAction.java
src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java
src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/count/TransportCountAction.java
src/main/java/org/elasticsearch/action/delete/DeleteRequest.java
src/main/java/org/elasticsearch/action/delete/DeleteRequestBuilder.java
src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
src/main/java/org/elasticsearch/action/get/TransportGetAction.java
src/main/java/org/elasticsearch/action/index/IndexRequest.java
src/main/java/org/elasticsearch/action/index/IndexRequestBuilder.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/action/support/ThreadedActionListener.java
src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastOperationAction.java
src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeOperationAction.java
src/main/java/org/elasticsearch/action/support/master/info/TransportClusterInfoAction.java
src/main/java/org/elasticsearch/action/support/nodes/TransportNodesOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
src/main/java/org/elasticsearch/action/support/replication/ReplicationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
src/main/java/org/elasticsearch/action/support/single/custom/TransportSingleCustomOperationAction.java
src/main/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationAction.java
src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
src/main/java/org/elasticsearch/action/termvectors/dfs/TransportDfsOnlyAction.java
src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
src/main/java/org/elasticsearch/bootstrap/JVMCheck.java
src/main/java/org/elasticsearch/bootstrap/Security.java
src/main/java/org/elasticsearch/client/node/NodeClient.java
src/main/java/org/elasticsearch/client/support/Headers.java
src/main/java/org/elasticsearch/client/transport/TransportClient.java
src/main/java/org/elasticsearch/cluster/EmptyClusterInfoService.java
src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
src/main/java/org/elasticsearch/cluster/action/index/NodeMappingRefreshAction.java
src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
src/main/java/org/elasticsearch/cluster/metadata/RepositoriesMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/RepositoryMetaData.java
src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocators.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/SnapshotInProgressAllocationDecider.java
src/main/java/org/elasticsearch/common/blobstore/fs/FsBlobStore.java
src/main/java/org/elasticsearch/common/blobstore/url/URLBlobStore.java
src/main/java/org/elasticsearch/common/cli/CliTool.java
src/main/java/org/elasticsearch/common/component/AbstractLifecycleComponent.java
src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressor.java
src/main/java/org/elasticsearch/common/logging/Loggers.java
src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
src/main/java/org/elasticsearch/common/network/MulticastChannel.java
src/main/java/org/elasticsearch/common/settings/ImmutableSettings.java
src/main/java/org/elasticsearch/common/settings/Settings.java
src/main/java/org/elasticsearch/common/settings/SettingsFilter.java
src/main/java/org/elasticsearch/common/util/BigArrays.java
src/main/java/org/elasticsearch/discovery/DiscoveryService.java
src/main/java/org/elasticsearch/discovery/zen/membership/MembershipAction.java
src/main/java/org/elasticsearch/discovery/zen/ping/ZenPingService.java
src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java
src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
src/main/java/org/elasticsearch/env/NodeEnvironment.java
src/main/java/org/elasticsearch/gateway/AsyncShardFetch.java
src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
src/main/java/org/elasticsearch/gateway/GatewayService.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
src/main/java/org/elasticsearch/index/IndexService.java
src/main/java/org/elasticsearch/index/aliases/IndexAliasesService.java
src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
src/main/java/org/elasticsearch/index/analysis/ClassicTokenizerFactory.java
src/main/java/org/elasticsearch/index/analysis/EdgeNGramTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/FrenchStemTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/PreBuiltAnalyzerProviderFactory.java
src/main/java/org/elasticsearch/index/analysis/PreBuiltCharFilterFactoryFactory.java
src/main/java/org/elasticsearch/index/analysis/PreBuiltTokenFilterFactoryFactory.java
src/main/java/org/elasticsearch/index/analysis/PreBuiltTokenizerFactoryFactory.java
src/main/java/org/elasticsearch/index/analysis/StandardAnalyzerProvider.java
src/main/java/org/elasticsearch/index/analysis/StandardHtmlStripAnalyzerProvider.java
src/main/java/org/elasticsearch/index/analysis/StemmerTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/SynonymTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/WordDelimiterTokenFilterFactory.java
src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
src/main/java/org/elasticsearch/index/codec/CodecService.java
src/main/java/org/elasticsearch/index/deletionpolicy/KeepLastNDeletionPolicy.java
src/main/java/org/elasticsearch/index/fielddata/FieldDataType.java
src/main/java/org/elasticsearch/index/fielddata/ShardFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IndexIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PackedArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/gateway/IndexShardGateway.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/merge/policy/TieredMergePolicyProvider.java
src/main/java/org/elasticsearch/index/merge/scheduler/MergeSchedulerProvider.java
src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
src/main/java/org/elasticsearch/index/settings/IndexSettingsService.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/similarity/DefaultSimilarityProvider.java
src/main/java/org/elasticsearch/index/similarity/SimilarityLookupService.java
src/main/java/org/elasticsearch/index/similarity/SimilarityProvider.java
src/main/java/org/elasticsearch/index/similarity/SimilarityService.java
src/main/java/org/elasticsearch/index/store/IndexStore.java
src/main/java/org/elasticsearch/index/store/StoreModule.java
src/main/java/org/elasticsearch/index/translog/TranslogService.java
src/main/java/org/elasticsearch/indices/IndicesLifecycle.java
src/main/java/org/elasticsearch/indices/IndicesService.java
src/main/java/org/elasticsearch/indices/IndicesWarmer.java
src/main/java/org/elasticsearch/indices/SyncedFlushService.java
src/main/java/org/elasticsearch/indices/analysis/HunspellService.java
src/main/java/org/elasticsearch/indices/analysis/IndicesAnalysisService.java
src/main/java/org/elasticsearch/indices/breaker/CircuitBreakerService.java
src/main/java/org/elasticsearch/indices/breaker/NoneCircuitBreakerService.java
src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
src/main/java/org/elasticsearch/indices/store/IndicesStore.java
src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
src/main/java/org/elasticsearch/monitor/MonitorModule.java
src/main/java/org/elasticsearch/monitor/MonitorService.java
src/main/java/org/elasticsearch/monitor/fs/FsService.java
src/main/java/org/elasticsearch/monitor/fs/JmxFsProbe.java
src/main/java/org/elasticsearch/monitor/fs/SigarFsProbe.java
src/main/java/org/elasticsearch/monitor/jvm/JvmMonitorService.java
src/main/java/org/elasticsearch/node/Node.java
src/main/java/org/elasticsearch/node/NodeBuilder.java
src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
src/main/java/org/elasticsearch/node/settings/NodeSettingsService.java
src/main/java/org/elasticsearch/plugins/AbstractPlugin.java
src/main/java/org/elasticsearch/plugins/PluginManager.java
src/main/java/org/elasticsearch/plugins/PluginsService.java
src/main/java/org/elasticsearch/repositories/RepositoriesService.java
src/main/java/org/elasticsearch/repositories/RepositoryModule.java
src/main/java/org/elasticsearch/rest/BaseRestHandler.java
src/main/java/org/elasticsearch/rest/RestController.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/repositories/verify/RestVerifyRepositoryAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/settings/RestUpdateSettingsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/upgrade/RestUpgradeAction.java
src/main/java/org/elasticsearch/rest/action/cat/RestAllocationAction.java
src/main/java/org/elasticsearch/rest/action/main/RestMainAction.java
src/main/java/org/elasticsearch/river/RiverModule.java
src/main/java/org/elasticsearch/river/RiversManager.java
src/main/java/org/elasticsearch/river/RiversService.java
src/main/java/org/elasticsearch/river/cluster/RiverClusterService.java
src/main/java/org/elasticsearch/river/routing/RiversRouter.java
src/main/java/org/elasticsearch/search/MultiValueMode.java
src/main/java/org/elasticsearch/search/aggregations/AggregationBuilders.java
src/main/java/org/elasticsearch/search/aggregations/bucket/BestDocsDeferringCollector.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedBytesHashSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedMapSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedNumericSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedOrdinalsSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/SamplerAggregator.java
src/main/java/org/elasticsearch/search/rescore/RescorePhase.java
src/main/java/org/elasticsearch/snapshots/RestoreService.java
src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
src/main/java/org/elasticsearch/threadpool/ThreadPool.java
src/main/java/org/elasticsearch/threadpool/ThreadPoolModule.java
src/main/java/org/elasticsearch/transport/TransportService.java
src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
src/main/java/org/elasticsearch/tribe/TribeService.java
src/main/java/org/elasticsearch/watcher/ResourceWatcherService.java
src/test/java/org/elasticsearch/VersionTests.java
src/test/java/org/elasticsearch/action/IndicesRequestTests.java
src/test/java/org/elasticsearch/action/RejectionActionTests.java
src/test/java/org/elasticsearch/action/admin/cluster/repositories/RepositoryBlocksTests.java
src/test/java/org/elasticsearch/action/admin/cluster/snapshots/SnapshotBlocksTests.java
src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsTests.java
src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexTests.java
src/test/java/org/elasticsearch/action/admin/indices/get/GetIndexTests.java
src/test/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsRequestTests.java
src/test/java/org/elasticsearch/action/bulk/BulkProcessorClusterSettingsTests.java
src/test/java/org/elasticsearch/action/bulk/BulkProcessorTests.java
src/test/java/org/elasticsearch/action/count/CountRequestBuilderTests.java
src/test/java/org/elasticsearch/action/search/SearchRequestBuilderTests.java
src/test/java/org/elasticsearch/action/support/TransportActionFilterChainTests.java
src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
src/test/java/org/elasticsearch/action/termvectors/AbstractTermVectorsTests.java
src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsCheckDocFreqTests.java
src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsTests.java
src/test/java/org/elasticsearch/action/termvectors/MultiTermVectorsTests.java
src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java
src/test/java/org/elasticsearch/benchmark/aliases/AliasesBenchmark.java
src/test/java/org/elasticsearch/benchmark/breaker/CircuitBreakerBenchmark.java
src/test/java/org/elasticsearch/benchmark/cluster/ClusterAllocationRerouteBenchmark.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-05-26T08:43:18Z
class:
src/main/java/org/elasticsearch/search/rescore/RescorePhase.java
src/test/java/org/elasticsearch/search/rescore/QueryRescorerTests.java
comments:
Don't truncate TopDocs after rescoring

We were previously over-trimming the TopDocs such that you get
size-from hits instead of size, which is wrong when from != 0.

Closes #11127

Closes #11342

time:
2015-05-26T08:06:21Z
class:
src/main/java/org/elasticsearch/search/rescore/RescorePhase.java
src/test/java/org/elasticsearch/search/rescore/QueryRescorerTests.java
comments:
don't truncate TopDocs after rescoring

time:
2015-05-26T07:54:08Z
class:
src/main/java/org/elasticsearch/action/TransportActionNodeProxy.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/TransportLivenessAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/TransportDeleteRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/TransportGetRepositoriesAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/TransportPutRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/TransportVerifyRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/ClusterUpdateSettingsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/ClusterUpdateSettingsResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/TransportRestoreSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/tasks/TransportPendingClusterTasksAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/TransportIndicesAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/exists/TransportAliasesExistAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexClusterStateUpdateRequest.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/create/TransportCreateIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/TransportIndicesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java
src/main/java/org/elasticsearch/action/admin/indices/get/TransportGetIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetMappingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
src/main/java/org/elasticsearch/action/admin/indices/open/TransportOpenIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
src/main/java/org/elasticsearch/action/admin/indices/seal/TransportSealIndicesAction.java
src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/get/GetSettingsResponse.java
src/main/java/org/elasticsearch/action/admin/indices/settings/get/TransportGetSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/put/TransportUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/put/UpdateSettingsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/settings/put/UpdateSettingsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/TransportDeleteIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/TransportGetIndexTemplatesAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/TransportPutIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/get/TransportGetWarmersAction.java
src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java
src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/count/TransportCountAction.java
src/main/java/org/elasticsearch/action/delete/DeleteRequest.java
src/main/java/org/elasticsearch/action/delete/DeleteRequestBuilder.java
src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
src/main/java/org/elasticsearch/action/get/TransportGetAction.java
src/main/java/org/elasticsearch/action/index/IndexRequest.java
src/main/java/org/elasticsearch/action/index/IndexRequestBuilder.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/action/support/ThreadedActionListener.java
src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastOperationAction.java
src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeOperationAction.java
src/main/java/org/elasticsearch/action/support/master/info/TransportClusterInfoAction.java
src/main/java/org/elasticsearch/action/support/nodes/TransportNodesOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
src/main/java/org/elasticsearch/action/support/replication/ReplicationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
src/main/java/org/elasticsearch/action/support/single/custom/TransportSingleCustomOperationAction.java
src/main/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationAction.java
src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
src/main/java/org/elasticsearch/action/termvectors/dfs/TransportDfsOnlyAction.java
src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/client/node/NodeClient.java
src/main/java/org/elasticsearch/client/support/Headers.java
src/main/java/org/elasticsearch/client/transport/TransportClient.java
src/main/java/org/elasticsearch/cluster/EmptyClusterInfoService.java
src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
src/main/java/org/elasticsearch/cluster/action/index/NodeMappingRefreshAction.java
src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
src/main/java/org/elasticsearch/cluster/metadata/RepositoriesMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/RepositoryMetaData.java
src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocators.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/SnapshotInProgressAllocationDecider.java
src/main/java/org/elasticsearch/common/blobstore/fs/FsBlobStore.java
src/main/java/org/elasticsearch/common/blobstore/url/URLBlobStore.java
src/main/java/org/elasticsearch/common/cli/CliTool.java
src/main/java/org/elasticsearch/common/component/AbstractLifecycleComponent.java
src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressor.java
src/main/java/org/elasticsearch/common/logging/Loggers.java
src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
src/main/java/org/elasticsearch/common/network/MulticastChannel.java
src/main/java/org/elasticsearch/common/settings/Settings.java
src/main/java/org/elasticsearch/common/settings/SettingsFilter.java
src/main/java/org/elasticsearch/common/util/BigArrays.java
src/main/java/org/elasticsearch/discovery/DiscoveryService.java
src/main/java/org/elasticsearch/discovery/zen/membership/MembershipAction.java
src/main/java/org/elasticsearch/discovery/zen/ping/ZenPingService.java
src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java
src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
src/main/java/org/elasticsearch/env/NodeEnvironment.java
src/main/java/org/elasticsearch/gateway/GatewayService.java
src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
src/main/java/org/elasticsearch/index/IndexService.java
src/main/java/org/elasticsearch/index/aliases/IndexAliasesService.java
src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
src/main/java/org/elasticsearch/index/analysis/ClassicTokenizerFactory.java
src/main/java/org/elasticsearch/index/analysis/EdgeNGramTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/FrenchStemTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/PreBuiltAnalyzerProviderFactory.java
src/main/java/org/elasticsearch/index/analysis/PreBuiltCharFilterFactoryFactory.java
src/main/java/org/elasticsearch/index/analysis/PreBuiltTokenFilterFactoryFactory.java
src/main/java/org/elasticsearch/index/analysis/PreBuiltTokenizerFactoryFactory.java
src/main/java/org/elasticsearch/index/analysis/StandardAnalyzerProvider.java
src/main/java/org/elasticsearch/index/analysis/StandardHtmlStripAnalyzerProvider.java
src/main/java/org/elasticsearch/index/analysis/StemmerTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/SynonymTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/WordDelimiterTokenFilterFactory.java
src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
src/main/java/org/elasticsearch/index/codec/CodecService.java
src/main/java/org/elasticsearch/index/deletionpolicy/KeepLastNDeletionPolicy.java
src/main/java/org/elasticsearch/index/fielddata/FieldDataType.java
src/main/java/org/elasticsearch/index/fielddata/ShardFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IndexIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PackedArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/gateway/IndexShardGateway.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/merge/policy/TieredMergePolicyProvider.java
src/main/java/org/elasticsearch/index/merge/scheduler/MergeSchedulerProvider.java
src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/settings/IndexSettingsService.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/similarity/DefaultSimilarityProvider.java
src/main/java/org/elasticsearch/index/similarity/SimilarityLookupService.java
src/main/java/org/elasticsearch/index/similarity/SimilarityProvider.java
src/main/java/org/elasticsearch/index/similarity/SimilarityService.java
src/main/java/org/elasticsearch/index/store/IndexStore.java
src/main/java/org/elasticsearch/index/store/StoreModule.java
src/main/java/org/elasticsearch/index/translog/TranslogService.java
src/main/java/org/elasticsearch/indices/IndicesLifecycle.java
src/main/java/org/elasticsearch/indices/IndicesService.java
src/main/java/org/elasticsearch/indices/IndicesWarmer.java
src/main/java/org/elasticsearch/indices/SyncedFlushService.java
src/main/java/org/elasticsearch/indices/analysis/HunspellService.java
src/main/java/org/elasticsearch/indices/analysis/IndicesAnalysisService.java
src/main/java/org/elasticsearch/indices/breaker/CircuitBreakerService.java
src/main/java/org/elasticsearch/indices/breaker/NoneCircuitBreakerService.java
src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
src/main/java/org/elasticsearch/indices/store/IndicesStore.java
src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
src/main/java/org/elasticsearch/monitor/MonitorModule.java
src/main/java/org/elasticsearch/monitor/MonitorService.java
src/main/java/org/elasticsearch/monitor/fs/FsService.java
src/main/java/org/elasticsearch/monitor/fs/JmxFsProbe.java
src/main/java/org/elasticsearch/monitor/fs/SigarFsProbe.java
src/main/java/org/elasticsearch/monitor/jvm/JvmMonitorService.java
src/main/java/org/elasticsearch/node/Node.java
src/main/java/org/elasticsearch/node/NodeBuilder.java
src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
src/main/java/org/elasticsearch/node/settings/NodeSettingsService.java
src/main/java/org/elasticsearch/plugins/AbstractPlugin.java
src/main/java/org/elasticsearch/plugins/PluginManager.java
src/main/java/org/elasticsearch/plugins/PluginsService.java
src/main/java/org/elasticsearch/repositories/RepositoriesService.java
src/main/java/org/elasticsearch/repositories/RepositoryModule.java
src/main/java/org/elasticsearch/rest/BaseRestHandler.java
src/main/java/org/elasticsearch/rest/RestController.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/repositories/verify/RestVerifyRepositoryAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/settings/RestUpdateSettingsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/upgrade/RestUpgradeAction.java
src/main/java/org/elasticsearch/rest/action/cat/RestAllocationAction.java
src/main/java/org/elasticsearch/rest/action/main/RestMainAction.java
src/main/java/org/elasticsearch/river/RiverModule.java
src/main/java/org/elasticsearch/river/RiversManager.java
src/main/java/org/elasticsearch/river/RiversService.java
src/main/java/org/elasticsearch/river/cluster/RiverClusterService.java
src/main/java/org/elasticsearch/river/routing/RiversRouter.java
src/main/java/org/elasticsearch/snapshots/RestoreService.java
src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
src/main/java/org/elasticsearch/threadpool/ThreadPool.java
src/main/java/org/elasticsearch/threadpool/ThreadPoolModule.java
src/main/java/org/elasticsearch/transport/TransportService.java
src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
src/main/java/org/elasticsearch/tribe/TribeService.java
src/main/java/org/elasticsearch/watcher/ResourceWatcherService.java
src/test/java/org/elasticsearch/VersionTests.java
src/test/java/org/elasticsearch/action/IndicesRequestTests.java
src/test/java/org/elasticsearch/action/RejectionActionTests.java
src/test/java/org/elasticsearch/action/admin/cluster/repositories/RepositoryBlocksTests.java
src/test/java/org/elasticsearch/action/admin/cluster/snapshots/SnapshotBlocksTests.java
src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsTests.java
src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexTests.java
src/test/java/org/elasticsearch/action/admin/indices/get/GetIndexTests.java
src/test/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsRequestTests.java
src/test/java/org/elasticsearch/action/bulk/BulkProcessorClusterSettingsTests.java
src/test/java/org/elasticsearch/action/bulk/BulkProcessorTests.java
src/test/java/org/elasticsearch/action/count/CountRequestBuilderTests.java
src/test/java/org/elasticsearch/action/search/SearchRequestBuilderTests.java
src/test/java/org/elasticsearch/action/support/TransportActionFilterChainTests.java
src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
src/test/java/org/elasticsearch/action/termvectors/AbstractTermVectorsTests.java
src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsCheckDocFreqTests.java
src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsTests.java
src/test/java/org/elasticsearch/action/termvectors/MultiTermVectorsTests.java
src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java
src/test/java/org/elasticsearch/benchmark/aliases/AliasesBenchmark.java
src/test/java/org/elasticsearch/benchmark/breaker/CircuitBreakerBenchmark.java
src/test/java/org/elasticsearch/benchmark/cluster/ClusterAllocationRerouteBenchmark.java
src/test/java/org/elasticsearch/benchmark/mapping/ManyMappingsBenchmark.java
src/test/java/org/elasticsearch/benchmark/percolator/PercolatorStressBenchmark.java
src/test/java/org/elasticsearch/benchmark/recovery/ReplicaRecoveryBenchmark.java
src/test/java/org/elasticsearch/benchmark/scripts/expression/ScriptComparisonBenchmark.java
src/test/java/org/elasticsearch/benchmark/scripts/score/BasicScriptBenchmark.java
src/test/java/org/elasticsearch/benchmark/scripts/score/ScriptsConstantScoreBenchmark.java
src/test/java/org/elasticsearch/benchmark/scripts/score/ScriptsScoreBenchmark.java
src/test/java/org/elasticsearch/benchmark/scripts/score/ScriptsScorePayloadSumBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/SuggestSearchBenchMark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/CardinalityAggregationSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/GlobalOrdinalsBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/HistogramAggregationSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/IncludeExcludeAggregationSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/PercentilesAggregationSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/QueryFilterAggregationSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/SubAggregationSearchCollectModeBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchAndIndexingBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/TimeDataHistogramAggregationBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchAndIndexingBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchShortCircuitBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/geo/GeoDistanceSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/nested/NestedSearchBenchMark.java
src/test/java/org/elasticsearch/benchmark/search/scroll/ScrollSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/stress/NodesStressTest.java
src/test/java/org/elasticsearch/benchmark/stress/SingleThreadBulkStress.java
src/test/java/org/elasticsearch/benchmark/stress/SingleThreadIndexingStress.java
src/test/java/org/elasticsearch/benchmark/transport/BenchmarkNettyLargeMessages.java
src/test/java/org/elasticsearch/benchmark/transport/TransportBenchmark.java
src/test/java/org/elasticsearch/blocks/SimpleBlocksTests.java
src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
src/test/java/org/elasticsearch/bwcompat/BasicBackwardsCompatibilityTest.java
src/test/java/org/elasticsearch/bwcompat/ClusterStateBackwardsCompatTests.java
src/test/java/org/elasticsearch/bwcompat/GetIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/bwcompat/NodesStatsBasicBackwardsCompatTests.java
comments:
merged master

time:
2015-05-26T07:00:16Z
class:
src/test/java/org/elasticsearch/index/store/ExceptionRetryTests.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
[TEST] don't check shard operations counter in ExceptionRetryTests

time:
2015-05-26T04:21:41Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/TransportDeleteRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/TransportGetRepositoriesAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/TransportPutRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/TransportVerifyRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/TransportRestoreSnapshotAction.java
src/test/java/org/elasticsearch/action/admin/cluster/snapshots/SnapshotBlocksTests.java
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
comments:
Snapshot/Restore: check that reading indices is allowed before creating their snapshots

Clean up of Snapshot/Restore cluster and index block handling.

Closes #11133

time:
2015-05-25T21:19:22Z
class:
comments:
pr-11291 adding JAVA_HOME to documents and env config file

time:
2015-05-25T20:41:11Z
class:
src/test/java/org/elasticsearch/index/translog/TranslogTests.java
comments:
[TEST] Skip invalid random file names

time:
2015-05-25T19:49:04Z
class:
src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/delete/DeleteRequest.java
src/main/java/org/elasticsearch/action/delete/DeleteRequestBuilder.java
src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
src/main/java/org/elasticsearch/action/index/IndexRequest.java
src/main/java/org/elasticsearch/action/index/IndexRequestBuilder.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
src/main/java/org/elasticsearch/action/support/replication/ReplicationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
comments:
Merge pull request #11332 from bleskes/replication_action

Rename TransportShardReplicationOperationAction to TransportReplicationAction

time:
2015-05-25T19:43:04Z
class:
src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java
src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
src/main/java/org/elasticsearch/action/delete/DeleteRequest.java
src/main/java/org/elasticsearch/action/delete/DeleteRequestBuilder.java
src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
src/main/java/org/elasticsearch/action/index/IndexRequest.java
src/main/java/org/elasticsearch/action/index/IndexRequestBuilder.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
src/main/java/org/elasticsearch/action/support/replication/ReplicationRequestBuilder.java
src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
comments:
Internal: Rename TransportShardReplicationOperationAction to TransportReplicationAction

 TransportShardReplicationOperationAction is a mouthful and is the only thing we mean when we say replication.  This commit also changes some related friends.

time:
2015-05-25T19:32:32Z
class:
src/main/java/org/elasticsearch/action/ActionModule.java
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesAction.java
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesRequest.java
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesResponse.java
src/main/java/org/elasticsearch/action/admin/indices/seal/TransportSealIndicesAction.java
src/main/java/org/elasticsearch/client/IndicesAdminClient.java
src/main/java/org/elasticsearch/client/support/AbstractClient.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/indices/IndicesModule.java
src/main/java/org/elasticsearch/indices/flush/IndicesSyncedFlushResult.java
src/main/java/org/elasticsearch/indices/flush/ShardsSyncedFlushResult.java
src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
src/main/java/org/elasticsearch/rest/action/RestActionModule.java
src/main/java/org/elasticsearch/rest/action/admin/indices/flush/RestSyncedFlushAction.java
src/test/java/org/elasticsearch/action/admin/indices/seal/SealIndicesTests.java
src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayTests.java
src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
src/test/java/org/elasticsearch/indices/SealTests.java
src/test/java/org/elasticsearch/indices/flush/FlushTest.java
src/test/java/org/elasticsearch/indices/flush/SyncedFlushSingleNodeTest.java
src/test/java/org/elasticsearch/indices/flush/SyncedFlushUnitTests.java
src/test/java/org/elasticsearch/indices/flush/SyncedFlushUtil.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Move index sealing terminology to synced flush

#10032 introduced the notion of sealing an index by marking it with a special read only marker, allowing for a couple of optimization to happen. The most important one was to speed up recoveries of shards where we know nothing has changed since they were online by skipping the file based sync phase. During the implementation we came up with a light notion which achieves the same recovery benefits but without the read only aspects which we dubbed synced flush. The fact that it was light weight and didn't put the index in read only mode, allowed us to do it automatically in the background which has great advantage. However we also felt the need to allow users to manually trigger this operation.

 The implementation at #11179 added the sync flush internal logic and the manual (rest) rest API. The name of the API was modeled after the sealing terminology which may end up being confusing. This commit changes the API name to match the internal synced flush naming, namely `{index}/_flush/synced'.

  On top of that it contains a couple other changes:
   - Remove all java client API. This feature is not supposed to be called programtically by applications but rather by admins.
   - Improve rest responses making structure similar to other (flush) API
   - Change IndexShard#getOperationsCount to exclude the internal +1 on open shard . it's confusing to get 1 while there are actually no ongoing operations
   - Some minor other clean ups

time:
2015-05-25T17:56:43Z
class:
comments:
[Docs] Fix minor spelling errors

Closes #11320

time:
2015-05-25T17:14:01Z
class:
src/main/java/org/elasticsearch/action/TransportActionNodeProxy.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/liveness/TransportLivenessAction.java
src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/delete/TransportDeleteRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/TransportGetRepositoriesAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/PutRepositoryRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/put/TransportPutRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/repositories/verify/TransportVerifyRepositoryAction.java
src/main/java/org/elasticsearch/action/admin/cluster/reroute/TransportClusterRerouteAction.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/ClusterUpdateSettingsRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/ClusterUpdateSettingsResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/shards/TransportClusterSearchShardsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/RestoreSnapshotRequest.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/restore/TransportRestoreSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
src/main/java/org/elasticsearch/action/admin/cluster/tasks/TransportPendingClusterTasksAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/TransportIndicesAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/exists/TransportAliasesExistAction.java
src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexClusterStateUpdateRequest.java
src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java
src/main/java/org/elasticsearch/action/admin/indices/create/TransportCreateIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/indices/TransportIndicesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java
src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java
src/main/java/org/elasticsearch/action/admin/indices/get/TransportGetIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetMappingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
src/main/java/org/elasticsearch/action/admin/indices/open/TransportOpenIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
src/main/java/org/elasticsearch/action/admin/indices/seal/TransportSealIndicesAction.java
src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/get/GetSettingsResponse.java
src/main/java/org/elasticsearch/action/admin/indices/settings/get/TransportGetSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/put/TransportUpdateSettingsAction.java
src/main/java/org/elasticsearch/action/admin/indices/settings/put/UpdateSettingsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/settings/put/UpdateSettingsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/delete/TransportDeleteIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/get/TransportGetIndexTemplatesAction.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequest.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/PutIndexTemplateRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/template/put/TransportPutIndexTemplateAction.java
src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java
src/main/java/org/elasticsearch/action/admin/indices/warmer/get/TransportGetWarmersAction.java
src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
src/main/java/org/elasticsearch/action/count/TransportCountAction.java
src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
src/main/java/org/elasticsearch/action/get/TransportGetAction.java
src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
src/main/java/org/elasticsearch/action/support/ThreadedActionListener.java
src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastOperationAction.java
src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeOperationAction.java
src/main/java/org/elasticsearch/action/support/master/info/TransportClusterInfoAction.java
src/main/java/org/elasticsearch/action/support/nodes/TransportNodesOperationAction.java
src/main/java/org/elasticsearch/action/support/replication/TransportShardReplicationOperationAction.java
src/main/java/org/elasticsearch/action/support/single/custom/TransportSingleCustomOperationAction.java
src/main/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationAction.java
src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
src/main/java/org/elasticsearch/action/termvectors/dfs/TransportDfsOnlyAction.java
src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/client/node/NodeClient.java
src/main/java/org/elasticsearch/client/support/Headers.java
src/main/java/org/elasticsearch/client/transport/TransportClient.java
src/main/java/org/elasticsearch/cluster/EmptyClusterInfoService.java
src/main/java/org/elasticsearch/cluster/action/index/NodeIndexDeletedAction.java
src/main/java/org/elasticsearch/cluster/action/index/NodeMappingRefreshAction.java
src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/IndexTemplateMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
src/main/java/org/elasticsearch/cluster/metadata/RepositoriesMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/RepositoryMetaData.java
src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocators.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
src/main/java/org/elasticsearch/cluster/routing/allocation/decider/SnapshotInProgressAllocationDecider.java
src/main/java/org/elasticsearch/common/blobstore/fs/FsBlobStore.java
src/main/java/org/elasticsearch/common/blobstore/url/URLBlobStore.java
src/main/java/org/elasticsearch/common/cli/CliTool.java
src/main/java/org/elasticsearch/common/component/AbstractLifecycleComponent.java
src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressor.java
src/main/java/org/elasticsearch/common/logging/Loggers.java
src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
src/main/java/org/elasticsearch/common/network/MulticastChannel.java
src/main/java/org/elasticsearch/common/settings/ImmutableSettings.java
src/main/java/org/elasticsearch/common/settings/Settings.java
src/main/java/org/elasticsearch/common/settings/SettingsFilter.java
src/main/java/org/elasticsearch/common/util/BigArrays.java
src/main/java/org/elasticsearch/discovery/DiscoveryService.java
src/main/java/org/elasticsearch/discovery/zen/membership/MembershipAction.java
src/main/java/org/elasticsearch/discovery/zen/ping/ZenPingService.java
src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java
src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
src/main/java/org/elasticsearch/env/NodeEnvironment.java
src/main/java/org/elasticsearch/gateway/GatewayService.java
src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
src/main/java/org/elasticsearch/index/IndexService.java
src/main/java/org/elasticsearch/index/aliases/IndexAliasesService.java
src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
src/main/java/org/elasticsearch/index/analysis/ClassicTokenizerFactory.java
src/main/java/org/elasticsearch/index/analysis/EdgeNGramTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/FrenchStemTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/PreBuiltAnalyzerProviderFactory.java
src/main/java/org/elasticsearch/index/analysis/PreBuiltCharFilterFactoryFactory.java
src/main/java/org/elasticsearch/index/analysis/PreBuiltTokenFilterFactoryFactory.java
src/main/java/org/elasticsearch/index/analysis/PreBuiltTokenizerFactoryFactory.java
src/main/java/org/elasticsearch/index/analysis/StandardAnalyzerProvider.java
src/main/java/org/elasticsearch/index/analysis/StandardHtmlStripAnalyzerProvider.java
src/main/java/org/elasticsearch/index/analysis/StemmerTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/SynonymTokenFilterFactory.java
src/main/java/org/elasticsearch/index/analysis/WordDelimiterTokenFilterFactory.java
src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
src/main/java/org/elasticsearch/index/codec/CodecService.java
src/main/java/org/elasticsearch/index/deletionpolicy/KeepLastNDeletionPolicy.java
src/main/java/org/elasticsearch/index/fielddata/FieldDataType.java
src/main/java/org/elasticsearch/index/fielddata/ShardFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IndexIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PackedArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/gateway/IndexShardGateway.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/merge/policy/TieredMergePolicyProvider.java
src/main/java/org/elasticsearch/index/merge/scheduler/MergeSchedulerProvider.java
src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/settings/IndexSettingsService.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/similarity/DefaultSimilarityProvider.java
src/main/java/org/elasticsearch/index/similarity/SimilarityLookupService.java
src/main/java/org/elasticsearch/index/similarity/SimilarityProvider.java
src/main/java/org/elasticsearch/index/similarity/SimilarityService.java
src/main/java/org/elasticsearch/index/store/IndexStore.java
src/main/java/org/elasticsearch/index/store/StoreModule.java
src/main/java/org/elasticsearch/index/translog/TranslogService.java
src/main/java/org/elasticsearch/indices/IndicesLifecycle.java
src/main/java/org/elasticsearch/indices/IndicesService.java
src/main/java/org/elasticsearch/indices/IndicesWarmer.java
src/main/java/org/elasticsearch/indices/SyncedFlushService.java
src/main/java/org/elasticsearch/indices/analysis/HunspellService.java
src/main/java/org/elasticsearch/indices/analysis/IndicesAnalysisService.java
src/main/java/org/elasticsearch/indices/breaker/CircuitBreakerService.java
src/main/java/org/elasticsearch/indices/breaker/NoneCircuitBreakerService.java
src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
src/main/java/org/elasticsearch/indices/store/IndicesStore.java
src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
src/main/java/org/elasticsearch/monitor/MonitorModule.java
src/main/java/org/elasticsearch/monitor/MonitorService.java
src/main/java/org/elasticsearch/monitor/fs/FsService.java
src/main/java/org/elasticsearch/monitor/fs/JmxFsProbe.java
src/main/java/org/elasticsearch/monitor/fs/SigarFsProbe.java
src/main/java/org/elasticsearch/monitor/jvm/JvmMonitorService.java
src/main/java/org/elasticsearch/node/Node.java
src/main/java/org/elasticsearch/node/NodeBuilder.java
src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
src/main/java/org/elasticsearch/node/settings/NodeSettingsService.java
src/main/java/org/elasticsearch/plugins/AbstractPlugin.java
src/main/java/org/elasticsearch/plugins/PluginManager.java
src/main/java/org/elasticsearch/plugins/PluginsService.java
src/main/java/org/elasticsearch/repositories/RepositoriesService.java
src/main/java/org/elasticsearch/repositories/RepositoryModule.java
src/main/java/org/elasticsearch/rest/BaseRestHandler.java
src/main/java/org/elasticsearch/rest/RestController.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/repositories/verify/RestVerifyRepositoryAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/settings/RestUpdateSettingsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/upgrade/RestUpgradeAction.java
src/main/java/org/elasticsearch/rest/action/cat/RestAllocationAction.java
src/main/java/org/elasticsearch/rest/action/main/RestMainAction.java
src/main/java/org/elasticsearch/river/RiverModule.java
src/main/java/org/elasticsearch/river/RiversManager.java
src/main/java/org/elasticsearch/river/RiversService.java
src/main/java/org/elasticsearch/river/cluster/RiverClusterService.java
src/main/java/org/elasticsearch/river/routing/RiversRouter.java
src/main/java/org/elasticsearch/snapshots/RestoreService.java
src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
src/main/java/org/elasticsearch/threadpool/ThreadPool.java
src/main/java/org/elasticsearch/threadpool/ThreadPoolModule.java
src/main/java/org/elasticsearch/transport/TransportService.java
src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
src/main/java/org/elasticsearch/tribe/TribeService.java
src/main/java/org/elasticsearch/watcher/ResourceWatcherService.java
src/test/java/org/elasticsearch/VersionTests.java
src/test/java/org/elasticsearch/action/IndicesRequestTests.java
src/test/java/org/elasticsearch/action/RejectionActionTests.java
src/test/java/org/elasticsearch/action/admin/cluster/repositories/RepositoryBlocksTests.java
src/test/java/org/elasticsearch/action/admin/cluster/snapshots/SnapshotBlocksTests.java
src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsTests.java
src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexTests.java
src/test/java/org/elasticsearch/action/admin/indices/get/GetIndexTests.java
src/test/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsRequestTests.java
src/test/java/org/elasticsearch/action/bulk/BulkProcessorClusterSettingsTests.java
src/test/java/org/elasticsearch/action/bulk/BulkProcessorTests.java
src/test/java/org/elasticsearch/action/count/CountRequestBuilderTests.java
src/test/java/org/elasticsearch/action/search/SearchRequestBuilderTests.java
src/test/java/org/elasticsearch/action/support/TransportActionFilterChainTests.java
src/test/java/org/elasticsearch/action/support/replication/ShardReplicationOperationTests.java
src/test/java/org/elasticsearch/action/termvectors/AbstractTermVectorsTests.java
src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsCheckDocFreqTests.java
src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsTests.java
src/test/java/org/elasticsearch/action/termvectors/MultiTermVectorsTests.java
src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java
src/test/java/org/elasticsearch/benchmark/aliases/AliasesBenchmark.java
src/test/java/org/elasticsearch/benchmark/breaker/CircuitBreakerBenchmark.java
src/test/java/org/elasticsearch/benchmark/cluster/ClusterAllocationRerouteBenchmark.java
src/test/java/org/elasticsearch/benchmark/mapping/ManyMappingsBenchmark.java
src/test/java/org/elasticsearch/benchmark/percolator/PercolatorStressBenchmark.java
src/test/java/org/elasticsearch/benchmark/recovery/ReplicaRecoveryBenchmark.java
src/test/java/org/elasticsearch/benchmark/scripts/expression/ScriptComparisonBenchmark.java
src/test/java/org/elasticsearch/benchmark/scripts/score/BasicScriptBenchmark.java
src/test/java/org/elasticsearch/benchmark/scripts/score/ScriptsConstantScoreBenchmark.java
src/test/java/org/elasticsearch/benchmark/scripts/score/ScriptsScoreBenchmark.java
src/test/java/org/elasticsearch/benchmark/scripts/score/ScriptsScorePayloadSumBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/SuggestSearchBenchMark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/CardinalityAggregationSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/GlobalOrdinalsBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/HistogramAggregationSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/IncludeExcludeAggregationSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/PercentilesAggregationSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/QueryFilterAggregationSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/SubAggregationSearchCollectModeBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchAndIndexingBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/aggregations/TimeDataHistogramAggregationBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchAndIndexingBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchShortCircuitBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/geo/GeoDistanceSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/nested/NestedSearchBenchMark.java
src/test/java/org/elasticsearch/benchmark/search/scroll/ScrollSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/stress/NodesStressTest.java
src/test/java/org/elasticsearch/benchmark/stress/SingleThreadBulkStress.java
src/test/java/org/elasticsearch/benchmark/stress/SingleThreadIndexingStress.java
src/test/java/org/elasticsearch/benchmark/transport/BenchmarkNettyLargeMessages.java
src/test/java/org/elasticsearch/benchmark/transport/TransportBenchmark.java
src/test/java/org/elasticsearch/blocks/SimpleBlocksTests.java
src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
src/test/java/org/elasticsearch/bwcompat/BasicBackwardsCompatibilityTest.java
src/test/java/org/elasticsearch/bwcompat/ClusterStateBackwardsCompatTests.java
src/test/java/org/elasticsearch/bwcompat/GetIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/bwcompat/NodesStatsBasicBackwardsCompatTests.java
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/bwcompat/RecoveryWithUnsupportedIndicesTests.java
src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatTests.java
src/test/java/org/elasticsearch/bwcompat/StaticIndexBackwardCompatibilityTest.java
src/test/java/org/elasticsearch/bwcompat/TransportClientBackwardsCompatibilityTest.java
src/test/java/org/elasticsearch/bwcompat/UnicastBackwardsCompatibilityTest.java
src/test/java/org/elasticsearch/client/AbstractClientHeadersTests.java
src/test/java/org/elasticsearch/client/node/NodeClientHeadersTests.java
src/test/java/org/elasticsearch/client/node/NodeClientTests.java
src/test/java/org/elasticsearch/client/transport/TransportClientHeadersTests.java
src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java
src/test/java/org/elasticsearch/client/transport/TransportClientRetryTests.java
src/test/java/org/elasticsearch/client/transport/TransportClientTests.java
src/test/java/org/elasticsearch/cluster/ClusterInfoServiceTests.java
src/test/java/org/elasticsearch/cluster/ClusterServiceTests.java
src/test/java/org/elasticsearch/cluster/ClusterStateDiffPublishingTests.java
src/test/java/org/elasticsearch/cluster/ClusterStateDiffTests.java
src/test/java/org/elasticsearch/cluster/MinimumMasterNodesTests.java
comments:
Absorb ImmutableSettings into Settings

Now we have a single (final) Settings implementation.

Closes #11321

time:
2015-05-25T11:44:42Z
class:
comments:
Packaging: Use of default CONF_DIR/CONF_FILE in plugin install

The bin/plugin script now uses the default CONF_DIR & CONF_FILE environment vars. This allows to install a plugin even if Elasticsearch has been installed with a RPM or a DEB package. This commit also adds testing files for TAR archive and plugins installation.

Closes #10673

time:
2015-05-25T11:17:59Z
class:
comments:
Docs: Fix typo on percolate_format description

Closes #11215

time:
2015-05-25T10:48:34Z
class:
src/main/java/org/elasticsearch/common/settings/ImmutableSettings.java
src/main/java/org/elasticsearch/common/unit/TimeValue.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramInterval.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/DerivativeParser.java
src/test/java/org/elasticsearch/cluster/ack/AckTests.java
src/test/java/org/elasticsearch/common/unit/FuzzinessTests.java
src/test/java/org/elasticsearch/common/unit/TimeValueTests.java
src/test/java/org/elasticsearch/index/engine/InternalEngineSettingsTest.java
src/test/java/org/elasticsearch/percolator/TTLPercolatorTests.java
src/test/java/org/elasticsearch/recovery/RecoverySettingsTest.java
src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramTests.java
src/test/java/org/elasticsearch/search/aggregations/pipeline/DerivativeTests.java
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/ttl/SimpleTTLTests.java
comments:
add missing units to tests

time:
2015-05-25T09:33:58Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthRequest.java
src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexRequest.java
src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
src/main/java/org/elasticsearch/action/search/SearchRequest.java
src/main/java/org/elasticsearch/action/search/SearchScrollRequest.java
src/main/java/org/elasticsearch/action/support/AdapterActionFuture.java
src/main/java/org/elasticsearch/action/support/master/AcknowledgedRequest.java
src/main/java/org/elasticsearch/action/support/master/MasterNodeOperationRequest.java
src/main/java/org/elasticsearch/action/support/nodes/NodesOperationRequest.java
src/main/java/org/elasticsearch/action/support/replication/ShardReplicationOperationRequest.java
src/main/java/org/elasticsearch/action/support/single/instance/InstanceShardOperationRequest.java
src/main/java/org/elasticsearch/action/update/UpdateHelper.java
src/main/java/org/elasticsearch/cluster/settings/Validator.java
src/main/java/org/elasticsearch/common/settings/ImmutableSettings.java
src/main/java/org/elasticsearch/common/unit/Fuzziness.java
src/main/java/org/elasticsearch/common/unit/TimeValue.java
src/main/java/org/elasticsearch/common/xcontent/support/XContentMapValues.java
src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
src/main/java/org/elasticsearch/plugins/PluginManager.java
src/main/java/org/elasticsearch/rest/RestRequest.java
src/main/java/org/elasticsearch/rest/action/admin/cluster/node/hotthreads/RestNodesHotThreadsAction.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
src/main/java/org/elasticsearch/rest/action/search/RestSearchScrollAction.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/DerivativeParser.java
src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
src/main/java/org/elasticsearch/search/query/TimeoutParseElement.java
src/test/java/org/elasticsearch/common/unit/FuzzinessTests.java
src/test/java/org/elasticsearch/search/scroll/SearchScrollTests.java
src/test/java/org/elasticsearch/stresstest/get/GetStressTest.java
src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTests.java
comments:
always pass setting name to TimeValue.parseTimeValue; make units required

time:
2015-05-25T09:30:41Z
class:
src/main/java/org/elasticsearch/common/Booleans.java
comments:
add nocommits for Booleans parsing leniency

time:
2015-05-24T21:34:23Z
class:
comments:
Docs: Move the page on facets into redirects.asciidoc

time:
2015-05-24T15:57:34Z
class:
comments:
Docs: Added stub entries for pages deleted from 1.x

time:
2015-05-24T13:12:44Z
class:
comments:
Docs: Tidied up the field statistics docs

time:
2015-05-23T12:40:40Z
class:
comments:
allow third party license analysis to run (com.mycila vs org.codehaus.mojo mess)

time:
2015-05-23T12:37:50Z
class:
comments:
Ensure shaded jar has manifest too

time:
2015-05-23T12:23:37Z
class:
comments:
Allow license generation to run

time:
2015-05-23T11:14:01Z
class:
src/test/java/org/elasticsearch/test/ExternalNode.java
src/test/java/org/elasticsearch/test/disruption/LongGCDisruption.java
comments:
Merge pull request #11315 from rmuir/build_cleanup

remove build duplication

time:
2015-05-23T05:33:37Z
class:
comments:
factor out static analysis

time:
2015-05-23T04:27:28Z
class:
comments:
add snapshot repo (so we know where to get elasticsearch-parent from if needed)

time:
2015-05-23T04:25:50Z
class:
comments:
factor out code coverage

time:
2015-05-23T03:55:27Z
class:
comments:
remove duplicate test logging configuration

time:
2015-05-23T03:23:59Z
class:
src/test/java/org/elasticsearch/test/ExternalNode.java
src/test/java/org/elasticsearch/test/disruption/LongGCDisruption.java
comments:
remove build duplication

time:
2015-05-22T22:23:54Z
class:
comments:
fix license headers

time:
2015-05-22T21:47:19Z
class:
src/main/java/org/elasticsearch/repositories/s3/S3Repository.java
src/main/java/org/elasticsearch/repositories/s3/S3RepositoryModule.java
src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTest.java
src/test/java/org/elasticsearch/cloud/aws/AmazonS3Wrapper.java
src/test/java/org/elasticsearch/cloud/aws/TestAmazonS3.java
src/test/java/org/elasticsearch/repositories/s3/AbstractS3SnapshotRestoreTest.java
src/test/java/org/elasticsearch/repositories/s3/S3ProxiedSnapshotRestoreOverHttpsTest.java
src/test/java/org/elasticsearch/repositories/s3/S3SnapshotRestoreOverHttpTest.java
src/test/java/org/elasticsearch/repositories/s3/S3SnapshotRestoreOverHttpsTest.java
comments:
fix license headers

time:
2015-05-22T21:42:49Z
class:
src/test/java/org/elasticsearch/index/analysis/SimpleSmartChineseIntegrationTests.java
comments:
fix license header

time:
2015-05-22T21:41:43Z
class:
src/test/java/org/elasticsearch/index/analysis/SimplePhoneticIntegrationTests.java
comments:
fix license header

time:
2015-05-22T21:40:19Z
class:
src/test/java/org/elasticsearch/index/analysis/SimplePolishIntegrationTests.java
comments:
fix license header

time:
2015-05-22T20:54:21Z
class:
src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
src/main/java/org/elasticsearch/bootstrap/JVMCheck.java
src/main/java/org/elasticsearch/bootstrap/Security.java
comments:
Merge pull request #11312 from rmuir/pkg_priv

make some sec mgr / bootup classes package private and final.

time:
2015-05-22T20:45:48Z
class:
src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
src/main/java/org/elasticsearch/bootstrap/JVMCheck.java
src/main/java/org/elasticsearch/bootstrap/Security.java
comments:
make some sec mgr / bootup classes package private and final.

These don't need to be accessible except by bootstrap.

time:
2015-05-22T20:40:27Z
class:
comments:
Merge pull request #11311 from rjernst/lucene/r1681214

Upgrade to lucene-5.2.0-snapshot-1681214

time:
2015-05-22T20:39:58Z
class:
comments:
Upgrade to lucene-5.2.0-snapshot-1681214

time:
2015-05-22T19:18:22Z
class:
src/main/java/org/elasticsearch/plugins/PluginsService.java
comments:
only load a plugin once from the classpath

Today, when loading plugins from the classpath we take the enumeration
given to us by the classloader and attempt to load every URL. This can
cause issues as certain classloaders, such as groovy's, will return the same
URL multiple times in the enumeration. When this happens, startup can fail
with guice errors as bindings have already been registered.

To workaround this, we create a set from the URLs returned by the classloader
to provide uniqueness.

time:
2015-05-22T19:14:45Z
class:
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
comments:
Add basic javadocs to TransportNodesListGatewayStartedShards

time:
2015-05-22T17:28:49Z
class:
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
comments:
Search: Do not specialize TermQuery vs. TermsQuery.

We had some code that created a TermQuery instead of a TermsQuery when there
was a single term, which is not useful anymore now that TermsQuery rewrites to
a disjunction when there are few terms:
  https://issues.apache.org/jira/browse/LUCENE-6360

time:
2015-05-22T17:10:58Z
class:
src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
src/main/java/org/elasticsearch/search/MultiValueMode.java
src/test/java/org/elasticsearch/search/MultiValueModeTests.java
comments:
Search: Refactor of MultiValueMode removing apply and reduce

Simplification of MultiValueMode by removing the apply and reduce
methods for each mode. This creates a more consistent environment for
sorting methods since all sorting must now go through select methods.
This allows for better error handling and better encapsulation for
sorting fields with multiple values.

Note that apply and reduce had inconsistencies in the code base
prior to this change since different calls were assuming that the
accumulator for apply was the first input versus the second input.

Also added is an UnsortedNumericDoubleValues interface to allow
customized values to be input into the different sort modes. This
prevents the need for apply/reduce outside of MultiValueMode.

closes #11290

time:
2015-05-22T17:10:30Z
class:
src/main/java/org/elasticsearch/index/query/QueryBuilder.java
comments:
Fix generic usage in QUeryBUilder, readFrom returns a QueryBuilder too, rather than just an Object

time:
2015-05-22T16:42:16Z
class:
comments:
Merge pull request #11304 from kimchy/upgrade_netty_3_10_3

Upgrade to Netty 3.10.3

time:
2015-05-22T16:24:23Z
class:
comments:
Merge pull request #11235 from nik9000/seal_docs

Rewrote some _seal documentation

time:
2015-05-22T15:40:02Z
class:
src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
comments:
Logging: Add logging for failed TTL purges

In order to get some information if the TTL purger thread could
successfully delete all documents per bulk exection, this commit
adds some logging. TRACE level logging will potentially contain
a lot of information about all the bulk failures.

Closes #11019

time:
2015-05-22T15:37:58Z
class:
comments:
Docs: Example blocks can't contain warnings

time:
2015-05-22T15:37:44Z
class:
comments:
Upgrade to Netty 3.10.3

time:
2015-05-22T15:19:12Z
class:
comments:
Docs: Tidied up term vectors docs

Moved annotations out of titles
Made the example titles into example blocks

time:
2015-05-22T14:51:21Z
class:
comments:
Rewrote some _seal documentation

The first two paragraphs were confusing to me so I tried to rewrite them.

I removed some passive voice because it irks me.

time:
2015-05-22T13:33:32Z
class:
comments:
remove logging properties

time:
2015-05-22T13:32:19Z
class:
comments:
remove logging properties

time:
2015-05-22T13:31:35Z
class:
comments:
remove logging properties

time:
2015-05-22T13:26:30Z
class:
comments:
remove logging properties

time:
2015-05-22T13:25:41Z
class:
src/main/java/org/elasticsearch/search/aggregations/AggregationBuilders.java
src/main/java/org/elasticsearch/search/aggregations/bucket/BestDocsDeferringCollector.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedBytesHashSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedMapSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedNumericSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedOrdinalsSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/SamplerAggregator.java
src/test/java/org/elasticsearch/search/aggregations/bucket/SamplerTests.java
comments:
Aggregation fix: Sampler agg could not be used with Terms aggs order.
The Sampler agg was not capable of collecting samples for more than one parent bucket.
Added a Junit test case and changed BestDocsDeferringCollector to internally maintain collections per parent bucket.

Closes #10719

time:
2015-05-22T13:25:15Z
class:
comments:
remove logging properties

time:
2015-05-22T13:24:35Z
class:
comments:
remove logging properties

time:
2015-05-22T13:23:14Z
class:
comments:
remove logging properties

time:
2015-05-22T13:22:25Z
class:
comments:
remove logging properties

time:
2015-05-22T13:21:30Z
class:
comments:
remove logging properties

time:
2015-05-22T13:20:55Z
class:
comments:
remove logging properties

time:
2015-05-22T13:20:11Z
class:
comments:
remove logging properties

time:
2015-05-22T12:51:53Z
class:
src/test/java/org/elasticsearch/index/analysis/KuromojiIntegrationTests.java
comments:
Don't set path.home for integration test

time:
2015-05-22T12:49:11Z
class:
comments:
Docs: Rename reference docs to Elasticsearch Reference

time:
2015-05-22T12:40:58Z
class:
src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
comments:
[TEST] restored testing against `_all` type

time:
2015-05-22T12:38:18Z
class:
comments:
respect es.logger.level, TODO: fix this in es-parent for all plugins

time:
2015-05-22T12:23:20Z
class:
src/test/java/org/elasticsearch/index/mapper/binary/BinaryMappingTests.java
comments:
Fix compilation: FieldMapper is not longer generic.

time:
2015-05-22T12:21:13Z
class:
src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
src/test/java/org/elasticsearch/index/mapper/binary/BinaryMappingTests.java
comments:
Merge pull request #11280 from jpountz/fix/remove_binary_compress

Mappings: Remove the `compress`/`compress_threshold` options of the BinaryFieldMapper.

time:
2015-05-22T12:20:42Z
class:
src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
src/test/java/org/elasticsearch/index/mapper/binary/BinaryMappingTests.java
comments:
Mappings: Remove the `compress`/`compress_threshold` options of the BinaryFieldMapper.

This option is broken currently since it potentially interprets an incoming
binary value as compressed while it just happens that the first bytes are the
same as the LZF header.

time:
2015-05-22T12:17:23Z
class:
comments:
Merge pull request #11296 from jpountz/upgrade/lucene-5.2.0-snapshot-1681024

Upgrade to lucene-5.2.0-snapshot-1681024

time:
2015-05-22T12:09:06Z
class:
src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
src/main/java/org/elasticsearch/index/query/AndQueryParser.java
src/main/java/org/elasticsearch/index/query/BaseTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/BoostingQueryParser.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
src/main/java/org/elasticsearch/index/query/FQueryFilterParser.java
src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryParser.java
src/main/java/org/elasticsearch/index/query/FilteredQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
src/main/java/org/elasticsearch/index/query/LimitQueryBuilder.java
src/main/java/org/elasticsearch/index/query/LimitQueryParser.java
src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
src/main/java/org/elasticsearch/index/query/NotQueryBuilder.java
src/main/java/org/elasticsearch/index/query/NotQueryParser.java
src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
src/main/java/org/elasticsearch/index/query/OrQueryParser.java
src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryBuilder.java
src/main/java/org/elasticsearch/index/query/QueryBuilders.java
src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryWrappingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
src/main/java/org/elasticsearch/index/query/SimpleQueryStringFlag.java
src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanContainingQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanFirstQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanNotQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanOrQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanWithinQueryParser.java
src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TemplateQueryParser.java
src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermQueryParser.java
src/main/java/org/elasticsearch/index/query/TermsLookupQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TypeQueryParser.java
src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
src/main/java/org/elasticsearch/index/query/WrapperQueryParser.java
src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportTests.java
comments:
Merge pull request #11178 from cbuescher/feature/query-refactoring-movename

Query Refactoring: Moving parser NAME constant to corresponding query builder

time:
2015-05-22T12:06:24Z
class:
src/test/java/org/elasticsearch/recovery/RecoveryWhileUnderLoadTests.java
comments:
[TEST] Use async durability in load tests

time:
2015-05-22T12:04:07Z
class:
src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
src/main/java/org/elasticsearch/index/query/AndQueryParser.java
src/main/java/org/elasticsearch/index/query/BaseTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/BoostingQueryParser.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
src/main/java/org/elasticsearch/index/query/FQueryFilterParser.java
src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryParser.java
src/main/java/org/elasticsearch/index/query/FilteredQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
src/main/java/org/elasticsearch/index/query/LimitQueryBuilder.java
src/main/java/org/elasticsearch/index/query/LimitQueryParser.java
src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
src/main/java/org/elasticsearch/index/query/NotQueryBuilder.java
src/main/java/org/elasticsearch/index/query/NotQueryParser.java
src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
src/main/java/org/elasticsearch/index/query/OrQueryParser.java
src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryBuilder.java
src/main/java/org/elasticsearch/index/query/QueryBuilders.java
src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryWrappingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
src/main/java/org/elasticsearch/index/query/SimpleQueryStringFlag.java
src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanContainingQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanFirstQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanNotQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanOrQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanWithinQueryParser.java
src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TemplateQueryParser.java
src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermQueryParser.java
src/main/java/org/elasticsearch/index/query/TermsLookupQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TypeQueryParser.java
src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
src/main/java/org/elasticsearch/index/query/WrapperQueryParser.java
src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportTests.java
comments:
Query Refactoring: Moving parser NAME constant to corresponding query builder

As part of the query refactoring, this PR moves the NAME field that currently identifies each query parser to the
corresponding query builder. The reason for this, as discussed in #11121 (comment), is that we need still need to
be able to link parser and builder implementations, but that the query builder is independent of the parser (queries
don't necessarily need to be coverted to XContent any more). Builders don't need to know about their parsers, but
parsers need to be linked to their respective builders.

Closes #11178

time:
2015-05-22T11:49:01Z
class:
src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
[TEST] Provide random instance to rarely(Random) instead of using the threadlocal one

time:
2015-05-22T09:59:44Z
class:
src/main/java/org/elasticsearch/gateway/AsyncShardFetch.java
src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
src/test/java/org/elasticsearch/gateway/AsyncShardFetchTests.java
comments:
Async Fetch: Better logging classification + log when ignored

time:
2015-05-22T09:36:40Z
class:
comments:
Upgrade to lucene-5.2.0-snapshot-1681024

time:
2015-05-22T09:29:20Z
class:
src/main/java/org/apache/lucene/queries/ExtendedCommonTermsQuery.java
src/main/java/org/elasticsearch/action/ActionRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
src/main/java/org/elasticsearch/action/percolate/PercolateShardResponse.java
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/index/fielddata/plain/BytesBinaryDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DisabledIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DocValuesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FSTBytesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointBinaryDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointCompressedIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IndexIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PackedArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
src/main/java/org/elasticsearch/index/get/ShardGetService.java
src/main/java/org/elasticsearch/index/mapper/DocumentFieldMappers.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/FieldMappersLookup.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/MapperUtils.java
src/main/java/org/elasticsearch/index/mapper/MergeResult.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/main/java/org/elasticsearch/index/percolator/QueriesLoaderCollector.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionParser.java
src/main/java/org/elasticsearch/index/search/MatchQuery.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/monitor/sigar/SigarService.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/percolator/QueryCollector.java
src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
src/main/java/org/elasticsearch/search/SearchService.java
src/main/java/org/elasticsearch/search/aggregations/AggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorBase.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
src/main/java/org/elasticsearch/search/aggregations/InternalAggregation.java
src/main/java/org/elasticsearch/search/aggregations/InternalMultiBucketAggregation.java
src/main/java/org/elasticsearch/search/aggregations/NonCollectingAggregator.java
src/main/java/org/elasticsearch/search/aggregations/TransportAggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/bucket/BucketsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/InternalSingleBucketAggregation.java
src/main/java/org/elasticsearch/search/aggregations/bucket/SingleBucketAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/InternalChildren.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/ParentToChildrenAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filter/InternalFilter.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/InternalFilters.java
src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/InternalGeoHashGrid.java
src/main/java/org/elasticsearch/search/aggregations/bucket/global/GlobalAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/global/InternalGlobal.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/InternalHistogram.java
src/main/java/org/elasticsearch/search/aggregations/bucket/missing/InternalMissing.java
src/main/java/org/elasticsearch/search/aggregations/bucket/missing/MissingAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/InternalNested.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/InternalReverseNested.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/InternalRange.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/InternalDateRange.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/InternalGeoDistance.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/InternalIPv4Range.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedBytesHashSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedMapSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedNumericSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedOrdinalsSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/InternalSampler.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/SamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/UnmappedSampler.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/GlobalOrdinalsSignificantTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/InternalSignificantTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantLongTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantLongTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantStringTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantStringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/UnmappedSignificantTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/AbstractStringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/DoubleTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/DoubleTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/GlobalOrdinalsStringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/InternalTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/LongTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/LongTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/StringTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/StringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/UnmappedTerms.java
src/main/java/org/elasticsearch/search/aggregations/metrics/InternalMetricsAggregation.java
src/main/java/org/elasticsearch/search/aggregations/metrics/InternalNumericMetricsAggregation.java
src/main/java/org/elasticsearch/search/aggregations/metrics/MetricsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/NumericMetricsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/avg/AvgAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/avg/InternalAvg.java
src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/InternalCardinality.java
src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/GeoBoundsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/InternalGeoBounds.java
src/main/java/org/elasticsearch/search/aggregations/metrics/max/InternalMax.java
src/main/java/org/elasticsearch/search/aggregations/metrics/max/MaxAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/min/InternalMin.java
src/main/java/org/elasticsearch/search/aggregations/metrics/min/MinAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractInternalPercentiles.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractPercentilesAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/InternalPercentileRanks.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/InternalPercentiles.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/InternalScriptedMetric.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/stats/InternalStats.java
src/main/java/org/elasticsearch/search/aggregations/metrics/stats/StatsAggegator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/ExtendedStatsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/InternalExtendedStats.java
src/main/java/org/elasticsearch/search/aggregations/metrics/sum/InternalSum.java
src/main/java/org/elasticsearch/search/aggregations/metrics/sum/SumAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/InternalTopHits.java
src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/InternalValueCount.java
src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/ValueCountAggregator.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/BucketHelpers.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/InternalSimpleValue.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregator.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorBuilder.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorBuilders.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorStreams.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/SiblingPipelineAggregator.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/SimpleValue.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsBuilder.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsParser.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsPipelineAggregator.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/InternalBucketMetricValue.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/avg/AvgBucketBuilder.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/avg/AvgBucketParser.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/avg/AvgBucketPipelineAggregator.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/max/MaxBucketBuilder.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/max/MaxBucketParser.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/max/MaxBucketPipelineAggregator.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/min/MinBucketBuilder.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/min/MinBucketParser.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/min/MinBucketPipelineAggregator.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/sum/SumBucketBuilder.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/sum/SumBucketParser.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/sum/SumBucketPipelineAggregator.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/Derivative.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/DerivativeBuilder.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/DerivativeParser.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/DerivativePipelineAggregator.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/InternalDerivative.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgBuilder.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgParser.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregator.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/EwmaModel.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltLinearModel.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/LinearModel.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModel.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelBuilder.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelModule.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelParser.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelParserMapper.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelStreams.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/SimpleModel.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/TransportMovAvgModelModule.java
src/main/java/org/elasticsearch/search/aggregations/support/FieldContext.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceParser.java
src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
src/main/java/org/elasticsearch/search/highlight/FastVectorHighlighter.java
src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
src/main/java/org/elasticsearch/search/highlight/HighlightUtils.java
src/main/java/org/elasticsearch/search/highlight/HighlighterContext.java
src/main/java/org/elasticsearch/search/highlight/PlainHighlighter.java
src/main/java/org/elasticsearch/search/highlight/PostingsHighlighter.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/FragmentBuilderHelper.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SimpleFragmentsBuilder.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SourceScoreOrderFragmentsBuilder.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SourceSimpleFragmentsBuilder.java
src/main/java/org/elasticsearch/search/query/QuerySearchResult.java
src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
src/main/java/org/elasticsearch/search/suggest/context/GeolocationContextMapping.java
src/main/java/org/elasticsearch/transport/TransportChannel.java
src/main/java/org/elasticsearch/transport/TransportService.java
src/main/java/org/elasticsearch/transport/local/LocalTransportChannel.java
src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
src/main/java/org/elasticsearch/transport/netty/NettyTransportChannel.java
src/test/java/org/elasticsearch/action/support/replication/ShardReplicationOperationTests.java
src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
src/test/java/org/elasticsearch/common/io/streams/BytesStreamsTests.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTests.java
src/test/java/org/elasticsearch/index/fielddata/IndexFieldDataServiceTests.java
src/test/java/org/elasticsearch/index/mapper/FieldMappersLookupTests.java
src/test/java/org/elasticsearch/index/mapper/core/BooleanFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
src/test/java/org/elasticsearch/index/mapper/merge/TestMergeMapperTests.java
src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
src/test/java/org/elasticsearch/index/store/CorruptedFileTest.java
src/test/java/org/elasticsearch/percolator/PercolatorFacetsAndAggregationsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/significant/SignificanceHeuristicTests.java
src/test/java/org/elasticsearch/search/aggregations/pipeline/AvgBucketTests.java
src/test/java/org/elasticsearch/search/aggregations/pipeline/DateDerivativeTests.java
src/test/java/org/elasticsearch/search/aggregations/pipeline/DerivativeTests.java
src/test/java/org/elasticsearch/search/aggregations/pipeline/MaxBucketTests.java
src/test/java/org/elasticsearch/search/aggregations/pipeline/MinBucketTests.java
src/test/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregationHelperTests.java
src/test/java/org/elasticsearch/search/aggregations/pipeline/SumBucketTests.java
src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgTests.java
src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgUnitTests.java
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/test/TestSearchContext.java
src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-05-22T09:28:29Z
class:
src/main/java/org/elasticsearch/index/mapper/MapperService.java
comments:
Internal: replace if with existing MetaData#isAllTypes call in MapperService

time:
2015-05-22T08:07:40Z
class:
src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
src/main/java/org/elasticsearch/monitor/sigar/SigarService.java
src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Allow disabling of sigar via settings

Sigar can only be disabled by removing the binaries. This is tricky for our
tests and might cause a lot of trouble if a user wants or needs to do it.
This commit allows to disable sigar with a simple boolean flag in the settings.

Closes #9582

time:
2015-05-22T04:34:36Z
class:
comments:
remove tabs

time:
2015-05-22T04:14:08Z
class:
comments:
remove tabs

time:
2015-05-22T04:10:40Z
class:
comments:
remove tabs

time:
2015-05-22T04:08:15Z
class:
src/main/java/org/elasticsearch/cloud/aws/blobstore/DefaultS3OutputStream.java
src/test/java/org/elasticsearch/repositories/s3/AbstractS3SnapshotRestoreTest.java
comments:
remove tabs

time:
2015-05-22T04:02:25Z
class:
src/main/java/org/elasticsearch/index/analysis/IcuFoldingTokenFilterFactory.java
comments:
remove tabs

time:
2015-05-22T02:56:06Z
class:
comments:
switch to plugin pom

time:
2015-05-22T02:55:42Z
class:
comments:
switch to plugin pom

time:
2015-05-22T02:55:28Z
class:
comments:
switch to plugin pom

time:
2015-05-22T02:52:44Z
class:
comments:
switch to plugin pom

time:
2015-05-22T02:52:31Z
class:
comments:
switch to plugin pom

time:
2015-05-22T02:51:52Z
class:
comments:
switch to plugin pom

time:
2015-05-22T02:51:30Z
class:
comments:
switch to plugin pom

time:
2015-05-22T02:51:16Z
class:
comments:
switch to plugin pom

time:
2015-05-22T02:51:02Z
class:
comments:
switch to plugin pom

time:
2015-05-22T02:50:46Z
class:
comments:
switch to plugin pom

time:
2015-05-22T02:50:30Z
class:
comments:
switch to plugin pom

time:
2015-05-21T23:25:04Z
class:
src/main/java/org/apache/lucene/queries/ExtendedCommonTermsQuery.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/index/fielddata/plain/BytesBinaryDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DisabledIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DocValuesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FSTBytesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointBinaryDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointCompressedIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IndexIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PackedArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
src/main/java/org/elasticsearch/index/get/ShardGetService.java
src/main/java/org/elasticsearch/index/mapper/DocumentFieldMappers.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/FieldMappersLookup.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/MapperUtils.java
src/main/java/org/elasticsearch/index/mapper/MergeResult.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/main/java/org/elasticsearch/index/percolator/QueriesLoaderCollector.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionParser.java
src/main/java/org/elasticsearch/index/search/MatchQuery.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/percolator/QueryCollector.java
src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
src/main/java/org/elasticsearch/search/SearchService.java
src/main/java/org/elasticsearch/search/aggregations/support/FieldContext.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceParser.java
src/main/java/org/elasticsearch/search/highlight/FastVectorHighlighter.java
src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
src/main/java/org/elasticsearch/search/highlight/HighlightUtils.java
src/main/java/org/elasticsearch/search/highlight/HighlighterContext.java
src/main/java/org/elasticsearch/search/highlight/PlainHighlighter.java
src/main/java/org/elasticsearch/search/highlight/PostingsHighlighter.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/FragmentBuilderHelper.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SimpleFragmentsBuilder.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SourceScoreOrderFragmentsBuilder.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SourceSimpleFragmentsBuilder.java
src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
src/main/java/org/elasticsearch/search/suggest/context/GeolocationContextMapping.java
src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTests.java
src/test/java/org/elasticsearch/index/fielddata/IndexFieldDataServiceTests.java
src/test/java/org/elasticsearch/index/mapper/FieldMappersLookupTests.java
src/test/java/org/elasticsearch/index/mapper/core/BooleanFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
src/test/java/org/elasticsearch/test/TestSearchContext.java
comments:
Merge pull request #11292 from rjernst/remove/mapper-generic

Mappings: Remove generics from FieldMapper

time:
2015-05-21T23:07:07Z
class:
src/main/java/org/apache/lucene/queries/ExtendedCommonTermsQuery.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
src/main/java/org/elasticsearch/index/fielddata/plain/BytesBinaryDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DisabledIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DocValuesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FSTBytesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointBinaryDVIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointCompressedIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/IndexIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PackedArrayIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
src/main/java/org/elasticsearch/index/get/ShardGetService.java
src/main/java/org/elasticsearch/index/mapper/DocumentFieldMappers.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/FieldMappersLookup.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/MapperUtils.java
src/main/java/org/elasticsearch/index/mapper/MergeResult.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/RoutingFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/SourceFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/VersionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
src/main/java/org/elasticsearch/index/percolator/QueriesLoaderCollector.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionParser.java
src/main/java/org/elasticsearch/index/search/MatchQuery.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/percolator/QueryCollector.java
src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
src/main/java/org/elasticsearch/search/SearchService.java
src/main/java/org/elasticsearch/search/aggregations/support/FieldContext.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceParser.java
src/main/java/org/elasticsearch/search/highlight/FastVectorHighlighter.java
src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
src/main/java/org/elasticsearch/search/highlight/HighlightUtils.java
src/main/java/org/elasticsearch/search/highlight/HighlighterContext.java
src/main/java/org/elasticsearch/search/highlight/PlainHighlighter.java
src/main/java/org/elasticsearch/search/highlight/PostingsHighlighter.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/FragmentBuilderHelper.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SimpleFragmentsBuilder.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SourceScoreOrderFragmentsBuilder.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SourceSimpleFragmentsBuilder.java
src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
src/main/java/org/elasticsearch/search/sort/SortParseElement.java
src/main/java/org/elasticsearch/search/suggest/context/GeolocationContextMapping.java
src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTests.java
src/test/java/org/elasticsearch/index/fielddata/IndexFieldDataServiceTests.java
src/test/java/org/elasticsearch/index/mapper/FieldMappersLookupTests.java
src/test/java/org/elasticsearch/index/mapper/core/BooleanFieldMapperTests.java
src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
src/test/java/org/elasticsearch/test/TestSearchContext.java
comments:
Mappings: Remove generics from FieldMapper

FieldMapper is currently generic, where the templated type
is only used as the return of a single function, value(Object).
This change simply removes this generic type. It is not needed. The
implementations of value() now has a covariant return (so
those methods have not changed).

time:
2015-05-21T20:52:37Z
class:
comments:
remove duplicate test config

time:
2015-05-21T20:52:05Z
class:
comments:
remove duplicate test config

time:
2015-05-21T20:51:53Z
class:
comments:
remove duplicate test config

time:
2015-05-21T20:48:58Z
class:
comments:
remove duplicate test config

time:
2015-05-21T20:48:40Z
class:
comments:
remove duplicate test config

time:
2015-05-21T20:48:17Z
class:
comments:
remove duplicate test config

time:
2015-05-21T20:48:02Z
class:
comments:
remove duplicate test config

time:
2015-05-21T20:47:42Z
class:
comments:
remove duplicate test config

time:
2015-05-21T20:47:26Z
class:
comments:
remove duplicate test config

time:
2015-05-21T20:47:00Z
class:
comments:
remove duplicate test config

time:
2015-05-21T20:11:32Z
class:
src/main/java/org/elasticsearch/index/mapper/MapperService.java
comments:
Add back accidentally removed support for _all as a type alias.

See 4dd4f48

time:
2015-05-21T19:30:35Z
class:
src/main/java/org/elasticsearch/index/shard/IndexShard.java
comments:
Check engine reference for null before flushing

If we close the shard before the engine is started we see a NPE in
the logs which is not problematic since the relevant parts are in a
finally block. Yet, the NPE is unnecessary and can be confusing.

time:
2015-05-21T17:37:06Z
class:
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
comments:
Tests: disable rebalancing in restoreIndexWithShardsMissingInLocalGateway

Rebalancing sometimes kicks in at the end of restore and interferes with reuse stats that this test relies on.

time:
2015-05-21T17:26:46Z
class:
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
comments:
[TEST] snapshot test shoudl use assertBusy to provide more info when failing

time:
2015-05-21T16:16:04Z
class:
src/main/java/org/elasticsearch/transport/TransportChannel.java
src/main/java/org/elasticsearch/transport/TransportService.java
src/main/java/org/elasticsearch/transport/local/LocalTransportChannel.java
src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
src/main/java/org/elasticsearch/transport/netty/NettyTransportChannel.java
src/test/java/org/elasticsearch/action/support/replication/ShardReplicationOperationTests.java
src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
comments:
add profile name to TransportChannel

Today, only the NettyTransportChannel implements the getProfileName method
and the other channel implementations do not. The profile name is useful for some
plugins to perform custom actions based on the name. Rather than checking the
type of the channel, it makes sense to always expose the profile name.

For DirectResponseChannels we use a name that cannot be used in the settings
to define another profile with that name. For LocalTransportChannel we use the
same name as the default profile.

Closes #10483

time:
2015-05-21T16:11:17Z
class:
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/test/java/org/elasticsearch/index/mapper/merge/TestMergeMapperTests.java
comments:
Clean up and make the test work.

time:
2015-05-21T16:11:17Z
class:
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/test/java/org/elasticsearch/index/mapper/merge/TestMergeMapperTests.java
comments:
Use ReleaseableLock and try to add a test for it..

time:
2015-05-21T16:11:17Z
class:
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
comments:
Mappings: Make mapping updates atomic wrt document parsing.

When mapping updates happen concurrently with document parsing, bad things can
happen. For instance, when applying a mapping update we first update the Mapping
object which is used for parsing and then FieldNameAnalyzer which is used by
IndexWriter for analysis. So if you are unlucky, it could happen that a document
was parsed successfully without introducing dynamic updates yet IndexWriter does
not see its analyzer yet.

In order to fix this issue, mapping updates are now protected by a write lock
and document parsing is protected by the read lock associated with this write
lock. This ensures that no documents will be parsed while a mapping update is
being applied, so document parsing will either see none of the update or all of
it.

time:
2015-05-21T15:57:49Z
class:
src/test/java/org/elasticsearch/index/store/CorruptedFileTest.java
comments:
[TEST] now that we check early if we are corrupted this can be run with many nodes

time:
2015-05-21T14:46:49Z
class:
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
comments:
Also log the shard state info for the shard that can't be opened

time:
2015-05-21T14:37:37Z
class:
comments:
engage forbidden apis

time:
2015-05-21T14:37:06Z
class:
comments:
engage forbidden apis

time:
2015-05-21T14:36:54Z
class:
comments:
engage forbidden apis

time:
2015-05-21T14:34:33Z
class:
src/main/java/org/elasticsearch/discovery/azure/AzureUnicastHostsProvider.java
src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreITest.java
comments:
engage forbidden apis

time:
2015-05-21T14:34:18Z
class:
comments:
engage forbidden apis

time:
2015-05-21T14:34:01Z
class:
src/main/java/org/elasticsearch/cloud/aws/AwsEc2Service.java
src/main/java/org/elasticsearch/cloud/aws/InternalAwsS3Service.java
src/main/java/org/elasticsearch/cloud/aws/network/Ec2NameResolver.java
src/main/java/org/elasticsearch/cloud/aws/node/Ec2CustomNodeAttributes.java
src/main/java/org/elasticsearch/discovery/ec2/AwsEc2UnicastHostsProvider.java
src/test/java/org/elasticsearch/cloud/aws/AmazonS3Wrapper.java
comments:
engage forbidden apis

time:
2015-05-21T14:33:43Z
class:
comments:
engage forbidden apis

time:
2015-05-21T14:33:29Z
class:
comments:
engage forbidden apis

time:
2015-05-21T14:33:12Z
class:
comments:
engage forbidden apis

time:
2015-05-21T14:32:58Z
class:
comments:
engage forbidden apis

time:
2015-05-21T14:32:30Z
class:
src/main/java/org/elasticsearch/index/analysis/IcuCollationTokenFilterFactory.java
comments:
engage forbidden APIs

time:
2015-05-21T13:57:23Z
class:
src/main/java/org/elasticsearch/action/ActionRequestBuilder.java
src/main/java/org/elasticsearch/action/percolate/PercolateShardResponse.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/search/aggregations/AggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorBase.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
src/main/java/org/elasticsearch/search/aggregations/InternalAggregation.java
src/main/java/org/elasticsearch/search/aggregations/InternalMultiBucketAggregation.java
src/main/java/org/elasticsearch/search/aggregations/NonCollectingAggregator.java
src/main/java/org/elasticsearch/search/aggregations/TransportAggregationModule.java
src/main/java/org/elasticsearch/search/aggregations/bucket/BucketsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/InternalSingleBucketAggregation.java
src/main/java/org/elasticsearch/search/aggregations/bucket/SingleBucketAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/InternalChildren.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/ParentToChildrenAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filter/InternalFilter.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/InternalFilters.java
src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/InternalGeoHashGrid.java
src/main/java/org/elasticsearch/search/aggregations/bucket/global/GlobalAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/global/InternalGlobal.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/HistogramAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/InternalHistogram.java
src/main/java/org/elasticsearch/search/aggregations/bucket/missing/InternalMissing.java
src/main/java/org/elasticsearch/search/aggregations/bucket/missing/MissingAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/InternalNested.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/InternalReverseNested.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/InternalRange.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/date/InternalDateRange.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceParser.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/InternalGeoDistance.java
src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/InternalIPv4Range.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedBytesHashSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedMapSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedNumericSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/DiversifiedOrdinalsSamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/InternalSampler.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/SamplerAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/sampler/UnmappedSampler.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/GlobalOrdinalsSignificantTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/InternalSignificantTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantLongTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantLongTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantStringTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantStringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/SignificantTermsAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/bucket/significant/UnmappedSignificantTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/AbstractStringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/DoubleTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/DoubleTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/GlobalOrdinalsStringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/InternalTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/LongTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/LongTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/StringTerms.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/StringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/UnmappedTerms.java
src/main/java/org/elasticsearch/search/aggregations/metrics/InternalMetricsAggregation.java
src/main/java/org/elasticsearch/search/aggregations/metrics/InternalNumericMetricsAggregation.java
src/main/java/org/elasticsearch/search/aggregations/metrics/MetricsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/NumericMetricsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/avg/AvgAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/avg/InternalAvg.java
src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/InternalCardinality.java
src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/GeoBoundsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/geobounds/InternalGeoBounds.java
src/main/java/org/elasticsearch/search/aggregations/metrics/max/InternalMax.java
src/main/java/org/elasticsearch/search/aggregations/metrics/max/MaxAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/min/InternalMin.java
src/main/java/org/elasticsearch/search/aggregations/metrics/min/MinAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractInternalPercentiles.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractPercentilesAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/InternalPercentileRanks.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/InternalPercentiles.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/InternalScriptedMetric.java
src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/stats/InternalStats.java
src/main/java/org/elasticsearch/search/aggregations/metrics/stats/StatsAggegator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/ExtendedStatsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/stats/extended/InternalExtendedStats.java
src/main/java/org/elasticsearch/search/aggregations/metrics/sum/InternalSum.java
src/main/java/org/elasticsearch/search/aggregations/metrics/sum/SumAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/InternalTopHits.java
src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/InternalValueCount.java
src/main/java/org/elasticsearch/search/aggregations/metrics/valuecount/ValueCountAggregator.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/BucketHelpers.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/InternalSimpleValue.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregator.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorBuilder.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorBuilders.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorStreams.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/SiblingPipelineAggregator.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/SimpleValue.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsBuilder.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsParser.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/BucketMetricsPipelineAggregator.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/InternalBucketMetricValue.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/avg/AvgBucketBuilder.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/avg/AvgBucketParser.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/avg/AvgBucketPipelineAggregator.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/max/MaxBucketBuilder.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/max/MaxBucketParser.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/max/MaxBucketPipelineAggregator.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/min/MinBucketBuilder.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/min/MinBucketParser.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/min/MinBucketPipelineAggregator.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/sum/SumBucketBuilder.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/sum/SumBucketParser.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketmetrics/sum/SumBucketPipelineAggregator.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/Derivative.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/DerivativeBuilder.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/DerivativeParser.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/DerivativePipelineAggregator.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/InternalDerivative.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgBuilder.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgParser.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregator.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/EwmaModel.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltLinearModel.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/LinearModel.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModel.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelBuilder.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelModule.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelParser.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelParserMapper.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelStreams.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/SimpleModel.java
src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/TransportMovAvgModelModule.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceAggregatorFactory.java
src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
src/main/java/org/elasticsearch/search/query/QuerySearchResult.java
src/test/java/org/elasticsearch/percolator/PercolatorFacetsAndAggregationsTests.java
src/test/java/org/elasticsearch/search/aggregations/bucket/significant/SignificanceHeuristicTests.java
src/test/java/org/elasticsearch/search/aggregations/pipeline/AvgBucketTests.java
src/test/java/org/elasticsearch/search/aggregations/pipeline/DateDerivativeTests.java
src/test/java/org/elasticsearch/search/aggregations/pipeline/DerivativeTests.java
src/test/java/org/elasticsearch/search/aggregations/pipeline/MaxBucketTests.java
src/test/java/org/elasticsearch/search/aggregations/pipeline/MinBucketTests.java
src/test/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregationHelperTests.java
src/test/java/org/elasticsearch/search/aggregations/pipeline/SumBucketTests.java
src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgTests.java
src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgUnitTests.java
comments:
Aggregations: Renaming reducers to Pipeline Aggregators

time:
2015-05-21T12:48:20Z
class:
src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
src/test/java/org/elasticsearch/common/io/streams/BytesStreamsTests.java
comments:
Transport: remove support for reading/writing list of strings, use arrays instead

We recently introduced support for reading and writing list of strings as part of #11056, but that was an oversight, we should be using arrays instead.

Closes #11276

time:
2015-05-21T11:34:05Z
class:
src/main/java/org/elasticsearch/index/query/BaseTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MultiTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/QueryBuilder.java
src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
src/test/java/org/elasticsearch/index/query/BaseTermQueryTestCase.java
src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTest.java
src/test/java/org/elasticsearch/index/query/MatchAllQueryBuilderTest.java
src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTest.java
src/test/java/org/elasticsearch/index/query/SpanTermQueryBuilderTest.java
src/test/java/org/elasticsearch/index/query/TermQueryBuilderTest.java
comments:
Query refactoring: QueryBuilder to extend Writeable

`QueryBuilder`s need to become streamable over the wire, so we can use them as our own intermediate query representation and send it over the wire. Using `Writeable` rather than `Streamable` allows us to make some fields `final` and delete default constructors needed only for serialization purposes.

Taken the chance also to revise the internals of `IdsQueryBuilder` (modified some internal data type and added deduplication of ids to reduce bits to serialize). Expanded also `IdsQueryBuilderTest`, injected random types and improved comparison.

Moved all query builder tests to leverage lucene's equals and hashcode to compare result of `toQuery` with expected lucene query

Also refactored spanterm and term query tests, more core could be shared.

Also changed `RangeQueryBuilderTest` to remove the need for query rewriting and added some more coverage (we don't test when search context is null only anymore, search context gets now randomly set)

Closes #11191

time:
2015-05-21T09:04:01Z
class:
src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
src/main/java/org/elasticsearch/ElasticsearchException.java
src/main/java/org/elasticsearch/ExceptionsHelper.java
src/main/java/org/elasticsearch/action/ActionModule.java
src/main/java/org/elasticsearch/action/ActionWriteResponse.java
src/main/java/org/elasticsearch/action/LatchedActionListener.java
src/main/java/org/elasticsearch/action/ShardOperationFailedException.java
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingClusterStateUpdateRequest.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequest.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesAction.java
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesRequest.java
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesResponse.java
src/main/java/org/elasticsearch/action/admin/indices/seal/TransportSealIndicesAction.java
src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java
src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
src/main/java/org/elasticsearch/action/percolate/PercolateResponse.java
src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
src/main/java/org/elasticsearch/action/search/SearchPhaseExecutionException.java
src/main/java/org/elasticsearch/action/search/SearchResponse.java
src/main/java/org/elasticsearch/action/search/ShardSearchFailure.java
src/main/java/org/elasticsearch/action/support/DefaultShardOperationFailedException.java
src/main/java/org/elasticsearch/action/support/nodes/NodesOperationResponse.java
src/main/java/org/elasticsearch/action/support/single/shard/TransportShardSingleOperationAction.java
src/main/java/org/elasticsearch/bootstrap/Security.java
src/main/java/org/elasticsearch/client/IndicesAdminClient.java
src/main/java/org/elasticsearch/client/support/AbstractClient.java
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
src/main/java/org/elasticsearch/common/ContextAndHeaderHolder.java
src/main/java/org/elasticsearch/common/HasContext.java
src/main/java/org/elasticsearch/common/HasContextAndHeaders.java
src/main/java/org/elasticsearch/common/HasHeaders.java
src/main/java/org/elasticsearch/common/compress/CompressedString.java
src/main/java/org/elasticsearch/common/io/PathUtils.java
src/main/java/org/elasticsearch/common/io/stream/NoopStreamOutput.java
src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/common/lucene/docset/DocIdSets.java
src/main/java/org/elasticsearch/common/lucene/search/FilteredCollector.java
src/main/java/org/elasticsearch/common/lucene/search/ResolvableFilter.java
src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
src/main/java/org/elasticsearch/common/network/NetworkUtils.java
src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
src/main/java/org/elasticsearch/env/Environment.java
src/main/java/org/elasticsearch/gateway/AsyncShardFetch.java
src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
src/main/java/org/elasticsearch/index/codec/PerFieldMappingPostingFormatCodec.java
src/main/java/org/elasticsearch/index/engine/CommitStats.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
src/main/java/org/elasticsearch/index/fielddata/plain/DisabledIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DocValuesIndexFieldData.java
src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
src/main/java/org/elasticsearch/index/gateway/IndexShardGateway.java
src/main/java/org/elasticsearch/index/mapper/ContentPath.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/ParseContext.java
src/main/java/org/elasticsearch/index/mapper/Uid.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermQueryParser.java
src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
src/main/java/org/elasticsearch/index/search/MatchQuery.java
src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
src/main/java/org/elasticsearch/index/search/shape/ShapeFetchService.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
src/main/java/org/elasticsearch/index/store/IndexStoreModule.java
src/main/java/org/elasticsearch/index/store/Store.java
src/main/java/org/elasticsearch/index/translog/BufferedChecksumStreamOutput.java
src/main/java/org/elasticsearch/index/translog/Translog.java
src/main/java/org/elasticsearch/indices/IndicesLifecycle.java
src/main/java/org/elasticsearch/indices/IndicesModule.java
src/main/java/org/elasticsearch/indices/InternalIndicesLifecycle.java
src/main/java/org/elasticsearch/indices/SyncedFlushService.java
src/main/java/org/elasticsearch/indices/cache/filter/IndicesFilterCache.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryCleanFilesRequest.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySource.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryState.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryStatus.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryTranslogOperationsRequest.java
src/main/java/org/elasticsearch/indices/recovery/SharedFSRecoverySourceHandler.java
src/main/java/org/elasticsearch/indices/recovery/StartRecoveryRequest.java
src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
src/main/java/org/elasticsearch/node/Node.java
src/main/java/org/elasticsearch/percolator/PercolateContext.java
src/main/java/org/elasticsearch/repositories/fs/FsRepository.java
src/main/java/org/elasticsearch/rest/RestRequest.java
src/main/java/org/elasticsearch/rest/action/RestActionModule.java
src/main/java/org/elasticsearch/rest/action/admin/indices/cache/clear/RestClearIndicesCacheAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/flush/RestFlushAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/mapping/put/RestPutMappingAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/optimize/RestOptimizeAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/refresh/RestRefreshAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/seal/RestSealIndicesAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/segments/RestIndicesSegmentsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/stats/RestIndicesStatsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/upgrade/RestUpgradeAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/validate/query/RestValidateQueryAction.java
src/main/java/org/elasticsearch/rest/action/bulk/RestBulkAction.java
src/main/java/org/elasticsearch/rest/action/count/RestCountAction.java
src/main/java/org/elasticsearch/rest/action/fieldstats/RestFieldStatsAction.java
src/main/java/org/elasticsearch/rest/action/suggest/RestSuggestAction.java
src/main/java/org/elasticsearch/rest/action/support/RestActions.java
src/main/java/org/elasticsearch/script/ScriptService.java
src/main/java/org/elasticsearch/search/SearchService.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/ParentToChildrenAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregator.java
src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsParseElement.java
src/main/java/org/elasticsearch/search/highlight/HighlightUtils.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SourceScoreOrderFragmentsBuilder.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SourceSimpleFragmentsBuilder.java
src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
src/main/java/org/elasticsearch/search/internal/SearchContext.java
src/main/java/org/elasticsearch/search/internal/ShardSearchLocalRequest.java
src/main/java/org/elasticsearch/search/internal/ShardSearchRequest.java
src/main/java/org/elasticsearch/search/suggest/SuggestParseElement.java
src/main/java/org/elasticsearch/snapshots/RestoreService.java
src/main/java/org/elasticsearch/snapshots/Snapshot.java
src/main/java/org/elasticsearch/snapshots/SnapshotInfo.java
src/main/java/org/elasticsearch/snapshots/SnapshotShardFailure.java
src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
src/main/java/org/elasticsearch/threadpool/ThreadPool.java
src/main/java/org/elasticsearch/transport/TransportMessage.java
src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
src/test/java/org/elasticsearch/action/admin/cluster/repositories/RepositoryBlocksTests.java
src/test/java/org/elasticsearch/action/admin/cluster/snapshots/SnapshotBlocksTests.java
src/test/java/org/elasticsearch/action/admin/indices/seal/SealIndicesTests.java
src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/bwcompat/RecoveryWithUnsupportedIndicesTests.java
src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatTests.java
src/test/java/org/elasticsearch/cluster/ClusterHealthResponsesTests.java
src/test/java/org/elasticsearch/cluster/MinimumMasterNodesTests.java
src/test/java/org/elasticsearch/cluster/routing/RoutingTableTest.java
src/test/java/org/elasticsearch/common/compress/CompressedStringTests.java
src/test/java/org/elasticsearch/common/lucene/IndexCacheableQueryTests.java
src/test/java/org/elasticsearch/common/lucene/LuceneTest.java
src/test/java/org/elasticsearch/env/EnvironmentTests.java
src/test/java/org/elasticsearch/gateway/AsyncShardFetchTests.java
src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayTests.java
src/test/java/org/elasticsearch/index/IndexWithShadowReplicasTests.java
src/test/java/org/elasticsearch/index/engine/CommitStatsTests.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java
src/test/java/org/elasticsearch/index/mapper/camelcase/CamelCaseFieldNameTests.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldsIntegrationTests.java
src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTest.java
src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
src/test/java/org/elasticsearch/index/store/CorruptedFileTest.java
src/test/java/org/elasticsearch/index/store/CorruptedTranslogTests.java
src/test/java/org/elasticsearch/index/store/StoreTest.java
src/test/java/org/elasticsearch/index/translog/TranslogTests.java
src/test/java/org/elasticsearch/indices/FlushTest.java
src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerSingleNodeTests.java
src/test/java/org/elasticsearch/indices/IndicesOptionsIntegrationTests.java
src/test/java/org/elasticsearch/indices/SealTests.java
src/test/java/org/elasticsearch/indices/SycnedFlushSingleNodeTest.java
src/test/java/org/elasticsearch/indices/SyncedFlushUtil.java
src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationTests.java
src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryTests.java
src/test/java/org/elasticsearch/indices/recovery/StartRecoveryRequestTest.java
src/test/java/org/elasticsearch/recovery/RelocationTests.java
src/test/java/org/elasticsearch/search/fetch/innerhits/NestedChildrenFilterTest.java
src/test/java/org/elasticsearch/search/innerhits/InnerHitsTests.java
src/test/java/org/elasticsearch/search/query/ExistsMissingTests.java
src/test/java/org/elasticsearch/search/suggest/completion/CompletionPostingsFormatTest.java
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/snapshots/RepositoriesTests.java
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/snapshots/SnapshotBackwardsCompatibilityTest.java
src/test/java/org/elasticsearch/snapshots/mockstore/MockRepository.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/test/TestSearchContext.java
src/test/java/org/elasticsearch/test/discovery/ClusterDiscoveryConfiguration.java
src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportTests.java
src/test/java/org/elasticsearch/transport/TransportMessageTests.java
src/test/java/org/elasticsearch/update/UpdateNoopTests.java
src/test/java/org/elasticsearch/versioning/SimpleVersioningTests.java
comments:
Merge branch 'master' into feature/query-refactoring

Conflicts:
	src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
	src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
	src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
	src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
	src/main/java/org/elasticsearch/index/query/TermQueryParser.java

time:
2015-05-21T08:41:54Z
class:
src/main/java/org/elasticsearch/index/mapper/Uid.java
src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
comments:
Internal: Uid#createTypeUids to accept a collection of ids rather than a list, plus rename method variants to avoid clashes

The downside of having createTypeUids accept a list only is that if you do provide a collection nothing breaks at compile time, but you end up calling the same method that accepts an object as second argument. Renamed both methods to avoid clashes to `createUidsForTypesAndId` and `createUidsForTypesAndIds`. The latter accepts now a Collection of Objects rather than just a List.

Closes #11263

time:
2015-05-21T08:21:11Z
class:
src/test/java/org/elasticsearch/index/store/StoreTest.java
comments:
[TEST] Remove corrupted index before checkindex goes wild

time:
2015-05-21T07:52:39Z
class:
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
src/main/java/org/elasticsearch/index/store/Store.java
src/test/java/org/elasticsearch/index/store/StoreTest.java
comments:
Check if the index can be opened and is not corrupted on state listing

We fetch the state version to find the right shard to be started as
the primary. This can return a valid shard state even if the shard is
corrupted and can't even be opened. This commit adds best effort detection
for this scenario and returns an invalid version for the shard if it's corrupted

Closes #11226

time:
2015-05-21T07:36:14Z
class:
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
src/main/java/org/elasticsearch/index/fielddata/plain/DisabledIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DocValuesIndexFieldData.java
src/main/java/org/elasticsearch/index/mapper/ContentPath.java
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/search/SearchService.java
src/main/java/org/elasticsearch/search/highlight/HighlightUtils.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SourceScoreOrderFragmentsBuilder.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SourceSimpleFragmentsBuilder.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
src/test/java/org/elasticsearch/search/suggest/completion/CompletionPostingsFormatTest.java
comments:
Merge pull request #11272 from rjernst/refactor/mapper-names

Mappings: Cleanup names handling

time:
2015-05-21T06:51:22Z
class:
src/main/java/org/elasticsearch/index/engine/CommitStats.java
src/test/java/org/elasticsearch/index/engine/CommitStatsTests.java
comments:
Merge pull request #11266 from brwe/npe-commitstats

fix NPE when streaming commit stats

time:
2015-05-21T06:26:36Z
class:
comments:
Merge pull request #11273 from rmuir/useless_version

Remove useless outdated forbidden-api version in `-Pdev` config.

time:
2015-05-21T06:11:11Z
class:
comments:
Remove useless outdated forbidden-api version in `-Pdev` config.

time:
2015-05-21T02:14:31Z
class:
src/main/java/org/elasticsearch/bootstrap/Security.java
src/main/java/org/elasticsearch/common/io/PathUtils.java
src/main/java/org/elasticsearch/env/Environment.java
src/main/java/org/elasticsearch/repositories/fs/FsRepository.java
src/test/java/org/elasticsearch/action/admin/cluster/repositories/RepositoryBlocksTests.java
src/test/java/org/elasticsearch/action/admin/cluster/snapshots/SnapshotBlocksTests.java
src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatTests.java
src/test/java/org/elasticsearch/env/EnvironmentTests.java
src/test/java/org/elasticsearch/index/IndexWithShadowReplicasTests.java
src/test/java/org/elasticsearch/index/store/CorruptedFileTest.java
src/test/java/org/elasticsearch/indices/IndicesOptionsIntegrationTests.java
src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryTests.java
src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/snapshots/RepositoriesTests.java
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/snapshots/SnapshotBackwardsCompatibilityTest.java
src/test/java/org/elasticsearch/snapshots/mockstore/MockRepository.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Snapshot/Restore: fix FSRepository location configuration

Closes #11068

time:
2015-05-21T00:43:02Z
class:
src/main/java/org/elasticsearch/snapshots/RestoreService.java
src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
comments:
Snapshot/Restore: Batching of snapshot state updates

Similar to the batching of "shards-started" actions, this commit implements batching of snapshot status updates. This is useful when backing up many indices as the cluster state does not need to be republished as many times.

Closes #10295

time:
2015-05-21T00:07:22Z
class:
src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
src/main/java/org/elasticsearch/index/fielddata/plain/DisabledIndexFieldData.java
src/main/java/org/elasticsearch/index/fielddata/plain/DocValuesIndexFieldData.java
src/main/java/org/elasticsearch/index/mapper/ContentPath.java
src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/internal/UidFieldMapper.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/search/SearchService.java
src/main/java/org/elasticsearch/search/highlight/HighlightUtils.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SourceScoreOrderFragmentsBuilder.java
src/main/java/org/elasticsearch/search/highlight/vectorhighlight/SourceSimpleFragmentsBuilder.java
src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
src/test/java/org/elasticsearch/search/suggest/completion/CompletionPostingsFormatTest.java
comments:
Mappings: Cleanup names handling

This clarifies some of the uses of names, so that the ambiguous
"name" is mostly no longer used (does this include path or not?).
sourcePath is also removed as it was not used. Not all the
uses of .name() have been cleaned up because Mapper still has
this, and ObjectMapper depends on it returning the short name,
but I would like to leave finishing that cleanup for a future issue.

time:
2015-05-20T22:01:45Z
class:
comments:
update documentation with release 2.6.1

time:
2015-05-20T21:51:09Z
class:
comments:
update documentation with release 2.5.2

time:
2015-05-20T21:27:51Z
class:
comments:
update documentation with release 2.5.1

time:
2015-05-20T21:20:21Z
class:
comments:
update documentation with release 2.4.2

time:
2015-05-20T19:08:59Z
class:
comments:
[DOCS] Mention Integer.MAX_VALUE limit for http.max_content_length

Fixes #11244

time:
2015-05-20T18:52:37Z
class:
src/main/java/org/elasticsearch/index/engine/CommitStats.java
src/test/java/org/elasticsearch/index/engine/CommitStatsTests.java
comments:
fix NPE when streaming commit stats

commit id is only written from lucene 5 on

time:
2015-05-20T15:55:02Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
src/main/java/org/elasticsearch/action/support/nodes/NodesOperationResponse.java
src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
src/main/java/org/elasticsearch/gateway/AsyncShardFetch.java
src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
src/main/java/org/elasticsearch/node/Node.java
src/main/java/org/elasticsearch/threadpool/ThreadPool.java
src/test/java/org/elasticsearch/cluster/ClusterHealthResponsesTests.java
src/test/java/org/elasticsearch/cluster/MinimumMasterNodesTests.java
src/test/java/org/elasticsearch/gateway/AsyncShardFetchTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
comments:
Async fetch of shard started and store during allocation
Today, when a primary shard is not allocated we go to all the nodes to find where it is allocated (listing its started state). When we allocate a replica shard, we head to all the nodes and list its store to allocate the replica on a node that holds the closest matching index files to the primary.

Those two operations today execute synchronously within the GatewayAllocator, which means they execute in a sync manner within the cluster update thread. For large clusters, or environments with very slow disk, those operations will stall the cluster update thread, making it seem like its stuck.

Worse, if the FS is really slow, we timeout after 30s the operation (to not stall the cluster update thread completely). This means that we will have another run for the primary shard if we didn't find one, or we won't find the best node to place a shard since it might have timed out (listing stores need to list all files and read the checksum at the end of each file).

On top of that, this sync operation happen one shard at a time, so its effectively compounding the problem in a serial manner the more shards we have and the slower FS is...

This change moves to perform both listing the shard started states and the shard stores to an async manner. During the allocation by the GatewayAllocator, if data needs to be fetched from a node, it is done in an async fashion, with the response triggering a reroute to make sure the results will be taken into account. Also, if there are on going operations happening, the relevant shard data will not be taken into account until all the ongoing listing operations are done executing.

The execution of listing shard states and stores has been moved to their own respective thread pools (scaling, so will go down to 0 when not needed anymore, unbounded queue, since we don't want to timeout, just let it execute based on how fast the local FS is). This is needed sine we are going to blast nodes with a lot of requests and we need to make sure there is no thread explosion.

This change also improves the handling of shard failures coming from a specific node. Today, those nodes were ignored from allocation only for the single reroute round. Now, since fetching is async, we need to keep those failures around at least until a single successful fetch without the node is done, to make sure not to repeat allocating to the failed node all the time.

Note, if before the indication of slow allocation was high pending tasks since the allocator was waiting for responses, not the pending tasks will be much smaller. In order to still indicate that the cluster is in the middle of fetching shard data, 2 attributes were added to the cluster health API, indicating the number of ongoing fetches of both started shards and shard store.

closes #9502
closes #11101

time:
2015-05-20T15:51:03Z
class:
src/test/java/org/elasticsearch/index/store/CorruptedFileTest.java
comments:
[TEST] simplify number of data nodes in #testReplicaCorruption

time:
2015-05-20T15:26:29Z
class:
src/main/java/org/elasticsearch/cloud/aws/blobstore/DefaultS3OutputStream.java
comments:
Check MD5 while doing snapshot

There is a feature available in S3 that clients can use to ensure data integrity on upload. Whenever an object is PUT to an S3 bucket, the client is able to get back the `MD5` base64 encoded and check that it's the same `MD5` as the local one.

 For reference, please see the [S3 PutObject API](http://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectPUT.html).

 Closes #186.

time:
2015-05-20T15:01:47Z
class:
comments:
[doc] correct S3 policy for multiparts

for multipart to work correctly you need to also include the necessary actions in the policy.

```json
{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Effect": "Allow",
            "Action": [
                "s3:ListBucket",
                "s3:GetBucketLocation",
                "s3:ListBucketMultipartUploads",
                "s3:ListBucketVersions"
            ],
            "Resource": [
                "arn:aws:s3:::yourbucket"
            ]
        },
        {
            "Effect": "Allow",
            "Action": [
                "s3:PutObject",
                "s3:GetObject",
                "s3:DeleteObject",
                "s3:PutObjectAcl",
                "s3:AbortMultipartUpload",
                "s3:ListMultipartUploadParts"
            ],
            "Resource": [
                "arn:aws:s3:::yourbucket/*"
            ]
        }
    ]
}
```

Closes #214

(cherry picked from commit 62966ad)
(cherry picked from commit 25a37a5)
(cherry picked from commit e72af19)

time:
2015-05-20T13:52:06Z
class:
src/main/java/org/elasticsearch/common/network/NetworkUtils.java
src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
comments:
default socket reuse address value should be non null

The default for reuse address was null on Windows and casting to a boolean would
result in a NPE. This makes the default on Windows false and changes the return
type to a boolean and removes the need to check for nulls.

time:
2015-05-20T12:35:02Z
class:
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
comments:
Merge pull request #11241 from s1monw/readd_fail_on_recovery

[RECOVERY] Add engine failure on recovery finalization corruption back

time:
2015-05-20T11:46:43Z
class:
comments:
REST test: Fixed index-seal test

Fixed bad YAML, and changed to wait for yellow instead of green, because
REST tests usually run on a single node

time:
2015-05-20T11:00:26Z
class:
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
comments:
[TEST] Add better assertion messages

time:
2015-05-20T10:05:04Z
class:
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
comments:
Tests: Compare the length of cluster states serialized as a String, not the binary representation.

Due to the fact that the binary representation uses some compression, we can't
be sure that they will be equal even if they store the same content.

time:
2015-05-20T09:33:07Z
class:
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/index/engine/CommitStats.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Include num_docs in the commit stats

This also fixes a potential race condition when the number of docs
is compared across shards with the same seal ID since the assertion
was taking the number of docs form the live index reader which might
not be equivalent to the committed num docs.

time:
2015-05-20T09:23:12Z
class:
src/main/java/org/elasticsearch/indices/SyncedFlushService.java
comments:
Notify Listener if transport throws an exception

time:
2015-05-20T09:20:12Z
class:
comments:
Docs: Included the index-seal docs in the indices section

time:
2015-05-20T08:49:45Z
class:
src/main/java/org/elasticsearch/common/ContextAndHeaderHolder.java
src/main/java/org/elasticsearch/common/HasHeaders.java
src/main/java/org/elasticsearch/percolator/PercolateContext.java
src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
src/main/java/org/elasticsearch/transport/TransportMessage.java
src/test/java/org/elasticsearch/test/TestSearchContext.java
src/test/java/org/elasticsearch/transport/TransportMessageTests.java
comments:
Cleanup: Remove generics need in ContextAndHeaderHolder

Generics were only needed for setting a header, that returned
the object being set (most likely the request), but none of
the other methods did this.

time:
2015-05-20T08:10:53Z
class:
src/main/java/org/elasticsearch/common/compress/CompressedString.java
comments:
Fix abusive assertion.

time:
2015-05-20T07:00:57Z
class:
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
src/main/java/org/elasticsearch/index/mapper/ParseContext.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java
comments:
Merge pull request #11243 from rjernst/remove/type-listener

Mappings: Remove document parse listener

time:
2015-05-20T06:39:51Z
class:
src/main/java/org/elasticsearch/common/compress/CompressedString.java
src/test/java/org/elasticsearch/common/compress/CompressedStringTests.java
comments:
Merge pull request #11233 from jpountz/fix/compressedstring_equals

Internal: Fix CompressedString.equals.

time:
2015-05-20T06:36:42Z
class:
src/main/java/org/elasticsearch/common/compress/CompressedString.java
src/test/java/org/elasticsearch/common/compress/CompressedStringTests.java
comments:
Internal: Fix CompressedString.equals.

CompressedString relied on the assumption that two CompressedString instanes
are equal if there compressed representation are equal. Unfortunately this is
not always true because the compressed representation also depends on when
flush() was called on the output stream or on the size of the hash table that
has been used at compression time.

time:
2015-05-20T03:37:05Z
class:
src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
src/main/java/org/elasticsearch/indices/IndicesModule.java
src/main/java/org/elasticsearch/snapshots/RestoreService.java
src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityTests.java
src/test/java/org/elasticsearch/bwcompat/RecoveryWithUnsupportedIndicesTests.java
src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatTests.java
comments:
Core: Don't allow indices containing too-old segments to be opened

When index is introduced into the cluster via cluster upgrade, restore or as a dangled index the MetaDataIndexUpgradeService checks if this index can be upgraded to the current version. If upgrade is not possible, the newly upgraded cluster startup and restore process are aborted, the dangled index is imported as a closed index that cannot be open.

Closes #10215

time:
2015-05-19T22:35:45Z
class:
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
src/main/java/org/elasticsearch/index/mapper/ParseContext.java
src/main/java/org/elasticsearch/index/mapper/core/AbstractFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java
comments:
Mappings: Remove document parse listener

There was previously a single user of the parse listener, MLT API.
However, now that this is gone, there is no need for it.

time:
2015-05-19T20:24:02Z
class:
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
comments:
[RECOVERY] Add engine failure on recovery finalization corruption back

This engine failure on finalization corruption was lost on refactorings and
should be added back.

time:
2015-05-19T20:15:48Z
class:
src/main/java/org/elasticsearch/index/store/Store.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
comments:
Remove all corruption markers if finalization fails

time:
2015-05-19T18:28:01Z
class:
src/main/java/org/elasticsearch/index/gateway/IndexShardGateway.java
src/main/java/org/elasticsearch/index/store/Store.java
src/test/java/org/elasticsearch/index/store/CorruptedFileTest.java
src/test/java/org/elasticsearch/index/store/StoreTest.java
comments:
Revert "Revert "Ensure we mark store as corrupted if we fail to read the segments info""

This reverts commit 5fbb6a714d24cb9f2e3b03c171ab59673da64e51.

time:
2015-05-19T17:49:21Z
class:
src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
src/main/java/org/elasticsearch/index/codec/PerFieldMappingPostingFormatCodec.java
src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
src/main/java/org/elasticsearch/index/query/TermQueryParser.java
src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
src/main/java/org/elasticsearch/index/search/MatchQuery.java
src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
src/main/java/org/elasticsearch/percolator/PercolateContext.java
src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
src/main/java/org/elasticsearch/search/internal/SearchContext.java
src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java
src/test/java/org/elasticsearch/test/TestSearchContext.java
comments:
Merge pull request #11216 from rjernst/remove/smart-field-mappers

Mappings: Remove SmartNameFieldMappers

time:
2015-05-19T15:53:25Z
class:
src/main/java/org/elasticsearch/index/gateway/IndexShardGateway.java
src/main/java/org/elasticsearch/index/store/Store.java
src/test/java/org/elasticsearch/index/store/CorruptedFileTest.java
src/test/java/org/elasticsearch/index/store/StoreTest.java
comments:
Revert "Ensure we mark store as corrupted if we fail to read the segments info"

This reverts commit 70b4bb6e0e294e5888dc7ff48e960bdd1cf40fd6.

time:
2015-05-19T15:41:53Z
class:
src/main/java/org/elasticsearch/index/gateway/IndexShardGateway.java
src/main/java/org/elasticsearch/index/store/Store.java
src/test/java/org/elasticsearch/index/store/CorruptedFileTest.java
src/test/java/org/elasticsearch/index/store/StoreTest.java
comments:
Ensure we mark store as corrupted if we fail to read the segments info

This commit also reenables CorruptedFileTest#testReplicaCorruption which had
a missing `GatewayAllocator.INDEX_RECOVERY_INITIAL_SHARDS: "one"` setting.

Closes #11226

time:
2015-05-19T14:59:25Z
class:
src/test/java/org/elasticsearch/test/discovery/ClusterDiscoveryConfiguration.java
comments:
[Test] set socket reuse address when using unicast discovery

When we use unicast discovery in tests, we test for available ports by binding to ports and if
the bind was successful, we use that port. This has a timing issue on certain operating systems
the socket can still be in a TIME_WAIT causing subsequent binds to fail before a certain timeout.
Setting reuse address on the Java socket will instruct the underlying operating system to allow
the socket to be bound to immediately, usually by specifying the SO_REUSEADDR socket option.

time:
2015-05-19T13:35:24Z
class:
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/common/lucene/docset/DocIdSets.java
src/main/java/org/elasticsearch/common/lucene/search/FilteredCollector.java
src/main/java/org/elasticsearch/common/lucene/search/ResolvableFilter.java
src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/ParentToChildrenAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregator.java
src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
src/test/java/org/elasticsearch/search/fetch/innerhits/NestedChildrenFilterTest.java
comments:
Merge pull request #11224 from jpountz/enhancement/filtered_query_forbidden

Search: Make FilteredQuery a forbidden API.

time:
2015-05-19T13:35:09Z
class:
src/test/java/org/elasticsearch/index/store/CorruptedFileTest.java
src/test/java/org/elasticsearch/versioning/SimpleVersioningTests.java
comments:
[TEST] Wait for green until testing Version.FORCE

time:
2015-05-19T13:33:43Z
class:
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/common/lucene/docset/DocIdSets.java
src/main/java/org/elasticsearch/common/lucene/search/FilteredCollector.java
src/main/java/org/elasticsearch/common/lucene/search/ResolvableFilter.java
src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/mapper/core/BooleanFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
src/main/java/org/elasticsearch/search/aggregations/bucket/children/ParentToChildrenAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filter/FilterAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/NestedAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregator.java
src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
src/test/java/org/elasticsearch/search/fetch/innerhits/NestedChildrenFilterTest.java
comments:
Search: Make FilteredQuery a forbidden API.

This commit makes FilteredQuery a forbidden API and also removes some more usage
of the Filter API. There are some remaining code using filters for parent/child
queries but I'm not touching this as they are already being refactored in #6511.

time:
2015-05-19T13:32:55Z
class:
src/test/java/org/elasticsearch/search/query/ExistsMissingTests.java
comments:
Tests: Add tests for `null_value`.

time:
2015-05-19T13:17:16Z
class:
src/main/java/org/elasticsearch/action/ActionModule.java
src/main/java/org/elasticsearch/action/LatchedActionListener.java
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesAction.java
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesRequest.java
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesResponse.java
src/main/java/org/elasticsearch/action/admin/indices/seal/TransportSealIndicesAction.java
src/main/java/org/elasticsearch/client/IndicesAdminClient.java
src/main/java/org/elasticsearch/client/support/AbstractClient.java
src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
src/main/java/org/elasticsearch/index/engine/CommitStats.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
src/main/java/org/elasticsearch/index/store/Store.java
src/main/java/org/elasticsearch/indices/IndicesLifecycle.java
src/main/java/org/elasticsearch/indices/IndicesModule.java
src/main/java/org/elasticsearch/indices/InternalIndicesLifecycle.java
src/main/java/org/elasticsearch/indices/SyncedFlushService.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryCleanFilesRequest.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryState.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
src/main/java/org/elasticsearch/indices/recovery/StartRecoveryRequest.java
src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
src/main/java/org/elasticsearch/rest/action/RestActionModule.java
src/main/java/org/elasticsearch/rest/action/admin/indices/seal/RestSealIndicesAction.java
src/test/java/org/elasticsearch/action/admin/indices/seal/SealIndicesTests.java
src/test/java/org/elasticsearch/cluster/routing/RoutingTableTest.java
src/test/java/org/elasticsearch/common/lucene/LuceneTest.java
src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayTests.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
src/test/java/org/elasticsearch/index/store/StoreTest.java
src/test/java/org/elasticsearch/indices/FlushTest.java
src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerSingleNodeTests.java
src/test/java/org/elasticsearch/indices/SealTests.java
src/test/java/org/elasticsearch/indices/SycnedFlushSingleNodeTest.java
src/test/java/org/elasticsearch/indices/SyncedFlushUtil.java
src/test/java/org/elasticsearch/indices/recovery/StartRecoveryRequestTest.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Merge pull request #11179 from elastic/feature/synced_flush

Seal indices for faster recovery

time:
2015-05-19T12:55:45Z
class:
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/test/java/org/elasticsearch/index/store/CorruptedFileTest.java
comments:
Merge branch 'master' into feature/synced_flush

Conflicts:
	src/main/java/org/elasticsearch/index/engine/InternalEngine.java

time:
2015-05-19T12:53:39Z
class:
src/main/java/org/elasticsearch/indices/SyncedFlushService.java
comments:
Minor cleanups in SyncedFlushService

time:
2015-05-19T12:53:09Z
class:
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
comments:
Merge pull request #11225 from s1monw/remove_flush_needed

[ENGINE] Remove flushNeeded in favor of IW#hasUncommittedChanges()

time:
2015-05-19T12:43:03Z
class:
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
comments:
[TEST] Add more engine unittests for sync IDs

time:
2015-05-19T12:40:02Z
class:
src/test/java/org/elasticsearch/index/store/CorruptedFileTest.java
comments:
[TEST] add await fix for #11226

time:
2015-05-19T12:10:07Z
class:
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
comments:
[ENGINE] Remove flushNeeded in favor of IW#hasUncommittedChanges()

We maintain a boolean that is obsolete since IW maintains the same
property that we can just piggyback on.

time:
2015-05-19T11:18:43Z
class:
src/test/java/org/elasticsearch/index/store/CorruptedFileTest.java
comments:
[TEST] Add a corrupted replica test verifying its still allocated
Add a test that verifies that even though all replicas are corrupted on all available nodes, and listing of shard stores faield, it still get allocated and properly recovered from the primary shard

time:
2015-05-19T10:26:08Z
class:
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
comments:
Add some words about the purpose of a seal etc.

time:
2015-05-19T10:16:22Z
class:
src/main/java/org/apache/lucene/search/postingshighlight/CustomPassageFormatter.java
src/main/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighter.java
src/main/java/org/apache/lucene/search/postingshighlight/CustomSeparatorBreakIterator.java
src/main/java/org/apache/lucene/search/postingshighlight/Snippet.java
src/main/java/org/apache/lucene/search/postingshighlight/XPostingsHighlighter.java
src/main/java/org/elasticsearch/ElasticsearchException.java
src/main/java/org/elasticsearch/ExceptionsHelper.java
src/main/java/org/elasticsearch/action/ActionWriteResponse.java
src/main/java/org/elasticsearch/action/ShardOperationFailedException.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingClusterStateUpdateRequest.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequest.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStatsFlags.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java
src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
src/main/java/org/elasticsearch/action/percolate/PercolateResponse.java
src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
src/main/java/org/elasticsearch/action/search/SearchPhaseExecutionException.java
src/main/java/org/elasticsearch/action/search/SearchResponse.java
src/main/java/org/elasticsearch/action/search/ShardSearchFailure.java
src/main/java/org/elasticsearch/action/support/DefaultShardOperationFailedException.java
src/main/java/org/elasticsearch/action/support/single/shard/TransportShardSingleOperationAction.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsFields.java
src/main/java/org/elasticsearch/client/IndicesAdminClient.java
src/main/java/org/elasticsearch/client/support/AbstractClient.java
src/main/java/org/elasticsearch/cluster/ClusterState.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
src/main/java/org/elasticsearch/common/ContextAndHeaderHolder.java
src/main/java/org/elasticsearch/common/HasContext.java
src/main/java/org/elasticsearch/common/HasContextAndHeaders.java
src/main/java/org/elasticsearch/common/HasHeaders.java
src/main/java/org/elasticsearch/common/bytes/BytesArray.java
src/main/java/org/elasticsearch/common/geo/GeoUtils.java
src/main/java/org/elasticsearch/common/io/stream/ByteBufferStreamInput.java
src/main/java/org/elasticsearch/common/io/stream/BytesStreamInput.java
src/main/java/org/elasticsearch/common/io/stream/NoopStreamOutput.java
src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
src/main/java/org/elasticsearch/common/lucene/docset/AllDocIdSet.java
src/main/java/org/elasticsearch/common/lucene/docset/BitsDocIdSetIterator.java
src/main/java/org/elasticsearch/common/lucene/docset/DocIdSets.java
src/main/java/org/elasticsearch/common/lucene/docset/MatchDocIdSetIterator.java
src/main/java/org/elasticsearch/common/settings/loader/PropertiesSettingsLoader.java
src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java
src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
src/main/java/org/elasticsearch/index/analysis/FieldNameAnalyzer.java
src/main/java/org/elasticsearch/index/cache/id/IdCacheStats.java
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/EngineConfig.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/InternalEngineFactory.java
src/main/java/org/elasticsearch/index/fielddata/ShardFieldData.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
src/main/java/org/elasticsearch/index/mapper/MapperAnalyzer.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
src/main/java/org/elasticsearch/index/search/shape/ShapeFetchService.java
src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/store/IndexStoreModule.java
src/main/java/org/elasticsearch/index/translog/BufferedChecksumStreamInput.java
src/main/java/org/elasticsearch/index/translog/BufferedChecksumStreamOutput.java
src/main/java/org/elasticsearch/index/translog/BufferingTranslogWriter.java
src/main/java/org/elasticsearch/index/translog/ChannelReader.java
src/main/java/org/elasticsearch/index/translog/ChannelReference.java
src/main/java/org/elasticsearch/index/translog/ChannelSnapshot.java
src/main/java/org/elasticsearch/index/translog/Checkpoint.java
src/main/java/org/elasticsearch/index/translog/ChecksummedTranslogStream.java
src/main/java/org/elasticsearch/index/translog/ImmutableTranslogReader.java
src/main/java/org/elasticsearch/index/translog/LegacyTranslogReader.java
src/main/java/org/elasticsearch/index/translog/LegacyTranslogReaderBase.java
src/main/java/org/elasticsearch/index/translog/MultiSnapshot.java
src/main/java/org/elasticsearch/index/translog/Translog.java
src/main/java/org/elasticsearch/index/translog/TranslogConfig.java
src/main/java/org/elasticsearch/index/translog/TranslogReader.java
src/main/java/org/elasticsearch/index/translog/TranslogStream.java
src/main/java/org/elasticsearch/index/translog/TranslogStreams.java
src/main/java/org/elasticsearch/index/translog/TranslogWriter.java
src/main/java/org/elasticsearch/index/translog/TruncatedTranslogException.java
src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
src/main/java/org/elasticsearch/indices/cache/filter/IndicesFilterCache.java
src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySource.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryStatus.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryTranslogOperationsRequest.java
src/main/java/org/elasticsearch/indices/recovery/SharedFSRecoverySourceHandler.java
src/main/java/org/elasticsearch/percolator/PercolateContext.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/rest/RestRequest.java
src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/cache/clear/RestClearIndicesCacheAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/flush/RestFlushAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/mapping/put/RestPutMappingAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/optimize/RestOptimizeAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/refresh/RestRefreshAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/segments/RestIndicesSegmentsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/stats/RestIndicesStatsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/upgrade/RestUpgradeAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/validate/query/RestValidateQueryAction.java
src/main/java/org/elasticsearch/rest/action/bulk/RestBulkAction.java
src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
src/main/java/org/elasticsearch/rest/action/count/RestCountAction.java
src/main/java/org/elasticsearch/rest/action/fieldstats/RestFieldStatsAction.java
src/main/java/org/elasticsearch/rest/action/suggest/RestSuggestAction.java
src/main/java/org/elasticsearch/rest/action/support/RestActions.java
src/main/java/org/elasticsearch/script/ScriptService.java
src/main/java/org/elasticsearch/search/aggregations/ValuesSourceAggregationBuilder.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/GlobalOrdinalsStringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/support/IncludeExclude.java
src/main/java/org/elasticsearch/search/aggregations/metrics/ValuesSourceMetricsAggregationBuilder.java
src/main/java/org/elasticsearch/search/aggregations/support/AggregationContext.java
src/main/java/org/elasticsearch/search/aggregations/support/MissingValues.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSource.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceConfig.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceParser.java
src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsParseElement.java
src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
src/main/java/org/elasticsearch/search/highlight/HighlightUtils.java
src/main/java/org/elasticsearch/search/highlight/HighlighterParseElement.java
src/main/java/org/elasticsearch/search/highlight/PostingsHighlighter.java
src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
src/main/java/org/elasticsearch/search/internal/SearchContext.java
src/main/java/org/elasticsearch/search/internal/ShardSearchLocalRequest.java
src/main/java/org/elasticsearch/search/internal/ShardSearchRequest.java
src/main/java/org/elasticsearch/search/scan/ScanContext.java
src/main/java/org/elasticsearch/search/suggest/SuggestParseElement.java
src/main/java/org/elasticsearch/snapshots/Snapshot.java
src/main/java/org/elasticsearch/snapshots/SnapshotInfo.java
src/main/java/org/elasticsearch/snapshots/SnapshotShardFailure.java
src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
src/main/java/org/elasticsearch/transport/TransportMessage.java
src/main/java/org/elasticsearch/transport/local/LocalTransport.java
src/test/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighterTests.java
src/test/java/org/apache/lucene/search/postingshighlight/CustomSeparatorBreakIteratorTests.java
src/test/java/org/apache/lucene/search/postingshighlight/XPostingsHighlighterTests.java
src/test/java/org/elasticsearch/ElasticsearchExceptionTests.java
src/test/java/org/elasticsearch/action/OriginalIndicesTests.java
src/test/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequestTest.java
src/test/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheBlocksTests.java
src/test/java/org/elasticsearch/action/admin/indices/seal/SealIndicesTests.java
src/test/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsTests.java
src/test/java/org/elasticsearch/action/get/MultiGetShardRequestTests.java
src/test/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequestTests.java
src/test/java/org/elasticsearch/action/support/IndicesOptionsTests.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchShortCircuitBenchmark.java
src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
src/test/java/org/elasticsearch/cluster/ClusterHealthResponsesTests.java
src/test/java/org/elasticsearch/cluster/ClusterStateDiffTests.java
src/test/java/org/elasticsearch/cluster/block/ClusterBlockTests.java
src/test/java/org/elasticsearch/cluster/node/DiscoveryNodeTests.java
src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java
src/test/java/org/elasticsearch/cluster/serialization/DiffableTests.java
src/test/java/org/elasticsearch/common/io/StreamsTests.java
src/test/java/org/elasticsearch/common/io/streams/BytesStreamsTests.java
src/test/java/org/elasticsearch/common/lucene/IndexCacheableQueryTests.java
src/test/java/org/elasticsearch/common/unit/TimeValueTests.java
src/test/java/org/elasticsearch/common/xcontent/XContentFactoryTests.java
src/test/java/org/elasticsearch/document/DocumentActionsTests.java
src/test/java/org/elasticsearch/index/IndexWithShadowReplicasTests.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
src/test/java/org/elasticsearch/index/fielddata/LongFieldDataTests.java
src/test/java/org/elasticsearch/index/mapper/camelcase/CamelCaseFieldNameTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldsIntegrationTests.java
src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
src/test/java/org/elasticsearch/index/store/CorruptedTranslogTests.java
src/test/java/org/elasticsearch/index/store/StoreTest.java
src/test/java/org/elasticsearch/index/translog/BufferedTranslogTests.java
src/test/java/org/elasticsearch/index/translog/TranslogTests.java
src/test/java/org/elasticsearch/index/translog/TranslogVersionTests.java
src/test/java/org/elasticsearch/indices/analyze/AnalyzeActionTests.java
src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationTests.java
src/test/java/org/elasticsearch/indices/recovery/RecoveryStateTest.java
src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
src/test/java/org/elasticsearch/recovery/RecoveryWhileUnderLoadTests.java
src/test/java/org/elasticsearch/recovery/RelocationTests.java
src/test/java/org/elasticsearch/search/aggregations/MissingValueTests.java
src/test/java/org/elasticsearch/search/aggregations/support/MissingValuesTests.java
src/test/java/org/elasticsearch/search/child/ParentFieldLoadingTest.java
src/test/java/org/elasticsearch/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/search/highlight/HighlighterSearchTests.java
src/test/java/org/elasticsearch/search/innerhits/InnerHitsTests.java
src/test/java/org/elasticsearch/search/scan/ScanContextTests.java
src/test/java/org/elasticsearch/search/suggest/SuggestSearchTests.java
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/test/TestSearchContext.java
src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
src/test/java/org/elasticsearch/test/rest/spec/RestSpec.java
src/test/java/org/elasticsearch/test/rest/support/FileUtils.java
src/test/java/org/elasticsearch/test/rest/test/FileUtilsTests.java
src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
src/test/java/org/elasticsearch/test/transport/MockTransportService.java
src/test/java/org/elasticsearch/threadpool/ThreadPoolSerializationTests.java
src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportTests.java
src/test/java/org/elasticsearch/transport/TransportMessageTests.java
src/test/java/org/elasticsearch/update/UpdateNoopTests.java
comments:
Merge branch 'master' into feature/synced_flush

Conflicts:
	src/main/java/org/elasticsearch/index/engine/InternalEngine.java
	src/main/java/org/elasticsearch/index/shard/IndexShard.java
	src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
	src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java

time:
2015-05-19T10:01:31Z
class:
src/main/java/org/elasticsearch/indices/SyncedFlushService.java
src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayTests.java
src/test/java/org/elasticsearch/indices/FlushTest.java
src/test/java/org/elasticsearch/indices/SycnedFlushSingleNodeTest.java
src/test/java/org/elasticsearch/indices/SyncedFlushUtil.java
comments:
Make SyncedFlushService fully asynchronous

Some requests in the SyncedFlushService were sill blocking on network
calls which made calling this service error prone if done on a network
thread. This commit makes this service fully async based on ActionListener.

time:
2015-05-19T09:25:52Z
class:
src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsParseElement.java
src/test/java/org/elasticsearch/search/innerhits/InnerHitsTests.java
comments:
inner hits: Fix search hit field and term resolution

time:
2015-05-19T08:37:45Z
class:
src/test/java/org/elasticsearch/recovery/RelocationTests.java
comments:
Tests: Remove RelocationTests.testRelocationWithBusyClusterUpdateThread.

It is not relevant anymore with synchronous mapping updates.

time:
2015-05-19T08:34:32Z
class:
src/test/java/org/elasticsearch/common/lucene/IndexCacheableQueryTests.java
comments:
Merge pull request #11218 from jpountz/upgrade/lucene-5.2.0-snapshot-1680200

Upgrade to lucene-5.2.0-snapshot-1680200.

time:
2015-05-19T08:32:40Z
class:
src/test/java/org/elasticsearch/common/lucene/LuceneTest.java
comments:
[TEST] Add Unittest for Lucene#getNumDocs

time:
2015-05-19T08:28:35Z
class:
src/test/java/org/elasticsearch/common/lucene/IndexCacheableQueryTests.java
comments:
Upgrade to lucene-5.2.0-snapshot-1680200.

time:
2015-05-19T08:23:18Z
class:
src/main/java/org/elasticsearch/index/store/Store.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
comments:
minor cleanups

time:
2015-05-19T08:03:02Z
class:
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingClusterStateUpdateRequest.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequest.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
src/main/java/org/elasticsearch/rest/action/admin/indices/mapping/put/RestPutMappingAction.java
src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldsIntegrationTests.java
src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationTests.java
comments:
Merge pull request #11203 from jpountz/fix/remove_ignore_conflicts

Mappings: Remove the `ignore_conflicts` option.

time:
2015-05-19T07:30:12Z
class:
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
comments:
skip everything between file checks and translog prepare if sync ids coincide

also throw exception instead of assert if num docs no coincide

time:
2015-05-19T07:30:12Z
class:
src/main/java/org/elasticsearch/common/lucene/Lucene.java
src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
src/main/java/org/elasticsearch/index/store/Store.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
src/test/java/org/elasticsearch/index/store/StoreTest.java
comments:
assert num docs in recovery if sync id was used

time:
2015-05-19T06:49:52Z
class:
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
src/test/java/org/elasticsearch/index/mapper/camelcase/CamelCaseFieldNameTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
comments:
Merge pull request #11209 from jpountz/fix/documentmapper_refreshsource_private

Mappings: Make DocumentMapper.refreshSource() private.

time:
2015-05-19T06:38:49Z
class:
src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
src/test/java/org/elasticsearch/update/UpdateNoopTests.java
comments:
Merge pull request #11210 from nik9000/detect_noop_null

detect_noop now understands null as a valid value

time:
2015-05-19T05:41:56Z
class:
src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
src/main/java/org/elasticsearch/index/codec/PerFieldMappingPostingFormatCodec.java
src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
src/main/java/org/elasticsearch/index/mapper/MapperService.java
src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
src/main/java/org/elasticsearch/index/query/QueryParseContext.java
src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
src/main/java/org/elasticsearch/index/query/TermQueryParser.java
src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
src/main/java/org/elasticsearch/index/search/MatchQuery.java
src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
src/main/java/org/elasticsearch/percolator/PercolateContext.java
src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
src/main/java/org/elasticsearch/search/internal/SearchContext.java
src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java
src/test/java/org/elasticsearch/test/TestSearchContext.java
comments:
Mappings: Remove SmartNameFieldMappers

This change simplifies the users of the mapper service to no
longer have access to multiple fields for a single name. While
FieldMappersLookup still stores and gives access to multiple
fields, the current users of SmartNameFieldMappers already all
assumed a single field. The arbitrary selection of that field
when multiple exist is now isolated to the mapper service.
I think this way we removed support for specifying `_all` on types? If the argument is `_all` it gets treated as a concrete type while we should do the same as if the array was null or empty. Is there anything I'm missing here? Maybe this is not well tested (we should have some failing test I guess...), but we introduced tests around it in the query parser refactoring branch and we got failures once we merged this change in.

Oops, that was unintended. I will push a fix.

thanks a lot!


time:
2015-05-19T00:50:37Z
class:
src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
comments:
Merge pull request #11212 from rmuir/java.io.tmpdir.early

Ensure java.io.tmpdir is created earlier in tests.

time:
2015-05-18T20:37:20Z
class:
src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
comments:
Ensure java.io.tmpdir is created earlier in tests.

When testing, each jvm gets its own tmpdir set, so it may not exist
at all. A Lucene test rule ensures its created, but some tests (I
am looking at you rest tests) do a bunch of file stuff in static {},
in that case because its a parameterized test. And if you try to
extend it, it will fail if security manager is disabled...

Currently we ensure(java.io.tmpdir) very early when tests are running under
security manager, but otherwise we don't and it won't happen until the
test rule fires. So just do it early always.

time:
2015-05-18T19:55:23Z
class:
src/main/java/org/elasticsearch/index/engine/Engine.java
comments:
Make commitID byte[] final

time:
2015-05-18T19:48:07Z
class:
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/store/IndexStoreModule.java
src/test/java/org/elasticsearch/index/store/CorruptedTranslogTests.java
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
comments:
Merge pull request #11193 from s1monw/remove_commit_without_translog

[ENGINE] Remove the ability to flush without flushing the translog

time:
2015-05-18T19:43:22Z
class:
src/main/java/org/elasticsearch/index/store/smbmmapfs/SmbMmapFsDirectoryService.java
comments:
Fix compilation for latest ES versions

This fixes a change that recently landed in 1.x and master that prevents
the plugin from being compiled.

time:
2015-05-18T19:14:01Z
class:
src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
src/test/java/org/elasticsearch/update/UpdateNoopTests.java
comments:
detect_noop now understands null as a valid value

If the source contrains a null value for a field then detect_noop should
consider setting it to null again to be a noop.

Closes #11208

time:
2015-05-18T18:14:39Z
class:
src/main/java/org/elasticsearch/index/translog/Translog.java
src/test/java/org/elasticsearch/index/translog/TranslogTests.java
comments:
[TRANSLOG] Return null from read() if location generation is outdated

This behavior has changed been changed rescently to throw an IAE if
the translog we try to read from is already outdated. This is not
the expected behavior and this commit adds back the `old` way returning
`null` instead. The InternalEngine implementation will then go and ask the
lucene index for the document instead.

time:
2015-05-18T16:22:48Z
class:
src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportTests.java
comments:
Test: Prevent automatic refresh in ContextAndHeaderTransportTests

In some cases due to calling checking `rarely()` the `indexRandom()` method
can potentially flush, which creates flush requests, that miss a certain
header in this test and allow the test to fail.

In addition unused configuration code for this test has been removed.

time:
2015-05-18T16:05:26Z
class:
src/test/java/org/elasticsearch/recovery/RelocationTests.java
comments:
Tests: Mark RelocationTests.testRelocationWithBusyClusterUpdateThread as @AwaitsFix.

time:
2015-05-18T15:41:31Z
class:
src/main/java/org/elasticsearch/common/io/stream/NoopStreamOutput.java
src/main/java/org/elasticsearch/index/translog/BufferedChecksumStreamOutput.java
src/main/java/org/elasticsearch/index/translog/Translog.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryTranslogOperationsRequest.java
src/main/java/org/elasticsearch/indices/recovery/SharedFSRecoverySourceHandler.java
src/test/java/org/elasticsearch/index/translog/TranslogTests.java
comments:
Merge pull request #11200 from s1monw/cleanup_translog

Some smallish translog cleanups

time:
2015-05-18T15:14:06Z
class:
src/main/java/org/elasticsearch/index/translog/Translog.java
src/test/java/org/elasticsearch/index/translog/TranslogTests.java
comments:
Added additional assertion that the view to remove was actually registered.

time:
2015-05-18T15:05:36Z
class:
src/main/java/org/elasticsearch/common/io/stream/NoopStreamOutput.java
comments:
remove NoopOutputStream

time:
2015-05-18T15:05:36Z
class:
src/main/java/org/elasticsearch/index/translog/BufferedChecksumStreamOutput.java
src/main/java/org/elasticsearch/index/translog/Translog.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryTranslogOperationsRequest.java
src/test/java/org/elasticsearch/index/translog/TranslogTests.java
comments:
Cleanup translog operation serialization

We used to double write the translog operation which is not needed except
of for recovery. This commit cuts over to a big-array based temporary serialiation
and removes the crazy double writing.

time:
2015-05-18T15:05:36Z
class:
src/main/java/org/elasticsearch/index/translog/Translog.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
src/main/java/org/elasticsearch/indices/recovery/SharedFSRecoverySourceHandler.java
comments:
[TRANSLOG] Fold Translog.View into it's only implementation

time:
2015-05-18T15:05:02Z
class:
src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
src/test/java/org/elasticsearch/index/mapper/camelcase/CamelCaseFieldNameTests.java
src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
comments:
Mappings: Make DocumentMapper.refreshSource() private.

This method should not be public, we should refresh the source automatically
when we change mappings.

time:
2015-05-18T15:00:47Z
class:
src/main/java/org/elasticsearch/indices/recovery/RecoveryStatus.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
comments:
review comments

time:
2015-05-18T14:58:41Z
class:
src/main/java/org/elasticsearch/indices/recovery/RecoveryStatus.java
comments:
Decrement reference even if IndexShard#postRecovery barfs

This can cause a reference leak if we call `IndexShard#postRecovery`
on an already closed shard.

time:
2015-05-18T14:58:19Z
class:
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/translog/TranslogTests.java
comments:
[TEST] Enable MockFS on InternalEngineTests and TranslogTests

time:
2015-05-18T14:52:49Z
class:
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
comments:
[ENGINE] Close Translog if initial commit fails

time:
2015-05-18T14:50:03Z
class:
src/main/java/org/elasticsearch/indices/recovery/RecoverySource.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
src/main/java/org/elasticsearch/indices/recovery/SharedFSRecoverySourceHandler.java
comments:
Merge pull request #11207 from jpountz/fix/recovery_no_mapping_update

Recovery: No need to send mappings to the master node on phase 2.

time:
2015-05-18T14:38:13Z
class:
src/main/java/org/elasticsearch/indices/recovery/RecoverySource.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
src/main/java/org/elasticsearch/indices/recovery/SharedFSRecoverySourceHandler.java
comments:
Recovery: No need to send mappings to the master node on phase 2.

Now that mapping updates are synchronous, it is not necessary to send mappings
to the master node during the recovery process anymore: they will already be on
the master node since we ensure mappings are on the master node before indexing.

time:
2015-05-18T13:28:23Z
class:
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingClusterStateUpdateRequest.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequest.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
src/main/java/org/elasticsearch/rest/action/admin/indices/mapping/put/RestPutMappingAction.java
src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldsIntegrationTests.java
src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationTests.java
comments:
Mappings: Remove the `ignore_conflicts` option.

Mappings conflicts should not be ignored. If I read the history correctly, this
option was added when a mapping update to an existing field was considered a
conflict, even if the new mapping was exactly the same. Now that mapping updates
are smart enough to detect conflicting options, we don't need an option to
ignore conflicts.

time:
2015-05-18T12:50:16Z
class:
src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
src/main/java/org/elasticsearch/action/support/single/shard/TransportShardSingleOperationAction.java
src/main/java/org/elasticsearch/common/ContextAndHeaderHolder.java
src/main/java/org/elasticsearch/common/HasContext.java
src/main/java/org/elasticsearch/common/HasContextAndHeaders.java
src/main/java/org/elasticsearch/common/HasHeaders.java
src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
src/main/java/org/elasticsearch/index/search/shape/ShapeFetchService.java
src/main/java/org/elasticsearch/percolator/PercolateContext.java
src/main/java/org/elasticsearch/rest/RestRequest.java
src/main/java/org/elasticsearch/script/ScriptService.java
src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
src/main/java/org/elasticsearch/search/internal/SearchContext.java
src/main/java/org/elasticsearch/search/internal/ShardSearchLocalRequest.java
src/main/java/org/elasticsearch/search/internal/ShardSearchRequest.java
src/main/java/org/elasticsearch/search/suggest/SuggestParseElement.java
src/main/java/org/elasticsearch/transport/TransportMessage.java
src/test/java/org/elasticsearch/test/TestSearchContext.java
src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportTests.java
comments:
Internal: Propagate headers & contexts to sub-requests

Whenever a query parser (or any other component) issues another
request as part of a request, the headers and the context has to
be supplied as well.

In order to do this, the `SearchContext` has to have those headers
available, which in turn means, the shard level request needs to
copy those from the original `SearchRequest`

This commit introduces two new interface to supply the needed methods
to work with context and headers.

Closes #10979

time:
2015-05-18T12:32:36Z
class:
src/main/java/org/elasticsearch/index/engine/Engine.java
comments:
Remove dead code / unused class

time:
2015-05-18T11:19:14Z
class:
src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
comments:
Adapted to changes on master

time:
2015-05-18T10:33:35Z
class:
src/main/java/org/apache/lucene/search/postingshighlight/CustomPassageFormatter.java
src/main/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighter.java
src/main/java/org/apache/lucene/search/postingshighlight/CustomSeparatorBreakIterator.java
src/main/java/org/apache/lucene/search/postingshighlight/Snippet.java
src/main/java/org/apache/lucene/search/postingshighlight/XPostingsHighlighter.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequest.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheRequest.java
src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStatsFlags.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequest.java
src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsRequestBuilder.java
src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
src/main/java/org/elasticsearch/action/termvectors/TermVectorsFields.java
src/main/java/org/elasticsearch/client/IndicesAdminClient.java
src/main/java/org/elasticsearch/client/support/AbstractClient.java
src/main/java/org/elasticsearch/cluster/ClusterState.java
src/main/java/org/elasticsearch/common/bytes/BytesArray.java
src/main/java/org/elasticsearch/common/geo/GeoUtils.java
src/main/java/org/elasticsearch/common/io/stream/ByteBufferStreamInput.java
src/main/java/org/elasticsearch/common/io/stream/BytesStreamInput.java
src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
src/main/java/org/elasticsearch/common/lucene/docset/AllDocIdSet.java
src/main/java/org/elasticsearch/common/lucene/docset/BitsDocIdSetIterator.java
src/main/java/org/elasticsearch/common/lucene/docset/ContextDocIdSet.java
src/main/java/org/elasticsearch/common/lucene/docset/DocIdSets.java
src/main/java/org/elasticsearch/common/lucene/docset/MatchDocIdSetIterator.java
src/main/java/org/elasticsearch/common/settings/loader/PropertiesSettingsLoader.java
src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java
src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
src/main/java/org/elasticsearch/index/analysis/FieldNameAnalyzer.java
src/main/java/org/elasticsearch/index/cache/id/IdCacheStats.java
src/main/java/org/elasticsearch/index/engine/EngineConfig.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/InternalEngineFactory.java
src/main/java/org/elasticsearch/index/fielddata/ShardFieldData.java
src/main/java/org/elasticsearch/index/mapper/MapperAnalyzer.java
src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/translog/BufferedChecksumStreamInput.java
src/main/java/org/elasticsearch/index/translog/BufferingTranslogWriter.java
src/main/java/org/elasticsearch/index/translog/ChannelReader.java
src/main/java/org/elasticsearch/index/translog/ChannelReference.java
src/main/java/org/elasticsearch/index/translog/ChannelSnapshot.java
src/main/java/org/elasticsearch/index/translog/Checkpoint.java
src/main/java/org/elasticsearch/index/translog/ChecksummedTranslogStream.java
src/main/java/org/elasticsearch/index/translog/ImmutableTranslogReader.java
src/main/java/org/elasticsearch/index/translog/LegacyTranslogReader.java
src/main/java/org/elasticsearch/index/translog/LegacyTranslogReaderBase.java
src/main/java/org/elasticsearch/index/translog/MultiSnapshot.java
src/main/java/org/elasticsearch/index/translog/Translog.java
src/main/java/org/elasticsearch/index/translog/TranslogConfig.java
src/main/java/org/elasticsearch/index/translog/TranslogReader.java
src/main/java/org/elasticsearch/index/translog/TranslogStream.java
src/main/java/org/elasticsearch/index/translog/TranslogStreams.java
src/main/java/org/elasticsearch/index/translog/TranslogWriter.java
src/main/java/org/elasticsearch/index/translog/TruncatedTranslogException.java
src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryTranslogOperationsRequest.java
src/main/java/org/elasticsearch/indices/recovery/SharedFSRecoverySourceHandler.java
src/main/java/org/elasticsearch/percolator/PercolatorService.java
src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/cache/clear/RestClearIndicesCacheAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/stats/RestIndicesStatsAction.java
src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
src/main/java/org/elasticsearch/search/aggregations/ValuesSourceAggregationBuilder.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/GlobalOrdinalsStringTermsAggregator.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/TermsAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/support/IncludeExclude.java
src/main/java/org/elasticsearch/search/aggregations/metrics/ValuesSourceMetricsAggregationBuilder.java
src/main/java/org/elasticsearch/search/aggregations/support/AggregationContext.java
src/main/java/org/elasticsearch/search/aggregations/support/MissingValues.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSource.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceAggregatorFactory.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceConfig.java
src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceParser.java
src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
src/main/java/org/elasticsearch/search/highlight/HighlightUtils.java
src/main/java/org/elasticsearch/search/highlight/HighlighterParseElement.java
src/main/java/org/elasticsearch/search/highlight/PostingsHighlighter.java
src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
src/main/java/org/elasticsearch/search/scan/ScanContext.java
src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
src/main/java/org/elasticsearch/transport/local/LocalTransport.java
src/test/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighterTests.java
src/test/java/org/apache/lucene/search/postingshighlight/CustomSeparatorBreakIteratorTests.java
src/test/java/org/apache/lucene/search/postingshighlight/XPostingsHighlighterTests.java
src/test/java/org/elasticsearch/ElasticsearchExceptionTests.java
src/test/java/org/elasticsearch/action/OriginalIndicesTests.java
src/test/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequestTest.java
src/test/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheBlocksTests.java
src/test/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsTests.java
src/test/java/org/elasticsearch/action/get/MultiGetShardRequestTests.java
src/test/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequestTests.java
src/test/java/org/elasticsearch/action/support/IndicesOptionsTests.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchShortCircuitBenchmark.java
src/test/java/org/elasticsearch/cluster/ClusterHealthResponsesTests.java
src/test/java/org/elasticsearch/cluster/ClusterStateDiffTests.java
src/test/java/org/elasticsearch/cluster/block/ClusterBlockTests.java
src/test/java/org/elasticsearch/cluster/node/DiscoveryNodeTests.java
src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java
src/test/java/org/elasticsearch/cluster/serialization/DiffableTests.java
src/test/java/org/elasticsearch/common/io/StreamsTests.java
src/test/java/org/elasticsearch/common/io/streams/BytesStreamsTests.java
src/test/java/org/elasticsearch/common/lucene/IndexCacheableQueryTests.java
src/test/java/org/elasticsearch/common/unit/TimeValueTests.java
src/test/java/org/elasticsearch/common/xcontent/XContentFactoryTests.java
src/test/java/org/elasticsearch/document/DocumentActionsTests.java
src/test/java/org/elasticsearch/index/IndexWithShadowReplicasTests.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
src/test/java/org/elasticsearch/index/fielddata/LongFieldDataTests.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
src/test/java/org/elasticsearch/index/store/CorruptedTranslogTests.java
src/test/java/org/elasticsearch/index/translog/BufferedTranslogTests.java
src/test/java/org/elasticsearch/index/translog/FsSimpleTranslogTests.java
src/test/java/org/elasticsearch/index/translog/TranslogTests.java
src/test/java/org/elasticsearch/index/translog/TranslogVersionTests.java
src/test/java/org/elasticsearch/indices/analyze/AnalyzeActionTests.java
src/test/java/org/elasticsearch/indices/recovery/RecoveryStateTest.java
src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
src/test/java/org/elasticsearch/recovery/RecoveryWhileUnderLoadTests.java
src/test/java/org/elasticsearch/search/aggregations/MissingValueTests.java
src/test/java/org/elasticsearch/search/aggregations/support/MissingValuesTests.java
src/test/java/org/elasticsearch/search/child/ParentFieldLoadingTest.java
src/test/java/org/elasticsearch/search/child/SimpleChildQuerySearchTests.java
src/test/java/org/elasticsearch/search/highlight/HighlighterSearchTests.java
src/test/java/org/elasticsearch/search/scan/ScanContextTests.java
src/test/java/org/elasticsearch/search/suggest/SuggestSearchTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
src/test/java/org/elasticsearch/test/rest/spec/RestSpec.java
src/test/java/org/elasticsearch/test/rest/support/FileUtils.java
src/test/java/org/elasticsearch/test/rest/test/FileUtilsTests.java
src/test/java/org/elasticsearch/test/transport/MockTransportService.java
src/test/java/org/elasticsearch/threadpool/ThreadPoolSerializationTests.java
src/test/java/org/elasticsearch/transport/TransportMessageTests.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-05-18T10:19:20Z
class:
src/main/java/org/elasticsearch/index/engine/CommitStats.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
add check at end of each test to see if documents are the same

time:
2015-05-18T10:17:55Z
class:
src/main/java/org/elasticsearch/index/query/BaseTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/QueryBuilder.java
src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTest.java
comments:
Query Refactoring: Add RangeQueryBuilder and Parser refactoring and test.

Split the parse(QueryParseContext ctx) method into a parsing and a query building part,
adding Streamable support for serialization and hashCode(), equals() for better testing.

This PR also adds test setup for two mappes fields (integer, date) to the BaseQueryTestCase
and introduces helper methods for optional conversion of String fields to BytesRef representation
that is shared with the already refactored BaseTermQueryBuilder.

Relates to #10217
Closes #11108

time:
2015-05-18T09:06:36Z
class:
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesResponse.java
src/main/java/org/elasticsearch/rest/action/admin/indices/seal/RestSealIndicesAction.java
comments:
add rest statuses but need to discuss if they are the right ones

time:
2015-05-18T09:03:11Z
class:
src/test/java/org/elasticsearch/index/store/CorruptedTranslogTests.java
src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreTests.java
src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
comments:
remove flushing before running checkindex

time:
2015-05-18T08:42:45Z
class:
src/main/java/org/elasticsearch/indices/cache/filter/IndicesFilterCache.java
comments:
Tests: Add information about shards that are not closed when the filter cache gets closed.

time:
2015-05-18T08:41:13Z
class:
src/main/java/org/elasticsearch/indices/SyncedFlushService.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
more comments and formatting

time:
2015-05-18T08:12:15Z
class:
src/main/java/org/elasticsearch/index/store/IndexStoreModule.java
src/test/java/org/elasticsearch/index/store/CorruptedTranslogTests.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Prevent MockStore where commits should be prevented on close

time:
2015-05-18T07:56:25Z
class:
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
comments:
[ENGINE] Remove the ability to flush without flushing the translog

This is a leftover from the times where we failed a flush when
recoveries are ongoing. This code is really not needed anymore and
we can luckily flush the translog all the time as well.

time:
2015-05-18T07:54:04Z
class:
src/main/java/org/elasticsearch/ElasticsearchException.java
src/main/java/org/elasticsearch/ExceptionsHelper.java
src/main/java/org/elasticsearch/action/ActionWriteResponse.java
src/main/java/org/elasticsearch/action/ShardOperationFailedException.java
src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java
src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
src/main/java/org/elasticsearch/action/percolate/PercolateResponse.java
src/main/java/org/elasticsearch/action/search/SearchPhaseExecutionException.java
src/main/java/org/elasticsearch/action/search/SearchResponse.java
src/main/java/org/elasticsearch/action/search/ShardSearchFailure.java
src/main/java/org/elasticsearch/action/support/DefaultShardOperationFailedException.java
src/main/java/org/elasticsearch/rest/action/admin/indices/cache/clear/RestClearIndicesCacheAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/flush/RestFlushAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/optimize/RestOptimizeAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/refresh/RestRefreshAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/segments/RestIndicesSegmentsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/stats/RestIndicesStatsAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/upgrade/RestUpgradeAction.java
src/main/java/org/elasticsearch/rest/action/admin/indices/validate/query/RestValidateQueryAction.java
src/main/java/org/elasticsearch/rest/action/bulk/RestBulkAction.java
src/main/java/org/elasticsearch/rest/action/count/RestCountAction.java
src/main/java/org/elasticsearch/rest/action/fieldstats/RestFieldStatsAction.java
src/main/java/org/elasticsearch/rest/action/suggest/RestSuggestAction.java
src/main/java/org/elasticsearch/rest/action/support/RestActions.java
src/main/java/org/elasticsearch/snapshots/Snapshot.java
src/main/java/org/elasticsearch/snapshots/SnapshotInfo.java
src/main/java/org/elasticsearch/snapshots/SnapshotShardFailure.java
comments:
Implement toXContent on ShardOpertionFailureException

ShardOperationFailureException implementations alread provide structured
exception support but it's not yet exposed on the interface. This change
allows nice rendering of structured REST exceptions also if searches fail on
only a subset of the shards etc.

Closes #11017

time:
2015-05-18T07:48:36Z
class:
src/main/java/org/elasticsearch/index/query/BaseTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermQueryParser.java
src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
src/test/java/org/elasticsearch/index/query/BaseTermQueryTestCase.java
src/test/java/org/elasticsearch/index/query/SpanTermQueryBuilderTest.java
src/test/java/org/elasticsearch/index/query/TermQueryBuilderTest.java
comments:
Merge pull request #11005 from MaineC/feature/span-term-query-refactoring

Refactors SpanTermQueryBuilder.

Due to similarities with TermQueryBuilder a lot of code was moved into separate abstract classes that can be used by both - TermQueryBuilder and SpanTermQueryBuilder.

Relates to #10217

time:
2015-05-18T07:45:33Z
class:
src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
comments:
Adjusting SpanTermQuery to work w/ latest changes.

One final refactoring of the SpanTermQuery - makes sure the class hierarchy works again.

Relates to #10217

time:
2015-05-18T07:45:28Z
class:
src/main/java/org/elasticsearch/index/query/BaseTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
src/main/java/org/elasticsearch/index/query/TermQueryParser.java
src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
src/test/java/org/elasticsearch/index/query/BaseTermQueryTestCase.java
src/test/java/org/elasticsearch/index/query/SpanTermQueryBuilderTest.java
src/test/java/org/elasticsearch/index/query/TermQueryBuilderTest.java
comments:
Refactors SpanTermQueryBuilder.

This attempts to do to SpanTermQueryBuilder what has already been changed for TermQueryBuilder. The commit tries to avoid code duplication where possible by pulling what is the same for both QueryBuilders and tests into separate classes.

Relates to #10217

time:
2015-05-18T07:42:51Z
class:
src/main/java/org/elasticsearch/action/termvectors/TermVectorsFields.java
src/main/java/org/elasticsearch/cluster/ClusterState.java
src/main/java/org/elasticsearch/common/bytes/BytesArray.java
src/main/java/org/elasticsearch/common/io/stream/ByteBufferStreamInput.java
src/main/java/org/elasticsearch/common/io/stream/BytesStreamInput.java
src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
src/main/java/org/elasticsearch/common/settings/loader/PropertiesSettingsLoader.java
src/main/java/org/elasticsearch/common/xcontent/XContentHelper.java
src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java
src/main/java/org/elasticsearch/index/engine/EngineConfig.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/InternalEngineFactory.java
src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/index/translog/BufferedChecksumStreamInput.java
src/main/java/org/elasticsearch/index/translog/BufferingTranslogWriter.java
src/main/java/org/elasticsearch/index/translog/ChannelReader.java
src/main/java/org/elasticsearch/index/translog/ChannelReference.java
src/main/java/org/elasticsearch/index/translog/ChannelSnapshot.java
src/main/java/org/elasticsearch/index/translog/Checkpoint.java
src/main/java/org/elasticsearch/index/translog/ChecksummedTranslogStream.java
src/main/java/org/elasticsearch/index/translog/ImmutableTranslogReader.java
src/main/java/org/elasticsearch/index/translog/LegacyTranslogReader.java
src/main/java/org/elasticsearch/index/translog/LegacyTranslogReaderBase.java
src/main/java/org/elasticsearch/index/translog/MultiSnapshot.java
src/main/java/org/elasticsearch/index/translog/Translog.java
src/main/java/org/elasticsearch/index/translog/TranslogConfig.java
src/main/java/org/elasticsearch/index/translog/TranslogReader.java
src/main/java/org/elasticsearch/index/translog/TranslogStream.java
src/main/java/org/elasticsearch/index/translog/TranslogStreams.java
src/main/java/org/elasticsearch/index/translog/TranslogWriter.java
src/main/java/org/elasticsearch/index/translog/TruncatedTranslogException.java
src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
src/main/java/org/elasticsearch/indices/recovery/RecoveryTranslogOperationsRequest.java
src/main/java/org/elasticsearch/indices/recovery/SharedFSRecoverySourceHandler.java
src/main/java/org/elasticsearch/transport/local/LocalTransport.java
src/test/java/org/elasticsearch/ElasticsearchExceptionTests.java
src/test/java/org/elasticsearch/action/OriginalIndicesTests.java
src/test/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequestTest.java
src/test/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsTests.java
src/test/java/org/elasticsearch/action/get/MultiGetShardRequestTests.java
src/test/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequestTests.java
src/test/java/org/elasticsearch/action/support/IndicesOptionsTests.java
src/test/java/org/elasticsearch/cluster/ClusterHealthResponsesTests.java
src/test/java/org/elasticsearch/cluster/ClusterStateDiffTests.java
src/test/java/org/elasticsearch/cluster/block/ClusterBlockTests.java
src/test/java/org/elasticsearch/cluster/node/DiscoveryNodeTests.java
src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java
src/test/java/org/elasticsearch/cluster/serialization/DiffableTests.java
src/test/java/org/elasticsearch/common/io/StreamsTests.java
src/test/java/org/elasticsearch/common/io/streams/BytesStreamsTests.java
src/test/java/org/elasticsearch/common/unit/TimeValueTests.java
src/test/java/org/elasticsearch/common/xcontent/XContentFactoryTests.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
src/test/java/org/elasticsearch/index/store/CorruptedTranslogTests.java
src/test/java/org/elasticsearch/index/translog/BufferedTranslogTests.java
src/test/java/org/elasticsearch/index/translog/FsSimpleTranslogTests.java
src/test/java/org/elasticsearch/index/translog/TranslogTests.java
src/test/java/org/elasticsearch/index/translog/TranslogVersionTests.java
src/test/java/org/elasticsearch/indices/recovery/RecoveryStateTest.java
src/test/java/org/elasticsearch/indices/stats/IndexStatsTests.java
src/test/java/org/elasticsearch/recovery/RecoveryWhileUnderLoadTests.java
src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
src/test/java/org/elasticsearch/test/InternalTestCluster.java
src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
src/test/java/org/elasticsearch/test/transport/MockTransportService.java
src/test/java/org/elasticsearch/threadpool/ThreadPoolSerializationTests.java
src/test/java/org/elasticsearch/transport/TransportMessageTests.java
comments:
Merge pull request #11143 from elastic/feature/translog_checkpoints

Add translog checkpoints to prevent translog corruption

Closes to #10933
Relates to #11011

time:
2015-05-18T06:38:10Z
class:
src/test/java/org/elasticsearch/common/lucene/IndexCacheableQueryTests.java
comments:
Tests: Mark IndexCacheableQueryTests.testCache as @AwaitsFix.

time:
2015-05-17T20:12:31Z
class:
src/main/java/org/elasticsearch/indices/SyncedFlushService.java
comments:
comments for SyncedFlushService

time:
2015-05-17T19:42:27Z
class:
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesRequest.java
comments:
inherit from BroadcastOperationRequest

time:
2015-05-17T19:34:35Z
class:
src/main/java/org/elasticsearch/action/admin/indices/seal/TransportSealIndicesAction.java
src/test/java/org/elasticsearch/indices/SealTests.java
comments:
add error for inactive primary

time:
2015-05-17T19:29:31Z
class:
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/indices/SyncedFlushService.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
comments:
remove FAILED suffix

time:
2015-05-17T19:29:31Z
class:
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/indices/SyncedFlushService.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
comments:
remove impl details from method name

time:
2015-05-17T19:29:31Z
class:
src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
comments:
assign variables

time:
2015-05-17T19:29:30Z
class:
src/main/java/org/elasticsearch/action/admin/indices/seal/SealIndicesResponse.java
comments:
final

time:
2015-05-17T19:29:24Z
class:
src/main/java/org/elasticsearch/index/engine/Engine.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
src/main/java/org/elasticsearch/index/shard/IndexShard.java
src/main/java/org/elasticsearch/indices/SyncedFlushService.java
src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
src/test/java/org/elasticsearch/indices/SycnedFlushSingleNodeTest.java
comments:
use imutable object for commit id

time:
2015-05-17T18:26:13Z
class:
src/test/java/org/elasticsearch/search/suggest/SuggestSearchTests.java
comments:
[TEST] use correct index name created for this test

time:
2015-05-17T18:11:19Z
class:
src/main/java/org/apache/lucene/search/postingshighlight/CustomPassageFormatter.java
src/main/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighter.java
src/main/java/org/apache/lucene/search/postingshighlight/CustomSeparatorBreakIterator.java
src/main/java/org/apache/lucene/search/postingshighlight/Snippet.java
src/main/java/org/apache/lucene/search/postingshighlight/XPostingsHighlighter.java
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
src/main/java/org/elasticsearch/common/lucene/docset/AllDocIdSet.java
src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
src/main/java/org/elasticsearch/search/aggregations/bucket/terms/support/IncludeExclude.java
src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
src/main/java/org/elasticsearch/search/highlight/HighlightUtils.java
src/main/java/org/elasticsearch/search/highlight/HighlighterParseElement.java
src/main/java/org/elasticsearch/search/highlight/PostingsHighlighter.java
src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
src/main/java/org/elasticsearch/search/scan/ScanContext.java
src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
src/test/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighterTests.java
src/test/java/org/apache/lucene/search/postingshighlight/CustomSeparatorBreakIteratorTests.java
src/test/java/org/apache/lucene/search/postingshighlight/XPostingsHighlighterTests.java
src/test/java/org/elasticsearch/index/IndexWithShadowReplicasTests.java
src/test/java/org/elasticsearch/search/highlight/HighlighterSearchTests.java
src/test/java/org/elasticsearch/search/scan/ScanContextTests.java
src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
src/test/java/org/elasticsearch/test/rest/spec/RestSpec.java
src/test/java/org/elasticsearch/test/rest/support/FileUtils.java
src/test/java/org/elasticsearch/test/rest/test/FileUtilsTests.java
comments:
Merge branch 'master' into feature/translog_checkpoints

Conflicts:
	src/main/java/org/elasticsearch/index/engine/InternalEngine.java

time:
2015-05-15T23:54:35Z
class:
src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/TransportCreateSnapshotAction.java
src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
comments:
Snapshot/Restore: Fix cluster state task name for update snapshot task

This commit fixes the name of the upated_snapshot task from something like "update_snapshot [org.elasticsearch.cluster.metadata.SnapshotMetaData$Entry@de00bc50]" to a more readable "update_snapshot [test-snap]"

time:
2015-05-15T22:08:03Z
class:
src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
src/test/java/org/elasticsearch/index/IndexWithShadowReplicasTests.java
comments:
[GATEWAY] When using `recover_on_any_node`, respect Deciders

When in a shared filesystem environment and recovering the primary to
any node. We should respect the allocation deciders if possible (still
force-allocting to another node if there aren't any "YES" decisions).

The AllocationDeciders should take precedence over the shard state
version when force-allocating an unassigned primary shard.

time:
2015-05-15T20:52:44Z
class:
comments:
Merge pull request #11194 from rmuir/mockito

allow mockito to be used in tests

time:
2015-05-15T20:33:24Z
class:
comments:
allow mockito to be used in tests

time:
2015-05-15T20:33:08Z
class:
comments:
Merge branch 'master' of github.com:rmuir/elasticsearch

time:
2015-05-15T20:16:24Z
class:
src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
src/test/java/org/elasticsearch/test/rest/spec/RestSpec.java
src/test/java/org/elasticsearch/test/rest/support/FileUtils.java
src/test/java/org/elasticsearch/test/rest/test/FileUtilsTests.java
comments:
include rest tests in test-framework.jar

Closes #11192 which I accidentally already closed.

Squashed commit of the following:

commit f23faccddc2a77a880841da4c89c494edaa2aa46
Author: Robert Muir <rmuir@apache.org>
Date:   Fri May 15 16:04:55 2015 -0400

    Simplify this FileUtils even more: its either from the filesystem, or the classpath,
    not both. Its already trying 4 different combinations of crazy paths for either of these anyway.

commit c7016c8a2b5a6043e2ded4b48b160821ba196974
Author: Robert Muir <rmuir@apache.org>
Date:   Fri May 15 14:21:37 2015 -0400

    include rest tests in test-framework jar

time:
2015-05-15T20:15:23Z
class:
src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
src/test/java/org/elasticsearch/test/rest/spec/RestSpec.java
src/test/java/org/elasticsearch/test/rest/support/FileUtils.java
src/test/java/org/elasticsearch/test/rest/test/FileUtilsTests.java
comments:
include rest tests in test-framework.jar

Closes #11192 which I accidentally already closed.

Squashed commit of the following:

commit f23faccddc2a77a880841da4c89c494edaa2aa46
Author: Robert Muir <rmuir@apache.org>
Date:   Fri May 15 16:04:55 2015 -0400

    Simplify this FileUtils even more: its either from the filesystem, or the classpath,
    not both. Its already trying 4 different combinations of crazy paths for either of these anyway.

commit c7016c8a2b5a6043e2ded4b48b160821ba196974
Author: Robert Muir <rmuir@apache.org>
Date:   Fri May 15 14:21:37 2015 -0400

    include rest tests in test-framework jar

time:
2015-05-15T20:02:00Z
class:
src/main/java/org/elasticsearch/index/engine/InternalEngine.java
comments:
Make SearchFactory static class in InternalEngine

Now that lucene provides a way to identify if the warming reader is
the first initial opened reader we can detach this class from the
enclosing and make it static. This is important since it might access
not fully initialized members of the enclosing class since it's initialized
and used during constructor invocation.

time:
2015-05-15T19:38:45Z
class:
src/main/java/org/elasticsearch/search/highlight/HighlighterParseElement.java
src/test/java/org/elasticsearch/search/highlight/HighlighterSearchTests.java
comments:
Highlighting: require_field_match set to true by default

The default `false` for `require_field_match` is a bit odd and confusing for users, given that field names get ignored by default and every field gets highlighted if it contains terms extracted out of the query, regardless of which fields were queries. Changed the default to `true`, it can always be changed per request.

Closes #10627
Closes #11067

time:
2015-05-15T19:25:11Z
class:
comments:
Docs: Fixed explanation of AUTO fuzziness

Closes #11186

time:
2015-05-15T19:25:11Z
class:
comments:
Added an R client to community clients page

I maintain an R client called `elastic` at https://github.com/ropensci/elastic

