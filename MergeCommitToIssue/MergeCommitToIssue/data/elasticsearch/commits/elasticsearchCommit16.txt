time:
2015-08-31T15:03:45Z
class:
comments:
update list of available os stats

os cpu information is no longer exposed through the nodes stats api

time:
2015-08-31T14:58:03Z
class:
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/ExternalTestCluster.java
comments:
test: The transport client that interacts with the external cluster shoud be provided a list of transport client plugins.

time:
2015-08-31T14:54:26Z
class:
comments:
Merge pull request #13221 from nik9000/force_virtualbox

Lock vagrant to virtualbox

time:
2015-08-31T14:52:09Z
class:
comments:
[docs] Lock vagrant to virtualbox

time:
2015-08-31T14:45:46Z
class:
comments:
[packaging] Lock vagrant to virtualbox

Virtualbox is the default virtualization provier for vagrant but folks
override that from time to time. If they do then the build will fail because
the boxes used by the build don't usually support non-virtualbox providers.

Closes #13217

time:
2015-08-31T14:23:54Z
class:
comments:
Add note about multi data path and disk threshold deciders

Prior to 2.0 we summed up the available space on all disk on a node
due to the raid-0 like behavior. Now we don't do this anymore and use the
min & max disk space to make decisions.

Closes #13106

time:
2015-08-31T13:53:57Z
class:
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
comments:
Merge pull request #13218 from brwe/resolve-index-default-impl

add default impl for resolveIndex()

time:
2015-08-31T13:52:19Z
class:
core/src/main/java/org/elasticsearch/index/shard/MergePolicyConfig.java
core/src/main/java/org/elasticsearch/index/shard/MergeSchedulerConfig.java
comments:
Merge pull request #13199 from mikemccand/remove_merge_docs

Move expert segment merge settings documentation off site into javadocs.

time:
2015-08-31T13:48:32Z
class:
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
comments:
add default impl for resolveIndex()

time:
2015-08-31T12:30:43Z
class:
core/src/main/java/org/elasticsearch/threadpool/ThreadPoolStats.java
core/src/test/java/org/elasticsearch/threadpool/ThreadPoolStatsTests.java
comments:
Sort thread pools by name in Nodes Stats

time:
2015-08-31T11:47:40Z
class:
comments:
Docs: Fixed variations of spelling of buckets_path

Closes #13201

time:
2015-08-31T11:33:10Z
class:
comments:
cmd /C needs to be quoted as a whole

To support spaces in both the command as well as its arguments cmd needs
be called like this:

cmd /C ""c:\a b\c.bat" "argument 1" "argument2""

ant was running

cmd /C "c:\a b\c.bat" "argument 1" "argument2"

which in windows causes to be preprocessed to

cmd /C c:\a b\c.bat" "argument 1" "argument2

Which would make it appear as though ant was not properly quoting (which
it did sort of).

time:
2015-08-31T11:28:48Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/ShardOptimizeRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/ShardOptimizeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/RecoveryResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/ShardRecoveryResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/ShardSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/TransportUpgradeStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/ShardUpgradeResult.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeAction.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/cluster/ClusterInfo.java
core/src/main/java/org/elasticsearch/cluster/DiskUsage.java
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressor.java
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/shard/ShardPath.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestRecoveryAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestSegmentsAction.java
core/src/main/java/org/elasticsearch/rest/action/support/RestTable.java
core/src/main/java/org/elasticsearch/transport/RequestHandlerRegistry.java
core/src/main/java/org/elasticsearch/transport/TransportModule.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/test/java/org/elasticsearch/action/IndicesRequestIT.java
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
core/src/test/java/org/elasticsearch/benchmark/recovery/ReplicaRecoveryBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/scripts/expression/ScriptComparisonBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/ScriptsConstantScoreBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/ScriptsScoreBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/ScriptsScorePayloadSumBenchmark.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientHeadersTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/DiskUsageTests.java
core/src/test/java/org/elasticsearch/cluster/MockInternalClusterInfoService.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingTableTest.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ExpectedShardSizeAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RebalanceAfterActiveTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsFilteringIT.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/discovery/ZenUnicastDiscoveryIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryIT.java
core/src/test/java/org/elasticsearch/document/ShardInfoIT.java
core/src/test/java/org/elasticsearch/gateway/RecoveryBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayIT.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalValuesMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/query/plugin/CustomQueryParserIT.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/shard/NewPathForShardTest.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedTranslogIT.java
core/src/test/java/org/elasticsearch/index/store/ExceptionRetryIT.java
core/src/test/java/org/elasticsearch/indices/analysis/PreBuiltAnalyzerIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerIT.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/template/IndexTemplateFilteringIT.java
core/src/test/java/org/elasticsearch/indices/warmer/SimpleIndicesWarmerIT.java
core/src/test/java/org/elasticsearch/node/MockNode.java
core/src/test/java/org/elasticsearch/nodesinfo/SimpleNodesInfoIT.java
core/src/test/java/org/elasticsearch/plugins/PluggableTransportModuleIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
core/src/test/java/org/elasticsearch/plugins/PluginTestCase.java
core/src/test/java/org/elasticsearch/plugins/PluginsServiceTests.java
core/src/test/java/org/elasticsearch/plugins/ResponseHeaderPluginIT.java
core/src/test/java/org/elasticsearch/recovery/RecoveryWhileUnderLoadIT.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/recovery/TruncatedRecoveryIT.java
core/src/test/java/org/elasticsearch/script/CustomScriptContextIT.java
core/src/test/java/org/elasticsearch/script/ScriptFieldIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWithRandomIOExceptionsIT.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScorePluginIT.java
core/src/test/java/org/elasticsearch/search/highlight/CustomHighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggesterSearchIT.java
core/src/test/java/org/elasticsearch/snapshots/AbstractSnapshotIntegTestCase.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/test/ESBackcompatTestCase.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/ExternalNode.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/NodeConfigurationSource.java
core/src/test/java/org/elasticsearch/test/discovery/ClusterDiscoveryConfiguration.java
core/src/test/java/org/elasticsearch/test/disruption/NetworkPartitionIT.java
core/src/test/java/org/elasticsearch/test/test/InternalTestClusterTests.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
core/src/test/java/org/elasticsearch/update/UpdateByNativeScriptIT.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryITest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryUpdateSettingsITest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/repositories/s3/AbstractS3SnapshotRestoreTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureComputeServiceTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureRepositoryServiceTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureMinimumMasterNodesTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureSimpleTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureTwoStartedNodesTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/index/store/AbstractAzureFsTest.java
plugins/delete-by-query/src/test/java/org/elasticsearch/plugin/deletebyquery/DeleteByQueryTests.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/SizeMappingIT.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-08-31T11:14:53Z
class:
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
comments:
Internal: remove unused method from QueryParseContext and add comments

time:
2015-08-31T10:02:08Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/TransportUpgradeStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/ShardUpgradeResult.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
comments:
Merge pull request #13205 from jasontedor/feature/13204

Convert upgrade action to broadcast by node

time:
2015-08-31T09:59:57Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/TransportUpgradeStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/ShardUpgradeResult.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
comments:
Convert upgrade action to broadcast by node

Several shard-level operations that previously broadcasted a request
per shard were converted to broadcast a request per node. This commit
converts upgrade action to this new model as well.

Closes #13204

time:
2015-08-31T09:45:38Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
comments:
Plugins: Replace HTTP urls with HTTPS

Switch to use HTTPS by default for all hardcoded plugin URLs.
If users want to install via HTTP they can still specify a HTTP
URL manually.

Closes #12748

time:
2015-08-31T08:56:42Z
class:
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
comments:
Tests: Ensure binding on localhost host is consistently ipv4/v6

The current netty multiport tests bind on localhost and then try to connect
to 127.0.0.1, which may fail, if localhost is resolved to ipv6 by default.

This randomly chooses between 127.0.0.1, localhost and ::1 (if available) for
binding and then uses this throughout the test.

time:
2015-08-31T08:42:38Z
class:
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
comments:
Internal: call context.handleTermsLookup rather than context.indexQueryParserService().handleTermsLookup() in TermsQueryBuilder#toQuery

time:
2015-08-31T08:41:38Z
class:
core/src/main/java/org/elasticsearch/index/query/support/XContentStructure.java
comments:
Internal: add comments to XContentStructure

Added comments to make sure we don't forget to remove the class once the refactoring is done.

time:
2015-08-31T08:40:42Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/cluster/ClusterInfo.java
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/DiskUsageTests.java
core/src/test/java/org/elasticsearch/cluster/MockInternalClusterInfoService.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
Take Shard data path into account in DiskThresholdDecider

The path that a shard is allocated on is not taken into account when
we decide to move a shard away from a node because it passed a watermark.
Even worse we potentially moved away (relocated) a shard that was not even
allocated on that disk but on another on the node in question. This commit
adds a ShardRouting -> dataPath mapping to ClusterInfo that allows to identify
on which disk the shards are allocated on.

Relates to #13106

time:
2015-08-31T08:15:05Z
class:
core/src/test/java/org/elasticsearch/index/search/child/AbstractChildTestCase.java
comments:
[TEST] don't use deprecated methods in AbstractChildTestCase

time:
2015-08-31T08:05:47Z
class:
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
comments:
Internal: small QueryShardContext cleanup

Added some comments about changes that we might be able to make later on in the refactoring. Also exposed handleTermsLookup in the context directly, removed unused similarityService getter and corrected simpleMatchToIndexNames call according to changes happened on master (the method variant that accept types will go away, types are ignored anyway).

time:
2015-08-31T08:01:56Z
class:
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
comments:
Internal: MoreLikeThisQueryParser to refer to index taken from QueryShardContext rather than QueryParseContext

The reason behind this change is that we will soon remove the index member from QueryParseContext, as parsing will be independent of the index it happens against.

time:
2015-08-31T08:00:09Z
class:
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
comments:
[TEST] refactor DummyQueryBuilder and corresponding parser

DummyQueryParser properly implements now fromXContent and the corresponding builder supports converting to the corresponding lucene query through toQuery method.

time:
2015-08-31T07:58:22Z
class:
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
comments:
Simplify XContent representation of BoolQueryBuilder to always print out an array

time:
2015-08-31T07:55:37Z
class:
core/src/test/java/org/elasticsearch/index/query/AndQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/FQueryFilterBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/NotQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/OrQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/QueryFilterBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/SpanFirstQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/SpanNotQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTest.java
comments:
[TEST] parse queries through QueryParseContext in BaseQueryTestCase#parseQuery

This allows us to remove the string argument from the parseQuery method and the need for removing the first few tokens from the query, as the selected parser knows only about his portion of dsl.

time:
2015-08-31T06:05:38Z
class:
core/src/main/java/org/elasticsearch/index/analysis/NamedAnalyzer.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeLookupTests.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/core/BinaryFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/BooleanFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/ByteFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/CompletionFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/DateFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/DoubleFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/FloatFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/IntegerFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/LongFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/ShortFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/merge/JavaMultiFieldMergeTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterIT.java
comments:
Mappings: Fix numerous checks for equality and compatibility

The field type tests for mappings had a huge hole: check compatibility
was not tested directly at all! I had meant for this to happen in a
follow up after #8871, and was relying on existing mapping tests.
However, there were a number of issues.

This change reworks the fieldtype tests to be able to check all settable
properties on a field type work with checkCompatibility. It fixes a
handful of small bugs in various field types. In particular, analyzer
comparison was just wrong: it was comparing reference equality for
search analyzer instead of the analyzer name. There was also no check
for search quote analyzer.

closes #13112

time:
2015-08-30T23:40:49Z
class:
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/transport/TransportModule.java
core/src/test/java/org/elasticsearch/action/IndicesRequestIT.java
core/src/test/java/org/elasticsearch/benchmark/scripts/expression/ScriptComparisonBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/ScriptsConstantScoreBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/ScriptsScoreBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/ScriptsScorePayloadSumBenchmark.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientHeadersTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsFilteringIT.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/discovery/ZenUnicastDiscoveryIT.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalValuesMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/query/plugin/CustomQueryParserIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedTranslogIT.java
core/src/test/java/org/elasticsearch/index/store/ExceptionRetryIT.java
core/src/test/java/org/elasticsearch/indices/analysis/PreBuiltAnalyzerIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerIT.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/template/IndexTemplateFilteringIT.java
core/src/test/java/org/elasticsearch/node/MockNode.java
core/src/test/java/org/elasticsearch/nodesinfo/SimpleNodesInfoIT.java
core/src/test/java/org/elasticsearch/plugins/PluggableTransportModuleIT.java
core/src/test/java/org/elasticsearch/plugins/PluginTestCase.java
core/src/test/java/org/elasticsearch/plugins/PluginsServiceTests.java
core/src/test/java/org/elasticsearch/plugins/ResponseHeaderPluginIT.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/recovery/TruncatedRecoveryIT.java
core/src/test/java/org/elasticsearch/script/CustomScriptContextIT.java
core/src/test/java/org/elasticsearch/script/ScriptFieldIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWithRandomIOExceptionsIT.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScorePluginIT.java
core/src/test/java/org/elasticsearch/search/highlight/CustomHighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggesterSearchIT.java
core/src/test/java/org/elasticsearch/snapshots/AbstractSnapshotIntegTestCase.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/test/ESBackcompatTestCase.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/ExternalNode.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/NodeConfigurationSource.java
core/src/test/java/org/elasticsearch/test/discovery/ClusterDiscoveryConfiguration.java
core/src/test/java/org/elasticsearch/test/disruption/NetworkPartitionIT.java
core/src/test/java/org/elasticsearch/test/test/InternalTestClusterTests.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportIT.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
core/src/test/java/org/elasticsearch/update/UpdateByNativeScriptIT.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryITest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryUpdateSettingsITest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/repositories/s3/AbstractS3SnapshotRestoreTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureComputeServiceTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureRepositoryServiceTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureMinimumMasterNodesTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureSimpleTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureTwoStartedNodesTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/index/store/AbstractAzureFsTest.java
plugins/delete-by-query/src/test/java/org/elasticsearch/plugin/deletebyquery/DeleteByQueryTests.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/SizeMappingIT.java
comments:
Merge pull request #13055 from rjernst/tell_me_your_plugins

Plugins: Removed plugin.types

time:
2015-08-30T22:14:47Z
class:
core/src/main/java/org/elasticsearch/index/shard/MergePolicyConfig.java
core/src/main/java/org/elasticsearch/index/shard/MergeSchedulerConfig.java
comments:
copy over merge docs as javadocs

time:
2015-08-30T21:20:54Z
class:
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/apache/lucene/queryparser/classic/QueryParserSettings.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/ShardOptimizeRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/RecoveryResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/ShardRecoveryResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndexSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/ShardSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndexStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/get/GetIndexTemplatesResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/get/TransportGetIndexTemplatesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/IndexUpgradeStatus.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/TransportUpgradeStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
core/src/main/java/org/elasticsearch/action/percolate/MultiPercolateRequest.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateRequest.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java
core/src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
core/src/main/java/org/elasticsearch/action/search/ClearScrollRequest.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
core/src/main/java/org/elasticsearch/action/search/TransportClearScrollAction.java
core/src/main/java/org/elasticsearch/action/search/type/ParsedScrollId.java
core/src/main/java/org/elasticsearch/action/search/type/ScrollIdForNode.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchHelper.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryAndFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryThenFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollScanAction.java
core/src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
core/src/main/java/org/elasticsearch/action/support/AbstractListenableActionFuture.java
core/src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastAction.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeAction.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/termvectors/dfs/TransportDfsOnlyAction.java
core/src/main/java/org/elasticsearch/action/update/UpdateHelper.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequest.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequestBuilder.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java
core/src/main/java/org/elasticsearch/cluster/ClusterInfo.java
core/src/main/java/org/elasticsearch/cluster/DiffableUtils.java
core/src/main/java/org/elasticsearch/cluster/DiskUsage.java
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTableValidation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationExplanation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingExplanations.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommands.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/Decision.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/ValidationException.java
core/src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressor.java
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
core/src/main/java/org/elasticsearch/common/inject/BindingProcessor.java
core/src/main/java/org/elasticsearch/common/inject/DeferredLookups.java
core/src/main/java/org/elasticsearch/common/inject/EncounterImpl.java
core/src/main/java/org/elasticsearch/common/inject/InheritingState.java
core/src/main/java/org/elasticsearch/common/inject/Initializer.java
core/src/main/java/org/elasticsearch/common/inject/InjectionRequestProcessor.java
core/src/main/java/org/elasticsearch/common/inject/InjectorImpl.java
core/src/main/java/org/elasticsearch/common/inject/InjectorShell.java
core/src/main/java/org/elasticsearch/common/inject/MembersInjectorStore.java
core/src/main/java/org/elasticsearch/common/inject/ModulesBuilder.java
core/src/main/java/org/elasticsearch/common/inject/PrivateElementProcessor.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/AssistedConstructor.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider2.java
core/src/main/java/org/elasticsearch/common/inject/internal/Errors.java
core/src/main/java/org/elasticsearch/common/inject/internal/Join.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/ProviderMethodsModule.java
core/src/main/java/org/elasticsearch/common/inject/internal/SourceProvider.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/Multibinder.java
core/src/main/java/org/elasticsearch/common/inject/spi/Dependency.java
core/src/main/java/org/elasticsearch/common/inject/spi/Elements.java
core/src/main/java/org/elasticsearch/common/inject/spi/InjectionPoint.java
core/src/main/java/org/elasticsearch/common/inject/util/Modules.java
core/src/main/java/org/elasticsearch/common/io/Streams.java
core/src/main/java/org/elasticsearch/common/logging/Loggers.java
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllEntries.java
core/src/main/java/org/elasticsearch/common/lucene/index/FilterableTermsEnum.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/settings/SettingsFilter.java
core/src/main/java/org/elasticsearch/common/settings/loader/PropertiesSettingsLoader.java
core/src/main/java/org/elasticsearch/common/settings/loader/SettingsLoader.java
core/src/main/java/org/elasticsearch/common/settings/loader/XContentSettingsLoader.java
core/src/main/java/org/elasticsearch/common/util/CollectionUtils.java
core/src/main/java/org/elasticsearch/common/util/MultiDataPathUpgrader.java
core/src/main/java/org/elasticsearch/common/util/concurrent/PrioritizedEsThreadPoolExecutor.java
core/src/main/java/org/elasticsearch/common/xcontent/support/XContentMapValues.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/elect/ElectMasterService.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
core/src/main/java/org/elasticsearch/index/analysis/CustomAnalyzer.java
core/src/main/java/org/elasticsearch/index/analysis/CustomAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/NamedAnalyzer.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/get/GetResult.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperForType.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/ParseContext.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/RootObjectMapper.java
core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/AndQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
core/src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/OrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/support/InnerHitsQueryParserHelper.java
core/src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
core/src/main/java/org/elasticsearch/index/shard/CommitPoints.java
core/src/main/java/org/elasticsearch/index/shard/ElasticsearchMergePolicy.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShardPath.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshot.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshots.java
core/src/main/java/org/elasticsearch/index/termvectors/ShardTermVectorsService.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/IndicesWarmer.java
core/src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
core/src/main/java/org/elasticsearch/indices/breaker/HierarchyCircuitBreakerService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryResponse.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTranslogOperationsRequest.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/percolator/QueryCollector.java
core/src/main/java/org/elasticsearch/repositories/Repository.java
core/src/main/java/org/elasticsearch/repositories/VerifyNodeRepositoryAction.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
core/src/main/java/org/elasticsearch/repositories/uri/URLRepository.java
core/src/main/java/org/elasticsearch/rest/RestModule.java
core/src/main/java/org/elasticsearch/rest/RestResponse.java
core/src/main/java/org/elasticsearch/rest/action/RestActionModule.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestRecoveryAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestSegmentsAction.java
core/src/main/java/org/elasticsearch/rest/action/delete/RestDeleteAction.java
core/src/main/java/org/elasticsearch/rest/action/index/RestIndexAction.java
core/src/main/java/org/elasticsearch/rest/action/support/RestTable.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregation.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregations.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/InternalFilters.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/InternalHistogram.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/AbstractRangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/InternalRange.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/SiblingPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/cumulativesum/CumulativeSumPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/DerivativePipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/explain/ExplainFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsContext.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsSubSearchContext.java
core/src/main/java/org/elasticsearch/search/fetch/matchedqueries/MatchedQueriesFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/script/ScriptFieldsContext.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightBuilder.java
core/src/main/java/org/elasticsearch/search/highlight/HighlighterParseElement.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/sort/SortParseElement.java
core/src/main/java/org/elasticsearch/search/suggest/context/CategoryContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/context/ContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/context/GeolocationContextMapping.java
core/src/main/java/org/elasticsearch/search/warmer/IndexWarmersMetaData.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/main/java/org/elasticsearch/transport/RequestHandlerRegistry.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
core/src/test/java/org/elasticsearch/action/IndicesRequestIT.java
core/src/test/java/org/elasticsearch/action/RejectionActionIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
core/src/test/java/org/elasticsearch/action/support/TransportActionFilterChainTests.java
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
core/src/test/java/org/elasticsearch/benchmark/recovery/ReplicaRecoveryBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/SubAggregationSearchCollectModeBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/TimeDataHistogramAggregationBenchmark.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/DiskUsageTests.java
core/src/test/java/org/elasticsearch/cluster/MockInternalClusterInfoService.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingTableTest.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AddIncrementallyTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ExpectedShardSizeAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RebalanceAfterActiveTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardNoReplicasRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsFilteringIT.java
core/src/test/java/org/elasticsearch/common/StringsTests.java
core/src/test/java/org/elasticsearch/common/lucene/index/FreqTermsEnumTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/JsonSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/PropertiesSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/YamlSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/util/CollectionUtilsTests.java
comments:
Merge branch 'master' into tell_me_your_plugins

time:
2015-08-30T19:14:18Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java
comments:
Merge pull request #13137 from rjernst/empty_doc_again

Fix doc parser to still pre/post process metadata fields on disabled type

time:
2015-08-30T18:56:34Z
class:
core/src/main/java/org/elasticsearch/index/indexing/IndexingOperationListener.java
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
comments:
Fix 13202

time:
2015-08-30T18:19:30Z
class:
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
comments:
Remove leftover debugging statement

time:
2015-08-30T10:48:13Z
class:
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
comments:
IndicesStatsAction is now a per node operation

time:
2015-08-29T21:21:46Z
class:
comments:
Don't document expert segment merge settings

time:
2015-08-29T21:00:45Z
class:
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
comments:
Installing plugin without checksums ends up downloading from github

```sh
bin/plugin install lmenezes/elasticsearch-kopf/develop
-> Installing lmenezes/elasticsearch-kopf/develop...
Trying http://download.elastic.co/lmenezes/elasticsearch-kopf/elasticsearch-kopf-develop.zip ...
Trying http://search.maven.org/remotecontent?filepath=lmenezes/elasticsearch-kopf/develop/elasticsearch-kopf-develop.zip ...
Trying https://oss.sonatype.org/service/local/repositories/releases/content/lmenezes/elasticsearch-kopf/develop/elasticsearch-kopf-develop.zip ...
Trying https://github.com/lmenezes/elasticsearch-kopf/archive/develop.zip ...
Downloading .................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................DONE
Verifying https://github.com/lmenezes/elasticsearch-kopf/archive/develop.zip checksums if available ...
Trying https://github.com/lmenezes/elasticsearch-kopf/archive/master.zip ...
Downloading ....................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................DONE
Verifying https://github.com/lmenezes/elasticsearch-kopf/archive/master.zip checksums if available ...
```

This happens because we don't have anymore ElasticsearchWrapperException here but standard java exceptions.

Closes #13196.

time:
2015-08-29T20:45:29Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/ShardOptimizeRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/ShardOptimizeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/RecoveryResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/ShardRecoveryResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/ShardSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/TransportUpgradeStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusResponse.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestRecoveryAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestSegmentsAction.java
core/src/main/java/org/elasticsearch/transport/RequestHandlerRegistry.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/test/java/org/elasticsearch/action/IndicesRequestIT.java
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
core/src/test/java/org/elasticsearch/benchmark/recovery/ReplicaRecoveryBenchmark.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingTableTest.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryIT.java
core/src/test/java/org/elasticsearch/document/ShardInfoIT.java
core/src/test/java/org/elasticsearch/gateway/RecoveryBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayIT.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryIT.java
core/src/test/java/org/elasticsearch/indices/warmer/SimpleIndicesWarmerIT.java
core/src/test/java/org/elasticsearch/recovery/RecoveryWhileUnderLoadIT.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
comments:
Merge pull request #12944 from jasontedor/feature/7990

Add mechanism for transporting shard-level actions by node

time:
2015-08-29T20:15:12Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/ShardClearIndicesCacheResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/ShardOptimizeRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/ShardOptimizeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/RecoveryResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/ShardRecoveryResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/ShardSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/TransportUpgradeStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusResponse.java
core/src/main/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeAction.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestRecoveryAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestSegmentsAction.java
core/src/main/java/org/elasticsearch/transport/RequestHandlerRegistry.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/test/java/org/elasticsearch/action/IndicesRequestIT.java
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
core/src/test/java/org/elasticsearch/benchmark/recovery/ReplicaRecoveryBenchmark.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingTableTest.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryIT.java
core/src/test/java/org/elasticsearch/document/ShardInfoIT.java
core/src/test/java/org/elasticsearch/gateway/RecoveryBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayIT.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryIT.java
core/src/test/java/org/elasticsearch/indices/warmer/SimpleIndicesWarmerIT.java
core/src/test/java/org/elasticsearch/recovery/RecoveryWhileUnderLoadIT.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
comments:
Add mechanism for transporting shard-level actions by node

Currently, many shard-level operations are transported with a request
per shard via TransportBroadcastAction. These shard-level requests are
then submitted to unbounded execution queues for asynchronous execution
on the receiving node. This transport mechanism and stuffing of the
execution queues can be problematic on large clusters. A better
mechanism would be to aggregate the shard-level requests, transport
them via a single request per node, and execute the shard-level
operations serially on the receiving node.

This commit introduces TransportNodeBroadcastAction which is the
high-level mechanism for transporting the shard-level operations in a
single request per node. The shard-level operations are executed
serially on the receiving node and per-node shard-level results are
aggregated into a single response per node. These node-level results
are then aggregated into a single response to the initial request.

One item of note is a new mechanism for registering request handlers.
This mechanism enables registrants to provide a callback for
instantiating new instances of the request class. Doing this enables
the inner class to be instantiated with the context of its outer class.
This is done so that a single NodeRequest class can be defined rather
than defining a class per operation.

Closes #7990

time:
2015-08-29T11:15:18Z
class:
comments:
Docs: Fixed typo in getting started

time:
2015-08-29T06:43:17Z
class:
core/src/main/java/org/elasticsearch/action/support/DestructiveOperations.java
comments:
Extend AbstractComponent and remove logger

time:
2015-08-28T17:39:56Z
class:
core/src/main/java/org/elasticsearch/action/support/master/TransportMasterNodeAction.java
comments:
Fix logging statement in o.e.a.s.m.TransportMasterNodeAction

time:
2015-08-28T17:34:22Z
class:
core/src/main/java/org/elasticsearch/common/compress/lzf/LZFCompressor.java
comments:
Fix logging statement

time:
2015-08-28T16:53:03Z
class:
comments:
Merge branch 'maven/enforcer'

time:
2015-08-28T16:31:54Z
class:
comments:
Update settings.asciidoc

Added removal of merge and merge throttling settings to breaking changes

time:
2015-08-28T16:12:54Z
class:
comments:
Update mapping.asciidoc

Added fielddata format removal to breaking changes docs

time:
2015-08-28T15:59:29Z
class:
core/src/main/java/org/elasticsearch/rest/action/support/RestTable.java
comments:
Merge pull request #13180 from nik9000/cat_non_verbose

Default _cat verbose to false

time:
2015-08-28T15:52:55Z
class:
comments:
Update mapping.asciidoc

Add type name length restriction to breaking changes docs.

time:
2015-08-28T15:46:16Z
class:
comments:
[build] Update Apache Maven Enforcer plugin to 1.4.1

```xml
<plugin>
 <groupId>org.apache.maven.plugins</groupId>
 <artifactId>maven-enforcer-plugin</artifactId>
 <version>1.4.1</version>
</plugin>
```

Release Notes - Maven Enforcer - Version 1.4.1
========

https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12317520&version=12330766

Bugs:
-----

* [MENFORCER-222] - RequireSameVersion rule regression between 1.3 and 1.4
* [MENFORCER-224] - Regression from 1.3.1 to 1.4 with bannedDependencies rule
* [MENFORCER-229] - Ban Distribution Management documentation example doesn't work
* [MENFORCER-237] - Resources Link to codehaus is wrong

Improvements:
------------

* [MENFORCER-223] - Upgrade mrm-maven-plugin to 1.0-beta-2
* [MENFORCER-227] - Document nullability with @Nonnull on EnforcerRule API
* [MENFORCER-233] - Upgrade maven-invoker-plugin to 2.0.0
* [MENFORCER-235] - Use maven-fluido-skin 1.4
* [MENFORCER-236] - Upgrade maven-assembly-plugin version from 2.4 to 2.5.5 in integration test
* [MENFORCER-238] - Upgrade plexus-utils to 3.0.22

time:
2015-08-28T15:24:58Z
class:
comments:
Remove migration note about cat verbosity

Its no longer true.

time:
2015-08-28T15:15:44Z
class:
core/src/main/java/org/elasticsearch/rest/action/support/RestTable.java
comments:
[CAT] Default verbose to false

Closes #13156

time:
2015-08-28T12:04:25Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterInfo.java
core/src/main/java/org/elasticsearch/cluster/DiskUsage.java
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/DiskUsageTests.java
core/src/test/java/org/elasticsearch/cluster/MockInternalClusterInfoService.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ExpectedShardSizeAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RebalanceAfterActiveTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
comments:
Expand ClusterInfo to provide min / max disk usage forn allocation decider

Today we sum up the disk usage for the allocation decider which is broken since
we don't stripe across multiple data paths. Each shard has it's own private path
now but the allocation deciders still treat all paths as one big disk. This commit
adds allows allocation deciders to access the least used and most used path to make
better allocation decidsions upon canRemain and canAllocate calls.

Yet, this commit doesn't fix all the issues since we still can't tell which shard
can remain and which can't. This problem is out of scope in this commit and will be solved
in a followup commit.

Relates to #13106

time:
2015-08-28T10:31:46Z
class:
core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
comments:
remove committedOrFailed and use committedOrFailedLatch for state

time:
2015-08-28T10:31:46Z
class:
core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
comments:
more feedback

time:
2015-08-28T10:31:46Z
class:
core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryUnitTest.java
comments:
more feedback

time:
2015-08-28T10:31:45Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/discovery/Discovery.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesIT.java
core/src/test/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateActionTests.java
comments:
tighten up FailedToCommitClusterStateException semantics and other feedback

time:
2015-08-28T10:31:45Z
class:
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
comments:
reduce log chatter

time:
2015-08-28T10:31:45Z
class:
comments:
doc feedback

time:
2015-08-28T10:31:45Z
class:
comments:
added docs

time:
2015-08-28T10:31:45Z
class:
core/src/main/java/org/elasticsearch/discovery/DiscoverySettings.java
comments:
commit timeout default should never be larger than publishing timeout

time:
2015-08-28T10:31:44Z
class:
core/src/main/java/org/elasticsearch/discovery/DiscoverySettings.java
comments:
fix defaults in DiscoverySettings

time:
2015-08-28T10:31:44Z
class:
core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
core/src/test/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateActionTests.java
comments:
reject older cluster state from the same master

time:
2015-08-28T10:31:44Z
class:
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesIT.java
comments:
force mock transport in testCanNotPublishWithoutMinMastNodes

time:
2015-08-28T10:31:44Z
class:
core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
core/src/test/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateActionTests.java
comments:
Improved concurrency controls In SendingController to make sure that a CS is never committed after publishing is marked out as timed out

time:
2015-08-28T10:31:44Z
class:
core/src/main/java/org/elasticsearch/discovery/DiscoverySettings.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
comments:
improved timeout handling

time:
2015-08-28T10:31:43Z
class:
core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
comments:
added constructor to FailedToCommitException

time:
2015-08-28T10:31:43Z
class:
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryUnitTest.java
comments:
fix ZenDiscoveryUnitTest.testShouldIgnoreNewClusterState

time:
2015-08-28T10:31:43Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
comments:
add FailedToCommitException to registration

time:
2015-08-28T10:31:43Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/discovery/DiscoverySettings.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesIT.java
core/src/test/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateActionTests.java
core/src/test/java/org/elasticsearch/test/disruption/NetworkDelaysPartition.java
comments:
beefed up testing...

time:
2015-08-28T10:31:42Z
class:
core/src/test/java/org/elasticsearch/cluster/PublishClusterStateActionTests.java
comments:
simplified PublishClusterStateActionTests infra

time:
2015-08-28T10:31:42Z
class:
core/src/main/java/org/elasticsearch/discovery/DiscoverySettings.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateAction.java
core/src/test/java/org/elasticsearch/cluster/PublishClusterStateActionTests.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryIT.java
comments:
initial copy over from POC

time:
2015-08-28T09:39:30Z
class:
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/discovery/ClusterDiscoveryConfiguration.java
core/src/test/java/org/elasticsearch/test/test/InternalTestClusterTests.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
comments:
Tests: better isolation of cluster ports

Previously multiple clusters in the same JVM reused the same port ranges, leading to potential big gaps in port selection, which in turns causes unicast based discovery to fail, missing to find another node in the default 5 port range.

Also the previous logic had http use a range that is assigned to another JVMs.

time:
2015-08-28T09:06:35Z
class:
core/src/test/java/org/elasticsearch/index/shard/NewPathForShardTest.java
comments:
disable new test on windows

time:
2015-08-28T08:54:14Z
class:
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
[TEST] fix compilation error in IndexShardTests

time:
2015-08-28T08:49:28Z
class:
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndexSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndexStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/get/GetIndexTemplatesResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/get/TransportGetIndexTemplatesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/IndexUpgradeStatus.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/TransportUpgradeStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
core/src/main/java/org/elasticsearch/action/percolate/MultiPercolateRequest.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateRequest.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java
core/src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
core/src/main/java/org/elasticsearch/action/search/ClearScrollRequest.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
core/src/main/java/org/elasticsearch/action/search/TransportClearScrollAction.java
core/src/main/java/org/elasticsearch/action/search/type/ParsedScrollId.java
core/src/main/java/org/elasticsearch/action/search/type/ScrollIdForNode.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchHelper.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryAndFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryThenFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollScanAction.java
core/src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
core/src/main/java/org/elasticsearch/action/support/AbstractListenableActionFuture.java
core/src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastAction.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/termvectors/dfs/TransportDfsOnlyAction.java
core/src/main/java/org/elasticsearch/action/update/UpdateHelper.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequest.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequestBuilder.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java
core/src/main/java/org/elasticsearch/cluster/DiffableUtils.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTableValidation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationExplanation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingExplanations.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommands.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/Decision.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/ValidationException.java
core/src/main/java/org/elasticsearch/common/inject/BindingProcessor.java
core/src/main/java/org/elasticsearch/common/inject/DeferredLookups.java
core/src/main/java/org/elasticsearch/common/inject/EncounterImpl.java
core/src/main/java/org/elasticsearch/common/inject/InheritingState.java
core/src/main/java/org/elasticsearch/common/inject/Initializer.java
core/src/main/java/org/elasticsearch/common/inject/InjectionRequestProcessor.java
core/src/main/java/org/elasticsearch/common/inject/InjectorImpl.java
core/src/main/java/org/elasticsearch/common/inject/InjectorShell.java
core/src/main/java/org/elasticsearch/common/inject/MembersInjectorStore.java
core/src/main/java/org/elasticsearch/common/inject/ModulesBuilder.java
core/src/main/java/org/elasticsearch/common/inject/PrivateElementProcessor.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/AssistedConstructor.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider2.java
core/src/main/java/org/elasticsearch/common/inject/internal/Errors.java
core/src/main/java/org/elasticsearch/common/inject/internal/Join.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/ProviderMethodsModule.java
core/src/main/java/org/elasticsearch/common/inject/internal/SourceProvider.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/Multibinder.java
core/src/main/java/org/elasticsearch/common/inject/spi/Dependency.java
core/src/main/java/org/elasticsearch/common/inject/spi/Elements.java
core/src/main/java/org/elasticsearch/common/inject/spi/InjectionPoint.java
core/src/main/java/org/elasticsearch/common/inject/util/Modules.java
core/src/main/java/org/elasticsearch/common/io/Streams.java
core/src/main/java/org/elasticsearch/common/logging/Loggers.java
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllEntries.java
core/src/main/java/org/elasticsearch/common/lucene/index/FilterableTermsEnum.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/settings/SettingsFilter.java
core/src/main/java/org/elasticsearch/common/settings/loader/SettingsLoader.java
core/src/main/java/org/elasticsearch/common/settings/loader/XContentSettingsLoader.java
core/src/main/java/org/elasticsearch/common/util/CollectionUtils.java
core/src/main/java/org/elasticsearch/common/util/MultiDataPathUpgrader.java
core/src/main/java/org/elasticsearch/common/util/concurrent/PrioritizedEsThreadPoolExecutor.java
core/src/main/java/org/elasticsearch/common/xcontent/support/XContentMapValues.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/elect/ElectMasterService.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
core/src/main/java/org/elasticsearch/index/analysis/CustomAnalyzer.java
core/src/main/java/org/elasticsearch/index/analysis/CustomAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/NamedAnalyzer.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/get/GetResult.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperForType.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/ParseContext.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/RootObjectMapper.java
core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/AndQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
core/src/main/java/org/elasticsearch/index/query/Operator.java
core/src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/OrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/support/InnerHitsQueryParserHelper.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
core/src/main/java/org/elasticsearch/index/shard/CommitPoints.java
core/src/main/java/org/elasticsearch/index/shard/ElasticsearchMergePolicy.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShardPath.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshot.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshots.java
core/src/main/java/org/elasticsearch/index/termvectors/ShardTermVectorsService.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/IndicesWarmer.java
core/src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
core/src/main/java/org/elasticsearch/indices/breaker/HierarchyCircuitBreakerService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryResponse.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTranslogOperationsRequest.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/percolator/QueryCollector.java
core/src/main/java/org/elasticsearch/repositories/Repository.java
core/src/main/java/org/elasticsearch/repositories/VerifyNodeRepositoryAction.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
core/src/main/java/org/elasticsearch/repositories/uri/URLRepository.java
core/src/main/java/org/elasticsearch/rest/RestModule.java
core/src/main/java/org/elasticsearch/rest/RestResponse.java
core/src/main/java/org/elasticsearch/rest/action/RestActionModule.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java
core/src/main/java/org/elasticsearch/rest/action/delete/RestDeleteAction.java
core/src/main/java/org/elasticsearch/rest/action/index/RestIndexAction.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregation.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregations.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/InternalFilters.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/InternalHistogram.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/AbstractRangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/InternalRange.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/SiblingPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/cumulativesum/CumulativeSumPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/DerivativePipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/explain/ExplainFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsContext.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsSubSearchContext.java
core/src/main/java/org/elasticsearch/search/fetch/matchedqueries/MatchedQueriesFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/script/ScriptFieldsContext.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightBuilder.java
core/src/main/java/org/elasticsearch/search/highlight/HighlighterParseElement.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/sort/SortParseElement.java
core/src/main/java/org/elasticsearch/search/suggest/context/CategoryContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/context/ContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/context/GeolocationContextMapping.java
core/src/main/java/org/elasticsearch/search/warmer/IndexWarmersMetaData.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
core/src/test/java/org/elasticsearch/action/RejectionActionIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
core/src/test/java/org/elasticsearch/action/support/TransportActionFilterChainTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/SubAggregationSearchCollectModeBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/TimeDataHistogramAggregationBenchmark.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AddIncrementallyTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardNoReplicasRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsFilteringIT.java
core/src/test/java/org/elasticsearch/common/StringsTests.java
core/src/test/java/org/elasticsearch/common/lucene/index/FreqTermsEnumTests.java
core/src/test/java/org/elasticsearch/common/util/CollectionUtilsTests.java
core/src/test/java/org/elasticsearch/common/util/MultiDataPathUpgraderTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/PrioritizedExecutorsTests.java
core/src/test/java/org/elasticsearch/common/xcontent/builder/XContentBuilderTests.java
core/src/test/java/org/elasticsearch/document/BulkIT.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTest.java
core/src/test/java/org/elasticsearch/http/netty/NettyPipeliningDisabledIT.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/DuelFieldDataTests.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeLookupTests.java
core/src/test/java/org/elasticsearch/index/mapper/date/DateBackwardsCompatibilityTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
core/src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/StringFieldMapperPositionIncrementGapTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
core/src/test/java/org/elasticsearch/index/shard/CommitPointsTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/shard/ShardPathTests.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedTranslogIT.java
core/src/test/java/org/elasticsearch/index/store/IndexStoreTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/indices/analysis/PreBuiltAnalyzerIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/analyze/AnalyzeActionIT.java
core/src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/CircuitBreakerNoopIT.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/CircuitBreakerServiceIT.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
core/src/test/java/org/elasticsearch/indices/warmer/SimpleIndicesWarmerIT.java
core/src/test/java/org/elasticsearch/plugins/PluginInfoTests.java
core/src/test/java/org/elasticsearch/rest/RestFilterChainTests.java
core/src/test/java/org/elasticsearch/script/GroovyScriptIT.java
comments:
Merge branch 'master' into feature/query-refactoring

Conflicts:
	core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/AndQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/OrQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/SpanOrQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/TermQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/support/InnerHitsQueryParserHelper.java
	core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java

time:
2015-08-28T08:15:15Z
class:
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/shard/ShardPath.java
core/src/test/java/org/elasticsearch/index/shard/NewPathForShardTest.java
comments:
Merge pull request #13158 from mikemccand/new_path_for_shard_test

Add unit test for ShardPath.selectNewPathForShard

time:
2015-08-28T08:13:41Z
class:
core/src/main/java/org/elasticsearch/index/query/QueryShardException.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
comments:
[TEST] add serialization tests for QueryShardException

time:
2015-08-28T08:13:21Z
class:
core/src/test/java/org/elasticsearch/index/shard/NewPathForShardTest.java
comments:
try to work on Windows too

time:
2015-08-28T07:59:02Z
class:
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/test/java/org/elasticsearch/index/shard/NewPathForShardTest.java
comments:
use ShardPath.getRootStatePath; allow forbidden API

time:
2015-08-28T07:57:39Z
class:
core/src/main/java/org/elasticsearch/transport/netty/MessageChannelHandler.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportIT.java
comments:
Internal: clean up named writeable registry handling in netty transport classes

There are some leftovers around usage of NamedWriteableRegistry in our branch compared to master, just because the registry was added first here, then backported to master, and something didn't go completely right during the final merge.

time:
2015-08-28T07:47:15Z
class:
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
comments:
Discovery: fix `discovery.zen.join_timeout` default value logic

We default the value to be 20x the value of a ping timeout, however we only use the legacy ping timeout settings value for the calculation.

Closes #13162

time:
2015-08-28T07:41:47Z
class:
core/src/main/java/org/elasticsearch/common/ValidationException.java
comments:
Internal: make ValidationException methods final and fix javadocs

time:
2015-08-28T07:38:29Z
class:
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
comments:
Internal: remove unused MapperQueryParser constructor

time:
2015-08-28T07:35:43Z
class:
core/src/main/java/org/elasticsearch/index/query/QueryValidationException.java
comments:
Internal: remove code duplication in QueryValidationException

The class can now simply extend ValidationException and rely on the base class.

time:
2015-08-28T03:29:22Z
class:
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggesterSearchIT.java
comments:
Work around for JDK-8039214 on JDK 9

time:
2015-08-28T02:19:44Z
class:
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndexSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndexStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/get/GetIndexTemplatesResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/get/TransportGetIndexTemplatesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/IndexUpgradeStatus.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/TransportUpgradeStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
core/src/main/java/org/elasticsearch/action/percolate/MultiPercolateRequest.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateRequest.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java
core/src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
core/src/main/java/org/elasticsearch/action/search/ClearScrollRequest.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
core/src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
core/src/main/java/org/elasticsearch/action/support/AbstractListenableActionFuture.java
core/src/main/java/org/elasticsearch/action/termvectors/dfs/TransportDfsOnlyAction.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java
core/src/main/java/org/elasticsearch/cluster/DiffableUtils.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTableValidation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationExplanation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingExplanations.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommands.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/Decision.java
core/src/main/java/org/elasticsearch/common/inject/BindingProcessor.java
core/src/main/java/org/elasticsearch/common/inject/DeferredLookups.java
core/src/main/java/org/elasticsearch/common/inject/EncounterImpl.java
core/src/main/java/org/elasticsearch/common/inject/InheritingState.java
core/src/main/java/org/elasticsearch/common/inject/Initializer.java
core/src/main/java/org/elasticsearch/common/inject/InjectionRequestProcessor.java
core/src/main/java/org/elasticsearch/common/inject/InjectorImpl.java
core/src/main/java/org/elasticsearch/common/inject/InjectorShell.java
core/src/main/java/org/elasticsearch/common/inject/MembersInjectorStore.java
core/src/main/java/org/elasticsearch/common/inject/ModulesBuilder.java
core/src/main/java/org/elasticsearch/common/inject/PrivateElementProcessor.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/AssistedConstructor.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider2.java
core/src/main/java/org/elasticsearch/common/inject/internal/Errors.java
core/src/main/java/org/elasticsearch/common/inject/internal/Join.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/ProviderMethodsModule.java
core/src/main/java/org/elasticsearch/common/inject/internal/SourceProvider.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/Multibinder.java
core/src/main/java/org/elasticsearch/common/inject/spi/Dependency.java
core/src/main/java/org/elasticsearch/common/inject/spi/Elements.java
core/src/main/java/org/elasticsearch/common/inject/spi/InjectionPoint.java
core/src/main/java/org/elasticsearch/common/inject/util/Modules.java
core/src/main/java/org/elasticsearch/common/io/Streams.java
core/src/main/java/org/elasticsearch/common/logging/Loggers.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllEntries.java
core/src/main/java/org/elasticsearch/common/lucene/index/FilterableTermsEnum.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/settings/SettingsFilter.java
core/src/main/java/org/elasticsearch/common/settings/loader/SettingsLoader.java
core/src/main/java/org/elasticsearch/common/settings/loader/XContentSettingsLoader.java
core/src/main/java/org/elasticsearch/common/util/CollectionUtils.java
core/src/main/java/org/elasticsearch/common/util/concurrent/PrioritizedEsThreadPoolExecutor.java
core/src/main/java/org/elasticsearch/common/xcontent/support/XContentMapValues.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/elect/ElectMasterService.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/index/analysis/CustomAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/get/GetResult.java
core/src/main/java/org/elasticsearch/index/mapper/ParseContext.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/RootObjectMapper.java
core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/AndQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/OrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/shard/CommitPoints.java
core/src/main/java/org/elasticsearch/index/shard/ElasticsearchMergePolicy.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshot.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshots.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/IndicesWarmer.java
core/src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
core/src/main/java/org/elasticsearch/indices/breaker/HierarchyCircuitBreakerService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryResponse.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTranslogOperationsRequest.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/repositories/VerifyNodeRepositoryAction.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
core/src/main/java/org/elasticsearch/rest/RestModule.java
core/src/main/java/org/elasticsearch/rest/RestResponse.java
core/src/main/java/org/elasticsearch/rest/action/RestActionModule.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregation.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregations.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/InternalFilters.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/InternalHistogram.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/AbstractRangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/InternalRange.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/SiblingPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/cumulativesum/CumulativeSumPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/DerivativePipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsContext.java
core/src/main/java/org/elasticsearch/search/fetch/matchedqueries/MatchedQueriesFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/script/ScriptFieldsContext.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightBuilder.java
core/src/main/java/org/elasticsearch/search/highlight/HighlighterParseElement.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
core/src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
core/src/main/java/org/elasticsearch/search/sort/SortParseElement.java
core/src/main/java/org/elasticsearch/search/suggest/context/CategoryContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/context/ContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/context/GeolocationContextMapping.java
core/src/main/java/org/elasticsearch/search/warmer/IndexWarmersMetaData.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
core/src/test/java/org/elasticsearch/action/RejectionActionIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
core/src/test/java/org/elasticsearch/action/support/TransportActionFilterChainTests.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/SubAggregationSearchCollectModeBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/TimeDataHistogramAggregationBenchmark.java
core/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AddIncrementallyTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardNoReplicasRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsFilteringIT.java
core/src/test/java/org/elasticsearch/common/lucene/index/FreqTermsEnumTests.java
core/src/test/java/org/elasticsearch/common/util/CollectionUtilsTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/PrioritizedExecutorsTests.java
core/src/test/java/org/elasticsearch/common/xcontent/builder/XContentBuilderTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTest.java
core/src/test/java/org/elasticsearch/http/netty/NettyPipeliningDisabledIT.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/fielddata/DuelFieldDataTests.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeLookupTests.java
core/src/test/java/org/elasticsearch/index/mapper/date/DateBackwardsCompatibilityTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
core/src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/shard/CommitPointsTests.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedTranslogIT.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/indices/analysis/PreBuiltAnalyzerIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/CircuitBreakerNoopIT.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/CircuitBreakerServiceIT.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
core/src/test/java/org/elasticsearch/plugins/PluginInfoTests.java
core/src/test/java/org/elasticsearch/rest/RestFilterChainTests.java
core/src/test/java/org/elasticsearch/script/GroovyScriptIT.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptContextRegistryTests.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregationsIntegrationIT.java
core/src/test/java/org/elasticsearch/search/aggregations/EquivalenceIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/HDRPercentileRanksIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/HDRPercentilesIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TDigestPercentileRanksIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TDigestPercentilesIT.java
core/src/test/java/org/elasticsearch/search/functionscore/RandomScoreFunctionIT.java
core/src/test/java/org/elasticsearch/search/highlight/CustomHighlighter.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggesterSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/completion/CompletionPostingsFormatTest.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/stresstest/manyindices/ManyNodesManyIndicesRecoveryStressTest.java
core/src/test/java/org/elasticsearch/test/ESAllocationTestCase.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
core/src/test/java/org/elasticsearch/test/ExternalTestCluster.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/MockLogAppender.java
core/src/test/java/org/elasticsearch/test/XContentTestUtils.java
core/src/test/java/org/elasticsearch/test/rest/ESRestTestCase.java
core/src/test/java/org/elasticsearch/test/rest/client/RestClient.java
core/src/test/java/org/elasticsearch/test/rest/json/JsonPath.java
core/src/test/java/org/elasticsearch/test/rest/parser/SkipSectionParser.java
core/src/test/java/org/elasticsearch/test/rest/section/ApiCallSection.java
core/src/test/java/org/elasticsearch/test/rest/section/RestTestSuite.java
core/src/test/java/org/elasticsearch/test/rest/section/SetupSection.java
core/src/test/java/org/elasticsearch/test/rest/section/SkipSection.java
core/src/test/java/org/elasticsearch/test/rest/section/TestSection.java
core/src/test/java/org/elasticsearch/test/rest/spec/RestApi.java
core/src/test/java/org/elasticsearch/test/rest/support/Features.java
core/src/test/java/org/elasticsearch/watcher/FileWatcherTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AzureComputeServiceSimpleMock.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AzureComputeServiceTwoNodesMock.java
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeServiceImpl.java
comments:
Merge pull request #13170 from jasontedor/fix/lists-be-gone

Remove and forbid use of com.google.common.collect.Lists

time:
2015-08-28T02:14:33Z
class:
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndexSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndexStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/get/GetIndexTemplatesResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/template/get/TransportGetIndexTemplatesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/IndexUpgradeStatus.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/TransportUpgradeStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/UpgradeStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
core/src/main/java/org/elasticsearch/action/percolate/MultiPercolateRequest.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateRequest.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateSourceBuilder.java
core/src/main/java/org/elasticsearch/action/percolate/TransportPercolateAction.java
core/src/main/java/org/elasticsearch/action/search/ClearScrollRequest.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
core/src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
core/src/main/java/org/elasticsearch/action/support/AbstractListenableActionFuture.java
core/src/main/java/org/elasticsearch/action/termvectors/dfs/TransportDfsOnlyAction.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java
core/src/main/java/org/elasticsearch/cluster/DiffableUtils.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTableValidation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationExplanation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingExplanations.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocationCommands.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/Decision.java
core/src/main/java/org/elasticsearch/common/inject/BindingProcessor.java
core/src/main/java/org/elasticsearch/common/inject/DeferredLookups.java
core/src/main/java/org/elasticsearch/common/inject/EncounterImpl.java
core/src/main/java/org/elasticsearch/common/inject/InheritingState.java
core/src/main/java/org/elasticsearch/common/inject/Initializer.java
core/src/main/java/org/elasticsearch/common/inject/InjectionRequestProcessor.java
core/src/main/java/org/elasticsearch/common/inject/InjectorImpl.java
core/src/main/java/org/elasticsearch/common/inject/InjectorShell.java
core/src/main/java/org/elasticsearch/common/inject/MembersInjectorStore.java
core/src/main/java/org/elasticsearch/common/inject/ModulesBuilder.java
core/src/main/java/org/elasticsearch/common/inject/PrivateElementProcessor.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/AssistedConstructor.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider2.java
core/src/main/java/org/elasticsearch/common/inject/internal/Errors.java
core/src/main/java/org/elasticsearch/common/inject/internal/Join.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/common/inject/internal/ProviderMethodsModule.java
core/src/main/java/org/elasticsearch/common/inject/internal/SourceProvider.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/Multibinder.java
core/src/main/java/org/elasticsearch/common/inject/spi/Dependency.java
core/src/main/java/org/elasticsearch/common/inject/spi/Elements.java
core/src/main/java/org/elasticsearch/common/inject/spi/InjectionPoint.java
core/src/main/java/org/elasticsearch/common/inject/util/Modules.java
core/src/main/java/org/elasticsearch/common/io/Streams.java
core/src/main/java/org/elasticsearch/common/logging/Loggers.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllEntries.java
core/src/main/java/org/elasticsearch/common/lucene/index/FilterableTermsEnum.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/settings/SettingsFilter.java
core/src/main/java/org/elasticsearch/common/settings/loader/SettingsLoader.java
core/src/main/java/org/elasticsearch/common/settings/loader/XContentSettingsLoader.java
core/src/main/java/org/elasticsearch/common/util/CollectionUtils.java
core/src/main/java/org/elasticsearch/common/util/concurrent/PrioritizedEsThreadPoolExecutor.java
core/src/main/java/org/elasticsearch/common/xcontent/support/XContentMapValues.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/elect/ElectMasterService.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayMetaState.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/index/analysis/CustomAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/get/GetResult.java
core/src/main/java/org/elasticsearch/index/mapper/ParseContext.java
core/src/main/java/org/elasticsearch/index/mapper/core/CompletionFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/RootObjectMapper.java
core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/AndQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/OrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/shard/CommitPoints.java
core/src/main/java/org/elasticsearch/index/shard/ElasticsearchMergePolicy.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshot.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshots.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/IndicesWarmer.java
core/src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
core/src/main/java/org/elasticsearch/indices/breaker/HierarchyCircuitBreakerService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryResponse.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTranslogOperationsRequest.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/repositories/VerifyNodeRepositoryAction.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
core/src/main/java/org/elasticsearch/rest/RestModule.java
core/src/main/java/org/elasticsearch/rest/RestResponse.java
core/src/main/java/org/elasticsearch/rest/action/RestActionModule.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregation.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregations.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/FiltersAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/filters/InternalFilters.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/InternalHistogram.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/AbstractRangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/InternalRange.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/RangeAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/SiblingPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/bucketscript/BucketScriptPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/cumulativesum/CumulativeSumPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/derivative/DerivativePipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/controller/SearchPhaseController.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsContext.java
core/src/main/java/org/elasticsearch/search/fetch/matchedqueries/MatchedQueriesFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/script/ScriptFieldsContext.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightBuilder.java
core/src/main/java/org/elasticsearch/search/highlight/HighlighterParseElement.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
core/src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
core/src/main/java/org/elasticsearch/search/sort/SortParseElement.java
core/src/main/java/org/elasticsearch/search/suggest/context/CategoryContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/context/ContextMapping.java
core/src/main/java/org/elasticsearch/search/suggest/context/GeolocationContextMapping.java
core/src/main/java/org/elasticsearch/search/warmer/IndexWarmersMetaData.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
core/src/test/java/org/elasticsearch/action/RejectionActionIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
core/src/test/java/org/elasticsearch/action/support/TransportActionFilterChainTests.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/SubAggregationSearchCollectModeBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/TimeDataHistogramAggregationBenchmark.java
core/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AddIncrementallyTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardNoReplicasRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsFilteringIT.java
core/src/test/java/org/elasticsearch/common/lucene/index/FreqTermsEnumTests.java
core/src/test/java/org/elasticsearch/common/util/CollectionUtilsTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/PrioritizedExecutorsTests.java
core/src/test/java/org/elasticsearch/common/xcontent/builder/XContentBuilderTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTest.java
core/src/test/java/org/elasticsearch/http/netty/NettyPipeliningDisabledIT.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/fielddata/DuelFieldDataTests.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeLookupTests.java
core/src/test/java/org/elasticsearch/index/mapper/date/DateBackwardsCompatibilityTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
core/src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/shard/CommitPointsTests.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedTranslogIT.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/indices/analysis/PreBuiltAnalyzerIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/CircuitBreakerNoopIT.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/CircuitBreakerServiceIT.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
core/src/test/java/org/elasticsearch/plugins/PluginInfoTests.java
core/src/test/java/org/elasticsearch/rest/RestFilterChainTests.java
core/src/test/java/org/elasticsearch/script/GroovyScriptIT.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptContextRegistryTests.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregationsIntegrationIT.java
core/src/test/java/org/elasticsearch/search/aggregations/EquivalenceIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/HDRPercentileRanksIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/HDRPercentilesIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TDigestPercentileRanksIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TDigestPercentilesIT.java
core/src/test/java/org/elasticsearch/search/functionscore/RandomScoreFunctionIT.java
core/src/test/java/org/elasticsearch/search/highlight/CustomHighlighter.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggesterSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/completion/CompletionPostingsFormatTest.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/stresstest/manyindices/ManyNodesManyIndicesRecoveryStressTest.java
core/src/test/java/org/elasticsearch/test/ESAllocationTestCase.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
core/src/test/java/org/elasticsearch/test/ExternalTestCluster.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/MockLogAppender.java
core/src/test/java/org/elasticsearch/test/XContentTestUtils.java
core/src/test/java/org/elasticsearch/test/rest/ESRestTestCase.java
core/src/test/java/org/elasticsearch/test/rest/client/RestClient.java
core/src/test/java/org/elasticsearch/test/rest/json/JsonPath.java
core/src/test/java/org/elasticsearch/test/rest/parser/SkipSectionParser.java
core/src/test/java/org/elasticsearch/test/rest/section/ApiCallSection.java
core/src/test/java/org/elasticsearch/test/rest/section/RestTestSuite.java
core/src/test/java/org/elasticsearch/test/rest/section/SetupSection.java
core/src/test/java/org/elasticsearch/test/rest/section/SkipSection.java
core/src/test/java/org/elasticsearch/test/rest/section/TestSection.java
core/src/test/java/org/elasticsearch/test/rest/spec/RestApi.java
core/src/test/java/org/elasticsearch/test/rest/support/Features.java
core/src/test/java/org/elasticsearch/watcher/FileWatcherTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AzureComputeServiceSimpleMock.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AzureComputeServiceTwoNodesMock.java
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeServiceImpl.java
comments:
Remove and forbid use of com.google.common.collect.Lists

This commit removes and now forbids all uses of
com.google.common.collect.Lists across the codebase. This is the first
of many steps in the eventual removal of Guava as a dependency.

time:
2015-08-27T22:21:29Z
class:
core/src/main/java/org/elasticsearch/repositories/Repository.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
core/src/main/java/org/elasticsearch/repositories/uri/URLRepository.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
comments:
Add `readonly` option for repositories

Closes #7831
Closes #11753

time:
2015-08-27T21:20:01Z
class:
comments:
use provided version in smoke test file paths

time:
2015-08-27T20:49:27Z
class:
core/src/test/java/org/elasticsearch/ttl/SimpleTTLIT.java
comments:
Merge pull request #13165 from nik9000/fix_ttl_test

Use proper comparison operator ttl test

time:
2015-08-27T20:43:10Z
class:
core/src/test/java/org/elasticsearch/ttl/SimpleTTLIT.java
comments:
[test] Use proper comparison operator

lessThanOrEqualTo is more appropriate when comparing _ttl than lessThan
because in rare cases, when tests run very fast, the ttl you fetch will
still equal the one you sent.

time:
2015-08-27T20:02:51Z
class:
core/src/test/java/org/elasticsearch/search/functionscore/RandomScoreFunctionIT.java
comments:
[test] make sure that the scripts in testScoreAccessWithinScript never compute log(0)

time:
2015-08-27T17:21:32Z
class:
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/index/mapper/string/StringFieldMapperPositionIncrementGapTests.java
comments:
Merge pull request #13133 from rjernst/fix/bwc_creation

Fix generation scripts for bwc indexes, and add 2.0 beta1 index

time:
2015-08-27T17:19:59Z
class:
comments:
Make 0.x and 1.x indexes still work with get-bwc-version

time:
2015-08-27T17:16:45Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java
core/src/main/java/org/elasticsearch/action/search/TransportClearScrollAction.java
core/src/main/java/org/elasticsearch/action/search/type/ParsedScrollId.java
core/src/main/java/org/elasticsearch/action/search/type/ScrollIdForNode.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchHelper.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryAndFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryThenFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollScanAction.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequest.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequestBuilder.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/util/MultiDataPathUpgrader.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperForType.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/support/InnerHitsQueryParserHelper.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShardPath.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/index/termvectors/ShardTermVectorsService.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsSubSearchContext.java
core/src/test/java/org/elasticsearch/common/StringsTests.java
core/src/test/java/org/elasticsearch/common/util/MultiDataPathUpgraderTests.java
core/src/test/java/org/elasticsearch/document/BulkIT.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/shard/ShardPathTests.java
core/src/test/java/org/elasticsearch/index/store/IndexStoreTests.java
core/src/test/java/org/elasticsearch/indices/warmer/SimpleIndicesWarmerIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ChildrenIT.java
core/src/test/java/org/elasticsearch/ttl/SimpleTTLIT.java
core/src/test/java/org/elasticsearch/update/UpdateNoopIT.java
comments:
Merge branch 'master' into fix/bwc_creation

time:
2015-08-27T17:06:00Z
class:
core/src/test/java/org/elasticsearch/index/shard/NewPathForShardTest.java
comments:
reference original issue

time:
2015-08-27T17:01:36Z
class:
core/src/test/java/org/elasticsearch/index/shard/NewPathForShardTest.java
comments:
polish

time:
2015-08-27T16:33:04Z
class:
core/src/main/java/org/elasticsearch/index/shard/ShardPath.java
core/src/test/java/org/elasticsearch/index/shard/NewPathForShardTest.java
comments:
add basic unit test

time:
2015-08-27T16:32:21Z
class:
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/shard/ShardPath.java
comments:
simplify API for ShardPath.selectNewPathForShard to enable unit testing: don't pass IndexShard

time:
2015-08-27T16:05:27Z
class:
core/src/main/java/org/elasticsearch/index/IndexService.java
comments:
Call `beforeIndexShardCreated` listener earlier in `createShard`

Some listeners may need to do work before a shard's path is
accessed (such as creating the directory in a plugin), so the listener
should be called before anything happens (as its name implies).

time:
2015-08-27T15:22:13Z
class:
core/src/main/java/org/elasticsearch/action/update/UpdateRequest.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequestBuilder.java
core/src/test/java/org/elasticsearch/document/BulkIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ChildrenIT.java
core/src/test/java/org/elasticsearch/ttl/SimpleTTLIT.java
core/src/test/java/org/elasticsearch/update/UpdateNoopIT.java
comments:
Merge pull request #11306 from nik9000/default_detect_noop

Default detect_noop to true

time:
2015-08-27T15:19:55Z
class:
core/src/test/java/org/elasticsearch/index/shard/NewPathForShardTest.java
comments:
add asserts to make sure mocking 'took'

time:
2015-08-27T14:55:04Z
class:
core/src/test/java/org/elasticsearch/index/shard/NewPathForShardTest.java
comments:
initial mock filesystem setup for test case

time:
2015-08-27T14:34:18Z
class:
core/src/main/java/org/elasticsearch/action/update/UpdateRequest.java
core/src/main/java/org/elasticsearch/action/update/UpdateRequestBuilder.java
core/src/test/java/org/elasticsearch/document/BulkIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ChildrenIT.java
core/src/test/java/org/elasticsearch/ttl/SimpleTTLIT.java
core/src/test/java/org/elasticsearch/update/UpdateNoopIT.java
comments:
Default detect_noop to true

detect_noop is pretty cheap and noop updates compartively expensive so this
feels like a sensible default.

Also had to do some testing and documentation around how _ttl works with
detect_noop.

Closes #11282

time:
2015-08-27T12:40:43Z
class:
comments:
update documentation with release 3.0.0

time:
2015-08-27T11:20:22Z
class:
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
[TEST] comparing paths seems to be hard on windonws

time:
2015-08-27T10:47:15Z
class:
comments:
Update query_dsl.asciidoc

Fixed typo.'

time:
2015-08-27T10:24:42Z
class:
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermQueryParser.java
core/src/test/java/org/elasticsearch/common/StringsTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
comments:
Query DSL: deprecate _name and boost in short variants of queries

As discussed in #11744 this is the last step to unify parsing of boost and _name. Those fields are supported only in long version of queries, while we sometimes parse them when wwe shouldn't, inconsistently.

Closes #11744
Closes #12966

time:
2015-08-27T10:24:42Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/TransportDeleteWarmerAction.java
core/src/test/java/org/elasticsearch/indices/warmer/SimpleIndicesWarmerIT.java
comments:
Warmers: delete _all should not throw exception when no warmers are registered

Closes #8991
Closes #13058

time:
2015-08-27T09:28:27Z
class:
comments:
Corrected some typos in the REST spec

time:
2015-08-27T08:57:26Z
class:
core/src/main/java/org/elasticsearch/action/search/TransportClearScrollAction.java
core/src/main/java/org/elasticsearch/action/search/type/ParsedScrollId.java
core/src/main/java/org/elasticsearch/action/search/type/ScrollIdForNode.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchHelper.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryAndFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryThenFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollScanAction.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperForType.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
core/src/main/java/org/elasticsearch/index/query/support/InnerHitsQueryParserHelper.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/index/termvectors/ShardTermVectorsService.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsSubSearchContext.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
comments:
Merge pull request #13135 from jasontedor/fix/eliminate-tuple-as-a-method-parameter

Remove usage of tuple as a method parameter

time:
2015-08-27T07:42:56Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/ShardStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/common/util/MultiDataPathUpgrader.java
core/src/main/java/org/elasticsearch/index/shard/ShardPath.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/test/java/org/elasticsearch/common/util/MultiDataPathUpgraderTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/shard/ShardPathTests.java
core/src/test/java/org/elasticsearch/index/store/IndexStoreTests.java
comments:
Expose shards data and state path via ShardStats

Since we now don't stripe shards across data paths we need a way
to access the information on which path a shard is allocated to
eventually do better allocation decisions based on disk usage etc.
This commit exposes the shard paths as part of the shard stats.

Relates to #13106
this is a leftover I guess?

these `System.out` should go away I think


time:
2015-08-27T03:21:22Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java
comments:
Mappings: Fix doc parser to still pre/post process metadata fields on disabled type

closes #13017

time:
2015-08-27T02:42:35Z
class:
comments:
Merge pull request #13091 from rjernst/docs/multicast

Add migration guide notes for multicast moving to a plugin

time:
2015-08-27T02:42:13Z
class:
core/src/main/java/org/apache/lucene/queryparser/classic/QueryParserSettings.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
core/src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastAction.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/update/UpdateHelper.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
core/src/main/java/org/elasticsearch/common/settings/loader/PropertiesSettingsLoader.java
core/src/main/java/org/elasticsearch/common/settings/loader/XContentSettingsLoader.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
core/src/main/java/org/elasticsearch/index/analysis/CustomAnalyzer.java
core/src/main/java/org/elasticsearch/index/analysis/CustomAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/NamedAnalyzer.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
core/src/main/java/org/elasticsearch/percolator/QueryCollector.java
core/src/main/java/org/elasticsearch/rest/action/delete/RestDeleteAction.java
core/src/main/java/org/elasticsearch/rest/action/index/RestIndexAction.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceParser.java
core/src/main/java/org/elasticsearch/search/fetch/explain/ExplainFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/common/settings/loader/JsonSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/PropertiesSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/YamlSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/StringFieldMapperPositionIncrementGapTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
core/src/test/java/org/elasticsearch/indices/analyze/AnalyzeActionIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ExtendedStatsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/HDRPercentileRanksIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/HDRPercentilesIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/MaxIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/MinIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/StatsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TDigestPercentileRanksIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TDigestPercentilesIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
core/src/test/java/org/elasticsearch/search/sort/SimpleSortIT.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/AmazonS3Wrapper.java
comments:
Merge branch 'master' into docs/multicast

time:
2015-08-27T02:40:00Z
class:
comments:
Add links to multicast and dbq plugins

time:
2015-08-27T02:36:26Z
class:
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/index/mapper/string/StringFieldMapperPositionIncrementGapTests.java
comments:
Tests: Fix generation scripts for bwc indexes, and add 2.0 beta1 index

time:
2015-08-27T02:07:33Z
class:
core/src/main/java/org/elasticsearch/action/search/TransportClearScrollAction.java
core/src/main/java/org/elasticsearch/action/search/type/ParsedScrollId.java
core/src/main/java/org/elasticsearch/action/search/type/ScrollIdForNode.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchHelper.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryAndFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollQueryThenFetchAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScrollScanAction.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperForType.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
core/src/main/java/org/elasticsearch/index/query/support/InnerHitsQueryParserHelper.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/index/termvectors/ShardTermVectorsService.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsSubSearchContext.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
comments:
Remove usage of tuple as a method parameter

This commit removes all instances of
org.elasticsearch.common.collect.Tuple as a method parameter.

Closes #10787

time:
2015-08-26T23:02:36Z
class:
comments:
Fix doc build

time:
2015-08-26T21:56:35Z
class:
core/src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
core/src/main/java/org/elasticsearch/index/analysis/CustomAnalyzer.java
core/src/main/java/org/elasticsearch/index/analysis/CustomAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/NamedAnalyzer.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/StringFieldMapperPositionIncrementGapTests.java
core/src/test/java/org/elasticsearch/indices/analyze/AnalyzeActionIT.java
comments:
The name "position_offset_gap" is confusing because Lucene has three
similar sounding things:

* Analyzer#getPositionIncrementGap
* Analyzer#getOffsetGap
* IndexOptions.DOCS_AND_FREQS_AND_POSITIONS_AND_OFFSETS and
* FieldType#storeTermVectorOffsets

Rename position_offset_gap to position_increment_gap
closes #13056

time:
2015-08-26T14:22:14Z
class:
comments:
[BUILD] Add publish instructions to the release script

time:
2015-08-26T14:07:50Z
class:
comments:
[BUILD] Allow smoke-testing other artifact but staging artifacts

time:
2015-08-26T13:56:47Z
class:
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTest.java
comments:
[TEST] make MockTermsLookupFetchService non static

time:
2015-08-26T13:50:01Z
class:
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryParser.java
core/src/test/java/org/elasticsearch/index/query/AndQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/ExistsQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/FQueryFilterBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/MissingQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/NotQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/OrQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/QueryFilterBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/SpanFirstQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/SpanNotQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTest.java
comments:
[TEST] unify parsing code in tests

Also clean up static method in MoreLikeThisFetchService, fix randomly failing TermsQueryBuilderTest#testNullValues and rename mappedFieldNamesSmall to MAPPED_LEAF_FIELD_NAMES.

time:
2015-08-26T13:33:23Z
class:
comments:
REST spec: Added update_all_types to indices.put_mapping and indices.create

Closes #12840

time:
2015-08-26T13:21:50Z
class:
core/src/main/java/org/elasticsearch/action/support/broadcast/TransportBroadcastAction.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/update/UpdateHelper.java
core/src/main/java/org/elasticsearch/rest/action/delete/RestDeleteAction.java
core/src/main/java/org/elasticsearch/rest/action/index/RestIndexAction.java
core/src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
comments:
Removed the `operation_threaded` option.

This low level option isn't worth the complexity and an operation should never happen on the network thread.

time:
2015-08-26T13:03:11Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ParentConstantScoreQuery.java
core/src/main/java/org/elasticsearch/index/search/child/ParentQuery.java
core/src/main/java/org/elasticsearch/percolator/QueryCollector.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
core/src/main/java/org/elasticsearch/search/fetch/explain/ExplainFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ParentConstantScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/search/child/ParentQueryTests.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
comments:
parent/child: use the index searcher from engine searcher directly for JoinUtil based impl
and use the provided index searcher directly for the pre 2.0 parent/child imp.

time:
2015-08-26T12:41:08Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceParser.java
comments:
Merge pull request #13033 from xuzha/xu-12391

Print field name when meet unexpected token.

time:
2015-08-26T12:29:13Z
class:
comments:
Merge pull request #12961 from brwe/jps-check

check with jps that the pid file contains a pid that actually is an e…

time:
2015-08-26T12:07:55Z
class:
comments:
removes TermsLookup changes as it was used internally

time:
2015-08-26T11:58:46Z
class:
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/search/termslookup/TermsLookupFetchService.java
core/src/main/java/org/elasticsearch/indices/cache/query/terms/TermsLookup.java
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/FuzzyQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/SpanTermQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTest.java
comments:
Refactors TermsQueryBuilder and Parser

Refactors TermsQueryBuilder and Parser for #10217.

This PR is against the query-refactoring branch.

Closes #12042

time:
2015-08-26T09:00:48Z
class:
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ExtendedStatsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/HDRPercentileRanksIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/HDRPercentilesIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/MaxIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/MinIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/StatsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TDigestPercentileRanksIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TDigestPercentilesIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
core/src/test/java/org/elasticsearch/search/sort/SimpleSortIT.java
comments:
Tests: use assertHitCount instead of direct assertion on hits in metric tests

So we will get more info on failures

time:
2015-08-26T08:23:03Z
class:
core/src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
core/src/main/java/org/elasticsearch/index/analysis/CustomAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/StringFieldMapperPositionOffsetGapTests.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-08-25T22:01:38Z
class:
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
comments:
Merge pull request #13111 from nik9000/position_offset_gap_in_2.0

[Mapping] Move position_offset_gap default change

time:
2015-08-25T22:01:10Z
class:
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
comments:
[Mapping] Move position_offset_gap default change

Until a couple of hours ago we expected the position_offset_gap to default
to 0 in 2.0 and 100 in 2.1. We decided it was worth backporting that new
default to 2.0. So now that its backported we need to teach 2.1 that 2.0
also defaults to 100.

Closes #7268

time:
2015-08-25T20:21:04Z
class:
comments:
Update indices.shard_stores.json

Correct documentation url

time:
2015-08-25T19:38:14Z
class:
comments:
[docs] Fix typo

grap -> gap

time:
2015-08-25T18:51:23Z
class:
comments:
Merge pull request #13109 from jasontedor/fix/13107

More portable extraction of short hostname

time:
2015-08-25T18:29:16Z
class:
comments:
More portable extraction of short hostname

This commit increases the portability of extracting the short hostname
on a Unix-like system.

Closes #13107

time:
2015-08-25T18:21:50Z
class:
core/src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
core/src/main/java/org/elasticsearch/index/analysis/CustomAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/mapper/core/StringFieldMapper.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/index/mapper/string/StringFieldMapperPositionOffsetGapTests.java
comments:
Mapping: Default position_offset_gap to 100

This is much more fiddly than you'd expect it to be because of the way
position_offset_gap is applied in StringFieldMapper. Instead of setting
the default to 100 its simpler to make sure that all the analyzers default
to 100 and that StringFieldMapper doesn't override the default unless the
user specifies something different. Unless the index was created before
2.1, in which case the old default of 0 has to take.

Also postition_offset_gaps less than 0 aren't allowed at all.

New tests test that:
1. the new default doesn't match phrases across values with reasonably low
slop (5)
2. the new default doest match phrases across values with reasonably high
slop (50)
3. you can override the value and phrases work as you'd expect
4. if you leave the value undefined in the mapping and define it on a
custom analyzer the the value from the custom analyzer shines through

Closes #7268

time:
2015-08-25T15:59:07Z
class:
comments:
Docs: Removed river docs from master

time:
2015-08-25T15:58:07Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java
comments:
Merge pull request #13085 from rjernst/fix/13017

Fix document parsing to properly ignore entire type when disabled

time:
2015-08-25T15:53:44Z
class:
comments:
Docs: Added a networking section to migrating changes and mentioned multicast removal

time:
2015-08-25T15:16:14Z
class:
comments:
Release notes: Add upgrades category

time:
2015-08-25T14:35:16Z
class:
comments:
Merge pull request #13080 from nik9000/index_noop_docs

Document noop behavior of index api

time:
2015-08-25T11:51:05Z
class:
comments:
[build] update to elasticsearch 2.1.0

Closes #151.

time:
2015-08-25T11:48:37Z
class:
comments:
Update README for 3.0.0-SNAPSHOT

Related to #151

time:
2015-08-25T11:29:33Z
class:
comments:
Disable "Multiple Attachments With Encrypted Doc Should Fail" test

This test has been disabled as it tries to decode an encoded PDF using BouncyCastle lib
Elasticsearch security manager does not allow permission java.security.SecurityPermission "insertProvider.BC";

See https://github.com/elastic/elasticsearch/pull/13077
See https://github.com/elastic/elasticsearch-mapper-attachments/pull/150#issuecomment-134247110

time:
2015-08-25T11:16:46Z
class:
core/src/main/java/org/apache/lucene/queryparser/classic/QueryParserSettings.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
comments:
Merge branch 'master' into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java

time:
2015-08-25T10:53:41Z
class:
core/src/main/java/org/apache/lucene/queryparser/classic/QueryParserSettings.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
comments:
Internal: remove unused code from query_string parser and settings

Closes #13098

time:
2015-08-25T10:19:24Z
class:
comments:
Add smoke-tester to mail template

time:
2015-08-25T09:59:40Z
class:
core/src/main/java/org/elasticsearch/bootstrap/JNANatives.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/common/settings/loader/PropertiesSettingsLoader.java
core/src/main/java/org/elasticsearch/common/settings/loader/XContentSettingsLoader.java
core/src/main/java/org/elasticsearch/gateway/MetaDataStateFormat.java
core/src/main/java/org/elasticsearch/http/HttpServer.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
core/src/test/java/org/elasticsearch/common/settings/loader/JsonSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/PropertiesSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/YamlSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/AmazonS3Wrapper.java
comments:
Merge branch 'master' into feature/query-refactoring

 Conflicts:
	core/src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java

time:
2015-08-25T09:57:55Z
class:
comments:
REST spec: Fixed link to delete-by-query docs

Closes #13089

time:
2015-08-25T09:06:26Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
comments:
Merge pull request #13082 from jasontedor/feature/13081

Consolidate duplicate logic in RoutingTable all*ShardsGrouped

time:
2015-08-25T08:56:08Z
class:
comments:
Merge remote-tracking branch 'origin/master'

time:
2015-08-25T08:53:43Z
class:
comments:
Merge pull request #13078 from s1monw/add_smoke_tester

Add RC smoke tester that checks basic functionality

time:
2015-08-25T08:51:24Z
class:
comments:
Update joda-time to 2.8.2

- DateTimeZone data updated to version 2015f

- Fixed to handle JDK 8u60 [#288, #291]
  Without this fix, formatting a time-zone will print "+00:00" instead of "GMT" for the GMT time-zone

- DateTimeZone data updated to version 2015e

time:
2015-08-25T08:13:36Z
class:
core/src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
comments:
Merge pull request #13087 from martijnvg/nested/child_filter_can_just_be_regular_filter

Nested query should only use bitset cache for parent filter

time:
2015-08-25T04:22:21Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/gateway/DanglingIndicesState.java
core/src/main/java/org/elasticsearch/index/shard/CommitPoint.java
core/src/main/java/org/elasticsearch/index/shard/CommitPoints.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshot.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshots.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotUtils.java
comments:
do real copies where copyOf was used before

time:
2015-08-25T03:23:59Z
class:
core/src/main/java/org/elasticsearch/common/settings/loader/PropertiesSettingsLoader.java
core/src/main/java/org/elasticsearch/common/settings/loader/XContentSettingsLoader.java
core/src/test/java/org/elasticsearch/common/settings/loader/JsonSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/PropertiesSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/YamlSettingsLoaderTests.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/AmazonS3Wrapper.java
comments:
Merge branch 'master' into lists_are_simple

time:
2015-08-25T02:06:58Z
class:
core/src/main/java/org/apache/lucene/queries/MinDocQuery.java
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/action/ActionRequestValidationException.java
core/src/main/java/org/elasticsearch/action/search/SearchType.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScanAction.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCLIParser.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/bootstrap/Elasticsearch.java
core/src/main/java/org/elasticsearch/bootstrap/JNACLibrary.java
core/src/main/java/org/elasticsearch/bootstrap/JNAKernel32Library.java
core/src/main/java/org/elasticsearch/bootstrap/JNANatives.java
core/src/main/java/org/elasticsearch/bootstrap/JVMCheck.java
core/src/main/java/org/elasticsearch/bootstrap/JarHell.java
core/src/main/java/org/elasticsearch/bootstrap/JavaVersion.java
core/src/main/java/org/elasticsearch/bootstrap/Natives.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/bootstrap/StartupError.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/cluster/ClusterInfo.java
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/MoveAllocationCommand.java
core/src/main/java/org/elasticsearch/common/ValidationException.java
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
core/src/main/java/org/elasticsearch/common/inject/Modules.java
core/src/main/java/org/elasticsearch/common/inject/ModulesBuilder.java
core/src/main/java/org/elasticsearch/common/inject/spi/Elements.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/common/joda/Joda.java
core/src/main/java/org/elasticsearch/common/logging/Loggers.java
core/src/main/java/org/elasticsearch/common/network/IfConfig.java
core/src/main/java/org/elasticsearch/common/network/NetworkAddress.java
core/src/main/java/org/elasticsearch/common/network/NetworkService.java
core/src/main/java/org/elasticsearch/common/network/NetworkUtils.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/transport/InetSocketTransportAddress.java
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
core/src/main/java/org/elasticsearch/discovery/DiscoveryModule.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/ZenPingService.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/gateway/MetaDataStateFormat.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/main/java/org/elasticsearch/http/HttpServer.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/monitor/process/ProcessProbe.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/plugins/PluginInfo.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java
core/src/main/java/org/elasticsearch/plugins/PluginsModule.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/plugins/ShardsPluginsModule.java
core/src/main/java/org/elasticsearch/repositories/RepositoryModule.java
core/src/main/java/org/elasticsearch/repositories/uri/URLRepository.java
core/src/main/java/org/elasticsearch/rest/BytesRestResponse.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/action/SearchServiceTransportAction.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/support/AggregationPath.java
core/src/main/java/org/elasticsearch/search/aggregations/support/format/ValueFormat.java
core/src/main/java/org/elasticsearch/search/aggregations/support/format/ValueParser.java
core/src/main/java/org/elasticsearch/search/dfs/CachedDfSource.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/ScrollContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/scan/ScanContext.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/main/java/org/elasticsearch/transport/Transport.java
core/src/main/java/org/elasticsearch/transport/TransportModule.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/main/java/org/elasticsearch/transport/local/LocalTransport.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/apache/lucene/queries/MinDocQueryTests.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
core/src/test/java/org/elasticsearch/benchmark/mapping/ManyMappingsBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/recovery/ReplicaRecoveryBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/GlobalOrdinalsBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/SubAggregationSearchCollectModeBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchAndIndexingBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/transport/BenchmarkNettyLargeMessages.java
core/src/test/java/org/elasticsearch/benchmark/transport/netty/NettyEchoBenchmark.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/bootstrap/JarHellTests.java
core/src/test/java/org/elasticsearch/bootstrap/JavaVersionTests.java
core/src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
core/src/test/java/org/elasticsearch/bwcompat/UnicastBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/client/transport/FailAndRetryMockTransport.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientRetryIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/NoMasterNodeIT.java
core/src/test/java/org/elasticsearch/cluster/SpecificMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/SimpleAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/AllocationIdTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RandomShardRoutingMutator.java
core/src/test/java/org/elasticsearch/cluster/routing/ShardRoutingHelper.java
core/src/test/java/org/elasticsearch/cluster/routing/ShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/TestShardRouting.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceConfigurationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ExpectedShardSizeAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RebalanceAfterActiveTests.java
core/src/test/java/org/elasticsearch/common/network/NetworkAddressTests.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/discovery/ZenUnicastDiscoveryIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPingIT.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/http/netty/pipelining/HttpPipeliningHandlerTest.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/index/mapper/MapperServiceTest.java
core/src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateIT.java
core/src/test/java/org/elasticsearch/monitor/process/ProcessProbeTests.java
core/src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
core/src/test/java/org/elasticsearch/options/detailederrors/DetailedErrorsEnabledIT.java
core/src/test/java/org/elasticsearch/plugins/PluggableTransportModuleIT.java
core/src/test/java/org/elasticsearch/plugins/PluginInfoTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/rest/BytesRestResponseTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/StringTermsIT.java
core/src/test/java/org/elasticsearch/search/scan/ScanContextTests.java
core/src/test/java/org/elasticsearch/search/scroll/DuelScrollIT.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/stresstest/client/ClientFailover.java
core/src/test/java/org/elasticsearch/stresstest/manyindices/ManyIndicesRemoteStressTest.java
core/src/test/java/org/elasticsearch/test/ESAllocationTestCase.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/ESSingleNodeTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/TestCluster.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
core/src/test/java/org/elasticsearch/test/VersionUtils.java
core/src/test/java/org/elasticsearch/test/discovery/ClusterDiscoveryConfiguration.java
core/src/test/java/org/elasticsearch/test/rest/client/RestClient.java
core/src/test/java/org/elasticsearch/test/rest/client/http/HttpRequestBuilder.java
core/src/test/java/org/elasticsearch/test/test/InternalTestClusterTests.java
core/src/test/java/org/elasticsearch/test/transport/CapturingTransport.java
core/src/test/java/org/elasticsearch/test/transport/MockTransportService.java
core/src/test/java/org/elasticsearch/threadpool/SimpleThreadPoolIT.java
core/src/test/java/org/elasticsearch/threadpool/ThreadPoolSerializationTests.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
core/src/test/java/org/elasticsearch/transport/NettySizeHeaderFrameDecoderTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortIntegrationIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportTests.java
core/src/test/java/org/elasticsearch/transport/netty/SimpleNettyTransportTests.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
core/src/test/java/org/elasticsearch/tribe/TribeUnitTests.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/AwsEc2Service.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/InternalAwsS3Service.java
plugins/cloud-aws/src/main/java/org/elasticsearch/discovery/ec2/AwsEc2UnicastHostsProvider.java
plugins/cloud-azure/src/main/java/org/elasticsearch/discovery/azure/AzureUnicastHostsProvider.java
plugins/cloud-gce/src/main/java/org/elasticsearch/discovery/gce/GceDiscovery.java
plugins/cloud-gce/src/main/java/org/elasticsearch/discovery/gce/GceUnicastHostsProvider.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryAction.java
plugins/delete-by-query/src/main/java/org/elasticsearch/plugin/deletebyquery/DeleteByQueryModule.java
plugins/delete-by-query/src/main/java/org/elasticsearch/plugin/deletebyquery/DeleteByQueryPlugin.java
plugins/discovery-multicast/src/main/java/org/elasticsearch/plugin/discovery/multicast/MulticastChannel.java
plugins/discovery-multicast/src/main/java/org/elasticsearch/plugin/discovery/multicast/MulticastDiscoveryPlugin.java
plugins/discovery-multicast/src/main/java/org/elasticsearch/plugin/discovery/multicast/MulticastZenPing.java
plugins/discovery-multicast/src/test/java/org/elasticsearch/plugin/discovery/multicast/MulticastDiscoveryRestIT.java
plugins/discovery-multicast/src/test/java/org/elasticsearch/plugin/discovery/multicast/MulticastZenPingTests.java
plugins/site-example/src/test/java/org/elasticsearch/example/SiteContentsIT.java
comments:
Merge branch 'master' into lists_are_simple

time:
2015-08-25T00:51:22Z
class:
core/src/main/java/org/elasticsearch/common/settings/loader/PropertiesSettingsLoader.java
core/src/main/java/org/elasticsearch/common/settings/loader/XContentSettingsLoader.java
core/src/test/java/org/elasticsearch/common/settings/loader/JsonSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/PropertiesSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/YamlSettingsLoaderTests.java
comments:
Merge pull request #13086 from jasontedor/fix/no-duplicate-settings

Detect duplicate settings keys on startup

time:
2015-08-25T00:50:46Z
class:
core/src/main/java/org/elasticsearch/common/settings/loader/PropertiesSettingsLoader.java
core/src/main/java/org/elasticsearch/common/settings/loader/XContentSettingsLoader.java
core/src/test/java/org/elasticsearch/common/settings/loader/JsonSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/PropertiesSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/YamlSettingsLoaderTests.java
comments:
Detect duplicate settings keys on startup

This commit changes the startup behavior of Elasticsearch to throw an
exception if duplicate settings keys are detected in the Elasticsearch
configuration file.

Closes #13079

time:
2015-08-24T21:08:09Z
class:
comments:
Docs: Add migration guide notes for multicast moving to a plugin

See #13027

time:
2015-08-24T21:06:28Z
class:
comments:
[cloud-aws] Update AWS SDK to 1.10.12

Release notes:

* [1.10.11](http://aws.amazon.com/releasenotes/Java/5199590350929641)
* [1.10.12](http://aws.amazon.com/releasenotes/Java/6635368276326731)

time:
2015-08-24T20:58:10Z
class:
comments:
[cloud-aws] Update AWS SDK to 1.10.10

Update SHA1 files.

Closes #12859.

time:
2015-08-24T20:50:57Z
class:
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/AmazonS3Wrapper.java
comments:
[cloud-aws] Update AWS SDK to 1.10.10

Closes #12859.

time:
2015-08-24T20:19:56Z
class:
core/src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
comments:
nested: child level filter should be a regular filter!

time:
2015-08-24T19:35:50Z
class:
comments:
Merge pull request #13070 from nik9000/eclipse_fix

Fix some issues developing Elasticsearch with Eclipse

time:
2015-08-24T19:05:00Z
class:
comments:
Added link to test framework for plugin authors

time:
2015-08-24T19:03:25Z
class:
core/src/main/java/org/elasticsearch/bootstrap/JNANatives.java
core/src/main/java/org/elasticsearch/bootstrap/JavaVersion.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/common/inject/Modules.java
core/src/main/java/org/elasticsearch/common/inject/ModulesBuilder.java
core/src/main/java/org/elasticsearch/common/inject/SpawnModules.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/gateway/MetaDataStateFormat.java
core/src/main/java/org/elasticsearch/http/HttpServer.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/plugins/IndexPluginsModule.java
core/src/main/java/org/elasticsearch/plugins/PluginsModule.java
core/src/main/java/org/elasticsearch/plugins/ShardsPluginsModule.java
core/src/main/java/org/elasticsearch/repositories/RepositoryModule.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/discovery/ZenUnicastDiscoveryIT.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/threadpool/ThreadPoolSerializationTests.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
comments:
Merge branch 'master' into tell_me_your_plugins

time:
2015-08-24T18:08:38Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/test/java/org/elasticsearch/index/mapper/DocumentParserTests.java
comments:
Mappings: Fix document parsing to properly ignore entire type when disabled

Currently when an entire type is disabled, our document parser will end
parsing on the first field of the document. This blows up the recently
added check that parsing did not silently skip any tokens (ie whether
there was garbage leftover).

This change fixes the parser to correctly skip the entire document when
the type is disabled.

closes #13017

time:
2015-08-24T16:26:54Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
comments:
Consolidate duplicate logic in RoutingTable all*ShardsGrouped

This commit consolidates the logic in
RoutingTable#allActiveShardsGrouped and
RoutingTable#allAssignedShardsGrouped into a single method that merely
applies a predicate to each ShardRouting.

Closes #13081

time:
2015-08-24T16:19:07Z
class:
comments:
[docs] Document noop behavior of index api

Relates to #12969

time:
2015-08-24T16:16:00Z
class:
comments:
Merge pull request #13072 from cbuescher/plugin-install-help-update

Update the plugin install CLI help to the new short name for commercial plugins

time:
2015-08-24T15:56:59Z
class:
comments:
Changed help text

time:
2015-08-24T15:21:38Z
class:
src/main/java/org/elasticsearch/index/mapper/attachment/AttachmentMapper.java
src/main/java/org/elasticsearch/plugin/mapper/attachments/MapperAttachmentsPlugin.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/MapperTestUtils.java
comments:
Update to 2.0.0.beta1

Note this PR requires for now https://github.com/elastic/elasticsearch/pull/13001 to be merged in branch 2.0.

It sounds like it's not required for master branch (2.1.0-SNAPSHOT)

time:
2015-08-24T14:21:30Z
class:
comments:
Add licences

time:
2015-08-24T14:21:30Z
class:
src/test/java/org/elasticsearch/index/mapper/attachment/test/integration/AttachmentIntegrationTestCase.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/integration/EncryptedAttachmentIntegrationTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/integration/MapperAttachmentsRestIT.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/integration/SimpleAttachmentIntegrationTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/DateAttachmentMapperTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/EncryptedDocMapperTest.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/LanguageDetectionAttachmentMapperTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/MetadataMapperTest.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/MultifieldAttachmentMapperTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/SimpleAttachmentMapperTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/VariousDocTest.java
comments:
[test] move to real integration tests

We have a security manager issue with [Bouncy Castle](http://www.bouncycastle.org/wiki/display/JA1/Using+the+Bouncy+Castle+Provider's+ImplicitlyCA+Facility).

Recommended permissions:

```
grant {
   permission java.security.SecurityPermission "putProviderProperty.BC";
   permission java.security.SecurityPermission "insertProvider.BC";
   permission org.bouncycastle.jce.ProviderConfigurationPermission "BC", "ecImplicitlyCA, threadLocalEcImplicitlyCA";
};
```

Steps to reproduce the issue:

```sh
cd target/integ-tests/elasticsearch-2.0.0-SNAPSHOT

# Configure elasticsearch for SENSE (if you need)
echo "http.cors.enabled: true" >> config/elasticsearch.yml
echo "http.cors.allow-origin: /.*/" >> config/elasticsearch.yml
echo "http.cors.allow-credentials: true" >> config/elasticsearch.yml

# Launch elasticsearch
sh bin/elasticsearch
```

Then run this test script in SENSE:

```json
DELETE test
PUT test
{
  "settings": {
    "index.mapping.attachment.ignore_errors": false
  },
  "mappings": {
    "doc":{
        "properties":{
            "file1":{
                "type":"attachment"
            },
            "file2":{
                "type":"attachment"
            }

        }
    }
  }
}
PUT test/doc/1
{
              "file1": "PCFET0NUWVBFIEhUTUwgUFVCTElDICItLy9XM0MvL0RURCBIVE1MIDQuMDEgVHJhbnNpdGlvbmFsLy9FTiINCiAgICAgICAgImh0dHA6Ly93d3cudzMub3JnL1RSL2h0bWw0L2xvb3NlLmR0ZCI+DQo8aHRtbCBsYW5nPSJmciI+DQo8aGVhZD4NCiAgICA8dGl0bGU+SGVsbG88L3RpdGxlPg0KICAgIDxtZXRhIG5hbWU9ImRhdGUiIGNvbnRlbnQ9IjIwMTItMTEtMzAiPg0KICAgIDxtZXRhIG5hbWU9IkF1dGhvciIgY29udGVudD0ia2ltY2h5Ij4NCiAgICA8bWV0YSBuYW1lPSJLZXl3b3JkcyIgY29udGVudD0iZWxhc3RpY3NlYXJjaCxjb29sLGJvbnNhaSI+DQo8L2hlYWQ+DQo8Ym9keT5Xb3JsZDwvYm9keT4NCjwvaHRtbD4NCg==",
              "file2": "JVBERi0xLjQNCiXDpMO8w7bDnw0KMiAwIG9iag0KPDwvTGVuZ3RoIDMgMCBSL0ZpbHRlci9GbGF0ZURlY29kZT4+DQpzdHJlYW0NCjB+az8/Pz8/bDU/Nyw+Pz/Ln1hqZT8uTD9LMS0/Jj9bRDM/SFY/Pz92P2B2P1dxRE5BP2k8Wk0/P01RP3c/PytUP2YmPz9OSD94WT8/RD8/P31AID9JZ9KeYT91Pz8/RD8/PURPP0g/P28/bz8/P3k/UVk/dD8/Pzg/P2tjP3lmPz8/Pz9uP01mfEV6dVwmP095P2osPz14Xyk/P0swbQ0KZW5kc3RyZWFtDQplbmRvYmoNCg0KMyAwIG9iag0KMTg2DQplbmRvYmoNCg0KNCAwIG9iag0KPDwvVHlwZS9YT2JqZWN0DQovU3VidHlwZS9Gb3JtDQovQkJveFsgLTkgNDIwIDYwNCA0MjAuMSBdDQovR3JvdXA8PC9TL1RyYW5zcGFyZW5jeS9DUy9EZXZpY2VSR0IvSyB0cnVlPj4NCi9MZW5ndGggOA0KL0ZpbHRlci9GbGF0ZURlY29kZQ0KPj4NCnN0cmVhbQ0KPz8gPw0K24kNCmVuZHN0cmVhbQ0KZW5kb2JqDQoNCjUgMCBvYmoNCjw8L0NBIDAuNQ0KICAgL2NhIDAuNQ0KPj4NCmVuZG9iag0KDQo3IDAgb2JqDQo8PC9MZW5ndGggOCAwIFIvRmlsdGVyL0ZsYXRlRGVjb2RlL0xlbmd0aDEgMTk5MjA+Pg0Kc3RyZWFtDQo/Rz/Lij9lP1E/UT8/MCs/M0I/N00/P00/DQpfdz87ND8/TD8/QT8/Nz8/wrU/Pz9zPzlPUyQ8XT/Vsj9DP9yOT1ljPz8/Uj8/ITY/Pz9Jaz8/dT8/Pw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Pz8/Pz8/P3k/dj8/ICl0Ij9sNz8/Pz8/bWs/P9uuPz9zVSM3Pz8zP1A/P3U/VT8sP1wpPz96P0o/PT8/ID8/OkA/Ii52w6YyP+WHmj8/Pz8/dV0/P2U/KD8/P08/P3FBP25Yc3w4P3U/QHs/Pyx5WD9OY9iEYcu3Pz8/P2JfSz8mPz8/Pz8/QTI/Kig/Pz95Pz8/P20/P04/P2w/DQo/P8mxWD8/Pz8/P1Yva3l0bEs/eVxrP3c/TDZRPz9DIT8/P1s/LD8/P2Y/Oj9mPyAgPy5vP2E/DQo/ej/Qsj8/Pz8/TDZRV2k/Pz8oPz86MT8/bXd4P3IkPz9SWT8/Kz9UIcOBLD8tPz8/Pz9LP2DbnT8/P3w9Pj8/P28/Pz9UYUY/fCxOPT8/P04/cj9kP0I/DQpUUD8/zZs/WT/Zk1YmPz8/XcmQYCI/44WwPz8tP2t8Mis/c1A6Pz9NP08/ez8/T1Y/1KY/P30/Pz8/Pz8/Uj8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzDQo/dz9qPz9QP013Pz9PP3E/fD/Rqz8NCiAgICAgICAgICAgICAgICAgICAgPw0KICAgICAgICAgICAgICAgICAgICAgfEE0P1RoPz8/dmsqPz9tPz8/DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/Pz8/Pz86Kg0KP966Qk9bPzg/LD8/QT8/P1g/ICAgICAgID8/Wz8/Pz9aP3t5Q3I/fjt8TT8/Yz9Cw7gxRz8/Pz8/1qE/P34/P29DPz9GP3E4P2U/Pz9xPz9rWD9uP1Q/CT8/aduZ66aaPz8oCWc/Sj8/eD8/1IsNCj9MMD8/N3N4P3R+Pz8/JD8/Pz8/Kj8/P1Y/P0NWOj8+Pz9hPz9rP3E/cz8/P9yTWik/Pz/Gjz9zPz/Mvm06YNaXRc6tZT8/dNuePz89SzAoP2o/fT8/ej8/NEA/YD8/Nz9PW1k/LD8vVzA/P2I/PzFRP0I8Pz8NCj8/Rj8vPz8zP8WLPzE/Pz/hp6k/Pz/aq0trIF4/P1lUPz8/Iy5uWT8/RGc/P1g/Pz8/xJs/Pz8/IW0/Pz9GDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/SdyZP3fPsk8/xK1PP3FSP08zPz9cPzJ4Pz5rL0ZKYT8nU3VZCTR1fj81aj9hPz9p34XwuLOLSj/Ogz8/ez8gPz91ZT/Ej2o/P0k/Pz8/ST9lLj8/Tz/EhD9VRXs/OUE/P2N0P3pOXz8/cz8/Pz9oUD8/Pz8/V00/P1soPz8/Nz88NFo/Pz96Pyg/Pz82Pz/GqkI/QD84Uj9RP9uoMnk/LiFBPw0KPzQ/QSo3P3w/1YI/X3w/ID/atT/pm4g/Rj8/Nj9CPj8/PyQ/P2A/Pz9QQFw/Pz8/az/cgj8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/TD8/MD8/Pz96P1w/Pz8/Pz8/Vz9JUiR+Pz9nP3stbz/Sp1I/aHE/P1drP2ljPzQiPz9CND8kID9YPz9uPz9m7JCocj91Lj8/MiE/ND9IPz8/PzM/REg/Pz9dP9ioPyc/Ync/PyM/P0Y4Py0/04g/yKY/dz9XQz8/Pz8oej8NClw/Vc6gPz9xPy8/Pz8wDQogICAgICAgICAgICAgPzFjVz8oPyY1fT8/XFY/TjM/P18/Pz8/QCE/P34/PzZRUz8/Pz8/Pz8/R3RyMj8/CVo/Tj8/Mw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID9cPyo/Uj8/Pz8oPz8/Pz8xPyU/Wlw/PzQ/dT87P3o/P1c/KM6PPz/XmT8/Pz85PD8zPz9+Pz8xDQo/P9Wlbz8/YduHLj90djwmPz8tdz9vaD/Trz86Pz8yPz8pJz8/MT8nPwl8PyNT07U6Pz8/NtyHPzI/QT8qPzQxTT8/aj8/Yj8/P2pBWlQ/PzZJNT8/PzrNvT8/ID8/P2M/P1A/DQogICAgICAgICAgICAgICA/Pz82L3vMo1NdLT8lPz8vPz8/P2MxOz9qIyQjwoFkPwk/Pz9kbT8/LTc/dj8/Pz95P35uP3RNP3A35oeRIXw/Mj8/ND8/NEY/Ij/KjDc/cD/Wj30uP1M/IygNCiAgICAgICAgICAgICAgICAgICAgICBOPz8/DQogICAgICAgICAgICAgICAgICAgICAgICAgID08Pz94MD8/IT9KZT8/P20/Pz/hjLE/SD9uP1A/Sig/cVR6CT8/Tz8/P0/TvDk/1aw/Pz8oZj9LP0dAPz8/ez8/IWlCP15fMnY/VFYyOD9IPy4/WD8/ez8/Pz9DP0Y8adGF36w3LD8/cj/Rhj8/X1M6bT8/SD8/X1I/M2gJP2c/bFU2P3c/Pz8/VT8/Pz8/dj8/Pz8/P1h5IUM/biQ/Pz8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgID9yPz8/P0rprrsnPz8/KykqTDlTPz8/Pz8/Py8/Qz8/Pz8/WG1lPz8/P3g/P1w/NSUiW34nPz9Ecj8/JX0/SHVfR0k/QUFPP9WzPz8/az8/Lz96QD8/YU0/KD9SYj8/Pz8/PyclRQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBZPT8/xKo/Pz9qUnk/UFlLPz8/P3t3XX0/UD/Zgz8/Pz8oPyE/Pz8/MzE/Pw0KICAgICAgICAgdD8/Pz9UPz8/dj94PT8/Pz8/Pz9SPzM/Pz8tKj9uSHk/PzDNkz9yUT8/3ZVaP24/Pz9hP3c/aj/Qgz8gPz9RPy8hdT9mXWclP1g/dHs/PWlgP3o/Qz9tXT9TZD0/cD8lP2g/DQogICAgICAgICAgICAgICAgICAgICAgICA/XD8/Pz8/ZT8/P2LZqmt+Pz96N96KP3Q/Ijk/Pz8/KjM/P3k/U2g/PyBnPz8/SD9rP1k/Pz8/R1A0Pz96P3Q/YENRP+eAjz8/Xj9RP3U/P05KP2NbND9xP9GVP3k/Uj8/Jz9vcj8hPyU/P2BMPz9iYz9RPz8/P3E/cD9kP1Q/Oz8/Pz93Pz8/Pz9dQkouP8+kP3NtP1UNCj92PzlvPz89KHs/PT8/cD9manc/Pz8/Tz8/Pz8/Pz9ZPz8/dnA/TD9+Pz9c1os/Pz8/aX4/JD8/Pz8+Pz8/CT/Vr0k/dz8/a3w/JlYNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgP35SP3U/fCY/QmE/P1ZWPz8/Pz9HKz9FJD9rSj85Pj91d09IP0Q/Pz8/Pz9hPy04Pz8/Pz9wPzE/XkQ3P3N6P1s/K1JTWj0/Pzk/Tj9Qaj9HP3s/Pz9NNA0Kej8/P2h9Pyh6Pzg/OD8/Pz/ejC4/Jz8/Jz9RUj8/QD8/JD8/JFgNCj8/Pw0KICAgPz8/PD8/WEk/P2g/cz9wPD90Pz8/PzRhP3pIRS0/e1U/Pyk/P9SrVnRYJGY/Pz9qPyIvPz9tTH0/Zdy5I1I/Q8KfPz8/Pz9CMT8/ZD9lbz8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1Kz50PtSDdEs/UT8/Pz9tXD8/Pz9PyZExP2FOPj8vNHBuVQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA7Pj8qZj88P21aST8/Yj8xQD9oPz8hdT9eP3zMrj8sK21hPz8wMCc/ej9bPz8/XVw/YFpNUCI/aUE/Pz8/7IKRNGpFMz91P1RyPz9wP1BSPz8/Tj9lJH5nPz9wPz8/TkduPz8/U30/cT9SPz9Laz8/L34/P9q2P0kzPz/dpF86Pw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQj9cP04/dD5oaT8/Oz8/amssZz/LtD8/ej/FuiE/P3dmPz8/Pz9Ze3s/Pz8/Lj9wPm8oeG5626hFbX4zQj8/P28uPz8/Pzs/Pz8/CT97Mz8/Sz8iJi9VIj95Pz8/VT8/Pz8NCiAgICAgICAgICAgICAgPz9kTT8/Pz9VKz8/Lj9zP3dTzbtAPw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/MSY/Pz9oP0g/Wz9KNz9mPz8/xZk/Mz94MjQ/OGR3Zz8/Jj8/PzB5Sj9DPz8lO8qNbj9vcj9NbT8Jw5BoPz8/TWEsPyE/Pz9sDQp5Kj94Pzc/aloiPz88Xz8/ej9APz8jPz9IPz0/1Lc/UD9XOVs/XD8/Pz8/P0huP3E9RD/Urz8/Pz8/NS1bPz8/bD8/P3tfZj8/PD90NdauPz/cvD8/P0o/XT9IfD8/Ij8kPz8/P24/Pz8nPz8/PzchLHZRPz/Mij8/PA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICo/XnFhP2o/XT8/RDzXlz8/xIQ/P1lGPz8/Rd6eITA/U1Y/P20/Pz9wXj8/MD9ePz83P9KIP2A/Pz81Zj8/Pz85TT8/Wz8/P24/ej8vPz8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMD8/PHJIPz8/P34/PwlTLTA0fHU/P1pMPz8sPz8/zpc3TC0/x6A/PyEyPz8/Pz8/Ij96xa8/Sj9ddz8/Pz8/P3ZjVT8/PyA/cD8/PzpY7ZWOOlc/bD8jQGo/Py4/Pz8/Pz9ePz8/Pz8/Pz9kTjNdRy1mT3t0Pz0/ajkgSDQ/VnI/Pz8/Pz0/P2gnJD98P0lHPz91PztzNT8/Py/KsD98Pz8/Nj9wPz8/UlY/Vz9nPyw/P1p7NT96cyFvPyB0Kz8pP1dFPw0KPz8/Kj8/J8meP2E/Pz8/Pz9AXyFjPz8/PyZkx45lIj9FPz84Pz9vZT8/Pz8/YD8/P28/Pz86PykyPz8rPz9xPz8/Py0/LUhwPz/csG4/P3ghPz8wP0J5P8qjZk8/dEo/Pz9OUj82P2JWLHbKujM/DQogICAgICAgICAgICAgICAgICAgICA/Lm5AYD9Wczs/P0I/P2k/Pz8oP0c/NT8/P18/P1lyP0E/Pz8/Pyk/SyY/2a0/Pz87OD8/Pz8/P3U/Pz9QP242Iio217c/P2I/YklLP2YmPz8/Mig/Kz8/ZlwxP3pdPyU/WMugP0gvPz8/P0U/Pz9AUMyjP1c/Pzc/RT8/UG4/Pz8/Pz84K08/Pz9mej8qJj8/0p8/4oKsP04/TykkPz8/e2Q/aD887428Pz/Ut1plVD8/Pz8/Pz8nPz8/Ij8/P1MNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID9OPz8/Py16OT8/1bEzPyc/ZDkxPz8/P9KrPw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID9vYz8/RDLVkExCPz9BPyE/P2E/yLk/eD9oPz9HP0jMnz8/Pz9RPz8/Pz8/Mj960rM/fT8kJz8/Pz8/P0o/Pz80Lz8/Pz9AVT8/Pz9kPz8/Pz8/Xnw/bj8/QdeXPz9TPzw/Pz96Z3l6P195Pz93PzE/NT8/Pz8/Pzk/w5ZzPz8uK28/Pz9ZSz8jPz8/1Jg/Pz9nP1lPPz8/DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlPz8yPz92P9anPT8/Pz8/PCU/PD9mP1lxPzk/NDtbzoQ/XD9XPz8/PzHanD8/OnTKhT8wPz8/P1w/Pz9uP0w/P3Q/ZT8/Pz8/Py10Pz8uPz8/P2QpYT8/Pzw/Pz9vdD9dDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA7P0JRJlTegT9nZjk/I3bNh0A/P0JGOD9qZj9uPyVLP1R9eH5VPz8/Pz8tNSE/Yz8/cSs/Zj90NGZmbUEpPyM/PyI/dj8tWz4/Pz9+PNSuPz8/P3INCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID9mPz8/Pz9+Pz8/Pz8/Jz8/Py4/Pz9NID8/Pz9idgk/P1I/Pyo/xIg/dl8/Pz/Vtk4/P2I/e2s/PzA/P0JVP2E/ID8rPz8hQVE/NT18P0FgIj8/fG4/TD8/Pz9NeS4oPz8/P3IqPz8/JUkiPz89LV4/TT8/Iz8/Pz8/P34/ME3Ht8mpPz8/RT8/cj8/P2Q/UC5LPz8/bCI/bFBdPz8kP0M/Pz9KCX0NCk4/Pz8/Pzk/bEc/Pz9szII/aVU3ICY/RChsPz9IPz8/bT8/P1cjP8yoPyvbmUo/eTo3P0A/fFd9P2E/Pz90eWg/P1o/Pz8/YT8/ej8pPz8/Pz9tPzQlPzc/0rVa2IU/Sz8/WD9+06c/Pz8/Pz8/Pz/RtT8/PzUzKjnYrz/XiQ0KRCo/NyNrP3cpP8mrUj8NCj8/Pz8/byc/dyd4Pz87eD8/NT8/Pz8vPz/Yo0FEMj8/UD8/Pz8/PyNMWj8uPz9Qw6k/MjQ/Pz9eOj/Sqj8/P1Y/240/Py15Zz8/bz8/PyQ/Pw0KLz98U1w/OVQ/Pz85Xz8/Pz9aPz8/yLEhcD90VT8/Rj8hy7RFPz9YP2NJVT8leD8/PzM/P1lYOnc/MD8/P3c/Vz8yDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/06M/Pyc/J2A/PyR7Pz8/P2kwP0JKP18/TGQ/eVk/Pz8/Pz8JP1s/Ud6GeChc1pg2Pz8iP1AlPyo/Pz8tPz9oPz9uPz8/Pj8/Pz8/Pz81LjM/Pzk/Pz89Pz9PPz9GJT9DKOODrj8/bT8/RU4/VXVQJWNvPz86P0p507k/Pzg/P1U/Pz95LFpVPz8/P2A/Oz8/Pz/LnV4jd2I6ac2wP2JRPwk/bj8/26k/WD8wPz8jaT9vPy4/QT8/NkIhPz/fjyU/wpE/cz8/P27dtT95OD8sP2prP3w/P3s/Vj88P9a3P9+KPy4/P2BAdlbSgj8/Imo/P0c/UD9iP250P9aDPz8/PyM/Jkg/Py4/Rz9oRD8/xqgiPz8lPyU/Pz8/RzM/Pz97P3c3Pz/dk0cnPw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgP3c/Pz8/P0liYD9ZPzo/JlZtcj8/c2lYPz8/P24/P18/Pz80ank/P0tFKj/OmFJ4P3g/OyMyM2QkNT8/cCsyIj9cPzw9JMmnP1lHPz8/X00lPz9lQnxKTEJp1oI/Nj9D1Z0/VHZWXz9yPz8/cz/apEw/w7JcWz8/Pz98bWw/CT8/P2M/PzM/Pz8/Pz9tPyciPz4/e3bUmQ0KICAgICAgICAgICAgICAgP0w/P0p1Mj9iP2A/aT9mPzw/P2BfPz9eP2FVPz/Yqj8hP0s/P1dgPz9AP0QJP08/fj8/UH4/Pz9nVD8/Pz9uZT9vP+eShD8/Pz4/P3skPz90dmo/cz8jNz9LPyY2P9alP2o/P92OP3g/Jm9jPy8/cj8/Pz8lPz8/P3A+Rz8lP0gqJj8/Pz80PyFRQz8/P8+oPz9kRT8/Pz5RPyE/VFNBSlw/YnQ/P1wgP3E4PyE/P9SMPz8/ZD8/Kg0KPz8obD9ZPyo/P3VTP11GKT8/Pys/Pz8/Pz8/34rXsnFJWz93Pz9aRT9JMzhXTlk/P3hzPz8/xJR8Pz9dSVU4Ljc/Py8/Pz8/Pz8/P2k/0Ig/PwlZeHdoPz8/UT9iWdCEP3k/Pz9IfT9PPz8/TtqBPz/Xu2A/Pz8/ID8/P1Y/DQo/P0lMRj8/Rzo7I0Y2Jj92Kj9HVzw/P0FIPz9vMD8/MmE/Pz8/P1MpVD8/Pz98S1U/Pz9UCTc/ej8/Pz/CtnVJPz9OSnI/Pz/crD8iPT8/Qj9xPz9SLj/voq0NCiAgICAgICAgICBmPz9xPzE/MT8JPz8/Pz8+JHw/Lj9qdT9zYHA/cVM/1ZEJP24/ZT8/Pz9Odjo/y7U/Pz8/LD8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA9XD8/JT8/Pz9YP8uEP1E/Pz/HjT8/V3TVkD8/dz8/fD8/Pz8tOGY0Pz/euj98Pz97aT9XQSk/Pz8/PysnPz8nP0A6TdeBPz85UW91Pyc/UzVlRD9UNz8/P0E/Pz9tZHY/PyI/cD9yT2hGPyRJP9+rMj8lWWA/Pz8/Pz9hdXk/zZcqVD9HPj8/Pz8/XT9kMD9ZND44XT8/ZT8/Q1g/Pz8/SD/YkVk/1JQ/PzM/Oz98Pz92TT8/ej8/P+mqmz8/P3U/Pz/csz9BND8/Pz8/aD8/ZT/Rm8iJPz8/Pz9qPz8/PyhXZD8/P2lCUVA/IEQ/Pz/nlrc/Pz/Viz8/P0NcNT8vQXY/ZnA/Pz9vQD8/Pz8/P29EJD8/Pzc/Pz9YdT8rDQogICAgICAgICAgICAgIO2GsVg/UT87XFE/Pz8/Wz8/2Kc/2Jc/dw0Kdj94Uz8/YD8lP28/Pz80Pz9aRD8yP2ZjPz8uP0R6Pz8/VW8/Xj4/Jj8/dT8/SD/aoz8/Jg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfj8/Pz8/PXo/Z0dUPz9iPz8/czwnPz9tP2t4P1I/I3k/Nj8/Pz8/RlA0PD8/QT9oPz8sPz97MT8/RGdFcEY/Pz8JPz91Jj8/P2523r02Pz8/P2w3P1VPdD8qP2U/Pz9XcT8/Xj8/K1d6Pz8xP20/woEoXFpCP3Y9dC9NKD8/JD9fPzU/P0x+Pz8/Pz8tRFxSVj993JI/PzQ/Pw0KPz8NCj8hPz8/dyjJgz8/Pz86Nz8ye0c/Pyg/Zj8/LE0/Pz8/MD9yaktHWNyEMFU/fT8/P9OLPzM/bD9wP3cNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/PWU2Pz8/MmZSPyIraA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgS1A/Jz8/XSYoPz8/dj9AbD8/P3J4P3ZoUnJjP1QlPz9F3rxrPz8rPz8/Nj9SaT46Zz8/Pz8zPz8/Pz8/X1Y/P2ZYPz8/Pz9sP++sryU/Pz8kMT8NCiIyPz8/NUdKPz9PNj8/PzE/T3c/Pz8NCmhRSD8/KWU0Pz8/PVw/TD8vPyFBPz0/Xj8kPz9lPz8/Pz9yPmthP08/ajM/KT8/Pz8/ZUE/27g/Pz8hPy8/XW8/Yj9HP0Mjbms/75qFPzFMYj9YPz9oPz8/P8KHPz8/OCY/cT9xIQ0KP28/P1k5KCA/SEA/IVw/ciA/Rz8/Pz8rDQogICAgICAgICAgICAgICAgICAgIC4w34MrPz8/LT8zJGk/Pz9EP0E/PzJoPz92P2A/LT97PycyP1hHcj8/P0ghdXF5XmNkP2M/Pz8/PypINtqDMz8zPz8/ST8NCiAgICAgICAgwp0/PycvTSA/UT8/Sz8/Pz8qDQogICAgICAgICAgICAgICAgICAgICAgICAgPw0KOD9sP8WiPz8/P3E8y595Pz8oPz94Pz8/cj9sPz8NCj8/U0E/fHo5P2cvOE1mP2smPz8qOj9Xaz8/Pz8/Qj8/Tj8/Pz/bh14/SD9cMHI/P1w/Pz8/x6A/Pz8/IVI/PzZfPwkkPzNZWSdtPz9SP2BiP2U/P2c6P3VkP18/Pz85fj8/Pyo/aEjfoT8/PzU/P0FPTz80Pz9NcD91PzJoPz9eP3tiYVQ/Pz8/Uz8iYj8/Pz9rP2w/Pz8/Pz9zcD9geU8/Lio/cz8wPz9xPzc/Nd+FRmw/YG0/Pzw/zYU/TWk/Pz8/VD8/Rz8/Pz8/JXZHfT81zac/Pz8/eD8/fUAlPz8/Z1N2bN2NPyMuPz8gP2xpZD8/NFQ/Kz8/Pz8/Pz8/P1Y/Lj8/P1o/PwkhPz8/cz8/RjYNClkNCiA/MT8/fQ0KP20/YXE/L0A/WDtHP2E/Nm0/cD9VZnFaP0k/TD8nUz8/PyU/Pzk/Pz83P05OPz9wP0EkbUo/WD8/PzLNqT8/bD97Kj8/R8yrPz8/yJ4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPz8/SD8/SD9xUT8/P0NrPHk/aj8/Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUTk/cz8/Pz96IV3VuW1hTD8/MT9rPz/Isj8/Pz94PzE/RD99PzU/PyA/Pz8/Pz8/P111Pz8/IU8/UD84TT8/Mj9QPz8/OShDPyE/W3BKPz/JknM/ZT88P1Y/P3Y/RT82Jz8/VT8kP0Y/Vj9QOz8/aj9+Pz8/J1Y/dWQ/b3E/Pz9iPz8/cnE/Pz8/Jz9OP9CTOHvSpT8wP1Fc3oJPbT8nPz1PP2ojPz8nPz8/Pz8tKuSrpj8/OT8lWD8/Pz8/Pz8/Pz9rU+OYnSQkP1E/xrw/PyHMiD9RemY/P9GYPz8/S1E/SjE/Pz8/P3I/bz/WhD9uS3k/NX4/P1nelD8/TT92Pz8/eD8/YTw/P10/Uz8wP31hP3U/Ol1+SzM/cmh5PypWPz9haj92MlQ/Wz8/Pz8/P00/Uz8/Pz8/dEQ2P0trdz8/Pz/fhHINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFAiPz8/P2s/P2I/UXs/Pz8/Pz8/Wj8/DQpwPz8wPzc/Pz8/PzVRP0LTjj86aj8/Pik/cj8/PzkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyA/Pz/Ltj94P1Rfej98Tj8/P2tVSz9pP3M/bkc/anA/Pz8hP0A3fT8/Pz9uTz8/Pz8/djomPzNnTnY/TD8semQ/P0U/az8md3k/P9mKPz8/P3w/Pz8/Pz8/Pz83Pz8/Pw0KP3M/Pz8/P1U/Pz8/P1Y/P1R3K1zSpio/P3rRkD8rPzM/P0AzWD8/Pyg/dFM/P1I/cz8/Lz9J0Yc/Zj9qU9uUPw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbj8/ez8/aD8vPz/Iqgk/Pz8rJkY/RNKIPz9NP0Q7P144Pz9UUD8/Pz8rPz8/Pz98Mj9TPz97Pz8yRT8/KT8/XnNrY3g/Zj8/VT9FQl1dOj9QP3BmPz99P/C5jLFxJT9ucz9fRls/cUbSk1t5MFk/P2dHTz8/PylrWmk/fU5dPz8/SD8/ZWopPz86zJk/Jkk/Pz85P2k/aSE/Xz9wb0c/MnI/Klk/dT8/JMiM17lZUseJPz8/VD9PPz8/JiU+P9OEPzDUkDAoME8/Yz9CCT8/P3M/P0ddPzc8RsWH7qKKOXRjetyWPz9dPz/jvIg/Tgk/Pz8/PyU/P0jOvj8/Pz8/PytDUlE/bD9JRkk/JWd9e25iPzg/IT9QPz8/Pz93Pz8/2L4hK9Ccbj8/Pyk/Pz8/dT8mP0XGrD8/MD9vd1Q/fT/GtEQ/XT9RP1s/fChiPz9YP2M/P3ZXLT8/Uj8+MHg/Zz8/xpBKPy8xPyM/dz9RPz9OP0s6Pz8/NT9+Pz8/P2RHbz8JxIc/PyQ/P08/Uic7ND8/QU1iPz8/J0FfOz8/Sz9eJj8qP0ZpIj9cPz95Vj87SyRbPz8/Pj8/L1E/RS0/P1c/dTs8UDN8OVk/Qz9yPz86PzE/OjskKt2EP9GuPz8/P1/ZkGM/Pz8/Mz8/Z3I/Pz9APz86Pz8xPz8/DQo/IT9QX9yBeCNTQ2A/PUBVP0lyaj8/P8eSPzgtej8/Pzs/P2INCj8kKz8/c2g/Pz9lLiPdhA0KLiUzPz9QP8e9fGdnP0o/Py1gP3pdPz8/eilofUcvPz8/Vz8gP3E/Rz8nOj8/DQogICAgICAgICAgICAgICAgICAgICAgICYxPz8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgID9kcT8/cj9wYz/GgW5SPz8xTQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/Pz8/PzdyPD8lVz9UPz8/Pz9sPykgPy/KmFd2Pz8/Nj8/3Lk/P1x1P3g/Oyc/Pz8/IH5fyJPdsz8yRMafND8/P0A/P2w9Wj8/Pz8vOnY/PzI/Pz94Pz8/2oxAPz9bbj8/Ij8/Pyh+LSk/eCNmPz9cPz8/cD8nfj8/d3YjMz/JsT8/KD8/ZD8lDQo/P0s/1pRuPz8/P0o/Oj1yPz8/PyY/P1F6Pz8zPzk/ez8/Pz8/KlA/Pz9gbT8/MT8NCj8/Pz9sPj9MPz8xP3M/P1c/P18/fWNTP01wP04vPGs/aFZ1Sj9aUj8/Pz8rPz8/P08/eN2yeEg/Rz8/QD9aLj90P3R8Lz80P09YOT8/JUg/P9ytPz/Unz8/Pz8/fj9cPz8/VHk/Pz/WqWU/Pz8/Tz8/aeKAmD8/UD8/dj9hPz8/P+ajsT9sLWxSPz9cPz8/Kj8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHLCikk/P9SwPz86Rj9DPz8/azs/PzR70po/UT98Pz8/RA0KICAgICAgID8/PzA/PyVVP0U/Pz8qMj8/Pzk0Pz8/Lz8/U3A/Pz9IJD/gvIg/QFtxPz8jRD8/Oj8NCmVuZHN0cmVhbQ0KZW5kb2JqDQoNCjggMCBvYmoNCjExODcyDQplbmRvYmoNCg0KOSAwIG9iag0KPDwvVHlwZS9Gb250RGVzY3JpcHRvci9Gb250TmFtZS9CQUFBQUErQ291cmllck5ld1BTTVQNCi9GbGFncyA1DQovRm9udEJCb3hbLTEyMSAtNjc5IDYyMiAxMDIxXS9JdGFsaWNBbmdsZSAwDQovQXNjZW50IDgzMg0KL0Rlc2NlbnQgLTMwMA0KL0NhcEhlaWdodCAxMDIwDQovU3RlbVYgODANCi9Gb250RmlsZTIgNyAwIFINCj4+DQplbmRvYmoNCg0KMTAgMCBvYmoNCjw8L0xlbmd0aCAzMTQvRmlsdGVyL0ZsYXRlRGVjb2RlPj4NCnN0cmVhbQ0KMT8/RT8ycSE/NT8/zpw/yKI/Pz8gUT8/P0x4fXo/Mz8/Pz9jP0U/R20rNlQ/Iz8/Pz8/VT8/P2c/S9+oP1vMvU0/O8SwPz/PqWw/P2c/QD83P3pVPnw/Pz9wPzs/PyhyLDY/P3ZMP3JqPz8/PzU/fj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgP1XNuT95JT8/d1snP34NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERSPz/mlaA/P3wzPz8/Pz9F3J8m0oA/Ik4zPz8/Sc6FP2o/Lz8/eT90Pz8/Pw0K56SMbVA/PzLZhj8/IEF2Pz8/1o0/Pyk/Pz8/Pz8/Vl0/PT9DP0g/bm12Pz8/DQp0Pz8iPyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMJ14/Pw0KICAgICB5Pz8/Xz8/Yj9+Pz9OPy0zP0o/WGloND4/P00/Pz8/CQ0KZW5kc3RyZWFtDQplbmRvYmoNCg0KMTEgMCBvYmoNCjw8L1R5cGUvRm9udC9TdWJ0eXBlL1RydWVUeXBlL0Jhc2VGb250L0JBQUFBQStDb3VyaWVyTmV3UFNNVA0KL0ZpcnN0Q2hhciAwDQovTGFzdENoYXIgMjANCi9XaWR0aHNbNjAwIDYwMCA2MDAgNjAwIDYwMCA2MDAgNjAwIDYwMCA2MDAgNjAwIDYwMCA2MDAgNjAwIDYwMCA2MDAgNjAwDQo2MDAgNjAwIDYwMCA2MDAgNjAwIF0NCi9Gb250RGVzY3JpcHRvciA5IDAgUg0KL1RvVW5pY29kZSAxMCAwIFINCj4+DQplbmRvYmoNCg0KMTIgMCBvYmoNCjw8L0YxIDExIDAgUg0KPj4NCmVuZG9iag0KDQoxMyAwIG9iag0KPDwvRm9udCAxMiAwIFINCi9YT2JqZWN0PDwvVHI0IDQgMCBSPj4NCi9FeHRHU3RhdGU8PC9FR1M1IDUgMCBSPj4NCi9Qcm9jU2V0Wy9QREYvVGV4dC9JbWFnZUMvSW1hZ2VJL0ltYWdlQl0NCj4+DQplbmRvYmoNCg0KMSAwIG9iag0KPDwvVHlwZS9QYWdlL1BhcmVudCA2IDAgUi9SZXNvdXJjZXMgMTMgMCBSL01lZGlhQm94WzAgMCA1OTUgODQyXS9Hcm91cDw8L1MvVHJhbnNwYXJlbmN5L0NTL0RldmljZVJHQi9JIHRydWU+Pi9Db250ZW50cyAyIDAgUj4+DQplbmRvYmoNCg0KNiAwIG9iag0KPDwvVHlwZS9QYWdlcw0KL1Jlc291cmNlcyAxMyAwIFINCi9NZWRpYUJveFsgMCAwIDU5NSA4NDIgXQ0KL0tpZHNbIDEgMCBSIF0NCi9Db3VudCAxPj4NCmVuZG9iag0KDQoxNCAwIG9iag0KPDwvVHlwZS9DYXRhbG9nL1BhZ2VzIDYgMCBSDQovT3BlbkFjdGlvblsxIDAgUiAvWFlaIG51bGwgbnVsbCAwXQ0KL0xhbmcoSj9Abj8pDQo+Pg0KZW5kb2JqDQoNCjE1IDAgb2JqDQo8PC9DcmVhdG9yPEQ3OUM1NUQ1OTdDMDUxMjJCQkE3N0M2NDIyRjg+DQovUHJvZHVjZXI8RDc5QzU1Q0U5N0RCNTEyOUJCQTE3QzY0MjJDNTY2M0VDQ0I1QzM0OTdENURDQjAwQUJEM0IyMkE4NkMxNDlEMz4NCi9DcmVhdGlvbkRhdGUobVlnPz8/YXM/P005P1ZrPz8/TT8pPj4NCmVuZG9iag0KDQoxNiAwIG9iag0KPDwvRmlsdGVyL1N0YW5kYXJkL1YgMi9MZW5ndGggMTI4L1IgMy9PKD98QTptP3AhUz8zP0fRhT8/SD8/P86nVzs/VD9cYikvVSg/PzxbP05WYz/Qvz8/fT8pL1AgLTEwMjg+Pg0KZW5kb2JqDQoNCnhyZWYNCjAgMTcNCjAwMDAwMDAwMDAgNjU1MzUgZiANCjAwMDAwMTM0NzAgMDAwMDAgbiANCjAwMDAwMDAwMTkgMDAwMDAgbiANCjAwMDAwMDAyNzYgMDAwMDAgbiANCjAwMDAwMDAyOTYgMDAwMDAgbiANCjAwMDAwMDA0NzMgMDAwMDAgbiANCjAwMDAwMTM2MTMgMDAwMDAgbiANCjAwMDAwMDA1MTMgMDAwMDAgbiANCjAwMDAwMTI0NzAgMDAwMDAgbiANCjAwMDAwMTI0OTIgMDAwMDAgbiANCjAwMDAwMTI2ODcgMDAwMDAgbiANCjAwMDAwMTMwNzEgMDAwMDAgbiANCjAwMDAwMTMzMTIgMDAwMDAgbiANCjAwMDAwMTMzNDUgMDAwMDAgbiANCjAwMDAwMTM3MTIgMDAwMDAgbiANCjAwMDAwMTM4MDkgMDAwMDAgbiANCjAwMDAwMTM5ODQgMDAwMDAgbiANCnRyYWlsZXINCjw8L1NpemUgMTcvUm9vdCAxNCAwIFINCi9FbmNyeXB0IDE2IDAgUg0KL0luZm8gMTUgMCBSDQovSUQgWyA8NTJBOUE5NEE2MzExODQ3QTk2NkI1NjIxRDc3QTRERDM+DQo8NTJBOUE5NEE2MzExODQ3QTk2NkI1NjIxRDc3QTRERDM+IF0NCi9Eb2NDaGVja3N1bSAvNEE4NTkwMDE4QURDRjVCQjRCQTQ1NDFDQUFDQjFBNEUNCj4+DQpzdGFydHhyZWYNCjE0MTIyDQolJUVPRg==",
              "hello": "world"
}
POST test/_refresh
GET test/_search
{
  "query": {
    "match": {
      "hello": "world"
    }
  }
}
```

Closes #149.

time:
2015-08-24T14:21:21Z
class:
src/main/java/org/elasticsearch/index/mapper/attachment/AttachmentMapper.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/MapperTestUtils.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/integration/AttachmentIntegrationTestCase.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/integration/EncryptedAttachmentIntegrationTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/integration/SimpleAttachmentIntegrationTests.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/standalone/StandaloneRunner.java
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/AttachmentUnitTestCase.java
comments:
[build] Update to elasticsearch 2.0.0

Fix compiling issues.
Also fix test issues.

Need now to move old integration tests to RESTIT

Closes #148.

time:
2015-08-24T14:12:11Z
class:
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
comments:
Merge pull request #13073 from cbuescher/rm-rewrite-multiMatchQueryBuilder

Remove unsupported `rewrite` from multi_match query builder

time:
2015-08-24T14:00:21Z
class:
comments:
Merge pull request #12903 from nik9000/cleanup_tar

Clean up the tar tests

time:
2015-08-24T13:42:10Z
class:
comments:
Minor fix in plugin install CLI help

time:
2015-08-24T13:39:50Z
class:
comments:
Docs: Document the `_doc` sort order.

time:
2015-08-24T13:37:05Z
class:
comments:
Merge pull request #13024 from iantruslove/patch-1

[DOCS] Couple of typos - various misspellings of `buckets-path`

time:
2015-08-24T13:13:26Z
class:
comments:
[DOCS] Fix Java API TransportClient example

time:
2015-08-24T13:02:18Z
class:
core/src/main/java/org/elasticsearch/common/lucene/search/function/FieldValueFactorFunction.java
comments:
proper creation of values for unmapped field on score function

time:
2015-08-24T12:59:43Z
class:
comments:
Merge pull request #13018 from dylan8902/patch-1

adds grammar correction

time:
2015-08-24T12:49:22Z
class:
core/src/main/java/org/elasticsearch/bootstrap/JNANatives.java
comments:
Merge pull request #13057 from rmuir/easier_mlockall

Make mlockall configuration easier.

time:
2015-08-24T12:48:57Z
class:
core/src/main/java/org/elasticsearch/http/HttpServer.java
comments:
Merge pull request #13054 from rmuir/favicon

Add favicon

time:
2015-08-24T12:47:59Z
class:
core/src/main/java/org/elasticsearch/gateway/MetaDataStateFormat.java
comments:
Merge pull request #13049 from s1monw/fix_race_in_meta_state

Don't check if directory is present to prevent races

time:
2015-08-24T12:36:46Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCLIParser.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/bootstrap/Elasticsearch.java
core/src/main/java/org/elasticsearch/bootstrap/JNACLibrary.java
core/src/main/java/org/elasticsearch/bootstrap/JNAKernel32Library.java
core/src/main/java/org/elasticsearch/bootstrap/JNANatives.java
core/src/main/java/org/elasticsearch/bootstrap/JVMCheck.java
core/src/main/java/org/elasticsearch/bootstrap/JarHell.java
core/src/main/java/org/elasticsearch/bootstrap/JavaVersion.java
core/src/main/java/org/elasticsearch/bootstrap/Natives.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/bootstrap/StartupError.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/common/inject/Modules.java
core/src/main/java/org/elasticsearch/common/inject/ModulesBuilder.java
core/src/main/java/org/elasticsearch/common/inject/spi/Elements.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/monitor/process/ProcessProbe.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/plugins/IndexPluginsModule.java
core/src/main/java/org/elasticsearch/plugins/PluginsModule.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/plugins/ShardsPluginsModule.java
core/src/main/java/org/elasticsearch/repositories/RepositoryModule.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/test/java/org/elasticsearch/benchmark/mapping/ManyMappingsBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/recovery/ReplicaRecoveryBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/GlobalOrdinalsBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/SubAggregationSearchCollectModeBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchAndIndexingBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchBenchmark.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/discovery/ZenUnicastDiscoveryIT.java
core/src/test/java/org/elasticsearch/monitor/process/ProcessProbeTests.java
core/src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/threadpool/ThreadPoolSerializationTests.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-08-24T12:28:21Z
class:
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
comments:
Query DSL: Remove unsupported `rewrite` option from multi match query builder

The `rewrite` option has been removed from the parser with
commit da5fa6c4 and won't parse anymore, however we still
have a setter for it in the builder that gets rendered out
when used and potentially leads to parsing errors. This PR
removes the setter for the unsupported `rewrite` option.

time:
2015-08-24T12:19:45Z
class:
core/src/main/java/org/elasticsearch/common/lucene/search/function/FieldValueFactorFunction.java
comments:
using emptySortedNumericDoubles instead of null in score function

time:
2015-08-24T12:17:39Z
class:
comments:
Merge pull request #13025 from mpereira/patch-1

[Docs] typos in derivative aggregation documentation

time:
2015-08-24T12:04:52Z
class:
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
comments:
Merge pull request #13069 from cbuescher/rm-matchQuery-rewrite

Remove unsupported `rewrite` option from match query builder

time:
2015-08-24T11:43:08Z
class:
core/src/test/java/org/elasticsearch/discovery/ZenUnicastDiscoveryIT.java
comments:
test: changed the join timeout from the default 60s to 10s and
also wait for the cluster state to contain 4 nodes instead of just waiting for a green state.

time:
2015-08-24T11:43:03Z
class:
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
comments:
test: moved ensureStableCluster(...) to base integ test class

time:
2015-08-24T11:32:49Z
class:
comments:
Update completion-suggest.asciidoc

Corrected "length" in result output

Closes #13011

time:
2015-08-24T11:01:43Z
class:
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
comments:
Query DSL: Remove unsupported `rewrite` option from match query builder

The `rewrite` option has been removed from the parser with
commit da5fa6c4 and won't parse anymore, however we still
have a setter for it in the builder that gets rendered out
when used and potentially leads to parsing errors. This PR
removes the setter for the unsupported `rewrite` option.

time:
2015-08-24T10:52:09Z
class:
comments:
[BUILD] Python3 doesn't have dict.iter_items - it's replaced by dict.items()

time:
2015-08-24T08:26:49Z
class:
comments:
Release: Prevent running whole lifecycle twice

time:
2015-08-24T08:04:55Z
class:
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/test/java/org/elasticsearch/threadpool/ThreadPoolSerializationTests.java
comments:
The queue_size value should be shown as an integer,

closes #10404
closes #13063

time:
2015-08-23T18:18:38Z
class:
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
comments:
Also fix order of injection with plugins for transport client

See #13061

time:
2015-08-23T18:16:34Z
class:
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/node/Node.java
comments:
Merge pull request #13061 from rjernst/injection_craziness

Add plugin modules before (almost all) others

time:
2015-08-23T18:08:36Z
class:
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/node/Node.java
comments:
Internal: Add plugin modules before (almost all) others

This change makes modules added by plugins come before others, as it was
before #12783. The order of configuration, and thereby binding, happens
in the order modules are received, and without this change, some plugins
can get *insane* guice errors (500mb stack trace).

time:
2015-08-23T02:36:13Z
class:
core/src/main/java/org/elasticsearch/common/lucene/search/function/FieldValueFactorFunction.java
core/src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionParser.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreFieldValueIT.java
comments:
FunctionScore should work on unampped fields when missing parameter is specified

time:
2015-08-22T23:08:35Z
class:
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
comments:
Fix test plugin to correctly add action

time:
2015-08-22T22:01:42Z
class:
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/common/inject/Modules.java
core/src/main/java/org/elasticsearch/common/inject/ModulesBuilder.java
core/src/main/java/org/elasticsearch/common/inject/SpawnModules.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/plugins/IndexPluginsModule.java
core/src/main/java/org/elasticsearch/plugins/PluginsModule.java
core/src/main/java/org/elasticsearch/plugins/ShardsPluginsModule.java
core/src/main/java/org/elasticsearch/repositories/RepositoryModule.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
comments:
Merge pull request #13034 from rjernst/module_culling4

Remove SpawnModules

time:
2015-08-22T16:44:04Z
class:
core/src/main/java/org/elasticsearch/common/inject/Modules.java
core/src/main/java/org/elasticsearch/common/inject/ModulesBuilder.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
comments:
Remove PreProcessModule

time:
2015-08-22T16:40:17Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/action/ActionRequestValidationException.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCLIParser.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/bootstrap/Elasticsearch.java
core/src/main/java/org/elasticsearch/bootstrap/JNACLibrary.java
core/src/main/java/org/elasticsearch/bootstrap/JNAKernel32Library.java
core/src/main/java/org/elasticsearch/bootstrap/JNANatives.java
core/src/main/java/org/elasticsearch/bootstrap/JVMCheck.java
core/src/main/java/org/elasticsearch/bootstrap/JarHell.java
core/src/main/java/org/elasticsearch/bootstrap/JavaVersion.java
core/src/main/java/org/elasticsearch/bootstrap/Natives.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/bootstrap/StartupError.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/common/ValidationException.java
core/src/main/java/org/elasticsearch/common/inject/spi/Elements.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/monitor/process/ProcessProbe.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/plugins/PluginInfo.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/rest/BytesRestResponse.java
core/src/main/java/org/elasticsearch/search/aggregations/support/AggregationPath.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
core/src/test/java/org/elasticsearch/benchmark/mapping/ManyMappingsBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/recovery/ReplicaRecoveryBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/GlobalOrdinalsBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/SubAggregationSearchCollectModeBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchAndIndexingBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchBenchmark.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/bootstrap/JarHellTests.java
core/src/test/java/org/elasticsearch/bootstrap/JavaVersionTests.java
core/src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
core/src/test/java/org/elasticsearch/index/mapper/MapperServiceTest.java
core/src/test/java/org/elasticsearch/monitor/process/ProcessProbeTests.java
core/src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
core/src/test/java/org/elasticsearch/options/detailederrors/DetailedErrorsEnabledIT.java
core/src/test/java/org/elasticsearch/plugins/PluginInfoTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/rest/BytesRestResponseTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/StringTermsIT.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/VersionUtils.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/AwsEc2Service.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/InternalAwsS3Service.java
comments:
Merge branch 'master' into module_culling4

time:
2015-08-22T16:37:58Z
class:
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
comments:
[TEST] Provide unicast hosts for Tribe nodes in TribeIT

time:
2015-08-22T13:55:09Z
class:
core/src/main/java/org/elasticsearch/bootstrap/JNANatives.java
comments:
Make mlockall configuration easier.

time:
2015-08-22T13:27:56Z
class:
core/src/main/java/org/elasticsearch/bootstrap/JavaVersion.java
comments:
Clearer logic in checking testing version validity

time:
2015-08-22T08:37:43Z
class:
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/transport/TransportModule.java
core/src/test/java/org/elasticsearch/action/IndicesRequestIT.java
core/src/test/java/org/elasticsearch/benchmark/scripts/expression/ScriptComparisonBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/ScriptsConstantScoreBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/ScriptsScoreBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/ScriptsScorePayloadSumBenchmark.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientHeadersTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsFilteringIT.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/discovery/ZenUnicastDiscoveryIT.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalValuesMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/query/plugin/CustomQueryParserIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedTranslogIT.java
core/src/test/java/org/elasticsearch/index/store/ExceptionRetryIT.java
core/src/test/java/org/elasticsearch/indices/analysis/PreBuiltAnalyzerIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerIT.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/template/IndexTemplateFilteringIT.java
core/src/test/java/org/elasticsearch/node/MockNode.java
core/src/test/java/org/elasticsearch/nodesinfo/SimpleNodesInfoIT.java
core/src/test/java/org/elasticsearch/plugins/PluggableTransportModuleIT.java
core/src/test/java/org/elasticsearch/plugins/PluginTestCase.java
core/src/test/java/org/elasticsearch/plugins/PluginsServiceTests.java
core/src/test/java/org/elasticsearch/plugins/ResponseHeaderPluginIT.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/recovery/TruncatedRecoveryIT.java
core/src/test/java/org/elasticsearch/script/CustomScriptContextIT.java
core/src/test/java/org/elasticsearch/script/ScriptFieldIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWithRandomIOExceptionsIT.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScorePluginIT.java
core/src/test/java/org/elasticsearch/search/highlight/CustomHighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggesterSearchIT.java
core/src/test/java/org/elasticsearch/snapshots/AbstractSnapshotIntegTestCase.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/test/ESBackcompatTestCase.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/ExternalNode.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/NodeConfigurationSource.java
core/src/test/java/org/elasticsearch/test/discovery/ClusterDiscoveryConfiguration.java
core/src/test/java/org/elasticsearch/test/disruption/NetworkPartitionIT.java
core/src/test/java/org/elasticsearch/test/test/InternalTestClusterTests.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportIT.java
core/src/test/java/org/elasticsearch/update/UpdateByNativeScriptIT.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryITest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryUpdateSettingsITest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/repositories/s3/AbstractS3SnapshotRestoreTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureComputeServiceTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureRepositoryServiceTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureMinimumMasterNodesTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureSimpleTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureTwoStartedNodesTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/index/store/AbstractAzureFsTest.java
plugins/delete-by-query/src/test/java/org/elasticsearch/plugin/deletebyquery/DeleteByQueryTests.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/SizeMappingIT.java
comments:
Plugins: Removed plugin.types

The setting `plugin.types` is currently used to load plugins from the
classpath. This is necessary in tests, as well as the transport client.

This change removes the setting, and replaces it with the ability to
directly add plugins when building a transport client, as well as
infrastructure in the integration tests to specify which plugin classes
should be loaded on each node.

time:
2015-08-22T04:21:20Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCLIParser.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/bootstrap/Elasticsearch.java
core/src/main/java/org/elasticsearch/bootstrap/JNACLibrary.java
core/src/main/java/org/elasticsearch/bootstrap/JNAKernel32Library.java
core/src/main/java/org/elasticsearch/bootstrap/JNANatives.java
core/src/main/java/org/elasticsearch/bootstrap/JVMCheck.java
core/src/main/java/org/elasticsearch/bootstrap/JarHell.java
core/src/main/java/org/elasticsearch/bootstrap/Natives.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/bootstrap/StartupError.java
core/src/main/java/org/elasticsearch/common/inject/spi/Elements.java
core/src/main/java/org/elasticsearch/monitor/process/ProcessProbe.java
core/src/test/java/org/elasticsearch/benchmark/mapping/ManyMappingsBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/recovery/ReplicaRecoveryBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/GlobalOrdinalsBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/SubAggregationSearchCollectModeBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchAndIndexingBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchBenchmark.java
core/src/test/java/org/elasticsearch/monitor/process/ProcessProbeTests.java
comments:
Merge pull request #13053 from rmuir/improve_bootstrap

Cleanup bootstrap package.

time:
2015-08-22T04:16:36Z
class:
core/src/main/java/org/elasticsearch/http/HttpServer.java
comments:
Add favicon

time:
2015-08-22T03:28:56Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCLIParser.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/bootstrap/Elasticsearch.java
core/src/main/java/org/elasticsearch/bootstrap/JNACLibrary.java
core/src/main/java/org/elasticsearch/bootstrap/JNAKernel32Library.java
core/src/main/java/org/elasticsearch/bootstrap/JNANatives.java
core/src/main/java/org/elasticsearch/bootstrap/JVMCheck.java
core/src/main/java/org/elasticsearch/bootstrap/JarHell.java
core/src/main/java/org/elasticsearch/bootstrap/Natives.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/bootstrap/StartupError.java
core/src/main/java/org/elasticsearch/common/inject/spi/Elements.java
core/src/main/java/org/elasticsearch/monitor/process/ProcessProbe.java
core/src/test/java/org/elasticsearch/benchmark/mapping/ManyMappingsBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/recovery/ReplicaRecoveryBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/GlobalOrdinalsBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/SubAggregationSearchCollectModeBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchAndIndexingBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchBenchmark.java
core/src/test/java/org/elasticsearch/monitor/process/ProcessProbeTests.java
comments:
Cleanup bootstrap package.

* makes most classes final and package private
* removes duplicate and confusing multiple entry points
* adds javadocs to some classes like JarHell,Security
* adds a public class BootStrapInfo that exposes any stats
  needed by outside code.

time:
2015-08-22T02:07:03Z
class:
comments:
Eclipse: Fix launch configuration

We had a file in dev-tools/ElasticSearch.launch which tried to launch
elasticsearch but failed somewhat epically because of the security manager
and files having moved. This recreates it with
`-Des.security.manager.enabled=false` to get it working again. Its not as nice
as testing with the security manager in place but its better than waiting
minutes for maven to package and startup elasticsearch.

time:
2015-08-22T00:46:26Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
comments:
Merge pull request #13051 from rmuir/spi_reload

Lucene SPI support for plugins.

time:
2015-08-22T00:12:30Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
comments:
Lucene SPI support for plugins.

When we create a plugin's classloader, we should allow it to register things in
the lucene SPI (registry of Tokenizers, TokenFilters, CharFilters, Codec,
PostingsFormat, DocValuesFormat).

Plugins should be able to do this so they can extend Lucene.

time:
2015-08-21T22:21:01Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/bootstrap/StartupError.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
comments:
Improve startup exceptions (especially file permissions etc)

Squashed commit of the following:

commit 0014d31c1c478977cc8c50eb635eab0fb91449e4
Author: Robert Muir <rmuir@apache.org>
Date:   Fri Aug 21 18:20:35 2015 -0400

    Add missing paren to javadocs

commit bb46142785c67b849cfa5aa08fe5a3877a550b3d
Author: Robert Muir <rmuir@apache.org>
Date:   Fri Aug 21 18:08:45 2015 -0400

    Improve startup exceptions (especially file permissions etc)

time:
2015-08-21T20:36:26Z
class:
comments:
Fix importing into eclipse

Renaming the distribution's artifactIds to "elasticsearch" caused the eclipse
import process to balk. Fix those modules by moving their eclipse package to
"[groupId].[artifactId]".

time:
2015-08-21T19:44:54Z
class:
core/src/main/java/org/elasticsearch/gateway/MetaDataStateFormat.java
comments:
Don't check if directory is present to prevent races

We do check if a directory is present and then open a dir stream on
it. Yet the file can be concurrrently deleted which is OK but we fail
with a hard exception. This change tries to open the dir directly (listing via stream)
and catches NoSuchFileEx | FNFEx.

time:
2015-08-21T18:42:54Z
class:
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/open/TransportOpenIndexAction.java
core/src/main/java/org/elasticsearch/action/support/DestructiveOperations.java
comments:
Turn DestructiveOperations.java into a Guice module.

https://github.com/elastic/elasticsearch/issues/4665

Inject DestructiveOperations object rather than use new.

Use constant rather than hard-coded string

time:
2015-08-21T16:28:06Z
class:
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
comments:
Merge pull request #13043 from jasontedor/fix/no-multiple-settings

Do not permit multiple settings files

time:
2015-08-21T15:37:35Z
class:
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
comments:
Do not permit multiple settings files

This commit enforces that at most a single settings file is found. If
multiple settings files are found, a SettingsException will be thrown

Closes #13042

time:
2015-08-21T15:11:47Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Elasticsearch.java
comments:
Fix compilation... forgot to 'mvn clean'

time:
2015-08-21T15:09:02Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
comments:
Merge pull request #13041 from rmuir/consistent_formatting

Use StartupError to format all exceptions hitting the console

time:
2015-08-21T15:07:16Z
class:
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
comments:
Merge pull request #13039 from jasontedor/fix/garbage-in-settings

Do not swallow exceptions thrown while parsing settings

time:
2015-08-21T15:05:31Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
comments:
Use StartupError to format all exceptions hitting the console

time:
2015-08-21T14:43:48Z
class:
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
comments:
Do not swallow exceptions thrown while parsing settings

This commit fixes an issue that was causing Elasticsearch to silently
ignore settings files that contain garbage. The underlying issue was
swallowing an SettingsException under the assumption that the only
reason that an exception could be throw was due to the settings file
not existing (in this case the IOException would be the cause of the
swallowed SettingsException). This assumption is mistaken as an
IOException could also be thrown due to an access error or a read
error. Additionally, a SettingsException could be thrown exactly
because garbage was found in the settings file. We should instead
explicitly check that the settings file exists, and bomb on an
exception thrown for any reason.

Closes #13028

time:
2015-08-21T13:59:13Z
class:
core/src/main/java/org/elasticsearch/index/query/OrQueryParser.java
core/src/test/java/org/elasticsearch/index/query/AndQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/BaseTermQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/NotQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/OrQueryBuilderTest.java
comments:
[TEST] added tests for alternate queries formats

We currently test that our query parsers can parse the format that our query builder outputs in XContent format, but in some cases the parser supports more than that, hence we need more specific tests otherwise we have no coverage for alternate formats.

time:
2015-08-21T13:58:36Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/action/ActionRequestValidationException.java
core/src/main/java/org/elasticsearch/bootstrap/JarHell.java
core/src/main/java/org/elasticsearch/bootstrap/JavaVersion.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/common/ValidationException.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/plugins/PluginInfo.java
core/src/main/java/org/elasticsearch/rest/BytesRestResponse.java
core/src/main/java/org/elasticsearch/search/aggregations/support/AggregationPath.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
core/src/test/java/org/elasticsearch/bootstrap/JarHellTests.java
core/src/test/java/org/elasticsearch/bootstrap/JavaVersionTests.java
core/src/test/java/org/elasticsearch/index/mapper/MapperServiceTest.java
core/src/test/java/org/elasticsearch/options/detailederrors/DetailedErrorsEnabledIT.java
core/src/test/java/org/elasticsearch/plugins/PluginInfoTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/rest/BytesRestResponseTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/StringTermsIT.java
core/src/test/java/org/elasticsearch/test/VersionUtils.java
comments:
Merge branch 'master' into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java

time:
2015-08-21T13:19:11Z
class:
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/test/java/org/elasticsearch/index/mapper/MapperServiceTest.java
core/src/test/java/org/elasticsearch/test/VersionUtils.java
comments:
Merge pull request #13036 from jasontedor/limit-type-name-length

Limit type name length

time:
2015-08-21T13:18:30Z
class:
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/test/java/org/elasticsearch/index/mapper/MapperServiceTest.java
comments:
Limit type name length

This commit will limit type name length to be at most 255 characters.

Closes #13021

time:
2015-08-21T13:18:29Z
class:
core/src/test/java/org/elasticsearch/test/VersionUtils.java
comments:
Utility method for getting the first version prior to given version

time:
2015-08-21T13:17:45Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/rest/BytesRestResponse.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
core/src/test/java/org/elasticsearch/options/detailederrors/DetailedErrorsEnabledIT.java
core/src/test/java/org/elasticsearch/rest/BytesRestResponseTests.java
comments:
Suppress rest exceptions by default and log them instead

Today we are very verbose when rendering exceptions on the rest layer.
Yet, this isn't necessarily very easy to read and way too much infromation most
of the time. This change suppresses the stacktrace rendering by default but instead
adds a `rest.suppressed` logger that logs the suppressed stacktrace or rather the entire
exception on the node that renderes the exception
The log message looks like this:

```
[2015-08-19 16:21:58,427][INFO ][rest.suppressed          ] /test/_search/ Params: {index=test}
[test] IndexNotFoundException[no such index]
	at org.elasticsearch.cluster.metadata.IndexNameExpressionResolver$WildcardExpressionResolver.resolve(IndexNameExpressionResolver.java:551)
```

time:
2015-08-21T13:04:53Z
class:
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
comments:
Java api: add missing support for escape to QueryStringQueryBuilder

QueryStringQueryParser parses `escape`, but java api users had no chance to actually set it.

Closes #13016

time:
2015-08-21T12:37:32Z
class:
comments:
Merge pull request #12985 from s1monw/cleanup_release_script

Refactor script for RC creation

time:
2015-08-21T12:36:59Z
class:
comments:
Refactor script for RC creation

The script now allows to run all required steps at once and alternatively
prints out manual instructions to run the steps individually. It also has
flags and options to run debug builds from a local checkout.

time:
2015-08-21T12:30:50Z
class:
core/src/main/java/org/elasticsearch/bootstrap/JarHell.java
core/src/main/java/org/elasticsearch/bootstrap/JavaVersion.java
core/src/main/java/org/elasticsearch/plugins/PluginInfo.java
core/src/test/java/org/elasticsearch/bootstrap/JarHellTests.java
core/src/test/java/org/elasticsearch/bootstrap/JavaVersionTests.java
core/src/test/java/org/elasticsearch/plugins/PluginInfoTests.java
comments:
Merge pull request #13010 from jasontedor/feature/improve-java-version-comparison

Improve java version comparison and explicitly enforce a version format

time:
2015-08-21T12:28:41Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginInfo.java
core/src/test/java/org/elasticsearch/plugins/PluginInfoTests.java
comments:
Enforce version format for java.version for plugins

Currently we implicitly enforce a version format on the java.version
property for plugins via JarHell.checkJavaVersion. We should explicitly
enforce this version format and specify it in the documentation.

This commit adds an explicit enforcement of the version format on the
java.version property for plugins and updates the documentation for
plugin-descriptor.properties accordingly.

Closes #13009

time:
2015-08-21T12:27:47Z
class:
core/src/main/java/org/elasticsearch/bootstrap/JarHell.java
core/src/main/java/org/elasticsearch/bootstrap/JavaVersion.java
core/src/test/java/org/elasticsearch/bootstrap/JarHellTests.java
core/src/test/java/org/elasticsearch/bootstrap/JavaVersionTests.java
comments:
Improve Java version comparison in JarHell

This commit improves Java version comparison in JarHell.

The first improvement is the addition of a method to check the version
format of a target version string. This method will reject target
version strings that are not a sequence of nonnegative decimal integers
separated by “.”s, possibly with leading zeros (0*[0-9]+(\.[0-9]+)?).
This version format is the version format used for Java specification
versioning (cf. Java Product Versioning, 1.5.1 Specification Versioning
and the Javadocs for java.lang.Package.)

The second improvement is a clean method for checking that a target
version is compatible with the runtime version of the JVM. This is done
using the system property java.specification.version and comparing the
versions lexicograpically. This method of comparison has been tested on
JDK 9 builds that include JEP-220 (the Project Jigsaw JEP concerning
modular runtime images) and JEP-223 (the version string JEP). The class
that encapsulates the methods for parsing and comparing versions is
written in a way that can easily be converted to use the Version class
from JEP-223 if that class is ultimately incorporated into mainline JDK
9.

Closes #12441

time:
2015-08-21T12:08:50Z
class:
core/src/main/java/org/elasticsearch/action/ActionRequestValidationException.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/common/ValidationException.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
comments:
Merge pull request #12901 from jasontedor/feature/12900

Accumulate validation errors when validating index templates

time:
2015-08-21T12:06:42Z
class:
core/src/main/java/org/elasticsearch/action/ActionRequestValidationException.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/common/ValidationException.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
comments:
Accumulate validation errors when validating index templates

This commit changes the behavior when validating index templates to
accumulate all validation errors before reporting failure to the user.
This addresses a usability issue when creating index templates.

Closes #12900

time:
2015-08-21T11:50:05Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/support/AggregationPath.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/StringTermsIT.java
comments:
Aggregation: Fix AggregationPath.subPath() to not throw ArrayStoreException

Aggregation.subPath() always threw an ArrayStoreException because we were trying to pass a List into System.arraycopy(). This change fixes that bug and adds a test to prevent regression

time:
2015-08-21T11:46:25Z
class:
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
comments:
[TEST] Add discovery-multicast to PluginManagerIT

time:
2015-08-21T11:01:50Z
class:
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/common/inject/ModulesBuilder.java
core/src/main/java/org/elasticsearch/common/inject/SpawnModules.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/plugins/IndexPluginsModule.java
core/src/main/java/org/elasticsearch/plugins/PluginsModule.java
core/src/main/java/org/elasticsearch/plugins/ShardsPluginsModule.java
core/src/main/java/org/elasticsearch/repositories/RepositoryModule.java
comments:
Internal: Remove SpawnModules

The last use case of spawn modules was for plugins. This change handles
plugin modules directly, and removes SpawnModules.

closes #12783

time:
2015-08-21T10:27:31Z
class:
core/src/main/java/org/elasticsearch/action/search/SearchType.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScanAction.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/StartupError.java
core/src/main/java/org/elasticsearch/cluster/ClusterInfo.java
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/MoveAllocationCommand.java
core/src/main/java/org/elasticsearch/common/logging/Loggers.java
core/src/main/java/org/elasticsearch/common/network/IfConfig.java
core/src/main/java/org/elasticsearch/common/network/NetworkAddress.java
core/src/main/java/org/elasticsearch/common/network/NetworkService.java
core/src/main/java/org/elasticsearch/common/network/NetworkUtils.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/transport/InetSocketTransportAddress.java
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
core/src/main/java/org/elasticsearch/discovery/DiscoveryModule.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/ZenPingService.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/action/SearchServiceTransportAction.java
core/src/main/java/org/elasticsearch/transport/Transport.java
core/src/main/java/org/elasticsearch/transport/TransportModule.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/main/java/org/elasticsearch/transport/local/LocalTransport.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/benchmark/transport/BenchmarkNettyLargeMessages.java
core/src/test/java/org/elasticsearch/benchmark/transport/netty/NettyEchoBenchmark.java
core/src/test/java/org/elasticsearch/bwcompat/UnicastBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/client/transport/FailAndRetryMockTransport.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientRetryIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/NoMasterNodeIT.java
core/src/test/java/org/elasticsearch/cluster/SpecificMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/SimpleAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/AllocationIdTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RandomShardRoutingMutator.java
core/src/test/java/org/elasticsearch/cluster/routing/ShardRoutingHelper.java
core/src/test/java/org/elasticsearch/cluster/routing/ShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/TestShardRouting.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceConfigurationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ExpectedShardSizeAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RebalanceAfterActiveTests.java
core/src/test/java/org/elasticsearch/common/network/NetworkAddressTests.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/discovery/ZenUnicastDiscoveryIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPingIT.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/http/netty/pipelining/HttpPipeliningHandlerTest.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateIT.java
core/src/test/java/org/elasticsearch/plugins/PluggableTransportModuleIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/stresstest/client/ClientFailover.java
core/src/test/java/org/elasticsearch/stresstest/manyindices/ManyIndicesRemoteStressTest.java
core/src/test/java/org/elasticsearch/test/ESAllocationTestCase.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/TestCluster.java
core/src/test/java/org/elasticsearch/test/discovery/ClusterDiscoveryConfiguration.java
core/src/test/java/org/elasticsearch/test/rest/client/RestClient.java
core/src/test/java/org/elasticsearch/test/rest/client/http/HttpRequestBuilder.java
core/src/test/java/org/elasticsearch/test/test/InternalTestClusterTests.java
core/src/test/java/org/elasticsearch/test/transport/CapturingTransport.java
core/src/test/java/org/elasticsearch/test/transport/MockTransportService.java
core/src/test/java/org/elasticsearch/threadpool/SimpleThreadPoolIT.java
core/src/test/java/org/elasticsearch/transport/NettySizeHeaderFrameDecoderTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortIntegrationIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportTests.java
core/src/test/java/org/elasticsearch/transport/netty/SimpleNettyTransportTests.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
core/src/test/java/org/elasticsearch/tribe/TribeUnitTests.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/AwsEc2Service.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/InternalAwsS3Service.java
plugins/cloud-aws/src/main/java/org/elasticsearch/discovery/ec2/AwsEc2UnicastHostsProvider.java
plugins/cloud-azure/src/main/java/org/elasticsearch/discovery/azure/AzureUnicastHostsProvider.java
plugins/cloud-gce/src/main/java/org/elasticsearch/discovery/gce/GceDiscovery.java
plugins/cloud-gce/src/main/java/org/elasticsearch/discovery/gce/GceUnicastHostsProvider.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryAction.java
plugins/delete-by-query/src/main/java/org/elasticsearch/plugin/deletebyquery/DeleteByQueryModule.java
plugins/delete-by-query/src/main/java/org/elasticsearch/plugin/deletebyquery/DeleteByQueryPlugin.java
plugins/discovery-multicast/src/main/java/org/elasticsearch/plugin/discovery/multicast/MulticastChannel.java
plugins/discovery-multicast/src/main/java/org/elasticsearch/plugin/discovery/multicast/MulticastDiscoveryPlugin.java
plugins/discovery-multicast/src/main/java/org/elasticsearch/plugin/discovery/multicast/MulticastZenPing.java
plugins/discovery-multicast/src/test/java/org/elasticsearch/plugin/discovery/multicast/MulticastDiscoveryRestIT.java
plugins/discovery-multicast/src/test/java/org/elasticsearch/plugin/discovery/multicast/MulticastZenPingTests.java
plugins/site-example/src/test/java/org/elasticsearch/example/SiteContentsIT.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-08-21T08:16:38Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/geodistance/GeoDistanceParser.java
comments:
Print field name when meet unexpected token.

closes #12391

time:
2015-08-21T07:56:15Z
class:
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/AwsEc2Service.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/InternalAwsS3Service.java
comments:
Remove `cloud.account` and `cloud.key` settings

closes #12809

time:
2015-08-21T07:51:30Z
class:
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryAction.java
plugins/delete-by-query/src/main/java/org/elasticsearch/plugin/deletebyquery/DeleteByQueryModule.java
plugins/delete-by-query/src/main/java/org/elasticsearch/plugin/deletebyquery/DeleteByQueryPlugin.java
comments:
Clear ScrollID / NextScrollID even if the first query returned no docs
shouldn't it always pass nextScrollId?


time:
2015-08-21T07:38:50Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
comments:
Merge pull request #13032 from jpountz/fix/match_all_caching

Never cache match_all queries.

time:
2015-08-21T07:36:55Z
class:
comments:
Docs: Fix section id for the new discovery-multicast plugin.

time:
2015-08-21T07:31:53Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
comments:
Never cache match_all queries.

This commit backports https://issues.apache.org/jira/browse/LUCENE-6748 to make
sure that we never cache trivial queries like MatchAllDocsQuery.

time:
2015-08-21T06:45:36Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
comments:
Add multicast plugin to plugin manager official list of plugins

See #13027

time:
2015-08-21T06:34:38Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterInfo.java
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/MoveAllocationCommand.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/test/java/org/elasticsearch/cluster/allocation/SimpleAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/AllocationIdTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RandomShardRoutingMutator.java
core/src/test/java/org/elasticsearch/cluster/routing/ShardRoutingHelper.java
core/src/test/java/org/elasticsearch/cluster/routing/ShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/TestShardRouting.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceConfigurationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ExpectedShardSizeAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RebalanceAfterActiveTests.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/test/ESAllocationTestCase.java
comments:
Merge pull request #12947 from s1monw/expected_shard_size

Add `expectedShardSize` to ShardRouting and use it in path.data allocation

time:
2015-08-21T06:21:12Z
class:
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
core/src/main/java/org/elasticsearch/discovery/DiscoveryModule.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/ZenPingService.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/threadpool/SimpleThreadPoolIT.java
plugins/cloud-gce/src/main/java/org/elasticsearch/discovery/gce/GceDiscovery.java
plugins/discovery-multicast/src/main/java/org/elasticsearch/plugin/discovery/multicast/MulticastChannel.java
plugins/discovery-multicast/src/main/java/org/elasticsearch/plugin/discovery/multicast/MulticastDiscoveryPlugin.java
plugins/discovery-multicast/src/main/java/org/elasticsearch/plugin/discovery/multicast/MulticastZenPing.java
plugins/discovery-multicast/src/test/java/org/elasticsearch/plugin/discovery/multicast/MulticastDiscoveryRestIT.java
plugins/discovery-multicast/src/test/java/org/elasticsearch/plugin/discovery/multicast/MulticastZenPingTests.java
comments:
Merge pull request #13027 from rjernst/cast_away_multicast

Move multicast discovery to a plugin

time:
2015-08-21T06:18:59Z
class:
core/src/main/java/org/elasticsearch/index/IndexService.java
comments:
Use constant to determin if expected size is available

time:
2015-08-21T06:18:59Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterInfo.java
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/MoveAllocationCommand.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/test/java/org/elasticsearch/cluster/allocation/SimpleAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/AllocationIdTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RandomShardRoutingMutator.java
core/src/test/java/org/elasticsearch/cluster/routing/ShardRoutingHelper.java
core/src/test/java/org/elasticsearch/cluster/routing/ShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/TestShardRouting.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceConfigurationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ExpectedShardSizeAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RebalanceAfterActiveTests.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/test/ESAllocationTestCase.java
comments:
Add `expectedShardSize` to ShardRouting and use it in path.data allocation

Today we only guess how big the shard will be that we are allocating on a node.
Yet, we have this information on the master but it's not available on the data nodes
when we pick a data path for the shard. We use some rather simple heuristic based on
existing shard sizes on this node which might be complete bogus. This change adds
the expected shard size to the ShardRouting for RELOCATING and INITIALIZING shards
to be used on the actual node to find the best data path for the shard.

Closes #11271

time:
2015-08-21T06:06:34Z
class:
core/src/test/java/org/elasticsearch/common/network/NetworkAddressTests.java
comments:
test: fix and simplify logic

time:
2015-08-21T05:30:26Z
class:
plugins/cloud-gce/src/main/java/org/elasticsearch/discovery/gce/GceDiscovery.java
comments:
Remove outdated comment

time:
2015-08-21T05:19:29Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/StartupError.java
comments:
Fix formatting of startup/configuration errors.

Try to strike a balance between usability and debuggability.
2MB stacktrace is not gonna work... we print message and find
"likely root cause" and identify it as such, limit it to 30 stack
frames, and filter out guice. When frames are truncated we identify
that too, and always inform the user full exception is available from
logs.

Closes #13029

time:
2015-08-21T05:04:17Z
class:
comments:
Add multicast plugin to help and qa

time:
2015-08-21T00:08:44Z
class:
core/src/main/java/org/elasticsearch/discovery/zen/ping/ZenPingService.java
comments:
Remove logging message from testing

time:
2015-08-21T00:03:02Z
class:
core/src/main/java/org/elasticsearch/common/transport/InetSocketTransportAddress.java
comments:
Merge branch 'master' into cast_away_multicast

time:
2015-08-20T23:43:25Z
class:
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
core/src/main/java/org/elasticsearch/discovery/DiscoveryModule.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/ZenPingService.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/threadpool/SimpleThreadPoolIT.java
plugins/cloud-gce/src/main/java/org/elasticsearch/discovery/gce/GceDiscovery.java
plugins/discovery-multicast/src/main/java/org/elasticsearch/plugin/discovery/multicast/MulticastChannel.java
plugins/discovery-multicast/src/main/java/org/elasticsearch/plugin/discovery/multicast/MulticastDiscoveryPlugin.java
plugins/discovery-multicast/src/main/java/org/elasticsearch/plugin/discovery/multicast/MulticastZenPing.java
plugins/discovery-multicast/src/test/java/org/elasticsearch/plugin/discovery/multicast/MulticastDiscoveryRestIT.java
plugins/discovery-multicast/src/test/java/org/elasticsearch/plugin/discovery/multicast/MulticastZenPingTests.java
comments:
Networking: Move multicast discovery to a plugin

Multicast has known issues (see #12999 and #12993). This change moves
multicast into a plugin, and deprecates it in the docs.  It also allows
for plugging in multiple zen ping implementations.

closes #13019

time:
2015-08-20T22:56:26Z
class:
core/src/main/java/org/elasticsearch/common/transport/InetSocketTransportAddress.java
comments:
simplify this

time:
2015-08-20T21:31:06Z
class:
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
comments:
fix test failure

time:
2015-08-20T21:11:40Z
class:
core/src/main/java/org/elasticsearch/common/network/NetworkUtils.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
comments:
Merge pull request #13026 from rmuir/too_noisy

Don't print lots of noise on IPv4 only hosts.

time:
2015-08-20T21:10:50Z
class:
core/src/main/java/org/elasticsearch/common/network/NetworkService.java
core/src/main/java/org/elasticsearch/common/transport/InetSocketTransportAddress.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
comments:
Merge pull request #13020 from s1monw/issues/13014

Remove support for address resolving in InetSocketTransportAddress

time:
2015-08-20T21:07:51Z
class:
comments:
Here too.

time:
2015-08-20T21:05:30Z
class:
core/src/main/java/org/elasticsearch/common/network/NetworkUtils.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
comments:
Don't print lots of noise on IPv4 only hosts.

If the machine doesn't support IPv6, or if the user disabled it
with -Djava.net.preferIPv4Stack, or if the user disabled it with
ES_USE_IPV4, we will still try to bind a socket to ::1 out of box,
and we will see lots of exceptions logged to the console.

It is harmless noise but not a great experience.

time:
2015-08-20T21:05:02Z
class:
comments:
s/bucket_paths/buckets_path/

Using "bucket_paths" makes the server return a 400 with "Unknown key for a VALUE_STRING in [aggregation-name]: [buckets_paths]."

time:
2015-08-20T20:57:09Z
class:
comments:
Couple of typos - various misspellings of `buckets-path`

time:
2015-08-20T20:55:04Z
class:
core/src/test/java/org/elasticsearch/test/test/InternalTestClusterTests.java
comments:
Don't use networking in InternalTestClusterTests

time:
2015-08-20T20:13:14Z
class:
comments:
Enforce supported Maven versions

Our builds are currently not compatible with Maven versions < 3.1.0 and
>= 3.3.0. This commit will enforce Maven 3 versions that our builds are
known to be compatible with. We will consider these our supported Maven
versions.

Closes #13022

time:
2015-08-20T19:51:13Z
class:
comments:
only verify both nodes join the cluster

time:
2015-08-20T19:42:14Z
class:
core/src/main/java/org/elasticsearch/common/transport/InetSocketTransportAddress.java
comments:
Add back private default ctor

time:
2015-08-20T18:57:26Z
class:
core/src/main/java/org/elasticsearch/common/network/NetworkService.java
core/src/main/java/org/elasticsearch/common/transport/InetSocketTransportAddress.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
comments:
Remove support for address resolving in InetSocketTransportAddress

this commit removes all support for reverse host name resolving from
InetSocketTransportAddress. This class now only returns IP addresses.

Closes #13014

time:
2015-08-20T18:26:40Z
class:
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
core/src/main/java/org/elasticsearch/common/logging/Loggers.java
core/src/main/java/org/elasticsearch/common/network/IfConfig.java
core/src/main/java/org/elasticsearch/common/network/MulticastChannel.java
core/src/main/java/org/elasticsearch/common/network/NetworkAddress.java
core/src/main/java/org/elasticsearch/common/transport/InetSocketTransportAddress.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/ZenPingService.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/main/java/org/elasticsearch/transport/Transport.java
core/src/main/java/org/elasticsearch/transport/TransportModule.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/main/java/org/elasticsearch/transport/local/LocalTransport.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/benchmark/transport/BenchmarkNettyLargeMessages.java
core/src/test/java/org/elasticsearch/benchmark/transport/netty/NettyEchoBenchmark.java
core/src/test/java/org/elasticsearch/bwcompat/UnicastBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/client/transport/FailAndRetryMockTransport.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientRetryIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/NoMasterNodeIT.java
core/src/test/java/org/elasticsearch/cluster/SpecificMasterNodesIT.java
core/src/test/java/org/elasticsearch/common/network/NetworkAddressTests.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/discovery/ZenUnicastDiscoveryIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPingIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPingIT.java
core/src/test/java/org/elasticsearch/http/netty/pipelining/HttpPipeliningHandlerTest.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateIT.java
core/src/test/java/org/elasticsearch/plugins/PluggableTransportModuleIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/stresstest/client/ClientFailover.java
core/src/test/java/org/elasticsearch/stresstest/manyindices/ManyIndicesRemoteStressTest.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/TestCluster.java
core/src/test/java/org/elasticsearch/test/discovery/ClusterDiscoveryConfiguration.java
core/src/test/java/org/elasticsearch/test/rest/client/RestClient.java
core/src/test/java/org/elasticsearch/test/rest/client/http/HttpRequestBuilder.java
core/src/test/java/org/elasticsearch/test/test/InternalTestClusterTests.java
core/src/test/java/org/elasticsearch/test/transport/CapturingTransport.java
core/src/test/java/org/elasticsearch/test/transport/MockTransportService.java
core/src/test/java/org/elasticsearch/transport/NettySizeHeaderFrameDecoderTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortIntegrationIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportTests.java
core/src/test/java/org/elasticsearch/transport/netty/SimpleNettyTransportTests.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
core/src/test/java/org/elasticsearch/tribe/TribeUnitTests.java
plugins/cloud-aws/src/main/java/org/elasticsearch/discovery/ec2/AwsEc2UnicastHostsProvider.java
plugins/cloud-azure/src/main/java/org/elasticsearch/discovery/azure/AzureUnicastHostsProvider.java
plugins/cloud-gce/src/main/java/org/elasticsearch/discovery/gce/GceUnicastHostsProvider.java
plugins/site-example/src/test/java/org/elasticsearch/example/SiteContentsIT.java
comments:
Default to unicast discovery, with default host list of 127.0.0.1, [::1]
Fix unicast discovery to work when a host has multiple addresses.
Ban dangerous methods in java.net with forbidden APIs.
Fix ipv6 bugs and formatting of network addresses everywhere.

Closes #12999
Closes #12993

Squashed commit of the following:

commit 6c1aa001d091c5cf25212a53dc701fb704337f1e
Author: Robert Muir <rmuir@apache.org>
Date:   Thu Aug 20 14:25:43 2015 -0400

    Fix these to be correct with addresses just in case

commit 648215627e84abf58a71400e7dc9ae775efb71d6
Merge: d00561b 41d8fbe
Author: Robert Muir <rmuir@apache.org>
Date:   Thu Aug 20 13:23:09 2015 -0400

    Merge branch 'master' into unicast_all_the_way_down

commit d00561b76fd1aa5850699f7901f3dae3d4d402b7
Author: Simon Willnauer <simonw@apache.org>
Date:   Thu Aug 20 16:38:50 2015 +0200

    limit local ports to 5 in UnicastZenPing

commit e2e15c594006746cbe24432694294a71cc99deb8
Author: Robert Muir <rmuir@apache.org>
Date:   Thu Aug 20 10:32:47 2015 -0400

    fix port limiting

commit 10153cb7adadda81a1f482445e703836b65cf5e2
Author: Robert Muir <rmuir@apache.org>
Date:   Thu Aug 20 10:18:37 2015 -0400

    don't serialize scopeids: that's broken

commit 2aa63d43db2baec68a2e9bc227cfeb85dfeb4f83
Author: Simon Willnauer <simonw@apache.org>
Date:   Thu Aug 20 16:06:51 2015 +0200

    restore @Network

commit c840f1d1ef438826ae1ecfd5e45942a0e30dc9c0
Author: Simon Willnauer <simonw@apache.org>
Date:   Thu Aug 20 16:02:30 2015 +0200

     Use NetworkAddress.formatAddress where applicable in plugins

commit 374ce878852b35d626b7a29c8c4773545b0e9ddd
Author: Simon Willnauer <simonw@apache.org>
Date:   Thu Aug 20 15:34:06 2015 +0200

    Use NetworkAddress.formatAddress where applicable

commit e7a606d63f1bc43c1b62b6e17adf707c76d43a15
Author: Simon Willnauer <simonw@apache.org>
Date:   Thu Aug 20 10:17:57 2015 +0200

    Add @Multicast annotation to disable multicast tests by default.

    We only run multicast tests now when we explicitly state it. A working
    multicast env is required which is not always the case.

commit 2d7d2d0347179696ab41f71f048b13305014c85b
Author: Simon Willnauer <simonw@apache.org>
Date:   Thu Aug 20 09:51:28 2015 +0200

    Remove extra check for local mode in InternalTestCluster

commit dda59ac39aa136d4687b9274c2692cd77f8b8f66
Author: Simon Willnauer <simonw@apache.org>
Date:   Thu Aug 20 09:37:03 2015 +0200

    Handle node mode across entire test cluster

    We used static methods reading sys properties to define the node mode
    per cluster. this had lots of problems when tests couldn't cope with
    mixed or only local mode. Now we are passing it down to the cluster from the test
    which allows to @SuppressNetworkMode / @SupressLocalMode on the test to force
    consistent node configurations.

commit 058197b7a408318995c88ce7f6762e32348de0de
Author: Robert Muir <rmuir@apache.org>
Date:   Thu Aug 20 03:19:14 2015 -0400

    really ban InetSocketAddress's trappy method and break build and go to sleep, sorry

commit ac8779185aee1e17e6f5a81766290fdfc9c603ba
Author: Robert Muir <rmuir@apache.org>
Date:   Thu Aug 20 03:16:52 2015 -0400

    Ban methods that might surprisingly cause DNS lookups

commit e64fe3dff2b11503e5f2831eb9863d64f56c5538
Author: Robert Muir <rmuir@apache.org>
Date:   Thu Aug 20 02:59:05 2015 -0400

    Add unit test

commit f15434f20fb1a3691b1cc16028597d8fae937e05
Author: Robert Muir <rmuir@apache.org>
Date:   Thu Aug 20 02:39:02 2015 -0400

    fix ipv6 formatting bugs

commit 05c2c74098052c75fbb79ea1818a295ef2e03e30
Author: Robert Muir <rmuir@apache.org>
Date:   Thu Aug 20 02:12:05 2015 -0400

    format addresses correctly so I can actually read what comes out of our logs and stats apis

commit 4f9389dcf1e8925f23153c5eb271b4ce2294dbaf
Author: Robert Muir <rmuir@apache.org>
Date:   Wed Aug 19 21:26:52 2015 -0400

    ban dangerous methods in java.net

commit 6aacd4d9925f324903d1d099a6cf5f862aeaf677
Author: Robert Muir <rmuir@apache.org>
Date:   Wed Aug 19 20:59:24 2015 -0400

    ban lenient method

commit f466a842c60163d1f4554bdce8a4163edb534c2c
Author: Simon Willnauer <simonw@apache.org>
Date:   Thu Aug 20 00:29:00 2015 +0200

    fix tests to not mix local transport and zen unicast disco

commit 0de007a33b33fb68cf85cd86db4ca4f8ce10bbc9
Author: Simon Willnauer <simonw@apache.org>
Date:   Thu Aug 20 00:10:07 2015 +0200

    fix tests to not mix local transport and zen unicast disco

commit 539f6ca6e5137e0d496239adc8684688dedcc824
Author: Simon Willnauer <simonw@apache.org>
Date:   Thu Aug 20 00:02:01 2015 +0200

    fix tests to not mix local transport and zen unicast disco

commit 004c2881b25467f332acc8c9f9e92b1f0f9d314e
Author: Robert Muir <rmuir@apache.org>
Date:   Wed Aug 19 17:51:45 2015 -0400

    Fix multinode

commit 54113af325ce31571811c49fdaae89d5687be4ba
Author: Robert Muir <rmuir@apache.org>
Date:   Wed Aug 19 17:36:45 2015 -0400

    fix integration tests

commit 0156a77a56319d6b9737ec6a531992052e50bd59
Author: Simon Willnauer <simonw@apache.org>
Date:   Wed Aug 19 23:32:18 2015 +0200

    enable multicast in MulticastZenPingIT.java

commit 1791caa35da853ce0122485fa3fd4674c671ec6e
Author: Robert Muir <rmuir@apache.org>
Date:   Wed Aug 19 17:23:16 2015 -0400

    Fix constant

commit 22820b53e0b2dc9fd47145c2bc29ce912a8fd484
Author: Simon Willnauer <simonw@apache.org>
Date:   Wed Aug 19 22:59:09 2015 +0200

    give it some extra ids for local transport crazyness

commit b2138fafa94a8a085813fd48356df63e57ade5b3
Author: Simon Willnauer <simonw@apache.org>
Date:   Wed Aug 19 22:51:42 2015 +0200

    pass on local addresses from configured transport rather than hard code IP addresses

commit 1bf5de1f457b081e0ce262b57d2b55d39c434156
Author: Simon Willnauer <simonw@apache.org>
Date:   Wed Aug 19 22:04:31 2015 +0200

    fix PluggableTransportModuleIT.java to use local disco and detach port limit for node local disco

commit b6706eddfa04c43947c16551359ae98a463d34aa
Author: Robert Muir <rmuir@apache.org>
Date:   Wed Aug 19 14:16:03 2015 -0400

    Default to unicast discovery, with default host list of 127.0.0.1, [::1]

time:
2015-08-20T10:48:05Z
class:
core/src/main/java/org/apache/lucene/queries/MinDocQuery.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/common/cli/CheckFileCommand.java
core/src/main/java/org/elasticsearch/common/cli/CliTool.java
core/src/main/java/org/elasticsearch/common/collect/CopyOnWriteHashMap.java
core/src/main/java/org/elasticsearch/common/geo/builders/BasePolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/common/joda/Joda.java
core/src/main/java/org/elasticsearch/common/logging/Loggers.java
core/src/main/java/org/elasticsearch/common/network/IfConfig.java
core/src/main/java/org/elasticsearch/common/network/NetworkService.java
core/src/main/java/org/elasticsearch/common/network/NetworkUtils.java
core/src/main/java/org/elasticsearch/common/transport/DummyTransportAddress.java
core/src/main/java/org/elasticsearch/common/transport/InetSocketTransportAddress.java
core/src/main/java/org/elasticsearch/common/transport/LocalTransportAddress.java
core/src/main/java/org/elasticsearch/common/transport/TransportAddress.java
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
core/src/main/java/org/elasticsearch/env/ESFileStore.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/plugins/AbstractPlugin.java
core/src/main/java/org/elasticsearch/plugins/IndexPluginsModule.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginInfo.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java
core/src/main/java/org/elasticsearch/plugins/PluginsModule.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/plugins/ShardsPluginsModule.java
core/src/main/java/org/elasticsearch/plugins/SitePlugin.java
core/src/main/java/org/elasticsearch/repositories/RepositoriesModule.java
core/src/main/java/org/elasticsearch/repositories/RepositoryModule.java
core/src/main/java/org/elasticsearch/repositories/RepositoryTypesRegistry.java
core/src/main/java/org/elasticsearch/repositories/fs/FsRepositoryModule.java
core/src/main/java/org/elasticsearch/repositories/uri/URLRepository.java
core/src/main/java/org/elasticsearch/repositories/uri/URLRepositoryModule.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/support/format/ValueFormat.java
core/src/main/java/org/elasticsearch/search/aggregations/support/format/ValueParser.java
core/src/main/java/org/elasticsearch/search/dfs/CachedDfSource.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/ScrollContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/scan/ScanContext.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/apache/lucene/queries/MinDocQueryTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/action/IndicesRequestIT.java
core/src/test/java/org/elasticsearch/benchmark/scripts/expression/NativeScriptPlugin.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/plugin/NativeScriptExamplesPlugin.java
core/src/test/java/org/elasticsearch/cache/recycler/MockPageCacheRecycler.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientHeadersTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/MockInternalClusterInfoService.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsFilteringIT.java
core/src/test/java/org/elasticsearch/common/ParseFieldTests.java
core/src/test/java/org/elasticsearch/common/util/MockBigArrays.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapperPlugin.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
core/src/test/java/org/elasticsearch/index/shard/MockEngineFactoryPlugin.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedTranslogIT.java
core/src/test/java/org/elasticsearch/index/store/ExceptionRetryIT.java
core/src/test/java/org/elasticsearch/indices/analysis/DummyAnalysisPlugin.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerIT.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/template/IndexTemplateFilteringIT.java
core/src/test/java/org/elasticsearch/node/NodeMocksPlugin.java
core/src/test/java/org/elasticsearch/nodesinfo/plugin/dummy1/TestPlugin.java
core/src/test/java/org/elasticsearch/plugins/PluggableTransportModuleIT.java
core/src/test/java/org/elasticsearch/plugins/PluginInfoTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
core/src/test/java/org/elasticsearch/plugins/PluginsServiceTests.java
core/src/test/java/org/elasticsearch/plugins/loading/classpath/InClassPathPlugin.java
core/src/test/java/org/elasticsearch/plugins/responseheader/TestResponseHeaderPlugin.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/recovery/TruncatedRecoveryIT.java
core/src/test/java/org/elasticsearch/script/CustomScriptContextIT.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptFieldIT.java
core/src/test/java/org/elasticsearch/search/MockSearchService.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsIT.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptPlugin.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScorePluginIT.java
core/src/test/java/org/elasticsearch/search/highlight/CustomHighlighterPlugin.java
core/src/test/java/org/elasticsearch/search/scan/ScanContextTests.java
core/src/test/java/org/elasticsearch/search/scroll/DuelScrollIT.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggesterPlugin.java
core/src/test/java/org/elasticsearch/snapshots/AbstractSnapshotIntegTestCase.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/RepositoriesIT.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/MockRepository.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/MockRepositoryModule.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/MockRepositoryPlugin.java
core/src/test/java/org/elasticsearch/test/ESBackcompatTestCase.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/ESSingleNodeTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
core/src/test/java/org/elasticsearch/test/discovery/ClusterDiscoveryConfiguration.java
core/src/test/java/org/elasticsearch/test/disruption/NetworkPartitionIT.java
core/src/test/java/org/elasticsearch/test/store/MockFSIndexStore.java
core/src/test/java/org/elasticsearch/test/transport/AssertingLocalTransport.java
core/src/test/java/org/elasticsearch/test/transport/MockTransportService.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportIT.java
core/src/test/java/org/elasticsearch/update/UpdateByNativeScriptIT.java
plugins/analysis-icu/src/main/java/org/elasticsearch/plugin/analysis/icu/AnalysisICUPlugin.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/plugin/analysis/kuromoji/AnalysisKuromojiPlugin.java
plugins/analysis-phonetic/src/main/java/org/elasticsearch/plugin/analysis/AnalysisPhoneticPlugin.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/plugin/analysis/smartcn/AnalysisSmartChinesePlugin.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/plugin/analysis/stempel/AnalysisStempelPlugin.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/AwsEc2Service.java
plugins/cloud-aws/src/main/java/org/elasticsearch/plugin/cloud/aws/CloudAwsPlugin.java
plugins/cloud-aws/src/main/java/org/elasticsearch/repositories/s3/S3RepositoryModule.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/TestAwsS3Service.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/AzureModule.java
plugins/cloud-azure/src/main/java/org/elasticsearch/plugin/cloud/azure/CloudAzurePlugin.java
plugins/cloud-azure/src/main/java/org/elasticsearch/repositories/azure/AzureRepositoryModule.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureComputeServiceTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureRepositoryServiceTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AzureComputeServiceSimpleMock.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AzureComputeServiceTwoNodesMock.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureMinimumMasterNodesTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureSimpleTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureTwoStartedNodesTest.java
plugins/cloud-gce/src/main/java/org/elasticsearch/plugin/cloud/gce/CloudGcePlugin.java
plugins/delete-by-query/src/main/java/org/elasticsearch/plugin/deletebyquery/DeleteByQueryPlugin.java
plugins/jvm-example/src/main/java/org/elasticsearch/plugin/example/ExamplePluginConfiguration.java
plugins/jvm-example/src/main/java/org/elasticsearch/plugin/example/JvmExamplePlugin.java
plugins/lang-javascript/src/main/java/org/elasticsearch/plugin/javascript/JavaScriptPlugin.java
plugins/lang-python/src/main/java/org/elasticsearch/plugin/python/PythonPlugin.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/plugin/mapper/MapperMurmur3Plugin.java
plugins/mapper-size/src/main/java/org/elasticsearch/plugin/mapper/MapperSizePlugin.java
comments:
Merge branch 'master' into feature/query-refactoring

	core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
	core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java

time:
2015-08-20T10:47:45Z
class:
core/src/main/java/org/elasticsearch/action/search/SearchType.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScanAction.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/action/SearchServiceTransportAction.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryAction.java
comments:
Merge pull request #12994 from jpountz/deprecate/scan

Deprecate the `scan` search type.

time:
2015-08-20T10:47:23Z
class:
core/src/main/java/org/elasticsearch/action/search/SearchType.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchScanAction.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/action/SearchServiceTransportAction.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryAction.java
comments:
Deprecate the `scan` search type.

This commit deprecates the `scan` search type in favour of regular scroll
requests sorted by `_doc`.

Related to #12983

time:
2015-08-20T10:01:04Z
class:
core/src/main/java/org/apache/lucene/queries/MinDocQuery.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/ScrollContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/scan/ScanContext.java
core/src/test/java/org/apache/lucene/queries/MinDocQueryTests.java
core/src/test/java/org/elasticsearch/search/scan/ScanContextTests.java
core/src/test/java/org/elasticsearch/search/scroll/DuelScrollIT.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
comments:
Merge pull request #12983 from jpountz/enhancement/scroll_doc

Optimize sorted scroll when sorting by `_doc`.

time:
2015-08-20T09:51:59Z
class:
core/src/main/java/org/apache/lucene/queries/MinDocQuery.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/ScrollContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/scan/ScanContext.java
core/src/test/java/org/apache/lucene/queries/MinDocQueryTests.java
core/src/test/java/org/elasticsearch/search/scan/ScanContextTests.java
core/src/test/java/org/elasticsearch/search/scroll/DuelScrollIT.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
comments:
Optimize sorted scroll when sorting by `_doc`.

This change means that we will be able to remove the `SCAN` search type in 3.0
and recommend users to use sorted scrolls instead.

time:
2015-08-20T08:21:55Z
class:
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTest.java
comments:
Merge pull request #12810 from MaineC/feature/simple-query-string-test

Brings Lucene query assertions to QB test.

Theser assertions were originally added as part of the SimpleQueryStringQueryBuilder refactoring but removed later as there were more extensive tests in place already. This commit brings them back in as the other tests have been removed.

This relates to #10217 and #11274

time:
2015-08-20T07:43:47Z
class:
comments:
Merge branch 'fix/12984-rpm-module'

time:
2015-08-20T07:24:02Z
class:
comments:
Merge pull request #12997 from jpountz/fix/doc_scroll_close

Fix documentation: scrolls are not closed automatically.

time:
2015-08-20T07:20:40Z
class:
comments:
Fix documentation: scrolls are not closed automatically.

The documentation states that scrolls are automatically closed when all
documents are consumed, but this is not the case. I first tried to fix
the code to close scrolls automatically but this made REST tests fail
because clearing a scroll that is already closed returned a 4xx error
instead of a 2xx code, so this has probably been this way for a very long
time.

time:
2015-08-20T02:14:50Z
class:
core/src/main/java/org/elasticsearch/repositories/uri/URLRepository.java
comments:
Fix a documentation typo and a code comment typo to path.repo

time:
2015-08-20T01:55:32Z
class:
comments:
Fix documentation typo to path.repo for UNC path example

Closes #13008

time:
2015-08-19T20:21:42Z
class:
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/AwsEc2Service.java
comments:
Don't show access_key and filter_key in S3 repository settings

In #11265 we added an ability to filter out sensitive repository settings. This commit uses this change to filter out access_key and filter_key in S3 repository settings.

Closes elastic/elasticsearch-cloud-aws#184

time:
2015-08-19T20:17:45Z
class:
core/src/main/java/org/elasticsearch/common/network/NetworkUtils.java
comments:
Merge pull request #12995 from rmuir/dedup_resolver_for_binding

Deduplicate addresses from resolver.

time:
2015-08-19T18:25:41Z
class:
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/dfs/CachedDfSource.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/test/java/org/elasticsearch/test/ESSingleNodeTestCase.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
comments:
Removed CachedDfSource and move the dfs logic into the ContextIndexSearcher

time:
2015-08-19T16:42:19Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/support/format/ValueFormat.java
core/src/main/java/org/elasticsearch/search/aggregations/support/format/ValueParser.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramIT.java
comments:
Merge pull request #12886 from cbuescher/fix/12278

Make ValueParser.DateMath aware of timezone setting

time:
2015-08-19T16:37:35Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/bootstrap/JNAKernel32Library.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
comments:
tweaks

time:
2015-08-19T16:06:54Z
class:
core/src/main/java/org/elasticsearch/common/network/NetworkUtils.java
comments:
Deduplicate addresses from resolver.

In some cases this may contain duplicates, although its a misconfiguration,
lets not bind to multiple ports. Its no problem for us to dedup, this code
doesn't need to be huper-duper fast since its used only for logic around bind/publish

time:
2015-08-19T15:56:56Z
class:
comments:
Merge pull request #12965 from brwe/es-running-already

fail with better error message if elasticsearch was started already

time:
2015-08-19T15:56:05Z
class:
comments:
fail with better error message if elasticsearch was started already

Before it failed with
.../es/qa/smoke-test-plugins/target/integ-tests/es.pid doesn't exist
which was confusing.

time:
2015-08-19T15:20:48Z
class:
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
comments:
Log all interfaces we try to bind before binding

time:
2015-08-19T13:37:28Z
class:
comments:
[build] rpm module should be build on machine with /usr/bin/rpmbuild

We build the rpm module automatically if you have either:

* `/usr/bin/rpmbuild`
* `/usr/local/bin/rpmbuild`

available.

If your `rpmbuild` is in another location and available in your path, then run maven with `rpm` profile:

```sh
mvn deploy -Prpm
```

Closes #12984.

time:
2015-08-19T13:31:57Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregatorFactory.java
comments:
Aggregations: Throw error if cardinality aggregator has a sub aggregation

The cardinality aggregation is a metric aggregation and therefore cannot accept sub-aggregations. It was previously possible to create a rest request with a cardinality aggregation that had sub-aggregations. Now such a request will throw an error in the response.

Close #12988

time:
2015-08-19T13:25:55Z
class:
core/src/main/java/org/elasticsearch/common/transport/InetSocketTransportAddress.java
comments:
Merge pull request #12986 from s1monw/fix_host_resolving

Only resolve host if explicitly allowed.

time:
2015-08-19T13:10:46Z
class:
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
comments:
Merge pull request #12936 from s1monw/add_build_hash_to_headers

Add build short hash to the download manager headers to identify staging builds

time:
2015-08-19T12:54:56Z
class:
core/src/main/java/org/elasticsearch/common/transport/InetSocketTransportAddress.java
comments:
Only resolve host if explicitly allowed.

We have some settings that prevent host name resolution which should
be repected by InetSocketTransportAddress#getHost() to only resolve if
allowed or desired.

time:
2015-08-19T11:14:01Z
class:
core/src/main/java/org/elasticsearch/common/network/IfConfig.java
core/src/main/java/org/elasticsearch/common/network/NetworkService.java
comments:
Merge pull request #12979 from rmuir/ifconfig

Log network configuration at debug level

time:
2015-08-19T10:33:34Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginInfo.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java
core/src/test/java/org/elasticsearch/plugins/PluginInfoTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
comments:
Merge pull request #12775 from cbuescher/fix/12715

Use 'name' from plugin descriptor file to determine plugin name

time:
2015-08-19T10:13:01Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginInfo.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java
core/src/test/java/org/elasticsearch/plugins/PluginInfoTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
comments:
Plugins: Add 'name' property to plugin descriptor file to determine plugin name

At the moment, when installing from an url, a user provides the plugin name on
the command line like:

* bin/plugin install [plugin-name] --url [url]

This can lead to problems when picking an already existing name from another
plugin, and can potentially overwrite plugins already installed with that name.

This, this PR introduces a mandatory `name` property to the plugin descriptor
file which replaces the name formerly provided by the user.

With the addition of the `name` property to the plugin descriptor file, the user
does not need to specify the plugin name any longer when installing from a file
or url. Because of this, all arguments to `plugin install` command are now
either treated as a symbolic name, a URL or a file without the need to specify
this with an explicit option.

The new syntax for `plugin install` is now:

bin/plugin install [name or url]

* downloads official plugin
bin/plugin install analysis-kuromoji

* downloads github plugin
bin/plugin install lmenezes/elasticsearch-kopf

* install from URL or file
bin/plugin install http://link.to/foo.zip
bin/plugin install file:/path/to/foo.zip

If the argument does not parse to a valid URL, it is assumed to be a name and the
download location is resolved like before. Regardless of the source location of
the plugin, it is extracted to a temporary directory and the `name` property from
the descriptor file is used to determine the final install location.

Relates to #12715

time:
2015-08-19T09:30:24Z
class:
core/src/main/java/org/elasticsearch/common/joda/Joda.java
core/src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
comments:
Merge pull request #12977 from jasontedor/fix/12873

Add millisecond parser for dynamic date fields mapped from "yyyy/MM/dd"

time:
2015-08-19T09:26:49Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
comments:
Merge pull request #12981 from s1monw/serialize_interrupted_exceptions

Add serialization support for InterruptedException

time:
2015-08-19T08:24:09Z
class:
comments:
[build] Update to elasticsearch 2.0.0

We need to define `<elasticsearch.version>` in `pom.xml` as we now inherit from elasticsearch project parent pom.

But `elasticsearch.version` is set by default to `project.version` which is here `3.0.0-SNAPSHOT` for the mapper project.

Related to #148

time:
2015-08-19T08:14:33Z
class:
comments:
Update to Tika 1.10

Release 1.10 - 8/1/2015

  * Tika Config XML can now be used to create composite detectors,
    and exclude detectors that DefaultDetector would otherwise
    have used. This brings support in-line with Parsers. (TIKA-1702)

  * Reverted to legacy sort order of parsers that was
    mistakenly reversed in Tika 1.9 (TIKA-1689).

  * Upgrade to POI 3.13-beta1 (TIKA-1667).

  * Upgrade to PDFBox 1.8.10 (TIKA-1588).

  * MimeTypes now tries to find a registered type with and
    without parameters (TIKA-1692).

  * Added more robust error handling for encoding detection
    of .MSG files (TIKA-1238).

  * Fixed bug in Tika's use of the Jackcess parser that
    prevented reading of v97 Access files (TIKA-1681).

  * Upgrade xerial.org's sqlite-jdbc to 3.8.10.1. NOTE:
    as of Tika 1.9, this jar is "provided." Make sure
    to upgrade your provided jar! (TIKA-1687).

  * Add header/footer extraction to xls (via Aeham Abushwashi)
    (TIKA-1400).

  * Drop the source file name from the embedded file path in
    RecursiveParserWrapper's "X-TIKA:embedded_resource_path"
    (TIKA-1673).

  * Upgraded to Java 7 (TIKA-1536).

  * Non-standards compliant emails are now correctly detected
    as message/rfc822 (TIKA-1602).

  * Added parser for MS Access files via Jackcess. Many thanks
    to Health Market Science, Brian O'Neill and James Ahlborn
    for relicensing Jackcess to Apache v2! (TIKA-1601)

  * GDALParser now correctly sets "nitf" as a supported
    MediaType (TIKA-1664).

  * Added DigestingParser to calculate digest hashes
    and record them in metadata. Integrated with
    tika-app and tika-server (TIKA-1663).

  * Fixed ZipContainerDetector to detect all IPA files
    (TIKA-1659).

Closes #147.

time:
2015-08-19T08:01:58Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
comments:
Add serialization support for InterruptedException

it's an important exception to serialize and we see it often in tests
etc. but then it's wrapped in NotSerializableExceptionWrapper which is
odd. This commit adds native support for this exception.

time:
2015-08-19T08:01:38Z
class:
core/src/test/java/org/elasticsearch/test/discovery/ClusterDiscoveryConfiguration.java
comments:
Test: ClusterDiscoveryConfiguration.UnicastZen should allow for port ranges

The cluster configuration allows to setup a cluster for use with unicast discovery. This means that nodes have to have pre-calculated known addresses which can be used to poplulate the unicast hosts setting. Despite of repeated attempts to select unused ports, we still see test failures where the node can not bind to it's assigned port due to it already being in use (most on CentOS). This commit changes it to allow each node to have a pre-set mutual exclusive range of ports and add all those ports to the unicast hosts list. That's OK because we know the node will only bind to one of those.

time:
2015-08-19T05:26:36Z
class:
core/src/main/java/org/elasticsearch/common/network/IfConfig.java
core/src/main/java/org/elasticsearch/common/network/NetworkService.java
comments:
Log network configuration at debug level

time:
2015-08-19T04:32:51Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/GetRepositoriesResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/repositories/get/TransportGetRepositoriesAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/GetSnapshotsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/get/TransportGetSnapshotsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotsStatusResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/IndicesAliasesRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/TransportGetIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/ShardSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoresResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/TransportIndicesShardStoresAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/ValidateQueryResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/TransportGetWarmersAction.java
core/src/main/java/org/elasticsearch/action/percolate/PercolateShardResponse.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/bootstrap/JNAKernel32Library.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java
core/src/main/java/org/elasticsearch/cluster/RestoreInProgress.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/RepositoriesMetaData.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTableValidation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/common/blobstore/BlobPath.java
core/src/main/java/org/elasticsearch/common/inject/EncounterImpl.java
core/src/main/java/org/elasticsearch/common/inject/InjectionRequestProcessor.java
core/src/main/java/org/elasticsearch/common/inject/InjectorImpl.java
core/src/main/java/org/elasticsearch/common/inject/MembersInjectorImpl.java
core/src/main/java/org/elasticsearch/common/inject/MembersInjectorStore.java
core/src/main/java/org/elasticsearch/common/inject/ProvisionException.java
core/src/main/java/org/elasticsearch/common/inject/State.java
core/src/main/java/org/elasticsearch/common/inject/TypeLiteral.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider2.java
core/src/main/java/org/elasticsearch/common/inject/internal/Errors.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/common/inject/multibindings/Multibinder.java
core/src/main/java/org/elasticsearch/common/inject/spi/Elements.java
core/src/main/java/org/elasticsearch/common/inject/spi/InjectionPoint.java
core/src/main/java/org/elasticsearch/common/inject/spi/Message.java
core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/util/CollectionUtils.java
core/src/main/java/org/elasticsearch/common/util/concurrent/AtomicArray.java
core/src/main/java/org/elasticsearch/common/xcontent/support/filtering/FilteringJsonGenerator.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/ZenPingService.java
core/src/main/java/org/elasticsearch/gateway/DanglingIndicesState.java
core/src/main/java/org/elasticsearch/index/fielddata/ScriptDocValues.java
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/ObjectMappers.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
core/src/main/java/org/elasticsearch/index/search/stats/StatsGroupsParseElement.java
core/src/main/java/org/elasticsearch/index/shard/CommitPoint.java
core/src/main/java/org/elasticsearch/index/shard/CommitPoints.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshot.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshots.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/SnapshotFiles.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryState.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/get/RestGetIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/warmer/get/RestGetWarmerAction.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregation.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregations.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightUtils.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
core/src/main/java/org/elasticsearch/search/warmer/IndexWarmersMetaData.java
core/src/main/java/org/elasticsearch/snapshots/RestoreInfo.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/Snapshot.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotInfo.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotUtils.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/action/admin/indices/get/GetIndexIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreResponseTest.java
core/src/test/java/org/elasticsearch/bwcompat/GetIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/ack/AckIT.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/structure/RoutingIteratorTests.java
core/src/test/java/org/elasticsearch/common/util/CollectionUtilsTests.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/warmer/IndicesWarmerBlocksIT.java
core/src/test/java/org/elasticsearch/indices/warmer/SimpleIndicesWarmerIT.java
core/src/test/java/org/elasticsearch/search/suggest/SuggestSearchIT.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/SnapshotUtilsTests.java
core/src/test/java/org/elasticsearch/test/VersionUtils.java
core/src/test/java/org/elasticsearch/test/disruption/NetworkPartition.java
core/src/test/java/org/elasticsearch/test/rest/section/ApiCallSection.java
comments:
Internal: Remove all uses of ImmutableList

We are in the process of getting rid of guava, and this removes a major
use. The replacement is mostly Collections.emptyList(), Arrays.asList
and Collections.unmodifiableList. While it is questionable whether we
need the last one (as these are usually placed in final members), we can
continue to refactor later by removing unnecessary wrappings.

time:
2015-08-19T03:25:02Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
comments:
Merge pull request #12976 from rmuir/exceptional_noise

Improve console logging on startup exception

time:
2015-08-19T02:30:43Z
class:
core/src/main/java/org/elasticsearch/common/joda/Joda.java
core/src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
comments:
Add millisecond parser for dynamic date fields mapped from "yyyy/MM/dd"

Dynamic date fields mapped from dates of the form "yyyy-MM-dd"
automatically receive the millisecond paresr epoch_millis as an
alternative parsing format. However, dynamic date fields mapped from
dates of the form "yyyy/MM/dd" do not. This is a bug since the migration
documentation currently specifies that a dynamically added date field,
by default, includes the epoch_millis format. This commit adds
epoch_millis as an alternative parser to dynamic date fields mapped from
dates of the form "yyyy/MM/dd".

Closes #12873

time:
2015-08-19T02:27:39Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
comments:
Improve console logging on startup exception

Today we show the exception twice: once by the logger and then again
by the JVM. This is too noisy, and easy to avoid.

time:
2015-08-18T23:32:55Z
class:
comments:
make property local and use java home to find jps

time:
2015-08-18T21:28:48Z
class:
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/plugins/AbstractPlugin.java
core/src/main/java/org/elasticsearch/plugins/IndexPluginsModule.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginsModule.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/plugins/ShardsPluginsModule.java
core/src/main/java/org/elasticsearch/plugins/SitePlugin.java
core/src/test/java/org/elasticsearch/action/IndicesRequestIT.java
core/src/test/java/org/elasticsearch/benchmark/scripts/expression/NativeScriptPlugin.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/plugin/NativeScriptExamplesPlugin.java
core/src/test/java/org/elasticsearch/cache/recycler/MockPageCacheRecycler.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientHeadersTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/MockInternalClusterInfoService.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsFilteringIT.java
core/src/test/java/org/elasticsearch/common/util/MockBigArrays.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapperPlugin.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
core/src/test/java/org/elasticsearch/index/shard/MockEngineFactoryPlugin.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedTranslogIT.java
core/src/test/java/org/elasticsearch/index/store/ExceptionRetryIT.java
core/src/test/java/org/elasticsearch/indices/analysis/DummyAnalysisPlugin.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerIT.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/template/IndexTemplateFilteringIT.java
core/src/test/java/org/elasticsearch/node/NodeMocksPlugin.java
core/src/test/java/org/elasticsearch/nodesinfo/plugin/dummy1/TestPlugin.java
core/src/test/java/org/elasticsearch/nodesinfo/plugin/dummy2/TestNoVersionPlugin.java
core/src/test/java/org/elasticsearch/plugins/PluggableTransportModuleIT.java
core/src/test/java/org/elasticsearch/plugins/PluginsServiceTests.java
core/src/test/java/org/elasticsearch/plugins/loading/classpath/InClassPathPlugin.java
core/src/test/java/org/elasticsearch/plugins/responseheader/TestResponseHeaderPlugin.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/recovery/TruncatedRecoveryIT.java
core/src/test/java/org/elasticsearch/script/CustomScriptContextIT.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptFieldIT.java
core/src/test/java/org/elasticsearch/search/MockSearchService.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsIT.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptPlugin.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScorePluginIT.java
core/src/test/java/org/elasticsearch/search/highlight/CustomHighlighterPlugin.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggesterPlugin.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/MockRepository.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/disruption/NetworkPartitionIT.java
core/src/test/java/org/elasticsearch/test/store/MockFSIndexStore.java
core/src/test/java/org/elasticsearch/test/transport/AssertingLocalTransport.java
core/src/test/java/org/elasticsearch/test/transport/MockTransportService.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportIT.java
core/src/test/java/org/elasticsearch/update/UpdateByNativeScriptIT.java
plugins/analysis-icu/src/main/java/org/elasticsearch/plugin/analysis/icu/AnalysisICUPlugin.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/plugin/analysis/kuromoji/AnalysisKuromojiPlugin.java
plugins/analysis-phonetic/src/main/java/org/elasticsearch/plugin/analysis/AnalysisPhoneticPlugin.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/plugin/analysis/smartcn/AnalysisSmartChinesePlugin.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/plugin/analysis/stempel/AnalysisStempelPlugin.java
plugins/cloud-aws/src/main/java/org/elasticsearch/plugin/cloud/aws/CloudAwsPlugin.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/TestAwsS3Service.java
plugins/cloud-azure/src/main/java/org/elasticsearch/plugin/cloud/azure/CloudAzurePlugin.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureComputeServiceTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureRepositoryServiceTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AzureComputeServiceSimpleMock.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AzureComputeServiceTwoNodesMock.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureMinimumMasterNodesTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureSimpleTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureTwoStartedNodesTest.java
plugins/cloud-gce/src/main/java/org/elasticsearch/plugin/cloud/gce/CloudGcePlugin.java
plugins/delete-by-query/src/main/java/org/elasticsearch/plugin/deletebyquery/DeleteByQueryPlugin.java
plugins/jvm-example/src/main/java/org/elasticsearch/plugin/example/ExamplePluginConfiguration.java
plugins/jvm-example/src/main/java/org/elasticsearch/plugin/example/JvmExamplePlugin.java
plugins/lang-javascript/src/main/java/org/elasticsearch/plugin/javascript/JavaScriptPlugin.java
plugins/lang-python/src/main/java/org/elasticsearch/plugin/python/PythonPlugin.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/plugin/mapper/MapperMurmur3Plugin.java
plugins/mapper-size/src/main/java/org/elasticsearch/plugin/mapper/MapperSizePlugin.java
comments:
Merge pull request #12952 from rjernst/construct_it_yourself

Simplify Plugin API for constructing modules

time:
2015-08-18T21:28:03Z
class:
core/src/main/java/org/elasticsearch/plugins/AbstractPlugin.java
core/src/test/java/org/elasticsearch/plugins/PluginsServiceTests.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/MockRepository.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/plugin/mapper/MapperMurmur3Plugin.java
comments:
Remove leftover class and fix compile issues from master merge

time:
2015-08-18T21:17:43Z
class:
core/src/test/java/org/elasticsearch/test/discovery/ClusterDiscoveryConfiguration.java
comments:
[TEST] Make it clear what address we try to bind

time:
2015-08-18T21:15:08Z
class:
core/src/main/java/org/elasticsearch/common/cli/CheckFileCommand.java
core/src/main/java/org/elasticsearch/common/cli/CliTool.java
core/src/main/java/org/elasticsearch/common/collect/CopyOnWriteHashMap.java
core/src/main/java/org/elasticsearch/common/geo/builders/BasePolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
core/src/main/java/org/elasticsearch/env/ESFileStore.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/repositories/RepositoriesModule.java
core/src/main/java/org/elasticsearch/repositories/RepositoryModule.java
core/src/main/java/org/elasticsearch/repositories/RepositoryTypesRegistry.java
core/src/main/java/org/elasticsearch/repositories/fs/FsRepositoryModule.java
core/src/main/java/org/elasticsearch/repositories/uri/URLRepositoryModule.java
core/src/test/java/org/elasticsearch/common/ParseFieldTests.java
core/src/test/java/org/elasticsearch/plugins/PluginsServiceTests.java
core/src/test/java/org/elasticsearch/snapshots/AbstractSnapshotIntegTestCase.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/RepositoriesIT.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/MockRepository.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/MockRepositoryModule.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/MockRepositoryPlugin.java
core/src/test/java/org/elasticsearch/test/ESBackcompatTestCase.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
plugins/cloud-aws/src/main/java/org/elasticsearch/plugin/cloud/aws/CloudAwsPlugin.java
plugins/cloud-aws/src/main/java/org/elasticsearch/repositories/s3/S3RepositoryModule.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/AzureModule.java
plugins/cloud-azure/src/main/java/org/elasticsearch/plugin/cloud/azure/CloudAzurePlugin.java
plugins/cloud-azure/src/main/java/org/elasticsearch/repositories/azure/AzureRepositoryModule.java
comments:
Merge branch 'master' into construct_it_yourself

time:
2015-08-18T20:59:31Z
class:
core/src/main/java/org/elasticsearch/common/cli/CliTool.java
core/src/main/java/org/elasticsearch/common/collect/CopyOnWriteHashMap.java
core/src/main/java/org/elasticsearch/common/geo/builders/BasePolygonBuilder.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/test/java/org/elasticsearch/common/ParseFieldTests.java
core/src/test/java/org/elasticsearch/test/ESBackcompatTestCase.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
comments:
Drop commons-lang dependency

commons-lang really is only used by some core classes to join strings or modiy arrays.
It's not worth carrying the dependency. This commit removes the dependency on commons-lang
entirely.

time:
2015-08-18T20:44:57Z
class:
core/src/main/java/org/elasticsearch/common/cli/CheckFileCommand.java
core/src/main/java/org/elasticsearch/env/ESFileStore.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
comments:
Workaround JDK bug 8034057

This causes a FileSystemException when trying to retrieve FileStore for a path,
and falsely returns false for Files.isWritable

Squashed commit of the following:

commit d2cc0d966f3bc94aa836b316a42b3c5724bc01ef
Author: Robert Muir <rmuir@apache.org>
Date:   Tue Aug 18 15:49:48 2015 -0400

    fixes for the non-bogus comments

commit 6e0a272f5f8ef7358654ded8ff4ffc31831fa5c7
Author: Robert Muir <rmuir@apache.org>
Date:   Tue Aug 18 15:30:43 2015 -0400

    Fix isWritable too

commit 2a8764ca118fc4c950bfc60d0b97de873e0e82ad
Author: Robert Muir <rmuir@apache.org>
Date:   Tue Aug 18 14:49:50 2015 -0400

    try to workaround filestore bug

time:
2015-08-18T18:27:24Z
class:
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
comments:
Improve stability of restoreIndexWithMissingShards test

Replaced awaitBusy with assertBusy and increased the timeout.

time:
2015-08-18T18:06:11Z
class:
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTest.java
comments:
Brings Lucene query assertions back to QB test.

This brings the Lucene query assertions back to the querybuilder test that were
removed in the ancient past when we tested Lucene queries through their
inherent equals method. As we no longer do that it makes sense to do at least
coarse sanity checking on the generated Lucene query. More such checks are
being added as part of this commit.

Relates to #10217

time:
2015-08-18T17:41:37Z
class:
comments:
[build] simplify ant script for plugins

Now we are using short names for artifactId (see #12879) so we don't need anymore to transform long names `elasticsearch-pluginname` to short names `pluginname` in ant script when we install a plugin.
Modify also convert-plugin-name
Clean up remaining plugins with old format
And fix vagrant tests

time:
2015-08-18T17:36:05Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/test/java/org/elasticsearch/plugins/PluginsServiceTests.java
comments:
Merge pull request #12967 from rjernst/no_more_toe_stepping

Ensure additionalSettings() do not conflict

time:
2015-08-18T17:35:37Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/test/java/org/elasticsearch/plugins/PluginsServiceTests.java
comments:
Tweak exception message

time:
2015-08-18T17:34:29Z
class:
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/common/logging/Loggers.java
core/src/main/java/org/elasticsearch/common/network/NetworkService.java
core/src/main/java/org/elasticsearch/common/network/NetworkUtils.java
core/src/main/java/org/elasticsearch/common/transport/DummyTransportAddress.java
core/src/main/java/org/elasticsearch/common/transport/InetSocketTransportAddress.java
core/src/main/java/org/elasticsearch/common/transport/LocalTransportAddress.java
core/src/main/java/org/elasticsearch/common/transport/TransportAddress.java
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/main/java/org/elasticsearch/index/engine/IndexSearcherWrapper.java
core/src/main/java/org/elasticsearch/index/engine/IndexSearcherWrappingService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/MapperBuilders.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NotQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/repositories/RepositoriesModule.java
core/src/main/java/org/elasticsearch/repositories/RepositoryModule.java
core/src/main/java/org/elasticsearch/repositories/RepositoryTypesRegistry.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityParser.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/common/network/NetworkUtilsTests.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/search/geo/GeoUtilsTests.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/CardinalityIT.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoBoundingBoxIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoDistanceIT.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
core/src/test/java/org/elasticsearch/snapshots/AbstractSnapshotIntegTestCase.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/RepositoriesIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/MockRepository.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/MockRepositoryPlugin.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/junit/listeners/ReproduceInfoPrinter.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/network/Ec2NameResolver.java
plugins/cloud-aws/src/main/java/org/elasticsearch/plugin/cloud/aws/CloudAwsPlugin.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/AzureModule.java
plugins/cloud-azure/src/main/java/org/elasticsearch/plugin/cloud/azure/CloudAzurePlugin.java
plugins/cloud-azure/src/main/java/org/elasticsearch/repositories/azure/AzureRepositoryModule.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/index/mapper/murmur3/Murmur3FieldMapper.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/index/mapper/murmur3/RegisterMurmur3FieldMapper.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/plugin/mapper/MapperMurmur3IndexModule.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/plugin/mapper/MapperMurmur3Plugin.java
plugins/mapper-murmur3/src/test/java/org/elasticsearch/index/mapper/murmur3/MapperMurmur3RestIT.java
plugins/mapper-murmur3/src/test/java/org/elasticsearch/index/mapper/murmur3/Murmur3FieldMapperTests.java
comments:
Merge branch 'master' into no_more_toe_stepping

time:
2015-08-18T17:32:12Z
class:
core/src/main/java/org/elasticsearch/repositories/RepositoryTypesRegistry.java
comments:
Fix compile failure from bad merge after renaming of
ExtensionPoint.TypeExtensionPoint

time:
2015-08-18T17:17:56Z
class:
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
core/src/main/java/org/elasticsearch/repositories/RepositoriesModule.java
core/src/main/java/org/elasticsearch/repositories/RepositoryModule.java
core/src/main/java/org/elasticsearch/repositories/RepositoryTypesRegistry.java
core/src/main/java/org/elasticsearch/repositories/fs/FsRepositoryModule.java
core/src/main/java/org/elasticsearch/repositories/uri/URLRepositoryModule.java
core/src/test/java/org/elasticsearch/snapshots/AbstractSnapshotIntegTestCase.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/RepositoriesIT.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/MockRepository.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/MockRepositoryModule.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/MockRepositoryPlugin.java
plugins/cloud-aws/src/main/java/org/elasticsearch/plugin/cloud/aws/CloudAwsPlugin.java
plugins/cloud-aws/src/main/java/org/elasticsearch/repositories/s3/S3RepositoryModule.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/AzureModule.java
plugins/cloud-azure/src/main/java/org/elasticsearch/plugin/cloud/azure/CloudAzurePlugin.java
plugins/cloud-azure/src/main/java/org/elasticsearch/repositories/azure/AzureRepositoryModule.java
comments:
Merge pull request #12948 from rjernst/module_culling3

Simplify custom repository type setup

time:
2015-08-18T17:16:40Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/bulk/BulkProcessor.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/cluster/settings/Validator.java
core/src/main/java/org/elasticsearch/common/geo/ShapesAvailability.java
core/src/main/java/org/elasticsearch/common/inject/spi/ProviderLookup.java
core/src/main/java/org/elasticsearch/common/logging/Loggers.java
core/src/main/java/org/elasticsearch/common/network/NetworkService.java
core/src/main/java/org/elasticsearch/common/network/NetworkUtils.java
core/src/main/java/org/elasticsearch/common/transport/DummyTransportAddress.java
core/src/main/java/org/elasticsearch/common/transport/InetSocketTransportAddress.java
core/src/main/java/org/elasticsearch/common/transport/LocalTransportAddress.java
core/src/main/java/org/elasticsearch/common/transport/TransportAddress.java
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/main/java/org/elasticsearch/index/cache/IndexCacheModule.java
core/src/main/java/org/elasticsearch/index/engine/IndexSearcherWrapper.java
core/src/main/java/org/elasticsearch/index/engine/IndexSearcherWrappingService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/MapperBuilders.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NotQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/indices/analysis/IndicesAnalysisModule.java
core/src/main/java/org/elasticsearch/indices/query/IndicesQueriesModule.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryStatus.java
core/src/main/java/org/elasticsearch/node/service/NodeService.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/info/RestNodesInfoAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/stats/RestNodesStatsAction.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/InternalTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityParser.java
core/src/main/java/org/elasticsearch/search/aggregations/support/AggregationContext.java
core/src/main/java/org/elasticsearch/search/highlight/Highlighters.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
core/src/main/java/org/elasticsearch/search/suggest/Suggesters.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/common/network/NetworkUtilsTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/EsExecutorsTests.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisTestsHelper.java
core/src/test/java/org/elasticsearch/index/analysis/CharFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
core/src/test/java/org/elasticsearch/index/analysis/PatternCaptureTokenFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/StopAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTest.java
core/src/test/java/org/elasticsearch/index/cache/IndexCacheModuleTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTest.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
core/src/test/java/org/elasticsearch/index/search/geo/GeoUtilsTests.java
core/src/test/java/org/elasticsearch/indices/IndicesModuleTests.java
core/src/test/java/org/elasticsearch/indices/recovery/RecoveryStatusTests.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
core/src/test/java/org/elasticsearch/monitor/os/OsProbeTests.java
core/src/test/java/org/elasticsearch/monitor/process/ProcessProbeTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/CardinalityIT.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoBoundingBoxIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoDistanceIT.java
core/src/test/java/org/elasticsearch/search/internal/InternalSearchHitTests.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
core/src/test/java/org/elasticsearch/snapshots/AbstractSnapshotIntegTestCase.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/stresstest/leaks/GenericStatsLeak.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/junit/listeners/ReproduceInfoPrinter.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/AnalysisTestUtils.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java
plugins/analysis-phonetic/src/test/java/org/elasticsearch/index/analysis/SimplePhoneticAnalysisTests.java
plugins/analysis-smartcn/src/test/java/org/elasticsearch/index/analysis/SimpleSmartChineseAnalysisTests.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/PolishAnalysisTests.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/SimplePolishTokenFilterTests.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/network/Ec2NameResolver.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/index/mapper/murmur3/Murmur3FieldMapper.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/index/mapper/murmur3/RegisterMurmur3FieldMapper.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/plugin/mapper/MapperMurmur3IndexModule.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/plugin/mapper/MapperMurmur3Plugin.java
plugins/mapper-murmur3/src/test/java/org/elasticsearch/index/mapper/murmur3/MapperMurmur3RestIT.java
plugins/mapper-murmur3/src/test/java/org/elasticsearch/index/mapper/murmur3/Murmur3FieldMapperTests.java
comments:
Merge branch 'master' into module_culling3

time:
2015-08-18T17:14:14Z
class:
comments:
Docs: Added removal of MVEL to migration docs

time:
2015-08-18T17:13:01Z
class:
core/src/main/java/org/elasticsearch/repositories/RepositoryTypesRegistry.java
comments:
Add javadocs to repository types registry methods

time:
2015-08-18T16:56:15Z
class:
comments:
Merge branch 'doc/plugins'

time:
2015-08-18T16:50:47Z
class:
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/common/logging/Loggers.java
core/src/main/java/org/elasticsearch/common/network/NetworkService.java
core/src/main/java/org/elasticsearch/common/network/NetworkUtils.java
core/src/main/java/org/elasticsearch/common/transport/DummyTransportAddress.java
core/src/main/java/org/elasticsearch/common/transport/InetSocketTransportAddress.java
core/src/main/java/org/elasticsearch/common/transport/LocalTransportAddress.java
core/src/main/java/org/elasticsearch/common/transport/TransportAddress.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/main/java/org/elasticsearch/index/engine/IndexSearcherWrapper.java
core/src/main/java/org/elasticsearch/index/engine/IndexSearcherWrappingService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/MapperBuilders.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NotQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityParser.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/common/network/NetworkUtilsTests.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/search/geo/GeoUtilsTests.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/CardinalityIT.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoBoundingBoxIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoDistanceIT.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
core/src/test/java/org/elasticsearch/snapshots/AbstractSnapshotIntegTestCase.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/junit/listeners/ReproduceInfoPrinter.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/network/Ec2NameResolver.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/index/mapper/murmur3/Murmur3FieldMapper.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/index/mapper/murmur3/RegisterMurmur3FieldMapper.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/plugin/mapper/MapperMurmur3IndexModule.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/plugin/mapper/MapperMurmur3Plugin.java
plugins/mapper-murmur3/src/test/java/org/elasticsearch/index/mapper/murmur3/MapperMurmur3RestIT.java
plugins/mapper-murmur3/src/test/java/org/elasticsearch/index/mapper/murmur3/Murmur3FieldMapperTests.java
comments:
Merge branch 'master' into construct_it_yourself

time:
2015-08-18T16:49:58Z
class:
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
comments:
Fix naming problem with test plugin

time:
2015-08-18T15:50:48Z
class:
comments:
Merge pull request #12953 from Kakakakakku/fix-doc

Fixed section name and api name in docs

time:
2015-08-18T15:32:20Z
class:
core/src/main/java/org/elasticsearch/common/logging/Loggers.java
comments:
Suppress forbiddenAPI in logger when using localhost

time:
2015-08-18T14:48:34Z
class:
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/common/network/NetworkUtils.java
core/src/main/java/org/elasticsearch/common/transport/DummyTransportAddress.java
core/src/main/java/org/elasticsearch/common/transport/InetSocketTransportAddress.java
core/src/main/java/org/elasticsearch/common/transport/LocalTransportAddress.java
core/src/main/java/org/elasticsearch/common/transport/TransportAddress.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Remove usage or `InetAddress#getLocalHost`

this method is very confusing and if it's used it's likely the wrong thing
with respect to the actual bound / published address. This change discourages
it's use and removes all useage. It's replaced with the actual published address
most of the time.

time:
2015-08-18T14:24:40Z
class:
comments:
check with jps that the pid file contains a pid that actually is an elasticsearch process

relates to #12063

time:
2015-08-18T13:30:44Z
class:
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/indices/query/IndicesQueriesRegistry.java
core/src/test/java/org/elasticsearch/index/query/IndicesQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/MatchNoneQueryBuilderTest.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
comments:
Refactoring of Indices Query

Relates to #10217

This PR is against the query-refactoring branch.

Closes #12031

time:
2015-08-18T13:25:38Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
comments:
Merge branch 'pr/shorten-artifactids'

time:
2015-08-18T13:20:16Z
class:
core/src/main/java/org/elasticsearch/index/query/NotQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
comments:
Merge branch 'master' into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/query/NotQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java

time:
2015-08-18T12:58:53Z
class:
core/src/main/java/org/elasticsearch/index/query/NotQueryParser.java
comments:
Query DSL: remove attemped (not working) support for array in not query parser

Closes #12890

time:
2015-08-18T12:57:33Z
class:
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
comments:
Java api: remove execution from TermsQueryBuilder as it has no effect

Also introduced ParseField for execution in TermsQueryParser so proper deprecation warnings get printed out when requested.

Closes #12884

time:
2015-08-18T12:36:12Z
class:
comments:
[qa] multinode tests fails when you run low on disk space (85%)

In #12853 we actually introduced a test regression. Now as we wait for yellow instead of green, we might have some pending tasks.
This commit simplify all that and only checks the number of nodes within the cluster.

time:
2015-08-18T11:45:59Z
class:
comments:
[maven] change murmur3 plugin groupId and name

time:
2015-08-18T11:41:12Z
class:
comments:
[maven] also rename parent project artifactId

Also fixed bad scm links

time:
2015-08-18T11:41:12Z
class:
comments:
[maven] also rename artifactId for dev-tools and rest-api-spec

time:
2015-08-18T11:41:12Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
comments:
[plugin] shorten plugin names

We can now simplify PluginHandle as `name` and `repo` are the same thing.

time:
2015-08-18T11:41:12Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
comments:
[plugin] shorten plugin names

We don't need to prefix anymore plugin names with `elasticsearch-` or `es-`.

time:
2015-08-18T11:38:49Z
class:
comments:
[maven] rename Elasticsearch names to Elasticsearch:

time:
2015-08-18T11:38:49Z
class:
comments:
[maven] rename maven names for parent, dev-tools and rest spec

Follow up for previous commit:

```
[INFO] Build Tools and Resources .......................... SUCCESS [  0.158 s]
[INFO] Rest API Specification ............................. SUCCESS [  0.002 s]
[INFO] Elasticsearch Parent POM ........................... SUCCESS [  0.122 s]
```

time:
2015-08-18T11:38:49Z
class:
comments:
[maven] rename maven names / ids for distribution modules

time:
2015-08-18T11:38:48Z
class:
comments:
[maven] rename artifactIds from `elasticsearch-something` to `something`

In plugins, we are using non consistent naming. We use `elasticsearch-cloud-aws` as the artifactId, which generates a jar file called `elasticsearch-cloud-aws-VERSION.jar`.

But when you want to install the plugin, you will end up with a shorter name for the plugin `cloud-aws`.

```
bin/plugin install cloud-aws
```

This commit changes that and use consistent names for `artifactId`, so `finalName`.

Also changed maven names.

time:
2015-08-18T11:38:48Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
comments:
Fix a typo in comment

time:
2015-08-18T11:38:48Z
class:
comments:
[build] display ignored artifact when checking licenses

time:
2015-08-18T11:22:16Z
class:
comments:
Merge branch 'qa/fix-multinode-low-disk'

time:
2015-08-18T11:21:19Z
class:
comments:
[qa] multinode tests fails when you run low on disk space (85%)

Indeed, we check within the test suite that we have not unassigned shards.

But when the test starts on my machine I get:

```
[elasticsearch] [2015-08-13 12:03:18,801][INFO ][org.elasticsearch.cluster.routing.allocation.decider] [Kehl of Tauran] low disk watermark [85%] exceeded on [eLujVjWAQ8OHdhscmaf0AQ][Jackhammer] free: 59.8gb[12.8%], replicas will not be assigned to this node
```

```
  2> REPRODUCE WITH: mvn verify -Pdev -Dskip.unit.tests -Dtests.seed=2AE3A3B7B13CE3D6 -Dtests.class=org.elasticsearch.smoketest.SmokeTestMultiIT -Dtests.method="test {yaml=smoke_test_multinode/10_basic/cluster health basic test, one index}" -Des.logger.level=ERROR -Dtests.assertion.disabled=false -Dtests.security.manager=true -Dtests.heap.size=512m -Dtests.locale=ar_YE -Dtests.timezone=Asia/Hong_Kong -Dtests.rest.suite=smoke_test_multinode
FAILURE 38.5s | SmokeTestMultiIT.test {yaml=smoke_test_multinode/10_basic/cluster health basic test, one index} <<<
   > Throwable #1: java.lang.AssertionError: expected [2xx] status code but api [cluster.health] returned [408 Request Timeout] [{"cluster_name":"prepare_release","status":"yellow","timed_out":true,"number_of_nodes":2,"number_of_data_nodes":2,"active_primary_shards":3,"active_shards":3,"relocating_shards":0,"initializing_shards":0,"unassigned_shards":3,"delayed_unassigned_shards":0,"number_of_pending_tasks":0,"number_of_in_flight_fetch":0,"task_max_waiting_in_queue_millis":0,"active_shards_percent_as_number":50.0}]
```

We don't check anymore if we have unassigned shards and we wait for `yellow` status instead of `green`.

Closes #12852.

time:
2015-08-18T11:18:39Z
class:
comments:
[doc] Fix cloud-azure install / remove instructions

time:
2015-08-18T11:14:03Z
class:
core/src/main/java/org/elasticsearch/index/engine/IndexSearcherWrapper.java
core/src/main/java/org/elasticsearch/index/engine/IndexSearcherWrappingService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/MapperBuilders.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityParser.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/CardinalityIT.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/index/mapper/murmur3/Murmur3FieldMapper.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/index/mapper/murmur3/RegisterMurmur3FieldMapper.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/plugin/mapper/MapperMurmur3IndexModule.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/plugin/mapper/MapperMurmur3Plugin.java
plugins/mapper-murmur3/src/test/java/org/elasticsearch/index/mapper/murmur3/MapperMurmur3RestIT.java
plugins/mapper-murmur3/src/test/java/org/elasticsearch/index/mapper/murmur3/Murmur3FieldMapperTests.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-08-18T11:12:58Z
class:
comments:
[doc] Backport change in cloud-aws doc

Related to https://github.com/elastic/elasticsearch/pull/12761

time:
2015-08-18T11:04:30Z
class:
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
comments:
Internal: IndicesQueriesRegitry back to being created only once

With #12921 we refactored IndicesModule but we forgot to make sure we create IndicesQueriesRegistry once. IndicesQueriesModule used to do `bind(IndicesQueriesRegistry.class).asEagerSingleton();` otherwise we get multiple instances of the registry. This needs to be ported do the IndicesModule.

time:
2015-08-18T11:02:18Z
class:
comments:
[doc] Move mapper attachment plugin to mapper page

time:
2015-08-18T11:02:18Z
class:
comments:
[doc] we don't use `check_lucene` anymore in plugins

time:
2015-08-18T10:56:37Z
class:
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
comments:
parent/child: Explicitly disabled the query cache

It was already disabled, but during tests the test framework enabled the query cache by setting the static default query cache. The caching behaviour should be the same in production and in tests.

time:
2015-08-18T10:31:36Z
class:
plugins/mapper-murmur3/src/main/java/org/elasticsearch/index/mapper/murmur3/Murmur3FieldMapper.java
comments:
Fix mapper-murmur3 compatibility version.

time:
2015-08-18T10:26:23Z
class:
comments:
Fixed section name and api name in docs

time:
2015-08-18T10:20:00Z
class:
comments:
Docs: Fixed bad ID in geo bound box

time:
2015-08-18T10:16:49Z
class:
comments:
Docs: Fixed malforme table in geo-polygon query

time:
2015-08-18T10:09:32Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/MapperBuilders.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityParser.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/CardinalityIT.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/index/mapper/murmur3/Murmur3FieldMapper.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/index/mapper/murmur3/RegisterMurmur3FieldMapper.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/plugin/mapper/MapperMurmur3IndexModule.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/plugin/mapper/MapperMurmur3Plugin.java
plugins/mapper-murmur3/src/test/java/org/elasticsearch/index/mapper/murmur3/MapperMurmur3RestIT.java
plugins/mapper-murmur3/src/test/java/org/elasticsearch/index/mapper/murmur3/Murmur3FieldMapperTests.java
comments:
Merge pull request #12931 from jpountz/fix/murmur3_defaults

Move the `murmur3` field to a plugin and fix defaults.

time:
2015-08-18T09:46:32Z
class:
core/src/main/java/org/elasticsearch/plugins/AbstractPlugin.java
core/src/main/java/org/elasticsearch/plugins/IndexPluginsModule.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/plugins/ShardsPluginsModule.java
core/src/main/java/org/elasticsearch/plugins/SitePlugin.java
core/src/test/java/org/elasticsearch/action/IndicesRequestIT.java
core/src/test/java/org/elasticsearch/benchmark/scripts/expression/NativeScriptPlugin.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/plugin/NativeScriptExamplesPlugin.java
core/src/test/java/org/elasticsearch/cache/recycler/MockPageCacheRecycler.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientHeadersTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/MockInternalClusterInfoService.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsFilteringIT.java
core/src/test/java/org/elasticsearch/common/util/MockBigArrays.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapperPlugin.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
core/src/test/java/org/elasticsearch/index/shard/MockEngineFactoryPlugin.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedTranslogIT.java
core/src/test/java/org/elasticsearch/index/store/ExceptionRetryIT.java
core/src/test/java/org/elasticsearch/indices/analysis/DummyAnalysisPlugin.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerIT.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/template/IndexTemplateFilteringIT.java
core/src/test/java/org/elasticsearch/node/NodeMocksPlugin.java
core/src/test/java/org/elasticsearch/nodesinfo/plugin/dummy1/TestPlugin.java
core/src/test/java/org/elasticsearch/nodesinfo/plugin/dummy2/TestNoVersionPlugin.java
core/src/test/java/org/elasticsearch/plugins/PluggableTransportModuleIT.java
core/src/test/java/org/elasticsearch/plugins/loading/classpath/InClassPathPlugin.java
core/src/test/java/org/elasticsearch/plugins/responseheader/TestResponseHeaderPlugin.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/recovery/TruncatedRecoveryIT.java
core/src/test/java/org/elasticsearch/script/CustomScriptContextIT.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptFieldIT.java
core/src/test/java/org/elasticsearch/search/MockSearchService.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsIT.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptPlugin.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScorePluginIT.java
core/src/test/java/org/elasticsearch/search/highlight/CustomHighlighterPlugin.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggesterPlugin.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/MockRepositoryPlugin.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/disruption/NetworkPartitionIT.java
core/src/test/java/org/elasticsearch/test/store/MockFSIndexStore.java
core/src/test/java/org/elasticsearch/test/transport/AssertingLocalTransport.java
core/src/test/java/org/elasticsearch/test/transport/MockTransportService.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportIT.java
core/src/test/java/org/elasticsearch/update/UpdateByNativeScriptIT.java
plugins/analysis-icu/src/main/java/org/elasticsearch/plugin/analysis/icu/AnalysisICUPlugin.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/plugin/analysis/kuromoji/AnalysisKuromojiPlugin.java
plugins/analysis-phonetic/src/main/java/org/elasticsearch/plugin/analysis/AnalysisPhoneticPlugin.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/plugin/analysis/smartcn/AnalysisSmartChinesePlugin.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/plugin/analysis/stempel/AnalysisStempelPlugin.java
plugins/cloud-aws/src/main/java/org/elasticsearch/plugin/cloud/aws/CloudAwsPlugin.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/TestAwsS3Service.java
plugins/cloud-azure/src/main/java/org/elasticsearch/plugin/cloud/azure/CloudAzurePlugin.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureComputeServiceTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureRepositoryServiceTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AzureComputeServiceSimpleMock.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AzureComputeServiceTwoNodesMock.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureMinimumMasterNodesTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureSimpleTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureTwoStartedNodesTest.java
plugins/cloud-gce/src/main/java/org/elasticsearch/plugin/cloud/gce/CloudGcePlugin.java
plugins/delete-by-query/src/main/java/org/elasticsearch/plugin/deletebyquery/DeleteByQueryPlugin.java
plugins/jvm-example/src/main/java/org/elasticsearch/plugin/example/ExamplePluginConfiguration.java
plugins/jvm-example/src/main/java/org/elasticsearch/plugin/example/JvmExamplePlugin.java
plugins/lang-javascript/src/main/java/org/elasticsearch/plugin/javascript/JavaScriptPlugin.java
plugins/lang-python/src/main/java/org/elasticsearch/plugin/python/PythonPlugin.java
plugins/mapper-size/src/main/java/org/elasticsearch/plugin/mapper/MapperSizePlugin.java
comments:
Merged AbstractPlugin and Plugin. Also added Settings back to
indexModules and shardModules

time:
2015-08-18T09:41:52Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/MapperBuilders.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/cardinality/CardinalityParser.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/CardinalityIT.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/index/mapper/murmur3/Murmur3FieldMapper.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/index/mapper/murmur3/RegisterMurmur3FieldMapper.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/plugin/mapper/MapperMurmur3IndexModule.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/plugin/mapper/MapperMurmur3Plugin.java
plugins/mapper-murmur3/src/test/java/org/elasticsearch/index/mapper/murmur3/MapperMurmur3RestIT.java
plugins/mapper-murmur3/src/test/java/org/elasticsearch/index/mapper/murmur3/Murmur3FieldMapperTests.java
comments:
Move the `murmur3` field to a plugin and fix defaults.

This move the `murmur3` field to the `mapper-murmur3` plugin and fixes its
defaults so that values will not be indexed by default, as the only purpose
of this field is to speed up `cardinality` aggregations on high-cardinality
string fields, which only requires doc values.

I also removed the `rehash` option from the `cardinality` aggregation as it
doesn't bring much value (rehashing is cheap) and allowed to remove the
coupling between the `cardinality` aggregation and the `murmur3` field.

Close #12874

time:
2015-08-18T08:41:24Z
class:
core/src/main/java/org/elasticsearch/index/engine/IndexSearcherWrapper.java
core/src/main/java/org/elasticsearch/index/engine/IndexSearcherWrappingService.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
comments:
Pass down the EngineConfig to IndexSearcherWrapper

If a new IndexSearcher gets created the engine config can be used to get the query cache and query cache policy from.

time:
2015-08-18T08:35:17Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
core/src/main/java/org/elasticsearch/common/geo/ShapesAvailability.java
core/src/main/java/org/elasticsearch/common/inject/spi/ProviderLookup.java
core/src/main/java/org/elasticsearch/common/network/NetworkService.java
core/src/main/java/org/elasticsearch/common/network/NetworkUtils.java
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/main/java/org/elasticsearch/index/cache/IndexCacheModule.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/indices/analysis/IndicesAnalysisModule.java
core/src/main/java/org/elasticsearch/indices/query/IndicesQueriesModule.java
core/src/main/java/org/elasticsearch/node/service/NodeService.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/info/RestNodesInfoAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/stats/RestNodesStatsAction.java
core/src/main/java/org/elasticsearch/search/highlight/Highlighters.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
core/src/main/java/org/elasticsearch/search/suggest/Suggesters.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/common/network/NetworkUtilsTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/EsExecutorsTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisTestsHelper.java
core/src/test/java/org/elasticsearch/index/analysis/CharFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
core/src/test/java/org/elasticsearch/index/analysis/PatternCaptureTokenFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/StopAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTest.java
core/src/test/java/org/elasticsearch/index/cache/IndexCacheModuleTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTest.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
core/src/test/java/org/elasticsearch/index/search/geo/GeoUtilsTests.java
core/src/test/java/org/elasticsearch/indices/IndicesModuleTests.java
core/src/test/java/org/elasticsearch/monitor/os/OsProbeTests.java
core/src/test/java/org/elasticsearch/monitor/process/ProcessProbeTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoBoundingBoxIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoDistanceIT.java
core/src/test/java/org/elasticsearch/search/internal/InternalSearchHitTests.java
core/src/test/java/org/elasticsearch/snapshots/AbstractSnapshotIntegTestCase.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/stresstest/leaks/GenericStatsLeak.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/junit/listeners/ReproduceInfoPrinter.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/AnalysisTestUtils.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java
plugins/analysis-phonetic/src/test/java/org/elasticsearch/index/analysis/SimplePhoneticAnalysisTests.java
plugins/analysis-smartcn/src/test/java/org/elasticsearch/index/analysis/SimpleSmartChineseAnalysisTests.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/PolishAnalysisTests.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/SimplePolishTokenFilterTests.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/network/Ec2NameResolver.java
comments:
Merge branch 'master' into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
	core/src/main/java/org/elasticsearch/indices/query/IndicesQueriesModule.java
	core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java

time:
2015-08-18T07:14:40Z
class:
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
comments:
[TEST] inject a random index to TestClusterService in BaseQueryTestCase#init

Some of our next queries to refactor rely on some state taken from the cluster state. That is why we need to mock cluster service and inject an index to it, the index that we simulate the execution of the queries against. The best would be to have multiple indices actually, but that would make our setup a lot more complicated, especially given that IndexQueryParseService is still per index. We might be able to improve that in the future though, for now this is as good as it gets.

time:
2015-08-18T03:41:45Z
class:
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/plugins/AbstractPlugin.java
core/src/main/java/org/elasticsearch/plugins/IndexPluginsModule.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginsModule.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/plugins/ShardsPluginsModule.java
core/src/main/java/org/elasticsearch/plugins/SitePlugin.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsFilteringIT.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapperPlugin.java
core/src/test/java/org/elasticsearch/index/shard/MockEngineFactoryPlugin.java
core/src/test/java/org/elasticsearch/indices/analysis/DummyAnalysisPlugin.java
core/src/test/java/org/elasticsearch/script/CustomScriptContextIT.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/MockRepositoryPlugin.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
plugins/analysis-icu/src/main/java/org/elasticsearch/plugin/analysis/icu/AnalysisICUPlugin.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/plugin/analysis/kuromoji/AnalysisKuromojiPlugin.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/plugin/analysis/smartcn/AnalysisSmartChinesePlugin.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/plugin/analysis/stempel/AnalysisStempelPlugin.java
plugins/cloud-aws/src/main/java/org/elasticsearch/plugin/cloud/aws/CloudAwsPlugin.java
plugins/cloud-azure/src/main/java/org/elasticsearch/plugin/cloud/azure/CloudAzurePlugin.java
plugins/cloud-gce/src/main/java/org/elasticsearch/plugin/cloud/gce/CloudGcePlugin.java
plugins/delete-by-query/src/main/java/org/elasticsearch/plugin/deletebyquery/DeleteByQueryPlugin.java
plugins/jvm-example/src/main/java/org/elasticsearch/plugin/example/JvmExamplePlugin.java
plugins/mapper-size/src/main/java/org/elasticsearch/plugin/mapper/MapperSizePlugin.java
comments:
Plugins: Simplify Plugin API for constructing modules

The Plugin interface currently contains 6 different methods for
adding modules. Elasticsearch has 3 different levels of injectors,
and for each of those, there are two methods. The first takes no
arguments and returns a collection of class objects to construct. The
second takes a Settings object and returns a collection of module
objects already constructed. The settings argument is unecessary because
the plugin can already get the settings from its constructor. Removing
that, the only difference between the two versions is returning an
already constructed Module, or a module Class, and there is no reason
the plugin can't construct all their modules themselves.

This change reduces the plugin api down to just 3 methods for adding
modules. Each returns a Collection<Module>. It also removes the
processModule method, which was unnecessary since onModule
implementations fullfill the same requirement. And finally, it renames
the modules() method to nodeModules() so it is clear these are created
once for each node.

time:
2015-08-18T03:30:35Z
class:
core/src/main/java/org/elasticsearch/common/network/NetworkUtils.java
core/src/test/java/org/elasticsearch/common/network/NetworkUtilsTests.java
comments:
Merge pull request #12951 from rmuir/more_networking_cleanup

Use preferIPv6Addresses for sort order, not preferIPv4Stack

time:
2015-08-18T02:52:22Z
class:
core/src/main/java/org/elasticsearch/common/network/NetworkUtils.java
core/src/test/java/org/elasticsearch/common/network/NetworkUtilsTests.java
comments:
Use preferIPv6Addresses for sort order, not preferIPv4Stack

java.net.preferIPv6Addresses is a better choice. preferIPv4Stack is a nuclear option
and you just won't even bind to any IPv6 addresses. This reduces confusion.

time:
2015-08-18T01:30:46Z
class:
core/src/test/java/org/elasticsearch/snapshots/AbstractSnapshotIntegTestCase.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
comments:
Improve stability of Snapshot/Restore test

The restore portion of some snapshot/restore test is failing randomly due to #9421. This change suspends rebalance during snapshot/restore operations until #9421 is fixed.

Closes #12855

time:
2015-08-18T00:01:00Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/test/java/org/elasticsearch/plugins/PluginsServiceTests.java
comments:
Plugins: Ensure additionalSettings() do not conflict

Plugins can preovide additional settings to be added to the settings
provided in elasticsearch.yml. However, if two different plugins supply
the same setting key, the last one to be loaded wins, which is
indeterminate. This change enforces plugins cannot have conflicting
settings, at startup time. As a followup, we should do this when
installing plugins as well, to give earlier errors when two plugins
collide.

time:
2015-08-17T22:08:08Z
class:
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
core/src/main/java/org/elasticsearch/repositories/RepositoriesModule.java
core/src/main/java/org/elasticsearch/repositories/RepositoryModule.java
core/src/main/java/org/elasticsearch/repositories/RepositoryTypesRegistry.java
core/src/main/java/org/elasticsearch/repositories/fs/FsRepositoryModule.java
core/src/main/java/org/elasticsearch/repositories/uri/URLRepositoryModule.java
core/src/test/java/org/elasticsearch/snapshots/AbstractSnapshotIntegTestCase.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/RepositoriesIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/MockRepository.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/MockRepositoryModule.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/MockRepositoryPlugin.java
plugins/cloud-aws/src/main/java/org/elasticsearch/plugin/cloud/aws/CloudAwsPlugin.java
plugins/cloud-aws/src/main/java/org/elasticsearch/repositories/s3/S3RepositoryModule.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/AzureModule.java
plugins/cloud-azure/src/main/java/org/elasticsearch/plugin/cloud/azure/CloudAzurePlugin.java
plugins/cloud-azure/src/main/java/org/elasticsearch/repositories/azure/AzureRepositoryModule.java
comments:
Internal: Simplify custom repository type setup

Custom repository types are registered through the RepositoriesModule.
Later, when a specific repository type is used, the RespositoryModule
is installed, which in turn would spawn the module that was
registered for that repository type. However, a module is not needed
here. Each repository type has two associated classes, a Repository and
an IndexShardRepository.

This change makes the registration method for custom repository
types take both of these classes, instead of a module.

See #12783.

time:
2015-08-17T21:49:25Z
class:
comments:
move integration test dependency file gzippedmap.gz from sources to resources

time:
2015-08-17T20:50:54Z
class:
core/src/test/java/org/elasticsearch/test/junit/listeners/ReproduceInfoPrinter.java
comments:
Print es.node.mode if integration tests fail

time:
2015-08-17T19:46:23Z
class:
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortBuilder.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/search/geo/GeoUtilsTests.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoBoundingBoxIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoDistanceIT.java
comments:
Refactor geo_point validate* and normalize* options to ignore_malformed and coerce*

For consistency geo_point mapper's validate and normalize options are converted to ignore_malformed and coerced

time:
2015-08-17T19:43:07Z
class:
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
core/src/main/java/org/elasticsearch/common/network/NetworkService.java
core/src/main/java/org/elasticsearch/common/network/NetworkUtils.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPing.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/common/network/NetworkUtilsTests.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/network/Ec2NameResolver.java
comments:
Fix network binding for ipv4/ipv6

When elasticsearch is configured by interface (or default: loopback interfaces),
bind to all addresses on the interface rather than an arbitrary one.

If the publish address is not specified, default it from the bound addresses
based on the following sort ordering:

* ipv4/ipv6 (java.net.preferIPv4Stack, defaults to true)
* ordinary addresses
* site-local addresses
* link local addresses
* loopback addresses

One one address is published, and multicast is still always over ipv4: these
need to be future improvements.

Closes #12906
Closes #12915

Squashed commit of the following:

commit 7e60833312f329a5749f9a256b9c1331a956d98f
Author: Robert Muir <rmuir@apache.org>
Date:   Mon Aug 17 14:45:33 2015 -0400

    fix java 7 compilation oops

commit c7b9f3a42058beb061b05c6dd67fd91477fd258a
Author: Robert Muir <rmuir@apache.org>
Date:   Mon Aug 17 14:24:16 2015 -0400

    Cleanup/fix logic around custom resolvers

commit bd7065f1936e14a29c9eb8fe4ecab0ce512ac08e
Author: Robert Muir <rmuir@apache.org>
Date:   Mon Aug 17 13:29:42 2015 -0400

    Add some unit tests for utility methods

commit 0faf71cb0ee9a45462d58af3d1bf214e8a79347c
Author: Robert Muir <rmuir@apache.org>
Date:   Mon Aug 17 12:11:48 2015 -0400

    localhost all the way down

commit e198bb2bc0d1673288b96e07e6e6ad842179978c
Merge: b55d092 b93a75f
Author: Robert Muir <rmuir@apache.org>
Date:   Mon Aug 17 12:05:02 2015 -0400

    Merge branch 'master' into network_cleanup

commit b55d092811d7832bae579c5586e171e9cc1ebe9d
Author: Robert Muir <rmuir@apache.org>
Date:   Mon Aug 17 12:03:03 2015 -0400

    fix docs, fix another bug in multicast (publish host = bad here!)

commit 88c462eb302b30a82585f95413927a5cbb7d54c4
Author: Robert Muir <rmuir@apache.org>
Date:   Mon Aug 17 11:50:49 2015 -0400

    remove nocommit

commit 89547d7b10d68b23d7f24362e1f4782f5e1ca03c
Author: Robert Muir <rmuir@apache.org>
Date:   Mon Aug 17 11:49:35 2015 -0400

    fix http too

commit 9b9413aca8a3f6397b5031831f910791b685e5be
Author: Robert Muir <rmuir@apache.org>
Date:   Mon Aug 17 11:06:02 2015 -0400

    Fix transport / interface code

    Next up: multicast and then http

time:
2015-08-17T19:32:53Z
class:
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryParser.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTest.java
comments:
Refactors WrapperQueryBuilder and Parser

Relates to #10217
Closes #12037

This PR is against the query-refactoring branch.

time:
2015-08-17T19:14:01Z
class:
core/src/main/java/org/elasticsearch/index/cache/IndexCacheModule.java
comments:
Fix changed class name after bad merge, see #12921

time:
2015-08-17T19:08:17Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/common/geo/ShapesAvailability.java
core/src/main/java/org/elasticsearch/common/inject/spi/ProviderLookup.java
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/indices/analysis/IndicesAnalysisModule.java
core/src/main/java/org/elasticsearch/indices/query/IndicesQueriesModule.java
core/src/main/java/org/elasticsearch/search/highlight/Highlighters.java
core/src/main/java/org/elasticsearch/search/suggest/Suggesters.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisTestsHelper.java
core/src/test/java/org/elasticsearch/index/analysis/CharFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
core/src/test/java/org/elasticsearch/index/analysis/PatternCaptureTokenFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/StopAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTest.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTest.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
core/src/test/java/org/elasticsearch/indices/IndicesModuleTests.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/AnalysisTestUtils.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java
plugins/analysis-phonetic/src/test/java/org/elasticsearch/index/analysis/SimplePhoneticAnalysisTests.java
plugins/analysis-smartcn/src/test/java/org/elasticsearch/index/analysis/SimpleSmartChineseAnalysisTests.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/PolishAnalysisTests.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/SimplePolishTokenFilterTests.java
comments:
Merge pull request #12921 from rjernst/module_culling2

Flatten IndicesModule and add tests

time:
2015-08-17T18:33:38Z
class:
comments:
Merge pull request #12782 from nik9000/prompts_2

Set prompts to be more consistent

time:
2015-08-17T18:28:16Z
class:
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryParser.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTest.java
comments:
Revert "Refactors WrapperQueryBuilder and Parser"

This reverts commit afcbd2915dc2471e9725da16b5dc844aff9504ff.

time:
2015-08-17T18:13:02Z
class:
comments:
Merge pull request #12895 from nik9000/config_tests

Use jvm-example for testing bin/plugin

time:
2015-08-17T17:53:16Z
class:
comments:
Add tests for plugins with bin directory

Also removes all mention of shield:
```bash
$ find $BATS -type f -exec grep -Hi shield {} \;
$
```

time:
2015-08-17T17:53:16Z
class:
comments:
Test: Use jvm-example for testing bin/plugin

Related to #12651

time:
2015-08-17T17:52:11Z
class:
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryParser.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTest.java
comments:
Refactors WrapperQueryBuilder and Parser

Relates to #10217
Closes #12037

This PR is against the query-refactoring branch.

time:
2015-08-17T17:31:08Z
class:
comments:
Tests: Clean up the tar tests

1. Move `clean_before_test` to the first test so its more explicit.
2. Move `skip_not_tar_gz` to setup because it was run first in every test.
3. Remove calls to `run` that only check the status. Its simpler to just
execute the command. Its better because std-out will be captured and replayed
on error.
4. Switch from `su` to `sudo` because `su` was breaking `bats`'s error
reporting.

time:
2015-08-17T15:45:18Z
class:
comments:
[doc] fix asciidoc format

time:
2015-08-17T15:26:42Z
class:
core/src/test/java/org/elasticsearch/common/util/concurrent/EsExecutorsTests.java
comments:
Merge pull request #12940 from nik9000/unflake_test

Make a test less flakey

time:
2015-08-17T15:20:18Z
class:
core/src/test/java/org/elasticsearch/common/util/concurrent/EsExecutorsTests.java
comments:
Tests: Make a test less flakey

EsExecutorsTests had a test that was failing spuriously due to threadpools
being threadpools. This weakens the assertions that the test makes to what
should always be true.

time:
2015-08-17T14:40:29Z
class:
comments:
Release script: Set versions for non inherited projects

rest-api-spec and dev-tools dont have the elasticsearch-parent
set as a parent and thus need a separate mvn run to change the
plugin version.

time:
2015-08-17T14:14:20Z
class:
comments:
Merge pull request #12909 from nik9000/systemd_start

Fix variable substitution for OS's using systemd

time:
2015-08-17T13:52:36Z
class:
comments:
Prepare release script: fix python compilation error

time:
2015-08-17T13:39:22Z
class:
comments:
Release: Remove aws-maven plugin/improve release docs

In order to have consistent deploys across several repositories,
we should deploy to sonatype first, then mirror those contents,
and then upload to s3.

This means, the aws wagon is not needed anymore.

time:
2015-08-17T13:17:45Z
class:
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
comments:
Add build short hash to the download manager headers to identify staging builds

It might turn out to be useful to have the actual commit hash of the version we are
looking for if our download manager can just redirect to the right staging repository.

time:
2015-08-17T12:47:23Z
class:
core/src/test/java/org/elasticsearch/monitor/os/OsProbeTests.java
core/src/test/java/org/elasticsearch/monitor/process/ProcessProbeTests.java
comments:
Make platform specific assumptions in OS & Process probes  tests

time:
2015-08-17T12:46:05Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/node/service/NodeService.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/info/RestNodesInfoAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/stats/RestNodesStatsAction.java
core/src/test/java/org/elasticsearch/stresstest/leaks/GenericStatsLeak.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Merge pull request #12922 from xuzha/xu-network

Refactor, remove _node/network and _node/stats/network. 

Closes #12889 , Closes #12922

time:
2015-08-17T12:36:13Z
class:
comments:
Elasticsearch bootstrap help shouldn't mention plugins

We have a dedicated entry point for that.

Closes #12933

time:
2015-08-17T12:14:50Z
class:
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
comments:
Test: un-mute PluginManagerUnitTests.testSimplifiedNaming

time:
2015-08-17T12:14:23Z
class:
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
comments:
Fix test - and don't use URL.equals()

time:
2015-08-17T12:02:09Z
class:
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
comments:
Test: mute PluginManagerUnitTests.testSimplifiedNaming

time:
2015-08-17T09:47:24Z
class:
comments:
Release: Replace python search/replace with mvn versions:set plugin

mvn has a versions:set plugin, that can be easily invoked and does not
require the python script to parse the files and hope that there are no
other snapshot mentions.

time:
2015-08-17T09:13:45Z
class:
core/src/main/java/org/elasticsearch/index/cache/IndexCacheModule.java
core/src/test/java/org/elasticsearch/index/cache/IndexCacheModuleTests.java
comments:
Merge pull request #12881 from martijnvg/allow_for_customable_query_cache

Allow a plugin to supply its own query cache implementation

time:
2015-08-17T09:10:05Z
class:
core/src/test/java/org/elasticsearch/search/internal/InternalSearchHitTests.java
comments:
test: added a unit test for #12261

time:
2015-08-17T09:05:49Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
comments:
Add elasticsearch version as a prefix for the staging URL

This is purely for maintainance reasons since it easier to see if we can drop
certain stageing urls if we have the version next to the hash.
I also removed the gpg passphrase from the example URL since it's better to get prompted?

time:
2015-08-17T08:16:55Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/bulk/BulkProcessor.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationModule.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ClusterRebalanceAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/settings/ClusterDynamicSettingsModule.java
core/src/main/java/org/elasticsearch/cluster/settings/DynamicSettings.java
core/src/main/java/org/elasticsearch/cluster/settings/Validator.java
core/src/main/java/org/elasticsearch/common/Names.java
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/elect/ElectMasterService.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/env/FailedToResolveConfigException.java
core/src/main/java/org/elasticsearch/index/analysis/Analysis.java
core/src/main/java/org/elasticsearch/index/analysis/compound/HyphenationCompoundWordTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
core/src/main/java/org/elasticsearch/index/settings/IndexSettingsService.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryStatus.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/node/settings/NodeSettingsService.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/InternalTerms.java
core/src/main/java/org/elasticsearch/search/aggregations/support/AggregationContext.java
core/src/main/java/org/elasticsearch/search/dfs/DfsPhase.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/scan/ScanContext.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
core/src/test/java/org/elasticsearch/benchmark/transport/BenchmarkNettyLargeMessages.java
core/src/test/java/org/elasticsearch/cluster/ClusterModuleTests.java
core/src/test/java/org/elasticsearch/cluster/allocation/ShardsAllocatorModuleIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationModuleTests.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsValidatorTests.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/env/EnvironmentTests.java
core/src/test/java/org/elasticsearch/index/analysis/KeepFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/commongrams/CommonGramsTokenFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTest.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/recovery/RecoveryStatusTests.java
core/src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
core/src/test/java/org/elasticsearch/search/scan/ScanContextTests.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/test/ESAllocationTestCase.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
core/src/test/java/org/elasticsearch/test/junit/listeners/ReproduceInfoPrinter.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuCollationTokenFilterFactory.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java
plugins/cloud-aws/src/main/java/org/elasticsearch/discovery/ec2/Ec2Discovery.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTest.java
plugins/cloud-azure/src/main/java/org/elasticsearch/discovery/azure/AzureDiscovery.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureTest.java
plugins/cloud-gce/src/main/java/org/elasticsearch/discovery/gce/GceDiscovery.java
comments:
Merge branch 'master' into feature/query-refactoring

 Conflicts:
	core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java

time:
2015-08-17T07:58:17Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/settings/Validator.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryStatus.java
core/src/test/java/org/elasticsearch/indices/recovery/RecoveryStatusTests.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
comments:
Endless recovery loop with `indices.recovery.file_chunk_size=0Bytes`

This is caused by sending the same file to the chunk handler with offset
`0` which in-turn opens a new outputstream and waits for bytes. But the next round
will send 0 bytes again with offset 0. This commit adds some checks / validators that those
settings are positive byte values and fixes the RecoveryStatus to throw an IAE if the same file
is opened twice.

time:
2015-08-17T07:55:32Z
class:
core/src/main/java/org/elasticsearch/index/cache/IndexCacheModule.java
core/src/test/java/org/elasticsearch/index/cache/IndexCacheModuleTests.java
comments:
Allow plugins to register custom `QueryCache` implementations.

time:
2015-08-17T07:43:41Z
class:
core/src/main/java/org/elasticsearch/action/bulk/BulkProcessor.java
comments:
Merge pull request #12497 from oyiadom/master

Update BulkProcessor.java

time:
2015-08-17T07:38:59Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/support/AggregationContext.java
comments:
Merge pull request #12913 from xuzha/xu-exception

Validate class before cast.

time:
2015-08-17T07:35:32Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/bucket/terms/InternalTerms.java
comments:
Improve error handling of ClassCastException in terms aggregations.

What is the problem we are trying to solve ?
===========================================

When we are doing aggregations against a field name as shown in
https://github.com/HarishAtGitHub/elasticsearch-tester/blob/master/12135.py#L37-L46

search = {
           "aggs": {
             "NAME": {
               "terms": {
                 "field": "ip_str",
                 "size": 10
               }
             }
           }
         }
and when the field "ip_str" has values of different types in different indices
. say one is of type StringTerms type and other is of IP(LongTerms type) then
the aggregation fails as the types do not match(incompatible).
The failure throws a class cast exception as follows:
{
   "error": {
      "root_cause": [],
      "type": "reduce_search_phase_exception",
      "reason": "[reduce] ",
      "phase": "query",
      "grouped": true,
      "failed_shards": [],
      "caused_by": {
         "type": "class_cast_exception",
         "reason": "org.elasticsearch.search.aggregations.bucket.terms.LongTerms$Bucket cannot be cast to org.elasticsearch.search.aggregations.bucket.terms.StringTerms$Bucket"
      }
   },
   "status": 503
}

which is hard to understand . User cannot infer anything about the cause of the problem and what he should do from seeing the
class cast exception.

What can be the possible solution ?
===================================

Make the exception more readable by showing him the root cause of the problem so that he can
understand which area actually caused the problem, so that he can take necessary steps further.

Code Analysis
=============

Debugging code shows that:
the query /{indices}/_search?search_type=count involves two phases
1) search phase
***************
     searchService.sendExecuteQuery(...) [Ref: TransportSearchCountAction]

     what happens here ?
        the phase 1, which is the search phase goes without error.
        In this phase the shards for the given indexes are collected and the search is done on all asynchronously
        and finally collected in the variable "firstResults" and given to meger phase.

        [Flow: .... -> TransportSearchTypeAction -> method performFirstPhase]

2) merge phase
**************
     searchPhaseController.merge(...firstResults...) [Ref: TransportSearchCountAction]

     what happens here ?
        the "firstresults" QuerySearchResults are now to be aggregated and combined.

        [Flow: SearchPhaseController.merge(...) -> ..... -> InternalTerms.doReduce(...)]

the phase 1, which is the search phase goes without error.
The problem comes in phase 2, which is merge phase.
Now the individual term buckets are available.
As per the test case , there are two indices cast and cast2, so by default 10 shards.
cast has ip_str of type StringTerms
cast2 has ip_str of type ip which is actually LongTerms

so here two types of Buckets exist. StringTerms_Bucket and LongTerms_Bucket.
Now the aggregation is to be put inside the BucketPriorityQueue(size 2: as out of 10, 2 has hits) finally.
(docs of PriorityQueue: https://lucene.apache.org/core/4_4_0/core/org/apache/lucene/util/PriorityQueue.html#insertWithOverflow(T))

Now first the LongTerms$Bucket is put inside.
then the StringTerms$Bucket is to be put in.
This is the area where exception is thrown. What happens is when adding the StringTerms$Bucket now it has to
goes through the code "lessThan(element, heap[1])"
which finally calls

---------------------------------------------------------------------------------------------
|      StringTerms$Bucket.compareTerms(other)  <---------------- Area of exception          |
|                                                                                           |
--------------------------------------------------------------------------------------------

where when comparing one to other a type cast is done and it fails as StringTerms$Bucket and LongTerms$Bucket are
incompatible.

Approach to solve:
==================

The best way is to make user understand that the problem is when reducing/merging/aggregating the buckets which came as a result of
querying different shards, so that this will make them infer that the problem is because the values of the fields are of different types.
The message is also user friendly and much better than the indecipherable classcastexception.

The only place to infer correctly that the aggregation has failed is in the place where aggregations take place.
so

at InternalTerms.java -> (BucketPriorityQueue)ordered.insertWithOverflow(b);

so here I can throw AggregationExecutionException saying it is because the buckets are of different
types.

But when can I infer at this point that the failure is due to mismatch of types of buckets ???
it can be possible only if at this point it is informed that the problem which occurred deep inside
is due to buckets that were incomparable.
so from just a classCastException we cannot make such a pointed exact inference, because
as class cast exception can be due to a number of scenarios and at a number of places.

so unless we inform the exact problem to InternalTerms it will not be able to infer properly.
so infer the classCastException at the compareTerms function itself that it is a IncomparableTermBucktesTypeException.
This is the best place to infer classCastException as this the place which generated the exception.
Best inference of exceptions can be done only at the source/origin of the exception.

so IncomparableTermBucktesTypeException to InternalTerms-> will make it infer and conclude on why
aggregation failed and give best information to user.

Close #12821

time:
2015-08-17T02:34:04Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/TransportNodesInfoAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/node/service/NodeService.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/info/RestNodesInfoAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/stats/RestNodesStatsAction.java
core/src/test/java/org/elasticsearch/stresstest/leaks/GenericStatsLeak.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
There is no longer a network section in the nodes info and stats
requests. Remove _node/network and _node/stats/network

closes #12889

time:
2015-08-17T00:56:35Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/common/geo/ShapesAvailability.java
core/src/main/java/org/elasticsearch/common/inject/spi/ProviderLookup.java
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/indices/analysis/IndicesAnalysisModule.java
core/src/main/java/org/elasticsearch/indices/query/IndicesQueriesModule.java
core/src/main/java/org/elasticsearch/search/highlight/Highlighters.java
core/src/main/java/org/elasticsearch/search/suggest/Suggesters.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisTestsHelper.java
core/src/test/java/org/elasticsearch/index/analysis/CharFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
core/src/test/java/org/elasticsearch/index/analysis/PatternCaptureTokenFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/StopAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTest.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTest.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
core/src/test/java/org/elasticsearch/indices/IndicesModuleTests.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/AnalysisTestUtils.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java
plugins/analysis-phonetic/src/test/java/org/elasticsearch/index/analysis/SimplePhoneticAnalysisTests.java
plugins/analysis-smartcn/src/test/java/org/elasticsearch/index/analysis/SimpleSmartChineseAnalysisTests.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/PolishAnalysisTests.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/SimplePolishTokenFilterTests.java
comments:
Internal: Flatten IndicesModule and add tests

The IndicesModule was made up of two submodules, one which
handled registering queries, and the other for registering
hunspell dictionaries. This change moves those into
IndicesModule. It also adds a new extension point type,
InstanceMap. This is simply a Map<K,V>, where K and V are
actual objects, not classes like most other extension points.
I also added a test method to help testing instance map extensions.
This was particularly painful because of how guice binds the key
and value as separate bindings, and then reconstitutes them
into a Map at injection time. In order to gain access to the
object which links the key and value, I had to tweak our
guice copy to not use an anonymous inner class for the Provider.

Note that I also renamed the existing extension point types, since
they were very redundant. For example, ExtensionPoint.MapExtensionPoint
is now ExtensionPoint.ClassMap.

See #12783.

time:
2015-08-16T21:39:31Z
class:
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
comments:
inner hits: Use provided StreamContext instead of fetching a new one.

Closes #12905

time:
2015-08-16T17:40:13Z
class:
plugins/cloud-aws/src/main/java/org/elasticsearch/discovery/ec2/Ec2Discovery.java
plugins/cloud-azure/src/main/java/org/elasticsearch/discovery/azure/AzureDiscovery.java
plugins/cloud-gce/src/main/java/org/elasticsearch/discovery/gce/GceDiscovery.java
comments:
Fix ZenDiscovery ctor change to remove dynamic cluster settings

time:
2015-08-16T17:11:23Z
class:
comments:
Merge pull request #12897 from nik9000/jvm-example-gets-bin

Add bin to jvm-example

time:
2015-08-16T17:11:12Z
class:
comments:
Merge pull request #12898 from nik9000/vagrant_name

Change qa/vagrant artifactId

time:
2015-08-16T17:08:40Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationModule.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ClusterRebalanceAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/settings/ClusterDynamicSettingsModule.java
core/src/main/java/org/elasticsearch/cluster/settings/DynamicSettings.java
core/src/main/java/org/elasticsearch/cluster/settings/Validator.java
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/elect/ElectMasterService.java
core/src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
core/src/main/java/org/elasticsearch/index/settings/IndexSettingsService.java
core/src/main/java/org/elasticsearch/node/settings/NodeSettingsService.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/test/java/org/elasticsearch/benchmark/transport/BenchmarkNettyLargeMessages.java
core/src/test/java/org/elasticsearch/cluster/ClusterModuleTests.java
core/src/test/java/org/elasticsearch/cluster/allocation/ShardsAllocatorModuleIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationModuleTests.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsValidatorTests.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/test/ESAllocationTestCase.java
comments:
Merge pull request #12916 from rjernst/module_culling

Flatten ClusterModule and add more tests

time:
2015-08-16T14:36:22Z
class:
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
Don't swallow cause if Store stats can't be build

time:
2015-08-16T14:21:13Z
class:
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
comments:
Merge pull request #12917 from HarishAtGitHub/refactorprocessFirstPhase

Refactor - shard variable dependency from processFirstPhaseResults as shard is no more needed

time:
2015-08-16T14:08:32Z
class:
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
comments:
mute the entire InnerHitsIT - Relates to #12905

time:
2015-08-16T11:40:25Z
class:
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
comments:
this is a small commit to remove the
shard variable dependency from processFirstPhaseResults as shard is no more
needed here . it only deals with the results obtained from the synchronous search on each shard.

time:
2015-08-16T08:23:05Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/settings/TransportClusterUpdateSettingsAction.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationModule.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ClusterRebalanceAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/settings/ClusterDynamicSettingsModule.java
core/src/main/java/org/elasticsearch/cluster/settings/DynamicSettings.java
core/src/main/java/org/elasticsearch/cluster/settings/Validator.java
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/elect/ElectMasterService.java
core/src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
core/src/main/java/org/elasticsearch/index/settings/IndexSettingsService.java
core/src/main/java/org/elasticsearch/node/settings/NodeSettingsService.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/test/java/org/elasticsearch/benchmark/transport/BenchmarkNettyLargeMessages.java
core/src/test/java/org/elasticsearch/cluster/ClusterModuleTests.java
core/src/test/java/org/elasticsearch/cluster/allocation/ShardsAllocatorModuleIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationModuleTests.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsValidatorTests.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/test/ESAllocationTestCase.java
comments:
Internal: Flatten ClusterModule and add more tests

The ClusterModule contained a couple submodules. This moves the
functionality from those modules into ClusterModule. Two of those
had to do with DynamicSettings. This change also cleans up
how DynamicSettings are built, and enforces they are added, with
validators, in ClusterModule.

See #12783.

time:
2015-08-15T22:42:03Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/support/AggregationContext.java
comments:
Throw IllegalArgumentException instead of ClassCastException,
Let stats aggregation returns 400 error when performed over an invalid field

closes #12842

time:
2015-08-15T17:34:25Z
class:
comments:
Docs: Add link to rivers deprecation blog post

time:
2015-08-15T16:40:17Z
class:
comments:
Docs: Removed rivers documentation.

time:
2015-08-15T16:25:34Z
class:
comments:
Docs: Another bad asciidoc link

time:
2015-08-15T16:22:28Z
class:
comments:
Docs: Another bad asciidoc link

time:
2015-08-15T16:20:14Z
class:
comments:
Docs: Fixed bad link to dynamic scripting

time:
2015-08-15T16:12:31Z
class:
comments:
Docs: Removed the _size field include

time:
2015-08-15T16:04:43Z
class:
comments:
Merge pull request #12040 from clintongormley/plugin_docs

Docs: Prepare plugin and integration docs for 2.0

time:
2015-08-15T16:02:43Z
class:
comments:
Docs: Prepare plugin and integration docs for 2.0

* Centralised plugin docs in docs/plugins/
* Moved integrations into same docs
* Moved community clients into the clients section of the docs
* Removed docs/community

Closes #11734
Closes #11724
Closes #11636
Closes #11635
Closes #11632
Closes #11630
Closes #12046
Closes #12438
Closes #12579

time:
2015-08-15T15:53:43Z
class:
comments:
[Packaging] Fix variable substitution

Systemd looks to be a bit less tolerant about $VAR than bash is. Replace
$VAR with ${VAR} in places in the systemd configuration file to get the
substitutions working.

time:
2015-08-15T14:30:19Z
class:
comments:
Merge pull request #12904 from nik9000/remove_ES_CLEAN_BEFORE_TEST

Remove ES_CLEAN_BEFORE_TEST

time:
2015-08-15T14:20:06Z
class:
comments:
Docs: Documented path.script

time:
2015-08-15T13:42:29Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginInfo.java
comments:
Format plugin info a bit more user-friendly to output it in a terminal

Before:

PluginInfo{name='cloud-aws', description='The Amazon Web Service (AWS) Cloud plugin allows to use AWS API for the unicast discovery mechanism and add S3 repositories.', site=false, jvm=true, classname=org.elasticsearch.plugin.cloud.aws.CloudAwsPlugin, isolated=true, version='2.1.0-SNAPSHOT'}

After:

- Plugin information:
Name: cloud-aws
Description: The Amazon Web Service (AWS) Cloud plugin allows to use AWS API for the unicast discovery mechanism and add S3 repositories.
Site: false
Version: 2.1.0-SNAPSHOT
JVM: true
 * Classname: org.elasticsearch.plugin.cloud.aws.CloudAwsPlugin
 * Isolated: true

time:
2015-08-15T13:40:03Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
comments:
Show PluginInfo information after install only in verbose mode

time:
2015-08-15T06:41:28Z
class:
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
comments:
Mute InnerHitsIT Relates to #12905

time:
2015-08-14T22:12:52Z
class:
comments:
Test: Remove ES_CLEAN_BEFORE_TEST

In the bats test ES_CLEAN_BEFORE_TEST was used to clean the environment
before running the tests. Unfortunately the tests don't work unless you
specify it every time. This removes that option and always runs the clean.

time:
2015-08-14T21:44:06Z
class:
core/src/main/java/org/elasticsearch/Version.java
comments:
Move master to [2.1.0-SNAPSHOT]

time:
2015-08-14T21:43:16Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
comments:
Merge pull request #12892 from jasontedor/fix/12865

Validate settings specified in index templates at template creation time

time:
2015-08-14T21:23:10Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexTemplateService.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
comments:
Validate settings specified in index templates at template creation time

Previously settings specified in index templates were not validated upon
template creation. Creating an index from an index template with invalid
settings could lead to cluster stability issues because creation of such
indexes would bypass index settings validation.

This commit adds validation of settings specified in index templates at
template creation time. This works by routing the index template
settings through the index settings validation mechanism.

Closes #12865

time:
2015-08-14T21:05:24Z
class:
comments:
Revert "Add no-Charset version of Files.readAllLines to forbidden apis"

This reverts commit 88765320a9296ad7fa06fc8767b2cd69dff147b3.
Hi,
readAllLines is defined to use UTF-8 charset, so its not unsafe - and because of that it is not on the official list of forbidden APIs: http://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#readAllLines-java.nio.file.Path-
"Read all lines from a file. Bytes from the file are decoded into characters using the UTF-8 charset."

fair enough.. 

you should still fix forbidden APIs to allow APIs not in all JDKs :)

@uschindler still can't add it though, because of https://github.com/policeman-tools/forbidden-apis/issues/63

This issue is won't fix, because its already possible: see forbidden issue for complete explanation!


time:
2015-08-14T20:56:32Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/common/Names.java
core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/env/FailedToResolveConfigException.java
core/src/main/java/org/elasticsearch/index/analysis/Analysis.java
core/src/main/java/org/elasticsearch/index/analysis/compound/HyphenationCompoundWordTokenFilterFactory.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/test/java/org/elasticsearch/env/EnvironmentTests.java
core/src/test/java/org/elasticsearch/index/analysis/KeepFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/commongrams/CommonGramsTokenFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTest.java
core/src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuCollationTokenFilterFactory.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureTest.java
comments:
Merge pull request #12872 from rjernst/resolve_your_own_config

Remove Environment.resolveConfig

time:
2015-08-14T20:55:22Z
class:
comments:
Add no-Charset version of Files.readAllLines to forbidden apis

time:
2015-08-14T20:52:55Z
class:
core/src/test/java/org/elasticsearch/test/junit/listeners/ReproduceInfoPrinter.java
comments:
Merge pull request #12894 from s1monw/fix_repro_line

Fix reproduction line to include project filters

time:
2015-08-14T20:47:58Z
class:
comments:
[DOC] Use 127.0.0.1 instead of localhost in READMEs

Users with IPv6 preferred over IPv4 may have `localhost` resolve to
`::1` instead of `127.0.0.1`, so we should be explicit so they don't run
into issues.

time:
2015-08-14T20:38:12Z
class:
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
comments:
inner hits: Reset the `ShardTargetType` after serializing inner hits.

This fixes a bug where only the first top level search hit has a shard target and any subsequent search hits don't.

time:
2015-08-14T20:36:17Z
class:
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
comments:
Use Java 7 version of Files.readAllLines instead of Java 8 version
Add this to forbidden apis?

It's not a forbidden API issue, it's just `Files.readAllLines(Path)` is not in JDK 7. Depending on IDE, should have the language level and SDK set to 7 to prevent this. Our builds will already fail when this happens in general.

Regardless we should probably add the no-charset version to forbidden APIs to avoid weird charset issues for non-UTF locales

+1

+1

On it.

88765320a9

It [uses](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#readAllLines-java.nio.file.Path-) UTF-8:

> Read all lines from a file. Bytes from the file are decoded into characters using the UTF-8 charset.
> This method works as if invoking it were equivalent to evaluating the expression:
> `Files.readAllLines(path, StandardCharsets.UTF_8)`


time:
2015-08-14T20:18:23Z
class:
comments:
Testing: Change qa/vagrant artifactId

Related to #12651

time:
2015-08-14T20:06:37Z
class:
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
comments:
Merge remote-tracking branch 'dakrone/validate-plugin-checksum'

time:
2015-08-14T20:05:26Z
class:
comments:
Testing: Add bin to jvm-example

This will be useful in testing the plugin installer.

Relates to #12651

time:
2015-08-14T19:54:14Z
class:
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
comments:
Also catch NoSuchFileException

time:
2015-08-14T19:51:47Z
class:
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
comments:
Print out the name of the sum that failed

time:
2015-08-14T19:36:49Z
class:
core/src/test/java/org/elasticsearch/test/junit/listeners/ReproduceInfoPrinter.java
comments:
Fix reproduction line to include project filters

Today on a failure the reproduce line printed out by the test framework
will build all projects and might fail if the test class is not present.
This commit adds a reactor filter to the reproduction line to ensure
unrelated projects are skipped.

Closes #12838

time:
2015-08-14T18:26:18Z
class:
comments:
Docs: Rewrote the migrating-to-2.0 section

time:
2015-08-14T18:22:20Z
class:
core/src/main/java/org/elasticsearch/common/Names.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
comments:
Simplify random name index and move method to its only user

time:
2015-08-14T16:42:45Z
class:
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramIT.java
comments:
Adding comments to test

time:
2015-08-14T16:40:40Z
class:
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
comments:
Validate checksums for plugins if available

When a plugin is downloaded, this change additionally tries to download
`${pluginurl}.sha1` and verify the SHA1 checksum for the file. If no
.sha1 file is found, it tries `${pluginurl}.md5`.

Note that if neither checksum file is found, a notice is printed but the
plugin can still be installed. If the checksum check fails, the plugin
install is aborted.

Example output if no checksums are available:

```
bin/plugin install elasticsearch/elasticsearch-analysis-icu/2.6.0-SNAPSHOT
-> Installing elasticsearch/elasticsearch-analysis-icu/2.6.0-SNAPSHOT...
Trying http://download.elastic.co/elasticsearch/elasticsearch-analysis-icu/elasticsearch-analysis-icu-2.6.0-SNAPSHOT.zip ...
Trying http://search.maven.org/remotecontent?filepath=elasticsearch/elasticsearch-analysis-icu/2.6.0-SNAPSHOT/elasticsearch-analysis-icu-2.6.0-SNAPSHOT.zip ...
Trying https://oss.sonatype.org/service/local/repositories/releases/content/elasticsearch/elasticsearch-analysis-icu/2.6.0-SNAPSHOT/elasticsearch-analysis-icu-2.6.0-SNAPSHOT.zip ...
Trying https://github.com/elasticsearch/elasticsearch-analysis-icu/archive/2.6.0-SNAPSHOT.zip ...
Trying https://github.com/elasticsearch/elasticsearch-analysis-icu/archive/master.zip ...
Downloading .....................................DONE
Verifying https://github.com/elasticsearch/elasticsearch-analysis-icu/archive/master.zip checksums if available ...
NOTE: Unable to verify checksum for downloaded plugin (unable to find .sha1 or .md5 file to verify)
```

Example output if checksums are available:

```
bin/plugin install elasticsearch/elasticsearch-analysis-icu/2.6.0-SNAPSHOT
-> Installing elasticsearch/elasticsearch-analysis-icu/2.6.0-SNAPSHOT...
Trying http://download.elastic.co/elasticsearch/elasticsearch-analysis-icu/elasticsearch-analysis-icu-2.6.0-SNAPSHOT.zip ...
Trying http://search.maven.org/remotecontent?filepath=elasticsearch/elasticsearch-analysis-icu/2.6.0-SNAPSHOT/elasticsearch-analysis-icu-2.6.0-SNAPSHOT.zip ...
Trying https://oss.sonatype.org/service/local/repositories/releases/content/elasticsearch/elasticsearch-analysis-icu/2.6.0-SNAPSHOT/elasticsearch-analysis-icu-2.6.0-SNAPSHOT.zip ...
Trying https://github.com/elasticsearch/elasticsearch-analysis-icu/archive/2.6.0-SNAPSHOT.zip ...
Trying https://github.com/elasticsearch/elasticsearch-analysis-icu/archive/master.zip ...
Downloading .....................................DONE
Verifying https://github.com/elasticsearch/elasticsearch-analysis-icu/archive/master.zip checksums if available ...
Downloading .DONE
```

Example output if checksums fail:

```
bin/plugin install elasticsearch/elasticsearch-analysis-kuromoji/2.5.0 -url http://localhost:8000/elasticsearch-analysis-kuromoji-2.5.0.zip
-> Installing elasticsearch/elasticsearch-analysis-kuromoji/2.5.0...
Trying http://localhost:8000/elasticsearch-analysis-kuromoji-2.5.0.zip ...
Downloading .............................................DONE
Verifying http://localhost:8000/elasticsearch-analysis-kuromoji-2.5.0.zip checksums if available ...
Downloading .DONE
ERROR: incorrect hash, file hash: [dbdc9c2cd32782054497a21fbdcae3ca1ff23c80], expected: [dbdc9c2cd32782054497a21fbdcae3ca1ff23c80-bad]
```

Resolves #12750

time:
2015-08-14T16:28:54Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
comments:
PluginManager: Fix automatically generated URLs for official plugins

In order to match the paths of official plugins, we need to fix
the broken test by removing the elasticsearch prefix from the official
plugin names before testing.

time:
2015-08-14T16:12:53Z
class:
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
comments:
Mute test SharedClusterSnapshotRestoreIT#renameOnRestoreTest

Working on the fix

time:
2015-08-14T16:11:39Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/support/format/ValueFormat.java
core/src/main/java/org/elasticsearch/search/aggregations/support/format/ValueParser.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramIT.java
comments:
Aggregations: Make ValueParser.DateMath aware of timezone setting

This PR adds a timezone field to ValueParser.DateMath that is
set to UTC by default but can be set using the existing constructors.
This makes it possible for extended bounds setting in DateHistogram
to also use date math expressions that e.g. round by day and apply
this rounding in the time zone specified in the date histogram
aggregation request.

Closes #12278

time:
2015-08-14T16:11:27Z
class:
comments:
Fix test to also include the mapper-size

time:
2015-08-14T16:04:45Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
comments:
Add mapper-size to plugin list

time:
2015-08-14T15:30:00Z
class:
comments:
Build: Adding aws-maven extension to dev-tools and rest-api-spec

time:
2015-08-14T14:44:39Z
class:
comments:
Release scripts: Split prepare_release into two scripts

In order to reflect our RC release process, we need to separate
the prepare_release script into two separate scripts.

One script now updates the documentation. That one can be executed
anytime and needs to be pushed after that.

The other script updates the version in Version.java and all pom.xml
files, but does not commit anymore. This allows to create a non snapshot
version locally, run mvn deploy, push the artifacts into S3 and, upon
successful tests, simply release them on sonatype. This also allows for
updates, because the S3 snapshot will include the commitId in their repo
as already pushed before.

time:
2015-08-14T14:34:04Z
class:
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
comments:
Also delegate rewrite the the wrapped IndexSearcher.

In the the AssertingIndexSearcher is used we then also have extra validation when rewritting the query.

time:
2015-08-14T13:42:23Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
core/src/main/java/org/elasticsearch/search/dfs/DfsPhase.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/scan/ScanContext.java
core/src/test/java/org/elasticsearch/search/scan/ScanContextTests.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
comments:
Merge pull request #12875 from jpountz/fix/dumber_context_indexsearcher

Simplify ContextIndexSearcher.

time:
2015-08-14T13:41:05Z
class:
comments:
Add an optional "prefix_to_ignore" parameter to the license checker

If core plugins are to be renamed to not include the "elasticsearch-"
prefix, then we need a way of telling the license checker which
JAR files to ignore.

time:
2015-08-14T13:29:22Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
comments:
Merge pull request #12877 from spinscale/1508-plugin-manager-use-buildid-for-s3-url

PluginManager: Change staging URL to reflect S3 bucket

time:
2015-08-14T13:28:54Z
class:
comments:
Merge pull request #12876 from s1monw/s3_tlp

Also deploy top level artifacts to S3

time:
2015-08-14T13:27:23Z
class:
comments:
fixtypo

time:
2015-08-14T13:23:31Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
comments:
PluginManager: Change staging URL to reflect S3 bucket

In order to create releases without actually changing the version
as part of a commit, we also need to reflect the path of the potentially
changing S3 repo.

time:
2015-08-14T13:21:06Z
class:
comments:
Also deploy top level artifacts to S3

This commit adds the S3 wagon release profile also to dev-tools
and rest-api-spec and makes the actual repository path / bucket
configurable.

time:
2015-08-14T13:03:38Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
core/src/main/java/org/elasticsearch/search/dfs/DfsPhase.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/scan/ScanContext.java
core/src/test/java/org/elasticsearch/search/scan/ScanContextTests.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
comments:
Simplify ContextIndexSearcher.

In particular this commit moves collector wrapping logic from
ContextIndexSearcher to QueryPhase.

time:
2015-08-14T11:50:57Z
class:
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
comments:
Modified AbstractQueryBuilder default hashcode impl

Closes #12145

time:
2015-08-14T11:50:57Z
class:
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
comments:
[TEST] add test for equals and hashcode to BaseQueryTestCase

time:
2015-08-14T10:34:26Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/common/Classes.java
core/src/main/java/org/elasticsearch/common/geo/ShapesAvailability.java
core/src/main/java/org/elasticsearch/common/inject/Modules.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/index/query/TermsLookupQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/JsonSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/YamlSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisTestsHelper.java
core/src/test/java/org/elasticsearch/index/analysis/CJKFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
core/src/test/java/org/elasticsearch/index/analysis/KeepFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/PatternCaptureTokenFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/ShingleTokenFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/StopAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/analysis/commongrams/CommonGramsTokenFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTest.java
core/src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java
plugins/analysis-phonetic/src/test/java/org/elasticsearch/index/analysis/SimplePhoneticAnalysisTests.java
comments:
Merge branch 'master' into resolve_your_own_config

Conflicts:
	core/src/main/java/org/elasticsearch/env/Environment.java
	core/src/test/java/org/elasticsearch/index/analysis/commongrams/CommonGramsTokenFilterFactoryTests.java
	core/src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTest.java
	plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java

time:
2015-08-14T10:03:47Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/common/Names.java
core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/env/FailedToResolveConfigException.java
core/src/main/java/org/elasticsearch/index/analysis/Analysis.java
core/src/main/java/org/elasticsearch/index/analysis/compound/HyphenationCompoundWordTokenFilterFactory.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/test/java/org/elasticsearch/env/EnvironmentTests.java
core/src/test/java/org/elasticsearch/index/analysis/KeepFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/commongrams/CommonGramsTokenFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTest.java
core/src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuCollationTokenFilterFactory.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureTest.java
comments:
Internal: Remove Environment.resolveConfig

This method has multiple modes of resolving config files by
first looking in the config directory, then on the classpath,
and finally by prefixing with "config/" on the classpath.

Most of the places taking advantage of this were tests, so they
did not have to setup a real home dir with config. The only place
that was really relying on it was the code which loads names.txt
to randomly choose a node name.

This change fixes test to setup fake home dirs with their config
files. It also makes the logic for finding names.txt explicit:
look in config dir, and if it doesn't exist, load /config/names.txt
from the classpath.

time:
2015-08-14T09:40:49Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/cache/recycler/PageCacheRecyclerModule.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationModule.java
core/src/main/java/org/elasticsearch/common/Classes.java
core/src/main/java/org/elasticsearch/common/geo/ShapesAvailability.java
core/src/main/java/org/elasticsearch/common/inject/Modules.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/util/BigArraysModule.java
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/index/cache/IndexCacheModule.java
core/src/main/java/org/elasticsearch/index/cache/query/QueryCacheModule.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/TermsLookupQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParserMapper.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/NodeModule.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/SignificanceHeuristicStreams.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelStreams.java
core/src/main/java/org/elasticsearch/search/highlight/FastVectorHighlighter.java
core/src/main/java/org/elasticsearch/search/highlight/Highlighter.java
core/src/main/java/org/elasticsearch/search/highlight/Highlighters.java
core/src/main/java/org/elasticsearch/search/highlight/PlainHighlighter.java
core/src/main/java/org/elasticsearch/search/highlight/PostingsHighlighter.java
core/src/main/java/org/elasticsearch/search/suggest/Suggester.java
core/src/main/java/org/elasticsearch/search/suggest/Suggesters.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggester.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
core/src/main/java/org/elasticsearch/search/suggest/term/TermSuggester.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/cache/recycler/MockPageCacheRecycler.java
core/src/test/java/org/elasticsearch/cluster/MockInternalClusterInfoService.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationModuleTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/common/settings/loader/JsonSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/YamlSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/util/BigArraysTests.java
core/src/test/java/org/elasticsearch/common/util/MockBigArrays.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpChannelTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTest.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisTestsHelper.java
core/src/test/java/org/elasticsearch/index/analysis/CJKFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
core/src/test/java/org/elasticsearch/index/analysis/KeepFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/PatternCaptureTokenFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/ShingleTokenFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/StopAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/analysis/commongrams/CommonGramsTokenFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTest.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/shard/MockEngineFactoryPlugin.java
core/src/test/java/org/elasticsearch/indices/IndicesCustomDataPathIT.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerIT.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsIT.java
core/src/test/java/org/elasticsearch/node/NodeMocksPlugin.java
core/src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
core/src/test/java/org/elasticsearch/search/MockSearchService.java
core/src/test/java/org/elasticsearch/search/SearchModuleTests.java
core/src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/highlight/CustomHighlighter.java
core/src/test/java/org/elasticsearch/search/highlight/CustomHighlighterPlugin.java
core/src/test/java/org/elasticsearch/search/scriptfilter/ScriptQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggester.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggesterPlugin.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/engine/MockEngineFactory.java
core/src/test/java/org/elasticsearch/test/engine/MockEngineSupport.java
core/src/test/java/org/elasticsearch/test/engine/MockEngineSupportModule.java
core/src/test/java/org/elasticsearch/test/engine/MockInternalEngine.java
core/src/test/java/org/elasticsearch/test/engine/MockShadowEngine.java
core/src/test/java/org/elasticsearch/transport/NettySizeHeaderFrameDecoderTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/SimpleIcuAnalysisTests.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java
plugins/analysis-phonetic/src/test/java/org/elasticsearch/index/analysis/SimplePhoneticAnalysisTests.java
plugins/cloud-aws/src/main/java/org/elasticsearch/repositories/s3/S3Repository.java
plugins/cloud-aws/src/test/java/org/elasticsearch/repositories/s3/AbstractS3SnapshotRestoreTest.java
comments:
Merge branch 'master' into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/query/TermsLookupQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java

time:
2015-08-14T09:17:19Z
class:
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
comments:
Java api: restore support for minimumShouldMatch and disableCoord in TermsQueryBuilder

 TermsQueryParser still parses those values although deprecated. These need to be present in the java api as well to get ready for the query refactoring, where the builders are the intermediate query format that we parse our json queries into. Whatever the parser supports need to be supported by the builder as well.

Closes #12870

time:
2015-08-14T09:16:55Z
class:
core/src/main/java/org/elasticsearch/index/query/TermsLookupQueryBuilder.java
comments:
Java api: remove support for lookup cache in TermsLooukpBuilder

 TermsQueryParser doesn't support the cache field anymore, so if it gets set through java api, the subsequent parsing of that query will throw error

Relates to #12870

time:
2015-08-14T09:15:07Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/common/Classes.java
core/src/main/java/org/elasticsearch/common/geo/ShapesAvailability.java
core/src/main/java/org/elasticsearch/common/inject/Modules.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/JsonSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/YamlSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisTestsHelper.java
core/src/test/java/org/elasticsearch/index/analysis/CJKFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
core/src/test/java/org/elasticsearch/index/analysis/KeepFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/PatternCaptureTokenFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/ShingleTokenFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/StopAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/analysis/commongrams/CommonGramsTokenFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTest.java
core/src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java
plugins/analysis-phonetic/src/test/java/org/elasticsearch/index/analysis/SimplePhoneticAnalysisTests.java
comments:
Merge pull request #12868 from rjernst/bye_bye_classloaders

Remove ClassLoader from Settings

time:
2015-08-14T09:04:32Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
comments:
Release: Create pre release script

Refactored a part out of the release script, so the user can
change the version locally as well as move the documentation
and change the Version.java

The background of this change is to have a very simple release
process that puts stuff into a staging environment, so the beta
release can be tested, before it is officially released.

This means the build_release script can be removed soon.

time:
2015-08-14T08:51:09Z
class:
comments:
Docs: Updated annotations for 2.0.0-beta1

time:
2015-08-14T06:55:27Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/common/Classes.java
core/src/main/java/org/elasticsearch/common/geo/ShapesAvailability.java
core/src/main/java/org/elasticsearch/common/inject/Modules.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/JsonSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/YamlSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisTestsHelper.java
core/src/test/java/org/elasticsearch/index/analysis/CJKFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
core/src/test/java/org/elasticsearch/index/analysis/KeepFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/PatternCaptureTokenFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/ShingleTokenFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/StopAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/analysis/commongrams/CommonGramsTokenFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTest.java
core/src/test/java/org/elasticsearch/node/internal/InternalSettingsPreparerTests.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java
plugins/analysis-phonetic/src/test/java/org/elasticsearch/index/analysis/SimplePhoneticAnalysisTests.java
comments:
Internal: Remove ClassLoader from Settings

Settings currently has a classloader member, which any user (plugin
or core ES code) can access to load classes/resources. This is extremely
error prone as setting the classloder on the Settings instance is a
public method. Furthermore, it is not really necessary. Classes that
need resources should load resources using normal means
(getClass().getResourceAsStream). Those that need classes
should use Class.forName, which will load the class with the
same classloader as the calling class. This means, in the few
places where classes are loaded by string name, they will use
the appropriate loader: either the default classloader which loads
core ES code, or a child classloader for each plugin.

This change removes the classloader member from Settings, as
well as other classloader related uses (except for a handful
of cases which must use a classloader, at least for now).

time:
2015-08-14T02:40:31Z
class:
comments:
Fourth time, for real, last mock -> test jar

time:
2015-08-14T02:39:55Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/common/Classes.java
core/src/main/java/org/elasticsearch/common/geo/ShapesAvailability.java
core/src/main/java/org/elasticsearch/common/inject/Modules.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
core/src/test/java/org/elasticsearch/common/settings/loader/JsonSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/YamlSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisTestsHelper.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
core/src/test/java/org/elasticsearch/index/analysis/PatternCaptureTokenFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/StopAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/analysis/commongrams/CommonGramsTokenFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTest.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java
plugins/analysis-phonetic/src/test/java/org/elasticsearch/index/analysis/SimplePhoneticAnalysisTests.java
comments:
Undo accidental commit of crap

This reverts commit 589eecf55d26e6fe9831910ee45fb21b5bdedf9b.

time:
2015-08-14T02:36:53Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/common/Classes.java
core/src/main/java/org/elasticsearch/common/geo/ShapesAvailability.java
core/src/main/java/org/elasticsearch/common/inject/Modules.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
core/src/test/java/org/elasticsearch/common/settings/loader/JsonSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/YamlSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisTestsHelper.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
core/src/test/java/org/elasticsearch/index/analysis/PatternCaptureTokenFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/StopAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/analysis/commongrams/CommonGramsTokenFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTest.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java
plugins/analysis-phonetic/src/test/java/org/elasticsearch/index/analysis/SimplePhoneticAnalysisTests.java
comments:
Fourth time's a charm, one more mock class to add to test jar

time:
2015-08-13T23:28:38Z
class:
comments:
One more mock rule needed for test jar

time:
2015-08-13T22:32:03Z
class:
comments:
Add more mock classes to test jar

time:
2015-08-13T22:17:22Z
class:
comments:
Fix test jar to contain Mock classes that were moved in 71a3bdb

time:
2015-08-13T21:36:36Z
class:
core/src/main/java/org/elasticsearch/cache/recycler/PageCacheRecyclerModule.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/common/util/BigArraysModule.java
core/src/main/java/org/elasticsearch/index/cache/IndexCacheModule.java
core/src/main/java/org/elasticsearch/index/cache/query/QueryCacheModule.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/NodeModule.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/test/java/org/elasticsearch/cache/recycler/MockPageCacheRecycler.java
core/src/test/java/org/elasticsearch/cluster/MockInternalClusterInfoService.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/common/util/BigArraysTests.java
core/src/test/java/org/elasticsearch/common/util/MockBigArrays.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpChannelTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTest.java
core/src/test/java/org/elasticsearch/index/shard/MockEngineFactoryPlugin.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerIT.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsIT.java
core/src/test/java/org/elasticsearch/node/NodeMocksPlugin.java
core/src/test/java/org/elasticsearch/search/MockSearchService.java
core/src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/scriptfilter/ScriptQuerySearchIT.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/engine/MockEngineFactory.java
core/src/test/java/org/elasticsearch/test/engine/MockEngineSupport.java
core/src/test/java/org/elasticsearch/test/engine/MockEngineSupportModule.java
core/src/test/java/org/elasticsearch/test/engine/MockInternalEngine.java
core/src/test/java/org/elasticsearch/test/engine/MockShadowEngine.java
core/src/test/java/org/elasticsearch/transport/NettySizeHeaderFrameDecoderTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
comments:
Merge pull request #12863 from rjernst/fix/12784

Refactor classes only plugged in by tests to use package private extension points

time:
2015-08-13T21:35:48Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationModule.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParserMapper.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/SignificanceHeuristicStreams.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelStreams.java
core/src/main/java/org/elasticsearch/search/highlight/FastVectorHighlighter.java
core/src/main/java/org/elasticsearch/search/highlight/Highlighter.java
core/src/main/java/org/elasticsearch/search/highlight/Highlighters.java
core/src/main/java/org/elasticsearch/search/highlight/PlainHighlighter.java
core/src/main/java/org/elasticsearch/search/highlight/PostingsHighlighter.java
core/src/main/java/org/elasticsearch/search/suggest/Suggester.java
core/src/main/java/org/elasticsearch/search/suggest/Suggesters.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggester.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
core/src/main/java/org/elasticsearch/search/suggest/term/TermSuggester.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationModuleTests.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/common/settings/loader/YamlSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/search/SearchModuleTests.java
core/src/test/java/org/elasticsearch/search/highlight/CustomHighlighter.java
core/src/test/java/org/elasticsearch/search/highlight/CustomHighlighterPlugin.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggester.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggesterPlugin.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/SimpleIcuAnalysisTests.java
plugins/cloud-aws/src/main/java/org/elasticsearch/repositories/s3/S3Repository.java
plugins/cloud-aws/src/test/java/org/elasticsearch/repositories/s3/AbstractS3SnapshotRestoreTest.java
comments:
Merge branch 'master' into fix/12784

time:
2015-08-13T21:33:11Z
class:
core/src/main/java/org/elasticsearch/cache/recycler/PageCacheRecyclerModule.java
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCacheModule.java
core/src/main/java/org/elasticsearch/node/Node.java
comments:
Remove leftover classes

time:
2015-08-13T20:52:55Z
class:
core/src/main/java/org/elasticsearch/cache/recycler/PageCacheRecyclerModule.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/common/util/BigArraysModule.java
core/src/main/java/org/elasticsearch/index/cache/IndexCacheModule.java
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCacheModule.java
core/src/main/java/org/elasticsearch/index/cache/query/QueryCacheModule.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/NodeModule.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/test/java/org/elasticsearch/cache/recycler/MockPageCacheRecycler.java
core/src/test/java/org/elasticsearch/cluster/MockInternalClusterInfoService.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/common/util/BigArraysTests.java
core/src/test/java/org/elasticsearch/common/util/MockBigArrays.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpChannelTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTest.java
core/src/test/java/org/elasticsearch/index/shard/MockEngineFactoryPlugin.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerIT.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsIT.java
core/src/test/java/org/elasticsearch/node/NodeMocksPlugin.java
core/src/test/java/org/elasticsearch/search/MockSearchService.java
core/src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/scriptfilter/ScriptQuerySearchIT.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/engine/MockEngineFactory.java
core/src/test/java/org/elasticsearch/test/engine/MockEngineSupport.java
core/src/test/java/org/elasticsearch/test/engine/MockEngineSupportModule.java
core/src/test/java/org/elasticsearch/test/engine/MockInternalEngine.java
core/src/test/java/org/elasticsearch/test/engine/MockShadowEngine.java
core/src/test/java/org/elasticsearch/transport/NettySizeHeaderFrameDecoderTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
comments:
Tests: Refactor classes only plugged in by tests to use package private extension points

We previous used something like Class.forName to load mock classes,
where tests would set a setting that was *supposed* to only be used by
tests. This change make these impls package private so that only tests
can change out these implementations, through test plugins.

closes #12784

time:
2015-08-13T20:27:14Z
class:
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
comments:
Don't cache percolator query on loading percolators

No need to load catch this query since it's cheap and not reused.
If we cache it, it can cause assertions to be tripped since this
method is executed during postRecovery phase and might still run while
nodes are shutdown in tests.

time:
2015-08-13T17:09:07Z
class:
core/src/main/java/org/elasticsearch/indices/query/IndicesQueriesRegistry.java
comments:
Query refactoring: resolve guice injection issue after last commit

time:
2015-08-13T16:22:50Z
class:
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/indices/query/IndicesQueriesRegistry.java
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
comments:
Query refactoring: simplified generic types in IndicesQueriesRegistry and IndexQueryParseService

time:
2015-08-13T15:51:21Z
class:
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/indices/query/IndicesQueriesRegistry.java
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
comments:
Query refactoring: fixed some leftover generics warnings

Leftover after adding the query builder type to QueryParser. getBuilderPrototype is better typed now and doesn't require unchecked cast anymore. Fixed also some Tuple usage without types.

time:
2015-08-13T14:12:54Z
class:
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
comments:
[TEST] minor change in BaseQueryTestCase#toQuery

Simplified if when we decide what to do based on the query and return value of supportsBoostAndQueryName

time:
2015-08-13T13:29:00Z
class:
plugins/cloud-aws/src/main/java/org/elasticsearch/repositories/s3/S3Repository.java
plugins/cloud-aws/src/test/java/org/elasticsearch/repositories/s3/AbstractS3SnapshotRestoreTest.java
comments:
Merge branch 'aws/base_path'

time:
2015-08-13T13:21:06Z
class:
comments:
[build] revert maven 3.3.x fix

We need to revert #12803 as it creates some troubles in IntelliJ and also might fail when using older elasticsearch versions.

time:
2015-08-13T12:39:10Z
class:
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/SimpleIcuAnalysisTests.java
comments:
Tests: Fix SimpleIcuAnalysisTests to not load a non-existent configuration file.

time:
2015-08-13T12:26:03Z
class:
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/test/java/org/elasticsearch/common/settings/loader/YamlSettingsLoaderTests.java
comments:
Merge pull request #12833 from saschamarkus/saschamarkus_issue_11510_rebase

 Throw Exception for missing settings file

time:
2015-08-13T11:47:11Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationModule.java
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParserMapper.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/SignificanceHeuristicStreams.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelStreams.java
core/src/main/java/org/elasticsearch/search/highlight/FastVectorHighlighter.java
core/src/main/java/org/elasticsearch/search/highlight/Highlighter.java
core/src/main/java/org/elasticsearch/search/highlight/Highlighters.java
core/src/main/java/org/elasticsearch/search/highlight/PlainHighlighter.java
core/src/main/java/org/elasticsearch/search/highlight/PostingsHighlighter.java
core/src/main/java/org/elasticsearch/search/suggest/Suggester.java
core/src/main/java/org/elasticsearch/search/suggest/Suggesters.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggester.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
core/src/main/java/org/elasticsearch/search/suggest/term/TermSuggester.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationModuleTests.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/search/SearchModuleTests.java
core/src/test/java/org/elasticsearch/search/highlight/CustomHighlighter.java
core/src/test/java/org/elasticsearch/search/highlight/CustomHighlighterPlugin.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggester.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggesterPlugin.java
comments:
Introduce a formal ExtensionPoint class to stream line extensions

This commit tries to add some infrastructure to streamline how extension
points should be strucutred. It's a simple approache with 4 implementations
for `highlighter`, `suggester`, `allocation_decider` and `shards_allocator`.
It simplifies adding new extension points and forces to register classes instead
of strings.

time:
2015-08-13T10:41:31Z
class:
core/src/main/java/org/elasticsearch/index/query/AndQueryParser.java
core/src/test/java/org/elasticsearch/index/query/AndQueryBuilderTest.java
comments:
Merge pull request #12808 from cbuescher/feature/query-refactoring-dupCodeAndParser

Remove duplicate code in AndQueryParser

time:
2015-08-13T10:29:44Z
class:
core/src/main/java/org/elasticsearch/index/query/AndQueryParser.java
core/src/test/java/org/elasticsearch/index/query/AndQueryBuilderTest.java
comments:
Query DSL: Remove duplicate code in AndQueryParser

When parsing inner array of filters, AndQueryParser seems to
check for correct "filters" field name but then does the same
kind of operation in the `else` branch of the stament. This
seems like it can be removed.

time:
2015-08-13T10:24:48Z
class:
comments:
[build] elasticsearch-lucene module needs to depend on 2.0.0-SNAPSHOT

time:
2015-08-13T10:15:19Z
class:
comments:
Build of QA: Smoke Test Shaded Jar fails under maven 3.3.x

Build fails with maven 3.3.1 and 3.3.3. To reproduce, install one of the 3.3.x versions of maven and run `mvn clean verify` in the root directory of the project. The build will fail in the QA: Smoke Test Shaded Jar module with the following error:

```
Started J0 PID(99979@flea.local).
Suite: org.elasticsearch.shaded.test.ShadedIT
  2> NOTE: reproduce with: ant test  -Dtestcase=ShadedIT -Dtests.method=testJodaIsNotOnTheCP -Dtests.seed=2F4D23A7462CF921 -Dtests.locale= -Dtests.timezone=Asia/Baku -Dtests.asserts=true -Dtests.file.encoding=UTF-8
FAILURE 0.06s | ShadedIT.testJodaIsNotOnTheCP <<<
  > Throwable #1: junit.framework.AssertionFailedError: Expected an exception but the test passed: java.lang.ClassNotFoundException
  > at __randomizedtesting.SeedInfo.seed([2F4D23A7462CF921:3A9404F1F69FD80]:0)
  > at junit.framework.Assert.fail(Assert.java:57)
  > at java.lang.Thread.run(Thread.java:745)
  2> NOTE: reproduce with: ant test  -Dtestcase=ShadedIT -Dtests.method=testGuavaIsNotOnTheCP -Dtests.seed=2F4D23A7462CF921 -Dtests.locale= -Dtests.timezone=Asia/Baku -Dtests.asserts=true -Dtests.file.encoding=UTF-8
FAILURE 0.01s | ShadedIT.testGuavaIsNotOnTheCP <<<
  > Throwable #1: junit.framework.AssertionFailedError: Expected an exception but the test passed: java.lang.ClassNotFoundException
  > at __randomizedtesting.SeedInfo.seed([2F4D23A7462CF921:C2502FD54D83433D]:0)
  > at junit.framework.Assert.fail(Assert.java:57)
  > at java.lang.Thread.run(Thread.java:745)
  2> NOTE: reproduce with: ant test  -Dtestcase=ShadedIT -Dtests.method=testjsr166eIsNotOnTheCP -Dtests.seed=2F4D23A7462CF921 -Dtests.locale= -Dtests.timezone=Asia/Baku -Dtests.asserts=true -Dtests.file.encoding=UTF-8
FAILURE 0.01s | ShadedIT.testjsr166eIsNotOnTheCP <<<
  > Throwable #1: junit.framework.AssertionFailedError: Expected an exception but the test passed: java.lang.ClassNotFoundException
  > at __randomizedtesting.SeedInfo.seed([2F4D23A7462CF921:35593286F4269392]:0)
  > at junit.framework.Assert.fail(Assert.java:57)
  > at java.lang.Thread.run(Thread.java:745)
  2> NOTE: leaving temporary files on disk at: /Users/Shared/Jenkins/Home/workspace/elasticsearch-master/qa/smoke-test-shaded/target/J0/temp/org.elasticsearch.shaded.test.ShadedIT_2F4D23A7462CF921-001
  2> NOTE: test params are: codec=CheapBastard, sim=DefaultSimilarity, locale=, timezone=Asia/Baku
  2> NOTE: Mac OS X 10.10.4 x86_64/Oracle Corporation 1.8.0_25 (64-bit)/cpus=8,threads=1,free=482137936,total=514850816
  2> NOTE: All tests run in this JVM: [ShadedIT]
Completed [1/1] in 6.61s, 5 tests, 3 failures <<< FAILURES!

Tests with failures:
  - org.elasticsearch.shaded.test.ShadedIT.testJodaIsNotOnTheCP
  - org.elasticsearch.shaded.test.ShadedIT.testGuavaIsNotOnTheCP
  - org.elasticsearch.shaded.test.ShadedIT.testjsr166eIsNotOnTheCP
```
Please note that build doesn't fail with maven 3.2.x and it doesn't fail if mvn command is executed inside the qa/smoke-test-shaded directory. Only when the build is started from the root directory the error above can be observed.

The reason is because of the shaded version which depends on elasticsearch core.
When Maven build the module only, then elasticsearch core is not added to the dependency tree.

```sh
mvn dependency:tree -pl :smoke-test-shaded
```

```
[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ smoke-test-shaded ---
[INFO] org.elasticsearch.qa:smoke-test-shaded:jar:2.0.0-beta1-SNAPSHOT
[INFO] +- org.elasticsearch.distribution.shaded:elasticsearch:jar:2.0.0-beta1-SNAPSHOT:compile
[INFO] |  +- org.apache.lucene:lucene-core:jar:5.2.1:compile
[INFO] |  +- org.apache.lucene:lucene-backward-codecs:jar:5.2.1:compile
[INFO] |  +- org.apache.lucene:lucene-analyzers-common:jar:5.2.1:compile
[INFO] |  +- org.apache.lucene:lucene-queries:jar:5.2.1:compile
[INFO] |  +- org.apache.lucene:lucene-memory:jar:5.2.1:compile
[INFO] |  +- org.apache.lucene:lucene-highlighter:jar:5.2.1:compile
[INFO] |  +- org.apache.lucene:lucene-queryparser:jar:5.2.1:compile
[INFO] |  +- org.apache.lucene:lucene-sandbox:jar:5.2.1:compile
[INFO] |  +- org.apache.lucene:lucene-suggest:jar:5.2.1:compile
[INFO] |  +- org.apache.lucene:lucene-misc:jar:5.2.1:compile
[INFO] |  +- org.apache.lucene:lucene-join:jar:5.2.1:compile
[INFO] |  +- org.apache.lucene:lucene-grouping:jar:5.2.1:compile
[INFO] |  +- org.apache.lucene:lucene-spatial:jar:5.2.1:compile
[INFO] |  \- com.spatial4j:spatial4j:jar:0.4.1:compile
[INFO] +- org.hamcrest:hamcrest-all:jar:1.3:test
[INFO] \- org.apache.lucene:lucene-test-framework:jar:5.2.1:test
[INFO]    +- org.apache.lucene:lucene-codecs:jar:5.2.1:test
[INFO]    +- com.carrotsearch.randomizedtesting:randomizedtesting-runner:jar:2.1.16:test
[INFO]    +- junit:junit:jar:4.11:test
[INFO]    \- org.apache.ant:ant:jar:1.8.2:test
```

But if shaded plugin is involved during the build, it modifies the `projectArtifactMap`:

```sh
mvn dependency:tree -pl org.elasticsearch.distribution.shaded:elasticsearch,:smoke-test-shaded
```

```
[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ smoke-test-shaded ---
[INFO] org.elasticsearch.qa:smoke-test-shaded:jar:2.0.0-beta1-SNAPSHOT
[INFO] +- org.elasticsearch.distribution.shaded:elasticsearch:jar:2.0.0-beta1-SNAPSHOT:compile
[INFO] |  \- org.elasticsearch:elasticsearch:jar:2.0.0-beta1-SNAPSHOT:compile
[INFO] |     +- org.apache.lucene:lucene-backward-codecs:jar:5.2.1:compile
[INFO] |     +- org.apache.lucene:lucene-analyzers-common:jar:5.2.1:compile
[INFO] |     +- org.apache.lucene:lucene-queries:jar:5.2.1:compile
[INFO] |     +- org.apache.lucene:lucene-memory:jar:5.2.1:compile
[INFO] |     +- org.apache.lucene:lucene-highlighter:jar:5.2.1:compile
[INFO] |     +- org.apache.lucene:lucene-queryparser:jar:5.2.1:compile
[INFO] |     |  \- org.apache.lucene:lucene-sandbox:jar:5.2.1:compile
[INFO] |     +- org.apache.lucene:lucene-suggest:jar:5.2.1:compile
[INFO] |     |  \- org.apache.lucene:lucene-misc:jar:5.2.1:compile
[INFO] |     +- org.apache.lucene:lucene-join:jar:5.2.1:compile
[INFO] |     |  \- org.apache.lucene:lucene-grouping:jar:5.2.1:compile
[INFO] |     +- org.apache.lucene:lucene-spatial:jar:5.2.1:compile
[INFO] |     |  \- com.spatial4j:spatial4j:jar:0.4.1:compile
[INFO] |     +- com.google.guava:guava:jar:18.0:compile
[INFO] |     +- com.carrotsearch:hppc:jar:0.7.1:compile
[INFO] |     +- joda-time:joda-time:jar:2.8:compile
[INFO] |     +- org.joda:joda-convert:jar:1.2:compile
[INFO] |     +- com.fasterxml.jackson.core:jackson-core:jar:2.5.3:compile
[INFO] |     +- com.fasterxml.jackson.dataformat:jackson-dataformat-smile:jar:2.5.3:compile
[INFO] |     +- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:jar:2.5.3:compile
[INFO] |     |  \- org.yaml:snakeyaml:jar:1.12:compile
[INFO] |     +- com.fasterxml.jackson.dataformat:jackson-dataformat-cbor:jar:2.5.3:compile
[INFO] |     +- io.netty:netty:jar:3.10.3.Final:compile
[INFO] |     +- com.ning:compress-lzf:jar:1.0.2:compile
[INFO] |     +- com.tdunning:t-digest:jar:3.0:compile
[INFO] |     +- org.hdrhistogram:HdrHistogram:jar:2.1.6:compile
[INFO] |     +- org.apache.commons:commons-lang3:jar:3.3.2:compile
[INFO] |     +- commons-cli:commons-cli:jar:1.3.1:compile
[INFO] |     \- com.twitter:jsr166e:jar:1.1.0:compile
[INFO] +- org.hamcrest:hamcrest-all:jar:1.3:test
[INFO] \- org.apache.lucene:lucene-test-framework:jar:5.2.1:test
[INFO]    +- org.apache.lucene:lucene-codecs:jar:5.2.1:test
[INFO]    +- org.apache.lucene:lucene-core:jar:5.2.1:compile
[INFO]    +- com.carrotsearch.randomizedtesting:randomizedtesting-runner:jar:2.1.16:test
[INFO]    +- junit:junit:jar:4.11:test
[INFO]    \- org.apache.ant:ant:jar:1.8.2:test
```

A fix could consist of fixing something on Maven side. Probably something changed in a recent version and introduced this "issue" but it might be not really an issue. More a fix.

There are two workarounds:

1) exclude manually elasticsearch core from shaded version in smoke-test-shaded module and add manually each lucene lib needed by elasticsearch

2) add a new `elasticsearch-lucene` (lucene) POM module which simply declares all needed lucene libs in subprojects (such as the smoke tester one).

I choose the later.

Closes #12791.

time:
2015-08-13T10:09:31Z
class:
comments:
Fixes #11571 - update "Cluster Stats" documentation with valid example

time:
2015-08-13T08:47:05Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramBuilder.java
comments:
Aggregations: Removed unused factor parameter in DateHistogramBuilder

DateHistogramParser does not recognise this parameter and therefore setting it would throw an exception as noted in https://github.com/elastic/elasticsearch/issues/6490. It is also not documented.

time:
2015-08-12T22:47:27Z
class:
core/src/test/java/org/elasticsearch/test/ESTestCase.java
comments:
[TEST] Skip counting ExtraFS files when asserting path is cleared

time:
2015-08-12T22:05:38Z
class:
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/IndicesCustomDataPathIT.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
comments:
[TEST] Remove custom data path tests, replace with better tests

Replace with a better, "unit-y" tests that couple the shared data path
with the correctly set `path.shared_data` configuration setting

time:
2015-08-12T21:52:15Z
class:
core/src/test/java/org/elasticsearch/indices/IndicesCustomDataPathIT.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-08-12T21:50:20Z
class:
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTest.java
comments:
Fix SimpleQueryStringBuilderTest, allow part of  only with mapping

time:
2015-08-12T21:44:19Z
class:
core/src/test/java/org/elasticsearch/indices/IndicesCustomDataPathIT.java
comments:
[TEST] mark tests in IndicesCustomDataPathIT with AwaitsFix

time:
2015-08-12T21:00:43Z
class:
comments:
[TEST] Use parent path for path.shared_data

On our Jenkins instances the ${path.home} and createTempDir() locations
share a different parent, so the custom index locations are not within
the ${path.shared_data} directory. This is a hack to fix it until we can
find a way to unify the createTempDir() and `path.shared_data` settings
inside the tests

time:
2015-08-12T20:20:21Z
class:
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
comments:
Adapted BaseQueryTestCase to changes on master

time:
2015-08-12T20:00:27Z
class:
comments:
Docs: Fixed a bad ID in the put mapping page

time:
2015-08-12T19:56:03Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationModule.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocatorModule.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AllocationDecidersModule.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/common/inject/spi/Elements.java
core/src/main/java/org/elasticsearch/discovery/DiscoveryModule.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/index/indexing/IndexingSlowLog.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/FieldTypeLookup.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreModule.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParserMapper.java
core/src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmStats.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/health/RestClusterHealthAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/AbstractCatAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestAliasAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestAllocationAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestCountAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestFielddataAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestHealthAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestMasterAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodeAttrsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestPendingClusterTasksAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestPluginsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestRecoveryAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestSegmentsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestThreadPoolAction.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/SearchServiceModule.java
core/src/main/java/org/elasticsearch/search/TransportSearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
core/src/main/java/org/elasticsearch/search/aggregations/TransportAggregationModule.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ScriptHeuristic.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/SignificanceHeuristicParserMapper.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/SignificanceHeuristicStreams.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/SignificantTermsHeuristicModule.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/TransportSignificantTermsHeuristicModule.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelModule.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelParserMapper.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelStreams.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/TransportMovAvgModelModule.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhaseModule.java
core/src/main/java/org/elasticsearch/search/highlight/FastVectorHighlighter.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightModule.java
core/src/main/java/org/elasticsearch/search/highlight/Highlighters.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestModule.java
core/src/main/java/org/elasticsearch/search/suggest/Suggesters.java
core/src/test/java/org/elasticsearch/VersionTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
core/src/test/java/org/elasticsearch/cluster/allocation/ShardsAllocatorModuleIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationModuleTests.java
core/src/test/java/org/elasticsearch/common/StringsTests.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryModuleTests.java
core/src/test/java/org/elasticsearch/env/NodeEnvironmentTests.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/indexing/IndexingSlowLogTests.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeLookupTests.java
core/src/test/java/org/elasticsearch/index/mapper/MapperServiceTest.java
core/src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTest.java
core/src/test/java/org/elasticsearch/index/store/StoreTest.java
core/src/test/java/org/elasticsearch/indices/IndicesCustomDataPathIT.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmStatsTests.java
core/src/test/java/org/elasticsearch/percolator/RecoveryPercolatorIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/significant/SignificanceHeuristicTests.java
core/src/test/java/org/elasticsearch/search/child/ParentFieldLoadingIT.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScorePluginIT.java
core/src/test/java/org/elasticsearch/search/highlight/CustomHighlighterPlugin.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggesterPlugin.java
core/src/test/java/org/elasticsearch/test/ESAllocationTestCase.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/ESSingleNodeTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/engine/MockEngineFactory.java
core/src/test/java/org/elasticsearch/test/rest/client/RestClient.java
core/src/test/java/org/elasticsearch/test/rest/section/DoSection.java
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeServiceImpl.java
plugins/cloud-gce/src/main/java/org/elasticsearch/discovery/gce/GceUnicastHostsProvider.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/AbstractGceTest.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/GceComputeServiceTwoNodesDifferentTagsMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/GceComputeServiceTwoNodesOneZoneMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/GceComputeServiceTwoNodesSameTagsMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/GceComputeServiceTwoNodesTwoZonesMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/GceComputeServiceZeroNodeMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/GceComputeEngineTest.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/GceComputeServiceMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoveryTest.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/PropertiesHelper.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/mock/GceComputeServiceAbstractMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/gce/itest/GceSimpleITest.java
plugins/jvm-example/src/main/java/org/elasticsearch/plugin/example/ExampleCatAction.java
plugins/jvm-example/src/main/java/org/elasticsearch/plugin/example/ExamplePluginConfiguration.java
plugins/jvm-example/src/main/java/org/elasticsearch/plugin/example/JvmExamplePlugin.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-08-12T19:21:37Z
class:
comments:
Documented the update_all_types setting on PUT mapping

Added docs to each mapping param to specify which ones can be updated when

time:
2015-08-12T19:16:08Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/test/java/org/elasticsearch/VersionTests.java
comments:
Cut over master to 2.0.0-SNAPSHOT

time:
2015-08-12T18:23:05Z
class:
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/test/java/org/elasticsearch/env/NodeEnvironmentTests.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/indices/IndicesCustomDataPathIT.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/ESSingleNodeTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Remove the `node.enable_custom_paths` setting

This setting is useless now that we have the `path.shared_data` setting.

Resolves #12776

time:
2015-08-12T18:05:07Z
class:
comments:
[TEST] Add `path.shared_data` that was mistakenly rebased out

time:
2015-08-12T16:51:46Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
core/src/test/java/org/elasticsearch/env/NodeEnvironmentTests.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/indices/IndicesCustomDataPathIT.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/ESSingleNodeTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Add `path.shared_data`

This allows `path.shared_data` to be added to the security manager while
still allowing a custom `data_path` for indices using shadow replicas.

For example, configuring `path.shared_data: /tmp/foo`, then created an
index with:

```
POST /myindex
{
  "index": {
    "number_of_shards": 1,
    "number_of_replicas": 1,
    "data_path": "/tmp/foo/bar/baz",
    "shadow_replicas": true
  }
}
```

The index will then reside in `/tmp/foo/bar/baz`.

`path.shared_data` defaults to `null` if not specified.

Resolves #12714
Relates to #11065

time:
2015-08-12T16:33:07Z
class:
comments:
Add an examples of using UNC path in path.repo

Closes #12665

time:
2015-08-12T16:18:08Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/health/RestClusterHealthAction.java
core/src/test/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/test/rest/section/DoSection.java
comments:
Merge pull request #12780 from s1monw/fix_cluster_health_http_response

Return `408 REQUEST_TIMEOUT` if `_cluster/health` times out

time:
2015-08-12T15:51:20Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/health/RestClusterHealthAction.java
core/src/test/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/test/rest/section/DoSection.java
comments:
Return `408 REQUEST_TIMEOUT` if `_cluster/health` times out

Today we return `200 OK` which is misleading since we really didn't
produce a valid response / didn't wait long enough.

time:
2015-08-12T15:47:53Z
class:
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeServiceImpl.java
plugins/cloud-gce/src/main/java/org/elasticsearch/discovery/gce/GceUnicastHostsProvider.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/AbstractGceTest.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/GceComputeServiceTwoNodesDifferentTagsMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/GceComputeServiceTwoNodesOneZoneMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/GceComputeServiceTwoNodesSameTagsMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/GceComputeServiceTwoNodesTwoZonesMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/GceComputeServiceZeroNodeMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/GceComputeEngineTest.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/GceComputeServiceMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoveryTest.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/PropertiesHelper.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/mock/GceComputeServiceAbstractMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/gce/itest/GceSimpleITest.java
comments:
[cloud-gce] replace integration tests by unit tests

We use google transport mock as we can simulate whatever JSON answer GCE platform will send us and really test Gce implementation.

We also remove GceSimpleITest as the goal of this class was only to check that when we start elasticsearch with this plugin, elasticsearch works fine.
We don't need that anymore as we now have RestIT which do that right (and better)!

Closes #12622

time:
2015-08-12T15:38:04Z
class:
comments:
[cloud-gce] update to GCE API v1-rev71-1.20.0

Closes #12835

time:
2015-08-12T14:51:27Z
class:
core/src/test/java/org/elasticsearch/percolator/RecoveryPercolatorIT.java
comments:
test: simplified percolator recovery tests

time:
2015-08-12T14:43:31Z
class:
core/src/test/java/org/elasticsearch/index/store/StoreTest.java
comments:
[TEST] Fix off-by-one bug in corruptFile util function

The upper bound must be 0-based since we are corrupting an offset into
the file but it can be a 1-based length of the file which results in an
uncorrupted file.

time:
2015-08-12T14:40:50Z
class:
comments:
Merge pull request #12769 from nik9000/automate_bats

Move vagrant activation to a parameter

time:
2015-08-12T14:40:09Z
class:
comments:
Move vagrant activation to a parameter

Closes #12611

time:
2015-08-12T14:36:34Z
class:
core/src/main/java/org/elasticsearch/rest/action/cat/AbstractCatAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestAliasAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestAllocationAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestCountAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestFielddataAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestHealthAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestMasterAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodeAttrsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestPendingClusterTasksAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestPluginsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestRecoveryAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestSegmentsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestThreadPoolAction.java
plugins/jvm-example/src/main/java/org/elasticsearch/plugin/example/ExampleCatAction.java
plugins/jvm-example/src/main/java/org/elasticsearch/plugin/example/ExamplePluginConfiguration.java
plugins/jvm-example/src/main/java/org/elasticsearch/plugin/example/JvmExamplePlugin.java
comments:
Merge pull request #12787 from nik9000/configured_plugin

QA: Add configuration to the jvm-example plugin

time:
2015-08-12T13:13:03Z
class:
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/test/java/org/elasticsearch/common/settings/loader/YamlSettingsLoaderTests.java
comments:
Issue 11510: Throw Exception for missing settings file

An Exception will be thrown when the givven YAML-file doesn't exist.

time:
2015-08-12T12:29:13Z
class:
core/src/main/java/org/elasticsearch/monitor/jvm/JvmStats.java
core/src/test/java/org/elasticsearch/monitor/jvm/JvmStatsTests.java
comments:
Expose ClassloadingMXBean in Node Stats

Closes #12738

time:
2015-08-12T12:08:10Z
class:
comments:
More outdates Perl libs in Suse 11

time:
2015-08-12T11:40:13Z
class:
core/src/main/java/org/elasticsearch/discovery/DiscoveryModule.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryModuleTests.java
comments:
Merge pull request #12828 from s1monw/allow_master_elect_extension

Expose zen ElectMasterService as a Discovery extension point

time:
2015-08-12T11:00:51Z
class:
core/src/main/java/org/elasticsearch/discovery/DiscoveryModule.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryModuleTests.java
comments:
Expose zen ElectMasterService as a Discovery extension point

Some users need to override ElectMasterService from zen to add functionality
inside their infrastructure. This commit allows to extend it.

time:
2015-08-12T11:00:14Z
class:
core/src/main/java/org/elasticsearch/search/SearchModule.java
comments:
Search: Split SearchModule.configure() into separate methods

This change splits SearchModule.configure() contents into separate methods so that sub-class of it (e.g. tests) can use only the parts they require

time:
2015-08-12T09:48:19Z
class:
core/src/test/java/org/elasticsearch/test/rest/client/RestClient.java
comments:
Merge pull request #12823 from jpountz/test/rest_ssl

Tests: Allow REST tests to run over https.

time:
2015-08-12T09:46:57Z
class:
core/src/test/java/org/elasticsearch/test/rest/client/RestClient.java
comments:
Tests: Allow REST tests to run over https.

This adds new settings to the REST client, so that tests can be run over SSL
and optionally use an alternate truststore.

time:
2015-08-12T09:01:29Z
class:
comments:
Check license script fails with perl 5.10.0 - include updated File::Temp lib

time:
2015-08-12T07:18:50Z
class:
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreModule.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParserMapper.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/SearchServiceModule.java
core/src/main/java/org/elasticsearch/search/TransportSearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
core/src/main/java/org/elasticsearch/search/aggregations/TransportAggregationModule.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ScriptHeuristic.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/SignificanceHeuristicParserMapper.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/SignificanceHeuristicStreams.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/SignificantTermsHeuristicModule.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/TransportSignificantTermsHeuristicModule.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelModule.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelParserMapper.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelStreams.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/TransportMovAvgModelModule.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhaseModule.java
core/src/main/java/org/elasticsearch/search/highlight/FastVectorHighlighter.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightModule.java
core/src/main/java/org/elasticsearch/search/highlight/Highlighters.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestModule.java
core/src/main/java/org/elasticsearch/search/suggest/Suggesters.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTest.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/significant/SignificanceHeuristicTests.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScorePluginIT.java
core/src/test/java/org/elasticsearch/search/highlight/CustomHighlighterPlugin.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggesterPlugin.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/engine/MockEngineFactory.java
comments:
Merge pull request #12807 from s1monw/flatten_search_service

Flatten SearchService and clean up build-in registration

time:
2015-08-12T07:01:09Z
class:
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreModule.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParserMapper.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/SearchServiceModule.java
core/src/main/java/org/elasticsearch/search/TransportSearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
core/src/main/java/org/elasticsearch/search/aggregations/TransportAggregationModule.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ScriptHeuristic.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/SignificanceHeuristicParserMapper.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/SignificanceHeuristicStreams.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/SignificantTermsHeuristicModule.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/TransportSignificantTermsHeuristicModule.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelModule.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelParserMapper.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelStreams.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/TransportMovAvgModelModule.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhaseModule.java
core/src/main/java/org/elasticsearch/search/highlight/FastVectorHighlighter.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightModule.java
core/src/main/java/org/elasticsearch/search/highlight/Highlighters.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestModule.java
core/src/main/java/org/elasticsearch/search/suggest/Suggesters.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTest.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/significant/SignificanceHeuristicTests.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScorePluginIT.java
core/src/test/java/org/elasticsearch/search/highlight/CustomHighlighterPlugin.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggesterPlugin.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/engine/MockEngineFactory.java
comments:
Flatten SearchService and clean up build-in registration

Relates to #12783

time:
2015-08-12T06:58:03Z
class:
core/src/test/java/org/elasticsearch/index/mapper/MapperServiceTest.java
comments:
Reflect renaming of base test class

time:
2015-08-12T06:40:11Z
class:
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/test/java/org/elasticsearch/index/mapper/MapperServiceTest.java
comments:
Merge pull request #12561 from jasontedor/feature/12560

Disallow type names to start with dots for new indices except for .percolator

time:
2015-08-12T06:34:41Z
class:
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/test/java/org/elasticsearch/index/mapper/MapperServiceTest.java
comments:
Disallow type names to start with dots for new indices except for .percolator

This commit will disallow type names to start with dots for version 2 and later indices except for .percolator.

Closes #12560

time:
2015-08-12T06:11:54Z
class:
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
comments:
Fix type checking to work with java 7

time:
2015-08-12T05:17:38Z
class:
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
comments:
Make module testcase abstract to appease test naming convetion checks

time:
2015-08-12T05:04:27Z
class:
comments:
Tests: Revert spaces in integ test paths, windows is not ready for it.

Also add run.bat file for testing on windows

time:
2015-08-12T05:03:47Z
class:
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationModuleTests.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
comments:
Fix missing license headers

time:
2015-08-12T04:57:07Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationModule.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocatorModule.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AllocationDecidersModule.java
core/src/main/java/org/elasticsearch/common/inject/spi/Elements.java
core/src/test/java/org/elasticsearch/cluster/allocation/ShardsAllocatorModuleIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationModuleTests.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/test/ESAllocationTestCase.java
comments:
Merge pull request #12818 from rjernst/fix/12781

Flatten Allocation modules and add back ability to plugin ShardsAllocators

time:
2015-08-12T03:49:07Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationModule.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocatorModule.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AllocationDecidersModule.java
core/src/main/java/org/elasticsearch/common/inject/spi/Elements.java
core/src/test/java/org/elasticsearch/cluster/allocation/ShardsAllocatorModuleIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationModuleTests.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/test/ESAllocationTestCase.java
comments:
Internal: Flatten Allocation modules and add back ability to plugin ShardsAllocators

There were two submodules of AllocationModule. This combines them into a
single module, adds a base test case for module testing, and adds back
the ability for plugins to provide custom ShardsAllocators.

closes #12781

time:
2015-08-11T20:57:01Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/index/indexing/IndexingSlowLog.java
core/src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
core/src/test/java/org/elasticsearch/common/StringsTests.java
core/src/test/java/org/elasticsearch/index/indexing/IndexingSlowLogTests.java
comments:
Merge pull request #12806 from nik9000/slowlog

Adds a setting to control source output in indexing slowlog

time:
2015-08-11T20:16:04Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/common/Strings.java
core/src/main/java/org/elasticsearch/index/indexing/IndexingSlowLog.java
core/src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
core/src/test/java/org/elasticsearch/common/StringsTests.java
core/src/test/java/org/elasticsearch/index/indexing/IndexingSlowLogTests.java
comments:
Logging: Log less source in slowlog

Instead of logging the entire `_source` in the indexing slowlog we log by
default just the first 1000 characters - this is controlled by the
`index.indexing.slowlog.source` settings and can be set to `true` to log the
whole `_source`, `false` to log none of it, and a number to log at most that
many characters.

Closes #4485

time:
2015-08-11T17:55:41Z
class:
comments:
Add licenses/no_deps.txt to plugins/jvm-example to quiet the license checker

time:
2015-08-11T17:42:18Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
comments:
Mappings: Validate parsed document does not have trailing garbage that is invalid json

This remerges PR #11414. The added validation for trailing garbage is
now only done when the parse method created the parser.

time:
2015-08-11T17:24:47Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/FieldTypeLookup.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeLookupTests.java
core/src/test/java/org/elasticsearch/search/child/ParentFieldLoadingIT.java
comments:
Merge pull request #12779 from rjernst/fix/12753

Fix field type compatiblity check to work when only one previous type exists

time:
2015-08-11T17:14:45Z
class:
comments:
Revert "Disabling the license checker temporarily"

This reverts commit cdad9e698d9442a652ee7e81ca32580201be2f07.

time:
2015-08-11T16:03:41Z
class:
comments:
use spaces liberally in integration tests and fix space handling

Closes #12710

time:
2015-08-11T15:07:47Z
class:
comments:
Merge pull request #12802 from jaymode/additional_args

allow specifying additional arguments in startup-elasticsearch macrodef

time:
2015-08-11T14:36:32Z
class:
plugins/jvm-example/src/main/java/org/elasticsearch/plugin/example/ExampleCatAction.java
plugins/jvm-example/src/main/java/org/elasticsearch/plugin/example/ExamplePluginConfiguration.java
plugins/jvm-example/src/main/java/org/elasticsearch/plugin/example/JvmExamplePlugin.java
qa/configured-plugin/src/main/java/org/elasticsearch/plugin/configured/ConfiguredExamplePlugin.java
qa/configured-plugin/src/test/java/org/elasticsearch/plugin/configured/ConfiguredExampleCatActionTest.java
qa/configured-plugin/src/test/java/org/elasticsearch/plugin/configured/ConfiguredExamplePluginRestIT.java
comments:
Merge configured-plugin into jvm-example plugin

time:
2015-08-11T14:17:26Z
class:
comments:
Merge pull request #12274 from smflorentino/smflorentino-fix-winjvm-detect

Improve JVM Arch Detection

time:
2015-08-11T14:13:58Z
class:
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
comments:
Merge pull request #12756 from keety/terms_query_disable_coord

Add support for `disable_coord` param to `terms` query

time:
2015-08-11T13:55:18Z
class:
core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FilteredQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/AndQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/BoostingQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/ExistsQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/FilteredQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/NotQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/OrQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/SpanNotQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/TypeQueryBuilderTest.java
comments:
Query refactoring: better naming consistency for getters

In the query refactoring branch we've been introducing getter methods for every bit that you can set to each query. The naming is not every consistent at the moment. The applied naming convention are the following:

- `innerQuery()` for any inner query, when there's only one of them
- when there's more than one inner query, use a prefix that identifies which query it is, and the `query` suffix (e.g. `positiveQuery` or `littleQuery`)
- `fieldName()` for the name of the field to be queried
- `value()` for the actual query

These changes don't break bw comp given that these getters were all introduced with the query refactoring which hasn't been released yet. Also we are modifying getters that don't have a corresponding setter, as the fields are final, hence we are not breaking consistency between getter and setter.

Closes #12800

time:
2015-08-11T13:48:44Z
class:
core/src/main/java/org/elasticsearch/index/query/AndQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BaseQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FQueryFilterParser.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryParser.java
core/src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/LimitQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NotQueryParser.java
core/src/main/java/org/elasticsearch/index/query/OrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
core/src/main/java/org/elasticsearch/index/query/QueryParser.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
comments:
add type safety for QueryParser

QueryParser now explicitly declares the type of QueryBuilder that it creates.

Closes #12773

time:
2015-08-11T13:12:43Z
class:
comments:
allow specifying additional arguments in startup-elasticsearch macrodef

Previously we had additional.args as a argument to the startup-elasticsearch macrodef and this was
being used to set some additional elasticsearch settings. This adds the ability to specify additional
arguments back using a element called additional-args.

time:
2015-08-11T12:08:07Z
class:
comments:
Merge pull request #12785 from nik9000/remove_conf

Fix rpm -e removing /etc/elasticsearch

time:
2015-08-11T11:45:28Z
class:
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
comments:
delete SimpleQueryStringParser.NAME constant

Previously restored this constant due to a bad merge, fixed now

time:
2015-08-11T11:24:17Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTest.java
core/src/test/java/org/elasticsearch/rest/BytesRestResponseTests.java
core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringIT.java
qa/smoke-test-multinode/src/test/java/org/elasticsearch/smoketest/SmokeTestMultiIT.java
comments:
Merge branch 'master' into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java

time:
2015-08-11T11:08:32Z
class:
comments:
TearDown secondary node after tests

time:
2015-08-11T11:08:32Z
class:
comments:
Improve arg handling in ant script

This commit is a spinn-off from #12710 which improves the handling of process
arguments ot play nice with spaces etc.

time:
2015-08-11T10:55:33Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
core/src/test/java/org/elasticsearch/rest/BytesRestResponseTests.java
comments:
Merge pull request #12260 from s1monw/issues/12239

Include stacktrace in rendered exceptions

time:
2015-08-11T10:54:26Z
class:
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringIT.java
comments:
simple query string: remove (not working) support for alternate formats

Removed attempt of parsing of `field` rather than `fields` and attempted support of the following syntax:

```
{
  "simple_query_string": {
    "body" : {
      "query": "foo bar"
    }
  }
}
```

Both these two syntaxes were undocumented, untested and not working.

Added test for case when `fields` is not specified, then the default field is queried.

Closes #12794
Closes #12798

time:
2015-08-11T10:37:47Z
class:
qa/smoke-test-multinode/src/test/java/org/elasticsearch/smoketest/SmokeTestMultiIT.java
comments:
Merge pull request #12797 from s1monw/multi_node_IT

Add multi-node IT infrastructure

time:
2015-08-11T10:19:39Z
class:
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
comments:
Fix BaseQueryTestCase after merge with master

time:
2015-08-11T10:15:35Z
class:
comments:
add multinode to pom.xml

time:
2015-08-11T09:55:59Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
core/src/test/java/org/elasticsearch/rest/BytesRestResponseTests.java
comments:
Include stacktrace in rendered exceptions

This commit includes the stacktrace into the structured exception rendering
to ensure we can find the reason / cause for certain things quicker. This
is enabled by default and is very verbose. Users can disable it via `rest.exception.stacktrace.skip = true|false`

Closes #12239

time:
2015-08-11T09:36:15Z
class:
qa/smoke-test-multinode/src/test/java/org/elasticsearch/smoketest/SmokeTestMultiIT.java
comments:
Add multi-node IT infrastructure

This adds the infrastrucutre to run integration tests with more than one node.
 * it adds relevant macros and targets to integration-tests.xml to start unicast nodes
 * there is a qa/smoke-test-multinode project that simulates such a setup

this commit is soely the infrastructure and doesn't hook up any projects to use this.
For reliability and stability reasons this should be used with care and only if it's really
needed.

Closes #12718

time:
2015-08-11T09:33:03Z
class:
core/src/main/java/org/elasticsearch/cache/recycler/PageCacheRecyclerModule.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocatorModule.java
core/src/main/java/org/elasticsearch/common/Classes.java
core/src/main/java/org/elasticsearch/common/inject/SpawnModules.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/util/BigArraysModule.java
core/src/main/java/org/elasticsearch/common/util/DefaultBigArraysModule.java
core/src/main/java/org/elasticsearch/discovery/DiscoveryModule.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscoveryModule.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscoveryModule.java
core/src/main/java/org/elasticsearch/http/HttpServerModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/index/cache/query/QueryCacheModule.java
core/src/main/java/org/elasticsearch/index/deletionpolicy/DeletionPolicyModule.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityModule.java
core/src/main/java/org/elasticsearch/index/store/IndexStoreModule.java
core/src/main/java/org/elasticsearch/indices/breaker/CircuitBreakerModule.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/repositories/RepositoryModule.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/search/DefaultSearchServiceModule.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/SearchServiceModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationModule.java
core/src/main/java/org/elasticsearch/transport/TransportModule.java
core/src/test/java/org/elasticsearch/action/IndicesRequestIT.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientHeadersTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/ShardsAllocatorModuleIT.java
core/src/test/java/org/elasticsearch/cluster/routing/RandomShardRoutingMutator.java
core/src/test/java/org/elasticsearch/common/settings/SettingsTests.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalyzerBackwardsCompatTests.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTest.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedTranslogIT.java
core/src/test/java/org/elasticsearch/index/store/ExceptionRetryIT.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/recovery/TruncatedRecoveryIT.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/snapshots/AbstractSnapshotIntegTestCase.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/RepositoriesIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/test/ESBackcompatTestCase.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/XContentTestUtils.java
core/src/test/java/org/elasticsearch/test/cache/recycler/MockBigArraysModule.java
core/src/test/java/org/elasticsearch/test/cache/recycler/MockPageCacheRecyclerModule.java
core/src/test/java/org/elasticsearch/test/disruption/NetworkPartitionIT.java
core/src/test/java/org/elasticsearch/test/engine/MockEngineSupport.java
core/src/test/java/org/elasticsearch/test/search/MockSearchServiceModule.java
core/src/test/java/org/elasticsearch/test/store/MockFSIndexStore.java
core/src/test/java/org/elasticsearch/test/transport/AssertingLocalTransport.java
core/src/test/java/org/elasticsearch/test/transport/MockTransportService.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortIntegrationIT.java
core/src/test/java/org/elasticsearch/update/UpdateByNativeScriptIT.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/AwsModule.java
plugins/cloud-aws/src/main/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryModule.java
plugins/cloud-aws/src/main/java/org/elasticsearch/plugin/cloud/aws/CloudAwsPlugin.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/TestAwsS3Service.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/AzureModule.java
plugins/cloud-azure/src/main/java/org/elasticsearch/discovery/azure/AzureDiscoveryModule.java
plugins/cloud-azure/src/main/java/org/elasticsearch/index/store/smbmmapfs/SmbMmapFsIndexStoreModule.java
plugins/cloud-azure/src/main/java/org/elasticsearch/index/store/smbsimplefs/SmbSimpleFsIndexStoreModule.java
plugins/cloud-azure/src/main/java/org/elasticsearch/plugin/cloud/azure/CloudAzurePlugin.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureComputeServiceTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureRepositoryServiceTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AzureComputeServiceSimpleMock.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AzureComputeServiceTwoNodesMock.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureMinimumMasterNodesTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureSimpleTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureTwoStartedNodesTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/index/store/AbstractAzureFsTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/index/store/SmbMMapFsTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/index/store/SmbSimpleFsTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreTest.java
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeService.java
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeServiceImpl.java
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceModule.java
plugins/cloud-gce/src/main/java/org/elasticsearch/discovery/gce/GceDiscoveryModule.java
plugins/cloud-gce/src/main/java/org/elasticsearch/plugin/cloud/gce/CloudGcePlugin.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/GceComputeServiceTwoNodesDifferentTagsMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/GceComputeServiceTwoNodesOneZoneMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/GceComputeServiceTwoNodesSameTagsMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/GceComputeServiceTwoNodesTwoZonesMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/GceComputeServiceZeroNodeMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/GceComputeEngineTest.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/mock/GceComputeServiceAbstractMock.java
plugins/jvm-example/src/main/java/org/elasticsearch/plugin/example/JvmExamplePlugin.java
plugins/jvm-example/src/test/java/org/elasticsearch/plugin/example/JvmExampleRestIT.java
qa/smoke-test-shaded/src/test/java/org/elasticsearch/shaded/test/ShadedIT.java
qa/smoke-test-shaded/src/test/java/org/elasticsearch/shaded/test/ShadedTest.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-08-11T08:34:55Z
class:
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/test/java/org/elasticsearch/test/ESBackcompatTestCase.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortIntegrationIT.java
comments:
Merge pull request #12796 from s1monw/invert_add_settings_order

Apply additional plugin settings only if settings are not explicit

time:
2015-08-11T08:06:55Z
class:
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/test/java/org/elasticsearch/test/ESBackcompatTestCase.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortIntegrationIT.java
comments:
Apply additional plugin settings only if settings are not explicit

We have a way to allow a plugin to specify additional settings. These
settings should only be applied if they are not already existing in the
node settings.

time:
2015-08-11T07:43:29Z
class:
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortIntegrationIT.java
comments:
Test: More attempts at forcing netty test to always use netty

time:
2015-08-11T06:13:19Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
comments:
Revert "Merge pull request #11414 from rjernst/fix/2315"

This reverts commit 937732b17d5f64d1f92957193dafc7a73bed7bc9, reversing
changes made to 6fea6c542cca57710191ab23c76029e28e3f217b.

time:
2015-08-11T04:58:33Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
comments:
Merge pull request #11414 from rjernst/fix/2315

Validate parsed document does not have trailing garbage that is invalid json

time:
2015-08-11T04:57:14Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/test/java/org/elasticsearch/index/mapper/source/DefaultSourceMappingTests.java
comments:
Mappings: Validate parsed document does not have trailing garbage that is invalid json

See #2315

time:
2015-08-11T03:57:55Z
class:
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortIntegrationIT.java
comments:
Test: Fix netty integ test to ensure local mode is not used.

closes #12788

time:
2015-08-10T23:58:36Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/routing/RandomShardRoutingMutator.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/XContentTestUtils.java
comments:
Changes in unassigned info and version might not be transferred as part of cluster state diffs

The equalTo logic of ShardRouting doesn't take version and unassignedInfo into the account when compares shard routings.  Since cluster state diff relies on equal to detect the changes that needs to be sent to other cluster, this omission might lead to changes not being properly propagated to other nodes in the cluster.

Closes #12387

time:
2015-08-10T23:57:02Z
class:
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortIntegrationIT.java
comments:
test: quiet netty integ test

time:
2015-08-10T21:51:49Z
class:
core/src/main/java/org/elasticsearch/rest/action/cat/AbstractCatAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestAliasAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestAllocationAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestCountAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestFielddataAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestHealthAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestMasterAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodeAttrsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestPendingClusterTasksAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestPluginsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestRecoveryAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestSegmentsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestThreadPoolAction.java
qa/configured-plugin/src/main/java/org/elasticsearch/plugin/configured/ConfiguredExampleCatAction.java
qa/configured-plugin/src/main/java/org/elasticsearch/plugin/configured/ConfiguredExamplePlugin.java
qa/configured-plugin/src/main/java/org/elasticsearch/plugin/configured/ConfiguredExamplePluginConfiguration.java
qa/configured-plugin/src/test/java/org/elasticsearch/plugin/configured/ConfiguredExampleCatActionTest.java
qa/configured-plugin/src/test/java/org/elasticsearch/plugin/configured/ConfiguredExamplePluginRestIT.java
comments:
QA: Create a test plugin with configuration

In order to test the way plugins with configuration are installed and removed
we need a plugin with configuration in the repository. The simplest way to
get one is to make an "example" plugin.

In the process of making this example it became aparent that cat actions were
difficult to create outside of the org.elasticsearch.rest.action.cat package
because key methods in AbstractCatAction were package private. This makes them
protected and uses them to create the example configured plugin.

Relates to #12717 but is only one step of many to close it.

time:
2015-08-10T21:32:41Z
class:
comments:
Packaging: fix rpm -e removing /etc/elasticsearch

When we fixed rpm creating the /etc/elasticsearch/scripts directory we
broke removing the rpm - it lef the /etc/elasticsearch directory behind.
This fixes that.

time:
2015-08-10T21:06:50Z
class:
core/src/main/java/org/elasticsearch/cache/recycler/PageCacheRecyclerModule.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocatorModule.java
core/src/main/java/org/elasticsearch/common/Classes.java
core/src/main/java/org/elasticsearch/common/inject/SpawnModules.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/util/BigArraysModule.java
core/src/main/java/org/elasticsearch/common/util/DefaultBigArraysModule.java
core/src/main/java/org/elasticsearch/discovery/DiscoveryModule.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscoveryModule.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscoveryModule.java
core/src/main/java/org/elasticsearch/http/HttpServerModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/index/cache/query/QueryCacheModule.java
core/src/main/java/org/elasticsearch/index/deletionpolicy/DeletionPolicyModule.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityModule.java
core/src/main/java/org/elasticsearch/index/store/IndexStoreModule.java
core/src/main/java/org/elasticsearch/indices/breaker/CircuitBreakerModule.java
core/src/main/java/org/elasticsearch/repositories/RepositoryModule.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/search/DefaultSearchServiceModule.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/SearchServiceModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationModule.java
core/src/main/java/org/elasticsearch/transport/TransportModule.java
core/src/test/java/org/elasticsearch/action/IndicesRequestIT.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientHeadersTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/ShardsAllocatorModuleIT.java
core/src/test/java/org/elasticsearch/common/settings/SettingsTests.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalyzerBackwardsCompatTests.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTest.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedTranslogIT.java
core/src/test/java/org/elasticsearch/index/store/ExceptionRetryIT.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/recovery/TruncatedRecoveryIT.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/snapshots/AbstractSnapshotIntegTestCase.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/RepositoriesIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/test/ESBackcompatTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/cache/recycler/MockBigArraysModule.java
core/src/test/java/org/elasticsearch/test/cache/recycler/MockPageCacheRecyclerModule.java
core/src/test/java/org/elasticsearch/test/disruption/NetworkPartitionIT.java
core/src/test/java/org/elasticsearch/test/engine/MockEngineSupport.java
core/src/test/java/org/elasticsearch/test/search/MockSearchServiceModule.java
core/src/test/java/org/elasticsearch/test/store/MockFSIndexStore.java
core/src/test/java/org/elasticsearch/test/transport/AssertingLocalTransport.java
core/src/test/java/org/elasticsearch/test/transport/MockTransportService.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortIntegrationIT.java
core/src/test/java/org/elasticsearch/update/UpdateByNativeScriptIT.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/AwsModule.java
plugins/cloud-aws/src/main/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryModule.java
plugins/cloud-aws/src/main/java/org/elasticsearch/plugin/cloud/aws/CloudAwsPlugin.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/TestAwsS3Service.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/AzureModule.java
plugins/cloud-azure/src/main/java/org/elasticsearch/discovery/azure/AzureDiscoveryModule.java
plugins/cloud-azure/src/main/java/org/elasticsearch/index/store/smbmmapfs/SmbMmapFsIndexStoreModule.java
plugins/cloud-azure/src/main/java/org/elasticsearch/index/store/smbsimplefs/SmbSimpleFsIndexStoreModule.java
plugins/cloud-azure/src/main/java/org/elasticsearch/plugin/cloud/azure/CloudAzurePlugin.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureComputeServiceTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureRepositoryServiceTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AzureComputeServiceSimpleMock.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AzureComputeServiceTwoNodesMock.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureMinimumMasterNodesTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureSimpleTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureTwoStartedNodesTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/index/store/AbstractAzureFsTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/index/store/SmbMMapFsTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/index/store/SmbSimpleFsTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreTest.java
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeService.java
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeServiceImpl.java
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceModule.java
plugins/cloud-gce/src/main/java/org/elasticsearch/discovery/gce/GceDiscoveryModule.java
plugins/cloud-gce/src/main/java/org/elasticsearch/plugin/cloud/gce/CloudGcePlugin.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/GceComputeServiceTwoNodesDifferentTagsMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/GceComputeServiceTwoNodesOneZoneMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/GceComputeServiceTwoNodesSameTagsMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/GceComputeServiceTwoNodesTwoZonesMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/GceComputeServiceZeroNodeMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/GceComputeEngineTest.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/mock/GceComputeServiceAbstractMock.java
plugins/jvm-example/src/main/java/org/elasticsearch/plugin/example/JvmExamplePlugin.java
plugins/jvm-example/src/test/java/org/elasticsearch/plugin/example/JvmExampleRestIT.java
comments:
Merge pull request #12744 from rjernst/hellspawn

Remove Settings.getAsClass

time:
2015-08-10T21:04:45Z
class:
core/src/main/java/org/elasticsearch/cache/recycler/PageCacheRecyclerModule.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocatorModule.java
core/src/main/java/org/elasticsearch/common/Classes.java
core/src/main/java/org/elasticsearch/common/inject/SpawnModules.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/util/BigArraysModule.java
core/src/main/java/org/elasticsearch/common/util/DefaultBigArraysModule.java
core/src/main/java/org/elasticsearch/discovery/DiscoveryModule.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscoveryModule.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscoveryModule.java
core/src/main/java/org/elasticsearch/http/HttpServerModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/index/cache/query/QueryCacheModule.java
core/src/main/java/org/elasticsearch/index/deletionpolicy/DeletionPolicyModule.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityModule.java
core/src/main/java/org/elasticsearch/index/store/IndexStoreModule.java
core/src/main/java/org/elasticsearch/indices/breaker/CircuitBreakerModule.java
core/src/main/java/org/elasticsearch/repositories/RepositoryModule.java
core/src/main/java/org/elasticsearch/script/ScriptModule.java
core/src/main/java/org/elasticsearch/search/DefaultSearchServiceModule.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/SearchServiceModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationModule.java
core/src/main/java/org/elasticsearch/transport/TransportModule.java
core/src/test/java/org/elasticsearch/action/IndicesRequestIT.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientHeadersTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/ShardsAllocatorModuleIT.java
core/src/test/java/org/elasticsearch/common/settings/SettingsTests.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalyzerBackwardsCompatTests.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTest.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedTranslogIT.java
core/src/test/java/org/elasticsearch/index/store/ExceptionRetryIT.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/recovery/TruncatedRecoveryIT.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/snapshots/AbstractSnapshotIntegTestCase.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/RepositoriesIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/test/ESBackcompatTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/cache/recycler/MockBigArraysModule.java
core/src/test/java/org/elasticsearch/test/cache/recycler/MockPageCacheRecyclerModule.java
core/src/test/java/org/elasticsearch/test/disruption/NetworkPartitionIT.java
core/src/test/java/org/elasticsearch/test/engine/MockEngineSupport.java
core/src/test/java/org/elasticsearch/test/search/MockSearchServiceModule.java
core/src/test/java/org/elasticsearch/test/store/MockFSIndexStore.java
core/src/test/java/org/elasticsearch/test/transport/AssertingLocalTransport.java
core/src/test/java/org/elasticsearch/test/transport/MockTransportService.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortIntegrationIT.java
core/src/test/java/org/elasticsearch/update/UpdateByNativeScriptIT.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/AwsModule.java
plugins/cloud-aws/src/main/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryModule.java
plugins/cloud-aws/src/main/java/org/elasticsearch/plugin/cloud/aws/CloudAwsPlugin.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/AbstractAwsTest.java
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/TestAwsS3Service.java
plugins/cloud-azure/src/main/java/org/elasticsearch/cloud/azure/AzureModule.java
plugins/cloud-azure/src/main/java/org/elasticsearch/discovery/azure/AzureDiscoveryModule.java
plugins/cloud-azure/src/main/java/org/elasticsearch/index/store/smbmmapfs/SmbMmapFsIndexStoreModule.java
plugins/cloud-azure/src/main/java/org/elasticsearch/index/store/smbsimplefs/SmbSimpleFsIndexStoreModule.java
plugins/cloud-azure/src/main/java/org/elasticsearch/plugin/cloud/azure/CloudAzurePlugin.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureComputeServiceTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AbstractAzureRepositoryServiceTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AzureComputeServiceSimpleMock.java
plugins/cloud-azure/src/test/java/org/elasticsearch/cloud/azure/AzureComputeServiceTwoNodesMock.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureMinimumMasterNodesTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureSimpleTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureTwoStartedNodesTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/index/store/AbstractAzureFsTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/index/store/SmbMMapFsTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/index/store/SmbSimpleFsTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreTest.java
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeService.java
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeServiceImpl.java
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceModule.java
plugins/cloud-gce/src/main/java/org/elasticsearch/discovery/gce/GceDiscoveryModule.java
plugins/cloud-gce/src/main/java/org/elasticsearch/plugin/cloud/gce/CloudGcePlugin.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/GceComputeServiceTwoNodesDifferentTagsMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/GceComputeServiceTwoNodesOneZoneMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/GceComputeServiceTwoNodesSameTagsMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/GceComputeServiceTwoNodesTwoZonesMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/cloud/gce/GceComputeServiceZeroNodeMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/GceComputeEngineTest.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/mock/GceComputeServiceAbstractMock.java
plugins/jvm-example/src/main/java/org/elasticsearch/plugin/example/JvmExamplePlugin.java
plugins/jvm-example/src/test/java/org/elasticsearch/plugin/example/JvmExampleRestIT.java
comments:
This method on settings loaded a class, based on a setting value, using
the default classloader. It had all kinds of leniency in how the
classname was found, and simply cannot work with plugins having isolated
classloaders.

This change removes that method. Some of the uses of it were for custom
extension points, like custom repository or discovery types. A lot were
just there to plugin mock implementations for tests. For the settings
that were legitimate, all now support plugins adding the given setting
via onModule. For those that were specific to tests for mocks, they now
use Classes.loadClass (a helper around Class.forName). This is a
temporary measure until (in a future PR) tests can change the
implementation via package private statics.

I also removed a number of unnecessary intermediate modules, added a
"jvm-example" plugin that can be filled in in the future as a smoke test
for breaking plugins, and gave some documentation to "spawn" modules
interface.

closes #12643
closes #12656

time:
2015-08-10T20:49:54Z
class:
comments:
Vagrant tests: set prompts to be more consistent

Also a small amount of cleanup in the way we create VMs - just a bit less
repetition.

Prompts are always of the form "box:cwd$ ". Even for root. Which is ok because
you don't have to be that careful with root because these are VMs that you
can destroy and recreate quickly.

time:
2015-08-10T20:22:29Z
class:
comments:
Closing #12256 Update service.bat with a safer RAM value

time:
2015-08-10T19:41:36Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/FieldTypeLookup.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeLookupTests.java
core/src/test/java/org/elasticsearch/search/child/ParentFieldLoadingIT.java
comments:
Mappings: Fix field type compatiblity check to work when only one previous type exists.

This was a straight up bug found in #12753. If only one type existed,
the compatibility check for a new type was not strict, so changes to
an updateable setting like search_analyzer got through (but only
partially). This change fixes the check and adds tests (which were
previously a TODO).

This also fixes a bug in dynamic field creation which woudln't copy
fielddata settings when duplicating a pre-existing field with the
same name.

closes #12753

time:
2015-08-10T16:02:27Z
class:
core/src/main/java/org/elasticsearch/common/unit/Fuzziness.java
comments:
Use Locale.ROOT in Fuzziness class to toUpperCase()

time:
2015-08-10T15:23:59Z
class:
core/src/main/java/org/elasticsearch/common/unit/Fuzziness.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
core/src/test/java/org/elasticsearch/common/unit/FuzzinessTests.java
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/FuzzyQueryBuilderTest.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
comments:
Refactoring of FuzzyQuery

Relates to #10217

This PR is against the query-refactoring branch.

Closes #11865

time:
2015-08-10T14:29:19Z
class:
qa/smoke-test-shaded/src/test/java/org/elasticsearch/shaded/test/ShadedIT.java
qa/smoke-test-shaded/src/test/java/org/elasticsearch/shaded/test/ShadedTest.java
comments:
Don't run shaded tests as unit tests

If we run the tests as a reactor build we reference the dependencies
before they are shaded. This causes problems since we verify that unshaded versions
of a transitive dependency is not present. This commit moves the verification tests
into the integration test that always runs with the shaded version of the jar.

time:
2015-08-10T14:21:24Z
class:
comments:
Packaging: Makes sure all POMs contain a description

Adds an explicit description the RPM package so it doesn't inherit the description from the POM.

Closes #12550

Also, modified descriptions for deb and rpm packages to be the same and to reference the documentation rather than listing features that are out of date.

time:
2015-08-10T13:58:19Z
class:
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
comments:
Removing @AwaitsFix in PluginMangerIT after merging in fix from master

time:
2015-08-10T13:56:42Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/common/rounding/TimeZoneRounding.java
core/src/main/java/org/elasticsearch/index/store/FsDirectoryService.java
core/src/main/java/org/elasticsearch/index/store/IndexStoreModule.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceParser.java
core/src/main/java/org/elasticsearch/search/aggregations/support/format/ValueFormat.java
core/src/main/java/org/elasticsearch/search/aggregations/support/format/ValueFormatter.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeServiceTest.java
core/src/test/java/org/elasticsearch/index/store/IndexStoreBWCTest.java
core/src/test/java/org/elasticsearch/index/store/IndexStoreTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-08-10T13:53:29Z
class:
comments:
Merge pull request #12770 from javanna/docs/migrate_query_shard_context

[DOCS] updated migrate guide with info for plugins

time:
2015-08-10T13:53:01Z
class:
comments:
[DOCS] updated migrate guide with info for plugins

time:
2015-08-10T13:37:22Z
class:
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/EmptyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FQueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/FilteredQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
comments:
Merge pull request #12731 from cbuescher/feature/query-refactoring-isFilterCleanup

Move flag to track filter context to QueryShardContext

time:
2015-08-10T13:05:39Z
class:
core/src/main/java/org/elasticsearch/common/rounding/TimeZoneRounding.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceParser.java
core/src/main/java/org/elasticsearch/search/aggregations/support/format/ValueFormat.java
core/src/main/java/org/elasticsearch/search/aggregations/support/format/ValueFormatter.java
comments:
Merge pull request #12581 from cbuescher/fix/12531

Fix setting timezone on default DateTime formatter

time:
2015-08-10T13:04:46Z
class:
core/src/main/java/org/elasticsearch/common/rounding/TimeZoneRounding.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceParser.java
core/src/main/java/org/elasticsearch/search/aggregations/support/format/ValueFormat.java
core/src/main/java/org/elasticsearch/search/aggregations/support/format/ValueFormatter.java
comments:
Aggregations: Fix setting timezone on default DateTime formatter

This PR prevents setting timezone on ValueFormatter.DateTime. Instead
the timezone information needed when printing buckets key-as-string
information is provided at constrution time of the ValueFormatter, making
sure we don't overwrite any constants. This, however, made it necessary to
be able to access the timezone information when resolving the format
in ValueSourseParser, so the `time_zone` parameter is now parsed alongside
the `format` parameter in ValueSourceParser rather than in DateHistogramParser.

Closes #12531

time:
2015-08-10T11:39:08Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/index/store/FsDirectoryService.java
core/src/main/java/org/elasticsearch/index/store/IndexStoreModule.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeServiceTest.java
core/src/test/java/org/elasticsearch/index/store/IndexStoreBWCTest.java
core/src/test/java/org/elasticsearch/index/store/IndexStoreTests.java
core/src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
comments:
Remove lenient store type parsing

Today we accept store types like `nio_fs`, `nioFs`, `niofs` etc.
this commit removes the leniency and only accepts plain values without underscore.
Yet, this commit also has a BWC layer that upgrades existing indices to the new version.
Affected enums are:
 * `nio_fs`
 * `mmap_fs`
 * `simple_fs`

time:
2015-08-10T11:09:02Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
comments:
PluginManager: Do not try other URs if specific URL was configured

If an URL specified with --url on the command line cannot be reached,
the plugin manager tries URLs at download.elastic.co automatically.

This can lead to download wrong plugins and also exposes potentially
the name of an internal plugin to the download service.

This fix ensures, that the plugin manager simply aborts, if the specified
URL cannot be downloaded.

time:
2015-08-10T10:19:56Z
class:
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/EmptyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FQueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/FilteredQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
comments:
Move flag to track filter context to QueryShardContext

Currently there is a flag in the QueryParseContext that keeps track
of whether an inner query sits inside a filter and should therefore
produce an unscored lucene query. This is done in the
parseInnerFilter...() methods that are called in the fromXContent()
methods or the parse() methods we haven't refactored yet. This needs
to move to the toQuery() method in the refactored builders, since the
query builders themselves have no information about the parent query
they might be nested in.

This PR moves the isFilter flag from the QueryParseContext to the re-
cently introduces QueryShardContext. The parseInnerFilter... methods
need to stay in the QueryParseContext for now, but they already delegate
to the flag that is kept in QueryShardContext. For refactored queries
(like BoolQueryBuilder) references to isFilter() are moved from the
parser to the corresponding builder. Builders where the inner query
was previously parsed using parseInnerFilter...() now use a newly
introduces toFilter(shardContext) method that produces the nested lucene
query with the filter context flag switched on.

Closes #12731

time:
2015-08-10T10:03:56Z
class:
comments:
Merge pull request #12765 from jpountz/enhancement/convert-plugin-name

Tests: Move qa's convert-plugin-name macrodef to dev-tools.

time:
2015-08-10T09:48:36Z
class:
comments:
Merge pull request #12706 from nik9000/osx_can_build_rpm

Let OSX build rpms for linux

time:
2015-08-10T09:45:50Z
class:
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
comments:
Added @AwaitsFix for failing PluginManagerIT test after talking to spinscale

time:
2015-08-10T09:41:09Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/node/service/NodeService.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/stats/RestNodesStatsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/script/ScriptMetrics.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/script/ScriptStats.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
qa/smoke-test-shaded/src/test/java/org/elasticsearch/shaded/test/ShadedIT.java
qa/smoke-test-shaded/src/test/java/org/elasticsearch/shaded/test/ShadedTest.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-08-10T09:35:07Z
class:
comments:
Merge pull request #12646 from nik9000/automate_bats

Run package tests in vagrant

time:
2015-08-10T09:33:25Z
class:
comments:
Docs: Mention in migration doc that order to dynamic arguments is important

Due to the limited abilities of parsing of dynamic (not configured) arguments
like `http.cors.enabled`, that dont map to a command line argument but will
become configuration, we need to mention explicitely, that those dynamic arguments
must come last.

Also fixed some mentions of a memory index setting, that does not exist anymore.

Closes #12758

time:
2015-08-10T09:31:42Z
class:
comments:
[Packaging] Run tests in vagrant

This creates a module in qa called vagrant that can be run if you have
vagrant and virtualbox installed and will run the packaging tests in trusty
and centos-7.0. You can ask it to run tests in other linuxes. This is the full
list:
* precise aka Ubuntu 12.04
* trusty aka Ubuntu 14.04
* vivid aka Ubuntun 15.04
* wheezy aka Debian 7, the current debian oldstable distribution
* jessie aka Debian 8, the current debina stable distribution
* centos-6
* centos-7
* fedora-22
* oel-7

There is lots of documentation on how to do this in the TESTING.asciidoc.

Closes #12611
I think we should rename this to `qa-vagrant` or something.

Sure

#12898


time:
2015-08-10T09:27:45Z
class:
comments:
Merge pull request #12704 from nik9000/create_scripts

rpm and deb create scripts directory

time:
2015-08-10T09:07:52Z
class:
comments:
Tests: Move qa's convert-plugin-name macrodef to dev-tools.

time:
2015-08-10T08:40:44Z
class:
plugins/cloud-aws/src/main/java/org/elasticsearch/repositories/s3/S3Repository.java
plugins/cloud-aws/src/test/java/org/elasticsearch/repositories/s3/AbstractS3SnapshotRestoreTest.java
comments:
[cloud-aws] add support for base_path in elasticsearch.yml

Related to https://github.com/elastic/elasticsearch-cloud-aws/issues/230

We now can support setting a global `base_path` in `elasticsearch.yml` using `repositories.s3.base_path` key.

time:
2015-08-10T08:04:56Z
class:
comments:
Do not kill process on service shutdown

When installed as a service with a DEB or RPM package, we should gently wait for elasticsearch to stop (flushing indices on closing can take some time) and never kill the process.

Closes #11248

time:
2015-08-09T22:50:34Z
class:
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
comments:
fix to support disable_coord param in terms query

time:
2015-08-09T19:55:11Z
class:
comments:
Disabling the license checker temporarily

time:
2015-08-09T18:16:11Z
class:
comments:
no_deps.txt should be in the licenses/ directory in plugins
Oops. Sorry I missed that when I reviewed :(


time:
2015-08-09T17:55:45Z
class:
comments:
Merge pull request #12754 from clintongormley/license_checker_in_parent

Enable the license checker over distribution/* and plugins/*

time:
2015-08-09T17:54:32Z
class:
comments:
Removed perl 5.8 support from the license checker

No point in keeping 5.8 support because it relies on modules
that are shipped with 5.9.

time:
2015-08-09T17:07:45Z
class:
comments:
Enable the license checker for plugins without third party deps too

time:
2015-08-09T16:18:59Z
class:
comments:
Enable the license checker over distribution/* and plugins/*

Moved the license checker config into the parent pom, and overrede
the license dir/target-to-check in distributions/pom.

Disabled the license checker explicitly for projects which run integration
tests but have no licenses dir:

* core
* distribution
* qa
* plugins/delete-by-query
* plugins/mapper-size
* plugins/site-example

Closes #12752
Closes #12754

time:
2015-08-09T12:09:44Z
class:
core/src/main/java/org/elasticsearch/bootstrap/ElasticsearchF.java
comments:
WE CANT EVEN GET BIN/ELASTICSEARCH WORKING!!!!

time:
2015-08-09T10:19:28Z
class:
comments:
Fix links to elastic.co github elastic group

time:
2015-08-09T10:15:47Z
class:
comments:
[doc] testing from an IDE
should we not mention the Program arguments to "start" .. or you expect them to use it appropriately what they want based on the error message... why I am saying as without program args it will hit the point https://github.com/elastic/elasticsearch/blob/master/core/src/main/java/org/elasticsearch/common/cli/CliTool.java#L129 . I am ok for it being implicit or explicit ... decision is yours ..


time:
2015-08-08T21:31:10Z
class:
comments:
Merge pull request #12743 from Asimov4/patch-2

Fixing typo

time:
2015-08-08T21:14:59Z
class:
comments:
Fixing typo

time:
2015-08-07T23:09:52Z
class:
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
comments:
Avoid use of forbidden method in test

time:
2015-08-07T22:27:04Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/node/service/NodeService.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/stats/RestNodesStatsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/script/ScriptMetrics.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/script/ScriptStats.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Merge pull request #12733 from jasontedor/feature/12673

Add script compilation stats

time:
2015-08-07T22:25:55Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/node/service/NodeService.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/stats/RestNodesStatsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/script/ScriptMetrics.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/script/ScriptStats.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Add script compilation stats

This commit adds basic support to track the number of times scripts are
compiled and compiled scripts are evicted from the script cache. These
statistics are tracked at the node level.

Closes #12673

time:
2015-08-07T22:18:54Z
class:
comments:
Merge pull request #12728 from jasontedor/docs/12727

Explain which nodes participate in master election

time:
2015-08-07T22:17:30Z
class:
comments:
Explain which nodes participate in master election

This commit updates the Zen Discovery documentation to explain which
nodes partcipate in master election (by default) as well as the
configuration parameters for controlling this.

Closes #12727

time:
2015-08-07T19:55:59Z
class:
qa/smoke-test-shaded/src/test/java/org/elasticsearch/shaded/test/ShadedIT.java
qa/smoke-test-shaded/src/test/java/org/elasticsearch/shaded/test/ShadedTest.java
comments:
Merge pull request #12723 from s1monw/issues/12711

Add basic tests for shaded JAR

time:
2015-08-07T17:44:34Z
class:
comments:
Docs: Documented cancelation of shard recovery

Relates to #12421

time:
2015-08-07T14:47:52Z
class:
comments:
Revert "Revert "disable license checker on windows for now, jenkins boxes have perl problems""

This reverts commit e2cbec185b2ac8ef3c1af41c304365395601c2bb.

time:
2015-08-07T14:45:36Z
class:
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-08-07T14:04:51Z
class:
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
comments:
[TEST] remove duplicated tests from SearchQueryIT

After merging filters and queries, tests against indices filter and indices query became exactly the same. we can remove one copy then.

time:
2015-08-07T12:42:38Z
class:
comments:
Bats testing: Remove useless systemctl check

Bats testing uncovered a useless systemctl check, that resulted in an
error, because the systemctl file was uninstalled, but we hoped to
check for an explicetely configured SystemExitCode.

In addition we did not reload the systemctl configuration when uninstalling
elasticsearch, which now is fixed as well.

Closes #12682

time:
2015-08-07T12:27:24Z
class:
comments:
Revert "disable license checker on windows for now, jenkins boxes have perl problems"

This reverts commit 6e9d8671bc3dcec4c942c201b0092b4dc46e059d.

time:
2015-08-07T12:14:33Z
class:
qa/smoke-test-shaded/src/test/java/org/elasticsearch/shaded/test/ShadedIT.java
qa/smoke-test-shaded/src/test/java/org/elasticsearch/shaded/test/ShadedTest.java
comments:
Add basic tests for sharded JAR

this commit adds a simple integration test that starts a
node from a shaded jar, indexes a doc and retrieves it. It
also has some basic unittests that try to load shaded classes and ensure
that their counterpart is not in the classpath.

Closes #12711

time:
2015-08-07T12:11:34Z
class:
comments:
Let OSX build rpms for linux

Closes #12701

time:
2015-08-07T12:10:53Z
class:
comments:
Packaging: rpm and deb create scripts directory

Elasticsearch will create this if it doesn't exist if it cant but because
it doesn't own /etc/elasticsearch when installed by rpm and deb it can't
create /etc/elasticsearch/scripts.

Closes #12702

time:
2015-08-07T11:10:03Z
class:
comments:
Warning in the docs for negative histogram values

As requested in https://github.com/elastic/elasticsearch/issues/8082#issuecomment-127962374

time:
2015-08-07T10:03:19Z
class:
comments:
Docs: Add warning about allow_primary to the cluster reroute docs

Closes #12503

time:
2015-08-07T09:13:24Z
class:
core/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/TransportIndicesShardStoresAction.java
core/src/main/java/org/elasticsearch/bootstrap/JVMCheck.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/BoostScoreFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FieldValueFactorFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/RandomScoreFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/ScoreFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/WeightFactorFunction.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
core/src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySource.java
core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
core/src/main/java/org/elasticsearch/script/NativeScriptFactory.java
core/src/main/java/org/elasticsearch/script/SearchScript.java
core/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
core/src/main/java/org/elasticsearch/script/expression/ExpressionSearchScript.java
core/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSource.java
core/src/test/java/org/elasticsearch/benchmark/cluster/ClusterAllocationRerouteBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/scripts/expression/NativeScript1.java
core/src/test/java/org/elasticsearch/benchmark/scripts/expression/NativeScript2.java
core/src/test/java/org/elasticsearch/benchmark/scripts/expression/NativeScript3.java
core/src/test/java/org/elasticsearch/benchmark/scripts/expression/NativeScript4.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/script/NativeConstantForLoopScoreScript.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/script/NativeConstantScoreScript.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/script/NativeNaiveTFIDFScoreScript.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/script/NativePayloadSumNoRecordScoreScript.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/script/NativePayloadSumScoreScript.java
core/src/test/java/org/elasticsearch/cluster/ack/AckClusterUpdateSettingsIT.java
core/src/test/java/org/elasticsearch/cluster/ack/AckIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/SimpleAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingTableTest.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AddIncrementallyTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AwarenessAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceConfigurationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ClusterRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ConcurrentRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/DeadNodesAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/DisableAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ElectReplicaAsPrimaryDuringRelocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedNodeRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FilterRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/IndexBalanceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/NodeVersionAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferLocalPrimariesToRelocatingPrimariesTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferPrimaryAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PrimaryElectionRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PrimaryNotRelocatedWhileBeingRecoveredTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RandomAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RebalanceAfterActiveTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ReplicaAllocatedAfterPrimaryTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RoutingNodesIntegrityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SameShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardVersioningTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardsLimitAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardNoReplicasRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardOneReplicaRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/TenShardsOneReplicaRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/UpdateNumberOfReplicasTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/structure/RoutingIteratorTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunctionTests.java
core/src/test/java/org/elasticsearch/gateway/PrimaryShardAllocatorTests.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/typelevels/ParseMappingTypeLevelTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
core/src/test/java/org/elasticsearch/index/query/CommonTermsQueryParserTest.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/indexlifecycle/IndexLifecycleActionIT.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryIT.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptFieldIT.java
core/src/test/java/org/elasticsearch/script/expression/ExpressionScriptTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/script/NativeSignificanceScoreScriptNoParams.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/script/NativeSignificanceScoreScriptWithParams.java
core/src/test/java/org/elasticsearch/search/fields/SearchFieldsIT.java
core/src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptIT.java
core/src/test/java/org/elasticsearch/stresstest/rollingrestart/QuickRollingRestartStressTest.java
core/src/test/java/org/elasticsearch/test/ESAllocationTestCase.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/update/UpdateByNativeScriptIT.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
plugins/mapper-size/src/main/java/org/elasticsearch/index/mapper/size/RegisterSizeFieldMapper.java
plugins/mapper-size/src/main/java/org/elasticsearch/index/mapper/size/SizeFieldMapper.java
plugins/mapper-size/src/main/java/org/elasticsearch/plugin/mapper/MapperSizeIndexModule.java
plugins/mapper-size/src/main/java/org/elasticsearch/plugin/mapper/MapperSizePlugin.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/MapperSizeRestIT.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/SizeMappingIT.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/SizeMappingTests.java
comments:
Merge branch 'master' into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java

time:
2015-08-07T08:49:02Z
class:
core/src/main/java/org/elasticsearch/common/compress/CompressedStreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/FilterStreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/NamedWriteable.java
core/src/main/java/org/elasticsearch/common/io/stream/NamedWriteableAwareStreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/NamedWriteableRegistry.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/EmptyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FQueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FilteredQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/LimitQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryWrappingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsLookupQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/indices/query/IndicesQueriesRegistry.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/transport/local/LocalTransport.java
core/src/main/java/org/elasticsearch/transport/netty/MessageChannelHandler.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/common/io/stream/BytesStreamsTests.java
core/src/test/java/org/elasticsearch/index/query/AndQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/FQueryFilterBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/NotQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/OrQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/QueryFilterBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
comments:
Merge branch 'merge/named_writeable' into feature/query-refactoring

time:
2015-08-07T07:48:42Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/shards/TransportIndicesShardStoresAction.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySource.java
core/src/test/java/org/elasticsearch/benchmark/cluster/ClusterAllocationRerouteBenchmark.java
core/src/test/java/org/elasticsearch/cluster/ack/AckClusterUpdateSettingsIT.java
core/src/test/java/org/elasticsearch/cluster/ack/AckIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/SimpleAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingTableTest.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AddIncrementallyTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AwarenessAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceConfigurationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ClusterRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ConcurrentRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/DeadNodesAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/DisableAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ElectReplicaAsPrimaryDuringRelocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedNodeRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FilterRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/IndexBalanceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/NodeVersionAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferLocalPrimariesToRelocatingPrimariesTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferPrimaryAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PrimaryElectionRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PrimaryNotRelocatedWhileBeingRecoveredTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RandomAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RebalanceAfterActiveTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ReplicaAllocatedAfterPrimaryTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RoutingNodesIntegrityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SameShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardVersioningTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardsLimitAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardNoReplicasRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardOneReplicaRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/TenShardsOneReplicaRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/UpdateNumberOfReplicasTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/structure/RoutingIteratorTests.java
core/src/test/java/org/elasticsearch/gateway/PrimaryShardAllocatorTests.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/indexlifecycle/IndexLifecycleActionIT.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryIT.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/stresstest/rollingrestart/QuickRollingRestartStressTest.java
core/src/test/java/org/elasticsearch/test/ESAllocationTestCase.java
comments:
Make RoutingNodes read-only by default

ClusterState has 3 different methods to access RoutingNodes:
 * #routingNodes() - mutable version
 * #getRoutingNodes() - delegates to #getReadOnlyRoutingNodes()
 * #getReadOnlyRoutingNodes() - it's docs say `NOTE, the routing nodes are mutable, use them just for read operations`

The latter also reuses the instance that it creates. This has several problems beside the obvious:
 * creating RoutingNodes is costly and should be done only if really needed ie. use cached version as much as possible
 * the common case is ReadOnly but all kinds of things are called
 * mutable version are only needed in one place and should only be used in the AllocationService
 * RoutingNodes can freeze it's ShardRoutings but doesn't
 * RoutingNodes should check if it's read-only or not

This commit fixed all the problems and special cases the mutable case such that all accesses via ClusterState#getRoutingNodes()
is read-only and RoutingNodes enforces this.

time:
2015-08-07T06:53:19Z
class:
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
comments:
Merge pull request #12707 from jpountz/enhancement/filters_function_score_needs_score

Only compute scores when necessary with FiltersFunctionScoreQuery.

time:
2015-08-07T03:38:24Z
class:
comments:
Revert "Revert "disable license checker on windows for now, jenkins boxes have perl problems""

This reverts commit 633b4868d9e665d381bf35df0647a796309aa233.

time:
2015-08-07T02:17:45Z
class:
comments:
Revert "disable license checker on windows for now, jenkins boxes have perl problems"

This reverts commit 6e9d8671bc3dcec4c942c201b0092b4dc46e059d.

Lets see if they are up for the task now.

time:
2015-08-06T22:27:06Z
class:
comments:
fix totally broken batch file. thank you jenkins. windows you still suck.

time:
2015-08-06T22:01:04Z
class:
comments:
disable license checker on windows for now, jenkins boxes have perl problems

time:
2015-08-06T20:28:40Z
class:
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
comments:
Tests: disable randomly-enabled custom data paths to make tests passing against an external cluster.

time:
2015-08-06T19:48:18Z
class:
comments:
Merge pull request #12703 from rmuir/integ_randomization

Support jenkins randomization in integration tests

time:
2015-08-06T19:42:46Z
class:
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
comments:
Only compute scores when necessary with FiltersFunctionScoreQuery.

This was just done with FunctionScoreQuery, but FiltersFunctionScoreQuery works
in a similar way.

time:
2015-08-06T18:51:00Z
class:
core/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/bootstrap/JVMCheck.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
core/src/main/java/org/elasticsearch/script/NativeScriptFactory.java
core/src/main/java/org/elasticsearch/script/SearchScript.java
core/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
core/src/main/java/org/elasticsearch/script/expression/ExpressionSearchScript.java
core/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSource.java
core/src/test/java/org/elasticsearch/benchmark/scripts/expression/NativeScript1.java
core/src/test/java/org/elasticsearch/benchmark/scripts/expression/NativeScript2.java
core/src/test/java/org/elasticsearch/benchmark/scripts/expression/NativeScript3.java
core/src/test/java/org/elasticsearch/benchmark/scripts/expression/NativeScript4.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/script/NativeConstantForLoopScoreScript.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/script/NativeConstantScoreScript.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/script/NativeNaiveTFIDFScoreScript.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/script/NativePayloadSumNoRecordScoreScript.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/script/NativePayloadSumScoreScript.java
core/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteIT.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunctionTests.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/typelevels/ParseMappingTypeLevelTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
core/src/test/java/org/elasticsearch/index/query/CommonTermsQueryParserTest.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptFieldIT.java
core/src/test/java/org/elasticsearch/script/expression/ExpressionScriptTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/script/NativeSignificanceScoreScriptNoParams.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/script/NativeSignificanceScoreScriptWithParams.java
core/src/test/java/org/elasticsearch/search/fields/SearchFieldsIT.java
core/src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptIT.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/update/UpdateByNativeScriptIT.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
plugins/mapper-size/src/main/java/org/elasticsearch/index/mapper/size/RegisterSizeFieldMapper.java
plugins/mapper-size/src/main/java/org/elasticsearch/index/mapper/size/SizeFieldMapper.java
plugins/mapper-size/src/main/java/org/elasticsearch/plugin/mapper/MapperSizeIndexModule.java
plugins/mapper-size/src/main/java/org/elasticsearch/plugin/mapper/MapperSizePlugin.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/MapperSizeRestIT.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/SizeMappingIT.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/SizeMappingTests.java
comments:
Merge branch 'master' into integ_randomization

time:
2015-08-06T18:48:27Z
class:
comments:
Support jenkins randomization in integration tests

time:
2015-08-06T18:36:46Z
class:
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/typelevels/ParseMappingTypeLevelTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
core/src/test/java/org/elasticsearch/search/fields/SearchFieldsIT.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
plugins/mapper-size/src/main/java/org/elasticsearch/index/mapper/size/RegisterSizeFieldMapper.java
plugins/mapper-size/src/main/java/org/elasticsearch/index/mapper/size/SizeFieldMapper.java
plugins/mapper-size/src/main/java/org/elasticsearch/plugin/mapper/MapperSizeIndexModule.java
plugins/mapper-size/src/main/java/org/elasticsearch/plugin/mapper/MapperSizePlugin.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/MapperSizeRestIT.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/SizeMappingIT.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/SizeMappingTests.java
comments:
Merge pull request #12582 from jpountz/plugin/mapper_size

Move the `_size` mapper to a plugin.

time:
2015-08-06T18:35:22Z
class:
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/typelevels/ParseMappingTypeLevelTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
core/src/test/java/org/elasticsearch/search/fields/SearchFieldsIT.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
plugins/mapper-size/src/main/java/org/elasticsearch/index/mapper/size/RegisterSizeFieldMapper.java
plugins/mapper-size/src/main/java/org/elasticsearch/index/mapper/size/SizeFieldMapper.java
plugins/mapper-size/src/main/java/org/elasticsearch/plugin/mapper/MapperSizeIndexModule.java
plugins/mapper-size/src/main/java/org/elasticsearch/plugin/mapper/MapperSizePlugin.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/MapperSizeRestIT.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/SizeMappingIT.java
plugins/mapper-size/src/test/java/org/elasticsearch/index/mapper/size/SizeMappingTests.java
comments:
Move the `_size` mapper to a plugin.

This is one of our esoteric metadata mappers so I think we should distribute
it in a plugin rather than in elasticsearch core.

This introduces one limitation: the value of the `_size` parameter is not
retrievable for documents that are only in the transaction log.

time:
2015-08-06T18:09:42Z
class:
comments:
Docs: Made multi-fields more prominent

time:
2015-08-06T17:07:44Z
class:
core/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java
core/src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
comments:
Merge pull request #12294 from jpountz/fix/multi_match_boost

`multi_match` query applies boosts too many times.

time:
2015-08-06T17:07:12Z
class:
core/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java
core/src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
comments:
`multi_match` query applies boosts too many times.

The `multi_match` query groups terms that have the same analyzer together and
then applies the boost of the first query in each group. This is not necessary
given that boosts for each term are already applied another way.

time:
2015-08-06T17:05:09Z
class:
comments:
Docs: Fixed date format default option

time:
2015-08-06T17:05:00Z
class:
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTest.java
comments:
Tests: Allow unmapped fields in SimpleQueryStringBuilderTest#testDefaultOperatorHandling

time:
2015-08-06T16:59:37Z
class:
comments:
Docs: Fixed typo on string datatype page

time:
2015-08-06T16:52:54Z
class:
comments:
Docs: Removed redundant docs from field datatypes page.

time:
2015-08-06T16:47:18Z
class:
core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java
core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
core/src/main/java/org/elasticsearch/script/NativeScriptFactory.java
core/src/main/java/org/elasticsearch/script/SearchScript.java
core/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
core/src/main/java/org/elasticsearch/script/expression/ExpressionSearchScript.java
core/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSource.java
core/src/test/java/org/elasticsearch/benchmark/scripts/expression/NativeScript1.java
core/src/test/java/org/elasticsearch/benchmark/scripts/expression/NativeScript2.java
core/src/test/java/org/elasticsearch/benchmark/scripts/expression/NativeScript3.java
core/src/test/java/org/elasticsearch/benchmark/scripts/expression/NativeScript4.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/script/NativeConstantForLoopScoreScript.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/script/NativeConstantScoreScript.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/script/NativeNaiveTFIDFScoreScript.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/script/NativePayloadSumNoRecordScoreScript.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/script/NativePayloadSumScoreScript.java
core/src/test/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunctionTests.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptFieldIT.java
core/src/test/java/org/elasticsearch/script/expression/ExpressionScriptTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/script/NativeSignificanceScoreScriptNoParams.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/script/NativeSignificanceScoreScriptWithParams.java
core/src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptIT.java
core/src/test/java/org/elasticsearch/update/UpdateByNativeScriptIT.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
comments:
Merge pull request #12695 from jpountz/enhancement/script_needs_scores

Allow scripts to expose whether they use the `_score`.

time:
2015-08-06T16:44:07Z
class:
comments:
Docs: Reorganised the mapping home page

time:
2015-08-06T16:35:55Z
class:
core/src/main/java/org/elasticsearch/bootstrap/JVMCheck.java
comments:
Merge pull request #12696 from rmuir/better_jvm_check_error

Improve jvmcheck error failure

time:
2015-08-06T16:22:04Z
class:
core/src/main/java/org/elasticsearch/bootstrap/JVMCheck.java
comments:
Improve jvmcheck error failure

Versions can be tricky with linux vendors and such. To help debug any possible issues, we should output a better version.

Today:
```
[elasticsearch] java.lang.RuntimeException: Java version: 1.7.0_55 suffers from critical bug https://bugs.openjdk.java.net/browse/JDK-8024830 which can cause data corruption.
[elasticsearch] Please upgrade the JVM, see http://www.elastic.co/guide/en/elasticsearch/reference/current/_installation.html for current recommendations.
[elasticsearch] If you absolutely cannot upgrade, please add -XX:-UseSuperWord to the JAVA_OPTS environment variable.
[elasticsearch] Upgrading is preferred, this workaround will result in degraded performance.
[elasticsearch]     at org.elasticsearch.bootstrap.JVMCheck.check(JVMCheck.java:121)
[elasticsearch]     at org.elasticsearch.bootstrap.Bootstrap.main(Bootstrap.java:270)
[elasticsearch]     at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:28)
```

With patch:
```
java.lang.RuntimeException: Java version: Oracle Corporation 1.7.0_40 [Java HotSpot(TM) 64-Bit Server VM 24.0-b56] suffers from critical bug https://bugs.openjdk.java.net/browse/JDK-8024830 which can cause data corruption.
Please upgrade the JVM, see http://www.elastic.co/guide/en/elasticsearch/reference/current/_installation.html for current recommendations.
If you absolutely cannot upgrade, please add -XX:-UseSuperWord to the JAVA_OPTS environment variable.
Upgrading is preferred, this workaround will result in degraded performance.
	at org.elasticsearch.bootstrap.JVMCheck.check(JVMCheck.java:121)
	at org.elasticsearch.bootstrap.Bootstrap.main(Bootstrap.java:270)
	at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:28)
```

time:
2015-08-06T16:07:41Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteIT.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
comments:
Merge remote-tracking branch 'dakrone/avoid-extra-reroutes-FP'

time:
2015-08-06T15:49:30Z
class:
comments:
Docs: Date-math should be on common options

time:
2015-08-06T15:25:51Z
class:
core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java
core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
core/src/main/java/org/elasticsearch/script/NativeScriptFactory.java
core/src/main/java/org/elasticsearch/script/SearchScript.java
core/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
core/src/main/java/org/elasticsearch/script/expression/ExpressionSearchScript.java
core/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSource.java
core/src/test/java/org/elasticsearch/benchmark/scripts/expression/NativeScript1.java
core/src/test/java/org/elasticsearch/benchmark/scripts/expression/NativeScript2.java
core/src/test/java/org/elasticsearch/benchmark/scripts/expression/NativeScript3.java
core/src/test/java/org/elasticsearch/benchmark/scripts/expression/NativeScript4.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/script/NativeConstantForLoopScoreScript.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/script/NativeConstantScoreScript.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/script/NativeNaiveTFIDFScoreScript.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/script/NativePayloadSumNoRecordScoreScript.java
core/src/test/java/org/elasticsearch/benchmark/scripts/score/script/NativePayloadSumScoreScript.java
core/src/test/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunctionTests.java
core/src/test/java/org/elasticsearch/script/NativeScriptTests.java
core/src/test/java/org/elasticsearch/script/ScriptFieldIT.java
core/src/test/java/org/elasticsearch/script/expression/ExpressionScriptTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/script/NativeSignificanceScoreScriptNoParams.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/script/NativeSignificanceScoreScriptWithParams.java
core/src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptIT.java
core/src/test/java/org/elasticsearch/update/UpdateByNativeScriptIT.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
comments:
Allow scripts to expose whether they use the `_score`.

This commit adds a new API to allow scripts to say whether they need scores.
In practice, only the `expression` script engine makes use of it correctly,
other engines just return `true` since they can't predict whether they'll
need scores. This should make scripted aggregations and `function_query`
faster as we'll now be able to pass needsScores=false to Query.createWeight.

time:
2015-08-06T15:24:51Z
class:
comments:
Docs: Mapping docs completely rewritten for 2.0

time:
2015-08-06T13:33:29Z
class:
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/test/java/org/elasticsearch/index/query/CommonTermsQueryParserTest.java
comments:
Merge pull request #12691 from jasontedor/fix/12683

Do not track named queries that are null

time:
2015-08-06T13:31:51Z
class:
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/test/java/org/elasticsearch/index/query/CommonTermsQueryParserTest.java
comments:
Do not track named queries that are null

Adding a named query that is null can lead to a NullPointerException
when copying the named queries. This is due to an implementation detail
in QueryParseContent.copyNamedQueries. In particular, this method uses
com.google.common.collect.ImmutableMap.copyOf. A documented requirement
of ImmutableMap is that none of the entries have a null key nor null
value. Therefore, we should not add such queries to the namedQueries
map. This will not change any behavior since Map.get returns null if no
entry with the given key exists anyway.

Closes #12683

time:
2015-08-06T13:14:44Z
class:
core/src/main/java/org/elasticsearch/common/lucene/search/function/BoostScoreFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FieldValueFactorFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/RandomScoreFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/ScoreFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/WeightFactorFunction.java
core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
comments:
Merge pull request #12693 from jpountz/enhancement/speed_up_function_score_query_when_replacing_score

Speed up the `function_score` query when scores are not needed.

time:
2015-08-06T13:09:14Z
class:
core/src/main/java/org/elasticsearch/common/compress/CompressedStreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/FilterStreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/NamedWriteable.java
core/src/main/java/org/elasticsearch/common/io/stream/NamedWriteableAwareStreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/NamedWriteableRegistry.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/EmptyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FQueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FilteredQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/LimitQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryWrappingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsLookupQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/indices/query/IndicesQueriesRegistry.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/transport/local/LocalTransport.java
core/src/main/java/org/elasticsearch/transport/netty/MessageChannelHandler.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/common/io/stream/BytesStreamsTests.java
core/src/test/java/org/elasticsearch/index/query/AndQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/FQueryFilterBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/NotQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/OrQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/QueryFilterBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
comments:
Merge branch 'master' into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/common/io/stream/FilterStreamInput.java
	core/src/main/java/org/elasticsearch/common/io/stream/NamedWriteableRegistry.java
	core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
	core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
	core/src/main/java/org/elasticsearch/transport/netty/MessageChannelHandler.java
	core/src/test/java/org/elasticsearch/common/io/stream/BytesStreamsTests.java
	core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTests.java

time:
2015-08-06T13:04:48Z
class:
core/src/main/java/org/elasticsearch/common/lucene/search/function/BoostScoreFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FieldValueFactorFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/RandomScoreFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/ScoreFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/WeightFactorFunction.java
core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
comments:
Speed up the `function_score` query when scores are not needed.

This change improves the `function_score` query to not compute scores at all
when they are not needed, and to not compute scores on the underlying query
when the combine function is to replace the score with the scores of the
functions.

time:
2015-08-06T12:28:08Z
class:
comments:
Factor out waiting for easier redefinition

time:
2015-08-06T10:56:28Z
class:
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTests.java
core/src/test/java/org/elasticsearch/transport/local/SimpleLocalTransportTests.java
core/src/test/java/org/elasticsearch/transport/netty/SimpleNettyTransportTests.java
comments:
[TEST] add NamedWriteableRegistry argument to AbstractSimpleTransportTests#build method

time:
2015-08-06T10:55:57Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/FilterStreamInput.java
comments:
Make FilterInputStream abstract

time:
2015-08-06T10:25:27Z
class:
core/src/main/java/org/elasticsearch/common/compress/CompressedStreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/FilterStreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/NamedWriteable.java
core/src/main/java/org/elasticsearch/common/io/stream/NamedWriteableAwareStreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/NamedWriteableRegistry.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/transport/TransportModule.java
core/src/main/java/org/elasticsearch/transport/local/LocalTransport.java
core/src/main/java/org/elasticsearch/transport/netty/MessageChannelHandler.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/benchmark/transport/BenchmarkNettyLargeMessages.java
core/src/test/java/org/elasticsearch/benchmark/transport/TransportBenchmark.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffPublishingTests.java
core/src/test/java/org/elasticsearch/common/io/stream/BytesStreamsTests.java
core/src/test/java/org/elasticsearch/discovery/ZenFaultDetectionTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPingIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPingIT.java
core/src/test/java/org/elasticsearch/plugins/PluggableTransportModuleIT.java
core/src/test/java/org/elasticsearch/test/transport/AssertingLocalTransport.java
core/src/test/java/org/elasticsearch/transport/NettySizeHeaderFrameDecoderTests.java
core/src/test/java/org/elasticsearch/transport/local/SimpleLocalTransportTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyScheduledPingTests.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortTests.java
core/src/test/java/org/elasticsearch/transport/netty/SimpleNettyTransportTests.java
comments:
Transport: allow to de-serialize arbitrary objects given their name

This commit makes it possible to serialize arbitrary objects by having them extend Writeable. When reading them though, we need to be able to identify which object we have to create, based on its name. This is useful for queries once we move to parsing on the coordinating node, as well as with aggregations and so on.

Introduced a new abstraction called NamedWriteable, which is supported by StreamOutput and StreamInput through writeNamedWriteable and readNamedWriteable methods. A new NamedWriteableRegistry is introduced also where named writeable prototypes need to be registered so that we are able to retrieve the proper instance of the writeable given its name and then de-serialize it calling readFrom against it.

Closes #12393

time:
2015-08-06T09:14:04Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/cluster/ClusterInfo.java
core/src/main/java/org/elasticsearch/cluster/ClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/EmptyClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
core/src/main/java/org/elasticsearch/common/util/concurrent/EsAbortPolicy.java
core/src/main/java/org/elasticsearch/common/util/concurrent/EsExecutors.java
core/src/main/java/org/elasticsearch/common/util/concurrent/EsRejectedExecutionException.java
core/src/main/java/org/elasticsearch/common/util/concurrent/EsThreadPoolExecutor.java
core/src/main/java/org/elasticsearch/common/util/concurrent/PrioritizedEsThreadPoolExecutor.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/shard/StoreRecoveryService.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySettings.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/DirectCandidateGenerator.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/main/java/org/elasticsearch/transport/local/LocalTransport.java
core/src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/ShardRoutingHelper.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceConfigurationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RandomAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/EsExecutorsTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/PrioritizedExecutorsTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/HDRPercentileRanksIT.java
core/src/test/java/org/elasticsearch/search/suggest/phrase/NoisyChannelSpellCheckerTests.java
core/src/test/java/org/elasticsearch/test/ESAllocationTestCase.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
qa/smoke-test-plugins/src/test/java/org/elasticsearch/smoketest/SmokeTestPluginsIT.java
comments:
Merge branch 'master' into feature/query-refactoring

 Conflicts:
	core/src/main/java/org/elasticsearch/transport/local/LocalTransport.java

time:
2015-08-06T08:35:12Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterInfo.java
core/src/main/java/org/elasticsearch/cluster/ClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/EmptyClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/test/java/org/elasticsearch/cluster/routing/ShardRoutingHelper.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceConfigurationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RandomAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateIT.java
core/src/test/java/org/elasticsearch/test/ESAllocationTestCase.java
comments:
Add unittest for DiskThresholdDecider#getShardSize / #sizeOfRelocatingShards

This commit adds a basic unittest for the shard size routines and simplifies
some object creation.

time:
2015-08-06T02:33:53Z
class:
qa/smoke-test-plugins/src/test/java/org/elasticsearch/smoketest/SmokeTestPluginsIT.java
comments:
Merge pull request #12681 from rmuir/improve_integ2

Get plugin smoketester running in jenkins.

time:
2015-08-06T02:33:30Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
comments:
Merge pull request #12668 from rmuir/configure_script

Add path.scripts directory

time:
2015-08-06T02:08:12Z
class:
comments:
remove annoying maven warning

time:
2015-08-06T01:45:09Z
class:
comments:
cleanup skipping everywhere

time:
2015-08-06T00:34:24Z
class:
comments:
fix/cleanup pidfile stuff

time:
2015-08-06T00:24:36Z
class:
qa/smoke-test-plugins/src/test/java/org/elasticsearch/smoketest/SmokeTestPluginsIT.java
comments:
Get plugin smoketester running in jenkins.

We have a smoke_test_plugins.py, but its a bit slow, not integrated
into our build, etc.

I converted this into an integration test. It is definitely uglier
but more robust and fast (e.g. 20 seconds time to verify).

Also there is refactoring of existing integ tests logic, like printing
out commands we execute and stuff

time:
2015-08-05T20:59:31Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/TransportClusterHealthAction.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteIT.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
comments:
Avoid extra reroutes of delayed shards in RoutingService

In order to avoid extra reroutes, `RoutingService` should avoid
scheduling a reroute of any shards where the delay is negative. To make
sure that we don't encounter a race condition between the
GatewayAllocator thinking a shard is delayed and RoutingService thinking
it is not, the GatewayAllocator will update the RoutingService with the
last time it checked in order to use a consistent "view" of the delay.

Resolves #12456
Relates to #12515 and #12456

time:
2015-08-05T19:30:13Z
class:
core/src/main/java/org/elasticsearch/search/suggest/phrase/DirectCandidateGenerator.java
core/src/test/java/org/elasticsearch/search/suggest/phrase/NoisyChannelSpellCheckerTests.java
comments:
Prevent DirectCandidateGenerator to reuse an unclosed analyzer

When postFilter generates a token that is identical to the input term
DirectCandidateGenerator should not preFilter this token. If postFilter
and preFilter are the same analyzer instance it would fail with :
"TokenStream contract violation: close() call missing"

This is a forward port of @nomoa's #12670

time:
2015-08-05T18:44:56Z
class:
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/shard/StoreRecoveryService.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
comments:
Use explict flag if index should be created on engine creation

Today we try to detect if there is an index existing in the directory
and if not we create one. This can be tricky and errof prone since we
rely on the filesystem without taking the context into account when the
engine gets created. We know in all situations if the index should be created
so we can just use this infromation and rely on the lucene index writer to barf
if we hit a situations where we can't append to an index while we should.

time:
2015-08-05T18:44:10Z
class:
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
comments:
Rethrow exception during recovery finalization even if source if not broken

Today we miss to throw / rethrow an recovery exception if it happens during
the finalization of phase 1 if the source files are not affected. Even worse
this can cause some dataloss if the reason for this exception is a failure of
deleting a corruption marker or similar pre-existing corruptions since we continue
with the recovery and mark the target shared as started which will in-turn open
an engine with an empty index.

time:
2015-08-05T18:29:55Z
class:
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/common/util/concurrent/EsAbortPolicy.java
core/src/main/java/org/elasticsearch/common/util/concurrent/EsExecutors.java
core/src/main/java/org/elasticsearch/common/util/concurrent/EsRejectedExecutionException.java
core/src/main/java/org/elasticsearch/common/util/concurrent/EsThreadPoolExecutor.java
core/src/main/java/org/elasticsearch/common/util/concurrent/PrioritizedEsThreadPoolExecutor.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySettings.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/main/java/org/elasticsearch/transport/local/LocalTransport.java
core/src/test/java/org/elasticsearch/common/util/concurrent/EsExecutorsTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/PrioritizedExecutorsTests.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Merge pull request #12535 from nik9000/fix/9732

Improve toString on EsThreadPoolExecutor

time:
2015-08-05T17:57:28Z
class:
core/src/main/java/org/elasticsearch/common/util/concurrent/EsThreadPoolExecutor.java
core/src/test/java/org/elasticsearch/common/util/concurrent/EsExecutorsTests.java
comments:
Core: Remove nasty hack in toString

This makes the output of EsThreadPoolExecutor#toString less pretty but
we no longer have funky hacky that rely on the specific format of the
toString produced by ThreadPoolExecutor which isn't part of its API and
could change with any JVM version and break the output.

time:
2015-08-05T17:57:28Z
class:
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/common/util/concurrent/EsAbortPolicy.java
core/src/main/java/org/elasticsearch/common/util/concurrent/EsExecutors.java
core/src/main/java/org/elasticsearch/common/util/concurrent/EsRejectedExecutionException.java
core/src/main/java/org/elasticsearch/common/util/concurrent/EsThreadPoolExecutor.java
core/src/main/java/org/elasticsearch/common/util/concurrent/PrioritizedEsThreadPoolExecutor.java
core/src/main/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPing.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySettings.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/main/java/org/elasticsearch/transport/local/LocalTransport.java
core/src/test/java/org/elasticsearch/common/util/concurrent/EsExecutorsTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/PrioritizedExecutorsTests.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Core: Improve toString on EsThreadPoolExecutor

Improving the toString allows for nicer error reporting. Also cleaned up
the way that EsRejectedExecutionException notices that it was rejected
from a shutdown thread pool. I left javadocs about how its not 100% correct
but good enough for most uses.

The improved toString on EsThreadPoolExecutor mean every one of them needs
a name. In most cases the name to use is obvious. In tests I use the name
of the test method and in real thread pools I use the name of the thread
pool. In non-ThreadPool executors I use the thread's name.

Closes #9732

time:
2015-08-05T17:56:58Z
class:
core/src/test/java/org/elasticsearch/common/util/concurrent/EsExecutorsTests.java
comments:
[Tests] Cleanup EsExecutorsTests

* names prefixed with test don't need @Test
* Javadoc describing what it tests

time:
2015-08-05T14:24:50Z
class:
core/src/main/java/org/apache/lucene/queryparser/classic/ExistsFieldQueryExtension.java
core/src/main/java/org/apache/lucene/queryparser/classic/FieldQueryExtension.java
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/apache/lucene/queryparser/classic/MissingFieldQueryExtension.java
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BaseQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BaseQueryParserTemp.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/EmptyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FQueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FilteredQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
core/src/main/java/org/elasticsearch/index/query/LimitQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/QueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryParsingException.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/QueryShardException.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryWrappingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/factor/FactorParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/support/InnerHitsQueryParserHelper.java
core/src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
core/src/main/java/org/elasticsearch/index/query/support/XContentStructure.java
core/src/main/java/org/elasticsearch/index/search/MatchQuery.java
core/src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/GND.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/JLHScore.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/NXYSignificanceHeuristic.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/PercentageScore.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ScriptHeuristic.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsParseElement.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
core/src/main/java/org/elasticsearch/search/sort/SortParseElement.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/index/query/AndQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/BaseTermQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/BoostingQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/CommonTermsQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/ExistsQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/FQueryFilterBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/FilteredQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeTimezoneTests.java
core/src/test/java/org/elasticsearch/index/query/LimitQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/MatchAllQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/MissingQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/NotQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/OrQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/PrefixQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/QueryFilterBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/RegexpQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/ScriptQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/SpanContainingQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/SpanFirstQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/SpanNearQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/SpanNotQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/SpanOrQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/SpanTermQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/SpanWithinQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTest.java
core/src/test/java/org/elasticsearch/index/query/TermQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/TypeQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/WildcardQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
core/src/test/java/org/elasticsearch/index/search/child/AbstractChildTestCase.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/percolator/PercolatorBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
core/src/test/java/org/elasticsearch/validate/SimpleValidateQueryIT.java
comments:
Merge pull request #12527 from cbuescher/feature/query-refactoring-queryCreationContext

Separating QueryParseContext and QueryShardContext

time:
2015-08-05T13:56:42Z
class:
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
comments:
PluginManager: Add Support for basic auth

In order to support the URL notation including a user/pass combination
(like http://user:pass@host/plugin.zip) the auth info needs to be added
manually.

time:
2015-08-05T13:45:43Z
class:
core/src/main/java/org/apache/lucene/queryparser/classic/ExistsFieldQueryExtension.java
core/src/main/java/org/apache/lucene/queryparser/classic/FieldQueryExtension.java
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/apache/lucene/queryparser/classic/MissingFieldQueryExtension.java
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasValidator.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/TypeFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/AbstractQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BaseQueryParser.java
core/src/main/java/org/elasticsearch/index/query/BaseQueryParserTemp.java
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/BoostingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/EmptyQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FQueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FilteredQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
core/src/main/java/org/elasticsearch/index/query/LimitQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchAllQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/QueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryParsingException.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/QueryShardException.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryWrappingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/ScriptQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanFirstQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNearQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanNotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanOrQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanTermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TermQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WildcardQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/DecayFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/ScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/factor/FactorParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/script/ScriptScoreFunctionParser.java
core/src/main/java/org/elasticsearch/index/query/support/InnerHitsQueryParserHelper.java
core/src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
core/src/main/java/org/elasticsearch/index/query/support/XContentStructure.java
core/src/main/java/org/elasticsearch/index/search/MatchQuery.java
core/src/main/java/org/elasticsearch/index/search/MultiMatchQuery.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/GND.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/JLHScore.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/NXYSignificanceHeuristic.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/PercentageScore.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ScriptHeuristic.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsParseElement.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
core/src/main/java/org/elasticsearch/search/sort/SortParseElement.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/index/query/AndQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/BaseTermQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/BoostingQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/CommonTermsQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/DisMaxQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/ExistsQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/FQueryFilterBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/FieldMaskingSpanQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/FilteredQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeTimezoneTests.java
core/src/test/java/org/elasticsearch/index/query/LimitQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/MatchAllQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/MissingQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/NotQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/OrQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/PrefixQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/QueryFilterBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/RangeQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/RegexpQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/ScriptQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/SpanContainingQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/SpanFirstQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/SpanNearQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/SpanNotQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/SpanOrQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/SpanTermQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/SpanWithinQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTest.java
core/src/test/java/org/elasticsearch/index/query/TermQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/TypeQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/WildcardQueryBuilderTest.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
core/src/test/java/org/elasticsearch/index/search/child/AbstractChildTestCase.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/percolator/PercolatorBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
core/src/test/java/org/elasticsearch/validate/SimpleValidateQueryIT.java
comments:
Separating QueryParseContext and QueryShardContext

We are currently splitting the parse() method in the query parsers into a
query parsing part (fromXContent(QueryParseContext)) and a new method that
generates the lucene query (toQuery(QueryParseContext)). At some point we
would like to be able to excute these two steps in different phases, one
on the coordinating node and one on the shards.

This PR tries to anticipate this by renaming the existing QueryParseContext
to QueryShardContext to make it clearer that this context object will provide
the information needed to generate the lucene queries on the shard. A new
QueryParseContext is introduced and all the functionality needed for parsing
the XContent in the request is moved there (parser, helper methods for parsing
inner queries).

While the refactoring is not finished, the new QueryShardContext will expose the
QueryParseContext via the parseContext() method. Also, for the time beeing the
QueryParseContext will contain a link back to the QueryShardContext it wraps, which
eventually will be deleted once the refactoring is done.

Closes #12527
Relates to #10217

time:
2015-08-05T11:58:18Z
class:
comments:
Added pure perl fallback for Digest::SHA for old windows boxes

time:
2015-08-05T11:47:28Z
class:
core/src/test/java/org/elasticsearch/search/aggregations/metrics/HDRPercentileRanksIT.java
comments:
Testing: Removing leftover @AwaitsFix annotation

Since the update to HDRHistogram 2.1.6 this test was
forgotten to get the annotation removed in #12554.

time:
2015-08-05T10:45:52Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
comments:
Add path.scripts directory

Today this is "unofficial" as conf/scripts, but some people
want to share scripts across different nodes and so on. Because
they cannot configure it, they are forced to use dirty hacks
like symbolic links, which isnt going to work: we aren't going
to recursively scan conf/ and add permissions to all link targets
underneath it, thats crazy.

I really hate adding yet another configuration knob here, but
users resorting to using symlinks are going to be frustrated,
and do things in a more insecure way.

time:
2015-08-05T09:46:20Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerUnitTests.java
comments:
PluginManager: Fix elastic.co download URLs, add snapshot ones

The URL to download the main elasticsearch plugins did not match
what the S3 wageon is supposed to write to.

In addition this PR adds support for snapshots to access the
snapshot S3 bucket, so we can possibly download snapshot versions
of plugins.

The format of the URLs stems from #12270

Closes #12632

time:
2015-08-05T09:07:12Z
class:
core/src/main/java/org/elasticsearch/Build.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/ShardUpgradeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
core/src/main/java/org/elasticsearch/common/blobstore/BlobContainer.java
core/src/main/java/org/elasticsearch/common/blobstore/support/AbstractBlobContainer.java
core/src/main/java/org/elasticsearch/common/io/Streams.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/upgrade/RestUpgradeAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/test/java/org/elasticsearch/VersionTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/upgrade/UpgradeIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/upgrade/UpgradeReallyOldIndexIT.java
core/src/test/java/org/elasticsearch/action/bulk/BulkIntegrationIT.java
core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java
core/src/test/java/org/elasticsearch/action/fieldstats/FieldStatsRequestTest.java
core/src/test/java/org/elasticsearch/action/percolate/MultiPercolatorRequestTests.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
core/src/test/java/org/elasticsearch/action/termvectors/TermVectorsUnitTests.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/common/cli/CliToolTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/dynamictemplate/genericstore/GenericStoreDynamicTemplateTests.java
core/src/test/java/org/elasticsearch/index/mapper/dynamictemplate/pathmatch/PathMatchDynamicTemplateTests.java
core/src/test/java/org/elasticsearch/index/mapper/dynamictemplate/simple/SimpleDynamicTemplatesTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/merge/JavaMultiFieldMergeTests.java
core/src/test/java/org/elasticsearch/index/mapper/path/PathMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/simple/SimpleMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterIT.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
core/src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeFormatTests.java
core/src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeTimezoneTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DedicatedAggregationIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/morelikethis/ItemSerializationTests.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/BlobContainerWrapper.java
core/src/test/java/org/elasticsearch/test/StreamsUtils.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/blobstore/S3BlobStore.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-08-05T08:52:56Z
class:
comments:
Updated multi-match-query.asciidoc

Corrected note about which field is boosted in a cross-fields multi_match query.

Relates to #12294

time:
2015-08-05T07:38:42Z
class:
comments:
Release: Update build release script to reflect latest changes

As the script now deploys to S3 and several things in master have
changed, this script needs to reflect the latest changes

* An unsigned RPM is built by default, so that users of older
  RPM based distros can download and use that RPM by default
* In addition a signed RPM is built, that is used for the repositories
* Paths for the new distributions have been fixed
* The check for the number of jars has been removed, as this is done
  as part of the license checking in `mvn verify`
* Checksum generation has been removed, as this is done as part of the
  mvn build
* Publishing artifacts of S3 has been removed
* Repostitory creation script has been updated

time:
2015-08-05T02:52:10Z
class:
comments:
Merge pull request #12660 from rmuir/improve_integ_tests

improve integration tests output when ES cannot be started.

time:
2015-08-05T02:16:30Z
class:
comments:
improve integration tests output when ES cannot be started.

This can happen for a number of reasons, including bugs.
Today you will get a super crappy failure, telling you a .pid file
was not found... you can go look in target/integ-tests/elasticsearch-xxx/logs
and examine the log file, but thats kinda a pain and not easy if its a jenkins
server.

Instead we can fail like this:
```
start-external-cluster-with-plugin:
     [echo] Installing plugin elasticsearch-example-jvm-plugin...
    [mkdir] Created dir: /home/rmuir/workspace/elasticsearch/plugins/jvm-example/target/integ-tests/temp
     [exec] -> Installing elasticsearch-example-jvm-plugin...
     [exec] Plugins directory [/home/rmuir/workspace/elasticsearch/plugins/jvm-example/target/integ-tests/elasticsearch-2.0.0-SNAPSHOT/plugins] does not exist. Creating...
     [exec] Trying file:/home/rmuir/workspace/elasticsearch/plugins/jvm-example/target/releases/elasticsearch-example-jvm-plugin-2.0.0-SNAPSHOT.zip ...
     [exec] Downloading ...........DONE
     [exec] PluginInfo{name='example-jvm-plugin', description='Demonstrates all the pluggable Java entry points in Elasticsearch', site=false, jvm=true, classname=org.elasticsearch.plugin.example.ExampleJvmPlugin, isolated=true, version='2.0.0-SNAPSHOT'}
     [exec] Installed example-jvm-plugin into /home/rmuir/workspace/elasticsearch/plugins/jvm-example/target/integ-tests/elasticsearch-2.0.0-SNAPSHOT/plugins/example-jvm-plugin
     [echo] Starting up external cluster...
     [echo] [2015-08-04 22:02:55,130][INFO ][org.elasticsearch.node   ] [smoke_tester] version[2.0.0-SNAPSHOT], pid[4321], build[e2a47d8/2015-08-05T00:50:08Z]
     [echo] [2015-08-04 22:02:55,130][INFO ][org.elasticsearch.node   ] [smoke_tester] initializing ...
     [echo] [2015-08-04 22:02:55,259][INFO ][org.elasticsearch.plugins] [smoke_tester] loaded [uber-plugin], sites []
     [echo] [2015-08-04 22:02:55,260][ERROR][org.elasticsearch.bootstrap] Exception
     [echo] java.lang.NullPointerException
     [echo] 	at org.elasticsearch.common.settings.Settings$Builder.put(Settings.java:1051)
     [echo] 	at org.elasticsearch.plugins.PluginsService.updatedSettings(PluginsService.java:208)
     [echo] 	at org.elasticsearch.node.Node.<init>(Node.java:148)
     [echo] 	at org.elasticsearch.node.NodeBuilder.build(NodeBuilder.java:157)
     [echo] 	at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:177)
     [echo] 	at org.elasticsearch.bootstrap.Bootstrap.main(Bootstrap.java:272)
     [echo] 	at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:28)
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 25.178 s
[INFO] Finished at: 2015-08-04T22:03:14-05:00
[INFO] Final Memory: 32M/515M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-antrun-plugin:1.8:run (integ-setup) on project elasticsearch-example-jvm-plugin: An Ant BuildException has occured: The following error occurred while executing this line:
[ERROR] /home/rmuir/workspace/elasticsearch/plugins/jvm-example/target/dev-tools/ant/integration-tests.xml:176: The following error occurred while executing this line:
[ERROR] /home/rmuir/workspace/elasticsearch/plugins/jvm-example/target/dev-tools/ant/integration-tests.xml:142: ES instance did not start
```

time:
2015-08-05T00:13:29Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/ShardUpgradeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsClusterStateUpdateRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeSettingsRequestBuilder.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/upgrade/RestUpgradeAction.java
core/src/test/java/org/elasticsearch/action/admin/indices/upgrade/UpgradeIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/upgrade/UpgradeReallyOldIndexIT.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
comments:
Check for incompatible mappings while upgrading old indices

Conflicting mappings that were allowed before v2.0 can cause runaway shard failures on upgrade. This commit adds a check that prevents a cluster from starting if it contains such indices as well as restoring such indices from a snapshot into already running cluster.

Closes #11857

time:
2015-08-04T23:11:01Z
class:
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/blobstore/S3BlobStore.java
comments:
Merge pull request #12498 from xuzha/xu-retry-s3snapshot

Adding retry when checking s3 snapshot repository

time:
2015-08-04T22:58:15Z
class:
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/blobstore/S3BlobStore.java
comments:
Add retry when checking s3 bucket

time:
2015-08-04T20:52:28Z
class:
core/src/main/java/org/elasticsearch/common/blobstore/BlobContainer.java
core/src/main/java/org/elasticsearch/common/blobstore/support/AbstractBlobContainer.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/test/java/org/elasticsearch/snapshots/mockstore/BlobContainerWrapper.java
comments:
Add support for bulk delete operation in snapshot repository

Currently when we delete files belonging to deleted snapshots we issue one delete command to underlying snapshot store at a time. Some repositories can benefit from bulk deletes of multiple files.

Closes #12533

time:
2015-08-04T20:10:59Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/test/java/org/elasticsearch/VersionTests.java
comments:
Merge pull request #12653 from rmuir/look_ma_im_a_snapshot_again

Change master branch back to 2.0-beta1

time:
2015-08-04T19:46:31Z
class:
comments:
Remove obsolete plugins.info_refresh_interval setting

This setting has been removed in  #12367

time:
2015-08-04T19:38:21Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/test/java/org/elasticsearch/VersionTests.java
comments:
Change master branch back to 2.0-beta1

time:
2015-08-04T19:31:31Z
class:
comments:
Change license-check script to work with perl 5.8

time:
2015-08-04T19:25:13Z
class:
comments:
Merge pull request #12584 from whitej17/patch-1

Change capitalization of "as"

time:
2015-08-04T18:45:08Z
class:
comments:
Merge pull request #12647 from loopmachine/nested-type-doc

Update nested-type.asciidoc mapping example

time:
2015-08-04T18:38:52Z
class:
core/src/main/java/org/elasticsearch/action/bulk/BulkProcessor.java
comments:
Update BulkProcessor.java

time:
2015-08-04T18:02:03Z
class:
comments:
Update nested-type.asciidoc mapping example

time:
2015-08-04T17:09:47Z
class:
comments:
Merge pull request #12639 from rmuir/improve_integ

Don't use port 9200/9300 for integration tests

time:
2015-08-04T14:26:38Z
class:
comments:
Merge pull request #12642 from elastic/maven/distribution-groupid

[build] mvn install renames artifacts when copying

time:
2015-08-04T14:00:59Z
class:
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
comments:
Merge branch 'master' into maven/distribution-groupid

time:
2015-08-04T13:59:19Z
class:
comments:
Fix plugins integ dependencies and apply cleanups

time:
2015-08-04T13:57:51Z
class:
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
comments:
Merge pull request #12640 from s1monw/issues/12603

Ignore EngineClosedException on IndexShard#sync

time:
2015-08-04T13:43:17Z
class:
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
comments:
Ignore EngineClosedException on IndexShard#sync

This method syncs the translog unless it's already synced. If the engine
is alreayd closed we are guaranteed to be synced already such that we can just
ignore this exception.

Closes #12603

time:
2015-08-04T13:36:18Z
class:
comments:
Use correct classname in all-signatures.txt

time:
2015-08-04T13:34:11Z
class:
comments:
Packaging: mvn install renames artifacts when copying

This PR:

* renames all distribution artifacts to `elasticsearch` so maven plugins will pick up the correct finalName without needing any hack.
* changes the groupId for every single distribution module as we can't have more than one module using the same groupId:artifactId
* does not attach anymore empty jar files for tar/zip/... modules as they don't contain any `src/main/java` stuff.

When you build it, you end up with:

```
$ tree ~/.m2/repository/org/elasticsearch/distribution
distribution
├── deb
│   └── elasticsearch
│       ├── 2.0.0-beta1-SNAPSHOT
│       │   ├── elasticsearch-2.0.0-beta1-SNAPSHOT.deb
│       │   ├── elasticsearch-2.0.0-beta1-SNAPSHOT.deb.md5
│       │   ├── elasticsearch-2.0.0-beta1-SNAPSHOT.deb.sha1
│       │   ├── elasticsearch-2.0.0-beta1-SNAPSHOT.pom
│       │   ├── elasticsearch-2.0.0-beta1-SNAPSHOT.pom.md5
│       │   └── elasticsearch-2.0.0-beta1-SNAPSHOT.pom.sha1
├── elasticsearch-distribution
│   ├── 2.0.0-beta1-SNAPSHOT
│   │   ├── elasticsearch-distribution-2.0.0-beta1-SNAPSHOT.pom
│   │   ├── elasticsearch-distribution-2.0.0-beta1-SNAPSHOT.pom.md5
│   │   └── elasticsearch-distribution-2.0.0-beta1-SNAPSHOT.pom.sha1
├── fully-loaded
│   └── elasticsearch
│       ├── 2.0.0-beta1-SNAPSHOT
│       │   ├── elasticsearch-2.0.0-beta1-SNAPSHOT.pom
│       │   ├── elasticsearch-2.0.0-beta1-SNAPSHOT.pom.md5
│       │   └── elasticsearch-2.0.0-beta1-SNAPSHOT.pom.sha1
├── rpm
│   └── elasticsearch
│       ├── 2.0.0-beta1-SNAPSHOT
│       │   ├── elasticsearch-2.0.0-beta1-SNAPSHOT.pom
│       │   ├── elasticsearch-2.0.0-beta1-SNAPSHOT.pom.md5
│       │   ├── elasticsearch-2.0.0-beta1-SNAPSHOT.pom.sha1
│       │   ├── elasticsearch-2.0.0-beta1-SNAPSHOT.rpm
│       │   ├── elasticsearch-2.0.0-beta1-SNAPSHOT.rpm.md5
│       │   └── elasticsearch-2.0.0-beta1-SNAPSHOT.rpm.sha1
├── shaded
│   └── elasticsearch
│       ├── 2.0.0-beta1-SNAPSHOT
│       │   ├── elasticsearch-2.0.0-beta1-SNAPSHOT.jar
│       │   ├── elasticsearch-2.0.0-beta1-SNAPSHOT.jar.md5
│       │   ├── elasticsearch-2.0.0-beta1-SNAPSHOT.jar.sha1
│       │   ├── elasticsearch-2.0.0-beta1-SNAPSHOT.pom
│       │   ├── elasticsearch-2.0.0-beta1-SNAPSHOT.pom.md5
│       │   └── elasticsearch-2.0.0-beta1-SNAPSHOT.pom.sha1
├── tar
│   └── elasticsearch
│       ├── 2.0.0-beta1-SNAPSHOT
│       │   ├── elasticsearch-2.0.0-beta1-SNAPSHOT.pom
│       │   ├── elasticsearch-2.0.0-beta1-SNAPSHOT.pom.md5
│       │   ├── elasticsearch-2.0.0-beta1-SNAPSHOT.pom.sha1
│       │   ├── elasticsearch-2.0.0-beta1-SNAPSHOT.tar.gz
│       │   ├── elasticsearch-2.0.0-beta1-SNAPSHOT.tar.gz.md5
│       │   └── elasticsearch-2.0.0-beta1-SNAPSHOT.tar.gz.sha1
└── zip
    └── elasticsearch
        └── 2.0.0-beta1-SNAPSHOT
            ├── elasticsearch-2.0.0-beta1-SNAPSHOT.pom
            ├── elasticsearch-2.0.0-beta1-SNAPSHOT.pom.md5
            ├── elasticsearch-2.0.0-beta1-SNAPSHOT.pom.sha1
            ├── elasticsearch-2.0.0-beta1-SNAPSHOT.zip
            ├── elasticsearch-2.0.0-beta1-SNAPSHOT.zip.md5
            ├── elasticsearch-2.0.0-beta1-SNAPSHOT.zip.sha1
            └──
```

Closes #12536

time:
2015-08-04T13:25:44Z
class:
comments:
Don't use port 9200/9300 for integration tests

time:
2015-08-04T13:05:38Z
class:
comments:
Merge pull request #12610 from nik9000/bug/12504_2.0

Plugin script: Fix spaces

time:
2015-08-04T13:00:50Z
class:
comments:
Added missing dependency to check-license script

time:
2015-08-04T12:54:43Z
class:
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
comments:
Merge pull request #12636 from s1monw/forbid_default_timezone

Use UTC instead of default timezone for creation date in CAT endpoint

time:
2015-08-04T12:38:23Z
class:
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
comments:
Use UTC instead of default timezone for creation date in CAT endpoint

this change was added recently which uses default timezone for the creation
date on CAT endpoints. We should be consistent and use UTC across the board.
This commit adds #getDefaultTimzone() to forbidden API and fixes the REST tests.

Relates to #11688

time:
2015-08-04T12:17:57Z
class:
comments:
Merge pull request #12631 from clintongormley/license_check_for_dirs

The check-license script now accepts either a directory or a .zip file only

Closes #12528

time:
2015-08-04T11:54:55Z
class:
comments:
Fix distribution checks to pass unzipped directory to license checker

time:
2015-08-04T11:07:58Z
class:
comments:
The check-license script now accepts either a directory or a .zip file only

Called as:

    check_license_and_sha.pl --check path/to/licenses path/to/extracted/package/

or

    check_license_and_sha.pl --check path/to/licenses path/to/file.zip

time:
2015-08-04T09:09:30Z
class:
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/BaseTermQueryTestCase.java
comments:
Remove forbidden @Ignore on base test cases

time:
2015-08-04T08:57:12Z
class:
core/src/test/java/org/elasticsearch/index/query/BaseQueryTestCase.java
comments:
Adapted BaseQueryTestCase to renanming of parant class to ESTestCase

time:
2015-08-04T08:54:12Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/test/java/org/elasticsearch/VersionTests.java
comments:
Cut over master to 2.0.0-SNAPSHOT

time:
2015-08-04T08:53:19Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/Elasticsearch.java
core/src/main/java/org/elasticsearch/bootstrap/ElasticsearchF.java
core/src/main/java/org/elasticsearch/bootstrap/JarHell.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/common/util/concurrent/PrioritizedEsThreadPoolExecutor.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhaseContext.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhaseModule.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhaseParseElement.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsContext.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsParseElement.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
core/src/test/java/org/apache/lucene/analysis/miscellaneous/TruncateTokenFilterTests.java
core/src/test/java/org/apache/lucene/analysis/miscellaneous/UniqueTokenFilterTests.java
core/src/test/java/org/apache/lucene/queries/BlendedTermQueryTest.java
core/src/test/java/org/apache/lucene/search/postingshighlight/CustomPassageFormatterTests.java
core/src/test/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighterTests.java
core/src/test/java/org/apache/lucene/search/postingshighlight/CustomSeparatorBreakIteratorTests.java
core/src/test/java/org/apache/lucene/util/SloppyMathTests.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/NamingConventionTests.java
core/src/test/java/org/elasticsearch/VersionTests.java
core/src/test/java/org/elasticsearch/action/IndicesRequestIT.java
core/src/test/java/org/elasticsearch/action/ListenerActionIT.java
core/src/test/java/org/elasticsearch/action/OriginalIndicesTests.java
core/src/test/java/org/elasticsearch/action/RejectionActionIT.java
core/src/test/java/org/elasticsearch/action/admin/HotThreadsIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/repositories/RepositoryBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/snapshots/SnapshotBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequestTest.java
core/src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/tasks/PendingTasksBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequestBuilderTest.java
core/src/test/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/flush/FlushBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/get/GetIndexIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequestTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/optimize/OptimizeBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/refresh/RefreshBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsRequestTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreRequestIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreResponseTest.java
core/src/test/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerRequestTests.java
core/src/test/java/org/elasticsearch/action/bulk/BulkIntegrationIT.java
core/src/test/java/org/elasticsearch/action/bulk/BulkProcessorClusterSettingsIT.java
core/src/test/java/org/elasticsearch/action/bulk/BulkProcessorIT.java
core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java
core/src/test/java/org/elasticsearch/action/count/CountRequestBuilderTests.java
core/src/test/java/org/elasticsearch/action/count/CountRequestTests.java
core/src/test/java/org/elasticsearch/action/count/CountResponseTests.java
core/src/test/java/org/elasticsearch/action/fieldstats/FieldStatsRequestTest.java
core/src/test/java/org/elasticsearch/action/get/MultiGetShardRequestTests.java
core/src/test/java/org/elasticsearch/action/index/IndexRequestBuilderTest.java
core/src/test/java/org/elasticsearch/action/index/IndexRequestTests.java
core/src/test/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequestTests.java
core/src/test/java/org/elasticsearch/action/percolate/MultiPercolatorRequestTests.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
core/src/test/java/org/elasticsearch/action/search/SearchRequestBuilderTests.java
core/src/test/java/org/elasticsearch/action/support/IndicesOptionsTests.java
core/src/test/java/org/elasticsearch/action/support/ListenableActionFutureTests.java
core/src/test/java/org/elasticsearch/action/support/TransportActionFilterChainTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
core/src/test/java/org/elasticsearch/action/termvectors/AbstractTermVectorsTestCase.java
core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsCheckDocFreqIT.java
core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsIT.java
core/src/test/java/org/elasticsearch/action/termvectors/MultiTermVectorsIT.java
core/src/test/java/org/elasticsearch/action/termvectors/TermVectorsUnitTests.java
core/src/test/java/org/elasticsearch/action/update/UpdateRequestTests.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java
core/src/test/java/org/elasticsearch/benchmark/cluster/ClusterAllocationRerouteBenchmark.java
core/src/test/java/org/elasticsearch/blocks/SimpleBlocksIT.java
core/src/test/java/org/elasticsearch/bootstrap/JNANativesTests.java
core/src/test/java/org/elasticsearch/bootstrap/JarHellTests.java
core/src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
core/src/test/java/org/elasticsearch/broadcast/BroadcastActionsIT.java
core/src/test/java/org/elasticsearch/bwcompat/BasicAnalysisBackwardCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/BasicBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/ClusterStateBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/bwcompat/GetIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/NodesStatsBasicBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/RecoveryWithUnsupportedIndicesIT.java
core/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/bwcompat/StaticIndexBackwardCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/TransportClientBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/UnicastBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/client/AbstractClientHeadersTests.java
core/src/test/java/org/elasticsearch/client/node/NodeClientIT.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientIT.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientRetryIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterHealthIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffPublishingTests.java
core/src/test/java/org/elasticsearch/cluster/DiskUsageTests.java
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/NoMasterNodeIT.java
core/src/test/java/org/elasticsearch/cluster/SimpleClusterStateIT.java
core/src/test/java/org/elasticsearch/cluster/SimpleDataNodesIT.java
core/src/test/java/org/elasticsearch/cluster/SpecificMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/UpdateSettingsValidationIT.java
core/src/test/java/org/elasticsearch/cluster/ack/AckClusterUpdateSettingsIT.java
core/src/test/java/org/elasticsearch/cluster/ack/AckIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/AwarenessAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/FilteringAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/ShardsAllocatorModuleIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/SimpleAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/block/ClusterBlockTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/DateMathExpressionResolverTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/HumanReadableIndexSettingsTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolverTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/MappingMetaDataParserTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/ToAndFromJsonMetaDataTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/WildcardExpressionResolverTests.java
core/src/test/java/org/elasticsearch/cluster/node/DiscoveryNodeFiltersTests.java
core/src/test/java/org/elasticsearch/cluster/routing/AllocationIdTests.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityUponUpgradeIT.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingTableTest.java
core/src/test/java/org/elasticsearch/cluster/routing/ShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/TestShardRouting.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AddIncrementallyTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AwarenessAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceConfigurationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceUnbalancedClusterTest.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/CatAllocationTestCase.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ClusterRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ConcurrentRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/DeadNodesAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/DisableAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ElectReplicaAsPrimaryDuringRelocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedNodeRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FilterRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/IndexBalanceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/NodeVersionAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferLocalPrimariesToRelocatingPrimariesTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferPrimaryAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PrimaryElectionRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PrimaryNotRelocatedWhileBeingRecoveredTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RandomAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RebalanceAfterActiveTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ReplicaAllocatedAfterPrimaryTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RoutingNodesIntegrityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SameShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardVersioningTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardsLimitAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardNoReplicasRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardOneReplicaRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/StartedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/TenShardsOneReplicaRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ThrottlingAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/UpdateNumberOfReplicasTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationDeciderIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/cluster/routing/operation/hash/murmur3/Murmur3HashFunctionTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/ClusterStateToStringTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/DiffableTests.java
core/src/test/java/org/elasticsearch/cluster/settings/ClusterSettingsIT.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsFilteringIT.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsValidatorTests.java
core/src/test/java/org/elasticsearch/cluster/shards/ClusterSearchShardsIT.java
core/src/test/java/org/elasticsearch/cluster/structure/RoutingIteratorTests.java
core/src/test/java/org/elasticsearch/codecs/CodecTests.java
core/src/test/java/org/elasticsearch/common/Base64Test.java
core/src/test/java/org/elasticsearch/common/BooleansTests.java
core/src/test/java/org/elasticsearch/common/ChannelsTests.java
core/src/test/java/org/elasticsearch/common/ParseFieldTests.java
core/src/test/java/org/elasticsearch/common/PidFileTests.java
core/src/test/java/org/elasticsearch/common/StringsTests.java
core/src/test/java/org/elasticsearch/common/TableTests.java
core/src/test/java/org/elasticsearch/common/UUIDTests.java
core/src/test/java/org/elasticsearch/common/blobstore/BlobStoreTest.java
core/src/test/java/org/elasticsearch/common/breaker/MemoryCircuitBreakerTests.java
core/src/test/java/org/elasticsearch/common/bytes/BytesReferenceTests.java
core/src/test/java/org/elasticsearch/common/bytes/PagedBytesReferenceTest.java
core/src/test/java/org/elasticsearch/common/cli/CheckFileCommandTests.java
core/src/test/java/org/elasticsearch/common/cli/CliToolTestCase.java
core/src/test/java/org/elasticsearch/common/collect/CopyOnWriteHashMapTests.java
core/src/test/java/org/elasticsearch/common/collect/CopyOnWriteHashSetTests.java
core/src/test/java/org/elasticsearch/common/compress/AbstractCompressedStreamTests.java
core/src/test/java/org/elasticsearch/common/compress/AbstractCompressedXContentTests.java
core/src/test/java/org/elasticsearch/common/compress/lzf/CorruptedCompressorTests.java
core/src/test/java/org/elasticsearch/common/geo/GeoHashTests.java
core/src/test/java/org/elasticsearch/common/geo/GeoJSONShapeParserTests.java
core/src/test/java/org/elasticsearch/common/geo/ShapeBuilderTests.java
core/src/test/java/org/elasticsearch/common/hashing/MurmurHash3Tests.java
core/src/test/java/org/elasticsearch/common/hppc/HppcMapsTests.java
core/src/test/java/org/elasticsearch/common/io/FileSystemUtilsTests.java
core/src/test/java/org/elasticsearch/common/io/StreamsTests.java
core/src/test/java/org/elasticsearch/common/io/streams/BytesStreamsTests.java
core/src/test/java/org/elasticsearch/common/joda/DateMathParserTests.java
core/src/test/java/org/elasticsearch/common/logging/jdk/JDKESLoggerTests.java
core/src/test/java/org/elasticsearch/common/logging/log4j/Log4jESLoggerTests.java
core/src/test/java/org/elasticsearch/common/logging/log4j/LoggingConfigurationTests.java
core/src/test/java/org/elasticsearch/common/lucene/IndexCacheableQueryTests.java
core/src/test/java/org/elasticsearch/common/lucene/LuceneTest.java
core/src/test/java/org/elasticsearch/common/lucene/ShardCoreKeyMapTests.java
core/src/test/java/org/elasticsearch/common/lucene/all/SimpleAllTests.java
core/src/test/java/org/elasticsearch/common/lucene/index/ESDirectoryReaderTests.java
core/src/test/java/org/elasticsearch/common/lucene/index/FreqTermsEnumTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQueryTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunctionTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/morelikethis/MoreLikeThisQueryTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/morelikethis/XMoreLikeThisTests.java
core/src/test/java/org/elasticsearch/common/lucene/store/ByteArrayIndexInputTests.java
core/src/test/java/org/elasticsearch/common/lucene/store/InputStreamIndexInputTests.java
core/src/test/java/org/elasticsearch/common/lucene/uid/VersionsTests.java
core/src/test/java/org/elasticsearch/common/math/MathUtilsTests.java
core/src/test/java/org/elasticsearch/common/path/PathTrieTests.java
core/src/test/java/org/elasticsearch/common/property/PropertyPlaceholderTest.java
core/src/test/java/org/elasticsearch/common/recycler/AbstractRecyclerTests.java
core/src/test/java/org/elasticsearch/common/regex/RegexTests.java
core/src/test/java/org/elasticsearch/common/rounding/RoundingTests.java
core/src/test/java/org/elasticsearch/common/rounding/TimeZoneRoundingTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsFilterTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/JsonSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/YamlSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/unit/ByteSizeUnitTests.java
core/src/test/java/org/elasticsearch/common/unit/ByteSizeValueTests.java
core/src/test/java/org/elasticsearch/common/unit/DistanceUnitTests.java
core/src/test/java/org/elasticsearch/common/unit/FuzzinessTests.java
core/src/test/java/org/elasticsearch/common/unit/RatioValueTests.java
core/src/test/java/org/elasticsearch/common/unit/SizeValueTests.java
core/src/test/java/org/elasticsearch/common/unit/TimeValueTests.java
core/src/test/java/org/elasticsearch/common/util/ArrayUtilsTests.java
core/src/test/java/org/elasticsearch/common/util/BigArraysTests.java
core/src/test/java/org/elasticsearch/common/util/ByteUtilsTests.java
core/src/test/java/org/elasticsearch/common/util/BytesRefHashTests.java
core/src/test/java/org/elasticsearch/common/util/CancellableThreadsTest.java
core/src/test/java/org/elasticsearch/common/util/CollectionUtilsTests.java
core/src/test/java/org/elasticsearch/common/util/LongHashTests.java
core/src/test/java/org/elasticsearch/common/util/LongObjectHashMapTests.java
core/src/test/java/org/elasticsearch/common/util/MultiDataPathUpgraderTests.java
core/src/test/java/org/elasticsearch/common/util/SingleObjectCacheTests.java
core/src/test/java/org/elasticsearch/common/util/URIPatternTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/CountDownTest.java
core/src/test/java/org/elasticsearch/common/util/concurrent/EsExecutorsTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/PrioritizedExecutorsTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/RefCountedTest.java
core/src/test/java/org/elasticsearch/common/xcontent/XContentFactoryTests.java
core/src/test/java/org/elasticsearch/common/xcontent/builder/BuilderRawFieldTests.java
core/src/test/java/org/elasticsearch/common/xcontent/builder/XContentBuilderTests.java
core/src/test/java/org/elasticsearch/common/xcontent/cbor/CborXContentParserTests.java
core/src/test/java/org/elasticsearch/common/xcontent/cbor/JsonVsCborTests.java
core/src/test/java/org/elasticsearch/common/xcontent/smile/JsonVsSmileTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/XContentHelperTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/XContentMapValuesTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/filtering/AbstractFilteringJsonGeneratorTests.java
core/src/test/java/org/elasticsearch/consistencylevel/WriteConsistencyLevelIT.java
core/src/test/java/org/elasticsearch/count/simple/SimpleCountIT.java
core/src/test/java/org/elasticsearch/deps/jackson/JacksonLocationTests.java
core/src/test/java/org/elasticsearch/deps/joda/SimpleJodaTests.java
core/src/test/java/org/elasticsearch/deps/lucene/SimpleLuceneTests.java
core/src/test/java/org/elasticsearch/deps/lucene/VectorHighlighterTests.java
core/src/test/java/org/elasticsearch/discovery/BlockingClusterStatePublishResponseHandlerTests.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/discovery/ZenFaultDetectionTests.java
core/src/test/java/org/elasticsearch/discovery/ZenUnicastDiscoveryIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ElectMasterServiceTest.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryUnitTest.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenPingTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPingIT.java
comments:
Merge branch 'master' into feature/query-refactoring

 Conflicts:
	core/src/test/java/org/elasticsearch/common/io/streams/BytesStreamsTests.java
	core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
	core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
	core/src/test/java/org/elasticsearch/test/transport/AssertingLocalTransport.java

time:
2015-08-04T08:11:18Z
class:
core/src/main/java/org/elasticsearch/Build.java
core/src/main/java/org/elasticsearch/common/io/Streams.java
core/src/test/java/org/elasticsearch/action/bulk/BulkIntegrationIT.java
core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java
core/src/test/java/org/elasticsearch/action/fieldstats/FieldStatsRequestTest.java
core/src/test/java/org/elasticsearch/action/percolate/MultiPercolatorRequestTests.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
core/src/test/java/org/elasticsearch/action/termvectors/TermVectorsUnitTests.java
core/src/test/java/org/elasticsearch/common/cli/CliToolTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/dynamictemplate/genericstore/GenericStoreDynamicTemplateTests.java
core/src/test/java/org/elasticsearch/index/mapper/dynamictemplate/pathmatch/PathMatchDynamicTemplateTests.java
core/src/test/java/org/elasticsearch/index/mapper/dynamictemplate/simple/SimpleDynamicTemplatesTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/merge/JavaMultiFieldMergeTests.java
core/src/test/java/org/elasticsearch/index/mapper/path/PathMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/simple/SimpleMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterIT.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingTests.java
core/src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeFormatTests.java
core/src/test/java/org/elasticsearch/index/query/IndexQueryParserFilterDateRangeTimezoneTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DedicatedAggregationIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/morelikethis/ItemSerializationTests.java
core/src/test/java/org/elasticsearch/test/StreamsUtils.java
comments:
Move Streams.copyTo(String|Bytes)FromClasspath() into StreamsUtils

The Streams.copyTo(String|Bytes)FromClasspath() methods resolve resources using org.elasticsearch.io.Streams classloader. This is fine in elasticsearch core and when running tests but if used in a plugin this can lead to FileNotFoundExceptions at runtime because plugin are loaded in a dedicated classloader.

time:
2015-08-04T08:00:46Z
class:
core/src/main/java/org/elasticsearch/common/util/concurrent/PrioritizedEsThreadPoolExecutor.java
comments:
Merge pull request #12599 from jpountz/fix/PrioritizedEsThreadPoolExecutor_concurrency

Fix concurrency issue in PrioritizedEsThreadPoolExecutor.

time:
2015-08-04T07:54:32Z
class:
comments:
Merge pull request #12590 from Kakakakakku/fix-doc

Fixed official api name in docs

time:
2015-08-04T03:58:19Z
class:
core/src/test/java/org/elasticsearch/test/rest/client/RestResponse.java
plugins/site-example/src/test/java/org/elasticsearch/example/SiteContentsIT.java
comments:
Merge pull request #12627 from rmuir/improve_site_integ_test

Improve site-example integ test to test served contents.

time:
2015-08-04T03:57:27Z
class:
plugins/site-example/src/test/java/org/elasticsearch/example/SiteContentsIT.java
comments:
fix typo in assume() when running from IDE

time:
2015-08-04T03:56:48Z
class:
comments:
Merge pull request #12626 from rmuir/fix_coverage_analysis

Fix coverage analysis. Two versions of jacoco were being used and creating jar hell

time:
2015-08-04T03:47:36Z
class:
core/src/test/java/org/elasticsearch/test/rest/client/RestResponse.java
plugins/site-example/src/test/java/org/elasticsearch/example/SiteContentsIT.java
comments:
Improve site-example integ test to test served contents.

Closes #12578

time:
2015-08-04T03:08:18Z
class:
comments:
Fix coverage analysis. Two versions of jacoco were being used and creating jar hell

time:
2015-08-04T02:47:24Z
class:
core/src/test/java/org/elasticsearch/common/compress/AbstractCompressedStreamTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractStringFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/DuelFieldDataTests.java
comments:
tone down these stress tests

time:
2015-08-04T01:57:14Z
class:
core/src/test/java/org/elasticsearch/NamingConventionTests.java
core/src/test/java/org/elasticsearch/nodesinfo/SimpleNodesInfoIT.java
core/src/test/java/org/elasticsearch/snapshots/BlobStoreFormatIT.java
core/src/test/java/org/elasticsearch/snapshots/RepositoriesIT.java
comments:
Merge pull request #12625 from rmuir/git_sucks

NamingConventionTests should test subclasses of ESIntegTestCase end with IT

time:
2015-08-04T01:56:43Z
class:
distribution/rpm/src/test/java/org/elasticsearch/test/rest/RestIT.java
comments:
Fix missed test class

time:
2015-08-04T01:34:53Z
class:
core/src/test/java/org/elasticsearch/NamingConventionTests.java
core/src/test/java/org/elasticsearch/nodesinfo/SimpleNodesInfoIT.java
core/src/test/java/org/elasticsearch/snapshots/BlobStoreFormatIT.java
core/src/test/java/org/elasticsearch/snapshots/RepositoriesIT.java
comments:
NamingConventionTests should test subclasses of ESIntegTestCase end with IT

These are integration tests.

time:
2015-08-04T01:19:51Z
class:
core/src/test/java/org/elasticsearch/action/termvectors/AbstractTermVectorsTestCase.java
core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsIT.java
core/src/test/java/org/elasticsearch/action/termvectors/MultiTermVectorsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/AbstractTermsTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DoubleTermsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/LongTermsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/MinDocCountIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ShardSizeTermsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/StringTermsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AbstractNumericTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ExtendedStatsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/HDRPercentileRanksIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/HDRPercentilesIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/MaxIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/MinIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/StatsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TDigestPercentileRanksIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TDigestPercentilesIT.java
comments:
Merge pull request #12624 from rmuir/faster_unit_tests

cleanup more abstract test class -> TestCase and integ -> IT

time:
2015-08-04T01:07:21Z
class:
core/src/test/java/org/elasticsearch/action/termvectors/AbstractTermVectorsTestCase.java
core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsIT.java
core/src/test/java/org/elasticsearch/action/termvectors/MultiTermVectorsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/AbstractTermsTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DoubleTermsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/LongTermsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/MinDocCountIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ShardSizeTermsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/StringTermsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AbstractNumericTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ExtendedStatsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/HDRPercentileRanksIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/HDRPercentilesIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/MaxIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/MinIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/StatsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/SumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TDigestPercentileRanksIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TDigestPercentilesIT.java
comments:
cleanup more abstract test class -> TestCase and integ -> IT

time:
2015-08-04T00:51:07Z
class:
core/src/test/java/org/apache/lucene/analysis/miscellaneous/TruncateTokenFilterTests.java
core/src/test/java/org/apache/lucene/analysis/miscellaneous/UniqueTokenFilterTests.java
core/src/test/java/org/apache/lucene/queries/BlendedTermQueryTest.java
core/src/test/java/org/apache/lucene/search/postingshighlight/CustomPassageFormatterTests.java
core/src/test/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighterTests.java
core/src/test/java/org/apache/lucene/search/postingshighlight/CustomSeparatorBreakIteratorTests.java
core/src/test/java/org/apache/lucene/util/SloppyMathTests.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/NamingConventionTests.java
core/src/test/java/org/elasticsearch/VersionTests.java
core/src/test/java/org/elasticsearch/action/IndicesRequestIT.java
core/src/test/java/org/elasticsearch/action/ListenerActionIT.java
core/src/test/java/org/elasticsearch/action/OriginalIndicesTests.java
core/src/test/java/org/elasticsearch/action/RejectionActionIT.java
core/src/test/java/org/elasticsearch/action/admin/HotThreadsIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/repositories/RepositoryBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/snapshots/SnapshotBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequestTest.java
core/src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/tasks/PendingTasksBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequestBuilderTest.java
core/src/test/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/flush/FlushBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/get/GetIndexIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequestTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/optimize/OptimizeBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/refresh/RefreshBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsRequestTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreRequestIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreResponseTest.java
core/src/test/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerRequestTests.java
core/src/test/java/org/elasticsearch/action/bulk/BulkIntegrationIT.java
core/src/test/java/org/elasticsearch/action/bulk/BulkProcessorClusterSettingsIT.java
core/src/test/java/org/elasticsearch/action/bulk/BulkProcessorIT.java
core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java
core/src/test/java/org/elasticsearch/action/count/CountRequestBuilderTests.java
core/src/test/java/org/elasticsearch/action/count/CountRequestTests.java
core/src/test/java/org/elasticsearch/action/count/CountResponseTests.java
core/src/test/java/org/elasticsearch/action/fieldstats/FieldStatsRequestTest.java
core/src/test/java/org/elasticsearch/action/get/MultiGetShardRequestTests.java
core/src/test/java/org/elasticsearch/action/index/IndexRequestBuilderTest.java
core/src/test/java/org/elasticsearch/action/index/IndexRequestTests.java
core/src/test/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequestTests.java
core/src/test/java/org/elasticsearch/action/percolate/MultiPercolatorRequestTests.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
core/src/test/java/org/elasticsearch/action/search/SearchRequestBuilderTests.java
core/src/test/java/org/elasticsearch/action/support/IndicesOptionsTests.java
core/src/test/java/org/elasticsearch/action/support/ListenableActionFutureTests.java
core/src/test/java/org/elasticsearch/action/support/TransportActionFilterChainTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
core/src/test/java/org/elasticsearch/action/termvectors/AbstractTermVectorsTests.java
core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsCheckDocFreqIT.java
core/src/test/java/org/elasticsearch/action/termvectors/TermVectorsUnitTests.java
core/src/test/java/org/elasticsearch/action/update/UpdateRequestTests.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java
core/src/test/java/org/elasticsearch/benchmark/cluster/ClusterAllocationRerouteBenchmark.java
core/src/test/java/org/elasticsearch/blocks/SimpleBlocksIT.java
core/src/test/java/org/elasticsearch/bootstrap/JNANativesTests.java
core/src/test/java/org/elasticsearch/bootstrap/JarHellTests.java
core/src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
core/src/test/java/org/elasticsearch/broadcast/BroadcastActionsIT.java
core/src/test/java/org/elasticsearch/bwcompat/BasicAnalysisBackwardCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/BasicBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/ClusterStateBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/bwcompat/GetIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/NodesStatsBasicBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/bwcompat/StaticIndexBackwardCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/TransportClientBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/UnicastBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/client/AbstractClientHeadersTests.java
core/src/test/java/org/elasticsearch/client/node/NodeClientIT.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientIT.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientRetryIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterHealthIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffPublishingTests.java
core/src/test/java/org/elasticsearch/cluster/DiskUsageTests.java
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/NoMasterNodeIT.java
core/src/test/java/org/elasticsearch/cluster/SimpleClusterStateIT.java
core/src/test/java/org/elasticsearch/cluster/SimpleDataNodesIT.java
core/src/test/java/org/elasticsearch/cluster/SpecificMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/UpdateSettingsValidationIT.java
core/src/test/java/org/elasticsearch/cluster/ack/AckClusterUpdateSettingsIT.java
core/src/test/java/org/elasticsearch/cluster/ack/AckIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/AwarenessAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/FilteringAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/ShardsAllocatorModuleIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/SimpleAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/block/ClusterBlockTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/DateMathExpressionResolverTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/HumanReadableIndexSettingsTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolverTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/MappingMetaDataParserTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/ToAndFromJsonMetaDataTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/WildcardExpressionResolverTests.java
core/src/test/java/org/elasticsearch/cluster/node/DiscoveryNodeFiltersTests.java
core/src/test/java/org/elasticsearch/cluster/routing/AllocationIdTests.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityUponUpgradeIT.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingTableTest.java
core/src/test/java/org/elasticsearch/cluster/routing/ShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/TestShardRouting.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AddIncrementallyTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AwarenessAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceConfigurationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceUnbalancedClusterTest.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/CatAllocationTestCase.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ClusterRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ConcurrentRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/DeadNodesAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/DisableAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ElectReplicaAsPrimaryDuringRelocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedNodeRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FilterRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/IndexBalanceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/NodeVersionAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferLocalPrimariesToRelocatingPrimariesTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferPrimaryAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PrimaryElectionRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PrimaryNotRelocatedWhileBeingRecoveredTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RandomAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RebalanceAfterActiveTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ReplicaAllocatedAfterPrimaryTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RoutingNodesIntegrityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SameShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardVersioningTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardsLimitAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardNoReplicasRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardOneReplicaRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/StartedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/TenShardsOneReplicaRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ThrottlingAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/UpdateNumberOfReplicasTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationDeciderIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/cluster/routing/operation/hash/murmur3/Murmur3HashFunctionTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/ClusterStateToStringTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/DiffableTests.java
core/src/test/java/org/elasticsearch/cluster/settings/ClusterSettingsIT.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsFilteringIT.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsValidatorTests.java
core/src/test/java/org/elasticsearch/cluster/shards/ClusterSearchShardsIT.java
core/src/test/java/org/elasticsearch/cluster/structure/RoutingIteratorTests.java
core/src/test/java/org/elasticsearch/codecs/CodecTests.java
core/src/test/java/org/elasticsearch/common/Base64Test.java
core/src/test/java/org/elasticsearch/common/BooleansTests.java
core/src/test/java/org/elasticsearch/common/ChannelsTests.java
core/src/test/java/org/elasticsearch/common/ParseFieldTests.java
core/src/test/java/org/elasticsearch/common/PidFileTests.java
core/src/test/java/org/elasticsearch/common/StringsTests.java
core/src/test/java/org/elasticsearch/common/TableTests.java
core/src/test/java/org/elasticsearch/common/UUIDTests.java
core/src/test/java/org/elasticsearch/common/blobstore/BlobStoreTest.java
core/src/test/java/org/elasticsearch/common/breaker/MemoryCircuitBreakerTests.java
core/src/test/java/org/elasticsearch/common/bytes/BytesReferenceTests.java
core/src/test/java/org/elasticsearch/common/bytes/PagedBytesReferenceTest.java
core/src/test/java/org/elasticsearch/common/cli/CheckFileCommandTests.java
core/src/test/java/org/elasticsearch/common/cli/CliToolTestCase.java
core/src/test/java/org/elasticsearch/common/collect/CopyOnWriteHashMapTests.java
core/src/test/java/org/elasticsearch/common/collect/CopyOnWriteHashSetTests.java
core/src/test/java/org/elasticsearch/common/compress/AbstractCompressedStreamTests.java
core/src/test/java/org/elasticsearch/common/compress/AbstractCompressedXContentTests.java
core/src/test/java/org/elasticsearch/common/compress/lzf/CorruptedCompressorTests.java
core/src/test/java/org/elasticsearch/common/geo/GeoHashTests.java
core/src/test/java/org/elasticsearch/common/geo/GeoJSONShapeParserTests.java
core/src/test/java/org/elasticsearch/common/geo/ShapeBuilderTests.java
core/src/test/java/org/elasticsearch/common/hashing/MurmurHash3Tests.java
core/src/test/java/org/elasticsearch/common/hppc/HppcMapsTests.java
core/src/test/java/org/elasticsearch/common/io/FileSystemUtilsTests.java
core/src/test/java/org/elasticsearch/common/io/StreamsTests.java
core/src/test/java/org/elasticsearch/common/io/streams/BytesStreamsTests.java
core/src/test/java/org/elasticsearch/common/joda/DateMathParserTests.java
core/src/test/java/org/elasticsearch/common/logging/jdk/JDKESLoggerTests.java
core/src/test/java/org/elasticsearch/common/logging/log4j/Log4jESLoggerTests.java
core/src/test/java/org/elasticsearch/common/logging/log4j/LoggingConfigurationTests.java
core/src/test/java/org/elasticsearch/common/lucene/IndexCacheableQueryTests.java
core/src/test/java/org/elasticsearch/common/lucene/LuceneTest.java
core/src/test/java/org/elasticsearch/common/lucene/ShardCoreKeyMapTests.java
core/src/test/java/org/elasticsearch/common/lucene/all/SimpleAllTests.java
core/src/test/java/org/elasticsearch/common/lucene/index/ESDirectoryReaderTests.java
core/src/test/java/org/elasticsearch/common/lucene/index/FreqTermsEnumTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQueryTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunctionTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/morelikethis/MoreLikeThisQueryTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/morelikethis/XMoreLikeThisTests.java
core/src/test/java/org/elasticsearch/common/lucene/store/ByteArrayIndexInputTests.java
core/src/test/java/org/elasticsearch/common/lucene/store/InputStreamIndexInputTests.java
core/src/test/java/org/elasticsearch/common/lucene/uid/VersionsTests.java
core/src/test/java/org/elasticsearch/common/math/MathUtilsTests.java
core/src/test/java/org/elasticsearch/common/path/PathTrieTests.java
core/src/test/java/org/elasticsearch/common/property/PropertyPlaceholderTest.java
core/src/test/java/org/elasticsearch/common/recycler/AbstractRecyclerTests.java
core/src/test/java/org/elasticsearch/common/regex/RegexTests.java
core/src/test/java/org/elasticsearch/common/rounding/RoundingTests.java
core/src/test/java/org/elasticsearch/common/rounding/TimeZoneRoundingTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsFilterTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/JsonSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/YamlSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/unit/ByteSizeUnitTests.java
core/src/test/java/org/elasticsearch/common/unit/ByteSizeValueTests.java
core/src/test/java/org/elasticsearch/common/unit/DistanceUnitTests.java
core/src/test/java/org/elasticsearch/common/unit/FuzzinessTests.java
core/src/test/java/org/elasticsearch/common/unit/RatioValueTests.java
core/src/test/java/org/elasticsearch/common/unit/SizeValueTests.java
core/src/test/java/org/elasticsearch/common/unit/TimeValueTests.java
core/src/test/java/org/elasticsearch/common/util/ArrayUtilsTests.java
core/src/test/java/org/elasticsearch/common/util/BigArraysTests.java
core/src/test/java/org/elasticsearch/common/util/ByteUtilsTests.java
core/src/test/java/org/elasticsearch/common/util/BytesRefHashTests.java
core/src/test/java/org/elasticsearch/common/util/CancellableThreadsTest.java
core/src/test/java/org/elasticsearch/common/util/CollectionUtilsTests.java
core/src/test/java/org/elasticsearch/common/util/LongHashTests.java
core/src/test/java/org/elasticsearch/common/util/LongObjectHashMapTests.java
core/src/test/java/org/elasticsearch/common/util/MultiDataPathUpgraderTests.java
core/src/test/java/org/elasticsearch/common/util/SingleObjectCacheTests.java
core/src/test/java/org/elasticsearch/common/util/URIPatternTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/CountDownTest.java
core/src/test/java/org/elasticsearch/common/util/concurrent/EsExecutorsTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/PrioritizedExecutorsTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/RefCountedTest.java
core/src/test/java/org/elasticsearch/common/xcontent/XContentFactoryTests.java
core/src/test/java/org/elasticsearch/common/xcontent/builder/BuilderRawFieldTests.java
core/src/test/java/org/elasticsearch/common/xcontent/builder/XContentBuilderTests.java
core/src/test/java/org/elasticsearch/common/xcontent/cbor/CborXContentParserTests.java
core/src/test/java/org/elasticsearch/common/xcontent/cbor/JsonVsCborTests.java
core/src/test/java/org/elasticsearch/common/xcontent/smile/JsonVsSmileTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/XContentHelperTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/XContentMapValuesTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/filtering/AbstractFilteringJsonGeneratorTests.java
core/src/test/java/org/elasticsearch/consistencylevel/WriteConsistencyLevelIT.java
core/src/test/java/org/elasticsearch/count/simple/SimpleCountIT.java
core/src/test/java/org/elasticsearch/deps/jackson/JacksonLocationTests.java
core/src/test/java/org/elasticsearch/deps/joda/SimpleJodaTests.java
core/src/test/java/org/elasticsearch/deps/lucene/SimpleLuceneTests.java
core/src/test/java/org/elasticsearch/deps/lucene/VectorHighlighterTests.java
core/src/test/java/org/elasticsearch/discovery/BlockingClusterStatePublishResponseHandlerTests.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/discovery/ZenFaultDetectionTests.java
core/src/test/java/org/elasticsearch/discovery/ZenUnicastDiscoveryIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ElectMasterServiceTest.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryUnitTest.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenPingTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPingIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPingIT.java
core/src/test/java/org/elasticsearch/document/BulkIT.java
core/src/test/java/org/elasticsearch/document/DocumentActionsIT.java
core/src/test/java/org/elasticsearch/document/ShardInfoIT.java
core/src/test/java/org/elasticsearch/env/EnvironmentTests.java
core/src/test/java/org/elasticsearch/env/NodeEnvironmentTests.java
core/src/test/java/org/elasticsearch/exists/SimpleExistsIT.java
core/src/test/java/org/elasticsearch/explain/ExplainActionIT.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsIntegrationIT.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsTests.java
core/src/test/java/org/elasticsearch/gateway/AsyncShardFetchTests.java
core/src/test/java/org/elasticsearch/gateway/DanglingIndicesStateTests.java
core/src/test/java/org/elasticsearch/gateway/GatewayIndexStateIT.java
core/src/test/java/org/elasticsearch/gateway/GatewayMetaStateTests.java
core/src/test/java/org/elasticsearch/gateway/GatewayServiceTests.java
core/src/test/java/org/elasticsearch/gateway/MetaDataStateFormatTest.java
core/src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesIT.java
core/src/test/java/org/elasticsearch/gateway/MetaStateServiceTests.java
core/src/test/java/org/elasticsearch/gateway/PrimaryShardAllocatorTests.java
core/src/test/java/org/elasticsearch/gateway/PriorityComparatorTests.java
core/src/test/java/org/elasticsearch/gateway/QuorumGatewayIT.java
core/src/test/java/org/elasticsearch/gateway/RecoverAfterNodesIT.java
core/src/test/java/org/elasticsearch/gateway/RecoveryBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayIT.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/http/netty/HttpPublishPortIT.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpChannelTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTest.java
core/src/test/java/org/elasticsearch/http/netty/NettyPipeliningDisabledIT.java
core/src/test/java/org/elasticsearch/http/netty/NettyPipeliningEnabledIT.java
comments:
Merge pull request #12623 from rjernst/fix/10659

Rename base tests cases to use "TestCase" suffix

time:
2015-08-04T00:43:00Z
class:
core/src/test/java/org/apache/lucene/analysis/miscellaneous/TruncateTokenFilterTests.java
core/src/test/java/org/apache/lucene/analysis/miscellaneous/UniqueTokenFilterTests.java
core/src/test/java/org/apache/lucene/queries/BlendedTermQueryTest.java
core/src/test/java/org/apache/lucene/search/postingshighlight/CustomPassageFormatterTests.java
core/src/test/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighterTests.java
core/src/test/java/org/apache/lucene/search/postingshighlight/CustomSeparatorBreakIteratorTests.java
core/src/test/java/org/apache/lucene/util/SloppyMathTests.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/NamingConventionTests.java
core/src/test/java/org/elasticsearch/VersionTests.java
core/src/test/java/org/elasticsearch/action/IndicesRequestIT.java
core/src/test/java/org/elasticsearch/action/ListenerActionIT.java
core/src/test/java/org/elasticsearch/action/OriginalIndicesTests.java
core/src/test/java/org/elasticsearch/action/RejectionActionIT.java
core/src/test/java/org/elasticsearch/action/admin/HotThreadsIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/repositories/RepositoryBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/snapshots/SnapshotBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequestTest.java
core/src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/tasks/PendingTasksBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequestBuilderTest.java
core/src/test/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/flush/FlushBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/get/GetIndexIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/mapping/put/PutMappingRequestTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/optimize/OptimizeBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/refresh/RefreshBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsRequestTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreRequestIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreResponseTest.java
core/src/test/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerRequestTests.java
core/src/test/java/org/elasticsearch/action/bulk/BulkIntegrationIT.java
core/src/test/java/org/elasticsearch/action/bulk/BulkProcessorClusterSettingsIT.java
core/src/test/java/org/elasticsearch/action/bulk/BulkProcessorIT.java
core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java
core/src/test/java/org/elasticsearch/action/count/CountRequestBuilderTests.java
core/src/test/java/org/elasticsearch/action/count/CountRequestTests.java
core/src/test/java/org/elasticsearch/action/count/CountResponseTests.java
core/src/test/java/org/elasticsearch/action/fieldstats/FieldStatsRequestTest.java
core/src/test/java/org/elasticsearch/action/get/MultiGetShardRequestTests.java
core/src/test/java/org/elasticsearch/action/index/IndexRequestBuilderTest.java
core/src/test/java/org/elasticsearch/action/index/IndexRequestTests.java
core/src/test/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequestTests.java
core/src/test/java/org/elasticsearch/action/percolate/MultiPercolatorRequestTests.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
core/src/test/java/org/elasticsearch/action/search/SearchRequestBuilderTests.java
core/src/test/java/org/elasticsearch/action/support/IndicesOptionsTests.java
core/src/test/java/org/elasticsearch/action/support/ListenableActionFutureTests.java
core/src/test/java/org/elasticsearch/action/support/TransportActionFilterChainTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
core/src/test/java/org/elasticsearch/action/termvectors/AbstractTermVectorsTests.java
core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsCheckDocFreqIT.java
core/src/test/java/org/elasticsearch/action/termvectors/TermVectorsUnitTests.java
core/src/test/java/org/elasticsearch/action/update/UpdateRequestTests.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java
core/src/test/java/org/elasticsearch/benchmark/cluster/ClusterAllocationRerouteBenchmark.java
core/src/test/java/org/elasticsearch/blocks/SimpleBlocksIT.java
core/src/test/java/org/elasticsearch/bootstrap/JNANativesTests.java
core/src/test/java/org/elasticsearch/bootstrap/JarHellTests.java
core/src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
core/src/test/java/org/elasticsearch/broadcast/BroadcastActionsIT.java
core/src/test/java/org/elasticsearch/bwcompat/BasicAnalysisBackwardCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/BasicBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/ClusterStateBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/bwcompat/GetIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/NodesStatsBasicBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/bwcompat/StaticIndexBackwardCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/TransportClientBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/UnicastBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/client/AbstractClientHeadersTests.java
core/src/test/java/org/elasticsearch/client/node/NodeClientIT.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientIT.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientRetryIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterHealthIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffPublishingTests.java
core/src/test/java/org/elasticsearch/cluster/DiskUsageTests.java
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/NoMasterNodeIT.java
core/src/test/java/org/elasticsearch/cluster/SimpleClusterStateIT.java
core/src/test/java/org/elasticsearch/cluster/SimpleDataNodesIT.java
core/src/test/java/org/elasticsearch/cluster/SpecificMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/UpdateSettingsValidationIT.java
core/src/test/java/org/elasticsearch/cluster/ack/AckClusterUpdateSettingsIT.java
core/src/test/java/org/elasticsearch/cluster/ack/AckIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/AwarenessAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/FilteringAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/ShardsAllocatorModuleIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/SimpleAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/block/ClusterBlockTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/DateMathExpressionResolverTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/HumanReadableIndexSettingsTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolverTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/MappingMetaDataParserTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/ToAndFromJsonMetaDataTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/WildcardExpressionResolverTests.java
core/src/test/java/org/elasticsearch/cluster/node/DiscoveryNodeFiltersTests.java
core/src/test/java/org/elasticsearch/cluster/routing/AllocationIdTests.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityUponUpgradeIT.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingTableTest.java
core/src/test/java/org/elasticsearch/cluster/routing/ShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/TestShardRouting.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AddIncrementallyTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AwarenessAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceConfigurationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceUnbalancedClusterTest.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/CatAllocationTestCase.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ClusterRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ConcurrentRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/DeadNodesAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/DisableAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ElectReplicaAsPrimaryDuringRelocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedNodeRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FilterRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/IndexBalanceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/NodeVersionAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferLocalPrimariesToRelocatingPrimariesTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferPrimaryAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PrimaryElectionRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PrimaryNotRelocatedWhileBeingRecoveredTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RandomAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RebalanceAfterActiveTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ReplicaAllocatedAfterPrimaryTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RoutingNodesIntegrityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SameShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardVersioningTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardsLimitAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardNoReplicasRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardOneReplicaRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/StartedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/TenShardsOneReplicaRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ThrottlingAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/UpdateNumberOfReplicasTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationDeciderIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/cluster/routing/operation/hash/murmur3/Murmur3HashFunctionTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/ClusterStateToStringTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/DiffableTests.java
core/src/test/java/org/elasticsearch/cluster/settings/ClusterSettingsIT.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsFilteringIT.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsValidatorTests.java
core/src/test/java/org/elasticsearch/cluster/shards/ClusterSearchShardsIT.java
core/src/test/java/org/elasticsearch/cluster/structure/RoutingIteratorTests.java
core/src/test/java/org/elasticsearch/codecs/CodecTests.java
core/src/test/java/org/elasticsearch/common/Base64Test.java
core/src/test/java/org/elasticsearch/common/BooleansTests.java
core/src/test/java/org/elasticsearch/common/ChannelsTests.java
core/src/test/java/org/elasticsearch/common/ParseFieldTests.java
core/src/test/java/org/elasticsearch/common/PidFileTests.java
core/src/test/java/org/elasticsearch/common/StringsTests.java
core/src/test/java/org/elasticsearch/common/TableTests.java
core/src/test/java/org/elasticsearch/common/UUIDTests.java
core/src/test/java/org/elasticsearch/common/blobstore/BlobStoreTest.java
core/src/test/java/org/elasticsearch/common/breaker/MemoryCircuitBreakerTests.java
core/src/test/java/org/elasticsearch/common/bytes/BytesReferenceTests.java
core/src/test/java/org/elasticsearch/common/bytes/PagedBytesReferenceTest.java
core/src/test/java/org/elasticsearch/common/cli/CheckFileCommandTests.java
core/src/test/java/org/elasticsearch/common/cli/CliToolTestCase.java
core/src/test/java/org/elasticsearch/common/collect/CopyOnWriteHashMapTests.java
core/src/test/java/org/elasticsearch/common/collect/CopyOnWriteHashSetTests.java
core/src/test/java/org/elasticsearch/common/compress/AbstractCompressedStreamTests.java
core/src/test/java/org/elasticsearch/common/compress/AbstractCompressedXContentTests.java
core/src/test/java/org/elasticsearch/common/compress/lzf/CorruptedCompressorTests.java
core/src/test/java/org/elasticsearch/common/geo/GeoHashTests.java
core/src/test/java/org/elasticsearch/common/geo/GeoJSONShapeParserTests.java
core/src/test/java/org/elasticsearch/common/geo/ShapeBuilderTests.java
core/src/test/java/org/elasticsearch/common/hashing/MurmurHash3Tests.java
core/src/test/java/org/elasticsearch/common/hppc/HppcMapsTests.java
core/src/test/java/org/elasticsearch/common/io/FileSystemUtilsTests.java
core/src/test/java/org/elasticsearch/common/io/StreamsTests.java
core/src/test/java/org/elasticsearch/common/io/streams/BytesStreamsTests.java
core/src/test/java/org/elasticsearch/common/joda/DateMathParserTests.java
core/src/test/java/org/elasticsearch/common/logging/jdk/JDKESLoggerTests.java
core/src/test/java/org/elasticsearch/common/logging/log4j/Log4jESLoggerTests.java
core/src/test/java/org/elasticsearch/common/logging/log4j/LoggingConfigurationTests.java
core/src/test/java/org/elasticsearch/common/lucene/IndexCacheableQueryTests.java
core/src/test/java/org/elasticsearch/common/lucene/LuceneTest.java
core/src/test/java/org/elasticsearch/common/lucene/ShardCoreKeyMapTests.java
core/src/test/java/org/elasticsearch/common/lucene/all/SimpleAllTests.java
core/src/test/java/org/elasticsearch/common/lucene/index/ESDirectoryReaderTests.java
core/src/test/java/org/elasticsearch/common/lucene/index/FreqTermsEnumTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQueryTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunctionTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/morelikethis/MoreLikeThisQueryTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/morelikethis/XMoreLikeThisTests.java
core/src/test/java/org/elasticsearch/common/lucene/store/ByteArrayIndexInputTests.java
core/src/test/java/org/elasticsearch/common/lucene/store/InputStreamIndexInputTests.java
core/src/test/java/org/elasticsearch/common/lucene/uid/VersionsTests.java
core/src/test/java/org/elasticsearch/common/math/MathUtilsTests.java
core/src/test/java/org/elasticsearch/common/path/PathTrieTests.java
core/src/test/java/org/elasticsearch/common/property/PropertyPlaceholderTest.java
core/src/test/java/org/elasticsearch/common/recycler/AbstractRecyclerTests.java
core/src/test/java/org/elasticsearch/common/regex/RegexTests.java
core/src/test/java/org/elasticsearch/common/rounding/RoundingTests.java
core/src/test/java/org/elasticsearch/common/rounding/TimeZoneRoundingTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsFilterTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/JsonSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/YamlSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/unit/ByteSizeUnitTests.java
core/src/test/java/org/elasticsearch/common/unit/ByteSizeValueTests.java
core/src/test/java/org/elasticsearch/common/unit/DistanceUnitTests.java
core/src/test/java/org/elasticsearch/common/unit/FuzzinessTests.java
core/src/test/java/org/elasticsearch/common/unit/RatioValueTests.java
core/src/test/java/org/elasticsearch/common/unit/SizeValueTests.java
core/src/test/java/org/elasticsearch/common/unit/TimeValueTests.java
core/src/test/java/org/elasticsearch/common/util/ArrayUtilsTests.java
core/src/test/java/org/elasticsearch/common/util/BigArraysTests.java
core/src/test/java/org/elasticsearch/common/util/ByteUtilsTests.java
core/src/test/java/org/elasticsearch/common/util/BytesRefHashTests.java
core/src/test/java/org/elasticsearch/common/util/CancellableThreadsTest.java
core/src/test/java/org/elasticsearch/common/util/CollectionUtilsTests.java
core/src/test/java/org/elasticsearch/common/util/LongHashTests.java
core/src/test/java/org/elasticsearch/common/util/LongObjectHashMapTests.java
core/src/test/java/org/elasticsearch/common/util/MultiDataPathUpgraderTests.java
core/src/test/java/org/elasticsearch/common/util/SingleObjectCacheTests.java
core/src/test/java/org/elasticsearch/common/util/URIPatternTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/CountDownTest.java
core/src/test/java/org/elasticsearch/common/util/concurrent/EsExecutorsTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/PrioritizedExecutorsTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/RefCountedTest.java
core/src/test/java/org/elasticsearch/common/xcontent/XContentFactoryTests.java
core/src/test/java/org/elasticsearch/common/xcontent/builder/BuilderRawFieldTests.java
core/src/test/java/org/elasticsearch/common/xcontent/builder/XContentBuilderTests.java
core/src/test/java/org/elasticsearch/common/xcontent/cbor/CborXContentParserTests.java
core/src/test/java/org/elasticsearch/common/xcontent/cbor/JsonVsCborTests.java
core/src/test/java/org/elasticsearch/common/xcontent/smile/JsonVsSmileTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/XContentHelperTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/XContentMapValuesTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/filtering/AbstractFilteringJsonGeneratorTests.java
core/src/test/java/org/elasticsearch/consistencylevel/WriteConsistencyLevelIT.java
core/src/test/java/org/elasticsearch/count/simple/SimpleCountIT.java
core/src/test/java/org/elasticsearch/deps/jackson/JacksonLocationTests.java
core/src/test/java/org/elasticsearch/deps/joda/SimpleJodaTests.java
core/src/test/java/org/elasticsearch/deps/lucene/SimpleLuceneTests.java
core/src/test/java/org/elasticsearch/deps/lucene/VectorHighlighterTests.java
core/src/test/java/org/elasticsearch/discovery/BlockingClusterStatePublishResponseHandlerTests.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/discovery/ZenFaultDetectionTests.java
core/src/test/java/org/elasticsearch/discovery/ZenUnicastDiscoveryIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ElectMasterServiceTest.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryUnitTest.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenPingTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPingIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPingIT.java
core/src/test/java/org/elasticsearch/document/BulkIT.java
core/src/test/java/org/elasticsearch/document/DocumentActionsIT.java
core/src/test/java/org/elasticsearch/document/ShardInfoIT.java
core/src/test/java/org/elasticsearch/env/EnvironmentTests.java
core/src/test/java/org/elasticsearch/env/NodeEnvironmentTests.java
core/src/test/java/org/elasticsearch/exists/SimpleExistsIT.java
core/src/test/java/org/elasticsearch/explain/ExplainActionIT.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsIntegrationIT.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsTests.java
core/src/test/java/org/elasticsearch/gateway/AsyncShardFetchTests.java
core/src/test/java/org/elasticsearch/gateway/DanglingIndicesStateTests.java
core/src/test/java/org/elasticsearch/gateway/GatewayIndexStateIT.java
core/src/test/java/org/elasticsearch/gateway/GatewayMetaStateTests.java
core/src/test/java/org/elasticsearch/gateway/GatewayServiceTests.java
core/src/test/java/org/elasticsearch/gateway/MetaDataStateFormatTest.java
core/src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesIT.java
core/src/test/java/org/elasticsearch/gateway/MetaStateServiceTests.java
core/src/test/java/org/elasticsearch/gateway/PrimaryShardAllocatorTests.java
core/src/test/java/org/elasticsearch/gateway/PriorityComparatorTests.java
core/src/test/java/org/elasticsearch/gateway/QuorumGatewayIT.java
core/src/test/java/org/elasticsearch/gateway/RecoverAfterNodesIT.java
core/src/test/java/org/elasticsearch/gateway/RecoveryBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayIT.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/http/netty/HttpPublishPortIT.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpChannelTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTest.java
core/src/test/java/org/elasticsearch/http/netty/NettyPipeliningDisabledIT.java
core/src/test/java/org/elasticsearch/http/netty/NettyPipeliningEnabledIT.java
comments:
Tests: Rename base tests cases to use "TestCase" suffix

Most of the abstract base test classes we have were previously @Ignored.
However, there were also some other tests ignored. Having two ways to
quiet tests is confusing, and clearly it has caused some tests
to get lost in the fold.

This change moves all base test classes to use the "TestCase" suffix,
which is not picked up by the test class name pattern. It also removes
@Ignore from (almost) all tests, and adds it to forbidden apis.
And since we were renaming, I shorted base test class names to use
"ES" instead of "Elasticsearch". I type this a lot of types a day,
and I have heard others express a similar desire for a shorter name.

closes #10659

time:
2015-08-04T00:26:25Z
class:
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/RealtimeRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterShardHealth.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/PluginInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/PluginsInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/shards/ClusterSearchShardsResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoresAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoresRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoresResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/TransportIndicesShardStoresAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
core/src/main/java/org/elasticsearch/action/explain/ExplainRequest.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/action/get/GetRequest.java
core/src/main/java/org/elasticsearch/action/get/MultiGetRequest.java
core/src/main/java/org/elasticsearch/action/get/MultiGetShardRequest.java
core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java
core/src/main/java/org/elasticsearch/action/get/TransportShardMultiGetAction.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/percolate/TransportShardMultiPercolateAction.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
core/src/main/java/org/elasticsearch/action/support/AutoCreateIndex.java
core/src/main/java/org/elasticsearch/action/support/DefaultShardOperationFailedException.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/single/custom/SingleCustomOperationRequest.java
core/src/main/java/org/elasticsearch/action/support/single/custom/SingleCustomOperationRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/single/custom/TransportSingleCustomOperationAction.java
core/src/main/java/org/elasticsearch/action/support/single/instance/InstanceShardOperationRequest.java
core/src/main/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationAction.java
core/src/main/java/org/elasticsearch/action/support/single/shard/SingleShardRequest.java
core/src/main/java/org/elasticsearch/action/support/single/shard/TransportSingleShardAction.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsShardRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCLIParser.java
core/src/main/java/org/elasticsearch/bootstrap/Elasticsearch.java
core/src/main/java/org/elasticsearch/bootstrap/ElasticsearchF.java
core/src/main/java/org/elasticsearch/bootstrap/JarHell.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/client/IndicesAdminClient.java
core/src/main/java/org/elasticsearch/client/Requests.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasOrIndex.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
core/src/main/java/org/elasticsearch/cluster/routing/AllocationId.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/Preference.java
core/src/main/java/org/elasticsearch/cluster/routing/RestoreSource.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/FailedRerouteAllocation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DisableAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ThrottlingAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/cluster/settings/ClusterDynamicSettingsModule.java
core/src/main/java/org/elasticsearch/cluster/settings/Validator.java
core/src/main/java/org/elasticsearch/common/cli/CliTool.java
core/src/main/java/org/elasticsearch/common/cli/CliToolConfig.java
core/src/main/java/org/elasticsearch/common/geo/builders/ShapeBuilder.java
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
core/src/main/java/org/elasticsearch/common/io/FileSystemUtils.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FieldValueFactorFunction.java
core/src/main/java/org/elasticsearch/common/lucene/store/ByteArrayIndexInput.java
core/src/main/java/org/elasticsearch/common/lucene/store/IndexOutputOutputStream.java
core/src/main/java/org/elasticsearch/common/lucene/store/OutputStreamIndexOutput.java
core/src/main/java/org/elasticsearch/common/settings/loader/XContentSettingsLoader.java
core/src/main/java/org/elasticsearch/common/util/concurrent/KeyedLock.java
core/src/main/java/org/elasticsearch/common/util/concurrent/PrioritizedEsThreadPoolExecutor.java
core/src/main/java/org/elasticsearch/common/xcontent/FromXContentBuilder.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentParser.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentParser.java
core/src/main/java/org/elasticsearch/common/xcontent/support/AbstractXContentParser.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
core/src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
core/src/main/java/org/elasticsearch/gateway/MetaDataStateFormat.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/http/HttpServer.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/cache/request/RequestCacheStats.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/IndexSearcherWrapper.java
core/src/main/java/org/elasticsearch/index/engine/IndexSearcherWrappingService.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractAtomicOrdinalsFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexGeoPointFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexOrdinalsFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DisabledIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/PackedArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentTypeListener.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/MapperBuilders.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/ParseContext.java
core/src/main/java/org/elasticsearch/index/mapper/SourceToParse.java
core/src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoShapeFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
core/src/main/java/org/elasticsearch/index/search/geo/IndexedGeoBoundingBoxQuery.java
core/src/main/java/org/elasticsearch/index/search/stats/ShardSearchStats.java
core/src/main/java/org/elasticsearch/index/settings/IndexDynamicSettingsModule.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShardPath.java
core/src/main/java/org/elasticsearch/index/shard/ShardUtils.java
core/src/main/java/org/elasticsearch/index/shard/StoreRecoveryService.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/index/snapshots/IndexShardRepository.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshot.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshots.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/index/termvectors/ShardTermVectorsService.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/store/IndicesStore.java
core/src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/plugins/PluginInfo.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/plugins/SitePlugin.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreFormat.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
core/src/main/java/org/elasticsearch/repositories/blobstore/ChecksumBlobStoreFormat.java
core/src/main/java/org/elasticsearch/repositories/blobstore/LegacyBlobStoreFormat.java
core/src/main/java/org/elasticsearch/rest/action/RestActionModule.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/shards/RestIndicesShardStoresAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/warmer/put/RestPutWarmerAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodeAttrsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestPluginsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
core/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
core/src/main/java/org/elasticsearch/search/aggregations/TransportAggregationModule.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IPv4RangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractInternalPercentiles.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractPercentilesAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractPercentilesBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractPercentilesParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/InternalPercentile.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/InternalPercentileRanks.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/InternalPercentiles.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanks.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/Percentiles.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesMethod.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/hdr/AbstractHDRPercentilesAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/hdr/AbstractInternalHDRPercentiles.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/hdr/HDRPercentileRanksAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/hdr/HDRPercentilesAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/hdr/InternalHDRPercentileRanks.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/hdr/InternalHDRPercentiles.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/tdigest/AbstractInternalTDigestPercentiles.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/tdigest/AbstractTDigestPercentilesAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/tdigest/InternalTDigestPercentileRanks.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/tdigest/InternalTDigestPercentiles.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/tdigest/TDigestPercentileRanksAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/tdigest/TDigestPercentilesAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/EwmaModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltLinearModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/HoltWintersModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/LinearModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModel.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/SimpleModel.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhaseContext.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhaseModule.java
comments:
Merge branch 'master' into smflorentino-fix-winjvm-detect

time:
2015-08-03T23:52:39Z
class:
comments:
Don't access pgp.mit.edu over HTTP

time:
2015-08-03T23:52:19Z
class:
comments:
Merge pull request #12619 from rjernst/cleanup/integ-test-refs

Remove references to tests.slow and tests.integration

time:
2015-08-03T23:49:42Z
class:
comments:
Tests: Remove references to tests.slow and tests.integration

Another follow up to #12617.

time:
2015-08-03T23:46:05Z
class:
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/blobstore/S3OutputStreamTest.java
comments:
Merge pull request #12618 from rjernst/remove/forbid-slow-annotation

Forbid @Slow

time:
2015-08-03T23:43:09Z
class:
plugins/cloud-aws/src/test/java/org/elasticsearch/cloud/aws/blobstore/S3OutputStreamTest.java
comments:
Tests: Forbid @Slow

Now that all uses of @Slow are gone, we can forbid this annotations use
so tests are not confusing. Follow up to #12617.

time:
2015-08-03T23:35:03Z
class:
core/src/test/java/org/elasticsearch/action/IndicesRequestIT.java
core/src/test/java/org/elasticsearch/action/admin/HotThreadsIT.java
core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsIT.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/SpecificMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/AwarenessAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceUnbalancedClusterTest.java
core/src/test/java/org/elasticsearch/codecs/CodecTests.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/discovery/ZenUnicastDiscoveryIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPingIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPingIT.java
core/src/test/java/org/elasticsearch/gateway/GatewayIndexStateIT.java
core/src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesIT.java
core/src/test/java/org/elasticsearch/gateway/QuorumGatewayIT.java
core/src/test/java/org/elasticsearch/gateway/RecoverAfterNodesIT.java
core/src/test/java/org/elasticsearch/gateway/RecoveryBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayIT.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineMergeIT.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/indexing/IndexActionIT.java
core/src/test/java/org/elasticsearch/indexlifecycle/IndexLifecycleActionIT.java
core/src/test/java/org/elasticsearch/indices/mapping/DedicatedMasterGetFieldMappingIT.java
core/src/test/java/org/elasticsearch/indices/settings/UpdateSettingsIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/percolator/RecoveryPercolatorIT.java
core/src/test/java/org/elasticsearch/recovery/FullRollingRestartIT.java
core/src/test/java/org/elasticsearch/recovery/RecoveryWhileUnderLoadIT.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/search/SearchWithRejectionsIT.java
core/src/test/java/org/elasticsearch/search/StressSearchServiceReaperIT.java
core/src/test/java/org/elasticsearch/search/aggregations/EquivalenceIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWhileCreatingIndexIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/functionscore/RandomScoreFunctionIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
core/src/test/java/org/elasticsearch/search/rescore/QueryRescorerIT.java
core/src/test/java/org/elasticsearch/search/scan/SearchScanIT.java
core/src/test/java/org/elasticsearch/search/sort/SimpleSortIT.java
core/src/test/java/org/elasticsearch/search/suggest/SuggestSearchIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
core/src/test/java/org/elasticsearch/test/disruption/NetworkPartitionIT.java
core/src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
core/src/test/java/org/elasticsearch/transport/netty/SimpleNettyTransportTests.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
core/src/test/java/org/elasticsearch/versioning/SimpleVersioningIT.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureSimpleTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureTwoStartedNodesTest.java
plugins/delete-by-query/src/test/java/org/elasticsearch/plugin/deletebyquery/DeleteByQueryTests.java
plugins/delete-by-query/src/test/java/org/elasticsearch/plugin/deletebyquery/test/rest/DeleteByQueryRestTests.java
comments:
Merge pull request #12617 from rjernst/remove/test-annotations

Remove uses of @Slow and @Integration

time:
2015-08-03T23:32:35Z
class:
comments:
Fix testing docs to not mention @Slow or @Integration

time:
2015-08-03T23:26:07Z
class:
core/src/test/java/org/elasticsearch/action/IndicesRequestIT.java
core/src/test/java/org/elasticsearch/action/admin/HotThreadsIT.java
core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsIT.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/SpecificMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/AwarenessAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceUnbalancedClusterTest.java
core/src/test/java/org/elasticsearch/codecs/CodecTests.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/discovery/ZenUnicastDiscoveryIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ping/multicast/MulticastZenPingIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPingIT.java
core/src/test/java/org/elasticsearch/gateway/GatewayIndexStateIT.java
core/src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesIT.java
core/src/test/java/org/elasticsearch/gateway/QuorumGatewayIT.java
core/src/test/java/org/elasticsearch/gateway/RecoverAfterNodesIT.java
core/src/test/java/org/elasticsearch/gateway/RecoveryBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayIT.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineMergeIT.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/indexing/IndexActionIT.java
core/src/test/java/org/elasticsearch/indexlifecycle/IndexLifecycleActionIT.java
core/src/test/java/org/elasticsearch/indices/mapping/DedicatedMasterGetFieldMappingIT.java
core/src/test/java/org/elasticsearch/indices/settings/UpdateSettingsIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/percolator/RecoveryPercolatorIT.java
core/src/test/java/org/elasticsearch/recovery/FullRollingRestartIT.java
core/src/test/java/org/elasticsearch/recovery/RecoveryWhileUnderLoadIT.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/search/SearchWithRejectionsIT.java
core/src/test/java/org/elasticsearch/search/StressSearchServiceReaperIT.java
core/src/test/java/org/elasticsearch/search/aggregations/EquivalenceIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWhileCreatingIndexIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/functionscore/RandomScoreFunctionIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
core/src/test/java/org/elasticsearch/search/rescore/QueryRescorerIT.java
core/src/test/java/org/elasticsearch/search/scan/SearchScanIT.java
core/src/test/java/org/elasticsearch/search/sort/SimpleSortIT.java
core/src/test/java/org/elasticsearch/search/suggest/SuggestSearchIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/test/ElasticsearchIntegrationTest.java
core/src/test/java/org/elasticsearch/test/disruption/NetworkPartitionIT.java
core/src/test/java/org/elasticsearch/test/rest/ElasticsearchRestTestCase.java
core/src/test/java/org/elasticsearch/transport/netty/SimpleNettyTransportTests.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
core/src/test/java/org/elasticsearch/versioning/SimpleVersioningIT.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureSimpleTest.java
plugins/cloud-azure/src/test/java/org/elasticsearch/discovery/azure/AzureTwoStartedNodesTest.java
plugins/delete-by-query/src/test/java/org/elasticsearch/plugin/deletebyquery/DeleteByQueryTests.java
plugins/delete-by-query/src/test/java/org/elasticsearch/plugin/deletebyquery/test/rest/DeleteByQueryRestTests.java
comments:
Tests: Remove uses of @Slow and @Integration

Now that integ tests are moved into `mvn verify`, we don't really have
a need for @Slow, and especially not @Integration. This removes
uses of the first, and completely removes uses of the latter.

time:
2015-08-03T23:18:04Z
class:
core/src/test/java/org/elasticsearch/bwcompat/BasicAnalysisBackwardCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/BasicBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/ClusterStateBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/bwcompat/GetIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/NodesStatsBasicBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/RecoveryWithUnsupportedIndicesIT.java
core/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatTests.java
core/src/test/java/org/elasticsearch/bwcompat/StaticIndexBackwardCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/TransportClientBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/UnicastBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/document/AliasedIndexDocumentActionsIT.java
core/src/test/java/org/elasticsearch/gateway/RecoveryBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/indices/mapping/DedicatedMasterGetFieldMappingIT.java
core/src/test/java/org/elasticsearch/rest/action/admin/indices/upgrade/UpgradeIT.java
core/src/test/java/org/elasticsearch/rest/action/admin/indices/upgrade/UpgradeReallyOldIndexIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsBackwardCompatibilityIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreBackwardCompatibilityIT.java
core/src/test/java/org/elasticsearch/snapshots/AbstractSnapshotIT.java
core/src/test/java/org/elasticsearch/snapshots/BlobStoreFormatTests.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/RepositoriesTests.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/SnapshotBackwardsCompatibilityIT.java
comments:
Merge pull request #12616 from rmuir/integ_stragglers

Cut over some remaining integration tests to IT

time:
2015-08-03T23:08:01Z
class:
core/src/test/java/org/elasticsearch/bwcompat/BasicAnalysisBackwardCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/BasicBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/ClusterStateBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/bwcompat/GetIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/NodesStatsBasicBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/RecoveryWithUnsupportedIndicesIT.java
core/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatTests.java
core/src/test/java/org/elasticsearch/bwcompat/StaticIndexBackwardCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/TransportClientBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/UnicastBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/document/AliasedIndexDocumentActionsIT.java
core/src/test/java/org/elasticsearch/gateway/RecoveryBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/indices/mapping/DedicatedMasterGetFieldMappingIT.java
core/src/test/java/org/elasticsearch/rest/action/admin/indices/upgrade/UpgradeIT.java
core/src/test/java/org/elasticsearch/rest/action/admin/indices/upgrade/UpgradeReallyOldIndexIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsBackwardCompatibilityIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreBackwardCompatibilityIT.java
core/src/test/java/org/elasticsearch/snapshots/AbstractSnapshotIT.java
core/src/test/java/org/elasticsearch/snapshots/BlobStoreFormatTests.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/RepositoriesTests.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/SnapshotBackwardsCompatibilityIT.java
comments:
Cut over some remaining integration tests to IT

A few subclasses got missed here

time:
2015-08-03T22:56:04Z
class:
comments:
Merge pull request #12615 from rmuir/test_load_balancing

Give unit tests and integ tests separate load balancing

time:
2015-08-03T22:40:30Z
class:
comments:
Give unit tests and integ tests separate load balancing

This is a mess today, e.g. tophints shows you slow integ tests
after unit tests runs and so on.

Lets track them independently, so we can keep an eye on slow
unit tests and slow integ tests, and have good load balancing.

time:
2015-08-03T21:57:26Z
class:
core/src/test/java/org/elasticsearch/action/IndicesRequestIT.java
core/src/test/java/org/elasticsearch/action/ListenerActionIT.java
core/src/test/java/org/elasticsearch/action/RejectionActionIT.java
core/src/test/java/org/elasticsearch/action/admin/HotThreadsIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/repositories/RepositoryBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/snapshots/SnapshotBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/tasks/PendingTasksBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/flush/FlushBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/get/GetIndexIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/optimize/OptimizeBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/refresh/RefreshBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreRequestIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsBlocksIT.java
core/src/test/java/org/elasticsearch/action/bulk/BulkIntegrationIT.java
core/src/test/java/org/elasticsearch/action/bulk/BulkProcessorClusterSettingsIT.java
core/src/test/java/org/elasticsearch/action/bulk/BulkProcessorIT.java
core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsCheckDocFreqIT.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java
core/src/test/java/org/elasticsearch/blocks/SimpleBlocksIT.java
core/src/test/java/org/elasticsearch/broadcast/BroadcastActionsIT.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/client/node/NodeClientIT.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientIT.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientRetryIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterHealthIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/NoMasterNodeIT.java
core/src/test/java/org/elasticsearch/cluster/SimpleClusterStateIT.java
core/src/test/java/org/elasticsearch/cluster/SimpleDataNodesIT.java
core/src/test/java/org/elasticsearch/cluster/SpecificMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/UpdateSettingsValidationIT.java
core/src/test/java/org/elasticsearch/cluster/ack/AckClusterUpdateSettingsIT.java
core/src/test/java/org/elasticsearch/cluster/ack/AckIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/AwarenessAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/FilteringAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/ShardsAllocatorModuleIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/SimpleAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityUponUpgradeIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationDeciderIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/cluster/settings/ClusterSettingsIT.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsFilteringIT.java
core/src/test/java/org/elasticsearch/cluster/shards/ClusterSearchShardsIT.java
core/src/test/java/org/elasticsearch/common/util/MultiDataPathUpgraderTests.java
core/src/test/java/org/elasticsearch/consistencylevel/WriteConsistencyLevelIT.java
core/src/test/java/org/elasticsearch/count/simple/SimpleCountIT.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/discovery/ZenUnicastDiscoveryIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryIT.java
core/src/test/java/org/elasticsearch/document/AliasedIndexDocumentActionsTests.java
core/src/test/java/org/elasticsearch/document/BulkIT.java
core/src/test/java/org/elasticsearch/document/DocumentActionsIT.java
core/src/test/java/org/elasticsearch/document/ShardInfoIT.java
core/src/test/java/org/elasticsearch/exists/SimpleExistsIT.java
core/src/test/java/org/elasticsearch/explain/ExplainActionIT.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsIntegrationIT.java
core/src/test/java/org/elasticsearch/gateway/GatewayIndexStateIT.java
core/src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesIT.java
core/src/test/java/org/elasticsearch/gateway/QuorumGatewayIT.java
core/src/test/java/org/elasticsearch/gateway/RecoverAfterNodesIT.java
core/src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayIT.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/http/netty/HttpPublishPortIT.java
core/src/test/java/org/elasticsearch/http/netty/NettyPipeliningDisabledIT.java
core/src/test/java/org/elasticsearch/http/netty/NettyPipeliningEnabledIT.java
core/src/test/java/org/elasticsearch/index/IndexRequestBuilderIT.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineIT.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineMergeIT.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/FieldDataFilterIntegrationIT.java
core/src/test/java/org/elasticsearch/index/fielddata/FieldDataLoadingIT.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/TransformOnIndexMapperIT.java
core/src/test/java/org/elasticsearch/index/mapper/copyto/CopyToMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalValuesMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldsIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/size/SizeMappingIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterIT.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryIT.java
core/src/test/java/org/elasticsearch/index/query/plugin/CustomQueryParserIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedTranslogIT.java
core/src/test/java/org/elasticsearch/index/store/ExceptionRetryIT.java
core/src/test/java/org/elasticsearch/index/suggest/stats/SuggestStatsIT.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/indexing/IndexActionIT.java
core/src/test/java/org/elasticsearch/indexlifecycle/IndexLifecycleActionIT.java
core/src/test/java/org/elasticsearch/indices/DateMathIndexExpressionsIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/IndicesCustomDataPathIT.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerIT.java
core/src/test/java/org/elasticsearch/indices/IndicesOptionsIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/analysis/PreBuiltAnalyzerIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/analyze/AnalyzeActionIT.java
core/src/test/java/org/elasticsearch/indices/analyze/HunspellServiceIT.java
core/src/test/java/org/elasticsearch/indices/cache/query/IndicesRequestCacheIT.java
core/src/test/java/org/elasticsearch/indices/exists/indices/IndicesExistsIT.java
core/src/test/java/org/elasticsearch/indices/exists/types/TypesExistsIT.java
core/src/test/java/org/elasticsearch/indices/flush/FlushIT.java
core/src/test/java/org/elasticsearch/indices/leaks/IndicesLeaksIT.java
core/src/test/java/org/elasticsearch/indices/mapping/ConcurrentDynamicTemplateIT.java
core/src/test/java/org/elasticsearch/indices/mapping/DedicatedMasterGetFieldMappingTests.java
core/src/test/java/org/elasticsearch/indices/mapping/SimpleGetFieldMappingsIT.java
core/src/test/java/org/elasticsearch/indices/mapping/SimpleGetMappingsIT.java
core/src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerIT.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/CircuitBreakerNoopIT.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/CircuitBreakerServiceIT.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerIT.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryIT.java
core/src/test/java/org/elasticsearch/indices/settings/GetSettingsBlocksIT.java
core/src/test/java/org/elasticsearch/indices/settings/UpdateNumberOfReplicasIT.java
core/src/test/java/org/elasticsearch/indices/settings/UpdateSettingsIT.java
core/src/test/java/org/elasticsearch/indices/state/CloseIndexDisableCloseAllIT.java
core/src/test/java/org/elasticsearch/indices/state/OpenCloseIndexIT.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateIT.java
core/src/test/java/org/elasticsearch/indices/state/SimpleIndexStateIT.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/template/IndexTemplateBlocksIT.java
core/src/test/java/org/elasticsearch/indices/template/IndexTemplateFilteringIT.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
core/src/test/java/org/elasticsearch/indices/warmer/GatewayIndicesWarmerIT.java
core/src/test/java/org/elasticsearch/indices/warmer/IndicesWarmerBlocksIT.java
core/src/test/java/org/elasticsearch/indices/warmer/SimpleIndicesWarmerIT.java
core/src/test/java/org/elasticsearch/mget/SimpleMgetIT.java
core/src/test/java/org/elasticsearch/nested/SimpleNestedIT.java
core/src/test/java/org/elasticsearch/network/DirectBufferNetworkIT.java
core/src/test/java/org/elasticsearch/operateAllIndices/DestructiveOperationsIntegrationIT.java
core/src/test/java/org/elasticsearch/options/detailederrors/DetailedErrorsDisabledIT.java
core/src/test/java/org/elasticsearch/options/detailederrors/DetailedErrorsEnabledIT.java
core/src/test/java/org/elasticsearch/percolator/ConcurrentPercolatorIT.java
core/src/test/java/org/elasticsearch/percolator/MultiPercolatorIT.java
core/src/test/java/org/elasticsearch/percolator/PercolatorBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/percolator/PercolatorFacetsAndAggregationsIT.java
core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
core/src/test/java/org/elasticsearch/percolator/RecoveryPercolatorIT.java
core/src/test/java/org/elasticsearch/percolator/TTLPercolatorIT.java
core/src/test/java/org/elasticsearch/plugins/PluggableTransportModuleIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/plugins/ResponseHeaderPluginIT.java
core/src/test/java/org/elasticsearch/plugins/SitePluginIT.java
core/src/test/java/org/elasticsearch/plugins/SitePluginRelativePathConfigIT.java
core/src/test/java/org/elasticsearch/recovery/FullRollingRestartIT.java
core/src/test/java/org/elasticsearch/recovery/RecoveryWhileUnderLoadIT.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/recovery/SimpleRecoveryIT.java
core/src/test/java/org/elasticsearch/recovery/SmallFileChunkSizeRecoveryIT.java
core/src/test/java/org/elasticsearch/recovery/SmallTranslogOpsRecoveryIT.java
core/src/test/java/org/elasticsearch/recovery/SmallTranslogSizeRecoveryIT.java
core/src/test/java/org/elasticsearch/recovery/TruncatedRecoveryIT.java
core/src/test/java/org/elasticsearch/rest/CorsRegexDefaultIT.java
core/src/test/java/org/elasticsearch/rest/CorsRegexIT.java
core/src/test/java/org/elasticsearch/routing/AliasResolveRoutingIT.java
core/src/test/java/org/elasticsearch/routing/AliasRoutingIT.java
core/src/test/java/org/elasticsearch/routing/SimpleRoutingIT.java
core/src/test/java/org/elasticsearch/script/CustomScriptContextIT.java
core/src/test/java/org/elasticsearch/script/GroovyScriptIT.java
core/src/test/java/org/elasticsearch/script/GroovySecurityIT.java
core/src/test/java/org/elasticsearch/script/IndexLookupIT.java
core/src/test/java/org/elasticsearch/script/IndexedScriptIT.java
core/src/test/java/org/elasticsearch/script/OnDiskScriptIT.java
core/src/test/java/org/elasticsearch/script/ScriptFieldIT.java
core/src/test/java/org/elasticsearch/script/ScriptIndexSettingsIT.java
core/src/test/java/org/elasticsearch/script/expression/ExpressionScriptIT.java
core/src/test/java/org/elasticsearch/search/CountSearchIT.java
core/src/test/java/org/elasticsearch/search/SearchWithRejectionsIT.java
core/src/test/java/org/elasticsearch/search/StressSearchServiceReaperIT.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregationsBinaryIT.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregationsIntegrationIT.java
core/src/test/java/org/elasticsearch/search/aggregations/CombiIT.java
core/src/test/java/org/elasticsearch/search/aggregations/EquivalenceIT.java
core/src/test/java/org/elasticsearch/search/aggregations/MetaDataIT.java
core/src/test/java/org/elasticsearch/search/aggregations/MissingValueIT.java
core/src/test/java/org/elasticsearch/search/aggregations/ParsingIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/BooleanTermsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ChildrenIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramOffsetIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateRangeIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DedicatedAggregationIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/FilterIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/FiltersIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoDistanceIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GlobalIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/HistogramIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IPv4RangeIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/MissingIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/NaNSortingIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/NestedIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ParentIdAggIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/RangeIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ReverseNestedIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SamplerIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ShardReduceIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TermsDocCountErrorIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TermsShardMinDocCountIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/CardinalityIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/GeoBoundsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ScriptedMetricIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/AvgBucketIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/BucketScriptIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/BucketSelectorIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/CumulativeSumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/DateDerivativeIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/DerivativeIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/MaxBucketIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/MinBucketIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/SumBucketIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWhileCreatingIndexIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWhileRelocatingIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsIT.java
core/src/test/java/org/elasticsearch/search/basic/TransportSearchFailuresIT.java
core/src/test/java/org/elasticsearch/search/basic/TransportTwoNodesSearchIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchBwcIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/child/ParentFieldLoadingBwcIT.java
core/src/test/java/org/elasticsearch/search/child/ParentFieldLoadingIT.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/search/fields/SearchFieldsIT.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptIT.java
core/src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptPlugin.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreFieldValueIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScorePluginIT.java
core/src/test/java/org/elasticsearch/search/functionscore/RandomScoreFunctionIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoBoundingBoxIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoDistanceIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoPolygonIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoShapeIntegrationIT.java
core/src/test/java/org/elasticsearch/search/highlight/CustomHighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/indicesboost/SimpleIndicesBoostSearchIT.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
core/src/test/java/org/elasticsearch/search/matchedqueries/MatchedQueriesIT.java
core/src/test/java/org/elasticsearch/search/morelikethis/MoreLikeThisIT.java
core/src/test/java/org/elasticsearch/search/msearch/SimpleMultiSearchIT.java
core/src/test/java/org/elasticsearch/search/preference/SearchPreferenceIT.java
core/src/test/java/org/elasticsearch/search/query/ExistsMissingIT.java
core/src/test/java/org/elasticsearch/search/query/MultiMatchQueryIT.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringIT.java
core/src/test/java/org/elasticsearch/search/rescore/QueryRescorerIT.java
core/src/test/java/org/elasticsearch/search/scan/SearchScanIT.java
core/src/test/java/org/elasticsearch/search/scan/SearchScanScrollingIT.java
core/src/test/java/org/elasticsearch/search/scriptfilter/ScriptQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/scroll/DuelScrollIT.java
core/src/test/java/org/elasticsearch/search/scroll/SearchScrollIT.java
core/src/test/java/org/elasticsearch/search/scroll/SearchScrollWithFailingNodesIT.java
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
core/src/test/java/org/elasticsearch/search/sort/SimpleSortIT.java
core/src/test/java/org/elasticsearch/search/source/SourceFetchingIT.java
core/src/test/java/org/elasticsearch/search/stats/SearchStatsIT.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/ContextSuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggesterSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/SuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/timeout/SearchTimeoutIT.java
core/src/test/java/org/elasticsearch/similarity/SimilarityIT.java
core/src/test/java/org/elasticsearch/test/disruption/NetworkPartitionIT.java
core/src/test/java/org/elasticsearch/test/test/SuiteScopeClusterIT.java
core/src/test/java/org/elasticsearch/test/test/TestScopeClusterIT.java
core/src/test/java/org/elasticsearch/threadpool/SimpleThreadPoolIT.java
core/src/test/java/org/elasticsearch/timestamp/SimpleTimestampIT.java
core/src/test/java/org/elasticsearch/transport/ActionNamesIT.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortIntegrationIT.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
core/src/test/java/org/elasticsearch/ttl/SimpleTTLIT.java
core/src/test/java/org/elasticsearch/update/UpdateByNativeScriptIT.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
core/src/test/java/org/elasticsearch/update/UpdateNoopIT.java
core/src/test/java/org/elasticsearch/validate/RenderSearchTemplateIT.java
core/src/test/java/org/elasticsearch/validate/SimpleValidateQueryIT.java
core/src/test/java/org/elasticsearch/versioning/ConcurrentDocumentOperationIT.java
core/src/test/java/org/elasticsearch/versioning/SimpleVersioningIT.java
comments:
Merge pull request #12613 from rjernst/refactor/integ-tests

Rename integ tests to IT suffix

time:
2015-08-03T21:42:34Z
class:
core/src/test/java/org/elasticsearch/action/IndicesRequestIT.java
core/src/test/java/org/elasticsearch/action/ListenerActionIT.java
core/src/test/java/org/elasticsearch/action/RejectionActionIT.java
core/src/test/java/org/elasticsearch/action/admin/HotThreadsIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/repositories/RepositoryBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/snapshots/SnapshotBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/tasks/PendingTasksBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/flush/FlushBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/get/GetIndexIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/optimize/OptimizeBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/refresh/RefreshBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreRequestIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsBlocksIT.java
core/src/test/java/org/elasticsearch/action/bulk/BulkIntegrationIT.java
core/src/test/java/org/elasticsearch/action/bulk/BulkProcessorClusterSettingsIT.java
core/src/test/java/org/elasticsearch/action/bulk/BulkProcessorIT.java
core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsCheckDocFreqIT.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java
core/src/test/java/org/elasticsearch/blocks/SimpleBlocksIT.java
core/src/test/java/org/elasticsearch/broadcast/BroadcastActionsIT.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/client/node/NodeClientIT.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientIT.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientRetryIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterHealthIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/NoMasterNodeIT.java
core/src/test/java/org/elasticsearch/cluster/SimpleClusterStateIT.java
core/src/test/java/org/elasticsearch/cluster/SimpleDataNodesIT.java
core/src/test/java/org/elasticsearch/cluster/SpecificMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/UpdateSettingsValidationIT.java
core/src/test/java/org/elasticsearch/cluster/ack/AckClusterUpdateSettingsIT.java
core/src/test/java/org/elasticsearch/cluster/ack/AckIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/AwarenessAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/FilteringAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/ShardsAllocatorModuleIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/SimpleAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityUponUpgradeIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationDeciderIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/cluster/settings/ClusterSettingsIT.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsFilteringIT.java
core/src/test/java/org/elasticsearch/cluster/shards/ClusterSearchShardsIT.java
core/src/test/java/org/elasticsearch/common/util/MultiDataPathUpgraderTests.java
core/src/test/java/org/elasticsearch/consistencylevel/WriteConsistencyLevelIT.java
core/src/test/java/org/elasticsearch/count/simple/SimpleCountIT.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/discovery/ZenUnicastDiscoveryIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryIT.java
core/src/test/java/org/elasticsearch/document/AliasedIndexDocumentActionsTests.java
core/src/test/java/org/elasticsearch/document/BulkIT.java
core/src/test/java/org/elasticsearch/document/DocumentActionsIT.java
core/src/test/java/org/elasticsearch/document/ShardInfoIT.java
core/src/test/java/org/elasticsearch/exists/SimpleExistsIT.java
core/src/test/java/org/elasticsearch/explain/ExplainActionIT.java
core/src/test/java/org/elasticsearch/fieldstats/FieldStatsIntegrationIT.java
core/src/test/java/org/elasticsearch/gateway/GatewayIndexStateIT.java
core/src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesIT.java
core/src/test/java/org/elasticsearch/gateway/QuorumGatewayIT.java
core/src/test/java/org/elasticsearch/gateway/RecoverAfterNodesIT.java
core/src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayIT.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/http/netty/HttpPublishPortIT.java
core/src/test/java/org/elasticsearch/http/netty/NettyPipeliningDisabledIT.java
core/src/test/java/org/elasticsearch/http/netty/NettyPipeliningEnabledIT.java
core/src/test/java/org/elasticsearch/index/IndexRequestBuilderIT.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineIT.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineMergeIT.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/FieldDataFilterIntegrationIT.java
core/src/test/java/org/elasticsearch/index/fielddata/FieldDataLoadingIT.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/TransformOnIndexMapperIT.java
core/src/test/java/org/elasticsearch/index/mapper/copyto/CopyToMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalValuesMapperIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldsIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/size/SizeMappingIntegrationIT.java
core/src/test/java/org/elasticsearch/index/mapper/update/UpdateMappingOnClusterIT.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryIT.java
core/src/test/java/org/elasticsearch/index/query/plugin/CustomQueryParserIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedTranslogIT.java
core/src/test/java/org/elasticsearch/index/store/ExceptionRetryIT.java
core/src/test/java/org/elasticsearch/index/suggest/stats/SuggestStatsIT.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/indexing/IndexActionIT.java
core/src/test/java/org/elasticsearch/indexlifecycle/IndexLifecycleActionIT.java
core/src/test/java/org/elasticsearch/indices/DateMathIndexExpressionsIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/IndicesCustomDataPathIT.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerIT.java
core/src/test/java/org/elasticsearch/indices/IndicesOptionsIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/analysis/PreBuiltAnalyzerIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/analyze/AnalyzeActionIT.java
core/src/test/java/org/elasticsearch/indices/analyze/HunspellServiceIT.java
core/src/test/java/org/elasticsearch/indices/cache/query/IndicesRequestCacheIT.java
core/src/test/java/org/elasticsearch/indices/exists/indices/IndicesExistsIT.java
core/src/test/java/org/elasticsearch/indices/exists/types/TypesExistsIT.java
core/src/test/java/org/elasticsearch/indices/flush/FlushIT.java
core/src/test/java/org/elasticsearch/indices/leaks/IndicesLeaksIT.java
core/src/test/java/org/elasticsearch/indices/mapping/ConcurrentDynamicTemplateIT.java
core/src/test/java/org/elasticsearch/indices/mapping/DedicatedMasterGetFieldMappingTests.java
core/src/test/java/org/elasticsearch/indices/mapping/SimpleGetFieldMappingsIT.java
core/src/test/java/org/elasticsearch/indices/mapping/SimpleGetMappingsIT.java
core/src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerIT.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/CircuitBreakerNoopIT.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/CircuitBreakerServiceIT.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerIT.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryIT.java
core/src/test/java/org/elasticsearch/indices/settings/GetSettingsBlocksIT.java
core/src/test/java/org/elasticsearch/indices/settings/UpdateNumberOfReplicasIT.java
core/src/test/java/org/elasticsearch/indices/settings/UpdateSettingsIT.java
core/src/test/java/org/elasticsearch/indices/state/CloseIndexDisableCloseAllIT.java
core/src/test/java/org/elasticsearch/indices/state/OpenCloseIndexIT.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateIT.java
core/src/test/java/org/elasticsearch/indices/state/SimpleIndexStateIT.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/template/IndexTemplateBlocksIT.java
core/src/test/java/org/elasticsearch/indices/template/IndexTemplateFilteringIT.java
core/src/test/java/org/elasticsearch/indices/template/SimpleIndexTemplateIT.java
core/src/test/java/org/elasticsearch/indices/warmer/GatewayIndicesWarmerIT.java
core/src/test/java/org/elasticsearch/indices/warmer/IndicesWarmerBlocksIT.java
core/src/test/java/org/elasticsearch/indices/warmer/SimpleIndicesWarmerIT.java
core/src/test/java/org/elasticsearch/mget/SimpleMgetIT.java
core/src/test/java/org/elasticsearch/nested/SimpleNestedIT.java
core/src/test/java/org/elasticsearch/network/DirectBufferNetworkIT.java
core/src/test/java/org/elasticsearch/operateAllIndices/DestructiveOperationsIntegrationIT.java
core/src/test/java/org/elasticsearch/options/detailederrors/DetailedErrorsDisabledIT.java
core/src/test/java/org/elasticsearch/options/detailederrors/DetailedErrorsEnabledIT.java
core/src/test/java/org/elasticsearch/percolator/ConcurrentPercolatorIT.java
core/src/test/java/org/elasticsearch/percolator/MultiPercolatorIT.java
core/src/test/java/org/elasticsearch/percolator/PercolatorBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/percolator/PercolatorFacetsAndAggregationsIT.java
core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
core/src/test/java/org/elasticsearch/percolator/RecoveryPercolatorIT.java
core/src/test/java/org/elasticsearch/percolator/TTLPercolatorIT.java
core/src/test/java/org/elasticsearch/plugins/PluggableTransportModuleIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/plugins/ResponseHeaderPluginIT.java
core/src/test/java/org/elasticsearch/plugins/SitePluginIT.java
core/src/test/java/org/elasticsearch/plugins/SitePluginRelativePathConfigIT.java
core/src/test/java/org/elasticsearch/recovery/FullRollingRestartIT.java
core/src/test/java/org/elasticsearch/recovery/RecoveryWhileUnderLoadIT.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/recovery/SimpleRecoveryIT.java
core/src/test/java/org/elasticsearch/recovery/SmallFileChunkSizeRecoveryIT.java
core/src/test/java/org/elasticsearch/recovery/SmallTranslogOpsRecoveryIT.java
core/src/test/java/org/elasticsearch/recovery/SmallTranslogSizeRecoveryIT.java
core/src/test/java/org/elasticsearch/recovery/TruncatedRecoveryIT.java
core/src/test/java/org/elasticsearch/rest/CorsRegexDefaultIT.java
core/src/test/java/org/elasticsearch/rest/CorsRegexIT.java
core/src/test/java/org/elasticsearch/routing/AliasResolveRoutingIT.java
core/src/test/java/org/elasticsearch/routing/AliasRoutingIT.java
core/src/test/java/org/elasticsearch/routing/SimpleRoutingIT.java
core/src/test/java/org/elasticsearch/script/CustomScriptContextIT.java
core/src/test/java/org/elasticsearch/script/GroovyScriptIT.java
core/src/test/java/org/elasticsearch/script/GroovySecurityIT.java
core/src/test/java/org/elasticsearch/script/IndexLookupIT.java
core/src/test/java/org/elasticsearch/script/IndexedScriptIT.java
core/src/test/java/org/elasticsearch/script/OnDiskScriptIT.java
core/src/test/java/org/elasticsearch/script/ScriptFieldIT.java
core/src/test/java/org/elasticsearch/script/ScriptIndexSettingsIT.java
core/src/test/java/org/elasticsearch/script/expression/ExpressionScriptIT.java
core/src/test/java/org/elasticsearch/search/CountSearchIT.java
core/src/test/java/org/elasticsearch/search/SearchWithRejectionsIT.java
core/src/test/java/org/elasticsearch/search/StressSearchServiceReaperIT.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregationsBinaryIT.java
core/src/test/java/org/elasticsearch/search/aggregations/AggregationsIntegrationIT.java
core/src/test/java/org/elasticsearch/search/aggregations/CombiIT.java
core/src/test/java/org/elasticsearch/search/aggregations/EquivalenceIT.java
core/src/test/java/org/elasticsearch/search/aggregations/MetaDataIT.java
core/src/test/java/org/elasticsearch/search/aggregations/MissingValueIT.java
core/src/test/java/org/elasticsearch/search/aggregations/ParsingIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/BooleanTermsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ChildrenIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateHistogramOffsetIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DateRangeIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/DedicatedAggregationIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/FilterIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/FiltersIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoDistanceIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GlobalIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/HistogramIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/IPv4RangeIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/MissingIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/NaNSortingIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/NestedIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ParentIdAggIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/RangeIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ReverseNestedIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SamplerIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ShardReduceIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TermsDocCountErrorIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TermsShardMinDocCountIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/CardinalityIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/GeoBoundsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ScriptedMetricIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/ValueCountIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/AvgBucketIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/BucketScriptIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/BucketSelectorIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/CumulativeSumIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/DateDerivativeIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/DerivativeIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/MaxBucketIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/MinBucketIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/SumBucketIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWhileCreatingIndexIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWhileRelocatingIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWithRandomExceptionsIT.java
core/src/test/java/org/elasticsearch/search/basic/TransportSearchFailuresIT.java
core/src/test/java/org/elasticsearch/search/basic/TransportTwoNodesSearchIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchBwcIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/child/ParentFieldLoadingBwcIT.java
core/src/test/java/org/elasticsearch/search/child/ParentFieldLoadingIT.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/search/fields/SearchFieldsIT.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptIT.java
core/src/test/java/org/elasticsearch/search/functionscore/ExplainableScriptPlugin.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreFieldValueIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/functionscore/FunctionScorePluginIT.java
core/src/test/java/org/elasticsearch/search/functionscore/RandomScoreFunctionIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoBoundingBoxIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoDistanceIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoPolygonIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoShapeIntegrationIT.java
core/src/test/java/org/elasticsearch/search/highlight/CustomHighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/indicesboost/SimpleIndicesBoostSearchIT.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
core/src/test/java/org/elasticsearch/search/matchedqueries/MatchedQueriesIT.java
core/src/test/java/org/elasticsearch/search/morelikethis/MoreLikeThisIT.java
core/src/test/java/org/elasticsearch/search/msearch/SimpleMultiSearchIT.java
core/src/test/java/org/elasticsearch/search/preference/SearchPreferenceIT.java
core/src/test/java/org/elasticsearch/search/query/ExistsMissingIT.java
core/src/test/java/org/elasticsearch/search/query/MultiMatchQueryIT.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringIT.java
core/src/test/java/org/elasticsearch/search/rescore/QueryRescorerIT.java
core/src/test/java/org/elasticsearch/search/scan/SearchScanIT.java
core/src/test/java/org/elasticsearch/search/scan/SearchScanScrollingIT.java
core/src/test/java/org/elasticsearch/search/scriptfilter/ScriptQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/scroll/DuelScrollIT.java
core/src/test/java/org/elasticsearch/search/scroll/SearchScrollIT.java
core/src/test/java/org/elasticsearch/search/scroll/SearchScrollWithFailingNodesIT.java
core/src/test/java/org/elasticsearch/search/simple/SimpleSearchIT.java
core/src/test/java/org/elasticsearch/search/sort/SimpleSortIT.java
core/src/test/java/org/elasticsearch/search/source/SourceFetchingIT.java
core/src/test/java/org/elasticsearch/search/stats/SearchStatsIT.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/ContextSuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/CustomSuggesterSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/SuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/timeout/SearchTimeoutIT.java
core/src/test/java/org/elasticsearch/similarity/SimilarityIT.java
core/src/test/java/org/elasticsearch/test/disruption/NetworkPartitionIT.java
core/src/test/java/org/elasticsearch/test/test/SuiteScopeClusterIT.java
core/src/test/java/org/elasticsearch/test/test/TestScopeClusterIT.java
core/src/test/java/org/elasticsearch/threadpool/SimpleThreadPoolIT.java
core/src/test/java/org/elasticsearch/timestamp/SimpleTimestampIT.java
core/src/test/java/org/elasticsearch/transport/ActionNamesIT.java
core/src/test/java/org/elasticsearch/transport/ContextAndHeaderTransportIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportIT.java
core/src/test/java/org/elasticsearch/transport/netty/NettyTransportMultiPortIntegrationIT.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
core/src/test/java/org/elasticsearch/ttl/SimpleTTLIT.java
core/src/test/java/org/elasticsearch/update/UpdateByNativeScriptIT.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
core/src/test/java/org/elasticsearch/update/UpdateNoopIT.java
core/src/test/java/org/elasticsearch/validate/RenderSearchTemplateIT.java
core/src/test/java/org/elasticsearch/validate/SimpleValidateQueryIT.java
core/src/test/java/org/elasticsearch/versioning/ConcurrentDocumentOperationIT.java
core/src/test/java/org/elasticsearch/versioning/SimpleVersioningIT.java
comments:
Tests: Rename integ tests to IT suffix

This rename effectively moves all integration tests to be run with `mvn
verify`. `mvn test` now runs in about 2 mins. This is a follow up to

time:
2015-08-03T21:39:30Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
comments:
Merge pull request #12609 from rmuir/sane_permissions

improve sanity of securitymanager file permissions

time:
2015-08-03T20:58:25Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
comments:
Improve permissions checking in security tests and fix crazy pidfile parent permissions

time:
2015-08-03T19:40:18Z
class:
comments:
Plugin script: Fix spaces

Fixes ES_HOME with spaces and installing plugins from a local directory
with spaces.

Closes #12504

time:
2015-08-03T18:43:40Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
comments:
improve sanity of securitymanager file permissions

conf/ and plugins/ do not need read-write access: this prevents a lot
of bad possibilities.

time:
2015-08-03T18:42:18Z
class:
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
comments:
Merge pull request #11688 from szroland/master

Add option to `_cat/indices` to return index creation date #11524

time:
2015-08-03T18:28:08Z
class:
comments:
Merge pull request #1 from nik9000/cat_indices_times

[TESTS] cat indices times for UTC - timezones

time:
2015-08-03T17:21:22Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/test/java/org/elasticsearch/bootstrap/SecurityTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerTests.java
comments:
Merge pull request #12351 from rmuir/perms

Remove Environment.homeFile()

time:
2015-08-03T17:20:34Z
class:
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/RealtimeRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/PluginsInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodes.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/AnalyzeRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsIndexRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/shards/TransportIndicesShardStoresAction.java
core/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/explain/ExplainRequest.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/action/get/GetRequest.java
core/src/main/java/org/elasticsearch/action/get/MultiGetRequest.java
core/src/main/java/org/elasticsearch/action/get/MultiGetShardRequest.java
core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java
core/src/main/java/org/elasticsearch/action/get/TransportShardMultiGetAction.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/percolate/TransportShardMultiPercolateAction.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
core/src/main/java/org/elasticsearch/action/support/AutoCreateIndex.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/single/custom/SingleCustomOperationRequest.java
core/src/main/java/org/elasticsearch/action/support/single/custom/SingleCustomOperationRequestBuilder.java
core/src/main/java/org/elasticsearch/action/support/single/custom/TransportSingleCustomOperationAction.java
core/src/main/java/org/elasticsearch/action/support/single/instance/InstanceShardOperationRequest.java
core/src/main/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationAction.java
core/src/main/java/org/elasticsearch/action/support/single/shard/SingleShardRequest.java
core/src/main/java/org/elasticsearch/action/support/single/shard/TransportSingleShardAction.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsShardRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCLIParser.java
core/src/main/java/org/elasticsearch/bootstrap/Elasticsearch.java
core/src/main/java/org/elasticsearch/bootstrap/ElasticsearchF.java
core/src/main/java/org/elasticsearch/bootstrap/JarHell.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java
core/src/main/java/org/elasticsearch/cluster/metadata/AliasOrIndex.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java
core/src/main/java/org/elasticsearch/cluster/routing/AllocationId.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/AllocateAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/command/CancelAllocationCommand.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DisableAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ThrottlingAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/common/cli/CliTool.java
core/src/main/java/org/elasticsearch/common/cli/CliToolConfig.java
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
core/src/main/java/org/elasticsearch/common/io/FileSystemUtils.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FieldValueFactorFunction.java
core/src/main/java/org/elasticsearch/common/settings/loader/XContentSettingsLoader.java
core/src/main/java/org/elasticsearch/common/util/concurrent/KeyedLock.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentParser.java
core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContentParser.java
core/src/main/java/org/elasticsearch/common/xcontent/support/AbstractXContentParser.java
core/src/main/java/org/elasticsearch/discovery/zen/NodeJoinController.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/gateway/GatewayAllocator.java
core/src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
core/src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/gateway/ReplicaShardAllocator.java
core/src/main/java/org/elasticsearch/http/HttpServer.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/cache/request/RequestCacheStats.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/IndexSearcherWrapper.java
core/src/main/java/org/elasticsearch/index/engine/IndexSearcherWrappingService.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractAtomicOrdinalsFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexGeoPointFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexOrdinalsFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DisabledIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/PackedArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentTypeListener.java
core/src/main/java/org/elasticsearch/index/mapper/MappedFieldType.java
core/src/main/java/org/elasticsearch/index/mapper/MapperBuilders.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/ParseContext.java
core/src/main/java/org/elasticsearch/index/mapper/SourceToParse.java
core/src/main/java/org/elasticsearch/index/mapper/core/ByteFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/IntegerFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/LongFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/ShortFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/IndexFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
core/src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
core/src/main/java/org/elasticsearch/index/search/geo/IndexedGeoBoundingBoxQuery.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShardUtils.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/termvectors/ShardTermVectorsService.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/store/IndicesStore.java
core/src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/plugins/PluginInfo.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/plugins/SitePlugin.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
core/src/main/java/org/elasticsearch/rest/action/RestActionModule.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/analyze/RestAnalyzeAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/warmer/put/RestPutWarmerAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodeAttrsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestPluginsAction.java
core/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
core/src/main/java/org/elasticsearch/search/aggregations/TransportAggregationModule.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/range/ipv4/IPv4RangeBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractPercentilesBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/AbstractPercentilesParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/InternalPercentile.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanks.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentileRanksParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/Percentiles.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesMethod.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/PercentilesParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/hdr/AbstractHDRPercentilesAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/hdr/AbstractInternalHDRPercentiles.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/hdr/HDRPercentileRanksAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/hdr/HDRPercentilesAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/hdr/InternalHDRPercentileRanks.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/hdr/InternalHDRPercentiles.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/tdigest/AbstractInternalTDigestPercentiles.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/tdigest/AbstractTDigestPercentilesAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/tdigest/InternalTDigestPercentileRanks.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/tdigest/InternalTDigestPercentiles.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/tdigest/TDigestPercentileRanksAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/tdigest/TDigestPercentilesAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorFactory.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhaseContext.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhaseModule.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhaseParseElement.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsContext.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsParseElement.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
core/src/main/java/org/elasticsearch/search/warmer/IndexWarmersMetaData.java
core/src/main/java/org/elasticsearch/watcher/ResourceWatcherService.java
core/src/test/java/org/elasticsearch/action/IndicesRequestTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/node/info/PluginsInfoTest.java
core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreRequestTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreResponseTest.java
core/src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
core/src/test/java/org/elasticsearch/action/termvectors/TermVectorsUnitTests.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java
core/src/test/java/org/elasticsearch/benchmark/aliases/AliasesBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/HDRPercentilesAggregationBenchmark.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapCliParserTests.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientRetryTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffTests.java
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesTests.java
core/src/test/java/org/elasticsearch/cluster/ack/AckTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/DateMathExpressionResolverTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolverTests.java
core/src/test/java/org/elasticsearch/cluster/routing/ShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/TestShardRouting.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocatePostApiFlagTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/CatAllocationTestBase.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/StartedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesTests.java
core/src/test/java/org/elasticsearch/common/cli/CliToolTestCase.java
core/src/test/java/org/elasticsearch/common/cli/CliToolTests.java
core/src/test/java/org/elasticsearch/common/io/FileSystemUtilsTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/YamlSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsTests.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/gateway/GatewayMetaStateTests.java
core/src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesTests.java
core/src/test/java/org/elasticsearch/gateway/PrimaryShardAllocatorTests.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/BinaryDVFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/DuelFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/FilterFieldDataTest.java
core/src/test/java/org/elasticsearch/index/fielddata/IndexFieldDataServiceTests.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/binary/BinaryMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/boost/CustomBoostMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/boost/FieldLevelBoostTests.java
core/src/test/java/org/elasticsearch/index/mapper/camelcase/CamelCaseFieldNameTests.java
core/src/test/java/org/elasticsearch/index/mapper/compound/CompoundTypesTests.java
core/src/test/java/org/elasticsearch/index/mapper/copyto/CopyToMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/BooleanFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/dynamictemplate/genericstore/GenericStoreDynamicTemplateTests.java
core/src/test/java/org/elasticsearch/index/mapper/dynamictemplate/pathmatch/PathMatchDynamicTemplateTests.java
core/src/test/java/org/elasticsearch/index/mapper/dynamictemplate/simple/SimpleDynamicTemplatesTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/SimpleExternalMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeohashMappingGeoPointTests.java
core/src/test/java/org/elasticsearch/index/mapper/id/IdMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/index/IndexTypeMapperIntegrationTests.java
core/src/test/java/org/elasticsearch/index/mapper/index/IndexTypeMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/internal/FieldNamesFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/ip/SimpleIpMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/lucene/DoubleIndexingDocTest.java
comments:
Merge branch 'master' into perms

Conflicts:
	core/src/test/java/org/elasticsearch/plugins/PluginManagerTests.java

time:
2015-08-03T16:45:13Z
class:
plugins/site-example/src/test/java/org/elasticsearch/example/SiteRestIT.java
comments:
Merge pull request #12604 from dadoonet/maven/rename-site-example

[build] rename site example plugin to site-example

time:
2015-08-03T16:41:04Z
class:
plugins/site-example/src/test/java/org/elasticsearch/example/SiteRestIT.java
comments:
[build] rename site example plugin to site-example

Just to be consistent in plugin naming convention we have today: `plugin_type-plugin_name`

So it's a `site` plugin.

time:
2015-08-03T15:46:27Z
class:
comments:
[TESTS] cat indices times for UTC - timezones

time:
2015-08-03T14:15:37Z
class:
core/src/test/java/org/elasticsearch/test/rest/Rest0IT.java
core/src/test/java/org/elasticsearch/test/rest/Rest1IT.java
core/src/test/java/org/elasticsearch/test/rest/Rest2IT.java
core/src/test/java/org/elasticsearch/test/rest/Rest3IT.java
core/src/test/java/org/elasticsearch/test/rest/Rest4IT.java
core/src/test/java/org/elasticsearch/test/rest/Rest5IT.java
core/src/test/java/org/elasticsearch/test/rest/Rest6IT.java
core/src/test/java/org/elasticsearch/test/rest/Rest7IT.java
comments:
Merge pull request #12602 from rmuir/core_integ_tests

Add integration test phase for elasticsearch core/

time:
2015-08-03T14:08:43Z
class:
comments:
Merge pull request #12601 from rmuir/another_shading_test

Test that shaded jar contains only shaded classes

time:
2015-08-03T13:43:11Z
class:
core/src/test/java/org/elasticsearch/test/rest/Rest0IT.java
core/src/test/java/org/elasticsearch/test/rest/Rest1IT.java
core/src/test/java/org/elasticsearch/test/rest/Rest2IT.java
core/src/test/java/org/elasticsearch/test/rest/Rest3IT.java
core/src/test/java/org/elasticsearch/test/rest/Rest4IT.java
core/src/test/java/org/elasticsearch/test/rest/Rest5IT.java
core/src/test/java/org/elasticsearch/test/rest/Rest6IT.java
core/src/test/java/org/elasticsearch/test/rest/Rest7IT.java
comments:
Add integration test phase for elasticsearch core/

time:
2015-08-03T13:19:28Z
class:
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhaseContext.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhaseModule.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhaseParseElement.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsContext.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsParseElement.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginTests.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
comments:
Merge pull request #12400 from brwe/plug-fetch-sub-phases

Make fetch sub phases pluggable

time:
2015-08-03T12:56:45Z
class:
comments:
Test that shaded jar contains only shaded classes

time:
2015-08-03T12:11:49Z
class:
core/src/main/java/org/elasticsearch/common/util/concurrent/PrioritizedEsThreadPoolExecutor.java
comments:
Fix concurrency issue in PrioritizedEsThreadPoolExecutor.

Tasks can be registered with a timeout, which runs as a task in a separate
threadpool. The idea is that the timeout runner cancels the main task when
the time is out, and the timeout runner is cancelled when the main task
starts executing. However, the following statement:

```java
                    timeoutFuture = timer.schedule(new Runnable() {
                        @Override
                        public void run() {
                            if (remove(TieBreakingPrioritizedRunnable.this)) {
                                runAndClean(timeoutCallback);
                            }
                        }
                    }, timeValue.nanos(), TimeUnit.NANOSECONDS);
```

is not atomic: the removal task is first started, and then the (volatile)
variable is assigned. As a consequence, there is a short window that allows
a timeout task to wait until the time is out even if the task is already
completed.

See http://build-us-00.elastic.co/job/es_core_17_centos/496/ for an example of
such a failure.

time:
2015-08-03T12:10:50Z
class:
core/src/main/java/org/elasticsearch/bootstrap/JarHell.java
comments:
Merge pull request #12589 from rmuir/shading_cleanup

Fix shaded jar packaging

time:
2015-08-03T10:55:15Z
class:
core/src/test/java/org/elasticsearch/search/preference/SearchPreferenceTests.java
comments:
 Tests: Add more logging to SearchPreferenceTests so that we can know which preference is failing.

time:
2015-08-03T10:15:40Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorFactories.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorFactory.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/DerivativeTests.java
comments:
Aggregations: Full path validation for pipeline aggregations

Previously only the first aggregation in a buckets_path was check to make sure the aggregation existed. Now the whole path is checked to ensure an aggregation exists at each element in the buckets_path

Closes #12360

time:
2015-08-03T09:54:55Z
class:
core/src/main/java/org/elasticsearch/bootstrap/JarHell.java
comments:
Add jar hell check test for the shaded jar

time:
2015-08-03T09:27:08Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/Elasticsearch.java
core/src/main/java/org/elasticsearch/bootstrap/ElasticsearchF.java
comments:
Merge pull request #12586 from rmuir/exit_value

Fix Bootstrap to not call System.exit

time:
2015-08-03T09:19:04Z
class:
core/src/main/java/org/elasticsearch/index/shard/ShardUtils.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/plugins/SitePlugin.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
core/src/test/java/org/elasticsearch/plugins/SitePluginRelativePathConfigTests.java
core/src/test/java/org/elasticsearch/plugins/SitePluginTests.java
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/blobstore/S3BlobStore.java
plugins/example-site/src/test/java/org/elasticsearch/example/SiteRestIT.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-08-03T09:02:16Z
class:
plugins/cloud-aws/src/main/java/org/elasticsearch/cloud/aws/blobstore/S3BlobStore.java
comments:
Add comment about AWS S3 "doesBucketExist()" method

time:
2015-08-03T08:27:53Z
class:
core/src/main/java/org/elasticsearch/index/shard/ShardUtils.java
comments:
Merge pull request #12594 from martijnvg/ShardUtils#getElasticsearchDirectoryReader

Fix ShardUtils#getElasticsearchDirectoryReader()

time:
2015-08-03T07:54:56Z
class:
core/src/main/java/org/elasticsearch/index/shard/ShardUtils.java
comments:
fix ShardUtils#getElasticsearchDirectoryReader(...) to use FilterDirectoryReader#getDelegate()

time:
2015-08-02T19:52:00Z
class:
comments:
remove extra space in test regexp

time:
2015-08-02T18:53:03Z
class:
comments:
testing output, both with default field names and shorthand aliases

time:
2015-08-02T18:53:03Z
class:
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
comments:
using default timezone explicitly

time:
2015-08-02T18:53:02Z
class:
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
comments:
Add option to `_cat/indices` to return index creation date #11524

Returning index creation date, both as a numeric millisecond value and
as a string. This implements #11524

time:
2015-08-02T03:39:40Z
class:
comments:
Fixed official api name in docs

time:
2015-08-01T18:02:14Z
class:
comments:
clear up dependency hell a bit more

time:
2015-08-01T16:44:00Z
class:
comments:
fix shading to create correct POM and not drag in wacky dependencies

time:
2015-08-01T15:37:43Z
class:
comments:
move shading to distribution/shaded

time:
2015-08-01T13:10:03Z
class:
comments:
clean up .zip handling so its not uselessly downloaded in the build

time:
2015-08-01T09:14:46Z
class:
comments:
Remove delete-by-query core docs

We moved delete-by-query from core to a plugin, but forgot to remove the core docs.

Closes #12585

time:
2015-07-31T23:41:55Z
class:
comments:
Merge pull request #12588 from sylvinus/patch-1

Fix typo in docs

time:
2015-07-31T23:11:04Z
class:
comments:
Fix typo in docs

time:
2015-07-31T18:13:00Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/Elasticsearch.java
core/src/main/java/org/elasticsearch/bootstrap/ElasticsearchF.java
comments:
make this less syntactically confusing

time:
2015-07-31T18:00:18Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/Elasticsearch.java
core/src/main/java/org/elasticsearch/bootstrap/ElasticsearchF.java
comments:
Fix Bootstrap to not call System.exit

Its not going to work: its blocked by security policy
and will just add a confusing SecurityException to the mix, and
bogusly give an exit status of 0 when in fact something bad happened.

Finally, if ES can't startup, it is a serious problem, there is
no sense in hiding the reason why: deliver the full stack trace.

time:
2015-07-31T17:02:29Z
class:
comments:
Change capitalization of "as"

The documentation has "Running As a Service on Linux" and "Running as a Service on Windows." The capitalization ought to be consistent.

time:
2015-07-31T17:00:24Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/test/java/org/elasticsearch/plugins/SitePluginRelativePathConfigTests.java
core/src/test/java/org/elasticsearch/plugins/SitePluginTests.java
comments:
restore my lost code changes and add measures to detect/prevent this in the future

time:
2015-07-31T16:11:05Z
class:
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java
comments:
Create a directory during repository verification

The repository verification process should create a subdirectory to make sure we check permission of newly created directories in case elasticsearch processes on different nodes are running using different uids and creating blobs with incompatible permissions.

Closes #11611

time:
2015-07-31T14:43:32Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/plugins/SitePlugin.java
plugins/example-site/src/test/java/org/elasticsearch/example/SiteRestIT.java
comments:
Merge pull request #12577 from rmuir/site_plugin_tests

don't represent site plugins with 'null' anymore

time:
2015-07-31T14:20:50Z
class:
comments:
remove unused properties sections from distribution modules

time:
2015-07-31T14:05:11Z
class:
core/src/main/java/org/elasticsearch/plugins/SitePlugin.java
comments:
cleanup

time:
2015-07-31T13:41:39Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/plugins/SitePlugin.java
plugins/example-site/src/test/java/org/elasticsearch/example/SiteRestIT.java
comments:
don't represent site plugins with 'null' anymore

time:
2015-07-31T08:56:05Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCLIParser.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/common/cli/CliTool.java
core/src/main/java/org/elasticsearch/common/cli/CliToolConfig.java
core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapCliParserTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesTests.java
core/src/test/java/org/elasticsearch/common/cli/CliToolTestCase.java
core/src/test/java/org/elasticsearch/common/cli/CliToolTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerCliTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerTests.java
distribution/deb/src/test/java/org/elasticsearch/test/rest/RestIT.java
distribution/rpm/src/test/java/org/elasticsearch/test/rest/RestIT.java
distribution/tar/src/test/java/org/elasticsearch/test/rest/RestIT.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-07-31T03:08:48Z
class:
comments:
Changing ImmutableSettings to Settings for ES 2.0

time:
2015-07-31T03:05:07Z
class:
comments:
Adding downsides for the embedded node client

Note: this is being committed to the 1.6 and 1.7 branches.

time:
2015-07-30T22:32:54Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesTests.java
comments:
Reroute shards when a node goes under disk watermarks

Previously we issued a reroute when a node went over the high watermark
in order to move shards away from the node. This change tracks nodes
that have previously been over the high or low watermarks and issues a
reroute when the node goes back underneath the watermark.

This allows shards that may be unassigned to be assigned back to a node
that was previously over the low watermark but no longer is.

Resolves #12422

time:
2015-07-30T19:56:33Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
comments:
don't lose stacktrace if a plugin somehow makes jar hell

time:
2015-07-30T15:48:01Z
class:
comments:
Tests: Silencing failing node attrs REST test

time:
2015-07-30T15:47:21Z
class:
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhaseContext.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginTests.java
comments:
more review comments

time:
2015-07-30T14:12:14Z
class:
core/src/test/java/org/elasticsearch/bootstrap/BootstrapCliParserTests.java
core/src/test/java/org/elasticsearch/common/cli/CliToolTestCase.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerCliTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerTests.java
comments:
Tests: Fix CLI help checking tests under windows

As windows has different line endings and this has
already been fixed by another test, the method has been
moved into CliToolTestCase.

In addition one test has been removed, as it was redundant.

time:
2015-07-30T14:01:53Z
class:
comments:
Merge pull request #12521 from nik9000/eclipse_gitignore

Consolidate .gitignore entires for eclipse

time:
2015-07-30T13:18:09Z
class:
distribution/deb/src/test/java/org/elasticsearch/test/rest/RestIT.java
distribution/rpm/src/test/java/org/elasticsearch/test/rest/RestIT.java
distribution/tar/src/test/java/org/elasticsearch/test/rest/RestIT.java
comments:
Merge pull request #12549 from rmuir/distribution_tests_1

add integration tests for tar/deb/rpm packaging

time:
2015-07-30T11:20:29Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapCLIParser.java
core/src/main/java/org/elasticsearch/common/cli/CliTool.java
core/src/main/java/org/elasticsearch/common/cli/CliToolConfig.java
core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapCliParserTests.java
core/src/test/java/org/elasticsearch/common/cli/CliToolTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerCliTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerTests.java
comments:
Startup: Remove getopt parsing in shell script, use java CLITool

In order to ensure, we have the same experience across operating systems
and shells, this commit uses the java CLI parser instead of the shell
getopt parsing to parse arguments.

This also allows for support for paths, which contain spaces.

Also commons-cli depdency was upgraded to 1.3.1 and tests have been added.

Changes

* new exit code, OK_AND_EXIT, allowing to tell the caller to exit, as everything
  went as expected (e.g. when running a version output)

BWC breaking:

* execute() returns an ExitStatus instead of an integer, otherwise there is no
  possibility to signal by a command, if the JVM should be exited after a run.
  This affects plugins, that have command line tools
* -v used to be version, but is a verbose flag by default in the current CLI infra,
  must be -V or --version now
* -X has been removed - the current implementation was useless anyway, as
  it prefixed those properties with "es.". You should use
  ES_JAVA_OPTS/JAVA_OPTS for JVM configuration

time:
2015-07-30T09:34:10Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
comments:
made `dateMathExpressionResolver` final

time:
2015-07-30T09:33:53Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/RealtimeRequest.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/get/GetRequest.java
core/src/main/java/org/elasticsearch/action/get/MultiGetRequest.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
core/src/main/java/org/elasticsearch/action/support/AutoCreateIndex.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/rest/action/RestActionModule.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodeAttrsAction.java
core/src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/DateMathExpressionResolverTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolverTests.java
core/src/test/java/org/elasticsearch/indices/DateMathIndexExpressionsIntegrationTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/HDRPercentileRanksTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/HDRPercentilesTests.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-07-30T08:24:55Z
class:
comments:
Build: Set the correct sha1 for HDRHistogram.

time:
2015-07-30T08:18:06Z
class:
comments:
Tests: Disable system assertions for now.

We have had lots of test failures due to Groovy scripts making an assertion
trip in
`sun.reflect.generics.reflectiveObjects.WildcardTypeImpl.getLowerBoundASTs`.
See https://issues.apache.org/jira/browse/GROOVY-7528.

time:
2015-07-30T08:05:23Z
class:
core/src/test/java/org/elasticsearch/search/aggregations/metrics/HDRPercentileRanksTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/HDRPercentilesTests.java
comments:
Merge pull request #12554 from jpountz/upgrade/hdr_histogram_216

Upgrade HDRHistogram to version 2.1.6.

time:
2015-07-30T07:55:12Z
class:
core/src/test/java/org/elasticsearch/search/aggregations/metrics/HDRPercentileRanksTests.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/HDRPercentilesTests.java
comments:
Upgrade HDRHistogram to version 2.1.6.

This release fixes https://github.com/HdrHistogram/HdrHistogram/pull/68 which
we have been hitting in our CI tests, for instance:
http://build-us-00.elastic.co/job/es_core_master_metal/10567/

time:
2015-07-30T02:26:45Z
class:
distribution/rpm/src/test/java/org/elasticsearch/test/rest/RestIT.java
comments:
Add integration tests for distribution/rpm

time:
2015-07-30T01:34:46Z
class:
distribution/deb/src/test/java/org/elasticsearch/test/rest/RestIT.java
comments:
Add integration tests for distribution/deb

time:
2015-07-29T21:01:22Z
class:
core/src/main/java/org/elasticsearch/rest/action/RestActionModule.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodeAttrsAction.java
comments:
Merge pull request #12534 from metadave/feature/cat_nodeattrs

Add _cat/nodeattrs API

time:
2015-07-29T20:11:18Z
class:
core/src/main/java/org/elasticsearch/rest/action/RestActionModule.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodeAttrsAction.java
comments:
Add _cat/nodeattrs API

This provides a _cat/nodeattrs API call, which presents
custom node attributes in a denormalized table.

Closes #8000

time:
2015-07-29T19:47:11Z
class:
core/src/main/java/org/elasticsearch/action/RealtimeRequest.java
core/src/main/java/org/elasticsearch/action/get/GetRequest.java
core/src/main/java/org/elasticsearch/action/get/MultiGetRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/TermVectorsRequest.java
comments:
Added RealtimeRequest interface and let GetRequest, MultiGetRequest, TermVectorsRequest and MultiTermVectorsRequest implement it.

This is useful because now all requests that are realtime are now grouped under the same marker interface.

time:
2015-07-29T19:33:29Z
class:
distribution/tar/src/test/java/org/elasticsearch/test/rest/RestIT.java
comments:
Add integration tests for distribution/tar

time:
2015-07-29T18:42:32Z
class:
comments:
Merge pull request #12541 from metadave/dp_testing_run_docs

update TESTING doc to use run.sh script

time:
2015-07-29T18:41:23Z
class:
comments:
update TESTING doc to use run.sh script

time:
2015-07-29T18:38:37Z
class:
comments:
Merge pull request #12540 from rmuir/run_dot_sh

Add a run.sh to run from current source code with debugger

time:
2015-07-29T18:32:05Z
class:
comments:
explicitly add dev-tools, it doesnt use our parent, which might be scarier

time:
2015-07-29T18:30:18Z
class:
comments:
make this more bulletproof by using current dev-tools/poms/etc too

time:
2015-07-29T18:21:43Z
class:
comments:
Add a run.sh to run from current source code with debugger

The maven magic needed for this is now heavier

time:
2015-07-29T15:37:11Z
class:
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
comments:
generic for sub classes also?

time:
2015-07-29T15:33:55Z
class:
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchTypeAction.java
core/src/main/java/org/elasticsearch/action/support/AutoCreateIndex.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/DateMathExpressionResolverTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolverTests.java
core/src/test/java/org/elasticsearch/indices/DateMathIndexExpressionsIntegrationTests.java
comments:
Added date math support in index names

Date math index name resolution enables you to search a range of time-series indices, rather than searching all of your time-series indices and filtering the the results or maintaining aliases. Limiting the number of indices that are searched reduces the load on the cluster and improves execution performance. For example, if you are searching for errors in your daily logs, you can use a date math name template to restrict the search to the past two days.

The added `ExpressionResolver` implementation that is responsible for resolving date math expressions in index names. This resolver is evaluated before wildcard expressions are evaluated.

The supported format: `<static_name{date_math_expr{date_format|timezone_id}}>` and the date math expressions must be enclosed within angle brackets. The `date_format` is optional and defaults to `YYYY.MM.dd`. The `timezone_id` id is optional too and defaults to `utc`.

The `{` character can be escaped by places `\\` before it.

Closes #12059

time:
2015-07-29T14:46:13Z
class:
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsFetchSubPhase.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginTests.java
comments:
more generic?

time:
2015-07-29T14:06:40Z
class:
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhaseParseElement.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsParseElement.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginTests.java
comments:
add SearchContext to innerParse method

time:
2015-07-29T14:00:37Z
class:
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhaseParseElement.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsParseElement.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginTests.java
comments:
make Context generic so we don't have to cast

time:
2015-07-29T13:54:26Z
class:
comments:
Build: Remove profile to create attached RPM

This is no longer necessary, as the RPM is now built as
a primary artifact, so no need to deploy it as a secondary
artifact anymore.

Closes #12529

time:
2015-07-29T13:44:58Z
class:
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhaseContext.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhaseModule.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhaseParseElement.java
comments:
add some documentation

time:
2015-07-29T13:44:58Z
class:
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
comments:
remove unused imports and vars

time:
2015-07-29T13:44:58Z
class:
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhaseContext.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhaseParseElement.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsContext.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsParseElement.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginTests.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
comments:
remove hasFetchSubPhaseContext

time:
2015-07-29T13:44:58Z
class:
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
comments:
toArray

time:
2015-07-29T13:44:58Z
class:
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsContext.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsParseElement.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
comments:
make fielddata fields a plugin

time:
2015-07-29T13:44:58Z
class:
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhaseContext.java
core/src/main/java/org/elasticsearch/search/fetch/FetchSubPhaseModule.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginTests.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
comments:
make fetch sub phases pluggable

time:
2015-07-29T12:39:25Z
class:
comments:
Disable license checker temporarily to get regression builds working again
x

time:
2015-07-29T10:31:39Z
class:
core/src/main/java/org/elasticsearch/Version.java
comments:
Releases: Added version numbers & bwc indices for 1.6.2/1.7.1

time:
2015-07-29T08:51:08Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/hdr/AbstractInternalHDRPercentiles.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregator.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsTests.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryTests.java
plugins/cloud-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreITest.java
comments:
Merge branch 'master' into feature/query-refactoring

time:
2015-07-29T08:33:27Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregator.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsTests.java
comments:
Merge pull request #12518 from martijnvg/top_hits/bug/protected_against_crazy_size

Protected against  `size` and `offset` larger than total number of document in a shard

time:
2015-07-28T22:19:01Z
class:
comments:
Consolidate .gitignore entires for eclipse

Rather than specify paths for the .gitignored files that Eclipse uses for
project management just ignore all files and directories that look like
those directories. That way we can add new subprojects and we won't need
add more .gitignore entries.

time:
2015-07-28T20:57:45Z
class:
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
comments:
Merge pull request #12509 from metadave/dp_snake_case_dates

Default date formats to use underscores via PUT

time:
2015-07-28T20:19:45Z
class:
comments:
Added an import statement.

time:
2015-07-28T19:48:40Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
comments:
Add more debugging information to the Awareness Decider

Relates to #12431

time:
2015-07-28T19:44:55Z
class:
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
comments:
Use consistent check whether or not timeout is set

time:
2015-07-28T19:38:58Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/metrics/tophits/TopHitsAggregator.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/TopHitsTests.java
comments:
top_hits: If topN (based on `offset` + `size`) is higher than the maxDoc of an shard then normalize topN to maxDoc.

Closes #12510

time:
2015-07-28T14:18:17Z
class:
core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
core/src/test/java/org/elasticsearch/search/query/SearchQueryTests.java
comments:
Merge _all: Stop NPE querying _all when it doesn't exist

time:
2015-07-28T14:04:28Z
class:
core/src/main/java/org/elasticsearch/index/mapper/core/DateFieldMapper.java
core/src/test/java/org/elasticsearch/index/mapper/date/SimpleDateMappingTests.java
comments:
Use underscores for date formats

@clintongormley

Closes #12429

time:
2015-07-28T13:46:28Z
class:
plugins/cloud-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreITest.java
comments:
Merge pull request #12491 from jasontedor/fix/elasticsearch-cloud-azure-100

Add integration test for Azure snapshot repository bug

time:
2015-07-28T13:25:06Z
class:
core/src/main/java/org/elasticsearch/common/lucene/all/AllTermQuery.java
comments:
_all: Add missing boost

When we rewrite to a MatchNoTermsQuery we were throwing out the boost which
could could lead to funky changes when the query against _all was in a
bool query.

