time:
2015-10-31T06:39:35Z
class:
comments:
fix eclipse (again)

time:
2015-10-31T04:32:16Z
class:
comments:
fix eclipse config for qa projects

time:
2015-10-31T03:09:35Z
class:
comments:
Merge pull request #14407 from rmuir/cleanThisOneAlways

make gradle eclipse always run cleanEclipse

time:
2015-10-31T03:07:40Z
class:
comments:
add equivalent gradle commands

time:
2015-10-31T03:00:05Z
class:
comments:
make gradle eclipse always run cleanEclipse

Otherwise the 'merging' gets really trappy. it basically never works without a clean.

See 38.4.1.1. Disabling merging with a complete rewrite:
https://docs.gradle.org/current/userguide/eclipse_plugin.html

time:
2015-10-31T01:59:11Z
class:
comments:
Merge pull request #14375 from rjernst/sweep_up_maven

Remove maven pom files and supporting ant files

time:
2015-10-30T22:20:09Z
class:
comments:
Merge pull request #14402 from rjernst/reorganize_rr_gradle_plugin

Move RR gradle plugin files to match external repo paths

time:
2015-10-30T20:56:11Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
comments:
Move logging for the amount of free disk to TRACE

Since this can potentially be logged for every `canRemain`, it's nicer
to put it in TRACE rather than DEBUG.

Resolves #12843

time:
2015-10-30T20:22:59Z
class:
comments:
Build: Move RR gradle plugin files to match external repo paths

The RR gradle plugin is at
https://github.com/randomizedtesting/gradle-randomized-testing-plugin.
However, we currently have a copy of this, since the plugin is still in
heavy development. This change moves the files around so they can be
copied directly from the elasticsearch fork to that repo, for ease of
syncing.

time:
2015-10-30T20:14:52Z
class:
comments:
Merge pull request #14401 from rjernst/tests_output_mode

Add back -Dtests.output support

time:
2015-10-30T20:05:46Z
class:
comments:
Build: Add back -Dtests.output support

This change fixes the test logging for randomized testing to support
tests.output like maven/ant do.

time:
2015-10-30T19:50:34Z
class:
comments:
revert updating lucene snapshot version in pom

time:
2015-10-30T19:42:02Z
class:
comments:
update to lucene-5.4.x-snapshot-1711508

time:
2015-10-30T18:32:31Z
class:
comments:
Merge pull request #14389 from rmuir/gradle_eclipse

Get eclipse working easier with gradle

time:
2015-10-30T18:21:06Z
class:
comments:
make eclipse work without specifying a sysprop

time:
2015-10-30T17:57:17Z
class:
comments:
Update mapping PUT should use /_mapping

Instead of /mapping

time:
2015-10-30T16:36:25Z
class:
comments:
Add FSCrawler

time:
2015-10-30T16:34:08Z
class:
core/src/main/java/org/elasticsearch/action/get/GetRequestBuilder.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/Mapping.java
core/src/main/java/org/elasticsearch/script/ScriptContext.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/search/fetch/source/FetchSourceContext.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
plugins/lang-expression/src/test/java/org/elasticsearch/script/expression/MoreExpressionTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TransformOnIndexMapperTests.java
comments:
Merge pull request #13657 from nik9000/remove_transport

Remove transform

time:
2015-10-30T16:04:34Z
class:
comments:
Add community plugin

time:
2015-10-30T15:46:54Z
class:
core/src/main/java/org/elasticsearch/action/get/GetRequestBuilder.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/Mapping.java
core/src/main/java/org/elasticsearch/script/ScriptContext.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/search/fetch/source/FetchSourceContext.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
plugins/lang-expression/src/test/java/org/elasticsearch/script/expression/MoreExpressionTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TransformOnIndexMapperTests.java
comments:
[mapping] Remove transform

Removes the mapping transform feature which when used made debugging very
difficult. Users should transform their documents on the way into
Elasticsearch rather than having Elasticsearch do it.

Closes #12674

time:
2015-10-30T15:39:31Z
class:
comments:
Get eclipse working with gradle

time:
2015-10-30T15:36:00Z
class:
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/MatchNoneQueryParser.java
core/src/main/java/org/elasticsearch/index/query/TypeQueryParser.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryParser.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/ConstantScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/MatchNoneQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
comments:
Tests: Check exception from query parsers for unknown field

Most query parsers throw a ParsingException when they trying
to parse a field with an unknown name. This adds a generic
check for this to the AbstractQueryTestCase so the behaviour
gets tested for all query parsers. The test works by first
making sure the test query has a `boost` field and then
changing this to an unknown field name and checking for an
error.

There are exceptions to this for WrapperQueryBuilder
and QueryFilterBuilder, because here the parser only expects
the wrapped `query` element. MatchNoneQueryBuilder and
MatchAllQueryBuilder so far had setters for boost() and
queryName() but didn't render them, which is added here for
consistency.

GeoDistance, GeoDistanceRange and GeoHashCellQuery so far
treat unknown field names in the json as the target field name
of the center point of the query, which so far was handled by
overwriting points previously specified in the query. This
is changed here so that an attempt to use two different field names
to specify the central point of the query throws a
ParsingException

Relates to #10974

time:
2015-10-30T15:34:16Z
class:
comments:
Merge remote-tracking branch 'dakrone/add-dir-locals.el'

time:
2015-10-30T11:01:31Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/analysis/ASCIIFoldingTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisRegistry.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisSettingsRequired.java
core/src/main/java/org/elasticsearch/index/analysis/AnalyzerProviderFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ApostropheFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ArabicAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ArabicNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ArabicStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ArmenianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/BasqueAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/BrazilianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/BrazilianStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/BulgarianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CJKBigramFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CJKWidthFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CatalanAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CharFilterFactoryFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ChineseAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CjkAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ClassicFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ClassicTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CommonGramsTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CustomAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CzechAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CzechStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/DanishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/DecimalDigitFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/DelimitedPayloadTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/DutchAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/DutchStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/EdgeNGramTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/EdgeNGramTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ElisionTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/EnglishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/FinnishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/FrenchAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/FrenchStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/GalicianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/GermanAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/GermanNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/GermanStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/GreekAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/HindiAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/HindiNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/HtmlStripCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/HungarianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/HunspellTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/IndicNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/IndonesianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/IrishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ItalianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/KStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeepTypesFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeepWordFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeywordAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/KeywordMarkerTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeywordTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LatvianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/LengthTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LetterTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LimitTokenCountFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LithuanianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/LowerCaseTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LowerCaseTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/MappingCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/NGramTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/NGramTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/NorwegianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/PathHierarchyTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PatternAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/PatternCaptureGroupTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PatternReplaceCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PatternReplaceTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PatternTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PersianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/PersianNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PorterStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PortugueseAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/PreBuiltAnalyzerProviderFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PreBuiltCharFilterFactoryFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PreBuiltTokenFilterFactoryFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PreBuiltTokenizerFactoryFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ReverseTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/RomanianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/RussianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/RussianStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ScandinavianFoldingFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ScandinavianNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SerbianNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ShingleTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SimpleAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/SnowballAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/SnowballTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SoraniAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/SoraniNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SpanishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StandardAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StandardHtmlStripAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StandardTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/StandardTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/StemmerOverrideTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/StemmerTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/StopAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StopTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SwedishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/SynonymTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ThaiAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ThaiTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/TokenFilterFactoryFactory.java
core/src/main/java/org/elasticsearch/index/analysis/TokenizerFactoryFactory.java
core/src/main/java/org/elasticsearch/index/analysis/TrimTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/TruncateTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/TurkishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/UAX29URLEmailTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/UniqueTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/UpperCaseTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/WhitespaceAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/WhitespaceTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/WordDelimiterTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/compound/AbstractCompoundWordTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/compound/DictionaryCompoundWordTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/compound/HyphenationCompoundWordTokenFilterFactory.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/indices/analysis/HunspellService.java
core/src/main/java/org/elasticsearch/indices/analysis/IndicesAnalysisService.java
core/src/main/java/org/elasticsearch/indices/analysis/PreBuiltCacheFactory.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/test/java/org/elasticsearch/action/admin/indices/TransportAnalyzeActionTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisServiceTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisTestsHelper.java
core/src/test/java/org/elasticsearch/index/analysis/CharFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
core/src/test/java/org/elasticsearch/index/analysis/KeepFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/NGramTokenizerFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/PatternCaptureTokenFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/PreBuiltCharFilterFactoryFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/PreBuiltTokenFilterFactoryFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/PreBuiltTokenizerFactoryFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/StopAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/analysis/StopTokenFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/commongrams/CommonGramsTokenFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/filter1/MyFilterTokenFilterFactory.java
core/src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/indices/IndicesModuleTests.java
core/src/test/java/org/elasticsearch/indices/analysis/DummyAnalysisBinderProcessor.java
core/src/test/java/org/elasticsearch/indices/analysis/DummyAnalysisPlugin.java
core/src/test/java/org/elasticsearch/indices/analysis/DummyIndicesAnalysis.java
core/src/test/java/org/elasticsearch/indices/analysis/DummyIndicesAnalysisModule.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuAnalysisBinderProcessor.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuCollationTokenFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuFoldingTokenFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuNormalizerCharFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuNormalizerTokenFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuTokenizerFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuTransformTokenFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/indices/analysis/IcuIndicesAnalysis.java
plugins/analysis-icu/src/main/java/org/elasticsearch/indices/analysis/IcuIndicesAnalysisModule.java
plugins/analysis-icu/src/main/java/org/elasticsearch/plugin/analysis/icu/AnalysisICUPlugin.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/AnalysisTestUtils.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/SimpleIcuAnalysisTests.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/JapaneseStopTokenFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiAnalyzerProvider.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiBaseFormFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiIterationMarkCharFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiKatakanaStemmerFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiPartOfSpeechFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiReadingFormFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiTokenizerFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/indices/analysis/KuromojiIndicesAnalysis.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/indices/analysis/KuromojiIndicesAnalysisModule.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/plugin/analysis/kuromoji/AnalysisKuromojiPlugin.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java
plugins/analysis-phonetic/src/main/java/org/elasticsearch/index/analysis/PhoneticAnalysisBinderProcessor.java
plugins/analysis-phonetic/src/main/java/org/elasticsearch/index/analysis/PhoneticTokenFilterFactory.java
plugins/analysis-phonetic/src/main/java/org/elasticsearch/plugin/analysis/AnalysisPhoneticPlugin.java
plugins/analysis-phonetic/src/test/java/org/elasticsearch/index/analysis/SimplePhoneticAnalysisTests.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/index/analysis/SmartChineseAnalysisBinderProcessor.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/index/analysis/SmartChineseAnalyzerProvider.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/index/analysis/SmartChineseNoOpTokenFilterFactory.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/index/analysis/SmartChineseTokenizerTokenizerFactory.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/indices/analysis/smartcn/SmartChineseIndicesAnalysis.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/indices/analysis/smartcn/SmartChineseIndicesAnalysisModule.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/plugin/analysis/smartcn/AnalysisSmartChinesePlugin.java
plugins/analysis-smartcn/src/test/java/org/elasticsearch/index/analysis/SimpleSmartChineseAnalysisTests.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/index/analysis/pl/PolishAnalysisBinderProcessor.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/index/analysis/pl/PolishAnalyzerProvider.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/index/analysis/pl/PolishStemTokenFilterFactory.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/indices/analysis/pl/PolishIndicesAnalysis.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/indices/analysis/pl/PolishIndicesAnalysisModule.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/plugin/analysis/stempel/AnalysisStempelPlugin.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/PolishAnalysisTests.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/SimplePolishTokenFilterTests.java
comments:
Merge pull request #14355 from s1monw/rewrite_analysis_registry

Simplify Analysis registration and configuration

time:
2015-10-30T10:40:18Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/analysis/ASCIIFoldingTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisRegistry.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisSettingsRequired.java
core/src/main/java/org/elasticsearch/index/analysis/AnalyzerProviderFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ApostropheFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ArabicAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ArabicNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ArabicStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ArmenianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/BasqueAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/BrazilianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/BrazilianStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/BulgarianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CJKBigramFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CJKWidthFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CatalanAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CharFilterFactoryFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ChineseAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CjkAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ClassicFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ClassicTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CommonGramsTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CustomAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CzechAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CzechStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/DanishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/DecimalDigitFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/DelimitedPayloadTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/DutchAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/DutchStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/EdgeNGramTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/EdgeNGramTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ElisionTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/EnglishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/FinnishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/FrenchAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/FrenchStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/GalicianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/GermanAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/GermanNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/GermanStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/GreekAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/HindiAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/HindiNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/HtmlStripCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/HungarianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/HunspellTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/IndicNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/IndonesianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/IrishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ItalianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/KStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeepTypesFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeepWordFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeywordAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/KeywordMarkerTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeywordTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LatvianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/LengthTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LetterTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LimitTokenCountFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LithuanianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/LowerCaseTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LowerCaseTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/MappingCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/NGramTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/NGramTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/NorwegianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/PathHierarchyTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PatternAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/PatternCaptureGroupTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PatternReplaceCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PatternReplaceTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PatternTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PersianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/PersianNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PorterStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PortugueseAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/PreBuiltAnalyzerProviderFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PreBuiltCharFilterFactoryFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PreBuiltTokenFilterFactoryFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PreBuiltTokenizerFactoryFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ReverseTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/RomanianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/RussianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/RussianStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ScandinavianFoldingFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ScandinavianNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SerbianNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ShingleTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SimpleAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/SnowballAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/SnowballTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SoraniAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/SoraniNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SpanishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StandardAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StandardHtmlStripAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StandardTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/StandardTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/StemmerOverrideTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/StemmerTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/StopAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StopTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SwedishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/SynonymTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ThaiAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ThaiTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/TokenFilterFactoryFactory.java
core/src/main/java/org/elasticsearch/index/analysis/TokenizerFactoryFactory.java
core/src/main/java/org/elasticsearch/index/analysis/TrimTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/TruncateTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/TurkishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/UAX29URLEmailTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/UniqueTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/UpperCaseTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/WhitespaceAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/WhitespaceTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/WordDelimiterTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/compound/AbstractCompoundWordTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/compound/DictionaryCompoundWordTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/compound/HyphenationCompoundWordTokenFilterFactory.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/analysis/AnalysisModule.java
core/src/main/java/org/elasticsearch/indices/analysis/HunspellService.java
core/src/main/java/org/elasticsearch/indices/analysis/IndicesAnalysisService.java
core/src/main/java/org/elasticsearch/indices/analysis/PreBuiltCacheFactory.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/test/java/org/elasticsearch/action/admin/indices/TransportAnalyzeActionTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisServiceTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisTestsHelper.java
core/src/test/java/org/elasticsearch/index/analysis/CharFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
core/src/test/java/org/elasticsearch/index/analysis/KeepFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/NGramTokenizerFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/PatternCaptureTokenFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/PreBuiltCharFilterFactoryFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/PreBuiltTokenFilterFactoryFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/PreBuiltTokenizerFactoryFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/StopAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/analysis/StopTokenFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/commongrams/CommonGramsTokenFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/filter1/MyFilterTokenFilterFactory.java
core/src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/indices/IndicesModuleTests.java
core/src/test/java/org/elasticsearch/indices/analysis/DummyAnalysisBinderProcessor.java
core/src/test/java/org/elasticsearch/indices/analysis/DummyAnalysisPlugin.java
core/src/test/java/org/elasticsearch/indices/analysis/DummyIndicesAnalysis.java
core/src/test/java/org/elasticsearch/indices/analysis/DummyIndicesAnalysisModule.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuAnalysisBinderProcessor.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuCollationTokenFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuFoldingTokenFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuNormalizerCharFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuNormalizerTokenFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuTokenizerFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuTransformTokenFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/indices/analysis/IcuIndicesAnalysis.java
plugins/analysis-icu/src/main/java/org/elasticsearch/indices/analysis/IcuIndicesAnalysisModule.java
plugins/analysis-icu/src/main/java/org/elasticsearch/plugin/analysis/icu/AnalysisICUPlugin.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/AnalysisTestUtils.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/SimpleIcuAnalysisTests.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/JapaneseStopTokenFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiAnalyzerProvider.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiBaseFormFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiIterationMarkCharFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiKatakanaStemmerFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiPartOfSpeechFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiReadingFormFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiTokenizerFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/indices/analysis/KuromojiIndicesAnalysis.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/indices/analysis/KuromojiIndicesAnalysisModule.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/plugin/analysis/kuromoji/AnalysisKuromojiPlugin.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java
plugins/analysis-phonetic/src/main/java/org/elasticsearch/index/analysis/PhoneticAnalysisBinderProcessor.java
plugins/analysis-phonetic/src/main/java/org/elasticsearch/index/analysis/PhoneticTokenFilterFactory.java
plugins/analysis-phonetic/src/main/java/org/elasticsearch/plugin/analysis/AnalysisPhoneticPlugin.java
plugins/analysis-phonetic/src/test/java/org/elasticsearch/index/analysis/SimplePhoneticAnalysisTests.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/index/analysis/SmartChineseAnalysisBinderProcessor.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/index/analysis/SmartChineseAnalyzerProvider.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/index/analysis/SmartChineseNoOpTokenFilterFactory.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/index/analysis/SmartChineseTokenizerTokenizerFactory.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/indices/analysis/smartcn/SmartChineseIndicesAnalysis.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/indices/analysis/smartcn/SmartChineseIndicesAnalysisModule.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/plugin/analysis/smartcn/AnalysisSmartChinesePlugin.java
plugins/analysis-smartcn/src/test/java/org/elasticsearch/index/analysis/SimpleSmartChineseAnalysisTests.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/index/analysis/pl/PolishAnalysisBinderProcessor.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/index/analysis/pl/PolishAnalyzerProvider.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/index/analysis/pl/PolishStemTokenFilterFactory.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/indices/analysis/pl/PolishIndicesAnalysis.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/indices/analysis/pl/PolishIndicesAnalysisModule.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/plugin/analysis/stempel/AnalysisStempelPlugin.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/PolishAnalysisTests.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/SimplePolishTokenFilterTests.java
comments:
Simplify Analysis registration and configuration

This change moves all the analysis component registration to the node level
and removes the significant API overhead to register tokenfilter, tokenizer,
charfilter and analyzer. All registration is done without guice interaction such
that real factories via functional interfaces are passed instead of class objects
that are instantiated at runtime.

This change also hides the internal analyzer caching that was done previously in the
IndicesAnalysisService entirely and decouples all analysis registration and creation
from dependency injection.

time:
2015-10-30T10:34:04Z
class:
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
comments:
Merge pull request #14360 from ywelsch/fix/rest-indices-action

Properly set indices and indicesOptions on subrequest made by /_cat/indices

time:
2015-10-30T09:44:26Z
class:
comments:
Merge pull request #14351 from jmferrer/master

typo error: adress -> address

time:
2015-10-30T09:33:32Z
class:
comments:
Docs: Added redirect for mapping-nested-type

time:
2015-10-30T09:04:07Z
class:
comments:
Merge pull request #14377 from markwalkom/markw/breaking-changes-repos-14376

Mention changes to repos.

time:
2015-10-30T08:34:30Z
class:
test-framework/src/main/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
test-framework/src/main/java/org/elasticsearch/cache/recycler/MockPageCacheRecycler.java
test-framework/src/main/java/org/elasticsearch/cluster/MockInternalClusterInfoService.java
test-framework/src/main/java/org/elasticsearch/cluster/routing/TestShardRouting.java
test-framework/src/main/java/org/elasticsearch/common/cli/CliToolTestCase.java
test-framework/src/main/java/org/elasticsearch/common/io/PathUtilsForTesting.java
test-framework/src/main/java/org/elasticsearch/common/util/MockBigArrays.java
test-framework/src/main/java/org/elasticsearch/index/MockEngineFactoryPlugin.java
test-framework/src/main/java/org/elasticsearch/node/MockNode.java
test-framework/src/main/java/org/elasticsearch/node/NodeMocksPlugin.java
test-framework/src/main/java/org/elasticsearch/percolator/PercolatorTestUtil.java
test-framework/src/main/java/org/elasticsearch/search/MockSearchService.java
test-framework/src/main/java/org/elasticsearch/search/aggregations/bucket/AbstractTermsTestCase.java
test-framework/src/main/java/org/elasticsearch/search/aggregations/bucket/script/NativeSignificanceScoreScriptNoParams.java
test-framework/src/main/java/org/elasticsearch/search/aggregations/bucket/script/NativeSignificanceScoreScriptWithParams.java
test-framework/src/main/java/org/elasticsearch/search/aggregations/bucket/script/TestScript.java
test-framework/src/main/java/org/elasticsearch/search/aggregations/metrics/AbstractNumericTestCase.java
test-framework/src/main/java/org/elasticsearch/test/BackgroundIndexer.java
test-framework/src/main/java/org/elasticsearch/test/CompositeTestCluster.java
test-framework/src/main/java/org/elasticsearch/test/CorruptionUtils.java
test-framework/src/main/java/org/elasticsearch/test/DummyShardLock.java
test-framework/src/main/java/org/elasticsearch/test/ESAllocationTestCase.java
test-framework/src/main/java/org/elasticsearch/test/ESBackcompatTestCase.java
test-framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
test-framework/src/main/java/org/elasticsearch/test/ESSingleNodeTestCase.java
test-framework/src/main/java/org/elasticsearch/test/ESTestCase.java
test-framework/src/main/java/org/elasticsearch/test/ESTokenStreamTestCase.java
test-framework/src/main/java/org/elasticsearch/test/ExternalNode.java
test-framework/src/main/java/org/elasticsearch/test/ExternalTestCluster.java
test-framework/src/main/java/org/elasticsearch/test/IndexSettingsModule.java
test-framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
test-framework/src/main/java/org/elasticsearch/test/MockIndexEventListener.java
test-framework/src/main/java/org/elasticsearch/test/NodeConfigurationSource.java
test-framework/src/main/java/org/elasticsearch/test/StreamsUtils.java
test-framework/src/main/java/org/elasticsearch/test/TestCluster.java
test-framework/src/main/java/org/elasticsearch/test/TestSearchContext.java
test-framework/src/main/java/org/elasticsearch/test/VersionUtils.java
test-framework/src/main/java/org/elasticsearch/test/XContentTestUtils.java
test-framework/src/main/java/org/elasticsearch/test/client/RandomizingClient.java
test-framework/src/main/java/org/elasticsearch/test/cluster/NoopClusterService.java
test-framework/src/main/java/org/elasticsearch/test/cluster/TestClusterService.java
test-framework/src/main/java/org/elasticsearch/test/discovery/ClusterDiscoveryConfiguration.java
test-framework/src/main/java/org/elasticsearch/test/disruption/BlockClusterStateProcessing.java
test-framework/src/main/java/org/elasticsearch/test/disruption/IntermittentLongGCDisruption.java
test-framework/src/main/java/org/elasticsearch/test/disruption/LongGCDisruption.java
test-framework/src/main/java/org/elasticsearch/test/disruption/NetworkDelaysPartition.java
test-framework/src/main/java/org/elasticsearch/test/disruption/NetworkDisconnectPartition.java
test-framework/src/main/java/org/elasticsearch/test/disruption/NetworkPartition.java
test-framework/src/main/java/org/elasticsearch/test/disruption/NetworkPartitionIT.java
test-framework/src/main/java/org/elasticsearch/test/disruption/NetworkUnresponsivePartition.java
test-framework/src/main/java/org/elasticsearch/test/disruption/NoOpDisruptionScheme.java
test-framework/src/main/java/org/elasticsearch/test/disruption/ServiceDisruptionScheme.java
test-framework/src/main/java/org/elasticsearch/test/disruption/SingleNodeDisruption.java
test-framework/src/main/java/org/elasticsearch/test/disruption/SlowClusterStateProcessing.java
test-framework/src/main/java/org/elasticsearch/test/engine/AssertingSearcher.java
test-framework/src/main/java/org/elasticsearch/test/engine/MockEngineFactory.java
test-framework/src/main/java/org/elasticsearch/test/engine/MockEngineSupport.java
test-framework/src/main/java/org/elasticsearch/test/engine/MockEngineSupportModule.java
test-framework/src/main/java/org/elasticsearch/test/engine/MockInternalEngine.java
test-framework/src/main/java/org/elasticsearch/test/engine/MockShadowEngine.java
test-framework/src/main/java/org/elasticsearch/test/engine/ThrowingLeafReaderWrapper.java
test-framework/src/main/java/org/elasticsearch/test/gateway/NoopGatewayAllocator.java
test-framework/src/main/java/org/elasticsearch/test/hamcrest/CollectionAssertions.java
test-framework/src/main/java/org/elasticsearch/test/hamcrest/CollectionMatchers.java
test-framework/src/main/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
test-framework/src/main/java/org/elasticsearch/test/hamcrest/ElasticsearchMatchers.java
test-framework/src/main/java/org/elasticsearch/test/hamcrest/RegexMatcher.java
test-framework/src/main/java/org/elasticsearch/test/junit/annotations/Network.java
test-framework/src/main/java/org/elasticsearch/test/junit/annotations/TestLogging.java
test-framework/src/main/java/org/elasticsearch/test/junit/listeners/LoggingListener.java
test-framework/src/main/java/org/elasticsearch/test/junit/listeners/ReproduceInfoPrinter.java
test-framework/src/main/java/org/elasticsearch/test/junit/rule/RepeatOnExceptionRule.java
test-framework/src/main/java/org/elasticsearch/test/rest/ESRestTestCase.java
test-framework/src/main/java/org/elasticsearch/test/rest/FakeRestRequest.java
test-framework/src/main/java/org/elasticsearch/test/rest/Rest0IT.java
test-framework/src/main/java/org/elasticsearch/test/rest/Rest1IT.java
test-framework/src/main/java/org/elasticsearch/test/rest/Rest2IT.java
test-framework/src/main/java/org/elasticsearch/test/rest/Rest3IT.java
test-framework/src/main/java/org/elasticsearch/test/rest/Rest4IT.java
test-framework/src/main/java/org/elasticsearch/test/rest/Rest5IT.java
test-framework/src/main/java/org/elasticsearch/test/rest/Rest6IT.java
test-framework/src/main/java/org/elasticsearch/test/rest/Rest7IT.java
test-framework/src/main/java/org/elasticsearch/test/rest/RestTestCandidate.java
test-framework/src/main/java/org/elasticsearch/test/rest/RestTestExecutionContext.java
test-framework/src/main/java/org/elasticsearch/test/rest/Stash.java
test-framework/src/main/java/org/elasticsearch/test/rest/client/RestClient.java
test-framework/src/main/java/org/elasticsearch/test/rest/client/RestException.java
test-framework/src/main/java/org/elasticsearch/test/rest/client/RestPath.java
test-framework/src/main/java/org/elasticsearch/test/rest/client/RestResponse.java
test-framework/src/main/java/org/elasticsearch/test/rest/client/http/HttpDeleteWithEntity.java
test-framework/src/main/java/org/elasticsearch/test/rest/client/http/HttpGetWithEntity.java
test-framework/src/main/java/org/elasticsearch/test/rest/client/http/HttpRequestBuilder.java
test-framework/src/main/java/org/elasticsearch/test/rest/client/http/HttpResponse.java
test-framework/src/main/java/org/elasticsearch/test/rest/json/JsonPath.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/DoSectionParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/GreaterThanEqualToParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/GreaterThanParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/IsFalseParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/IsTrueParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/LengthParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/LessThanOrEqualToParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/LessThanParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/MatchParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/RestTestFragmentParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/RestTestParseException.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/RestTestSectionParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/RestTestSuiteParseContext.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/RestTestSuiteParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/SetSectionParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/SetupSectionParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/SkipSectionParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/ApiCallSection.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/Assertion.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/DoSection.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/ExecutableSection.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/GreaterThanAssertion.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/GreaterThanEqualToAssertion.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/IsFalseAssertion.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/IsTrueAssertion.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/LengthAssertion.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/LessThanAssertion.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/LessThanOrEqualToAssertion.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/MatchAssertion.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/RestTestSuite.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/SetSection.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/SetupSection.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/SkipSection.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/TestSection.java
test-framework/src/main/java/org/elasticsearch/test/rest/spec/RestApi.java
test-framework/src/main/java/org/elasticsearch/test/rest/spec/RestApiParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/spec/RestSpec.java
test-framework/src/main/java/org/elasticsearch/test/rest/support/Features.java
test-framework/src/main/java/org/elasticsearch/test/rest/support/FileUtils.java
test-framework/src/main/java/org/elasticsearch/test/store/MockFSDirectoryService.java
test-framework/src/main/java/org/elasticsearch/test/store/MockFSIndexStore.java
test-framework/src/main/java/org/elasticsearch/test/transport/AssertingLocalTransport.java
test-framework/src/main/java/org/elasticsearch/test/transport/CapturingTransport.java
test-framework/src/main/java/org/elasticsearch/test/transport/MockTransportService.java
test-framework/src/test/java/org/elasticsearch/test/rest/test/AbstractParserTestCase.java
test-framework/src/test/java/org/elasticsearch/test/rest/test/AssertionParsersTests.java
test-framework/src/test/java/org/elasticsearch/test/rest/test/DoSectionParserTests.java
test-framework/src/test/java/org/elasticsearch/test/rest/test/FileUtilsTests.java
test-framework/src/test/java/org/elasticsearch/test/rest/test/JsonPathTests.java
test-framework/src/test/java/org/elasticsearch/test/rest/test/RestApiParserFailingTests.java
test-framework/src/test/java/org/elasticsearch/test/rest/test/RestApiParserTests.java
test-framework/src/test/java/org/elasticsearch/test/rest/test/RestTestParserTests.java
test-framework/src/test/java/org/elasticsearch/test/rest/test/SetSectionParserTests.java
test-framework/src/test/java/org/elasticsearch/test/rest/test/SetupSectionParserTests.java
test-framework/src/test/java/org/elasticsearch/test/rest/test/SkipSectionParserTests.java
test-framework/src/test/java/org/elasticsearch/test/rest/test/TestSectionParserTests.java
test-framework/src/test/java/org/elasticsearch/test/test/InternalTestClusterTests.java
test-framework/src/test/java/org/elasticsearch/test/test/LoggingListenerTests.java
test-framework/src/test/java/org/elasticsearch/test/test/SuiteScopeClusterIT.java
test-framework/src/test/java/org/elasticsearch/test/test/TestScopeClusterIT.java
test-framework/src/test/java/org/elasticsearch/test/test/VersionUtilsTests.java
comments:
Merge pull request #14374 from rjernst/test_framework_for_real

Build: Move test framework files to their new location

time:
2015-10-30T07:46:31Z
class:
comments:
Mention changes to repos.

Fixes 14376

time:
2015-10-30T06:53:49Z
class:
comments:
Build: Remove maven pom files and supporting ant files

This change removes the leftover pom files. A couple files were left for
reference, namely in qa tests that have not yet been migrated (vagrant
and multinode). The deb and rpm assemblies also still exist for
reference when finishing their setup in gradle.

See #13930

time:
2015-10-30T06:25:24Z
class:
test-framework/src/main/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
test-framework/src/main/java/org/elasticsearch/cache/recycler/MockPageCacheRecycler.java
test-framework/src/main/java/org/elasticsearch/cluster/MockInternalClusterInfoService.java
test-framework/src/main/java/org/elasticsearch/cluster/routing/TestShardRouting.java
test-framework/src/main/java/org/elasticsearch/common/cli/CliToolTestCase.java
test-framework/src/main/java/org/elasticsearch/common/io/PathUtilsForTesting.java
test-framework/src/main/java/org/elasticsearch/common/util/MockBigArrays.java
test-framework/src/main/java/org/elasticsearch/index/MockEngineFactoryPlugin.java
test-framework/src/main/java/org/elasticsearch/node/MockNode.java
test-framework/src/main/java/org/elasticsearch/node/NodeMocksPlugin.java
test-framework/src/main/java/org/elasticsearch/percolator/PercolatorTestUtil.java
test-framework/src/main/java/org/elasticsearch/search/MockSearchService.java
test-framework/src/main/java/org/elasticsearch/search/aggregations/bucket/AbstractTermsTestCase.java
test-framework/src/main/java/org/elasticsearch/search/aggregations/bucket/script/NativeSignificanceScoreScriptNoParams.java
test-framework/src/main/java/org/elasticsearch/search/aggregations/bucket/script/NativeSignificanceScoreScriptWithParams.java
test-framework/src/main/java/org/elasticsearch/search/aggregations/bucket/script/TestScript.java
test-framework/src/main/java/org/elasticsearch/search/aggregations/metrics/AbstractNumericTestCase.java
test-framework/src/main/java/org/elasticsearch/test/BackgroundIndexer.java
test-framework/src/main/java/org/elasticsearch/test/CompositeTestCluster.java
test-framework/src/main/java/org/elasticsearch/test/CorruptionUtils.java
test-framework/src/main/java/org/elasticsearch/test/DummyShardLock.java
test-framework/src/main/java/org/elasticsearch/test/ESAllocationTestCase.java
test-framework/src/main/java/org/elasticsearch/test/ESBackcompatTestCase.java
test-framework/src/main/java/org/elasticsearch/test/ESIntegTestCase.java
test-framework/src/main/java/org/elasticsearch/test/ESSingleNodeTestCase.java
test-framework/src/main/java/org/elasticsearch/test/ESTestCase.java
test-framework/src/main/java/org/elasticsearch/test/ESTokenStreamTestCase.java
test-framework/src/main/java/org/elasticsearch/test/ExternalNode.java
test-framework/src/main/java/org/elasticsearch/test/ExternalTestCluster.java
test-framework/src/main/java/org/elasticsearch/test/IndexSettingsModule.java
test-framework/src/main/java/org/elasticsearch/test/InternalTestCluster.java
test-framework/src/main/java/org/elasticsearch/test/MockIndexEventListener.java
test-framework/src/main/java/org/elasticsearch/test/NodeConfigurationSource.java
test-framework/src/main/java/org/elasticsearch/test/StreamsUtils.java
test-framework/src/main/java/org/elasticsearch/test/TestCluster.java
test-framework/src/main/java/org/elasticsearch/test/TestSearchContext.java
test-framework/src/main/java/org/elasticsearch/test/VersionUtils.java
test-framework/src/main/java/org/elasticsearch/test/XContentTestUtils.java
test-framework/src/main/java/org/elasticsearch/test/client/RandomizingClient.java
test-framework/src/main/java/org/elasticsearch/test/cluster/NoopClusterService.java
test-framework/src/main/java/org/elasticsearch/test/cluster/TestClusterService.java
test-framework/src/main/java/org/elasticsearch/test/discovery/ClusterDiscoveryConfiguration.java
test-framework/src/main/java/org/elasticsearch/test/disruption/BlockClusterStateProcessing.java
test-framework/src/main/java/org/elasticsearch/test/disruption/IntermittentLongGCDisruption.java
test-framework/src/main/java/org/elasticsearch/test/disruption/LongGCDisruption.java
test-framework/src/main/java/org/elasticsearch/test/disruption/NetworkDelaysPartition.java
test-framework/src/main/java/org/elasticsearch/test/disruption/NetworkDisconnectPartition.java
test-framework/src/main/java/org/elasticsearch/test/disruption/NetworkPartition.java
test-framework/src/main/java/org/elasticsearch/test/disruption/NetworkPartitionIT.java
test-framework/src/main/java/org/elasticsearch/test/disruption/NetworkUnresponsivePartition.java
test-framework/src/main/java/org/elasticsearch/test/disruption/NoOpDisruptionScheme.java
test-framework/src/main/java/org/elasticsearch/test/disruption/ServiceDisruptionScheme.java
test-framework/src/main/java/org/elasticsearch/test/disruption/SingleNodeDisruption.java
test-framework/src/main/java/org/elasticsearch/test/disruption/SlowClusterStateProcessing.java
test-framework/src/main/java/org/elasticsearch/test/engine/AssertingSearcher.java
test-framework/src/main/java/org/elasticsearch/test/engine/MockEngineFactory.java
test-framework/src/main/java/org/elasticsearch/test/engine/MockEngineSupport.java
test-framework/src/main/java/org/elasticsearch/test/engine/MockEngineSupportModule.java
test-framework/src/main/java/org/elasticsearch/test/engine/MockInternalEngine.java
test-framework/src/main/java/org/elasticsearch/test/engine/MockShadowEngine.java
test-framework/src/main/java/org/elasticsearch/test/engine/ThrowingLeafReaderWrapper.java
test-framework/src/main/java/org/elasticsearch/test/gateway/NoopGatewayAllocator.java
test-framework/src/main/java/org/elasticsearch/test/hamcrest/CollectionAssertions.java
test-framework/src/main/java/org/elasticsearch/test/hamcrest/CollectionMatchers.java
test-framework/src/main/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
test-framework/src/main/java/org/elasticsearch/test/hamcrest/ElasticsearchMatchers.java
test-framework/src/main/java/org/elasticsearch/test/hamcrest/RegexMatcher.java
test-framework/src/main/java/org/elasticsearch/test/junit/annotations/Network.java
test-framework/src/main/java/org/elasticsearch/test/junit/annotations/TestLogging.java
test-framework/src/main/java/org/elasticsearch/test/junit/listeners/LoggingListener.java
test-framework/src/main/java/org/elasticsearch/test/junit/listeners/ReproduceInfoPrinter.java
test-framework/src/main/java/org/elasticsearch/test/junit/rule/RepeatOnExceptionRule.java
test-framework/src/main/java/org/elasticsearch/test/rest/ESRestTestCase.java
test-framework/src/main/java/org/elasticsearch/test/rest/FakeRestRequest.java
test-framework/src/main/java/org/elasticsearch/test/rest/Rest0IT.java
test-framework/src/main/java/org/elasticsearch/test/rest/Rest1IT.java
test-framework/src/main/java/org/elasticsearch/test/rest/Rest2IT.java
test-framework/src/main/java/org/elasticsearch/test/rest/Rest3IT.java
test-framework/src/main/java/org/elasticsearch/test/rest/Rest4IT.java
test-framework/src/main/java/org/elasticsearch/test/rest/Rest5IT.java
test-framework/src/main/java/org/elasticsearch/test/rest/Rest6IT.java
test-framework/src/main/java/org/elasticsearch/test/rest/Rest7IT.java
test-framework/src/main/java/org/elasticsearch/test/rest/RestTestCandidate.java
test-framework/src/main/java/org/elasticsearch/test/rest/RestTestExecutionContext.java
test-framework/src/main/java/org/elasticsearch/test/rest/Stash.java
test-framework/src/main/java/org/elasticsearch/test/rest/client/RestClient.java
test-framework/src/main/java/org/elasticsearch/test/rest/client/RestException.java
test-framework/src/main/java/org/elasticsearch/test/rest/client/RestPath.java
test-framework/src/main/java/org/elasticsearch/test/rest/client/RestResponse.java
test-framework/src/main/java/org/elasticsearch/test/rest/client/http/HttpDeleteWithEntity.java
test-framework/src/main/java/org/elasticsearch/test/rest/client/http/HttpGetWithEntity.java
test-framework/src/main/java/org/elasticsearch/test/rest/client/http/HttpRequestBuilder.java
test-framework/src/main/java/org/elasticsearch/test/rest/client/http/HttpResponse.java
test-framework/src/main/java/org/elasticsearch/test/rest/json/JsonPath.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/DoSectionParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/GreaterThanEqualToParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/GreaterThanParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/IsFalseParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/IsTrueParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/LengthParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/LessThanOrEqualToParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/LessThanParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/MatchParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/RestTestFragmentParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/RestTestParseException.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/RestTestSectionParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/RestTestSuiteParseContext.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/RestTestSuiteParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/SetSectionParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/SetupSectionParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/parser/SkipSectionParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/ApiCallSection.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/Assertion.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/DoSection.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/ExecutableSection.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/GreaterThanAssertion.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/GreaterThanEqualToAssertion.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/IsFalseAssertion.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/IsTrueAssertion.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/LengthAssertion.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/LessThanAssertion.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/LessThanOrEqualToAssertion.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/MatchAssertion.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/RestTestSuite.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/SetSection.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/SetupSection.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/SkipSection.java
test-framework/src/main/java/org/elasticsearch/test/rest/section/TestSection.java
test-framework/src/main/java/org/elasticsearch/test/rest/spec/RestApi.java
test-framework/src/main/java/org/elasticsearch/test/rest/spec/RestApiParser.java
test-framework/src/main/java/org/elasticsearch/test/rest/spec/RestSpec.java
test-framework/src/main/java/org/elasticsearch/test/rest/support/Features.java
test-framework/src/main/java/org/elasticsearch/test/rest/support/FileUtils.java
test-framework/src/main/java/org/elasticsearch/test/store/MockFSDirectoryService.java
test-framework/src/main/java/org/elasticsearch/test/store/MockFSIndexStore.java
test-framework/src/main/java/org/elasticsearch/test/transport/AssertingLocalTransport.java
test-framework/src/main/java/org/elasticsearch/test/transport/CapturingTransport.java
test-framework/src/main/java/org/elasticsearch/test/transport/MockTransportService.java
test-framework/src/test/java/org/elasticsearch/test/rest/test/AbstractParserTestCase.java
test-framework/src/test/java/org/elasticsearch/test/rest/test/AssertionParsersTests.java
test-framework/src/test/java/org/elasticsearch/test/rest/test/DoSectionParserTests.java
test-framework/src/test/java/org/elasticsearch/test/rest/test/FileUtilsTests.java
test-framework/src/test/java/org/elasticsearch/test/rest/test/JsonPathTests.java
test-framework/src/test/java/org/elasticsearch/test/rest/test/RestApiParserFailingTests.java
test-framework/src/test/java/org/elasticsearch/test/rest/test/RestApiParserTests.java
test-framework/src/test/java/org/elasticsearch/test/rest/test/RestTestParserTests.java
test-framework/src/test/java/org/elasticsearch/test/rest/test/SetSectionParserTests.java
test-framework/src/test/java/org/elasticsearch/test/rest/test/SetupSectionParserTests.java
test-framework/src/test/java/org/elasticsearch/test/rest/test/SkipSectionParserTests.java
test-framework/src/test/java/org/elasticsearch/test/rest/test/TestSectionParserTests.java
test-framework/src/test/java/org/elasticsearch/test/test/InternalTestClusterTests.java
test-framework/src/test/java/org/elasticsearch/test/test/LoggingListenerTests.java
test-framework/src/test/java/org/elasticsearch/test/test/SuiteScopeClusterIT.java
test-framework/src/test/java/org/elasticsearch/test/test/TestScopeClusterIT.java
test-framework/src/test/java/org/elasticsearch/test/test/VersionUtilsTests.java
comments:
Build: Move test framework files to their new location

The test jar was previously built in maven by copying class files. With
gradle we now have a proper test framework artifact. This change moves
the classes used by the test framework into the test-framework module.

See #13930

time:
2015-10-30T01:53:33Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
comments:
Make throw statement consistent with others in same class

time:
2015-10-30T00:15:08Z
class:
comments:
Merge pull request #14371 from rjernst/build_info_check

Build: Add gradle version check and some build info that is always output

time:
2015-10-30T00:12:45Z
class:
comments:
Build: Add gradle version check and some build info that is always output

time:
2015-10-29T23:44:37Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeResponse.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/MergePolicyConfig.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/forcemerge/RestForceMergeAction.java
core/src/test/java/org/elasticsearch/test/rest/test/FileUtilsTests.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/blobstore/DefaultS3OutputStream.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/blobstore/S3BlobStore.java
plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3Repository.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/blobstore/S3BlobStoreTests.java
comments:
Merge remote-tracking branch 'upstream/master' into feature/ingest

time:
2015-10-29T23:27:52Z
class:
comments:
Merge pull request #14369 from rjernst/gitignore_for_maven

Build: Update gitignore to keep maven targets on master

time:
2015-10-29T22:56:40Z
class:
comments:
Merge pull request #14368 from rjernst/forbidden_sigs_location

Build: Move the real forbidden api signature files to their new location within buildSrc

time:
2015-10-29T22:55:41Z
class:
comments:
Build: Update gitignore to keep maven targets on master

See #14364

time:
2015-10-29T22:40:47Z
class:
comments:
Build: Move the real forbidden api signature files to their new location
within buildSrc

The gradle branch used copies of the forbidden api signature files. This
moves the files to their correct location.

closes #14363

time:
2015-10-29T22:26:20Z
class:
comments:
Merge pull request #14362 from talevy/ingest/introduce_gradle

add gradle build script to plugin

time:
2015-10-29T21:18:03Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeResponse.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/MergePolicyConfig.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/forcemerge/RestForceMergeAction.java
core/src/test/java/org/elasticsearch/test/rest/test/FileUtilsTests.java
comments:
Merge branch 'remove-optimize-rest'

time:
2015-10-29T21:06:57Z
class:
comments:
Merge pull request #14366 from rjernst/jar_manifest

Build: Add back manifest info to jars

time:
2015-10-29T20:59:52Z
class:
comments:
Build: Add back manifest info to jars

closes #14365

time:
2015-10-29T20:40:23Z
class:
comments:
add gradle build script to plugin

time:
2015-10-29T19:24:23Z
class:
comments:
Merge pull request #14296 from Dwaligon/master

Fixing misspelled words in documentation

time:
2015-10-29T19:19:57Z
class:
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/blobstore/DefaultS3OutputStream.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/blobstore/S3BlobStore.java
plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3Repository.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/blobstore/S3BlobStoreTests.java
comments:
Merge pull request #14297 from xuzha/aws-acl

Add aws canned acl, closes #14103

time:
2015-10-29T18:52:21Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/StoreRecovery.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerSingleNodeTests.java
core/src/test/java/org/elasticsearch/test/junit/listeners/ReproduceInfoPrinter.java
core/src/test/java/org/elasticsearch/test/rest/support/FileUtils.java
plugins/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovySecurityTests.java
comments:
Merge remote-tracking branch 'upstream/master' into feature/ingest

time:
2015-10-29T18:48:02Z
class:
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/blobstore/DefaultS3OutputStream.java
plugins/repository-s3/src/main/java/org/elasticsearch/cloud/aws/blobstore/S3BlobStore.java
plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3Repository.java
plugins/repository-s3/src/test/java/org/elasticsearch/cloud/aws/blobstore/S3BlobStoreTests.java
comments:
Add AWS Canned ACL support

User could set cannedACL, S3 repository would use this cannedACL to
create s3 object and bucket.

time:
2015-10-29T18:40:19Z
class:
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/test/junit/listeners/ReproduceInfoPrinter.java
core/src/test/java/org/elasticsearch/test/rest/support/FileUtils.java
comments:
Switch build system to Gradle

See #13930

time:
2015-10-29T18:22:43Z
class:
src/test/java/org/elasticsearch/index/mapper/attachment/test/unit/SimpleAttachmentMapperTests.java
comments:
Fix mapping examples in documentation

Closes #179
(cherry picked from commit 7700340)
(cherry picked from commit ad68433)
(cherry picked from commit f83ffd2)

time:
2015-10-29T18:15:56Z
class:
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
comments:
Properly set indices and indicesOptions on subrequest made by /_cat/indices

time:
2015-10-29T18:14:27Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
plugins/lang-groovy/src/test/java/org/elasticsearch/script/groovy/GroovySecurityTests.java
comments:
Add threadgroup isolation.

Closes #14353

Squashed commit of the following:

commit edae0729f71ea3d3f9fa9c0d27c9effc042eb5a9
Author: Robert Muir <rmuir@apache.org>
Date:   Thu Oct 29 14:13:42 2015 -0400

    update sha1 and simplify test

commit 635c4f245d66ad353a16267c810e02b725553fad
Author: Robert Muir <rmuir@apache.org>
Date:   Thu Oct 29 07:01:26 2015 -0400

    Add threadgroup isolation.

    Code with `modifyThread` and `modifyThreadGroup` may only modify
    its own threadgroup (or an ancestor of that). This enforces
    what is intended by the ThreadGroup class.

    This has two immediate implications:
    1. Code without these permissions (scripts) may not create or mess with threads
    2. ES application threads cannot mess with Java system threads

    ES puts all application threads in one single group today, but in the future
    this can be organized better, and we will have more isolation in the system.

time:
2015-10-29T17:51:00Z
class:
comments:
Error incorrect hash while installing with ES 2.0

We are moving back release scripts locally as it's the last repository which is not in elasticsearch repo.
Also, we now use generated checksums when we run the `install` phase and we upload them to S3 at the same time we upload the artifact itself.

Closes #178.

(cherry picked from commit d3324bc)
(cherry picked from commit 311a80b)
(cherry picked from commit bf898b7)

time:
2015-10-29T17:09:11Z
class:
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/AwsEc2ServiceImpl.java
comments:
Adding US-Gov-West

time:
2015-10-29T17:07:52Z
class:
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/AwsEc2Service.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/AwsEc2ServiceImpl.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/discovery/ec2/AwsEc2UnicastHostsProvider.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoveryTests.java
comments:
 improved building of disco nodes

* improved retry policy of ec2 client
* cache results for 10s

time:
2015-10-29T15:48:36Z
class:
core/src/main/java/org/elasticsearch/index/engine/Engine.java
comments:
Merge pull request #14321 from s1monw/use_nano_time

Use System.nanoTime() to initialize Engine.lastWriteNanos

time:
2015-10-29T10:41:23Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/StoreRecovery.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerSingleNodeTests.java
comments:
Recovery: mark shard as recovering on the cluster state thread

Closes #14115
Closes #14276

time:
2015-10-29T10:00:21Z
class:
comments:
typo error: adress -> address

time:
2015-10-29T05:48:15Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Data.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/DataTests.java
comments:
fix build errors

time:
2015-10-29T05:46:02Z
class:
core/src/main/java/org/apache/lucene/util/XGeoHashUtils.java
core/src/main/java/org/apache/lucene/util/XGeoProjectionUtils.java
core/src/main/java/org/apache/lucene/util/XGeoUtils.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/explain/ExplainRequest.java
core/src/main/java/org/elasticsearch/action/explain/ExplainRequestBuilder.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/cluster/action/shard/NoOpShardStateActionListener.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
core/src/main/java/org/elasticsearch/common/cache/Cache.java
core/src/main/java/org/elasticsearch/common/geo/GeoPoint.java
core/src/main/java/org/elasticsearch/common/geo/XShapeCollection.java
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
core/src/main/java/org/elasticsearch/discovery/Discovery.java
core/src/main/java/org/elasticsearch/discovery/DiscoveryStats.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PendingClusterStateStats.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PendingClusterStatesQueue.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexServicesProvider.java
core/src/main/java/org/elasticsearch/index/cache/IndexCache.java
core/src/main/java/org/elasticsearch/index/cache/IndexCacheModule.java
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/codec/CodecService.java
core/src/main/java/org/elasticsearch/index/codec/PerFieldMappingPostingFormatCodec.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/IndicesWarmer.java
core/src/main/java/org/elasticsearch/indices/cache/query/IndicesQueryCache.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/node/service/NodeService.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/stats/RestNodesStatsAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestCountAction.java
core/src/main/java/org/elasticsearch/rest/action/count/RestCountAction.java
core/src/main/java/org/elasticsearch/rest/action/explain/RestExplainAction.java
core/src/main/java/org/elasticsearch/rest/action/support/RestActions.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/InternalGeoHashGrid.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/SignificanceHeuristicStreams.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/GeoCentroidAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/InternalGeoCentroid.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelStreams.java
core/src/main/java/org/elasticsearch/search/aggregations/support/format/ValueFormatter.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightBuilder.java
core/src/main/java/org/elasticsearch/search/highlight/Highlighters.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestParser.java
core/src/main/java/org/elasticsearch/search/suggest/context/GeolocationContextMapping.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportReplicationActionTests.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/bootstrap/MockPluginPolicy.java
core/src/test/java/org/elasticsearch/cluster/DiskUsageTests.java
core/src/test/java/org/elasticsearch/cluster/MockInternalClusterInfoService.java
core/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolverTests.java
core/src/test/java/org/elasticsearch/common/cache/CacheTests.java
core/src/test/java/org/elasticsearch/common/geo/GeoHashTests.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryModuleTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryIT.java
core/src/test/java/org/elasticsearch/discovery/zen/publish/PendingClusterStatesQueueTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/PatternAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/cache/IndexCacheModuleTests.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/codec/CodecTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeohashMappingGeoPointTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/NestedQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryFilterBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryIT.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/search/geo/GeoPointParsingTests.java
core/src/test/java/org/elasticsearch/index/search/geo/GeoUtilsTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/similarity/SimilarityModuleTests.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsIT.java
core/src/test/java/org/elasticsearch/plugins/PluginsServiceTests.java
core/src/test/java/org/elasticsearch/search/SearchModuleTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ShardReduceIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AbstractGeoTestCase.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoShapeIntegrationIT.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringIT.java
core/src/test/java/org/elasticsearch/search/suggest/ContextSuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/completion/CompletionPostingsFormatTests.java
core/src/test/java/org/elasticsearch/search/suggest/context/GeoLocationContextMappingTests.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/TestCluster.java
core/src/test/java/org/elasticsearch/test/geo/RandomGeoGenerator.java
core/src/test/java/org/elasticsearch/test/geo/RandomShapeGenerator.java
plugins/delete-by-query/src/main/java/org/elasticsearch/rest/action/deletebyquery/RestDeleteByQueryAction.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/GeoDistanceTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndicesRequestTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ScriptQuerySearchTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SignificantTermsSignificanceScoreTests.java
comments:
Merge remote-tracking branch 'es/master' into feature/ingest

time:
2015-10-28T21:46:13Z
class:
comments:
Special case when an argument is called with no args in the line

time:
2015-10-28T20:21:06Z
class:
core/src/main/java/org/elasticsearch/Version.java
comments:
Added versions 2.0.0 and 2.0.1-SNAPSHOT and bwc indices for 2.0.0

time:
2015-10-28T19:28:30Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/test/java/org/elasticsearch/test/geo/RandomShapeGenerator.java
comments:
Upgrade to randomizedtesting 2.2.0

Closes #14342

time:
2015-10-28T18:29:26Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
core/src/test/java/org/elasticsearch/common/cache/CacheTests.java
comments:
Merge pull request #14315 from jasontedor/failed-cache-loads

Fix issues with failed cache loads

time:
2015-10-28T18:22:46Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
core/src/test/java/org/elasticsearch/common/cache/CacheTests.java
comments:
Fix issues with failed cache loads

This commit fixes two issues that could arise when a loader throws an
exception during a load in Cache#computeIfAbsent.

The underlying issue is that if the loader throws an exception,
Cache#computeIfAbsent would attempt to remove the polluted entry from
the cache. However, this cleanup was performed outside of the segment
lock. This means another thread could race and expire the polluted
entry (leading to NPEs) or get a polluted entry out of the cache before
the loading thread had a chance to cleanup (leading to ISEs).

The solution to the initial problem of correctly handling failed cached
loads is to check for failed loads in all places where entries are
retrieved from the map backing the segment. In such cases, we treat it
as if there was no entry in the cache, and we clean up the cache on a
best-effort basis. All of this is done outside of the segment lock to
avoid reintroducing the deadlock that was initially a problem when
loads were executed under a segment lock.

time:
2015-10-28T18:19:00Z
class:
comments:
update documentation with release 3.0.2

time:
2015-10-28T18:03:57Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/discovery/Discovery.java
core/src/main/java/org/elasticsearch/discovery/DiscoveryStats.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PendingClusterStateStats.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PendingClusterStatesQueue.java
core/src/main/java/org/elasticsearch/node/service/NodeService.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/stats/RestNodesStatsAction.java
core/src/test/java/org/elasticsearch/cluster/DiskUsageTests.java
core/src/test/java/org/elasticsearch/cluster/MockInternalClusterInfoService.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryModuleTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryIT.java
core/src/test/java/org/elasticsearch/discovery/zen/publish/PendingClusterStatesQueueTests.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Merge pull request #14040 from xuzha/pending_queue_size_stats

Expose pending cluster state queue size in node statscloses #13610

time:
2015-10-28T17:59:15Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java
core/src/main/java/org/elasticsearch/discovery/Discovery.java
core/src/main/java/org/elasticsearch/discovery/DiscoveryStats.java
core/src/main/java/org/elasticsearch/discovery/local/LocalDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PendingClusterStateStats.java
core/src/main/java/org/elasticsearch/discovery/zen/publish/PendingClusterStatesQueue.java
core/src/main/java/org/elasticsearch/node/service/NodeService.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/stats/RestNodesStatsAction.java
core/src/test/java/org/elasticsearch/cluster/DiskUsageTests.java
core/src/test/java/org/elasticsearch/cluster/MockInternalClusterInfoService.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryModuleTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryIT.java
core/src/test/java/org/elasticsearch/discovery/zen/publish/PendingClusterStatesQueueTests.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Expose pending cluster state queue size in node stats

Add 3 stats about the queue: total queue size, number of committed cluster
states, and number of pending cluster states.

time:
2015-10-28T17:20:16Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Data.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/DataTests.java
comments:
Merge pull request #14250 from talevy/ingest/data-add-field-path

add ability to add nested field values to Data document

time:
2015-10-28T16:41:56Z
class:
core/src/main/java/org/apache/lucene/util/XGeoHashUtils.java
core/src/main/java/org/apache/lucene/util/XGeoProjectionUtils.java
core/src/main/java/org/apache/lucene/util/XGeoUtils.java
core/src/main/java/org/elasticsearch/common/geo/GeoPoint.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/InternalGeoHashGrid.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/GeoCentroidAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/InternalGeoCentroid.java
core/src/main/java/org/elasticsearch/search/aggregations/support/format/ValueFormatter.java
core/src/main/java/org/elasticsearch/search/suggest/context/GeolocationContextMapping.java
core/src/test/java/org/elasticsearch/common/geo/GeoHashTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/geo/GeohashMappingGeoPointTests.java
core/src/test/java/org/elasticsearch/index/search/geo/GeoPointParsingTests.java
core/src/test/java/org/elasticsearch/index/search/geo/GeoUtilsTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ShardReduceIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AbstractGeoTestCase.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/suggest/ContextSuggestSearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/context/GeoLocationContextMappingTests.java
core/src/test/java/org/elasticsearch/test/geo/RandomGeoGenerator.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/GeoDistanceTests.java
comments:
Refactor Geo utilities to Lucene 5.4

Remove local lucene/XGeo* classes and refactor to Lucene 5.4 Geo Utility classes.

time:
2015-10-28T15:05:00Z
class:
core/src/test/java/org/elasticsearch/common/cache/CacheTests.java
comments:
Fix test bug in CacheTests#testDependentKeyDeadlock

time:
2015-10-28T14:57:11Z
class:
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
comments:
Tests: Fixed missing import

time:
2015-10-28T14:40:21Z
class:
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
comments:
Merge pull request #14286 from cbuescher/add-loop-querytests

Tests: run base query tests for more than one random query

time:
2015-10-28T14:30:25Z
class:
core/src/test/java/org/elasticsearch/common/cache/CacheTests.java
comments:
Merge pull request #14334 from jasontedor/cache-deadlock-test

Add cache deadlock test

time:
2015-10-28T14:29:53Z
class:
core/src/test/java/org/elasticsearch/common/cache/CacheTests.java
comments:
Add cache deadlock test

This commit adds a unit test for a deadlock issue that existed prior to
commit 1d0b93f76667e4af1bad7b0e522f1a4e6c8b3fbc. While commit
1d0b93f76667e4af1bad7b0e522f1a4e6c8b3fbc seems to have addressed the
deadlock issue it would be more robust to have a unit test for it and a
unit test will reduce the risk that future maintenance on Cache will
reintroduce the deadlock issue. This test reliably fails prior to but
passes after commit 1d0b93f76667e4af1bad7b0e522f1a4e6c8b3fbc.

time:
2015-10-28T13:45:45Z
class:
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
core/src/main/java/org/elasticsearch/index/codec/CodecService.java
core/src/main/java/org/elasticsearch/index/codec/PerFieldMappingPostingFormatCodec.java
core/src/test/java/org/elasticsearch/index/codec/CodecTests.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
core/src/test/java/org/elasticsearch/search/suggest/completion/CompletionPostingsFormatTests.java
comments:
Merge pull request #14320 from jpountz/upgrade/lucene-5.4-snapshot-1710880

Upgrade to lucene-5.4-snapshot-1710880.

time:
2015-10-28T12:58:36Z
class:
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
comments:
Fix CI failure for recent commit in SimpleQueryStringBuilder

time:
2015-10-28T12:05:44Z
class:
core/src/test/java/org/elasticsearch/index/analysis/PatternAnalyzerTests.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
comments:
Merge pull request #14329 from rmuir/uncaught_exc

Remove uncaught exception handler in tests.

time:
2015-10-28T11:14:25Z
class:
core/src/main/java/org/elasticsearch/index/query/SimpleQueryParser.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTests.java
core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringIT.java
comments:
Query DSL: Fix `minimum should match` in `simple_query_string` for single term and multiple fields

Currently a `simple_query_string` query with one term and multiple fields
gets parsed to a BooleanQuery where the number of clauses is determined
by the number of fields, which lead to wrong calculation of `minimum_should_match`.

This PR adds checks to detect this case and wrap the resulting BooleanQuery into
another BooleanQuery with just one should-clause, so `minimum_should_match`
calculation is corrected.

In order to differentiate between the case where one term is queried across
multiple fields and the case where multiple terms are queried on one field,
we override a simplification step in Lucenes SimpleQueryParser that reduces
a one-clause BooleanQuery to the clause itself.

Closes #13884

time:
2015-10-28T10:39:26Z
class:
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/cluster/action/shard/NoOpShardStateActionListener.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java
comments:
Merge pull request #14295 from jasontedor/shard-failed-listener

Add listener mechanism for failures to send shard failed

time:
2015-10-28T10:38:21Z
class:
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/cluster/action/shard/NoOpShardStateActionListener.java
core/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java
comments:
Add listener mechanism for failures to send shard failed

This commit adds a listener mechanism for executing callbacks when
exceptional situations occur sending a shard failure message to the
master. The two types of exceptional situations that can occur are if
the master is not known and if the transport request exception handler
is invoked for any reason after sending the shard failed request to the
master. This commit only adds the infrastructure for executing
callbacks when one of these exceptional situations occur; no effort is
made to properly handle the exceptional situations. Some unit tests are
added for ShardStateAction to test that the listener infrastructure is
correct.

Relates #14252

time:
2015-10-28T10:31:41Z
class:
core/src/test/java/org/elasticsearch/action/support/replication/TransportReplicationActionTests.java
comments:
Fix typo in TransportReplicationActionTests#runReplicateTest

time:
2015-10-28T09:50:29Z
class:
comments:
update migrate guide according to recent deprecation removals

time:
2015-10-28T09:50:29Z
class:
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
comments:
Remove support for deprecated top level filter in search api

Replaced by post_filter since 1.0

Closes #8862

time:
2015-10-28T09:50:29Z
class:
core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
core/src/test/java/org/elasticsearch/index/query/TermsQueryBuilderTests.java
comments:
Remove support for deprecated minimum_should_match and disable_coord in terms query

Use bool query instead.

time:
2015-10-28T09:50:29Z
class:
core/src/main/java/org/elasticsearch/search/highlight/HighlightBuilder.java
core/src/main/java/org/elasticsearch/search/highlight/Highlighters.java
core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
comments:
Remove support for multiple highlighter names

The only way to refer to the plain highlighter is now `plain`, the only way to refer to the fast vector highlighter is `fvh` and the only way to refer to the postings highlighter is `postings`. The name variants like `highlighter`, `postings-highlighter` and `fast-vector-highlighter` have been removed.

time:
2015-10-28T09:50:29Z
class:
core/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
core/src/test/java/org/elasticsearch/index/query/NestedQueryBuilderTests.java
comments:
Remove support for filter element in nested query

Replaced by query.

time:
2015-10-28T09:50:28Z
class:
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
comments:
Remove support for filter element in function_score query

Replaced by query element.

time:
2015-10-28T09:50:28Z
class:
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionSuggestParser.java
comments:
Remove support for edit_distance in completion suggester

Replaced by fuzziness, consistent with other queries.

time:
2015-10-28T09:50:28Z
class:
core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java
comments:
Remove support for fuzzy_min_sim in query_string query

Replaced by fuzziness, consistent with other queries.

time:
2015-10-28T09:50:28Z
class:
core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
comments:
Remove support for min_similarity in fuzzy query

Replaced by fuzziness, consistent with other queries.

time:
2015-10-28T09:50:28Z
class:
core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
comments:
Remove support for deprecated execution element in terms query

time:
2015-10-28T09:50:28Z
class:
comments:
[DOCS] remove tip on indices query elements order

Since we parse queries on the coordinating node, the order of the elements doesn't count anymore.

time:
2015-10-28T09:50:28Z
class:
core/src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
comments:
Remove filter and no_match_filter element support from indices query

Use query and no_match_query elements instead.

time:
2015-10-28T09:42:03Z
class:
core/src/main/java/org/elasticsearch/action/explain/ExplainRequest.java
core/src/main/java/org/elasticsearch/action/explain/ExplainRequestBuilder.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/rest/action/explain/RestExplainAction.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndicesRequestTests.java
comments:
Explain api: move query parsing to the coordinating node

Similarly to what we did with the search api, we can now also move query parsing on the coordinating node for the explain api. Given that the explain api is a single shard operation (compared to search which is instead a broadcast operation), this doesn't change a lot in how the api works internally. The main benefit is that we can simplify the java api by requiring a structured query object to be provided rather than a bytes array that will get parsed on the data node. Previously if you specified a QueryBuilder it would be serialized in json format and would get reparsed on the data node, while now it doesn't go through parsing anymore (as expected), given that after the query-refactoring we are able to properly stream queries natively.

Closes #14270

time:
2015-10-28T09:36:08Z
class:
core/src/test/java/org/elasticsearch/index/similarity/SimilarityModuleTests.java
comments:
remove dead code

time:
2015-10-28T08:34:54Z
class:
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
core/src/main/java/org/elasticsearch/index/codec/CodecService.java
core/src/main/java/org/elasticsearch/index/codec/PerFieldMappingPostingFormatCodec.java
core/src/test/java/org/elasticsearch/index/codec/CodecTests.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
core/src/test/java/org/elasticsearch/search/suggest/completion/CompletionPostingsFormatTests.java
comments:
Upgrade to lucene-5.4-snapshot-1710880.

time:
2015-10-28T04:18:09Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
comments:
Merge pull request #14327 from rmuir/symlinked_m2

support symlinked .m2/repository in tests

time:
2015-10-28T03:37:39Z
class:
core/src/test/java/org/elasticsearch/index/analysis/PatternAnalyzerTests.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
comments:
Remove uncaught exception handler in tests.

This is not needed: full mvn verify passes.

Furthermore, there are all kinds of checks for this case
(rejected while shutting down) in the actual code, so there
is no need to have it here. If its supposed to be non-fatal,
then we add the missing places to the actual code, not globally to all threads.

time:
2015-10-28T02:34:07Z
class:
core/src/main/java/org/elasticsearch/common/geo/XShapeCollection.java
core/src/test/java/org/elasticsearch/search/geo/GeoShapeIntegrationIT.java
comments:
Fix Multi-geometry bbox

A long time coming this Upgrades to Spatial4J 0.5 which includes the fix for calculating a Multi-geometry bounding box.

time:
2015-10-28T01:24:48Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
comments:
support symlinked .m2/repository in tests

Some jenkins servers have this, but our codebase normalization doesn't
follow symlinks. Add this so that its correct.

Only really impacts tests, i suppose it helps if someone has a symlinked plugins/
but that is not recommended :)

time:
2015-10-28T00:06:13Z
class:
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/bootstrap/MockPluginPolicy.java
comments:
Cleanup plugin security

* plugin authors can use full policy syntax, including codebase substitution
  properties like core syntax.
* simplify test logic.
* move out test-framework permissions to separate file.

Closes #14311

time:
2015-10-27T23:20:20Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Data.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/DataTests.java
comments:
add tests / remove TODO

time:
2015-10-27T22:21:45Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Data.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/DataTests.java
comments:
add ability to add nested field values to Data document

time:
2015-10-27T21:53:09Z
class:
core/src/main/java/org/elasticsearch/index/engine/Engine.java
comments:
Use System.nanoTime() to initialize Engine.lastWriteNanos

On _lastWriteNanos_ we use System.nanoTime() to initialize this since:
 * we use the value for figuring out if the shard / engine is active so if we startup and no write has happened yet we still consider it active
   for the duration of the configured active to inactive period. If we initialize to 0 or Long.MAX_VALUE we either immediately or never mark it
   inactive if no writes at all happen to the shard.
 * we also use this to flush big-ass merges on an inactive engine / shard but if we we initialize 0 or Long.MAX_VALUE we either immediately or never
   commit merges even though we shouldn't from a user perspective (this can also have funky sideeffects in tests when we open indices with lots of segments
   and suddenly merges kick in.

time:
2015-10-27T20:56:11Z
class:
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
core/src/test/java/org/elasticsearch/test/TestCluster.java
comments:
Merge pull request #14318 from s1monw/trash_get_all_stack_traces

Remove and forbid usage of Thread#getAllThreadGroups()

time:
2015-10-27T20:31:01Z
class:
core/src/main/java/org/elasticsearch/indices/cache/query/IndicesQueryCache.java
comments:
Merge pull request #14317 from jpountz/fix/cache_propagate_bulk_scorer

Caching Weight wrappers should propagate the BulkScorer.

time:
2015-10-27T20:13:48Z
class:
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
core/src/test/java/org/elasticsearch/test/TestCluster.java
comments:
Remove and forbid usage of Thread#getAllThreadGroups()

This method needs special permission and can cause all kinds of other problems
if we are creating lots of theads. Also the reason why we added this are fixed
long ago, no need to maintain this code.

time:
2015-10-27T18:58:50Z
class:
comments:
Dev-tools es release notes - the "doc" tag has been renamed to "docs"

time:
2015-10-27T18:14:14Z
class:
core/src/main/java/org/elasticsearch/indices/cache/query/IndicesQueryCache.java
comments:
Caching Weight wrappers should propagate the BulkScorer.

If we don't, then we will use the default bulk scorer, which can be
significantly slower in some cases (eg. disjunctions).

Related to https://issues.apache.org/jira/browse/LUCENE-6856

time:
2015-10-27T17:21:32Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/test/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolverTests.java
comments:
Deduplicate concrete indices after indices resolution

This commit fixes a regression introduced with #12058. This causes failures with the delete index api when providing the same index name multiple times in the request, or aliases/wildcard expressions that end up pointing to the same concrete index. The bug was revealed after merging #11258 as we delete indices in batch rather than one by one. The master node will expect too many acknowledgements based on the number of indices that it's trying to delete, hence the request will never be acknowledged by all nodes.

Closes #14316

time:
2015-10-27T16:17:16Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/UpgradeResponse.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/MergePolicyConfig.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/forcemerge/RestForceMergeAction.java
core/src/test/java/org/elasticsearch/test/rest/test/FileUtilsTests.java
comments:
Remove /_optimize REST API endpoint

The `/_optimize` endpoint was deprecated in 2.1.0 and can now be removed
entirely.

time:
2015-10-27T15:52:21Z
class:
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/SignificanceHeuristicStreams.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelStreams.java
core/src/test/java/org/elasticsearch/plugins/PluginsServiceTests.java
core/src/test/java/org/elasticsearch/search/SearchModuleTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SignificantTermsSignificanceScoreTests.java
comments:
Merge pull request #14306 from s1monw/no_lenient_on_module

Don't be lenient in PluginService#processModule(Module)

time:
2015-10-27T15:25:58Z
class:
core/src/main/java/org/elasticsearch/client/transport/TransportClient.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/SignificanceHeuristicStreams.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/models/MovAvgModelStreams.java
core/src/test/java/org/elasticsearch/plugins/PluginsServiceTests.java
core/src/test/java/org/elasticsearch/search/SearchModuleTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SignificantTermsSignificanceScoreTests.java
comments:
remove broken Stream registration API

time:
2015-10-27T13:54:30Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestCountAction.java
core/src/main/java/org/elasticsearch/rest/action/count/RestCountAction.java
core/src/main/java/org/elasticsearch/rest/action/support/RestActions.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/QueryFilterBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryIT.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilderTests.java
plugins/delete-by-query/src/main/java/org/elasticsearch/rest/action/deletebyquery/RestDeleteByQueryAction.java
comments:
Remove "query" query and fix related parsing bugs

We have two types of parse methods for queries: one for the inner query, to be used once the parser is positioned within the query element, and one for the whole query source, including the query element that wraps the actual query.

With the search refactoring we ended up using the former in count, cat count and delete by query, whereas we should have used the former.  It ends up working properly given that we have a registered (deprecated) query called "query", which used to allow to wrap a filter into a query, but this has the following downsides:
1) prevents us from removing the deprecated "query" query
2) we end up supporting a top level query that is not wrapped within a query element (pre 1.0 syntax iirc that shouldn't be supported anymore)

This commit finally removes the "query" query and fixes the related parsing bugs. We also had some tests that were providing queries in the wrong format, those have been fixed too.

Closes #13326
Closes #14304

time:
2015-10-27T13:49:40Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
comments:
Merge pull request #11258 from crate/b/reduce_cluster_state_updates_on_index_deletion

Bulk cluster state updates on index deletion

time:
2015-10-27T13:48:19Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/test/java/org/elasticsearch/plugins/PluginsServiceTests.java
comments:
Don't be lenient in PluginService#processModule(Module)

We today catch the exception and move on - this is no good, we should just fail
all the way if something can't be loaded or processed

time:
2015-10-27T13:19:36Z
class:
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexServicesProvider.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
Merge pull request #14303 from s1monw/open_up_extension_points

Open up QueryCache and SearcherWrapper extension points

time:
2015-10-27T13:07:00Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/delete/TransportDeleteIndexAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
comments:
perform only one cluster state update per DeleteIndexRequest

time:
2015-10-27T11:57:19Z
class:
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
comments:
fix test

time:
2015-10-27T11:52:52Z
class:
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexServicesProvider.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
Open up QueryCache and SearcherWrapper extension points

This commit makes QueryCache and SearcherWrappoer registration public
otherwise plugins can't access those extension points due to security restrictions.

time:
2015-10-27T10:45:40Z
class:
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/cache/IndexCache.java
core/src/main/java/org/elasticsearch/index/cache/IndexCacheModule.java
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/IndicesWarmer.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/cache/IndexCacheModuleTests.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ScriptQuerySearchTests.java
comments:
Merge pull request #14293 from s1monw/fold_in_index_cache_module

Fold IndexCacheModule into IndexModule

time:
2015-10-27T10:21:30Z
class:
core/src/test/java/org/elasticsearch/index/cache/IndexCacheModuleTests.java
comments:
remove dead code

time:
2015-10-27T10:21:30Z
class:
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
comments:
make IndicesWarmer final in BitsetFilterCache

time:
2015-10-27T10:21:30Z
class:
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/IndicesWarmer.java
core/src/main/java/org/elasticsearch/search/SearchService.java
comments:
simplify the IndexWarmer interface even more

time:
2015-10-27T10:21:30Z
class:
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
comments:
fix tests

time:
2015-10-27T10:21:30Z
class:
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/cache/IndexCache.java
core/src/main/java/org/elasticsearch/index/cache/IndexCacheModule.java
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/IndicesWarmer.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/cache/IndexCacheModuleTests.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/ScriptQuerySearchTests.java
comments:
Fold IndexCacheModule into IndexModule

This commit brings all the registration etc. from IndexCacheModule into
IndexModule. As a side-effect to remove a circular dependency between
IndicesService and IndicesWarmer this commit also cleans up IndicesWarmer and
separates the Engine from the warmer.

time:
2015-10-27T10:03:02Z
class:
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/PipelineStore.java
comments:
field rename

time:
2015-10-27T09:16:45Z
class:
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/apache/lucene/search/postingshighlight/CustomPassageFormatter.java
core/src/main/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighter.java
core/src/main/java/org/apache/lucene/search/postingshighlight/Snippet.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/apache/lucene/search/vectorhighlight/CustomFieldQuery.java
core/src/main/java/org/apache/lucene/store/StoreRateLimiting.java
core/src/main/java/org/elasticsearch/ElasticsearchCorruptionException.java
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/ElasticsearchTimeoutException.java
core/src/main/java/org/elasticsearch/ExceptionsHelper.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/ActionFuture.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/UnavailableShardsException.java
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/RenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/RenderSearchTemplateRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/RenderSearchTemplateRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/RenderSearchTemplateResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/TransportRenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/forcemerge/ForceMergeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/forcemerge/ForceMergeRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/forcemerge/ForceMergeRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/forcemerge/ForceMergeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/forcemerge/TransportForceMergeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/forcemerge/package-info.java
core/src/main/java/org/elasticsearch/action/admin/indices/get/GetIndexResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndexShardSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/get/TransportGetSettingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndexShardStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/IndexShardUpgradeStatus.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/TransportUpgradeStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/TransportPutWarmerAction.java
core/src/main/java/org/elasticsearch/action/bulk/BulkResponse.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/count/CountAction.java
core/src/main/java/org/elasticsearch/action/count/CountRequest.java
core/src/main/java/org/elasticsearch/action/count/CountRequestBuilder.java
core/src/main/java/org/elasticsearch/action/count/CountResponse.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/exists/ExistsAction.java
core/src/main/java/org/elasticsearch/action/exists/ExistsRequest.java
core/src/main/java/org/elasticsearch/action/exists/ExistsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/exists/ExistsResponse.java
core/src/main/java/org/elasticsearch/action/exists/ShardExistsRequest.java
core/src/main/java/org/elasticsearch/action/exists/ShardExistsResponse.java
core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/action/get/MultiGetRequest.java
core/src/main/java/org/elasticsearch/action/get/MultiGetResponse.java
core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java
core/src/main/java/org/elasticsearch/action/get/TransportShardMultiGetAction.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/percolate/MultiPercolateResponse.java
core/src/main/java/org/elasticsearch/action/search/ClearScrollResponse.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchRequest.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchResponse.java
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchHelper.java
core/src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
core/src/main/java/org/elasticsearch/action/support/AdapterActionFuture.java
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationAction.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsResponse.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/termvectors/dfs/DfsOnlyRequest.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/main/java/org/elasticsearch/bootstrap/JNANatives.java
core/src/main/java/org/elasticsearch/bootstrap/JarHell.java
core/src/main/java/org/elasticsearch/bootstrap/Seccomp.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/client/Client.java
core/src/main/java/org/elasticsearch/client/ClusterAdminClient.java
core/src/main/java/org/elasticsearch/client/IndicesAdminClient.java
core/src/main/java/org/elasticsearch/client/Requests.java
core/src/main/java/org/elasticsearch/client/node/NodeClient.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
core/src/main/java/org/elasticsearch/client/transport/support/TransportProxyClient.java
core/src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java
core/src/main/java/org/elasticsearch/cluster/ClusterInfo.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/EmptyClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/RestoreInProgress.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/action/index/MappingUpdatedAction.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/DjbHashFunction.java
core/src/main/java/org/elasticsearch/cluster/routing/HashFunction.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/Murmur3HashFunction.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTableValidation.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ConcurrentRebalanceAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ShardsLimitAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/cluster/settings/DynamicSettings.java
core/src/main/java/org/elasticsearch/common/Table.java
core/src/main/java/org/elasticsearch/common/blobstore/fs/FsBlobContainer.java
core/src/main/java/org/elasticsearch/common/blobstore/url/URLBlobContainer.java
core/src/main/java/org/elasticsearch/common/bytes/PagedBytesReference.java
core/src/main/java/org/elasticsearch/common/cache/Cache.java
core/src/main/java/org/elasticsearch/common/cache/CacheBuilder.java
core/src/main/java/org/elasticsearch/common/cache/CacheLoader.java
core/src/main/java/org/elasticsearch/common/cache/RemovalListener.java
core/src/main/java/org/elasticsearch/common/cache/RemovalNotification.java
core/src/main/java/org/elasticsearch/common/collect/EvictingQueue.java
core/src/main/java/org/elasticsearch/common/collect/Iterators.java
core/src/main/java/org/elasticsearch/common/collect/MapBuilder.java
core/src/main/java/org/elasticsearch/common/geo/GeoPoint.java
core/src/main/java/org/elasticsearch/common/geo/GeoUtils.java
core/src/main/java/org/elasticsearch/common/inject/TypeConverterBindingProcessor.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider2.java
core/src/main/java/org/elasticsearch/common/inject/internal/MoreTypes.java
core/src/main/java/org/elasticsearch/common/inject/internal/Nullability.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/common/io/FileSystemUtils.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/logging/log4j/TerminalAppender.java
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
core/src/main/java/org/elasticsearch/common/lucene/index/ElasticsearchDirectoryReader.java
core/src/main/java/org/elasticsearch/common/lucene/index/ElasticsearchLeafReader.java
core/src/main/java/org/elasticsearch/common/lucene/search/Queries.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java
core/src/main/java/org/elasticsearch/common/lucene/uid/PerThreadIDAndVersionLookup.java
core/src/main/java/org/elasticsearch/common/lucene/uid/Versions.java
core/src/main/java/org/elasticsearch/common/network/InetAddresses.java
core/src/main/java/org/elasticsearch/common/network/NetworkAddress.java
core/src/main/java/org/elasticsearch/common/network/NetworkService.java
core/src/main/java/org/elasticsearch/common/network/NetworkUtils.java
core/src/main/java/org/elasticsearch/common/path/PathTrie.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/transport/TransportAddressSerializers.java
core/src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java
core/src/main/java/org/elasticsearch/common/unit/SizeValue.java
core/src/main/java/org/elasticsearch/common/unit/TimeValue.java
core/src/main/java/org/elasticsearch/common/util/CollectionUtils.java
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
core/src/main/java/org/elasticsearch/common/util/concurrent/BaseFuture.java
core/src/main/java/org/elasticsearch/common/xcontent/XContentGenerator.java
core/src/main/java/org/elasticsearch/discovery/DiscoveryService.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/env/ESFileStore.java
core/src/main/java/org/elasticsearch/env/Environment.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/gateway/DanglingIndicesState.java
core/src/main/java/org/elasticsearch/gateway/Gateway.java
core/src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
core/src/main/java/org/elasticsearch/gateway/GatewayService.java
core/src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
core/src/main/java/org/elasticsearch/gateway/MetaStateService.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/http/HttpServer.java
core/src/main/java/org/elasticsearch/http/netty/HttpRequestHandler.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/main/java/org/elasticsearch/index/AbstractIndexComponent.java
core/src/main/java/org/elasticsearch/index/CompositeIndexEventListener.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexServicesProvider.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/LocalNodeId.java
core/src/main/java/org/elasticsearch/index/VersionType.java
core/src/main/java/org/elasticsearch/index/aliases/IndexAliasesService.java
core/src/main/java/org/elasticsearch/index/aliases/IndexAliasesServiceModule.java
core/src/main/java/org/elasticsearch/index/analysis/ASCIIFoldingTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/AbstractCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/AbstractIndexAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/AbstractTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/AbstractTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/Analysis.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
core/src/main/java/org/elasticsearch/index/analysis/ApostropheFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ArabicAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ArabicNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ArabicStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ArmenianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/BasqueAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/BrazilianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/BrazilianStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/BulgarianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CJKBigramFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CJKWidthFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CatalanAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ChineseAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CjkAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ClassicFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ClassicTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CommonGramsTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CustomAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CzechAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CzechStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/DanishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/DecimalDigitFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/DelimitedPayloadTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/DutchAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/DutchStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/EdgeNGramTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/EdgeNGramTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ElisionTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/EnglishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/FinnishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/FrenchAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/FrenchStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/GalicianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/GermanAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/GermanNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/GermanStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/GreekAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/HindiAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/HindiNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/HtmlStripCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/HungarianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/HunspellTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/IndicNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/IndonesianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/IrishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ItalianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/KStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeepTypesFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeepWordFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeywordAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/KeywordMarkerTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeywordTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LatvianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/LengthTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LetterTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LimitTokenCountFilterFactory.java
comments:
Merge remote-tracking branch 'es/master' into feature/ingest

time:
2015-10-27T08:34:54Z
class:
comments:
added custom rest specs for index and bulk that support the ingest param and added rest tests that verify that the ingest param is working

time:
2015-10-27T05:50:58Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/DateProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/JodaPatternDateParser.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/TAI64NDateParser.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/UnixDateParser.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/UnixMsDateParser.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/date/JodaPatternDateParserTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/date/TAI64NDateParserTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/date/UnixDateParserTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/date/UnixMsDateParserTests.java
comments:
fix forbiddenapis

time:
2015-10-26T20:49:05Z
class:
comments:
Fixing typo

time:
2015-10-26T20:48:20Z
class:
comments:
Fixing typo

time:
2015-10-26T20:47:44Z
class:
comments:
Fixing typo

time:
2015-10-26T20:46:36Z
class:
comments:
Fixing typo

time:
2015-10-26T20:43:25Z
class:
comments:
Fixing typo

time:
2015-10-26T20:42:45Z
class:
comments:
Fixing typo

time:
2015-10-26T20:32:50Z
class:
core/src/main/java/org/apache/lucene/store/StoreRateLimiting.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/store/IndexStore.java
core/src/main/java/org/elasticsearch/index/store/IndexStoreConfig.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/store/IndicesStore.java
core/src/test/java/org/elasticsearch/cluster/settings/ClusterSettingsIT.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/store/MockFSIndexStore.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbmmapfs/SmbMmapFsIndexStore.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbsimplefs/SmbSimpleFsIndexStore.java
comments:
Merge pull request #14285 from s1monw/remove_circular_dep

Remove circular dependency between IndicesService and IndicesStore

time:
2015-10-26T20:02:25Z
class:
comments:
Unique repository names for rest tests

time:
2015-10-26T19:58:34Z
class:
core/src/main/java/org/elasticsearch/index/store/IndexStoreConfig.java
core/src/test/java/org/elasticsearch/cluster/settings/ClusterSettingsIT.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
apply review comments

time:
2015-10-26T19:56:01Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
comments:
fix constants

time:
2015-10-26T19:56:01Z
class:
core/src/main/java/org/apache/lucene/store/StoreRateLimiting.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/store/IndexStore.java
core/src/main/java/org/elasticsearch/index/store/IndexStoreConfig.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/store/IndicesStore.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/test/store/MockFSIndexStore.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbmmapfs/SmbMmapFsIndexStore.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbsimplefs/SmbSimpleFsIndexStore.java
comments:
Remove circular dependency between IndicesService and IndicesStore

This commit introduces a new IndexStoreConfig that is passed to
IndexStore instances instead it's pretty messy parent service.

time:
2015-10-26T18:08:08Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
comments:
Merge pull request #14288 from jasontedor/plugin-list

Fix plugin list command error message

time:
2015-10-26T18:02:48Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
comments:
Fix plugin list command error message

Closes #14287

time:
2015-10-26T17:40:39Z
class:
core/src/main/java/org/elasticsearch/rest/action/RestActionModule.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestRepositoriesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestSnapshotAction.java
comments:
Merge pull request #14247 from ywelsch/feature/cat-snapshots

Add cat API for repositories and snapshots

time:
2015-10-26T17:37:35Z
class:
core/src/main/java/org/elasticsearch/common/lucene/MinimumScoreCollector.java
core/src/main/java/org/elasticsearch/common/lucene/search/MinScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/CustomBoostFactorScorer.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/test/java/org/elasticsearch/common/lucene/search/MinScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreTests.java
core/src/test/java/org/elasticsearch/search/query/QueryPhaseTests.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
comments:
Revert "Improve `min_score` implementation."

This reverts commit 56ea65b0f8e3e92d4bb2e91e66c02b9f94d8bfbe.

time:
2015-10-26T17:37:10Z
class:
core/src/main/java/org/elasticsearch/rest/action/RestActionModule.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestRepositoriesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestSnapshotAction.java
comments:
Add cat API for repositories and snapshots

Closes #14247
Closes #13919

time:
2015-10-26T16:39:14Z
class:
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
comments:
Tests: run base query tests for more than one random query

time:
2015-10-26T13:47:09Z
class:
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityModule.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityService.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/similarity/SimilarityModuleTests.java
comments:
Merge pull request #14284 from s1monw/fold_similarity_module_into_index_module

Fold SimilarityModule into IndexModule

time:
2015-10-26T13:23:28Z
class:
plugins/store-smb/src/main/java/org/elasticsearch/plugin/store/smb/SMBStorePlugin.java
comments:
Remove unused import

time:
2015-10-26T13:21:12Z
class:
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityModule.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityService.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/similarity/SimilarityModuleTests.java
comments:
Fold SimilarityModule into IndexModule

IndexModule is the central extension point we should centralize the extension mechanism
towards removing guice entirely on the index level.

time:
2015-10-26T13:10:36Z
class:
core/src/main/java/org/elasticsearch/common/lucene/MinimumScoreCollector.java
core/src/main/java/org/elasticsearch/common/lucene/search/MinScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/CustomBoostFactorScorer.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/test/java/org/elasticsearch/common/lucene/search/MinScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreTests.java
core/src/test/java/org/elasticsearch/search/query/QueryPhaseTests.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
comments:
Merge pull request #14202 from jpountz/enhancement/min_score

Improve `min_score` implementation.

time:
2015-10-26T13:08:31Z
class:
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/store/FsDirectoryService.java
core/src/main/java/org/elasticsearch/index/store/IndexStore.java
core/src/main/java/org/elasticsearch/index/store/IndexStoreModule.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/store/IndexStoreTests.java
core/src/test/java/org/elasticsearch/plugins/PluginsServiceTests.java
core/src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
core/src/test/java/org/elasticsearch/test/store/MockFSIndexStore.java
core/src/test/java/org/elasticsearch/test/store/MockFSIndexStoreModule.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbmmapfs/SmbMmapFsDirectoryService.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbmmapfs/SmbMmapFsIndexStore.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbsimplefs/SmbSimpleFsDirectoryService.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbsimplefs/SmbSimpleFsIndexStore.java
plugins/store-smb/src/main/java/org/elasticsearch/plugin/store/smb/SMBStorePlugin.java
comments:
Merge pull request #14279 from s1monw/no_guice_on_store

Remove guice injection from IndexStore and friends

time:
2015-10-26T12:57:27Z
class:
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
comments:
Use actual parameter passed to the ctor

time:
2015-10-26T12:53:04Z
class:
comments:
Add Kerberos/SPNEGO Shield custom realm

Closes #14282

time:
2015-10-26T12:47:44Z
class:
comments:
Merge pull request #14280 from salyh/patch-1

Added IMAP/POP3 Mailimporter to documentation

time:
2015-10-26T11:32:34Z
class:
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/store/FsDirectoryService.java
core/src/main/java/org/elasticsearch/index/store/IndexStore.java
core/src/main/java/org/elasticsearch/index/store/IndexStoreModule.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/store/IndexStoreTests.java
core/src/test/java/org/elasticsearch/plugins/PluginsServiceTests.java
core/src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
core/src/test/java/org/elasticsearch/test/store/MockFSIndexStore.java
core/src/test/java/org/elasticsearch/test/store/MockFSIndexStoreModule.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbmmapfs/SmbMmapFsDirectoryService.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbmmapfs/SmbMmapFsIndexStore.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbsimplefs/SmbSimpleFsDirectoryService.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbsimplefs/SmbSimpleFsIndexStore.java
plugins/store-smb/src/main/java/org/elasticsearch/plugin/store/smb/SMBStorePlugin.java
comments:
Remove guice injection from IndexStore and friends

This commit replaces dependency injection from IndexStore and subclasses
and replaces it with dedicated set of dependencies.

time:
2015-10-26T11:30:58Z
class:
core/src/main/java/org/elasticsearch/index/engine/Engine.java
comments:
Use Long.MAX_VALUE to indicate that there has not yet been any modifications

Relates to #14275

time:
2015-10-26T11:01:50Z
class:
core/src/main/java/org/elasticsearch/common/lucene/MinimumScoreCollector.java
core/src/main/java/org/elasticsearch/common/lucene/search/MinScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/CustomBoostFactorScorer.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FunctionScoreQuery.java
core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/FilteredSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/SearchContext.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/test/java/org/elasticsearch/common/lucene/search/MinScoreQueryTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreTests.java
core/src/test/java/org/elasticsearch/search/query/QueryPhaseTests.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
comments:
Improve `min_score` implementation.

This changes how `min_score` is implemented both for `function_score` and the
search request parameter to confirm whether the minimum score is met in the
`matches()` phase of a TwoPhaseIterator.

time:
2015-10-26T10:41:04Z
class:
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexSearcherWrapperTests.java
comments:
Merge pull request #14275 from s1monw/renew_syn_on_merge

Flush big merges automatically if shard is inactive

time:
2015-10-26T10:08:10Z
class:
core/src/main/java/org/elasticsearch/index/engine/Engine.java
comments:
s/  / /

time:
2015-10-26T10:05:57Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/index/AbstractIndexComponent.java
core/src/main/java/org/elasticsearch/index/CompositeIndexEventListener.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexNameModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/analysis/ASCIIFoldingTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/AbstractCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/AbstractIndexAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/AbstractTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/AbstractTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/Analysis.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
core/src/main/java/org/elasticsearch/index/analysis/ApostropheFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ArabicAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ArabicNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ArabicStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ArmenianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/BasqueAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/BrazilianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/BrazilianStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/BulgarianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CJKBigramFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CJKWidthFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CatalanAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ChineseAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CjkAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ClassicFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ClassicTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CommonGramsTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CustomAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CzechAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CzechStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/DanishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/DecimalDigitFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/DelimitedPayloadTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/DutchAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/DutchStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/EdgeNGramTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/EdgeNGramTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ElisionTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/EnglishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/FinnishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/FrenchAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/FrenchStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/GalicianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/GermanAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/GermanNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/GermanStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/GreekAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/HindiAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/HindiNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/HtmlStripCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/HungarianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/HunspellTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/IndicNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/IndonesianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/IrishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ItalianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/KStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeepTypesFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeepWordFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeywordAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/KeywordMarkerTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeywordTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LatvianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/LengthTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LetterTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LimitTokenCountFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LithuanianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/LowerCaseTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LowerCaseTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/MappingCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/NGramTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/NGramTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/NorwegianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/PathHierarchyTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PatternAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/PatternCaptureGroupTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PatternReplaceCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PatternReplaceTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PatternTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PersianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/PersianNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PorterStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PortugueseAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ReverseTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/RomanianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/RussianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/RussianStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ScandinavianFoldingFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ScandinavianNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SerbianNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ShingleTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SimpleAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/SnowballAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/SnowballTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SoraniAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/SoraniNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SpanishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StandardAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StandardHtmlStripAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StandardTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/StandardTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/StemmerOverrideTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/StemmerTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/StopAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StopTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SwedishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/SynonymTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ThaiAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ThaiTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/TrimTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/TruncateTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/TurkishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/UAX29URLEmailTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/UniqueTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/UpperCaseTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/WhitespaceAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/WhitespaceTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/WordDelimiterTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/compound/AbstractCompoundWordTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/compound/DictionaryCompoundWordTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/compound/HyphenationCompoundWordTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/cache/IndexCache.java
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/cache/bitset/ShardBitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/cache/query/index/IndexQueryCache.java
core/src/main/java/org/elasticsearch/index/cache/query/none/NoneQueryCache.java
core/src/main/java/org/elasticsearch/index/cache/request/ShardRequestCache.java
core/src/main/java/org/elasticsearch/index/codec/CodecService.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/fielddata/ShardFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/GlobalOrdinalsBuilder.java
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/GlobalOrdinalsIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/InternalGlobalOrdinalsIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexGeoPointFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexOrdinalsFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/BytesBinaryDVIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DisabledIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DocValuesIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointBinaryDVIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/IndexIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/SortedSetDVOrdinalsIndexFieldData.java
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/RootObjectMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/settings/IndexSettings.java
core/src/main/java/org/elasticsearch/index/settings/IndexSettingsProvider.java
core/src/main/java/org/elasticsearch/index/settings/IndexSettingsService.java
core/src/main/java/org/elasticsearch/index/shard/AbstractIndexShardComponent.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/MergePolicyConfig.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShardPath.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityModule.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityService.java
core/src/main/java/org/elasticsearch/index/store/DirectoryService.java
core/src/main/java/org/elasticsearch/index/store/FsDirectoryService.java
core/src/main/java/org/elasticsearch/index/store/IndexStore.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/index/suggest/stats/ShardSuggestMetric.java
core/src/main/java/org/elasticsearch/index/translog/TranslogConfig.java
core/src/main/java/org/elasticsearch/index/warmer/ShardIndexWarmerService.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySource.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/ack/AckClusterUpdateSettingsIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FilterRoutingTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/IndexSettingsTests.java
core/src/test/java/org/elasticsearch/index/SettingsListenerIT.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisServiceTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisTestsHelper.java
core/src/test/java/org/elasticsearch/index/analysis/CharFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
core/src/test/java/org/elasticsearch/index/analysis/NGramTokenizerFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/PatternCaptureTokenFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/StopAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/analysis/filter1/MyFilterTokenFilterFactory.java
core/src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTests.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/IndexFieldDataServiceTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/RegisterExternalTypes.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
core/src/test/java/org/elasticsearch/index/mapper/simple/SimpleMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/search/MultiMatchQueryTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/shard/MergePolicySettingsTests.java
core/src/test/java/org/elasticsearch/index/shard/NewPathForShardTests.java
core/src/test/java/org/elasticsearch/index/shard/ShardPathTests.java
core/src/test/java/org/elasticsearch/index/similarity/SimilarityModuleTests.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/index/store/IndexStoreTests.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
core/src/test/java/org/elasticsearch/index/translog/BufferedTranslogTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerIT.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerSingleNodeTests.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
core/src/test/java/org/elasticsearch/indices/recovery/RecoverySourceHandlerTests.java
core/src/test/java/org/elasticsearch/test/ESTokenStreamTestCase.java
core/src/test/java/org/elasticsearch/test/IndexSettingsModule.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
core/src/test/java/org/elasticsearch/test/store/MockFSIndexStore.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuCollationTokenFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuFoldingTokenFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuNormalizerCharFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuNormalizerTokenFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuTokenizerFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuTransformTokenFilterFactory.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/AnalysisTestUtils.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/JapaneseStopTokenFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiAnalyzerProvider.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiBaseFormFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiIterationMarkCharFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiKatakanaStemmerFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiPartOfSpeechFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiReadingFormFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiTokenizerFactory.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java
plugins/analysis-phonetic/src/main/java/org/elasticsearch/index/analysis/PhoneticTokenFilterFactory.java
plugins/analysis-phonetic/src/test/java/org/elasticsearch/index/analysis/SimplePhoneticAnalysisTests.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/index/analysis/SmartChineseAnalyzerProvider.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/index/analysis/SmartChineseNoOpTokenFilterFactory.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/index/analysis/SmartChineseTokenizerTokenizerFactory.java
plugins/analysis-smartcn/src/test/java/org/elasticsearch/index/analysis/SimpleSmartChineseAnalysisTests.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/index/analysis/pl/PolishAnalyzerProvider.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/index/analysis/pl/PolishStemTokenFilterFactory.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/PolishAnalysisTests.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/SimplePolishTokenFilterTests.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/index/mapper/murmur3/RegisterMurmur3FieldMapper.java
plugins/mapper-size/src/main/java/org/elasticsearch/index/mapper/size/RegisterSizeFieldMapper.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbmmapfs/SmbMmapFsDirectoryService.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbmmapfs/SmbMmapFsIndexStore.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbsimplefs/SmbSimpleFsDirectoryService.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbsimplefs/SmbSimpleFsIndexStore.java
comments:
Merge branch 'master' into renew_syn_on_merge

time:
2015-10-26T10:02:30Z
class:
core/src/test/java/org/elasticsearch/cluster/ack/AckClusterUpdateSettingsIT.java
comments:
Fix AckClusterUpdateSettingsIT.testClusterUpdateSettingsAcknowledgement() after changes in #14259

Closes #14278

time:
2015-10-26T09:59:27Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
comments:
assign IMC frst

time:
2015-10-26T09:44:00Z
class:
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
comments:
fix javadoc and pass a better reason to refresh

time:
2015-10-26T09:37:11Z
class:
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexSearcherWrapperTests.java
comments:
Push last modified timestamp to engine and use a time delta to flush merges

time:
2015-10-26T08:27:05Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FilterRoutingTests.java
comments:
Merge pull request #14259 from ywelsch/fix/allocationdecider-relocatingshards

Check rebalancing constraints when shards are moved from a node they can no longer remain on

time:
2015-10-26T08:26:20Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FilterRoutingTests.java
comments:
Check rebalancing constraints when shards are moved from a node they can no longer remain on

Closes #14259
Closes #14057

time:
2015-10-24T20:45:17Z
class:
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
comments:
Flush big merges automatically if shard is inactive

Today if a shard is marked as inactive after a heavy indexing period
large merges are very likely. Yet, those merges are never committed today
since time-based flush has been removed and unless the shard becomes active
again we won't revisit it.
Yet, inactive shards have very likely been sync-flushed before such that we need
to maintain the sync id if possible which this change tries on a per shard basis.

time:
2015-10-24T15:18:51Z
class:
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesIT.java
comments:
Test: MinimumMasterNodesIT.testCanNotPublishWithoutMinMastNodes should wait for state to be recovered

The test spawns up 3 nodes, waits for a master to be elected and starts network disruptions. If those kick in too early we may have a cluster with a state not recovered block which causes failure during clean ups.  http://build-us-00.elastic.co/job/es_core_master_oracle_6/3034/

time:
2015-10-24T13:38:46Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/index/AbstractIndexComponent.java
core/src/main/java/org/elasticsearch/index/CompositeIndexEventListener.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexNameModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/analysis/ASCIIFoldingTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/AbstractCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/AbstractIndexAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/AbstractTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/AbstractTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/Analysis.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
core/src/main/java/org/elasticsearch/index/analysis/ApostropheFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ArabicAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ArabicNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ArabicStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ArmenianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/BasqueAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/BrazilianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/BrazilianStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/BulgarianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CJKBigramFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CJKWidthFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CatalanAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ChineseAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CjkAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ClassicFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ClassicTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CommonGramsTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CustomAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CzechAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CzechStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/DanishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/DecimalDigitFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/DelimitedPayloadTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/DutchAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/DutchStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/EdgeNGramTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/EdgeNGramTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ElisionTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/EnglishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/FinnishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/FrenchAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/FrenchStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/GalicianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/GermanAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/GermanNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/GermanStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/GreekAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/HindiAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/HindiNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/HtmlStripCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/HungarianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/HunspellTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/IndicNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/IndonesianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/IrishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ItalianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/KStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeepTypesFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeepWordFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeywordAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/KeywordMarkerTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeywordTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LatvianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/LengthTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LetterTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LimitTokenCountFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LithuanianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/LowerCaseTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LowerCaseTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/MappingCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/NGramTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/NGramTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/NorwegianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/PathHierarchyTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PatternAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/PatternCaptureGroupTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PatternReplaceCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PatternReplaceTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PatternTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PersianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/PersianNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PorterStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PortugueseAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ReverseTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/RomanianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/RussianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/RussianStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ScandinavianFoldingFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ScandinavianNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SerbianNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ShingleTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SimpleAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/SnowballAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/SnowballTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SoraniAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/SoraniNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SpanishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StandardAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StandardHtmlStripAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StandardTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/StandardTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/StemmerOverrideTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/StemmerTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/StopAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StopTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SwedishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/SynonymTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ThaiAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ThaiTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/TrimTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/TruncateTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/TurkishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/UAX29URLEmailTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/UniqueTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/UpperCaseTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/WhitespaceAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/WhitespaceTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/WordDelimiterTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/compound/AbstractCompoundWordTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/compound/DictionaryCompoundWordTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/compound/HyphenationCompoundWordTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/cache/IndexCache.java
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/cache/bitset/ShardBitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/cache/query/index/IndexQueryCache.java
core/src/main/java/org/elasticsearch/index/cache/query/none/NoneQueryCache.java
core/src/main/java/org/elasticsearch/index/cache/request/ShardRequestCache.java
core/src/main/java/org/elasticsearch/index/codec/CodecService.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/fielddata/ShardFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/GlobalOrdinalsBuilder.java
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/GlobalOrdinalsIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/InternalGlobalOrdinalsIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexGeoPointFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexOrdinalsFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/BytesBinaryDVIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DisabledIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DocValuesIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointBinaryDVIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/IndexIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/SortedSetDVOrdinalsIndexFieldData.java
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/RootObjectMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/settings/IndexSettings.java
core/src/main/java/org/elasticsearch/index/settings/IndexSettingsProvider.java
core/src/main/java/org/elasticsearch/index/settings/IndexSettingsService.java
core/src/main/java/org/elasticsearch/index/shard/AbstractIndexShardComponent.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/MergePolicyConfig.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShardPath.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityModule.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityService.java
core/src/main/java/org/elasticsearch/index/store/DirectoryService.java
core/src/main/java/org/elasticsearch/index/store/FsDirectoryService.java
core/src/main/java/org/elasticsearch/index/store/IndexStore.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/index/suggest/stats/ShardSuggestMetric.java
core/src/main/java/org/elasticsearch/index/translog/TranslogConfig.java
core/src/main/java/org/elasticsearch/index/warmer/ShardIndexWarmerService.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySource.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/IndexSettingsTests.java
core/src/test/java/org/elasticsearch/index/SettingsListenerIT.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisServiceTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisTestsHelper.java
core/src/test/java/org/elasticsearch/index/analysis/CharFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
core/src/test/java/org/elasticsearch/index/analysis/NGramTokenizerFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/PatternCaptureTokenFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/StopAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/analysis/filter1/MyFilterTokenFilterFactory.java
core/src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTests.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/IndexFieldDataServiceTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/RegisterExternalTypes.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
core/src/test/java/org/elasticsearch/index/mapper/simple/SimpleMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/search/MultiMatchQueryTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/shard/MergePolicySettingsTests.java
core/src/test/java/org/elasticsearch/index/shard/NewPathForShardTests.java
core/src/test/java/org/elasticsearch/index/shard/ShardPathTests.java
core/src/test/java/org/elasticsearch/index/similarity/SimilarityModuleTests.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/index/store/IndexStoreTests.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
core/src/test/java/org/elasticsearch/index/translog/BufferedTranslogTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerIT.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerSingleNodeTests.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
core/src/test/java/org/elasticsearch/indices/recovery/RecoverySourceHandlerTests.java
core/src/test/java/org/elasticsearch/test/ESTokenStreamTestCase.java
core/src/test/java/org/elasticsearch/test/IndexSettingsModule.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
core/src/test/java/org/elasticsearch/test/store/MockFSIndexStore.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuCollationTokenFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuFoldingTokenFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuNormalizerCharFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuNormalizerTokenFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuTokenizerFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuTransformTokenFilterFactory.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/AnalysisTestUtils.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/JapaneseStopTokenFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiAnalyzerProvider.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiBaseFormFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiIterationMarkCharFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiKatakanaStemmerFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiPartOfSpeechFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiReadingFormFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiTokenizerFactory.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java
plugins/analysis-phonetic/src/main/java/org/elasticsearch/index/analysis/PhoneticTokenFilterFactory.java
plugins/analysis-phonetic/src/test/java/org/elasticsearch/index/analysis/SimplePhoneticAnalysisTests.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/index/analysis/SmartChineseAnalyzerProvider.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/index/analysis/SmartChineseNoOpTokenFilterFactory.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/index/analysis/SmartChineseTokenizerTokenizerFactory.java
plugins/analysis-smartcn/src/test/java/org/elasticsearch/index/analysis/SimpleSmartChineseAnalysisTests.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/index/analysis/pl/PolishAnalyzerProvider.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/index/analysis/pl/PolishStemTokenFilterFactory.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/PolishAnalysisTests.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/SimplePolishTokenFilterTests.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/index/mapper/murmur3/RegisterMurmur3FieldMapper.java
plugins/mapper-size/src/main/java/org/elasticsearch/index/mapper/size/RegisterSizeFieldMapper.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbmmapfs/SmbMmapFsDirectoryService.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbmmapfs/SmbMmapFsIndexStore.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbsimplefs/SmbSimpleFsDirectoryService.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbsimplefs/SmbSimpleFsIndexStore.java
comments:
Merge pull request #14251 from s1monw/trash_index_settings

Replace IndexSettings annotation with a full-fledged class

time:
2015-10-24T13:24:52Z
class:
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
core/src/main/java/org/elasticsearch/index/analysis/CustomAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
comments:
apply review comments

time:
2015-10-24T13:17:53Z
class:
core/src/test/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsRequestTests.java
comments:
[TEST] properly disable merges

time:
2015-10-24T03:43:37Z
class:
core/src/main/java/org/elasticsearch/common/network/NetworkService.java
core/src/main/java/org/elasticsearch/common/network/NetworkUtils.java
core/src/main/java/org/elasticsearch/http/netty/NettyHttpServerTransport.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/test/java/org/elasticsearch/common/network/NetworkServiceTests.java
plugins/discovery-azure/src/main/java/org/elasticsearch/discovery/azure/AzureUnicastHostsProvider.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2NetworkTests.java
plugins/discovery-gce/src/main/java/org/elasticsearch/discovery/gce/GceUnicastHostsProvider.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceNetworkTests.java
plugins/discovery-multicast/src/main/java/org/elasticsearch/plugin/discovery/multicast/MulticastZenPing.java
comments:
Allow binding to multiple addresses

* Allow for multiple host specifications (e.g. _en0_,192.168.1.2,_site_).
* Add _site_ and _global_ scopes as counterparts to _local_.
* Warn on heuristic selection of publish address.
* Remove the arbitrary _non_loopback_ setting.

Closes #13954

time:
2015-10-24T03:23:56Z
class:
core/src/main/java/org/elasticsearch/env/ESFileStore.java
core/src/main/java/org/elasticsearch/env/Environment.java
comments:
Merge pull request #14135 from rmuir/jail_filestore_exception

Give a better exception when running from freebsd jail without enforce_statfs=1

time:
2015-10-24T01:57:50Z
class:
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
comments:
Add workaround for JDK-8014008

We should not implement this method, it is a real problem. But I think
it is ok to workaround the JDK bug (https://bugs.openjdk.java.net/browse/JDK-8014008).

This allows jconsole/visualvm to work in the meantime.

time:
2015-10-23T21:00:29Z
class:
comments:
Merge pull request #14272 from elastic/cbuescher-update-indicesquery-docs

Update indices-query.asciidoc

time:
2015-10-23T20:55:40Z
class:
comments:
Update indices-query.asciidoc

time:
2015-10-23T19:14:52Z
class:
comments:
Update indices-query.asciidoc

The current description of the query seemed confusing to some people (e.g. https://twitter.com/wielinde/status/654582620630687744), this is just a proposal to simplify it.

time:
2015-10-23T15:20:54Z
class:
comments:
Create branch for elasticsearch 2.x.x

time:
2015-10-23T14:58:50Z
class:
comments:
Create branch for elasticsearch 2.1.x

time:
2015-10-23T14:55:35Z
class:
src/test/java/org/elasticsearch/index/mapper/attachment/test/standalone/StandaloneRunner.java
comments:
Standalone runner expects path.home to be set

Don't use forbidden API. Actually we don't need to create any `tmp` dir.

Related to #167.

time:
2015-10-23T14:06:17Z
class:
comments:
Improved introduction, added hello world

New paragraph

Some abbreviation to 1st paragraph

More concise phrasing

Rename heading

Remove repeated "Now," from Hello World

Person is also a document

Rephrasing of last paragraph in Hello, World

Move installation to being above Hello, world

Accidentally left out moving code backticks. Fixed

Closes #155

time:
2015-10-23T13:56:48Z
class:
comments:
[Docs] Mapper 3.0 show ES 2.0 functionality that does not exist

Closes #159.

time:
2015-10-23T13:47:37Z
class:
src/test/java/org/elasticsearch/index/mapper/attachment/test/standalone/StandaloneRunner.java
comments:
Standalone runner expects path.home to be set

With elasticsearch 2.0, `path.home` must be set now. Standalone Runner (test) is using elasticsearch CLI which relies on `Environment` to be set.

It produces now:

```
Exception in thread "main" java.lang.IllegalStateException: path.home is not configured
	at org.elasticsearch.env.Environment.<init>(Environment.java:99)
	at org.elasticsearch.node.internal.InternalSettingsPreparer.prepareEnvironment(InternalSettingsPreparer.java:85)
	at org.elasticsearch.common.cli.CliTool.<init>(CliTool.java:107)
	at org.elasticsearch.common.cli.CliTool.<init>(CliTool.java:100)
	at org.elasticsearch.index.mapper.attachment.test.standalone.StandaloneRunner.<init>(StandaloneRunner.java:170)
	at org.elasticsearch.index.mapper.attachment.test.standalone.StandaloneRunner.main(StandaloneRunner.java:175)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)
```

Closes #167.

time:
2015-10-23T13:19:56Z
class:
src/main/java/org/elasticsearch/index/mapper/attachment/AttachmentMapper.java
comments:
Remove call to System.clearProperty("sun.font.fontmanager");

This has been fixed in Tika 1.8. See https://issues.apache.org/jira/browse/TIKA-1548
We can now remove that call in `AttachmentMapper` class.

Closes #174.
(cherry picked from commit eacb040)

time:
2015-10-23T10:21:56Z
class:
core/src/test/java/org/elasticsearch/index/SettingsListenerIT.java
comments:
fix test to not use client nodes

time:
2015-10-23T10:04:54Z
class:
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/test/java/org/elasticsearch/index/SettingsListenerIT.java
comments:
add integration test for adding and listening to a dynamic index setting

time:
2015-10-23T09:05:37Z
class:
core/src/main/java/org/elasticsearch/indices/IndicesService.java
comments:
pass the right settings to the listener

time:
2015-10-23T08:53:39Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/IndexSettingsTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisServiceTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisTestsHelper.java
core/src/test/java/org/elasticsearch/index/analysis/CharFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
core/src/test/java/org/elasticsearch/index/analysis/NGramTokenizerFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/PatternCaptureTokenFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/StopAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTests.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/IndexFieldDataServiceTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/shard/NewPathForShardTests.java
core/src/test/java/org/elasticsearch/index/shard/ShardPathTests.java
core/src/test/java/org/elasticsearch/index/similarity/SimilarityModuleTests.java
core/src/test/java/org/elasticsearch/index/store/IndexStoreTests.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
core/src/test/java/org/elasticsearch/index/translog/BufferedTranslogTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/indices/recovery/RecoverySourceHandlerTests.java
core/src/test/java/org/elasticsearch/test/IndexSettingsModule.java
core/src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/AnalysisTestUtils.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java
plugins/analysis-phonetic/src/test/java/org/elasticsearch/index/analysis/SimplePhoneticAnalysisTests.java
plugins/analysis-smartcn/src/test/java/org/elasticsearch/index/analysis/SimpleSmartChineseAnalysisTests.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/PolishAnalysisTests.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/SimplePolishTokenFilterTests.java
comments:
Make IndexSettings also own the IndexMetaData and separate node settings

time:
2015-10-23T07:17:57Z
class:
core/src/test/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsRequestTests.java
comments:
[TEST] wait for flush to ensure at least one segment is visible / existing

time:
2015-10-22T22:00:35Z
class:
comments:
Backs out early link fix.

time:
2015-10-22T21:29:35Z
class:
comments:
Merge branch 'master-linkfix'

time:
2015-10-22T21:06:59Z
class:
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/test/java/org/elasticsearch/index/IndexSettingsTests.java
comments:
apply review comments

time:
2015-10-22T20:26:24Z
class:
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
core/src/main/java/org/elasticsearch/index/analysis/CustomAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/EdgeNGramTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/NGramTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PatternAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StandardAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StandardHtmlStripAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StemmerTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/test/java/org/elasticsearch/index/IndexSettingsTests.java
core/src/test/java/org/elasticsearch/test/store/MockFSIndexStore.java
comments:
add unittests & javadocs

time:
2015-10-22T18:43:41Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/env/NodeEnvironment.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/index/AbstractIndexComponent.java
core/src/main/java/org/elasticsearch/index/CompositeIndexEventListener.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexNameModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexSettings.java
core/src/main/java/org/elasticsearch/index/analysis/ASCIIFoldingTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/AbstractCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/AbstractIndexAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/AbstractTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/AbstractTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/Analysis.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
core/src/main/java/org/elasticsearch/index/analysis/ApostropheFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ArabicAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ArabicNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ArabicStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ArmenianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/BasqueAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/BrazilianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/BrazilianStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/BulgarianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CJKBigramFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CJKWidthFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CatalanAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ChineseAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CjkAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ClassicFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ClassicTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CommonGramsTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/CustomAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CzechAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/CzechStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/DanishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/DecimalDigitFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/DelimitedPayloadTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/DutchAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/DutchStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/EdgeNGramTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/EdgeNGramTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ElisionTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/EnglishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/FinnishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/FrenchAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/FrenchStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/GalicianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/GermanAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/GermanNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/GermanStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/GreekAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/HindiAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/HindiNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/HtmlStripCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/HungarianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/HunspellTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/IndicNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/IndonesianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/IrishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ItalianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/KStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeepTypesFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeepWordFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeywordAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/KeywordMarkerTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/KeywordTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LatvianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/LengthTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LetterTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LimitTokenCountFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LithuanianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/LowerCaseTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/LowerCaseTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/MappingCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/NGramTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/NGramTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/NorwegianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/PathHierarchyTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PatternAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/PatternCaptureGroupTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PatternReplaceCharFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PatternReplaceTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PatternTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PersianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/PersianNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PorterStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/PortugueseAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ReverseTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/RomanianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/RussianAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/RussianStemTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ScandinavianFoldingFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ScandinavianNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SerbianNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ShingleTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SimpleAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/SnowballAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/SnowballTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SoraniAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/SoraniNormalizationFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SpanishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StandardAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StandardHtmlStripAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StandardTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/StandardTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/StemmerOverrideTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/StemmerTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/StopAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/StopTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SwedishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/SynonymTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/ThaiAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/ThaiTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/TrimTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/TruncateTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/TurkishAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/UAX29URLEmailTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/UniqueTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/UpperCaseTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/WhitespaceAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/analysis/WhitespaceTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/WordDelimiterTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/compound/AbstractCompoundWordTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/compound/DictionaryCompoundWordTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/analysis/compound/HyphenationCompoundWordTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/cache/IndexCache.java
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/cache/bitset/ShardBitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/cache/query/index/IndexQueryCache.java
core/src/main/java/org/elasticsearch/index/cache/query/none/NoneQueryCache.java
core/src/main/java/org/elasticsearch/index/cache/request/ShardRequestCache.java
core/src/main/java/org/elasticsearch/index/codec/CodecService.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/fielddata/ShardFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/GlobalOrdinalsBuilder.java
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/GlobalOrdinalsIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/InternalGlobalOrdinalsIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexGeoPointFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexOrdinalsFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/BytesBinaryDVIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DisabledIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DocValuesIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointBinaryDVIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/GeoPointDoubleArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/IndexIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/PagedBytesIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/SortedSetDVOrdinalsIndexFieldData.java
core/src/main/java/org/elasticsearch/index/get/ShardGetService.java
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/RootObjectMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/TemplateQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
core/src/main/java/org/elasticsearch/index/settings/IndexSettings.java
core/src/main/java/org/elasticsearch/index/settings/IndexSettingsProvider.java
core/src/main/java/org/elasticsearch/index/settings/IndexSettingsService.java
core/src/main/java/org/elasticsearch/index/shard/AbstractIndexShardComponent.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/MergePolicyConfig.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShardPath.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityModule.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityService.java
core/src/main/java/org/elasticsearch/index/store/DirectoryService.java
core/src/main/java/org/elasticsearch/index/store/FsDirectoryService.java
core/src/main/java/org/elasticsearch/index/store/IndexStore.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/index/suggest/stats/ShardSuggestMetric.java
core/src/main/java/org/elasticsearch/index/translog/TranslogConfig.java
core/src/main/java/org/elasticsearch/index/warmer/ShardIndexWarmerService.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySource.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisServiceTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisTestsHelper.java
core/src/test/java/org/elasticsearch/index/analysis/CharFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
core/src/test/java/org/elasticsearch/index/analysis/NGramTokenizerFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/PatternCaptureTokenFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/StopAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/analysis/filter1/MyFilterTokenFilterFactory.java
core/src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTests.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/IndexFieldDataServiceTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/RegisterExternalTypes.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldTests.java
core/src/test/java/org/elasticsearch/index/mapper/simple/SimpleMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/WrapperQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/search/MultiMatchQueryTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/shard/MergePolicySettingsTests.java
core/src/test/java/org/elasticsearch/index/shard/NewPathForShardTests.java
core/src/test/java/org/elasticsearch/index/shard/ShardPathTests.java
core/src/test/java/org/elasticsearch/index/similarity/SimilarityModuleTests.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/index/store/IndexStoreTests.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
core/src/test/java/org/elasticsearch/index/translog/BufferedTranslogTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerIT.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerSingleNodeTests.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
core/src/test/java/org/elasticsearch/indices/recovery/RecoverySourceHandlerTests.java
core/src/test/java/org/elasticsearch/test/ESTokenStreamTestCase.java
core/src/test/java/org/elasticsearch/test/IndexNameAndSettingsModule.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
core/src/test/java/org/elasticsearch/test/store/MockFSIndexStore.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuCollationTokenFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuFoldingTokenFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuNormalizerCharFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuNormalizerTokenFilterFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuTokenizerFactory.java
plugins/analysis-icu/src/main/java/org/elasticsearch/index/analysis/IcuTransformTokenFilterFactory.java
plugins/analysis-icu/src/test/java/org/elasticsearch/index/analysis/AnalysisTestUtils.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/JapaneseStopTokenFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiAnalyzerProvider.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiBaseFormFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiIterationMarkCharFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiKatakanaStemmerFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiPartOfSpeechFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiReadingFormFilterFactory.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/KuromojiTokenizerFactory.java
plugins/analysis-kuromoji/src/test/java/org/elasticsearch/index/analysis/KuromojiAnalysisTests.java
plugins/analysis-phonetic/src/main/java/org/elasticsearch/index/analysis/PhoneticTokenFilterFactory.java
plugins/analysis-phonetic/src/test/java/org/elasticsearch/index/analysis/SimplePhoneticAnalysisTests.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/index/analysis/SmartChineseAnalyzerProvider.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/index/analysis/SmartChineseNoOpTokenFilterFactory.java
plugins/analysis-smartcn/src/main/java/org/elasticsearch/index/analysis/SmartChineseTokenizerTokenizerFactory.java
plugins/analysis-smartcn/src/test/java/org/elasticsearch/index/analysis/SimpleSmartChineseAnalysisTests.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/index/analysis/pl/PolishAnalyzerProvider.java
plugins/analysis-stempel/src/main/java/org/elasticsearch/index/analysis/pl/PolishStemTokenFilterFactory.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/PolishAnalysisTests.java
plugins/analysis-stempel/src/test/java/org/elasticsearch/index/analysis/SimplePolishTokenFilterTests.java
plugins/mapper-murmur3/src/main/java/org/elasticsearch/index/mapper/murmur3/RegisterMurmur3FieldMapper.java
plugins/mapper-size/src/main/java/org/elasticsearch/index/mapper/size/RegisterSizeFieldMapper.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbmmapfs/SmbMmapFsDirectoryService.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbmmapfs/SmbMmapFsIndexStore.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbsimplefs/SmbSimpleFsDirectoryService.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbsimplefs/SmbSimpleFsIndexStore.java
comments:
Replace IndexSettings annotation with a full-fledged class

The @IndexSettings annoationat has been used to differentiate between node-level
and index level settings. It was also decoupled from realtime-updates such that
the settings object that a class got injected when it was created was static and
not subject to change when an update was applied. This change removes the annoation
and replaces it with a full-fledged class that adds type-safety and encapsulates additional
functionality as well as checks on the settings.

time:
2015-10-22T18:09:59Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/test/java/org/elasticsearch/indices/state/CloseIndexDisableCloseAllIT.java
comments:
Merge pull request #14169 from s1monw/issues/14168

Add option to disable closing indices

time:
2015-10-22T18:09:31Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
core/src/test/java/org/elasticsearch/indices/state/CloseIndexDisableCloseAllIT.java
comments:
improve exception message

time:
2015-10-22T18:05:43Z
class:
comments:
Removed cross document link to field data topic.

time:
2015-10-22T16:54:01Z
class:
comments:
Fix indentation for trailing parentheses

(people shouldn't write trailing parentheses anyway!)

time:
2015-10-22T14:49:37Z
class:
core/src/test/java/org/elasticsearch/action/admin/indices/flush/FlushBlocksIT.java
comments:
[TEST] Wait if flush is ongoing otherwise test sometimes fails due to FlushNotAllowedEngineException

time:
2015-10-22T14:00:44Z
class:
comments:
Tidied up the release candidate email template to make it easier to read.

time:
2015-10-22T07:43:02Z
class:
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerSingleNodeTests.java
comments:
[TEST] Don't delete index from the clusterstate otherwise it might be concurrently removed

time:
2015-10-22T02:25:45Z
class:
comments:
Add .projectile project file

time:
2015-10-21T23:44:12Z
class:
comments:
Fixes broken links.

time:
2015-10-21T20:59:26Z
class:
core/src/test/java/org/elasticsearch/common/util/ExtensionPointTests.java
comments:
[TEST] Add test for #14232

Test that ClassSet bindings bound as eager singletons

time:
2015-10-21T20:58:25Z
class:
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
comments:
Merge pull request #14232 from jaymode/class_set_binding

properly bind ClassSet extensions as singletons

time:
2015-10-21T20:12:07Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/index/CompositeIndexEventListener.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexServicesProvider.java
core/src/main/java/org/elasticsearch/index/shard/IndexEventListener.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/IndicesLifecycle.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySource.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreRequestIT.java
core/src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayIT.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisTestsHelper.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerIT.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerSingleNodeTests.java
core/src/test/java/org/elasticsearch/indices/IndicesModuleTests.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWithRandomIOExceptionsIT.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/test/MockIndexEventListener.java
core/src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
core/src/test/java/org/elasticsearch/test/store/MockFSIndexStore.java
comments:
Merge pull request #14217 from s1monw/make_event_listener_per_index

Replace IndicesLifecycle with a per-index IndexEventListener

time:
2015-10-21T20:10:46Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/index/CompositeIndexEventListener.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexServicesProvider.java
core/src/main/java/org/elasticsearch/index/shard/IndexEventListener.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/IndicesLifecycle.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySource.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
core/src/main/java/org/elasticsearch/node/Node.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreRequestIT.java
core/src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayIT.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisTestsHelper.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerIT.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerSingleNodeTests.java
core/src/test/java/org/elasticsearch/indices/IndicesModuleTests.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/search/basic/SearchWithRandomIOExceptionsIT.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/test/MockIndexEventListener.java
core/src/test/java/org/elasticsearch/test/store/MockFSDirectoryService.java
core/src/test/java/org/elasticsearch/test/store/MockFSIndexStore.java
comments:
Replace IndicesLifecycle with a per-index IndexEventListener

Today IndicesLifecycle is a per-node class that allows to register
listeners at any time. It also requires to de-register if listeners
are not needed anymore ie. if classes are created per-index / shard etc.
They also cause issues where listeners are registered more than once as in #13259

This commit removes the per-node class and replaces it with an well defined
extension point that allows listeners to be registered at index creation time
without the need to unregister since listeners are go out of scope if the index
goes out of scope. Yet, this still allows to share instances across indices as before
but without the risk of double registering them etc.

All data-structures used for event notifications are now immuatble and can only changes
on index creation time. This removes flexibility to some degree but increases maintainability
of the interface and the code itself dramatically especially with the step by step removal of
the index level dependency injection.

Closes #13259

time:
2015-10-21T19:01:24Z
class:
core/src/main/java/org/elasticsearch/common/util/ExtensionPoint.java
comments:
properly bind ClassSet extensions as singletons

The ExtensionPoint.ClassSet binds adds the extension classes to a a Multibinder and binds
the classes and calls the asEagerSingleton method on the multibinder. This does not actually
create a singleton. Instead we first bind the class as a singleton and add then add the class
to the multibinder.

Closes #14194

time:
2015-10-21T16:19:12Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/RoutingAllocation.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/action/support/broadcast/node/TransportBroadcastByNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/replication/BroadcastReplicationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ClusterStateCreationUtils.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/DiskUsageTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/ToAndFromJsonMetaDataTests.java
core/src/test/java/org/elasticsearch/cluster/routing/AllocationIdTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingTableTests.java
core/src/test/java/org/elasticsearch/cluster/routing/ShardRoutingHelper.java
core/src/test/java/org/elasticsearch/cluster/routing/ShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/TestShardRouting.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/CatAllocationTestCase.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PrimaryElectionRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardStateIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/StartedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/discovery/zen/NodeJoinControllerTests.java
core/src/test/java/org/elasticsearch/gateway/PrimaryShardAllocatorTests.java
core/src/test/java/org/elasticsearch/gateway/PriorityComparatorTests.java
core/src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayIT.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/flush/SyncedFlushUnitTests.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/store/IndicesStoreTests.java
comments:
Introduce Primary Terms

Every shard group in Elasticsearch has a selected copy called a primary. When a primary shard fails a new primary would be selected from the existing replica copies. This PR introduces `primary terms` to track the number of times this has happened. This will allow us, as follow up work and among other things, to identify operations that come from old stale primaries. It is also the first step in road towards sequence numbers.

Relates to #10708
Closes #14062

time:
2015-10-21T15:39:32Z
class:
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/exists/ExistsAction.java
core/src/main/java/org/elasticsearch/action/exists/ExistsRequest.java
core/src/main/java/org/elasticsearch/action/exists/ExistsRequestBuilder.java
core/src/main/java/org/elasticsearch/action/exists/ExistsResponse.java
core/src/main/java/org/elasticsearch/action/exists/ShardExistsRequest.java
core/src/main/java/org/elasticsearch/action/exists/ShardExistsResponse.java
core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
core/src/main/java/org/elasticsearch/action/exists/package-info.java
core/src/main/java/org/elasticsearch/client/Client.java
core/src/main/java/org/elasticsearch/client/Requests.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/rest/action/exists/RestExistsAction.java
core/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
core/src/test/java/org/elasticsearch/exists/SimpleExistsIT.java
core/src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndicesRequestTests.java
comments:
Remove search exists api

Closes #13682
Closes #13911

time:
2015-10-21T14:51:25Z
class:
comments:
Add .dir-locals.el file for Intellij-style indentation

time:
2015-10-21T14:02:54Z
class:
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
comments:
Merge pull request #14225 from jpountz/fix/remove_Lucene_isEmpty

Remove Lucene.isEmpty(DocIdSet).

time:
2015-10-21T13:34:32Z
class:
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
comments:
Remove Lucene.isEmpty(DocIdSet).

After the Filter ban, this method is not used anymore.

time:
2015-10-21T11:40:56Z
class:
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
comments:
Merge pull request #14206 from s1monw/refactor_shard_failure_listener

Refactor ShardFailure listener infrastructure

time:
2015-10-21T11:03:15Z
class:
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/BinaryDVNumericIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DocValuesIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/PackedArrayIndexFieldData.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractNumericFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/DoubleFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/DuelFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/FloatFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/IndexFieldDataServiceTests.java
core/src/test/java/org/elasticsearch/index/fielddata/LongFieldDataTests.java
core/src/test/java/org/elasticsearch/index/search/nested/AbstractNumberNestedSortingTestCase.java
core/src/test/java/org/elasticsearch/index/search/nested/DoubleNestedSortingTests.java
core/src/test/java/org/elasticsearch/index/search/nested/FloatNestedSortingTests.java
core/src/test/java/org/elasticsearch/index/search/nested/LongNestedSortingTests.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoPolygonIT.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/GeoDistanceTests.java
comments:
Merge pull request #14082 from jpountz/remove/uninverted_numeric_fielddata

Remove "uninverted" and "binary" fielddata support for numeric and boolean fields.

time:
2015-10-21T10:15:40Z
class:
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/BinaryDVNumericIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DocValuesIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/DoubleArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/FloatArrayIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/PackedArrayIndexFieldData.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractNumericFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/DoubleFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/DuelFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/FloatFieldDataTests.java
core/src/test/java/org/elasticsearch/index/fielddata/IndexFieldDataServiceTests.java
core/src/test/java/org/elasticsearch/index/fielddata/LongFieldDataTests.java
core/src/test/java/org/elasticsearch/index/search/nested/AbstractNumberNestedSortingTestCase.java
core/src/test/java/org/elasticsearch/index/search/nested/DoubleNestedSortingTests.java
core/src/test/java/org/elasticsearch/index/search/nested/FloatNestedSortingTests.java
core/src/test/java/org/elasticsearch/index/search/nested/LongNestedSortingTests.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoPolygonIT.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/GeoDistanceTests.java
comments:
Remove "uninverted" and "binary" fielddata support for numeric and boolean fields.

Numeric and boolean fields have doc values enabled by default as of
elasticsearch 2.0. This commit removes support for uninverted/in-memory
fielddata, as well as numeric fields encoded in binary doc values which was
the way that elasticsearch stored doc values in a Lucene index before the
1.4 release.

As a consequence, you will only be able to sort and aggregate on numeric and
boolean fields in Elasticsearch 3.0 if doc values have not been switched off.

time:
2015-10-21T08:49:02Z
class:
core/src/main/java/org/elasticsearch/common/path/PathTrie.java
core/src/test/java/org/elasticsearch/common/path/PathTrieTests.java
core/src/test/java/org/elasticsearch/plugins/SitePluginIT.java
core/src/test/java/org/elasticsearch/test/rest/client/RestClient.java
core/src/test/java/org/elasticsearch/test/rest/client/RestPath.java
core/src/test/java/org/elasticsearch/test/rest/client/http/HttpRequestBuilder.java
core/src/test/java/org/elasticsearch/test/rest/spec/RestApi.java
comments:
Restore support for escaped '/' as part of document id

With #13691 we introduced some custom logic to make sure that date math expressions like <logstash-{now/D}> don't get broken up into two where the slash appears in the expression. That said the only correct way to provide such a date math expression as part of the uri would be to properly escape the '/' instead. This fix also introduced a regression, as it would make sure that unescaped '/' are handled only in the case of date math expressions, but it removed support for properly escaped slashes anywhere else. The solution is to keep supporting escaped slashes only and require client libraries to properly escape them.

This commit reverts 93ad696 and makes sure that our REST tests runner supports escaping of path parts, which was more involving than expected as each single part of the path needs to be properly escaped. I am not too happy with the current solution but it's the best I could do for now, maybe not that concerning anyway given that it's just test code. I do find uri encoding quite frustrating in java.

Relates to #13691
Relates to #13665

Closes #14177
Closes #14216

time:
2015-10-21T07:34:25Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
comments:
apply review comments

time:
2015-10-21T04:53:14Z
class:
comments:
[DOCS] Fix doc link for optimize documentation

time:
2015-10-21T03:13:18Z
class:
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/admin/indices/forcemerge/ForceMergeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/forcemerge/ForceMergeRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/forcemerge/ForceMergeRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/forcemerge/ForceMergeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/forcemerge/TransportForceMergeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/forcemerge/package-info.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/client/IndicesAdminClient.java
core/src/main/java/org/elasticsearch/client/Requests.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/rest/action/RestActionModule.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/forcemerge/RestForceMergeAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestThreadPoolAction.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/test/java/org/elasticsearch/action/admin/indices/forcemerge/ForceMergeBlocksIT.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/TimeDataHistogramAggregationBenchmark.java
core/src/test/java/org/elasticsearch/document/DocumentActionsIT.java
core/src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayIT.java
core/src/test/java/org/elasticsearch/indices/IndicesOptionsIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/settings/UpdateSettingsIT.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsIT.java
core/src/test/java/org/elasticsearch/recovery/TruncatedRecoveryIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearchIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/SnapshotBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/threadpool/ThreadPoolStatsTests.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
core/src/test/java/org/elasticsearch/ttl/SimpleTTLIT.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndicesRequestTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SimpleSortTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
comments:
Merge remote-tracking branch 'dakrone/use-the-force-luke'

time:
2015-10-20T22:33:46Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/test/java/org/apache/lucene/analysis/miscellaneous/TruncateTokenFilterTests.java
core/src/test/java/org/apache/lucene/analysis/miscellaneous/UniqueTokenFilterTests.java
core/src/test/java/org/apache/lucene/queries/BlendedTermQueryTests.java
core/src/test/java/org/apache/lucene/search/postingshighlight/CustomPassageFormatterTests.java
core/src/test/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighterTests.java
core/src/test/java/org/apache/lucene/search/postingshighlight/CustomSeparatorBreakIteratorTests.java
core/src/test/java/org/apache/lucene/util/SloppyMathTests.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/NamingConventionTests.java
core/src/test/java/org/elasticsearch/VersionTests.java
core/src/test/java/org/elasticsearch/action/ListenerActionIT.java
core/src/test/java/org/elasticsearch/action/OriginalIndicesTests.java
core/src/test/java/org/elasticsearch/action/RejectionActionIT.java
core/src/test/java/org/elasticsearch/action/admin/HotThreadsIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/repositories/RepositoryBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/snapshots/SnapshotBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequestTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/tasks/PendingTasksBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequestBuilderTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/flush/FlushBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/get/GetIndexIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/optimize/OptimizeBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/refresh/RefreshBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsRequestTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreRequestIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreResponseTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerRequestTests.java
core/src/test/java/org/elasticsearch/action/bulk/BulkIntegrationIT.java
core/src/test/java/org/elasticsearch/action/bulk/BulkProcessorClusterSettingsIT.java
core/src/test/java/org/elasticsearch/action/bulk/BulkProcessorIT.java
core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java
core/src/test/java/org/elasticsearch/action/get/MultiGetShardRequestTests.java
core/src/test/java/org/elasticsearch/action/index/IndexRequestBuilderTests.java
core/src/test/java/org/elasticsearch/action/index/IndexRequestTests.java
core/src/test/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequestTests.java
core/src/test/java/org/elasticsearch/action/percolate/MultiPercolatorRequestTests.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
core/src/test/java/org/elasticsearch/action/search/SearchRequestBuilderTests.java
core/src/test/java/org/elasticsearch/action/support/IndicesOptionsTests.java
core/src/test/java/org/elasticsearch/action/support/TransportActionFilterChainTests.java
core/src/test/java/org/elasticsearch/action/support/master/TransportMasterNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/replication/BroadcastReplicationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportReplicationActionTests.java
core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsCheckDocFreqIT.java
core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsIT.java
core/src/test/java/org/elasticsearch/action/termvectors/MultiTermVectorsIT.java
core/src/test/java/org/elasticsearch/action/termvectors/TermVectorsUnitTests.java
core/src/test/java/org/elasticsearch/action/update/UpdateRequestTests.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java
core/src/test/java/org/elasticsearch/blocks/SimpleBlocksIT.java
core/src/test/java/org/elasticsearch/bootstrap/JNANativesTests.java
core/src/test/java/org/elasticsearch/bootstrap/JavaVersionTests.java
core/src/test/java/org/elasticsearch/broadcast/BroadcastActionsIT.java
core/src/test/java/org/elasticsearch/bwcompat/BasicAnalysisBackwardCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/BasicBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/ClusterStateBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/bwcompat/GetIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/NodesStatsBasicBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/RecoveryWithUnsupportedIndicesIT.java
core/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/bwcompat/TransportClientBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/UnicastBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/client/AbstractClientHeadersTestCase.java
core/src/test/java/org/elasticsearch/client/node/NodeClientIT.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientHeadersTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientIT.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientRetryIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterHealthIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateTests.java
core/src/test/java/org/elasticsearch/cluster/DiskUsageTests.java
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/NoMasterNodeIT.java
core/src/test/java/org/elasticsearch/cluster/SimpleClusterStateIT.java
core/src/test/java/org/elasticsearch/cluster/SimpleDataNodesIT.java
core/src/test/java/org/elasticsearch/cluster/SpecificMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/UpdateSettingsValidationIT.java
core/src/test/java/org/elasticsearch/cluster/ack/AckClusterUpdateSettingsIT.java
core/src/test/java/org/elasticsearch/cluster/ack/AckIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/AwarenessAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/FilteringAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/SimpleAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/block/ClusterBlockTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/DateMathExpressionResolverTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/HumanReadableIndexSettingsTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolverTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/MappingMetaDataParserTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/ToAndFromJsonMetaDataTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/WildcardExpressionResolverTests.java
core/src/test/java/org/elasticsearch/cluster/node/DiscoveryNodeFiltersTests.java
core/src/test/java/org/elasticsearch/cluster/routing/AllocationIdTests.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingTableTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AddIncrementallyTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AwarenessAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceConfigurationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/CatAllocationTestCase.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ClusterRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ConcurrentRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/DeadNodesAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ElectReplicaAsPrimaryDuringRelocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ExpectedShardSizeAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedNodeRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FilterRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/IndexBalanceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/NodeVersionAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferLocalPrimariesToRelocatingPrimariesTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferPrimaryAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PrimaryElectionRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PrimaryNotRelocatedWhileBeingRecoveredTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RandomAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RebalanceAfterActiveTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ReplicaAllocatedAfterPrimaryTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RoutingNodesIntegrityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SameShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardVersioningTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardsLimitAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardNoReplicasRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardOneReplicaRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/StartedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/TenShardsOneReplicaRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ThrottlingAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/UpdateNumberOfReplicasTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/ClusterStateToStringTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/DiffableTests.java
core/src/test/java/org/elasticsearch/cluster/settings/ClusterSettingsIT.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsFilteringIT.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsValidatorTests.java
core/src/test/java/org/elasticsearch/cluster/shards/ClusterSearchShardsIT.java
core/src/test/java/org/elasticsearch/cluster/structure/RoutingIteratorTests.java
core/src/test/java/org/elasticsearch/common/Base64Tests.java
core/src/test/java/org/elasticsearch/common/BooleansTests.java
core/src/test/java/org/elasticsearch/common/ChannelsTests.java
core/src/test/java/org/elasticsearch/common/ParseFieldTests.java
core/src/test/java/org/elasticsearch/common/PidFileTests.java
core/src/test/java/org/elasticsearch/common/TableTests.java
core/src/test/java/org/elasticsearch/common/UUIDTests.java
core/src/test/java/org/elasticsearch/common/blobstore/BlobStoreTests.java
core/src/test/java/org/elasticsearch/common/breaker/MemoryCircuitBreakerTests.java
core/src/test/java/org/elasticsearch/common/bytes/PagedBytesReferenceTests.java
core/src/test/java/org/elasticsearch/common/cli/CheckFileCommandTests.java
core/src/test/java/org/elasticsearch/common/cli/CliToolTests.java
core/src/test/java/org/elasticsearch/common/cli/TerminalTests.java
core/src/test/java/org/elasticsearch/common/geo/GeoDistanceTests.java
core/src/test/java/org/elasticsearch/common/geo/GeoHashTests.java
core/src/test/java/org/elasticsearch/common/geo/ShapeBuilderTests.java
core/src/test/java/org/elasticsearch/common/geo/ShapeRelationTests.java
core/src/test/java/org/elasticsearch/common/geo/SpatialStrategyTests.java
core/src/test/java/org/elasticsearch/common/hash/MessageDigestsTests.java
core/src/test/java/org/elasticsearch/common/hppc/HppcMapsTests.java
core/src/test/java/org/elasticsearch/common/io/FileSystemUtilsTests.java
core/src/test/java/org/elasticsearch/common/io/StreamsTests.java
core/src/test/java/org/elasticsearch/common/io/stream/BytesStreamsTests.java
core/src/test/java/org/elasticsearch/common/joda/DateMathParserTests.java
core/src/test/java/org/elasticsearch/common/logging/jdk/JDKESLoggerTests.java
core/src/test/java/org/elasticsearch/common/logging/log4j/Log4jESLoggerTests.java
core/src/test/java/org/elasticsearch/common/logging/log4j/LoggingConfigurationTests.java
core/src/test/java/org/elasticsearch/common/lucene/LuceneTests.java
core/src/test/java/org/elasticsearch/common/lucene/all/SimpleAllTests.java
core/src/test/java/org/elasticsearch/common/lucene/index/FreqTermsEnumTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQueryTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunctionTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/morelikethis/MoreLikeThisQueryTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/morelikethis/XMoreLikeThisTests.java
core/src/test/java/org/elasticsearch/common/lucene/store/ByteArrayIndexInputTests.java
core/src/test/java/org/elasticsearch/common/lucene/store/InputStreamIndexInputTests.java
core/src/test/java/org/elasticsearch/common/lucene/uid/VersionsTests.java
core/src/test/java/org/elasticsearch/common/math/MathUtilsTests.java
core/src/test/java/org/elasticsearch/common/property/PropertyPlaceholderTests.java
core/src/test/java/org/elasticsearch/common/regex/RegexTests.java
core/src/test/java/org/elasticsearch/common/rounding/RoundingTests.java
core/src/test/java/org/elasticsearch/common/rounding/TimeZoneRoundingTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsFilterTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/JsonSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/YamlSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/unit/ByteSizeUnitTests.java
core/src/test/java/org/elasticsearch/common/unit/ByteSizeValueTests.java
core/src/test/java/org/elasticsearch/common/unit/DistanceUnitTests.java
core/src/test/java/org/elasticsearch/common/unit/FuzzinessTests.java
core/src/test/java/org/elasticsearch/common/unit/RatioValueTests.java
core/src/test/java/org/elasticsearch/common/unit/SizeValueTests.java
core/src/test/java/org/elasticsearch/common/unit/TimeValueTests.java
core/src/test/java/org/elasticsearch/common/util/ArrayUtilsTests.java
core/src/test/java/org/elasticsearch/common/util/BytesRefHashTests.java
core/src/test/java/org/elasticsearch/common/util/CancellableThreadsTests.java
core/src/test/java/org/elasticsearch/common/util/CollectionUtilsTests.java
core/src/test/java/org/elasticsearch/common/util/LongHashTests.java
core/src/test/java/org/elasticsearch/common/util/LongObjectHashMapTests.java
core/src/test/java/org/elasticsearch/common/util/URIPatternTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/CountDownTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/PrioritizedExecutorsTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/RefCountedTests.java
core/src/test/java/org/elasticsearch/common/util/iterable/IterablesTests.java
core/src/test/java/org/elasticsearch/common/xcontent/XContentFactoryTests.java
core/src/test/java/org/elasticsearch/common/xcontent/builder/BuilderRawFieldTests.java
core/src/test/java/org/elasticsearch/common/xcontent/builder/XContentBuilderTests.java
core/src/test/java/org/elasticsearch/common/xcontent/cbor/CborXContentParserTests.java
core/src/test/java/org/elasticsearch/common/xcontent/cbor/JsonVsCborTests.java
core/src/test/java/org/elasticsearch/common/xcontent/smile/JsonVsSmileTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/XContentHelperTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/XContentMapValuesTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/filtering/AbstractFilteringJsonGeneratorTestCase.java
core/src/test/java/org/elasticsearch/consistencylevel/WriteConsistencyLevelIT.java
core/src/test/java/org/elasticsearch/deps/jackson/JacksonLocationTests.java
core/src/test/java/org/elasticsearch/deps/joda/SimpleJodaTests.java
core/src/test/java/org/elasticsearch/deps/lucene/SimpleLuceneTests.java
core/src/test/java/org/elasticsearch/deps/lucene/VectorHighlighterTests.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/discovery/ZenFaultDetectionTests.java
core/src/test/java/org/elasticsearch/discovery/ZenUnicastDiscoveryIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ElectMasterServiceTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenPingTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPingIT.java
core/src/test/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateActionTests.java
core/src/test/java/org/elasticsearch/document/DocumentActionsIT.java
core/src/test/java/org/elasticsearch/document/ShardInfoIT.java
core/src/test/java/org/elasticsearch/env/EnvironmentTests.java
core/src/test/java/org/elasticsearch/env/NodeEnvironmentTests.java
core/src/test/java/org/elasticsearch/exists/SimpleExistsIT.java
core/src/test/java/org/elasticsearch/explain/ExplainActionIT.java
core/src/test/java/org/elasticsearch/gateway/AsyncShardFetchTests.java
core/src/test/java/org/elasticsearch/gateway/DanglingIndicesStateTests.java
core/src/test/java/org/elasticsearch/gateway/GatewayIndexStateIT.java
core/src/test/java/org/elasticsearch/gateway/GatewayMetaStateTests.java
core/src/test/java/org/elasticsearch/gateway/GatewayServiceTests.java
core/src/test/java/org/elasticsearch/gateway/MetaDataStateFormatTests.java
core/src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesIT.java
core/src/test/java/org/elasticsearch/gateway/MetaStateServiceTests.java
core/src/test/java/org/elasticsearch/gateway/PrimaryShardAllocatorTests.java
core/src/test/java/org/elasticsearch/gateway/QuorumGatewayIT.java
core/src/test/java/org/elasticsearch/gateway/RecoverAfterNodesIT.java
core/src/test/java/org/elasticsearch/gateway/RecoveryBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayIT.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/http/netty/HttpPublishPortIT.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpChannelTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyPipeliningDisabledIT.java
core/src/test/java/org/elasticsearch/http/netty/NettyPipeliningEnabledIT.java
core/src/test/java/org/elasticsearch/http/netty/pipelining/HttpPipeliningHandlerTests.java
core/src/test/java/org/elasticsearch/index/IndexRequestBuilderIT.java
core/src/test/java/org/elasticsearch/index/IndexServiceTests.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/index/VersionTypeTests.java
core/src/test/java/org/elasticsearch/index/analysis/ASCIIFoldingTokenFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisTests.java
core/src/test/java/org/elasticsearch/index/analysis/CJKFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/CharFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
core/src/test/java/org/elasticsearch/index/analysis/HunspellTokenFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/KeepFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/KeepTypesFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/LimitTokenCountFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/NGramTokenizerFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/NumericAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/analysis/PatternCaptureTokenFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/PreBuiltAnalyzerProviderFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/PreBuiltAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/analysis/PreBuiltCharFilterFactoryFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/PreBuiltTokenFilterFactoryFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/PreBuiltTokenizerFactoryFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/ShingleTokenFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/StemmerTokenFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/StopAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/analysis/StopTokenFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/WordDelimiterTokenFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/commongrams/CommonGramsTokenFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTests.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/codec/CodecTests.java
comments:
Merge pull request #14069 from nik9000/no_test_annotation

Remove @Test

time:
2015-10-20T21:37:36Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringBuilder.java
core/src/test/java/org/apache/lucene/analysis/miscellaneous/TruncateTokenFilterTests.java
core/src/test/java/org/apache/lucene/analysis/miscellaneous/UniqueTokenFilterTests.java
core/src/test/java/org/apache/lucene/queries/BlendedTermQueryTests.java
core/src/test/java/org/apache/lucene/search/postingshighlight/CustomPassageFormatterTests.java
core/src/test/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighterTests.java
core/src/test/java/org/apache/lucene/search/postingshighlight/CustomSeparatorBreakIteratorTests.java
core/src/test/java/org/apache/lucene/util/SloppyMathTests.java
core/src/test/java/org/elasticsearch/ESExceptionTests.java
core/src/test/java/org/elasticsearch/NamingConventionTests.java
core/src/test/java/org/elasticsearch/VersionTests.java
core/src/test/java/org/elasticsearch/action/ListenerActionIT.java
core/src/test/java/org/elasticsearch/action/OriginalIndicesTests.java
core/src/test/java/org/elasticsearch/action/RejectionActionIT.java
core/src/test/java/org/elasticsearch/action/admin/HotThreadsIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/repositories/RepositoryBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/snapshots/SnapshotBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/state/ClusterStateRequestTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIT.java
core/src/test/java/org/elasticsearch/action/admin/cluster/tasks/PendingTasksBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/cache/clear/ClearIndicesCacheBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequestBuilderTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/flush/FlushBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/get/GetIndexIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/optimize/OptimizeBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/refresh/RefreshBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsRequestTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreRequestIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreResponseTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsBlocksIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerRequestTests.java
core/src/test/java/org/elasticsearch/action/bulk/BulkIntegrationIT.java
core/src/test/java/org/elasticsearch/action/bulk/BulkProcessorClusterSettingsIT.java
core/src/test/java/org/elasticsearch/action/bulk/BulkProcessorIT.java
core/src/test/java/org/elasticsearch/action/bulk/BulkRequestTests.java
core/src/test/java/org/elasticsearch/action/get/MultiGetShardRequestTests.java
core/src/test/java/org/elasticsearch/action/index/IndexRequestBuilderTests.java
core/src/test/java/org/elasticsearch/action/index/IndexRequestTests.java
core/src/test/java/org/elasticsearch/action/indexedscripts/get/GetIndexedScriptRequestTests.java
core/src/test/java/org/elasticsearch/action/percolate/MultiPercolatorRequestTests.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
core/src/test/java/org/elasticsearch/action/search/SearchRequestBuilderTests.java
core/src/test/java/org/elasticsearch/action/support/IndicesOptionsTests.java
core/src/test/java/org/elasticsearch/action/support/TransportActionFilterChainTests.java
core/src/test/java/org/elasticsearch/action/support/master/TransportMasterNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/replication/BroadcastReplicationTests.java
core/src/test/java/org/elasticsearch/action/support/replication/TransportReplicationActionTests.java
core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsCheckDocFreqIT.java
core/src/test/java/org/elasticsearch/action/termvectors/GetTermVectorsIT.java
core/src/test/java/org/elasticsearch/action/termvectors/MultiTermVectorsIT.java
core/src/test/java/org/elasticsearch/action/termvectors/TermVectorsUnitTests.java
core/src/test/java/org/elasticsearch/action/update/UpdateRequestTests.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java
core/src/test/java/org/elasticsearch/blocks/SimpleBlocksIT.java
core/src/test/java/org/elasticsearch/bootstrap/JNANativesTests.java
core/src/test/java/org/elasticsearch/bootstrap/JavaVersionTests.java
core/src/test/java/org/elasticsearch/broadcast/BroadcastActionsIT.java
core/src/test/java/org/elasticsearch/bwcompat/BasicAnalysisBackwardCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/BasicBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/ClusterStateBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/bwcompat/GetIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/NodesStatsBasicBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/RecoveryWithUnsupportedIndicesIT.java
core/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/bwcompat/TransportClientBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/UnicastBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/client/AbstractClientHeadersTestCase.java
core/src/test/java/org/elasticsearch/client/node/NodeClientIT.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientHeadersTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientIT.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientNodesServiceTests.java
core/src/test/java/org/elasticsearch/client/transport/TransportClientRetryIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterHealthIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterServiceIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateTests.java
core/src/test/java/org/elasticsearch/cluster/DiskUsageTests.java
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/NoMasterNodeIT.java
core/src/test/java/org/elasticsearch/cluster/SimpleClusterStateIT.java
core/src/test/java/org/elasticsearch/cluster/SimpleDataNodesIT.java
core/src/test/java/org/elasticsearch/cluster/SpecificMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/UpdateSettingsValidationIT.java
core/src/test/java/org/elasticsearch/cluster/ack/AckClusterUpdateSettingsIT.java
core/src/test/java/org/elasticsearch/cluster/ack/AckIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/AwarenessAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/ClusterRerouteIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/FilteringAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/SimpleAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/block/ClusterBlockTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/DateMathExpressionResolverTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/HumanReadableIndexSettingsTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolverTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/MappingMetaDataParserTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/ToAndFromJsonMetaDataTests.java
core/src/test/java/org/elasticsearch/cluster/metadata/WildcardExpressionResolverTests.java
core/src/test/java/org/elasticsearch/cluster/node/DiscoveryNodeFiltersTests.java
core/src/test/java/org/elasticsearch/cluster/routing/AllocationIdTests.java
core/src/test/java/org/elasticsearch/cluster/routing/DelayedAllocationIT.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingTableTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AddIncrementallyTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AwarenessAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceConfigurationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/CatAllocationTestCase.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ClusterRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ConcurrentRebalanceRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/DeadNodesAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ElectReplicaAsPrimaryDuringRelocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ExpectedShardSizeAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedNodeRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FailedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FilterRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/IndexBalanceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/NodeVersionAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferLocalPrimariesToRelocatingPrimariesTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferPrimaryAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PrimaryElectionRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PrimaryNotRelocatedWhileBeingRecoveredTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RandomAllocationDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RebalanceAfterActiveTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ReplicaAllocatedAfterPrimaryTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/RoutingNodesIntegrityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SameShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardVersioningTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ShardsLimitAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardNoReplicasRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SingleShardOneReplicaRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/StartedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/TenShardsOneReplicaRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/ThrottlingAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/UpdateNumberOfReplicasTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/MockDiskUsagesIT.java
core/src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/ClusterStateToStringTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/DiffableTests.java
core/src/test/java/org/elasticsearch/cluster/settings/ClusterSettingsIT.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsFilteringIT.java
core/src/test/java/org/elasticsearch/cluster/settings/SettingsValidatorTests.java
core/src/test/java/org/elasticsearch/cluster/shards/ClusterSearchShardsIT.java
core/src/test/java/org/elasticsearch/cluster/structure/RoutingIteratorTests.java
core/src/test/java/org/elasticsearch/common/Base64Tests.java
core/src/test/java/org/elasticsearch/common/BooleansTests.java
core/src/test/java/org/elasticsearch/common/ChannelsTests.java
core/src/test/java/org/elasticsearch/common/ParseFieldTests.java
core/src/test/java/org/elasticsearch/common/PidFileTests.java
core/src/test/java/org/elasticsearch/common/TableTests.java
core/src/test/java/org/elasticsearch/common/UUIDTests.java
core/src/test/java/org/elasticsearch/common/blobstore/BlobStoreTests.java
core/src/test/java/org/elasticsearch/common/breaker/MemoryCircuitBreakerTests.java
core/src/test/java/org/elasticsearch/common/bytes/PagedBytesReferenceTests.java
core/src/test/java/org/elasticsearch/common/cli/CheckFileCommandTests.java
core/src/test/java/org/elasticsearch/common/cli/CliToolTests.java
core/src/test/java/org/elasticsearch/common/cli/TerminalTests.java
core/src/test/java/org/elasticsearch/common/geo/GeoDistanceTests.java
core/src/test/java/org/elasticsearch/common/geo/GeoHashTests.java
core/src/test/java/org/elasticsearch/common/geo/ShapeBuilderTests.java
core/src/test/java/org/elasticsearch/common/geo/ShapeRelationTests.java
core/src/test/java/org/elasticsearch/common/geo/SpatialStrategyTests.java
core/src/test/java/org/elasticsearch/common/hash/MessageDigestsTests.java
core/src/test/java/org/elasticsearch/common/hppc/HppcMapsTests.java
core/src/test/java/org/elasticsearch/common/io/FileSystemUtilsTests.java
core/src/test/java/org/elasticsearch/common/io/StreamsTests.java
core/src/test/java/org/elasticsearch/common/io/stream/BytesStreamsTests.java
core/src/test/java/org/elasticsearch/common/joda/DateMathParserTests.java
core/src/test/java/org/elasticsearch/common/logging/jdk/JDKESLoggerTests.java
core/src/test/java/org/elasticsearch/common/logging/log4j/Log4jESLoggerTests.java
core/src/test/java/org/elasticsearch/common/logging/log4j/LoggingConfigurationTests.java
core/src/test/java/org/elasticsearch/common/lucene/LuceneTests.java
core/src/test/java/org/elasticsearch/common/lucene/all/SimpleAllTests.java
core/src/test/java/org/elasticsearch/common/lucene/index/FreqTermsEnumTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQueryTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunctionTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/morelikethis/MoreLikeThisQueryTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/morelikethis/XMoreLikeThisTests.java
core/src/test/java/org/elasticsearch/common/lucene/store/ByteArrayIndexInputTests.java
core/src/test/java/org/elasticsearch/common/lucene/store/InputStreamIndexInputTests.java
core/src/test/java/org/elasticsearch/common/lucene/uid/VersionsTests.java
core/src/test/java/org/elasticsearch/common/math/MathUtilsTests.java
core/src/test/java/org/elasticsearch/common/property/PropertyPlaceholderTests.java
core/src/test/java/org/elasticsearch/common/regex/RegexTests.java
core/src/test/java/org/elasticsearch/common/rounding/RoundingTests.java
core/src/test/java/org/elasticsearch/common/rounding/TimeZoneRoundingTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsFilterTests.java
core/src/test/java/org/elasticsearch/common/settings/SettingsTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/JsonSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/settings/loader/YamlSettingsLoaderTests.java
core/src/test/java/org/elasticsearch/common/unit/ByteSizeUnitTests.java
core/src/test/java/org/elasticsearch/common/unit/ByteSizeValueTests.java
core/src/test/java/org/elasticsearch/common/unit/DistanceUnitTests.java
core/src/test/java/org/elasticsearch/common/unit/FuzzinessTests.java
core/src/test/java/org/elasticsearch/common/unit/RatioValueTests.java
core/src/test/java/org/elasticsearch/common/unit/SizeValueTests.java
core/src/test/java/org/elasticsearch/common/unit/TimeValueTests.java
core/src/test/java/org/elasticsearch/common/util/ArrayUtilsTests.java
core/src/test/java/org/elasticsearch/common/util/BytesRefHashTests.java
core/src/test/java/org/elasticsearch/common/util/CancellableThreadsTests.java
core/src/test/java/org/elasticsearch/common/util/CollectionUtilsTests.java
core/src/test/java/org/elasticsearch/common/util/LongHashTests.java
core/src/test/java/org/elasticsearch/common/util/LongObjectHashMapTests.java
core/src/test/java/org/elasticsearch/common/util/URIPatternTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/CountDownTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/PrioritizedExecutorsTests.java
core/src/test/java/org/elasticsearch/common/util/concurrent/RefCountedTests.java
core/src/test/java/org/elasticsearch/common/util/iterable/IterablesTests.java
core/src/test/java/org/elasticsearch/common/xcontent/XContentFactoryTests.java
core/src/test/java/org/elasticsearch/common/xcontent/builder/BuilderRawFieldTests.java
core/src/test/java/org/elasticsearch/common/xcontent/builder/XContentBuilderTests.java
core/src/test/java/org/elasticsearch/common/xcontent/cbor/CborXContentParserTests.java
core/src/test/java/org/elasticsearch/common/xcontent/cbor/JsonVsCborTests.java
core/src/test/java/org/elasticsearch/common/xcontent/smile/JsonVsSmileTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/XContentHelperTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/XContentMapValuesTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/filtering/AbstractFilteringJsonGeneratorTestCase.java
core/src/test/java/org/elasticsearch/consistencylevel/WriteConsistencyLevelIT.java
core/src/test/java/org/elasticsearch/deps/jackson/JacksonLocationTests.java
core/src/test/java/org/elasticsearch/deps/joda/SimpleJodaTests.java
core/src/test/java/org/elasticsearch/deps/lucene/SimpleLuceneTests.java
core/src/test/java/org/elasticsearch/deps/lucene/VectorHighlighterTests.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/discovery/ZenFaultDetectionTests.java
core/src/test/java/org/elasticsearch/discovery/ZenUnicastDiscoveryIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ElectMasterServiceTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenDiscoveryIT.java
core/src/test/java/org/elasticsearch/discovery/zen/ZenPingTests.java
core/src/test/java/org/elasticsearch/discovery/zen/ping/unicast/UnicastZenPingIT.java
core/src/test/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateActionTests.java
core/src/test/java/org/elasticsearch/document/DocumentActionsIT.java
core/src/test/java/org/elasticsearch/document/ShardInfoIT.java
core/src/test/java/org/elasticsearch/env/EnvironmentTests.java
core/src/test/java/org/elasticsearch/env/NodeEnvironmentTests.java
core/src/test/java/org/elasticsearch/exists/SimpleExistsIT.java
core/src/test/java/org/elasticsearch/explain/ExplainActionIT.java
core/src/test/java/org/elasticsearch/gateway/AsyncShardFetchTests.java
core/src/test/java/org/elasticsearch/gateway/DanglingIndicesStateTests.java
core/src/test/java/org/elasticsearch/gateway/GatewayIndexStateIT.java
core/src/test/java/org/elasticsearch/gateway/GatewayMetaStateTests.java
core/src/test/java/org/elasticsearch/gateway/GatewayServiceTests.java
core/src/test/java/org/elasticsearch/gateway/MetaDataStateFormatTests.java
core/src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesIT.java
core/src/test/java/org/elasticsearch/gateway/MetaStateServiceTests.java
core/src/test/java/org/elasticsearch/gateway/PrimaryShardAllocatorTests.java
core/src/test/java/org/elasticsearch/gateway/QuorumGatewayIT.java
core/src/test/java/org/elasticsearch/gateway/RecoverAfterNodesIT.java
core/src/test/java/org/elasticsearch/gateway/RecoveryBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayIT.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/http/netty/HttpPublishPortIT.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpChannelTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyHttpServerPipeliningTests.java
core/src/test/java/org/elasticsearch/http/netty/NettyPipeliningDisabledIT.java
core/src/test/java/org/elasticsearch/http/netty/NettyPipeliningEnabledIT.java
core/src/test/java/org/elasticsearch/http/netty/pipelining/HttpPipeliningHandlerTests.java
core/src/test/java/org/elasticsearch/index/IndexRequestBuilderIT.java
core/src/test/java/org/elasticsearch/index/IndexServiceTests.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/TransportIndexFailuresIT.java
core/src/test/java/org/elasticsearch/index/VersionTypeTests.java
core/src/test/java/org/elasticsearch/index/analysis/ASCIIFoldingTokenFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisTests.java
core/src/test/java/org/elasticsearch/index/analysis/CJKFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/CharFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/CompoundAnalysisTests.java
core/src/test/java/org/elasticsearch/index/analysis/HunspellTokenFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/KeepFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/KeepTypesFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/LimitTokenCountFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/NGramTokenizerFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/NumericAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/analysis/PatternCaptureTokenFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/PreBuiltAnalyzerProviderFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/PreBuiltAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/analysis/PreBuiltCharFilterFactoryFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/PreBuiltTokenFilterFactoryFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/PreBuiltTokenizerFactoryFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/ShingleTokenFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/StemmerTokenFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/StopAnalyzerTests.java
core/src/test/java/org/elasticsearch/index/analysis/StopTokenFilterTests.java
core/src/test/java/org/elasticsearch/index/analysis/WordDelimiterTokenFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/commongrams/CommonGramsTokenFilterFactoryTests.java
core/src/test/java/org/elasticsearch/index/analysis/synonyms/SynonymsAnalysisTests.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/codec/CodecTests.java
comments:
Remove and ban @Test

There are three ways `@Test` was used. Way one:

```java
@Test
public void flubTheBlort() {
```

This way was always replaced with:

```java
public void testFlubTheBlort() {
```

Or, maybe with a better method name if I was feeling generous.

Way two:

```java
@Test(throws=IllegalArgumentException.class)
public void testFoo() {
    methodThatThrows();
}
```

This way of using `@Test` is actually pretty OK, but to get the tools to ban
`@Test` entirely it can't be used. Instead:

```java
public void testFoo() {
    try {
        methodThatThrows();
        fail("Expected IllegalArgumentException");
    } catch (IllegalArgumentException e ) {
        assertThat(e.getMessage(), containsString("something"));
    }
}
```

This is longer but tests more than the old ways and is much more precise.
Compare:

```java
@Test(throws=IllegalArgumentException.class)
public void testFoo() {
    some();
    copy();
    and();
    pasted();
    methodThatThrows();
    code();  // <---- This was left here by mistake and is never called
}
```

to:

```java
@Test(throws=IllegalArgumentException.class)
public void testFoo() {
    some();
    copy();
    and();
    pasted();
    try {
        methodThatThrows();
        fail("Expected IllegalArgumentException");
    } catch (IllegalArgumentException e ) {
        assertThat(e.getMessage(), containsString("something"));
    }
}
```

The final use of test is:

```java
@Test(timeout=1000)
public void testFoo() {
    methodThatWasSlow();
}
```

This is the most insidious use of `@Test` because its tempting but tragically
flawed. Its flaws are:
1. Hard and fast timeouts can look like they are asserting that something is
faster and even do an ok job of it when you compare the timings on the same
machine but as soon as you take them to another machine they start to be
invalid. On a slow VM both the new and old methods fail. On a super-fast
machine the slower and faster ways succeed.
2. Tests often contain slow `assert` calls so the performance of tests isn't
sure to predict the performance of non-test code.
3. These timeouts are rude to debuggers because the test just drops out from
under it after the timeout.

Confusingly, timeouts are useful in tests because it'd be rude for a broken
test to cause CI to abort the whole build after it hits a global timeout. But
those timeouts should be very very long "backstop" timeouts and aren't useful
assertions about speed.

For all its flaws `@Test(timeout=1000)` doesn't have a good replacement __in__
__tests__. Nightly benchmarks like http://benchmarks.elasticsearch.org/ are
useful here because they run on the same machine but they aren't quick to check
and it takes lots of time to figure out the regressions. Sometimes its useful
to compare dueling implementations but that requires keeping both
implementations around. All and all we don't have a satisfactory answer to the
question "what do you replace `@Test(timeout=1000)`" with. So we handle each
occurrence on a case by case basis.

For files with `@Test` this also:
1. Removes excess blank lines. They don't help anything.
2. Removes underscores from method names. Those would fail any code style
checks we ever care to run and don't add to readability. Since I did this manually
I didn't do it consistently.
3. Make sure all test method names start with `test`. Some used to end in `Test` or start
with `verify` or `check` and they were picked up using the annotation. Without the
annotation they always need to start with `test`.
4. Organizes imports using the rules we generate for Eclipse. For the most part
this just removes `*` imports which is a win all on its own. It was "required"
to quickly remove `@Test`.
5. Removes unneeded casts. This is just a setting I have enabled in Eclipse and
forgot to turn off before I did this work. It probably isn't hurting anything.
6. Removes trailing whitespace. Again, another Eclipse setting I forgot to turn
off that doesn't hurt anything. Hopefully.
7. Swaps some tests override superclass tests to make them empty with
`assumeTrue` so that the reasoning for the skips is logged in the test run and
it doesn't "look like" that thing is being tested when it isn't.
8. Adds an oxford comma to an error message.

The total test count doesn't change. I know. I counted.
```bash
git checkout master && mvn clean && mvn install | tee with_test
git no_test_annotation master && mvn clean && mvn install | tee not_test
grep 'Tests summary' with_test > with_test_summary
grep 'Tests summary' not_test > not_test_summary
diff with_test_summary not_test_summary
```

These differ somewhat because some tests are skipped based on the random seed.
The total shouldn't differ. But it does!
```
1c1
< [INFO] Tests summary: 564 suites (1 ignored), 3171 tests, 31 ignored (31 assumptions)
---
> [INFO] Tests summary: 564 suites (1 ignored), 3167 tests, 17 ignored (17 assumptions)
```

These are the core unit tests. So we dig further:
```bash
cat with_test | perl -pe 's/\n// if /^Suite/;s/.*\n// if /IGNOR/;s/.*\n// if /Assumption #/;s/.*\n// if /HEARTBEAT/;s/Completed .+?,//' | grep Suite > with_test_suites
cat not_test | perl -pe 's/\n// if /^Suite/;s/.*\n// if /IGNOR/;s/.*\n// if /Assumption #/;s/.*\n// if /HEARTBEAT/;s/Completed .+?,//' | grep Suite > not_test_suites
diff <(sort with_test_suites) <(sort not_test_suites)
```

The four tests with lower test numbers are all extend `AbstractQueryTestCase`
and all have a method that looks like this:

```java
@Override
public void testToQuery() throws IOException {
    assumeTrue("test runs only when at least a type is registered", getCurrentTypes().length > 0);
    super.testToQuery();
}
```

It looks like this method was being double counted on master and isn't anymore.

Closes #14028

time:
2015-10-20T21:28:00Z
class:
comments:
Removed include for not-query.

time:
2015-10-20T21:21:25Z
class:
plugins/discovery-gce/src/main/java/org/elasticsearch/plugin/discovery/gce/GceDiscoveryPlugin.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/RetryHttpInitializerWrapperTests.java
comments:
Merge pull request #14215 from nik9000/retry_gce_test_to_estestcase

Convert GCE test to ESTestCase

time:
2015-10-20T20:22:22Z
class:
core/src/main/java/org/elasticsearch/action/ActionFuture.java
core/src/main/java/org/elasticsearch/action/support/AdapterActionFuture.java
comments:
Remove unused method ActionFuture.getRootFailure()

Closes #14214

time:
2015-10-20T20:01:37Z
class:
comments:
Fixed broken xrefs to query-dsl-not-query, which has been removed.

time:
2015-10-20T18:55:34Z
class:
plugins/discovery-gce/src/main/java/org/elasticsearch/plugin/discovery/gce/GceDiscoveryPlugin.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/RetryHttpInitializerWrapperTests.java
comments:
[test] Convert GCE test to ESTestCase

And work around GCE's annoying security issues that that exposed.

Required for #14069

time:
2015-10-20T17:43:16Z
class:
core/src/main/java/org/elasticsearch/index/query/NotQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/NotQueryParser.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
core/src/main/java/org/elasticsearch/indices/IndicesModule.java
core/src/test/java/org/elasticsearch/index/query/NotQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/QueryDSLDocumentationTests.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
plugins/lang-groovy/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
comments:
Query DSL: Remove NotQueryBuilder

The NotQueryBuilder has been deprecated on the 2.x branches
and can be removed with the next major version. It can be
replaced by boolean query with added mustNot() clause.

Closes #13761

time:
2015-10-20T15:49:47Z
class:
core/src/main/java/org/elasticsearch/action/get/MultiGetRequest.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/common/geo/GeoPoint.java
core/src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java
core/src/main/java/org/elasticsearch/common/unit/SizeValue.java
core/src/main/java/org/elasticsearch/common/unit/TimeValue.java
core/src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/index/shard/ShardStateMetaData.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/indices/cache/request/IndicesRequestCache.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryState.java
core/src/main/java/org/elasticsearch/snapshots/Snapshot.java
core/src/test/java/org/elasticsearch/gateway/MetaDataStateFormatTests.java
comments:
Merge pull request #14213 from jasontedor/fancy-long-hash-code

Use built-in method for computing hash code of longs

time:
2015-10-20T15:46:58Z
class:
core/src/main/java/org/elasticsearch/action/get/MultiGetRequest.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/routing/ShardRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/UnassignedInfo.java
core/src/main/java/org/elasticsearch/common/geo/GeoPoint.java
core/src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java
core/src/main/java/org/elasticsearch/common/unit/SizeValue.java
core/src/main/java/org/elasticsearch/common/unit/TimeValue.java
core/src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/search/geo/GeoDistanceRangeQuery.java
core/src/main/java/org/elasticsearch/index/shard/ShardStateMetaData.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/indices/cache/request/IndicesRequestCache.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryState.java
core/src/main/java/org/elasticsearch/snapshots/Snapshot.java
core/src/test/java/org/elasticsearch/gateway/MetaDataStateFormatTests.java
comments:
Use built-in method for computing hash code of longs

This commit replaces instances of manually computing a hash code for
primitive longs by XORing the upper bits with the lower bits with a
built-in method for doing the same.

time:
2015-10-20T15:00:24Z
class:
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/admin/indices/forcemerge/ForceMergeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/forcemerge/ForceMergeRequest.java
core/src/main/java/org/elasticsearch/action/admin/indices/forcemerge/ForceMergeRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/forcemerge/ForceMergeResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/forcemerge/TransportForceMergeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/forcemerge/package-info.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/OptimizeRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/client/IndicesAdminClient.java
core/src/main/java/org/elasticsearch/client/Requests.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/rest/action/RestActionModule.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/forcemerge/RestForceMergeAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestThreadPoolAction.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/test/java/org/elasticsearch/action/admin/indices/forcemerge/ForceMergeBlocksIT.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/TimeDataHistogramAggregationBenchmark.java
core/src/test/java/org/elasticsearch/document/DocumentActionsIT.java
core/src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayIT.java
core/src/test/java/org/elasticsearch/indices/IndicesOptionsIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/settings/UpdateSettingsIT.java
core/src/test/java/org/elasticsearch/indices/stats/IndexStatsIT.java
core/src/test/java/org/elasticsearch/recovery/TruncatedRecoveryIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearchIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/SnapshotBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/threadpool/ThreadPoolStatsTests.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
core/src/test/java/org/elasticsearch/ttl/SimpleTTLIT.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/IndicesRequestTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SimpleSortTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
comments:
Add Force Merge API, deprecate Optimize API

This adds an API for force merging lucene segments. The `/_optimize` API is now
deprecated and replaced by the `/_forcemerge` API, which has all the same flags
and action, just a different name.

time:
2015-10-20T14:31:32Z
class:
core/src/main/java/org/elasticsearch/indices/cache/request/IndicesRequestCache.java
core/src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Merge pull request #14210 from jasontedor/remove-cache-concurrency-level-settings

Remove cache concurrency level settings that no longer apply

time:
2015-10-20T14:22:28Z
class:
core/src/main/java/org/apache/lucene/search/vectorhighlight/CustomFieldQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/Queries.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/BytesRefFieldComparatorSource.java
core/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/DoubleValuesComparatorSource.java
core/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/FloatValuesComparatorSource.java
core/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/LongValuesComparatorSource.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
core/src/main/java/org/elasticsearch/search/MultiValueMode.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/children/ChildrenParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/children/ParentToChildrenAggregator.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
core/src/main/java/org/elasticsearch/search/highlight/CustomQueryScorer.java
core/src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
core/src/main/java/org/elasticsearch/search/sort/ScriptSortParser.java
core/src/main/java/org/elasticsearch/search/sort/SortParseElement.java
core/src/test/java/org/elasticsearch/common/lucene/index/FreqTermsEnumTests.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractStringFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/search/nested/AbstractNumberNestedSortingTestCase.java
core/src/test/java/org/elasticsearch/index/search/nested/DoubleNestedSortingTests.java
core/src/test/java/org/elasticsearch/index/search/nested/FloatNestedSortingTests.java
core/src/test/java/org/elasticsearch/index/search/nested/NestedSortingTests.java
core/src/test/java/org/elasticsearch/search/MultiValueModeTests.java
core/src/test/java/org/elasticsearch/search/fetch/innerhits/NestedChildrenFilterTests.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
comments:
Merge pull request #14209 from jpountz/fix/ban_filter_apis

Ban oal.search.Filter.

time:
2015-10-20T14:15:03Z
class:
core/src/main/java/org/elasticsearch/indices/cache/request/IndicesRequestCache.java
core/src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Remove cache concurrency level settings that no longer apply

This commit removes some cache concurrency level settings that were
applicable when the cache was backed by the Guava cache implementation,
but no longer apply with the cache implementation completed in #13717.

Relates #7836, relates #13224, relates #13717

time:
2015-10-20T14:09:46Z
class:
core/src/main/java/org/apache/lucene/search/vectorhighlight/CustomFieldQuery.java
core/src/main/java/org/elasticsearch/common/lucene/search/Queries.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/BytesRefFieldComparatorSource.java
core/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/DoubleValuesComparatorSource.java
core/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/FloatValuesComparatorSource.java
core/src/main/java/org/elasticsearch/index/fielddata/fieldcomparator/LongValuesComparatorSource.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/object/ObjectMapper.java
core/src/main/java/org/elasticsearch/index/query/NestedQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java
core/src/main/java/org/elasticsearch/search/MultiValueMode.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/children/ChildrenParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/children/ParentToChildrenAggregator.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsContext.java
core/src/main/java/org/elasticsearch/search/highlight/CustomQueryScorer.java
core/src/main/java/org/elasticsearch/search/internal/SubSearchContext.java
core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
core/src/main/java/org/elasticsearch/search/sort/ScriptSortParser.java
core/src/main/java/org/elasticsearch/search/sort/SortParseElement.java
core/src/test/java/org/elasticsearch/common/lucene/index/FreqTermsEnumTests.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractStringFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/search/nested/AbstractNumberNestedSortingTestCase.java
core/src/test/java/org/elasticsearch/index/search/nested/DoubleNestedSortingTests.java
core/src/test/java/org/elasticsearch/index/search/nested/FloatNestedSortingTests.java
core/src/test/java/org/elasticsearch/index/search/nested/NestedSortingTests.java
core/src/test/java/org/elasticsearch/search/MultiValueModeTests.java
core/src/test/java/org/elasticsearch/search/fetch/innerhits/NestedChildrenFilterTests.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
comments:
Ban oal.search.Filter.

Filter has been deprecated in Lucene 5.4 and will be removed in 6.0. We should
stop using this API.

time:
2015-10-20T13:59:04Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
comments:
check "plugin already installed" before jar hell check.

In the case of a plugin using the deprecated `isolated=false` functionality
this will cause confusion otherwise.

Closes #14205
Closes #14207

time:
2015-10-20T13:50:56Z
class:
comments:
[DOCS] clarify command to run REST tests only

Rest tests are now part of the verify goal, thus if we only want to execute those we need to skip unit tests, otherwise we'll get an error saying that the test phase completed without running any tests.

time:
2015-10-20T13:08:26Z
class:
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
comments:
Refactor ShardFailure listener infrastructure

Today we leak the notion of an engine outside of the shard abstraction
which is not desirable. This commit refactors the infrastrucutre to use
use already existing interfaces to communicate if a shard has failed and
prevents engine private classes to be implemented on a higher level.
This change is purely cosmentical...

time:
2015-10-20T12:34:51Z
class:
comments:
Remove mistakenly committed build output files

This commit removes some build output files from the
burn_maven_with_fire_branch that appear to have been mistakenly
committed to master in bfb9054a11f23eda737b4883b84350fb47102fe3.

time:
2015-10-20T12:10:44Z
class:
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/bootstrap/Seccomp.java
comments:
Drop ability to execute on Solaris

This is very simple to do and recommended by `privileges(5)` documentation:
```
Daemons that never need to exec subprocesses should remove the PRIV_PROC_EXEC privilege from their permitted and limit sets.
```

Closes #14200

time:
2015-10-20T11:59:53Z
class:
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
comments:
Remove dead code

time:
2015-10-20T09:17:33Z
class:
core/src/test/java/org/elasticsearch/index/query/QueryDSLDocumentationTests.java
comments:
Fix the naming check.

time:
2015-10-20T09:17:01Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/DateParser.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/DateProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/ISO8601DateParser.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/JodaPatternDateParser.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/TAI64NDateParser.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/UnixDateParser.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/date/UnixMsDateParser.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestModule.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/DatePipelineIT.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/date/ISO8601DateParserTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/date/JodaPatternDateParserTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/date/TAI64NDateParserTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/date/UnixDateParserTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/processor/date/UnixMsDateParserTests.java
comments:
add date processor

time:
2015-10-20T09:09:25Z
class:
comments:
Remove reference to deleted limit query.

time:
2015-10-20T09:04:57Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Data.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/Pipeline.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/Processor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/simple/SimpleProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestModule.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/PipelineStore.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/IngestClientIT.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/PipelineExecutionServiceTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/PipelineStoreTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilterTests.java
comments:
Merge pull request #14201 from talevy/ingest/smallrestruct

restructure processors / addField for Data

time:
2015-10-20T08:56:43Z
class:
core/src/test/java/org/elasticsearch/index/query/QueryDSLDocumentationTests.java
comments:
Merge pull request #14189 from MaineC/doc-fix/13800

Updates java query dsl documentation

time:
2015-10-20T08:45:01Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchCorruptionException.java
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/ElasticsearchTimeoutException.java
core/src/main/java/org/elasticsearch/ExceptionsHelper.java
core/src/main/java/org/elasticsearch/action/support/AdapterActionFuture.java
core/src/main/java/org/elasticsearch/common/inject/TypeConverterBindingProcessor.java
core/src/main/java/org/elasticsearch/index/analysis/Analysis.java
core/src/main/java/org/elasticsearch/index/analysis/compound/HyphenationCompoundWordTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexOrdinalsFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/SortedSetDVOrdinalsIndexFieldData.java
core/src/main/java/org/elasticsearch/search/lookup/LeafIndexLookup.java
core/src/main/java/org/elasticsearch/transport/PlainTransportFuture.java
core/src/main/java/org/elasticsearch/transport/ResponseHandlerFailureTransportException.java
core/src/main/java/org/elasticsearch/transport/TransportException.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
comments:
Merge pull request #13544 from MaineC/bug-fix/10021-add-throwable

Add *Exception(Throwable cause) constructors/ call where appropriate

time:
2015-10-20T08:08:04Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Data.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/Pipeline.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/Processor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/processor/simple/SimpleProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestModule.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/PipelineStore.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/IngestClientIT.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/PipelineExecutionServiceTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/PipelineStoreTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilterTests.java
comments:
restructure processors

This Commit does the following:

 - moves processors into their own sub-packages
 - adds ability to add any typed field value into Data

time:
2015-10-20T07:55:53Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchCorruptionException.java
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/ElasticsearchTimeoutException.java
core/src/main/java/org/elasticsearch/ExceptionsHelper.java
core/src/main/java/org/elasticsearch/action/support/AdapterActionFuture.java
core/src/main/java/org/elasticsearch/common/inject/TypeConverterBindingProcessor.java
core/src/main/java/org/elasticsearch/index/analysis/Analysis.java
core/src/main/java/org/elasticsearch/index/analysis/compound/HyphenationCompoundWordTokenFilterFactory.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexOrdinalsFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/SortedSetDVOrdinalsIndexFieldData.java
core/src/main/java/org/elasticsearch/search/lookup/LeafIndexLookup.java
core/src/main/java/org/elasticsearch/transport/PlainTransportFuture.java
core/src/main/java/org/elasticsearch/transport/ResponseHandlerFailureTransportException.java
core/src/main/java/org/elasticsearch/transport/TransportException.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
comments:
Minus 16 calls to getMessage

Adds *Exception(Throwable cause) constructors and calls them where appropriate
thus getting rid of 16 instances of calling getMessage and eliminating the risk
of loosing exception context.

Fixes ElasticsearchTimeoutException along the way (used to discard the
parameter args in the (String message, Object... args) constructor, passes it
up to super now.

Relates to #10021

time:
2015-10-20T07:37:36Z
class:
core/src/test/java/org/elasticsearch/index/query/QueryDSLDocumentationTests.java
comments:
Updates java query dsl documentation

Closes #13800

time:
2015-10-19T19:52:31Z
class:
core/src/main/java/org/elasticsearch/common/geo/GeoPoint.java
core/src/test/java/org/elasticsearch/index/search/geo/GeoPointParsingTests.java
core/src/test/java/org/elasticsearch/search/aggregations/MissingValueIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AbstractGeoTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/GeoCentroidIT.java
comments:
Resync Geopoint hashCode/equals method

Geopoint's equals method was modified to consider two points equal if they are within a threshold. This change was done to accept round-off error introduced from GeoHash encoding methods. This commit removes this trappy leniency from the GeoPoint equals method and instead forces round-off error to be handled at the encoding source.

time:
2015-10-19T19:41:52Z
class:
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/RetryHttpInitializerWrapperTests.java
comments:
Fix test bug to match windows /r

time:
2015-10-19T19:13:14Z
class:
comments:
Added max-at thread info

Added max-at thread info for snapshot, warmer and refresh pools.See https://github.com/elastic/elasticsearch/blob/master/core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java#L137

time:
2015-10-19T19:06:20Z
class:
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/RetryHttpInitializerWrapperTests.java
comments:
fix a test bug

time:
2015-10-19T17:41:20Z
class:
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeService.java
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeServiceImpl.java
plugins/discovery-gce/src/main/java/org/elasticsearch/discovery/gce/RetryHttpInitializerWrapper.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/RetryHttpInitializerWrapperTests.java
comments:
Merge pull request #13671 from xuzha/gce-retry

close #13460

time:
2015-10-19T17:28:08Z
class:
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeService.java
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeServiceImpl.java
plugins/discovery-gce/src/main/java/org/elasticsearch/discovery/gce/RetryHttpInitializerWrapper.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/RetryHttpInitializerWrapperTests.java
comments:
Adding backoff from retries on GCE errors

In case of any error while trying to get GCE instances list from GCE
API, elasticsearch will slow down its API calls.

time:
2015-10-19T16:36:19Z
class:
comments:
[REST tests] prevent backtracking in cat.nodeattrs

time:
2015-10-19T15:14:14Z
class:
core/src/test/java/org/elasticsearch/action/support/replication/TransportReplicationActionTests.java
comments:
Rename ShardReplicationTests to TransportReplicationActionTests

This commit renames ShardReplicationTests to
TransportReplicationActionTests. This rename is to reflect the fact
that the tests contained in this test suite are for testing
TransportReplicationAction. This class was previously renamed but the
test suite was not.

time:
2015-10-19T15:08:35Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/index/mapper/MapperException.java
core/src/main/java/org/elasticsearch/index/mapper/MapperParsingException.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
core/src/test/java/org/elasticsearch/index/mapper/date/DateBackwardsCompatibilityTests.java
comments:
Merge pull request #13976 from nik9000/conflict_root_cause

Make root_cause of field conflicts more obvious

time:
2015-10-19T14:42:55Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/index/mapper/MapperException.java
core/src/main/java/org/elasticsearch/index/mapper/MapperParsingException.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
core/src/test/java/org/elasticsearch/index/mapper/date/DateBackwardsCompatibilityTests.java
comments:
Make root_cause of field conflicts more obvious

Does so by improving the error message passed to MapperParsingException.

The error messages for mapping conflicts now look like:
```
{
  "error" : {
    "root_cause" : [ {
      "type" : "mapper_parsing_exception",
      "reason" : "Failed to parse mapping [type_one]: Mapper for [text] conflicts with existing mapping in other types:\n[mapper [text] has different [analyzer], mapper [text] is used by multiple types. Set update_all_types to true to update [search_analyzer] across all types., mapper [text] is used by multiple types. Set update_all_types to true to update [search_quote_analyzer] across all types.]"
    } ],
    "type" : "mapper_parsing_exception",
    "reason" : "Failed to parse mapping [type_one]: Mapper for [text] conflicts with existing mapping in other types:\n[mapper [text] has different [analyzer], mapper [text] is used by multiple types. Set update_all_types to true to update [search_analyzer] across all types., mapper [text] is used by multiple types. Set update_all_types to true to update [search_quote_analyzer] across all types.]",
    "caused_by" : {
      "type" : "illegal_argument_exception",
      "reason" : "Mapper for [text] conflicts with existing mapping in other types:\n[mapper [text] has different [analyzer], mapper [text] is used by multiple types. Set update_all_types to true to update [search_analyzer] across all types., mapper [text] is used by multiple types. Set update_all_types to true to update [search_quote_analyzer] across all types.]"
    }
  },
  "status" : 400
}
```

Closes #12839

Change implementation

Rather than make a new exception this improves the error message of the old
exception.

time:
2015-10-19T14:00:22Z
class:
comments:
Merge pull request #14134 from nik9000/bundle_shard_routing

Bundle TestShardRouting in test jar

time:
2015-10-19T13:29:47Z
class:
comments:
Merge pull request #14170 from jasontedor/system-v-init

Startup script exit status should catch daemonized startup failures

time:
2015-10-19T12:40:52Z
class:
core/src/main/java/org/elasticsearch/action/count/CountAction.java
core/src/main/java/org/elasticsearch/action/count/CountRequest.java
core/src/main/java/org/elasticsearch/action/count/CountRequestBuilder.java
core/src/main/java/org/elasticsearch/action/count/CountResponse.java
core/src/main/java/org/elasticsearch/action/count/package-info.java
core/src/main/java/org/elasticsearch/client/Client.java
core/src/main/java/org/elasticsearch/client/IndicesAdminClient.java
core/src/main/java/org/elasticsearch/client/Requests.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestCountAction.java
core/src/main/java/org/elasticsearch/rest/action/count/RestCountAction.java
core/src/main/java/org/elasticsearch/rest/action/support/RestActions.java
core/src/test/java/org/elasticsearch/action/count/CountRequestBuilderTests.java
core/src/test/java/org/elasticsearch/action/count/CountRequestTests.java
core/src/test/java/org/elasticsearch/action/count/CountResponseTests.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java
core/src/test/java/org/elasticsearch/benchmark/search/SuggestSearchBenchMark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/GlobalOrdinalsBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/HistogramAggregationSearchBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/PercentilesAggregationSearchBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/QueryFilterAggregationSearchBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/SubAggregationSearchCollectModeBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchAndIndexingBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/TermsAggregationSearchBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/aggregations/TimeDataHistogramAggregationBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchAndIndexingBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchShortCircuitBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/geo/GeoDistanceSearchBenchmark.java
core/src/test/java/org/elasticsearch/benchmark/search/nested/NestedSearchBenchMark.java
core/src/test/java/org/elasticsearch/benchmark/search/scroll/ScrollSearchBenchmark.java
core/src/test/java/org/elasticsearch/broadcast/BroadcastActionsIT.java
core/src/test/java/org/elasticsearch/bwcompat/BasicBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/cluster/MinimumMasterNodesIT.java
core/src/test/java/org/elasticsearch/cluster/NoMasterNodeIT.java
core/src/test/java/org/elasticsearch/cluster/allocation/FilteringAllocationIT.java
core/src/test/java/org/elasticsearch/count/simple/SimpleCountIT.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/document/DocumentActionsIT.java
core/src/test/java/org/elasticsearch/gateway/QuorumGatewayIT.java
core/src/test/java/org/elasticsearch/gateway/RecoveryBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayIT.java
core/src/test/java/org/elasticsearch/index/mapper/multifield/MultiFieldsIntegrationIT.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/indices/IndicesOptionsIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/flush/FlushIT.java
core/src/test/java/org/elasticsearch/indices/mapping/UpdateMappingIntegrationIT.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryIT.java
core/src/test/java/org/elasticsearch/indices/settings/UpdateNumberOfReplicasIT.java
core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
core/src/test/java/org/elasticsearch/percolator/RecoveryPercolatorIT.java
core/src/test/java/org/elasticsearch/recovery/FullRollingRestartIT.java
core/src/test/java/org/elasticsearch/recovery/RelocationIT.java
core/src/test/java/org/elasticsearch/routing/AliasRoutingIT.java
core/src/test/java/org/elasticsearch/routing/SimpleRoutingIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/query/MultiMatchQueryIT.java
core/src/test/java/org/elasticsearch/search/scroll/SearchScrollIT.java
core/src/test/java/org/elasticsearch/search/suggest/CompletionSuggestSearchIT.java
core/src/test/java/org/elasticsearch/snapshots/DedicatedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/snapshots/SnapshotBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/hamcrest/ElasticsearchAssertions.java
core/src/test/java/org/elasticsearch/tribe/TribeIT.java
plugins/delete-by-query/src/test/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryActionTests.java
plugins/delete-by-query/src/test/java/org/elasticsearch/plugin/deletebyquery/DeleteByQueryTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/BulkTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
plugins/repository-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreServiceTests.java
plugins/repository-azure/src/test/java/org/elasticsearch/repositories/azure/AzureSnapshotRestoreTests.java
plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/AbstractS3SnapshotRestoreTest.java
comments:
Java api: remove the count api

Closes #14166
Closes #13928

time:
2015-10-19T12:25:26Z
class:
core/src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesIT.java
comments:
Merge pull request #14089 from brwe/fix-test-access-denied

fix access denied for shard deletion with WindowsFS

time:
2015-10-19T11:56:42Z
class:
comments:
[DOCS] terminate_after is not experimental anymore

we are relying on terminate_after more and more, replaced the limit filter with it and soon it will also replace the search_exists api. At that point we should make it a stable api rather than experimental.

Closes #14183

time:
2015-10-19T11:45:42Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataService.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
comments:
Merge pull request #14159 from s1monw/remove_meta_data_service

Remove MetaDataSerivce and it's semaphores

time:
2015-10-19T11:32:49Z
class:
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
comments:
add several code comments and apply review comments

time:
2015-10-19T11:32:49Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
comments:
apply review comments

time:
2015-10-19T11:32:49Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/put/TransportPutMappingAction.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataService.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/template/put/MetaDataIndexTemplateServiceTests.java
comments:
Remove MetaDataSerivce and it's semaphores

MetaDataSerivce tried to protect concurrent index creation/deletion
from resulting in inconsistent indices. This was originally added a
long time ago via #1296 which seems to be caused by several problems
that we fixed already in 2.0 or even in late 1.x version. Indices where
recreated without being deleted and shards where deleted while being used
which is now prevented on several levels. We can safely remove the semaphores
since we are already serializing the events on the cluster state threads.
This commit also fixes some expception handling bugs exposed by the added test

time:
2015-10-19T09:48:02Z
class:
core/src/main/java/org/elasticsearch/index/flush/FlushStats.java
core/src/main/java/org/elasticsearch/index/get/GetStats.java
core/src/main/java/org/elasticsearch/index/indexing/IndexingStats.java
core/src/main/java/org/elasticsearch/index/merge/MergeStats.java
core/src/main/java/org/elasticsearch/index/recovery/RecoveryStats.java
core/src/main/java/org/elasticsearch/index/refresh/RefreshStats.java
core/src/main/java/org/elasticsearch/index/search/stats/SearchStats.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
comments:
Merge pull request #13801 from achow/achow/omit-old-current-stats

Omit current* stats for OldShardStats (closes #13386)

time:
2015-10-19T08:58:48Z
class:
comments:
Merge pull request #14178 from bharvidixit/master

The boost keyword changed to bool

time:
2015-10-19T08:42:11Z
class:
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
comments:
Merge pull request #14007 from synhershko/patch-6

Fix ensureNodesAreAvailable's error message

time:
2015-10-18T19:37:50Z
class:
core/src/main/java/org/elasticsearch/http/netty/HttpRequestHandler.java
core/src/main/java/org/elasticsearch/rest/support/RestUtils.java
core/src/test/java/org/elasticsearch/rest/util/RestUtilsTests.java
comments:
Internal: only have one CORS allow origin setting string

We currently have two, which is confusing when you  read the code (especially if one is used with a null default and the other with '*')

Note: this is not a real bug, just a  clean up. We do the right thing...

Closes #13988

time:
2015-10-18T19:15:07Z
class:
core/src/main/java/org/elasticsearch/discovery/DiscoveryService.java
core/src/main/java/org/elasticsearch/gateway/GatewayService.java
comments:
Gateway: a race condition can prevent the initial cluster state from being recovered

 After a full cluster restart, the elected master is tasked with recovery the last known cluster state from disk. To do so, the GatewayService registers it self as a listener to cluster state changes, triggering the recovery if the local node is elected. Sadly the initial post-election cluster state can be missed if it's being processed while the listener is registered (i.e., the listener is too late but the discoveryService.initialStateReceived is not yet set). In this case the cluster state from disk will be recovered with the next change (typically node join).

 In practice this is not a big deal as master election takes at least 3s (by which time the gateway is long started), but it does make some of our tests to fail: http://build-us-00.elastic.co/job/es_core_master_centos/7915/

 To fix this, we submit a cluster state task after the edition of the listener, so we are guaranteed to check things while they are at rest.

 While at it, I removed some left over latch which we don't really wait on anymore.

 Closes #13997

time:
2015-10-18T09:42:47Z
class:
comments:
Changed boost keyword with bool in bounding box query

time:
2015-10-18T08:15:10Z
class:
comments:
The boost keyword changed to bool

time:
2015-10-17T18:32:03Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
comments:
Also catch EngineClosedException when pulling translog from potentially closed engine

When we check the engine if a flush is needed we don't catch EngineClosedException today
but the engine is potentially closed already in which case we can simply return false and don't need
to bubble up the exception.

time:
2015-10-16T21:04:37Z
class:
comments:
Startup script exit status should catch daemonized startup failures

This commit fixes an issue where when starting Elasticsearch in
daemonized mode, a failed startup would not cause a non-zero exit code
to be returned. This can prevent the SysV init system from detecting
startup failures.

Closes #14163

time:
2015-10-16T20:10:51Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/close/TransportCloseIndexAction.java
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/test/java/org/elasticsearch/indices/state/CloseIndexDisableCloseAllIT.java
comments:
Add option to disable closing indices

Closed indices are currently out of scope for snapshots and shard migration,
and can cause issues in managed environments – where closing an index does
not necessarily make sense, as it still consumes the managed environment's storage quota.

This commit adds an option to dynamically disable closing indices via node or cluster settings.

Closes #14168

time:
2015-10-16T16:26:52Z
class:
comments:
Merge pull request #14162 from GeorgiCodes/patch-2

minor fixes to doc

time:
2015-10-16T14:06:33Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ConcurrentRebalanceAllocationDecider.java
comments:
Fix typo in o.e.c.r.a.d.ConcurrentRebalanceAllocationDecider

time:
2015-10-16T12:33:09Z
class:
core/src/main/java/org/elasticsearch/index/query/BoolQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/BoolQueryBuilderTests.java
comments:
Query DSL: don't change state of the bool query while converting to lucene query

We used to change the minimumShouldMatch field of the query depending on the context, the final minimim should match should still be applied based on that, but the original minimumShouldMatch of the query shouldn't change. This was revelead by some recent test failure.

Closes #14153

time:
2015-10-16T08:43:17Z
class:
comments:
Merge pull request #14144 from robertlyson/patch-1

Names of indexRouting and searchRouting infos are out of date.

time:
2015-10-16T07:44:52Z
class:
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
comments:
Merge pull request #14074 from jpountz/upgrade/lucene-5.4-snapshot-1708254

Upgrade to lucene-5.4-snapshot-1708254.

time:
2015-10-16T07:41:36Z
class:
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
comments:
Upgrade to lucene-5.4-snapshot-1708254.

time:
2015-10-15T20:34:15Z
class:
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
comments:
Merge pull request #14145 from s1monw/start_obj_optional

Allow parser to move on the START_OBJECT token when parsing search so…

time:
2015-10-15T20:28:05Z
class:
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
comments:
Allow parser to move on the START_OBJECT token when parsing search source

Currently we require parser to be right before the sources START_OBJECT
but if we are parsing embedded search sources this won't work since we potentially
moved already on to the START_OBJECT. This commit make this optional such that
both ways work.

time:
2015-10-15T19:55:06Z
class:
comments:
Names of indexRouting and searchRouting infos are out of date.

Hi,I belive indexRouting should be changed to routing.index and searchRouting to routing.search.This is what my ES 2.0.0-rc1 instance returns when I hit cat alias api:Let me know if I should change other versions of documentation for this issue as well(Looks to me like it always was incorrect in docs).

time:
2015-10-15T17:56:21Z
class:
core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java
comments:
Merge pull request #11398 from Collaborne/bugs/explain-function-script-quotes

Fix the quotes in the explain message for a script score function without parameters

time:
2015-10-15T15:54:14Z
class:
comments:
[test] Bundle TestShardRouting in test jar

Plugins want to use this too.

Closes #14133

time:
2015-10-15T13:44:53Z
class:
core/src/main/java/org/elasticsearch/env/ESFileStore.java
core/src/main/java/org/elasticsearch/env/Environment.java
comments:
Give a better exception when running from freebsd jail without enforce_statfs=1

We can't track disk usage in this situation, failing is the correct thing to do.
But we can give a FreeBSD-specific error message, so the user can set the
necessary jail parameters, versus a vague IOException.

Closes #12018

time:
2015-10-15T12:51:00Z
class:
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/bootstrap/JNANatives.java
core/src/main/java/org/elasticsearch/bootstrap/Seccomp.java
core/src/test/java/org/elasticsearch/bootstrap/SeccompTests.java
core/src/test/java/org/elasticsearch/common/lucene/LuceneTests.java
comments:
Merge branch 'master' into feature/search-request-refactoring

time:
2015-10-15T12:49:43Z
class:
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/search/SearchService.java
comments:
reverted non-null searchSourceBuilder in searchRequest for now

time:
2015-10-15T12:47:05Z
class:
core/src/test/java/org/elasticsearch/common/lucene/LuceneTests.java
comments:
Test that the lucene "unmap hack" is supported.

Closes #14120

Squashed commit of the following:

commit 556b7f5783211bd82a5d9796996e21be87b0404b
Author: Robert Muir <rmuir@apache.org>
Date:   Wed Oct 14 15:16:54 2015 -0400

    Add bugid link

commit b44aac7e9f1a97974938c17e013812ebf4c2fa76
Author: Robert Muir <rmuir@apache.org>
Date:   Wed Oct 14 15:01:41 2015 -0400

    Test that the lucene "unmap hack" is supported.

    We should know if this is not working for any configuration, otherwise resources such as address space, file handles, and even disk space become tied to Java's garbage collector.

time:
2015-10-15T12:37:53Z
class:
core/src/main/java/org/elasticsearch/bootstrap/JNANatives.java
core/src/main/java/org/elasticsearch/bootstrap/Seccomp.java
core/src/test/java/org/elasticsearch/bootstrap/SeccompTests.java
comments:
Merge pull request #14126 from rmuir/seccomp_testbug

Fix SeccompTests bug on older kernels / add defense

time:
2015-10-15T12:35:16Z
class:
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
comments:
Revert changes made to IndexQueryParserService, fixed upstream meanwhile

time:
2015-10-15T12:28:39Z
class:
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
comments:
Revert changes made to IdsQueryBuilder, fixed upstream meanwhile

time:
2015-10-15T10:34:31Z
class:
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/warmer/put/RestPutWarmerAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestCountAction.java
core/src/main/java/org/elasticsearch/rest/action/count/RestCountAction.java
core/src/main/java/org/elasticsearch/rest/action/search/RestMultiSearchAction.java
core/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
core/src/main/java/org/elasticsearch/rest/action/support/RestActions.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/test/java/org/elasticsearch/action/search/MultiSearchRequestTests.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
plugins/delete-by-query/src/main/java/org/elasticsearch/rest/action/deletebyquery/RestDeleteByQueryAction.java
plugins/delete-by-query/src/test/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryActionTests.java
comments:
review comment fixes
wouldn't it be better to get the ParseFieldMatcher as an argument from the REST action?

it is already (see RestCountAction). I am just trying to save passing the parseFieldMatcher in as an argument to the method since we already have the same one in the context object.


time:
2015-10-15T10:26:18Z
class:
core/src/main/java/org/elasticsearch/Version.java
comments:
Release 1.7.3: Added bwc indices and updated Version.java

time:
2015-10-15T10:02:34Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/get/TransportGetSettingsAction.java
core/src/main/java/org/elasticsearch/action/count/CountRequest.java
core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/main/java/org/elasticsearch/bootstrap/JarHell.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ShardsLimitAllocationDecider.java
core/src/main/java/org/elasticsearch/common/cache/Cache.java
core/src/main/java/org/elasticsearch/common/geo/GeoUtils.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/common/lucene/index/ElasticsearchDirectoryReader.java
core/src/main/java/org/elasticsearch/common/lucene/index/ElasticsearchLeafReader.java
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/main/java/org/elasticsearch/common/lucene/uid/PerThreadIDAndVersionLookup.java
core/src/main/java/org/elasticsearch/common/lucene/uid/Versions.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/gateway/DanglingIndicesState.java
core/src/main/java/org/elasticsearch/gateway/Gateway.java
core/src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
core/src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
core/src/main/java/org/elasticsearch/gateway/MetaStateService.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataCache.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexOrdinalsFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexParentChildFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/GlobalOrdinalsIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexOrdinalsFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/IndexIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/SortedSetDVOrdinalsIndexFieldData.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/shard/IndexSearcherWrapper.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShardUtils.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/IndicesWarmer.java
core/src/main/java/org/elasticsearch/indices/cache/request/IndicesRequestCache.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
core/src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
core/src/main/java/org/elasticsearch/plugins/PluginInfo.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java
core/src/main/java/org/elasticsearch/plugins/PluginSecurity.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/alias/get/RestGetIndicesAliasesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilders.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/BucketsAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGrid.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/InternalGeoHashGrid.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/GeoCentroid.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/GeoCentroidAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/GeoCentroidBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/GeoCentroidParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/InternalGeoCentroid.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSource.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
core/src/test/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
core/src/test/java/org/elasticsearch/action/support/master/TransportMasterNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ClusterStateCreationUtils.java
core/src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/bootstrap/ESPolicyTests.java
core/src/test/java/org/elasticsearch/bootstrap/JarHellTests.java
core/src/test/java/org/elasticsearch/bootstrap/MockPluginPolicy.java
core/src/test/java/org/elasticsearch/bwcompat/ClusterStateBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/SimpleClusterStateIT.java
core/src/test/java/org/elasticsearch/cluster/ack/AckIT.java
core/src/test/java/org/elasticsearch/cluster/metadata/ToAndFromJsonMetaDataTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/UpdateNumberOfReplicasTests.java
core/src/test/java/org/elasticsearch/common/cache/CacheTests.java
core/src/test/java/org/elasticsearch/common/io/stream/BytesStreamsTests.java
core/src/test/java/org/elasticsearch/common/lucene/index/ESDirectoryReaderTests.java
core/src/test/java/org/elasticsearch/common/lucene/uid/VersionLookupTests.java
core/src/test/java/org/elasticsearch/common/lucene/uid/VersionsTests.java
core/src/test/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateActionTests.java
core/src/test/java/org/elasticsearch/gateway/GatewayIndexStateIT.java
core/src/test/java/org/elasticsearch/gateway/GatewayMetaStateTests.java
core/src/test/java/org/elasticsearch/gateway/MetaDataStateFormatTests.java
core/src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesIT.java
core/src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayIT.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/fielddata/NoOrdinalsStringFieldDataTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexSearcherWrapperTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/settings/UpdateSettingsIT.java
core/src/test/java/org/elasticsearch/indices/state/SimpleIndexStateIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerPermissionTests.java
core/src/test/java/org/elasticsearch/plugins/PluginSecurityTests.java
core/src/test/java/org/elasticsearch/search/aggregations/MissingValueIT.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AbstractGeoTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/GeoBoundsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/GeoCentroidIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/TestCluster.java
core/src/test/java/org/elasticsearch/test/engine/AssertingSearcher.java
core/src/test/java/org/elasticsearch/test/engine/MockEngineSupport.java
core/src/test/java/org/elasticsearch/test/geo/RandomGeoGenerator.java
core/src/test/java/org/elasticsearch/test/geo/RandomShapeGenerator.java
comments:
Merge branch 'master' into feature/search-request-refactoring

# Conflicts:
#	core/src/main/java/org/elasticsearch/search/SearchService.java

time:
2015-10-15T07:57:47Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/InternalGeoCentroid.java
comments:
Fix GeoCenteriod Aggregation serialization

time:
2015-10-15T05:40:32Z
class:
core/src/main/java/org/elasticsearch/bootstrap/JNANatives.java
core/src/main/java/org/elasticsearch/bootstrap/Seccomp.java
core/src/test/java/org/elasticsearch/bootstrap/SeccompTests.java
comments:
Fix SeccompTests bug on older kernels

This test failed only on a feature branch, because that feature branch has
a different build randomization script and is the only place
randomizing tests.security.manager (this test cannot run with it enabled).

On old kernels without TSYNC support, the test fails because (surprise to me) the thread that
runs the test is not the same thread that runs static initializers:
https://github.com/randomizedtesting/randomizedtesting/blob/7571489190d677969c768836e1576f4e851f83e8/randomized-runner/src/main/java/com/carrotsearch/randomizedtesting/RandomizedRunner.java#L573-L574

To fix this test (its not an issue in practice, since we do this before creating threadpools),
we just record for testing purposes that we couldn't TSYNC, and re-run the whole thing for the test thread
in setUp(), failing if something goes wrong.

Also add a bunch of additional paranoia and narrow our defensive checks better here after reading
through more chrome bug reports: they don't impact us but those linux distros are too cowboy
with the backports and the spirit of the checks makes me feel better.

time:
2015-10-14T23:29:08Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/get/TransportGetSettingsAction.java
core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ShardsLimitAllocationDecider.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/gateway/DanglingIndicesState.java
core/src/main/java/org/elasticsearch/gateway/Gateway.java
core/src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
core/src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
core/src/main/java/org/elasticsearch/gateway/MetaStateService.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/IndicesWarmer.java
core/src/main/java/org/elasticsearch/indices/cache/request/IndicesRequestCache.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/alias/get/RestGetIndicesAliasesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
core/src/test/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
core/src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java
core/src/test/java/org/elasticsearch/bwcompat/ClusterStateBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/SimpleClusterStateIT.java
core/src/test/java/org/elasticsearch/cluster/ack/AckIT.java
core/src/test/java/org/elasticsearch/cluster/metadata/ToAndFromJsonMetaDataTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/UpdateNumberOfReplicasTests.java
core/src/test/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateActionTests.java
core/src/test/java/org/elasticsearch/gateway/GatewayIndexStateIT.java
core/src/test/java/org/elasticsearch/gateway/GatewayMetaStateTests.java
core/src/test/java/org/elasticsearch/gateway/MetaDataStateFormatTests.java
core/src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesIT.java
core/src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayIT.java
core/src/test/java/org/elasticsearch/indices/settings/UpdateSettingsIT.java
core/src/test/java/org/elasticsearch/indices/state/SimpleIndexStateIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
comments:
Merge pull request #14119 from jasontedor/index-meta-data-clean-up

Cleanup IndexMetaData

time:
2015-10-14T21:19:28Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/bucket/BucketsAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGrid.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/GeoHashGridParser.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/geogrid/InternalGeoHashGrid.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/GeoHashGridIT.java
comments:
remove centroid calculation from GeoHashGridAggregation

time:
2015-10-14T21:19:09Z
class:
core/src/main/java/org/elasticsearch/common/geo/GeoUtils.java
core/src/main/java/org/elasticsearch/search/SearchModule.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilders.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/GeoCentroid.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/GeoCentroidAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/GeoCentroidBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/GeoCentroidParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/geocentroid/InternalGeoCentroid.java
core/src/test/java/org/elasticsearch/search/aggregations/MissingValueIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/AbstractGeoTestCase.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/GeoBoundsIT.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/GeoCentroidIT.java
core/src/test/java/org/elasticsearch/test/geo/RandomGeoGenerator.java
core/src/test/java/org/elasticsearch/test/geo/RandomShapeGenerator.java
comments:
Adds geo_centroid metric aggregator

This commit adds a new metric aggregator for computing the geo_centroid over a set of geo_point fields. This can be combined with other aggregators (e.g., geohash_grid, significant_terms) for computing the geospatial centroid based on the document sets from other aggregation results.

time:
2015-10-14T21:04:13Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
comments:
set active to true on indexing ops

time:
2015-10-14T20:45:19Z
class:
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/common/cache/Cache.java
core/src/main/java/org/elasticsearch/common/lucene/index/ElasticsearchDirectoryReader.java
core/src/main/java/org/elasticsearch/common/lucene/index/ElasticsearchLeafReader.java
core/src/main/java/org/elasticsearch/common/lucene/uid/Versions.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataCache.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexOrdinalsFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexParentChildFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/GlobalOrdinalsIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexOrdinalsFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/IndexIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/SortedSetDVOrdinalsIndexFieldData.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/shard/IndexSearcherWrapper.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShardUtils.java
core/src/main/java/org/elasticsearch/indices/IndicesWarmer.java
core/src/main/java/org/elasticsearch/indices/cache/request/IndicesRequestCache.java
core/src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
core/src/main/java/org/elasticsearch/plugins/PluginInfo.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java
core/src/main/java/org/elasticsearch/plugins/PluginSecurity.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSource.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/bootstrap/ESPolicyTests.java
core/src/test/java/org/elasticsearch/bootstrap/MockPluginPolicy.java
core/src/test/java/org/elasticsearch/common/cache/CacheTests.java
core/src/test/java/org/elasticsearch/common/lucene/index/ESDirectoryReaderTests.java
core/src/test/java/org/elasticsearch/common/lucene/uid/VersionsTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/shard/IndexSearcherWrapperTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerPermissionTests.java
core/src/test/java/org/elasticsearch/plugins/PluginSecurityTests.java
core/src/test/java/org/elasticsearch/test/engine/AssertingSearcher.java
core/src/test/java/org/elasticsearch/test/engine/MockEngineSupport.java
comments:
Merge branch 'master' into fair_indexing_buffers

time:
2015-10-14T20:44:22Z
class:
core/src/main/java/org/elasticsearch/index/engine/ElasticsearchConcurrentMergeScheduler.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
comments:
don't call IMC.forceCheck when going active; remove nocommit/sops

time:
2015-10-14T18:59:35Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/health/ClusterIndexHealth.java
core/src/main/java/org/elasticsearch/action/admin/indices/exists/types/TransportTypesExistsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/settings/get/TransportGetSettingsAction.java
core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/cluster/ClusterChangedEvent.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/AllocationService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/AwarenessAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationDecider.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/ShardsLimitAllocationDecider.java
core/src/main/java/org/elasticsearch/discovery/zen/ZenDiscovery.java
core/src/main/java/org/elasticsearch/gateway/DanglingIndicesState.java
core/src/main/java/org/elasticsearch/gateway/Gateway.java
core/src/main/java/org/elasticsearch/gateway/GatewayMetaState.java
core/src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
core/src/main/java/org/elasticsearch/gateway/MetaStateService.java
core/src/main/java/org/elasticsearch/gateway/PrimaryShardAllocator.java
core/src/main/java/org/elasticsearch/gateway/TransportNodesListGatewayStartedShards.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/IndicesWarmer.java
core/src/main/java/org/elasticsearch/indices/cache/request/IndicesRequestCache.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/indices/ttl/IndicesTTLService.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/alias/get/RestGetIndicesAliasesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestIndicesAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestShardsAction.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
core/src/test/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
core/src/test/java/org/elasticsearch/action/support/replication/ShardReplicationTests.java
core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java
core/src/test/java/org/elasticsearch/bwcompat/ClusterStateBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/SimpleClusterStateIT.java
core/src/test/java/org/elasticsearch/cluster/ack/AckIT.java
core/src/test/java/org/elasticsearch/cluster/metadata/ToAndFromJsonMetaDataTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/UpdateNumberOfReplicasTests.java
core/src/test/java/org/elasticsearch/discovery/zen/publish/PublishClusterStateActionTests.java
core/src/test/java/org/elasticsearch/gateway/GatewayIndexStateIT.java
core/src/test/java/org/elasticsearch/gateway/GatewayMetaStateTests.java
core/src/test/java/org/elasticsearch/gateway/MetaDataStateFormatTests.java
core/src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesIT.java
core/src/test/java/org/elasticsearch/gateway/RecoveryFromGatewayIT.java
core/src/test/java/org/elasticsearch/indices/settings/UpdateSettingsIT.java
core/src/test/java/org/elasticsearch/indices/state/SimpleIndexStateIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
comments:
Cleanup IndexMetaData

This commit cleans up IndexMetaData. In particular, all duplicate
getters (X and getX) have been collapsed into one (getX). Further, the
number of shards and number of replicas settings are now parsed once
and saved off as fields.

time:
2015-10-14T18:46:45Z
class:
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/plugins/PluginInfo.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java
core/src/main/java/org/elasticsearch/plugins/PluginSecurity.java
core/src/test/java/org/elasticsearch/bootstrap/BootstrapForTesting.java
core/src/test/java/org/elasticsearch/bootstrap/ESPolicyTests.java
core/src/test/java/org/elasticsearch/bootstrap/MockPluginPolicy.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerPermissionTests.java
core/src/test/java/org/elasticsearch/plugins/PluginSecurityTests.java
comments:
Decentralize plugin security

* Add ability for plugins to declare additional permissions with a custom plugin-security.policy file and corresponding AccessController logic. See the plugin author's guide for more information.
* Add warning messages to users for extra plugin permissions in bin/plugin.
* When bin/plugin is run interactively (stdin is a controlling terminal and -b/--batch not supplied), require user confirmation.
* Improve unit test and IDE support for plugins with additional permissions by exposing plugin's metadata as a maven test resource.

Closes #14108

Squashed commit of the following:

commit cf8ace65a7397aaccd356bf55f95d6fbb8bb571c
Author: Robert Muir <rmuir@apache.org>
Date:   Wed Oct 14 13:36:05 2015 -0400

    fix new unit test from master merge

commit 9be3c5aa38f2d9ae50f3d54924a30ad9cddeeb65
Merge: 2f168b8 7368231
Author: Robert Muir <rmuir@apache.org>
Date:   Wed Oct 14 12:58:31 2015 -0400

    Merge branch 'master' into off_my_back

commit 2f168b8038e32672f01ad0279fb5db77ba902ae8
Author: Robert Muir <rmuir@apache.org>
Date:   Wed Oct 14 12:56:04 2015 -0400

    improve plugin author documentation

commit 6e6c2bfda68a418d92733ac22a58eec35508b2d0
Author: Robert Muir <rmuir@apache.org>
Date:   Wed Oct 14 12:52:14 2015 -0400

    move security confirmation after 'plugin already installed' check, to prevent user from answering unnecessary questions.

commit 08233a2972554afef2a6a7521990283102e20d92
Author: Robert Muir <rmuir@apache.org>
Date:   Wed Oct 14 05:36:42 2015 -0400

    Add documentation and pluginmanager support

commit 05dad86c51488ba43ccbd749f0164f3fbd3aee62
Author: Robert Muir <rmuir@apache.org>
Date:   Wed Oct 14 02:22:24 2015 -0400

    Decentralize plugin permissions (modulo docs and pluginmanager work)

time:
2015-10-14T13:11:31Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
comments:
fix failing test

time:
2015-10-14T12:59:38Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerPermissionTests.java
comments:
Plugins: plugin script to set proper plugin bin dir attributes

This commit makes sure that the plugin script looks at user, group and permissions of the elasticsearch bin dir and copies them over to the plugin bin subdirectory, whatever they are, so that they get properly setup depending on how elasticsearch was installed. We also make sure that execute permissions are added for files (we already did this before).

Relates to #11016
Closes #14088

time:
2015-10-14T10:18:25Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerTests.java
comments:
put back active/inactive logic, for sync'd flush

time:
2015-10-14T09:41:41Z
class:
core/src/main/java/org/elasticsearch/cluster/ClusterModule.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/translog/BufferingTranslogWriter.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/index/translog/TranslogConfig.java
core/src/main/java/org/elasticsearch/index/translog/TranslogWriter.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineSettingsTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerIT.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerTests.java
comments:
a start

time:
2015-10-14T09:36:02Z
class:
core/src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesIT.java
comments:
use lambdas

time:
2015-10-14T09:32:57Z
class:
core/src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesIT.java
comments:
remove unneeded Exception and handling thereof

time:
2015-10-14T08:57:35Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
Merge pull request #14107 from s1monw/release_searcher_on_wrapper_failure

Ensure searcher is release if wrapping fails

time:
2015-10-14T08:57:05Z
class:
comments:
Merge pull request #14105 from s1monw/upgrade_netty_3_10_5_final

Upgrade Netty to 3.10.5.final

time:
2015-10-14T08:56:38Z
class:
comments:
Upgrade Netty to 3.10.5.final

This fixes a critical bug in SSL handling.

See http://netty.io/news/2015/10/13/3-10-5-Final.html

time:
2015-10-14T08:44:57Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
Ensure searcher is release if wrapping fails

Today we leak an index searcher if we fail to wrap the seacher in
IndexShard. This commit ensures that the seacher is released if the wrapper
throws an exception.

This commit also restructures some test to be more atomic and only test a single
feature / attribute of the wrapper.

time:
2015-10-14T08:02:49Z
class:
comments:
Merge pull request #14097 from timschlechter/patch-4

Added link to Swagger for Elasticsearch

time:
2015-10-14T07:39:30Z
class:
core/src/main/java/org/elasticsearch/common/lucene/index/ElasticsearchDirectoryReader.java
core/src/main/java/org/elasticsearch/common/lucene/index/ElasticsearchLeafReader.java
core/src/main/java/org/elasticsearch/common/lucene/uid/Versions.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataCache.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexOrdinalsFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexParentChildFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/GlobalOrdinalsIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexOrdinalsFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/IndexIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/SortedSetDVOrdinalsIndexFieldData.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/shard/IndexSearcherWrapper.java
core/src/main/java/org/elasticsearch/index/shard/ShardUtils.java
core/src/main/java/org/elasticsearch/indices/IndicesWarmer.java
core/src/main/java/org/elasticsearch/indices/cache/request/IndicesRequestCache.java
core/src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSource.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/test/java/org/elasticsearch/common/lucene/index/ESDirectoryReaderTests.java
core/src/test/java/org/elasticsearch/common/lucene/uid/VersionsTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/shard/IndexSearcherWrapperTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/test/engine/AssertingSearcher.java
core/src/test/java/org/elasticsearch/test/engine/MockEngineSupport.java
comments:
Merge pull request #14084 from s1monw/close_the_wrapper_only

Streamline top level reader close listeners and forbid general usage

time:
2015-10-14T07:28:05Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexSearcherWrapper.java
comments:
add javadocs

time:
2015-10-14T07:19:02Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexSearcherWrapper.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
apply review comments

time:
2015-10-14T02:14:13Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
comments:
Do not pollute Cache with failed futures

time:
2015-10-14T01:16:23Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
core/src/test/java/org/elasticsearch/common/cache/CacheTests.java
comments:
Merge pull request #14091 from jasontedor/no-deadlocks-in-compute-if-absent

Avoid deadlocks in Cache#computeIfAbsent

time:
2015-10-14T01:15:28Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
core/src/test/java/org/elasticsearch/common/cache/CacheTests.java
comments:
Avoid deadlocks in Cache#computeIfAbsent

This commit changes the behavior of Cache#computeIfAbsent to not invoke
load for a key under the segment lock. Instead, the synchronization
mechanism to ensure that load is invoked at most once per key is
through the use of a future. Under the segment lock, we put a future in
the cache and through this ensure that load is invoked at most once per
key. This will not lead to the same deadlock situation as before
because a dependent key load on the same thread can not be triggered
while the segment lock is held.

Closes #14090

time:
2015-10-13T21:31:25Z
class:
core/src/main/java/org/elasticsearch/common/lucene/index/ElasticsearchDirectoryReader.java
core/src/main/java/org/elasticsearch/common/lucene/index/ElasticsearchLeafReader.java
core/src/main/java/org/elasticsearch/index/shard/IndexSearcherWrapper.java
core/src/test/java/org/elasticsearch/common/lucene/index/ESDirectoryReaderTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexSearcherWrapperTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/test/engine/MockEngineSupport.java
comments:
enforce that wrappers delegate core cache key and ban getCombinedCoreAndDeletesKey() entirely

time:
2015-10-13T19:29:53Z
class:
comments:
Added link to Swagger for Elasticsearch

time:
2015-10-13T19:17:09Z
class:
comments:
Merge pull request #14096 from speedplane/patch-2

Fixed a typo ("when when")

time:
2015-10-13T19:06:20Z
class:
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
comments:
add comment why and when we have a leaf reader in the warmer

time:
2015-10-13T19:03:46Z
class:
comments:
Update fuzzy-query.asciidoc

Closes #14092

time:
2015-10-13T18:51:43Z
class:
core/src/main/java/org/elasticsearch/index/engine/Engine.java
comments:
fix typo

time:
2015-10-13T18:51:10Z
class:
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
Add simple tests to ensure we can load and unload global ordinal with a wrapped reader

time:
2015-10-13T16:33:53Z
class:
core/src/test/java/org/elasticsearch/gateway/MetaDataWriteDataNodesIT.java
comments:
fix access denied for shard deletion with WindowsFS

We randomly use the WindowsFS mock file system to simulate that
windows does not delete files if they are opened by some other
process and instead gives you java.io.IOException: access denied.
In the tests we also check if the shard was deleted while it is
being deleted. This check loads the mata data of the index
and therefore might hold on to a file while the node
is trying to delete it and deletion will fail then.

Instead we should just check if the directory was removed.

closes #13758

time:
2015-10-13T15:21:46Z
class:
core/src/main/java/org/elasticsearch/common/lucene/index/ElasticsearchDirectoryReader.java
core/src/main/java/org/elasticsearch/common/lucene/index/ElasticsearchLeafReader.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/shard/IndexSearcherWrapper.java
core/src/test/java/org/elasticsearch/index/shard/IndexSearcherWrapperTests.java
comments:
Add more pickyness to index warming and searcher wrappping

this commit also fixes a bug where we wramed a leaf reader in a top level context
which caused atomic segment readers to be used in our top level caches.

time:
2015-10-13T15:21:46Z
class:
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/shard/IndexSearcherWrapper.java
core/src/main/java/org/elasticsearch/indices/IndicesWarmer.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexSearcherWrapperTests.java
comments:
Cast DirectoryReader only when really requested

time:
2015-10-13T15:21:46Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexSearcherWrapper.java
comments:
remove unnecessary cast

time:
2015-10-13T15:21:46Z
class:
core/src/main/java/org/elasticsearch/common/lucene/index/ElasticsearchDirectoryReader.java
core/src/main/java/org/elasticsearch/common/lucene/uid/Versions.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataCache.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexOrdinalsFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexParentChildFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/GlobalOrdinalsIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexOrdinalsFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/IndexIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/SortedSetDVOrdinalsIndexFieldData.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/shard/ShardUtils.java
core/src/main/java/org/elasticsearch/indices/IndicesWarmer.java
core/src/main/java/org/elasticsearch/indices/cache/request/IndicesRequestCache.java
core/src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
core/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSource.java
core/src/main/java/org/elasticsearch/search/internal/ContextIndexSearcher.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/test/engine/AssertingSearcher.java
comments:
enforce DirectoryReader when globals are loaded

time:
2015-10-13T15:21:18Z
class:
core/src/main/java/org/elasticsearch/common/lucene/index/ElasticsearchDirectoryReader.java
core/src/main/java/org/elasticsearch/common/lucene/index/ElasticsearchLeafReader.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataCache.java
core/src/main/java/org/elasticsearch/index/shard/IndexSearcherWrapper.java
core/src/main/java/org/elasticsearch/index/shard/ShardUtils.java
core/src/main/java/org/elasticsearch/indices/cache/request/IndicesRequestCache.java
core/src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
core/src/test/java/org/elasticsearch/common/lucene/uid/VersionsTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/shard/IndexSearcherWrapperTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
Streamline top level reader close listeners and forbid general usage

IndexReader#addReaderCloseListener is very error prone when it comes to
caching and reader wrapping. The listeners are not delegated to the sub readers
nor can it's implementation change since it's final in the base class. This commit
only allows installing close listeners on the top level ElasticsearchDirecotryReader
which is known to work an has a defined lifetime which corresponds to its subreader.
This ensure that cachesa re cleared once the reader goes out of scope.

time:
2015-10-13T13:59:32Z
class:
core/src/test/java/org/elasticsearch/test/TestCluster.java
comments:
[TEST] do not wipe excluded templates

In #13606, the ability to exclude a template from being wiped was added but a call to
wipeTemplates() was not removed, so all index templates were still being removed.

This change removes the wipeTemplates() call in the wipe method so that only the
non-excluded templates are removed.

time:
2015-10-13T13:56:26Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerPermissionTests.java
comments:
Plugins: plugin script to set proper plugin config dir attributes

Depending on how elasticsearch is installed, we have two scenarios to take into account that relate to user, group and permissions assigned to the config directory:

1) deb/rpm package: /etc/elasticsearch is root:elasticsearch 750 and the plugin script is run from root user
2) tar/zip archive: es config dir is most likely elasticsearch:elasticsearch and the plugin script is most likely run from elasticsearch user

When the plugin script copies over the plugin config dir within the es config dir, it should take care of setting the proper user, group and permissions, which vary depending on how elasticsearch was installed in the first place. Should be root:elasticsearch 750 if installed from a package, or elasticsearch:elasticsearch if installed from an archive.

This commit makes sure that the plugin script looks at user, group and permissions of the config dir and copies them over to the plugin config subdirectory, whatever they are, so that they get properly setup depending on how elasticsearch was installed in the first place. We also make sure that execute permissions are left untouched for files.

Relates to #11016
Closes #14048

time:
2015-10-13T13:21:04Z
class:
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreTests.java
comments:
Merge pull request #14085 from brwe/fix-score-accuracy

fix numerical issue in function score query

time:
2015-10-13T13:12:10Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/test/java/org/elasticsearch/common/io/stream/BytesStreamsTests.java
comments:
Merge pull request #14087 from jasontedor/vle-integral-arrays

Add methods for variable-length encoding integral arrays

time:
2015-10-13T13:00:04Z
class:
core/src/main/java/org/elasticsearch/common/lucene/uid/PerThreadIDAndVersionLookup.java
core/src/main/java/org/elasticsearch/common/lucene/uid/Versions.java
core/src/test/java/org/elasticsearch/common/lucene/uid/VersionLookupTests.java
core/src/test/java/org/elasticsearch/common/lucene/uid/VersionsTests.java
comments:
Make PerThreadIDAndVersionLookup per-segment

Closes #14070

Squashed commit of the following:

commit ad5829e590cf6150763c31886e97d69976b7f02d
Author: Robert Muir <rmuir@apache.org>
Date:   Tue Oct 13 06:50:25 2015 -0400

    Add more tests for version map caching

commit 617333eefd6d4ddc99db491d0843827b1b5936b2
Author: Robert Muir <rmuir@apache.org>
Date:   Mon Oct 12 13:25:51 2015 -0400

    fix javadocs ref

commit 9626dd02e01a2676538e1071e302d882fc870837
Author: Robert Muir <rmuir@apache.org>
Date:   Mon Oct 12 13:23:16 2015 -0400

    make the version map cache per-segment

time:
2015-10-13T12:48:40Z
class:
core/src/test/java/org/elasticsearch/action/support/master/TransportMasterNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ClusterStateCreationUtils.java
comments:
Merge pull request #13998 from ywelsch/tests/transportmasternodeaction

Tests for TransportMasterNodeAction

time:
2015-10-13T12:47:42Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/test/java/org/elasticsearch/common/io/stream/BytesStreamsTests.java
comments:
Add methods for variable-length encoding integral arrays

This commit adds methods to serialize the elements of int and long
arrays using variable-length encodings. This can be useful for
serializing int and long arrays containing mostly non-negative “not
large” values in a compressed form.

time:
2015-10-13T12:46:59Z
class:
core/src/test/java/org/elasticsearch/action/support/master/TransportMasterNodeActionTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ClusterStateCreationUtils.java
comments:
[TEST] Add tests for TransportMasterNodeAction

Closes #13998

time:
2015-10-13T12:35:32Z
class:
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
comments:
assert that doc was actually found

time:
2015-10-13T11:56:46Z
class:
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
comments:
Fix import in SharedClusterSnapshotRestoreIT

time:
2015-10-13T11:36:02Z
class:
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
comments:
Merge pull request #13931 from ywelsch/fix/index-settings-restore

Snapshot restore and index creates should keep index settings and cluster blocks in sync

time:
2015-10-13T11:33:34Z
class:
comments:
Parse Java system properties in plugin.bat

Closes #13616

time:
2015-10-13T11:30:53Z
class:
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreTests.java
comments:
use same score computation for actual scoring and explanation

FiltersFunctionScoreQuery sums up scores and weights and scores as double but when
we explain we cannot get the double scores from the explanation of score
functions. as a result we cannot compute the exact score from the explanations
of the functions alone.
this commit makes the explanation more accurate but also causes the score to be
computed one additional time.

time:
2015-10-13T10:58:19Z
class:
core/src/main/java/org/elasticsearch/bootstrap/JarHell.java
core/src/test/java/org/elasticsearch/bootstrap/JarHellTests.java
comments:
Merge pull request #14064 from rmuir/blinded_forever

Allow tests to run from eclipse on windows

time:
2015-10-13T09:54:37Z
class:
core/src/main/java/org/elasticsearch/common/lucene/search/function/FiltersFunctionScoreQuery.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreTests.java
comments:
fix numerical issue in function score query

we should sum the weights as double to not lose precision. also,
the tests should simulate exactly what function score does and then test
for equality of scores.

time:
2015-10-13T09:48:15Z
class:
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataCache.java
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/GlobalOrdinalsIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/IndexIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
core/src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
core/src/test/java/org/elasticsearch/index/fielddata/NoOrdinalsStringFieldDataTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreTests.java
comments:
Merge pull request #14072 from s1monw/remove_clear_index_reader

Remove unused clear(IndexReader) method from IndexFieldData

time:
2015-10-13T09:32:31Z
class:
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataCache.java
core/src/main/java/org/elasticsearch/index/fielddata/ordinals/GlobalOrdinalsIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/AbstractIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/IndexIndexFieldData.java
core/src/main/java/org/elasticsearch/index/fielddata/plain/ParentChildIndexFieldData.java
core/src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
core/src/test/java/org/elasticsearch/index/fielddata/NoOrdinalsStringFieldDataTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreTests.java
comments:
Remove unused clear(IndexReader) method from IndexFieldData

This method is unused can can simply be removed. It's rather confusing
instead since it's another way of invalidating a cache entry but not through
the close listener.

time:
2015-10-13T08:59:17Z
class:
core/src/main/java/org/elasticsearch/common/lucene/search/function/ScriptScoreFunction.java
comments:
Fix the quotes in the explain message for a script score function without parameters

time:
2015-10-13T07:59:00Z
class:
comments:
Merge remote-tracking branch 'origin/master'

time:
2015-10-13T07:43:25Z
class:
comments:
Merge branch 'maven/assembly-26'

time:
2015-10-13T07:42:54Z
class:
comments:
Merge pull request #14066 from sarwarbhuiyan/mapping-spelling-error

changed ben to been

time:
2015-10-13T07:18:17Z
class:
core/src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisServiceTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/AbstractTermQueryTestCase.java
comments:
Merge branch 'master' into feature/search-request-refactoring

time:
2015-10-12T21:24:21Z
class:
core/src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisServiceTests.java
comments:
Merge pull request #14027 from jpountz/deprecate/default_index

Deprecate `index.analysis.analyzer.default_index` in favor of `index.analysis.analyzer.default`.

time:
2015-10-12T20:52:02Z
class:
comments:
Update to maven-assembly-plugin 2.6

* [https://issues.apache.org/jira/browse/MASSEMBLY-780](MASSEMBLY-780): Snappy supported

time:
2015-10-12T20:19:16Z
class:
core/src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
core/src/test/java/org/elasticsearch/index/analysis/AnalysisServiceTests.java
comments:
Deprecate `index.analysis.analyzer.default_index` in favor of `index.analysis.analyzer.default`.

Close #11861

time:
2015-10-12T14:16:49Z
class:
comments:
changed he to the

time:
2015-10-12T13:39:55Z
class:
comments:
changed ben to been

time:
2015-10-12T12:08:11Z
class:
core/src/main/java/org/elasticsearch/bootstrap/JarHell.java
core/src/test/java/org/elasticsearch/bootstrap/JarHellTests.java
comments:
Support "bogus" windows classpath entries in JarHell.

time:
2015-10-12T11:54:14Z
class:
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/apache/lucene/search/postingshighlight/CustomPassageFormatter.java
core/src/main/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighter.java
core/src/main/java/org/apache/lucene/search/postingshighlight/Snippet.java
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/RenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/RenderSearchTemplateRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/RenderSearchTemplateRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/RenderSearchTemplateResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/TransportRenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
core/src/main/java/org/elasticsearch/action/search/ClearScrollResponse.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchHelper.java
core/src/main/java/org/elasticsearch/client/Client.java
core/src/main/java/org/elasticsearch/client/ClusterAdminClient.java
core/src/main/java/org/elasticsearch/client/IndicesAdminClient.java
core/src/main/java/org/elasticsearch/client/node/NodeClient.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/client/transport/support/TransportProxyClient.java
core/src/main/java/org/elasticsearch/cluster/ClusterInfo.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/EmptyClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/RestoreInProgress.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/DjbHashFunction.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/Murmur3HashFunction.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTableValidation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/cluster/settings/DynamicSettings.java
core/src/main/java/org/elasticsearch/common/Table.java
core/src/main/java/org/elasticsearch/common/blobstore/fs/FsBlobContainer.java
core/src/main/java/org/elasticsearch/common/blobstore/url/URLBlobContainer.java
core/src/main/java/org/elasticsearch/common/cache/Cache.java
core/src/main/java/org/elasticsearch/common/cache/CacheBuilder.java
core/src/main/java/org/elasticsearch/common/cache/CacheLoader.java
core/src/main/java/org/elasticsearch/common/cache/RemovalListener.java
core/src/main/java/org/elasticsearch/common/cache/RemovalNotification.java
core/src/main/java/org/elasticsearch/common/collect/MapBuilder.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider2.java
core/src/main/java/org/elasticsearch/common/inject/internal/MoreTypes.java
core/src/main/java/org/elasticsearch/common/inject/internal/Nullability.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
core/src/main/java/org/elasticsearch/common/lucene/search/NoopCollector.java
core/src/main/java/org/elasticsearch/common/path/PathTrie.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/transport/TransportAddressSerializers.java
core/src/main/java/org/elasticsearch/common/util/CollectionUtils.java
core/src/main/java/org/elasticsearch/common/util/concurrent/BaseFuture.java
core/src/main/java/org/elasticsearch/gateway/DanglingIndicesState.java
core/src/main/java/org/elasticsearch/gateway/GatewayService.java
core/src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
core/src/main/java/org/elasticsearch/http/HttpServer.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexServicesProvider.java
core/src/main/java/org/elasticsearch/index/aliases/IndexAliasesService.java
core/src/main/java/org/elasticsearch/index/analysis/Analysis.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
core/src/main/java/org/elasticsearch/index/analysis/NGramTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SnowballAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/cache/request/ShardRequestCache.java
core/src/main/java/org/elasticsearch/index/codec/postingsformat/BloomFilterPostingsFormat.java
core/src/main/java/org/elasticsearch/index/codec/postingsformat/Elasticsearch090PostingsFormat.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
core/src/main/java/org/elasticsearch/index/get/GetResult.java
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/Mapping.java
core/src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/ParsedQuery.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/search/stats/ShardSearchStats.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/index/similarity/DFRSimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/IBSimilarityProvider.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshots.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/cache/request/IndicesRequestCache.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
core/src/main/java/org/elasticsearch/indices/flush/IndicesSyncedFlushResult.java
core/src/main/java/org/elasticsearch/indices/flush/ShardsSyncedFlushResult.java
core/src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
core/src/main/java/org/elasticsearch/indices/query/IndicesQueriesRegistry.java
core/src/main/java/org/elasticsearch/monitor/jvm/DeadlockAnalyzer.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmMonitorService.java
core/src/main/java/org/elasticsearch/node/service/NodeService.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/percolator/QueryCollector.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/repositories/RepositoriesService.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/validate/template/RestRenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodeAttrsAction.java
core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java
core/src/main/java/org/elasticsearch/script/ScriptModes.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationStreams.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregations.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/BucketStreams.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/tdigest/TDigestState.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorStreams.java
core/src/main/java/org/elasticsearch/search/dfs/DfsPhase.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/explain/ExplainFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/matchedqueries/MatchedQueriesFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/script/ScriptFieldsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/source/FetchSourceSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/version/VersionFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
core/src/main/java/org/elasticsearch/search/lookup/IndexLookup.java
core/src/main/java/org/elasticsearch/search/lookup/LeafFieldsLookup.java
core/src/main/java/org/elasticsearch/search/lookup/SearchLookup.java
core/src/main/java/org/elasticsearch/search/lookup/SourceLookup.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/rescore/RescorePhase.java
core/src/main/java/org/elasticsearch/search/sort/SortParseElement.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestPhase.java
core/src/main/java/org/elasticsearch/search/suggest/completion/Completion090PostingsFormat.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
core/src/test/java/org/apache/lucene/search/postingshighlight/CustomPassageFormatterTests.java
core/src/test/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighterTests.java
core/src/test/java/org/apache/lucene/search/postingshighlight/CustomSeparatorBreakIteratorTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/upgrade/UpgradeReallyOldIndexIT.java
core/src/test/java/org/elasticsearch/action/support/replication/ClusterStateCreationUtils.java
core/src/test/java/org/elasticsearch/benchmark/cluster/ClusterAllocationRerouteBenchmark.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/RecoveryWithUnsupportedIndicesIT.java
core/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/client/AbstractClientHeadersTestCase.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/DiskUsageTests.java
core/src/test/java/org/elasticsearch/cluster/MockInternalClusterInfoService.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeServiceTests.java
core/src/test/java/org/elasticsearch/cluster/node/DiscoveryNodeFiltersTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityUponUpgradeIT.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingTableTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AddIncrementallyTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AwarenessAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceConfigurationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FilterRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferLocalPrimariesToRelocatingPrimariesTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SameShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/StartedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/cluster/routing/operation/hash/murmur3/Murmur3HashFunctionTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/DiffableTests.java
core/src/test/java/org/elasticsearch/cluster/structure/RoutingIteratorTests.java
core/src/test/java/org/elasticsearch/common/cache/CacheTests.java
core/src/test/java/org/elasticsearch/common/cli/CliToolTests.java
core/src/test/java/org/elasticsearch/common/collect/CopyOnWriteHashMapTests.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/common/lucene/LuceneTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQueryTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/morelikethis/MoreLikeThisQueryTests.java
core/src/test/java/org/elasticsearch/common/lucene/uid/VersionsTests.java
core/src/test/java/org/elasticsearch/common/path/PathTrieTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/XContentMapValuesTests.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/discovery/ZenFaultDetectionTests.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/IndexServiceTests.java
core/src/test/java/org/elasticsearch/index/aliases/IndexAliasesServiceTests.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/codec/postingformat/Elasticsearch090RWPostingsFormat.java
core/src/test/java/org/elasticsearch/index/codec/postingformat/PostingsFormatTests.java
core/src/test/java/org/elasticsearch/index/engine/EngineSearcherTotalHitsMatcher.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractStringFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/binary/BinaryMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/BinaryFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/store/IndexStoreBWCTests.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerIT.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerIT.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ShardSizeTermsIT.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/search/query/ExistsMissingIT.java
core/src/test/java/org/elasticsearch/search/scroll/SearchScrollIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/rest/section/ApiCallSection.java
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTestCase.java
core/src/test/java/org/elasticsearch/transport/netty/NettyScheduledPingTests.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
core/src/test/java/org/elasticsearch/validate/RenderSearchTemplateIT.java
comments:
Merge branch 'master' into feature/search-request-refactoring

# Conflicts:
#	core/src/main/java/org/elasticsearch/search/SearchService.java
#	core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
#	core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java

time:
2015-10-12T10:38:14Z
class:
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/AbstractTermQueryTestCase.java
comments:
Tests: Avoid unicode strings for alternative versions in query builder tests

time:
2015-10-12T09:56:00Z
class:
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/test/java/org/elasticsearch/action/admin/indices/create/CreateIndexIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
comments:
Snapshot restore and index creates should keep index settings and cluster blocks in sync

Restoring an index from a snapshot or creating a new index can bring the index settings index.blocks.read_only, index.blocks.read, index.blocks.write and index.blocks.metadata out-of-sync with the corresponding cluster blocks.

Closes #13931

time:
2015-10-11T20:00:32Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexServicesProvider.java
core/src/main/java/org/elasticsearch/index/aliases/IndexAliasesService.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/IndexServiceTests.java
core/src/test/java/org/elasticsearch/index/aliases/IndexAliasesServiceTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerIT.java
comments:
Merge pull request #14044 from s1monw/trash_alias_service

Fold IndexAliasesService into IndexService

time:
2015-10-11T19:48:22Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexAliasesService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataMappingService.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexServicesProvider.java
core/src/main/java/org/elasticsearch/index/aliases/IndexAliasesService.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/search/internal/DefaultSearchContext.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/IndexServiceTests.java
core/src/test/java/org/elasticsearch/index/aliases/IndexAliasesServiceTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerIT.java
comments:
Fold IndexAliasesService into IndexService

The IndexAliasesService abstraction only adds unnecessary code and classes
and can be removed. This commit folds the rather simple methods in this
class into IndexService where the IndexAliasesService was obtained from in the past.

time:
2015-10-11T18:54:54Z
class:
core/src/test/java/org/elasticsearch/test/ESIntegTestCase.java
comments:
[TEST] only use internal API if we are running against an internal cluster

time:
2015-10-09T20:07:19Z
class:
core/src/main/java/org/elasticsearch/common/collect/MapBuilder.java
comments:
Remove Deprecated tags from o.e.c.c.MapBuilder#immutableMap

time:
2015-10-09T19:52:41Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/client/node/NodeClient.java
core/src/main/java/org/elasticsearch/cluster/EmptyClusterInfoService.java
core/src/main/java/org/elasticsearch/common/util/concurrent/BaseFuture.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
comments:
Merge pull request #14054 from jasontedor/guava-be-gone

Remove Guava as a dependency

time:
2015-10-09T18:19:22Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportNodesSnapshotsStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/client/node/NodeClient.java
core/src/main/java/org/elasticsearch/cluster/EmptyClusterInfoService.java
core/src/main/java/org/elasticsearch/common/util/concurrent/BaseFuture.java
core/src/main/java/org/elasticsearch/transport/TransportService.java
comments:
Remove Guava as a dependency

This commit removes Guava as a dependency. Note that Guava will remain
as a test-only dependency (transitively through Jimfs).

Closes #13224

time:
2015-10-09T17:59:47Z
class:
comments:
Merge pull request #14053 from jasontedor/upgrade-mustache

Update mustache.java to version 0.9.1

time:
2015-10-09T17:56:44Z
class:
comments:
Update mustache.java to version 0.9.1

This commit upgrades mustache.java to version 0.9.1. The primary motive
for this is because version 0.8.13 depends on Guava, but version 0.9.1
does not.

Relates #13224

time:
2015-10-09T17:22:08Z
class:
comments:
Merge pull request #14052 from nik9000/remove_signatures

Remove unused forbidden-api file

time:
2015-10-09T17:16:54Z
class:
comments:
[build] Remove unused forbidden-api file

time:
2015-10-09T16:56:17Z
class:
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/TransportSnapshotsStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/state/TransportClusterStateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/GetFieldMappingsResponse.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/mapping/get/TransportGetFieldMappingsIndexAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/action/search/type/TransportSearchHelper.java
core/src/main/java/org/elasticsearch/client/node/NodeClient.java
core/src/main/java/org/elasticsearch/client/transport/support/TransportProxyClient.java
core/src/main/java/org/elasticsearch/cluster/ClusterInfo.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/InternalClusterInfoService.java
core/src/main/java/org/elasticsearch/cluster/RestoreInProgress.java
core/src/main/java/org/elasticsearch/cluster/SnapshotsInProgress.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexStateService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataUpdateSettingsService.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/IndexShardRoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTableValidation.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/cluster/service/InternalClusterService.java
core/src/main/java/org/elasticsearch/cluster/settings/DynamicSettings.java
core/src/main/java/org/elasticsearch/common/Table.java
core/src/main/java/org/elasticsearch/common/blobstore/fs/FsBlobContainer.java
core/src/main/java/org/elasticsearch/common/blobstore/url/URLBlobContainer.java
core/src/main/java/org/elasticsearch/common/collect/MapBuilder.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider2.java
core/src/main/java/org/elasticsearch/common/inject/internal/MoreTypes.java
core/src/main/java/org/elasticsearch/common/inject/internal/PrivateElementsImpl.java
core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/path/PathTrie.java
core/src/main/java/org/elasticsearch/common/settings/Settings.java
core/src/main/java/org/elasticsearch/common/transport/TransportAddressSerializers.java
core/src/main/java/org/elasticsearch/common/util/CollectionUtils.java
core/src/main/java/org/elasticsearch/gateway/DanglingIndicesState.java
core/src/main/java/org/elasticsearch/gateway/GatewayService.java
core/src/main/java/org/elasticsearch/gateway/LocalAllocateDangledIndices.java
core/src/main/java/org/elasticsearch/http/HttpServer.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/analysis/Analysis.java
core/src/main/java/org/elasticsearch/index/analysis/AnalysisService.java
core/src/main/java/org/elasticsearch/index/analysis/NGramTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/analysis/SnowballAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataService.java
core/src/main/java/org/elasticsearch/index/fieldvisitor/FieldsVisitor.java
core/src/main/java/org/elasticsearch/index/get/GetResult.java
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapper.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/Mapping.java
core/src/main/java/org/elasticsearch/index/query/ParsedQuery.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/search/stats/ShardSearchStats.java
core/src/main/java/org/elasticsearch/index/similarity/DFRSimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/IBSimilarityProvider.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshots.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/flush/IndicesSyncedFlushResult.java
core/src/main/java/org/elasticsearch/indices/flush/ShardsSyncedFlushResult.java
core/src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
core/src/main/java/org/elasticsearch/indices/query/IndicesQueriesRegistry.java
core/src/main/java/org/elasticsearch/monitor/jvm/DeadlockAnalyzer.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmMonitorService.java
core/src/main/java/org/elasticsearch/node/service/NodeService.java
core/src/main/java/org/elasticsearch/repositories/RepositoriesService.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodeAttrsAction.java
core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java
core/src/main/java/org/elasticsearch/script/ScriptModes.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationStreams.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
core/src/main/java/org/elasticsearch/search/aggregations/InternalAggregations.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/BucketStreams.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/PipelineAggregatorStreams.java
core/src/main/java/org/elasticsearch/search/dfs/DfsPhase.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/explain/ExplainFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/innerhits/InnerHitsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/matchedqueries/MatchedQueriesFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/script/ScriptFieldsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/source/FetchSourceSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/version/VersionFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/highlight/HighlightPhase.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHit.java
core/src/main/java/org/elasticsearch/search/lookup/IndexLookup.java
core/src/main/java/org/elasticsearch/search/lookup/LeafFieldsLookup.java
core/src/main/java/org/elasticsearch/search/lookup/SearchLookup.java
core/src/main/java/org/elasticsearch/search/lookup/SourceLookup.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/rescore/RescorePhase.java
core/src/main/java/org/elasticsearch/search/sort/SortParseElement.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestPhase.java
core/src/main/java/org/elasticsearch/search/suggest/completion/Completion090PostingsFormat.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/main/java/org/elasticsearch/threadpool/ThreadPool.java
core/src/main/java/org/elasticsearch/transport/netty/NettyTransport.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
core/src/test/java/org/elasticsearch/action/admin/cluster/health/ClusterHealthResponsesTests.java
core/src/test/java/org/elasticsearch/action/support/replication/ClusterStateCreationUtils.java
core/src/test/java/org/elasticsearch/benchmark/cluster/ClusterAllocationRerouteBenchmark.java
core/src/test/java/org/elasticsearch/client/AbstractClientHeadersTestCase.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/DiskUsageTests.java
core/src/test/java/org/elasticsearch/cluster/MockInternalClusterInfoService.java
core/src/test/java/org/elasticsearch/cluster/node/DiscoveryNodeFiltersTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingTableTests.java
core/src/test/java/org/elasticsearch/cluster/routing/UnassignedInfoTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AddIncrementallyTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AllocationCommandsTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/AwarenessAllocationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/BalanceConfigurationTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/FilterRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/PreferLocalPrimariesToRelocatingPrimariesTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/SameShardRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/StartedShardsRoutingTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
core/src/test/java/org/elasticsearch/cluster/serialization/DiffableTests.java
core/src/test/java/org/elasticsearch/cluster/structure/RoutingIteratorTests.java
core/src/test/java/org/elasticsearch/common/cli/CliToolTests.java
core/src/test/java/org/elasticsearch/common/collect/CopyOnWriteHashMapTests.java
core/src/test/java/org/elasticsearch/common/lucene/uid/VersionsTests.java
core/src/test/java/org/elasticsearch/common/path/PathTrieTests.java
core/src/test/java/org/elasticsearch/common/xcontent/support/XContentMapValuesTests.java
core/src/test/java/org/elasticsearch/discovery/ZenFaultDetectionTests.java
core/src/test/java/org/elasticsearch/gateway/ReplicaShardAllocatorTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/string/SimpleStringMappingTests.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
core/src/test/java/org/elasticsearch/indices/IndicesLifecycleListenerIT.java
core/src/test/java/org/elasticsearch/indices/state/RareClusterStateIT.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ShardSizeTermsIT.java
core/src/test/java/org/elasticsearch/search/fetch/FetchSubPhasePluginIT.java
core/src/test/java/org/elasticsearch/search/query/ExistsMissingIT.java
core/src/test/java/org/elasticsearch/snapshots/SharedClusterSnapshotRestoreIT.java
core/src/test/java/org/elasticsearch/test/rest/section/ApiCallSection.java
core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTestCase.java
core/src/test/java/org/elasticsearch/transport/netty/NettyScheduledPingTests.java
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/JapaneseStopTokenFilterFactory.java
plugins/discovery-multicast/src/main/java/org/elasticsearch/plugin/discovery/multicast/MulticastZenPing.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/TransformOnIndexMapperTests.java
comments:
Merge pull request #13939 from nik9000/immutable_map_be_gone

Remove and ban ImmutableMap

time:
2015-10-09T16:28:55Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Pipeline.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestModule.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestPlugin.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/PipelineStore.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/PipelineStoreClient.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/rest/RestDeletePipelineAction.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/rest/RestGetPipelineAction.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/rest/RestPutPipelineAction.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/delete/DeletePipelineAction.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/delete/DeletePipelineRequest.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/delete/DeletePipelineRequestBuilder.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/delete/DeletePipelineResponse.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/delete/DeletePipelineTransportAction.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/get/GetPipelineAction.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/get/GetPipelineRequest.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/get/GetPipelineRequestBuilder.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/get/GetPipelineResponse.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/get/GetPipelineTransportAction.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/put/PutPipelineAction.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/put/PutPipelineRequest.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/put/PutPipelineRequestBuilder.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/put/PutPipelineResponse.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/put/PutPipelineTransportAction.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/IngestClientIT.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/PipelineStoreClientTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/PipelineStoreTests.java
comments:
added put, get and delete pipeline APIs.

time:
2015-10-09T16:16:13Z
class:
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestPlugin.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/rest/IngestRestFilter.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilter.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilterTests.java
comments:
rename constant name and removed the todo

time:
2015-10-09T16:16:13Z
class:
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestPlugin.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/rest/IngestRestFilter.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilter.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilterTests.java
comments:
prevent IndexRequest from being processed multipel times

time:
2015-10-09T16:16:13Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Data.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/SimpleProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestModule.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestPlugin.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/PipelineExecutionService.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilter.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/BasicTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/PipelineExecutionServiceTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilterTests.java
comments:
Added pipeline execution service that deals with updating data as it comes in using a dedicated thread pool.

Also changed how bulk requests are handled, because before it just didn't work, but added a todo there because it can potentially be handled differently.

time:
2015-10-09T16:08:22Z
class:
core/src/main/java/org/elasticsearch/index/similarity/Similarities.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityLookupService.java
comments:
Remove files accidentally re-added during merge

time:
2015-10-09T16:04:48Z
class:
comments:
Remove forbidden-apis check for cluster

This was useful during the ImmutableMap removal but shouldn't be needed
for normal development.

time:
2015-10-09T16:04:03Z
class:
core/src/main/java/org/apache/lucene/search/postingshighlight/CustomPassageFormatter.java
core/src/main/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighter.java
core/src/main/java/org/apache/lucene/search/postingshighlight/Snippet.java
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/UnavailableShardsException.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/RenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/RenderSearchTemplateRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/RenderSearchTemplateRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/RenderSearchTemplateResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/TransportRenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndexShardSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndexShardStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/IndexShardUpgradeStatus.java
core/src/main/java/org/elasticsearch/action/bulk/BulkResponse.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
core/src/main/java/org/elasticsearch/action/get/MultiGetRequest.java
core/src/main/java/org/elasticsearch/action/get/MultiGetResponse.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/percolate/MultiPercolateResponse.java
core/src/main/java/org/elasticsearch/action/search/ClearScrollResponse.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchResponse.java
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationAction.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsResponse.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/client/Client.java
core/src/main/java/org/elasticsearch/client/ClusterAdminClient.java
core/src/main/java/org/elasticsearch/client/IndicesAdminClient.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/cluster/action/index/MappingUpdatedAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataService.java
core/src/main/java/org/elasticsearch/cluster/routing/DjbHashFunction.java
core/src/main/java/org/elasticsearch/cluster/routing/HashFunction.java
core/src/main/java/org/elasticsearch/cluster/routing/Murmur3HashFunction.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/common/cache/Cache.java
core/src/main/java/org/elasticsearch/common/cache/CacheBuilder.java
core/src/main/java/org/elasticsearch/common/cache/CacheLoader.java
core/src/main/java/org/elasticsearch/common/cache/RemovalListener.java
core/src/main/java/org/elasticsearch/common/cache/RemovalNotification.java
core/src/main/java/org/elasticsearch/common/collect/EvictingQueue.java
core/src/main/java/org/elasticsearch/common/collect/Iterators.java
core/src/main/java/org/elasticsearch/common/geo/GeoPoint.java
core/src/main/java/org/elasticsearch/common/inject/internal/Nullability.java
core/src/main/java/org/elasticsearch/common/io/FileSystemUtils.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
core/src/main/java/org/elasticsearch/common/lucene/search/NoopCollector.java
core/src/main/java/org/elasticsearch/common/lucene/uid/Versions.java
core/src/main/java/org/elasticsearch/common/network/InetAddresses.java
core/src/main/java/org/elasticsearch/common/network/NetworkAddress.java
core/src/main/java/org/elasticsearch/common/network/NetworkService.java
core/src/main/java/org/elasticsearch/common/util/CollectionUtils.java
core/src/main/java/org/elasticsearch/index/IndexServicesProvider.java
core/src/main/java/org/elasticsearch/index/VersionType.java
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/cache/request/ShardRequestCache.java
core/src/main/java/org/elasticsearch/index/codec/postingsformat/BloomFilterPostingsFormat.java
core/src/main/java/org/elasticsearch/index/codec/postingsformat/Elasticsearch090PostingsFormat.java
core/src/main/java/org/elasticsearch/index/engine/CreateFailedEngineException.java
core/src/main/java/org/elasticsearch/index/engine/DeleteByQueryFailedEngineException.java
core/src/main/java/org/elasticsearch/index/engine/DocumentAlreadyExistsException.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/EngineException.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/Segment.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/engine/VersionConflictEngineException.java
core/src/main/java/org/elasticsearch/index/indexing/IndexingOperationListener.java
core/src/main/java/org/elasticsearch/index/indexing/IndexingSlowLog.java
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/Mapper.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/functionscore/exp/ExponentialDecayFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/gauss/GaussDecayFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/lin/LinearDecayFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/index/similarity/BM25SimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/DFRSimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/DefaultSimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/IBSimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/LMDirichletSimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/LMJelinekMercerSimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/PreBuiltSimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityModule.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityService.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/index/translog/TranslogConfig.java
core/src/main/java/org/elasticsearch/index/translog/TranslogStats.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/cache/request/IndicesRequestCache.java
core/src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/monitor/fs/FsInfo.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmStats.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/percolator/QueryCollector.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/hotthreads/RestNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/info/RestNodesInfoAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/stats/RestNodesStatsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/stats/RestClusterStatsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/validate/template/RestRenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/tdigest/TDigestState.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricBuilder.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/SimulatedAnealingMinimizer.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHits.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/test/java/org/apache/lucene/search/postingshighlight/CustomPassageFormatterTests.java
core/src/test/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighterTests.java
core/src/test/java/org/apache/lucene/search/postingshighlight/CustomSeparatorBreakIteratorTests.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/upgrade/UpgradeReallyOldIndexIT.java
core/src/test/java/org/elasticsearch/action/index/IndexRequestTests.java
core/src/test/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationActionTests.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/RecoveryWithUnsupportedIndicesIT.java
core/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityUponUpgradeIT.java
core/src/test/java/org/elasticsearch/cluster/routing/operation/hash/murmur3/Murmur3HashFunctionTests.java
core/src/test/java/org/elasticsearch/common/cache/CacheTests.java
core/src/test/java/org/elasticsearch/common/collect/EvictingQueueTests.java
core/src/test/java/org/elasticsearch/common/collect/IteratorsTests.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/common/io/stream/BytesStreamsTests.java
core/src/test/java/org/elasticsearch/common/lucene/LuceneTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQueryTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/morelikethis/MoreLikeThisQueryTests.java
core/src/test/java/org/elasticsearch/common/network/InetAddressesTests.java
core/src/test/java/org/elasticsearch/common/network/NetworkAddressTests.java
core/src/test/java/org/elasticsearch/common/xcontent/builder/XContentBuilderTests.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/gateway/MetaDataStateFormatTests.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/VersionTypeTests.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/codec/postingformat/Elasticsearch090RWPostingsFormat.java
core/src/test/java/org/elasticsearch/index/codec/postingformat/PostingsFormatTests.java
core/src/test/java/org/elasticsearch/index/engine/EngineSearcherTotalHitsMatcher.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractStringFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeLookupTests.java
core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/binary/BinaryMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/BinaryFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
core/src/test/java/org/elasticsearch/index/mapper/id/IdMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/parent/ParentMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/routing/RoutingTypeMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/similarity/SimilarityModuleTests.java
core/src/test/java/org/elasticsearch/index/similarity/SimilarityTests.java
core/src/test/java/org/elasticsearch/index/store/IndexStoreBWCTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogVersionTests.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerIT.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerTests.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerPermissionTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgUnitTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffIT.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/scroll/SearchScrollIT.java
core/src/test/java/org/elasticsearch/similarity/SimilarityIT.java
core/src/test/java/org/elasticsearch/test/CompositeTestCluster.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/update/UpdateIT.java
core/src/test/java/org/elasticsearch/validate/RenderSearchTemplateIT.java
core/src/test/java/org/elasticsearch/versioning/SimpleVersioningIT.java
comments:
Merge branch 'master' into immutable_map_be_gone

time:
2015-10-09T15:56:15Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
core/src/main/java/org/elasticsearch/common/cache/CacheBuilder.java
core/src/main/java/org/elasticsearch/common/cache/CacheLoader.java
core/src/main/java/org/elasticsearch/common/cache/RemovalListener.java
core/src/main/java/org/elasticsearch/common/cache/RemovalNotification.java
core/src/main/java/org/elasticsearch/index/cache/bitset/BitsetFilterCache.java
core/src/main/java/org/elasticsearch/index/cache/request/ShardRequestCache.java
core/src/main/java/org/elasticsearch/indices/cache/request/IndicesRequestCache.java
core/src/main/java/org/elasticsearch/indices/fielddata/cache/IndicesFieldDataCache.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/test/java/org/elasticsearch/common/cache/CacheTests.java
core/src/test/java/org/elasticsearch/index/cache/bitset/BitSetFilterCacheTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractStringFieldDataTestCase.java
core/src/test/java/org/elasticsearch/indices/memory/breaker/RandomExceptionCircuitBreakerIT.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Merge pull request #13879 from jasontedor/straight-cache-homey

Replace Guava cache with simple concurrent LRU cache

time:
2015-10-09T15:28:05Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
comments:
Mutating the cache while iterating is undefined

time:
2015-10-09T15:10:52Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
comments:
Release locks in reverse order of acquisition

time:
2015-10-09T14:38:22Z
class:
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderUnitTests.java
comments:
Clean up DiskThreasholdDeciderUnitTests

They had made some routing table changes that weren't working. This fixes
the changes to do what they intended.

time:
2015-10-09T14:28:13Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingTableTests.java
comments:
Be more careful with RoutingTable.Builder

RoutingTable.Builder#build can only be called once but didn't have any
checks to make sure it _was_ only called once. And the error message it
threw when called more than once was a NullPointerException. This makes
it throw IllegalStateException when you try to reuse the builder in any way.

time:
2015-10-09T14:12:54Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/BalancedShardsAllocator.java
core/src/main/java/org/elasticsearch/common/util/CollectionUtils.java
comments:
Remove addAll(Collection, Iterable<ObjectCursor>)

It was used just one time and didn't add any value.

time:
2015-10-09T12:53:17Z
class:
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
comments:
Remove unused import in o.e.p.PluginManagerIT

time:
2015-10-09T12:31:25Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
comments:
Plugins: fix error message while copying plugin config dir

The destination directory is the plugin config dir, not bin. Also updated existing code to reuse already declared destBin and destConfig variables.

time:
2015-10-09T10:27:43Z
class:
comments:
Update setup.asciidoc

Added link to the support matrix to Setup docs

time:
2015-10-09T09:43:34Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricBuilder.java
comments:
Merge pull request #14018 from kufi/master

Added correct generic type parameter on ScriptedMetricBuilder

time:
2015-10-09T08:48:12Z
class:
core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
core/src/main/java/org/elasticsearch/common/lucene/search/NoopCollector.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/percolator/QueryCollector.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
core/src/test/java/org/elasticsearch/common/lucene/LuceneTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQueryTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/morelikethis/MoreLikeThisQueryTests.java
core/src/test/java/org/elasticsearch/index/engine/EngineSearcherTotalHitsMatcher.java
comments:
Merge pull request #14042 from jpountz/cleanup/Lucene_exists

Cleanup the Lucene utility class.

time:
2015-10-09T08:16:12Z
class:
core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
core/src/main/java/org/elasticsearch/common/lucene/Lucene.java
core/src/main/java/org/elasticsearch/common/lucene/search/NoopCollector.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/percolator/QueryCollector.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
core/src/test/java/org/elasticsearch/common/lucene/LuceneTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/MultiPhrasePrefixQueryTests.java
core/src/test/java/org/elasticsearch/common/lucene/search/morelikethis/MoreLikeThisQueryTests.java
core/src/test/java/org/elasticsearch/index/engine/EngineSearcherTotalHitsMatcher.java
comments:
Cleanup the Lucene utility class.

 - removes Lucene.count(IndexSearcher,Query) in favor of IndexSearcher.count(Query)
 - removes EarlyTerminatingCollector.reset(): reusing Collector objects does not
   help given that query execution needs to allocate objects (weights, scorers)
   anyway
 - adds unit tests to Lucene.exists

time:
2015-10-09T03:48:33Z
class:
core/src/main/java/org/elasticsearch/action/search/ClearScrollResponse.java
core/src/test/java/org/elasticsearch/search/scroll/SearchScrollIT.java
comments:
Merge pull request #13835 from xuzha/scroll_response

Add rest response for ClearScrollResponsecloses #13817

time:
2015-10-09T03:46:39Z
class:
core/src/main/java/org/elasticsearch/action/search/ClearScrollResponse.java
core/src/test/java/org/elasticsearch/search/scroll/SearchScrollIT.java
comments:
Add response into ClearScrollResponse

When deleting an individual scroll ID, ES does produce a 200 in the
header if successful and a 404 if the scroll ID wasn't found, but
returns empty response body. It will be more user friendly to provide
some information on whether the scroll deletion is successful.

time:
2015-10-08T22:15:52Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
comments:
Comment regarding synchronization in Cache#computeIfAbsent

time:
2015-10-08T21:56:43Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
comments:
Safe locking and unlocking of segments during invalidation

time:
2015-10-08T21:51:16Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
comments:
Safety assertions on head and tail modifications

time:
2015-10-08T21:46:00Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
comments:
Preserve copy of head after taking lock on LRU list

time:
2015-10-08T21:43:15Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
core/src/test/java/org/elasticsearch/common/cache/CacheTests.java
comments:
Use longs for Cache.CacheStats to avoid overflow

time:
2015-10-08T18:33:49Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataService.java
core/src/main/java/org/elasticsearch/cluster/routing/DjbHashFunction.java
core/src/main/java/org/elasticsearch/cluster/routing/HashFunction.java
core/src/main/java/org/elasticsearch/cluster/routing/Murmur3HashFunction.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/SimpleHashFunction.java
core/src/main/java/org/elasticsearch/index/codec/postingsformat/BloomFilterPostingsFormat.java
core/src/main/java/org/elasticsearch/index/codec/postingsformat/Elasticsearch090PostingsFormat.java
core/src/main/java/org/elasticsearch/index/engine/DeleteByQueryFailedEngineException.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/upgrade/UpgradeReallyOldIndexIT.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/bwcompat/RecoveryWithUnsupportedIndicesIT.java
core/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeServiceTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityTests.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityUponUpgradeIT.java
core/src/test/java/org/elasticsearch/cluster/routing/operation/hash/murmur3/Murmur3HashFunctionTests.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/index/codec/postingformat/Elasticsearch090RWPostingsFormat.java
core/src/test/java/org/elasticsearch/index/codec/postingformat/PostingsFormatTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/mapper/binary/BinaryMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/BinaryFieldTypeTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/store/IndexStoreBWCTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
comments:
Merge pull request #13799 from s1monw/remove_delete_by_query_leftoversw

Remove support for pre 2.0 indices

time:
2015-10-08T18:19:27Z
class:
core/src/test/java/org/elasticsearch/index/mapper/binary/BinaryMappingTests.java
comments:
drop binary mapping BWC test

time:
2015-10-08T18:19:27Z
class:
core/src/main/java/org/elasticsearch/index/mapper/core/BinaryFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/DoubleFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/FloatFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/core/NumberFieldMapper.java
core/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatIT.java
core/src/test/java/org/elasticsearch/index/mapper/core/BinaryFieldTypeTests.java
comments:
Drop pre 1.4 binary numeric docvalues support

time:
2015-10-08T18:19:27Z
class:
core/src/test/java/org/elasticsearch/bwcompat/RestoreBackwardsCompatIT.java
comments:
Fix min supported version

time:
2015-10-08T18:19:27Z
class:
core/src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityTests.java
comments:
fix bwc test for hashing / routing and simplify test to be a real unittest

time:
2015-10-08T18:19:27Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataService.java
core/src/main/java/org/elasticsearch/cluster/routing/DjbHashFunction.java
core/src/main/java/org/elasticsearch/cluster/routing/HashFunction.java
core/src/main/java/org/elasticsearch/cluster/routing/Murmur3HashFunction.java
core/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java
core/src/main/java/org/elasticsearch/cluster/routing/SimpleHashFunction.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/test/java/org/elasticsearch/action/admin/indices/upgrade/UpgradeReallyOldIndexIT.java
core/src/test/java/org/elasticsearch/bwcompat/RecoveryWithUnsupportedIndicesIT.java
core/src/test/java/org/elasticsearch/cluster/routing/RoutingBackwardCompatibilityUponUpgradeIT.java
core/src/test/java/org/elasticsearch/cluster/routing/operation/hash/murmur3/Murmur3HashFunctionTests.java
core/src/test/java/org/elasticsearch/discovery/DiscoveryWithServiceDisruptionsIT.java
core/src/test/java/org/elasticsearch/test/ESTestCase.java
comments:
Drop legacy hashfunctions - these tests don't work anymore since we dropped support for them

time:
2015-10-08T18:19:26Z
class:
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/test/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeServiceTests.java
comments:
remove another redundant test

time:
2015-10-08T18:19:26Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/test/java/org/elasticsearch/index/store/IndexStoreBWCTests.java
comments:
remove unnecessary bwc tests

time:
2015-10-08T18:19:26Z
class:
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
comments:
revert rather more complex simplification

time:
2015-10-08T18:19:26Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
comments:
apply review comments

time:
2015-10-08T18:19:26Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
comments:
add additional checks for version compatibility

time:
2015-10-08T18:19:25Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/index/codec/postingsformat/BloomFilterPostingsFormat.java
core/src/main/java/org/elasticsearch/index/codec/postingsformat/Elasticsearch090PostingsFormat.java
core/src/main/java/org/elasticsearch/index/engine/DeleteByQueryFailedEngineException.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/test/java/org/elasticsearch/bwcompat/OldIndexBackwardsCompatibilityIT.java
core/src/test/java/org/elasticsearch/index/codec/postingformat/Elasticsearch090RWPostingsFormat.java
core/src/test/java/org/elasticsearch/index/codec/postingformat/PostingsFormatTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
comments:
Remove support for pre 2.0 indices

This commit removes all index level compatibilty and upgrade paths for
pre 2.0 indices. This includes:

 * Remove leftover from delete_by_query to replay translog records,
since in 3.x all pending delelte_by_query instances are applied on the
upgrade to 2.x we can remove the bwc layer now.

 * Remove Elasticsearch090PostingsFormat - we maintained our own posting format
until 2.0 this is now removed since folks need to upgrade to 2.x first before going
to 3.0
 * Remove BloomFilterPostingFormat - this was only used for ID fields in the Elasticsearch090PostingsFormat
 * Remove upgrade methods to pre 2.0 translogs without checkpoints

time:
2015-10-08T16:42:36Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
comments:
Enforce strict eviction semantics

time:
2015-10-08T16:23:37Z
class:
comments:
Merge pull request #14026 from clintongormley/classpath_docs

Docs: Document ES_CLASSPATH removal in breaking changes

time:
2015-10-08T16:22:53Z
class:
comments:
Docs: Document ES_CLASSPATH removal in breaking changes

Closes #14008

time:
2015-10-08T16:21:30Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
core/src/test/java/org/elasticsearch/common/cache/CacheTests.java
comments:
Cache#computeIfAbsent should throw if loader returns null value

time:
2015-10-08T16:19:00Z
class:
comments:
Merge pull request #14019 from ankon/patch-1

Fix minor typo

time:
2015-10-08T16:17:40Z
class:
comments:
Merge pull request #14031 from ankon/patch-3

Make the sentence actually understandable

time:
2015-10-08T16:09:29Z
class:
comments:
Merge pull request #13999 from kkirsche/patch-2

Document that Debian 8 and Ubuntu 14 systemd

time:
2015-10-08T16:07:50Z
class:
comments:
Merge pull request #14024 from ankon/patch-2

Remove excess comma in code block

time:
2015-10-08T16:04:35Z
class:
comments:
Merge pull request #14022 from Collaborne/docs/contributing-link

Fix the link pointing to the repository

time:
2015-10-08T16:04:02Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
comments:
Correct semantics when loading absent values

time:
2015-10-08T16:01:18Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
comments:
Cache.segments can be final

time:
2015-10-08T15:56:45Z
class:
core/src/test/java/org/elasticsearch/common/cache/CacheTests.java
comments:
More rigorous test around Cache evictions occurring in LRU order

time:
2015-10-08T14:41:42Z
class:
core/src/main/java/org/elasticsearch/client/ClusterAdminClient.java
core/src/main/java/org/elasticsearch/client/IndicesAdminClient.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/validate/template/RestRenderSearchTemplateAction.java
core/src/test/java/org/elasticsearch/validate/RenderSearchTemplateIT.java
comments:
Merge pull request #14030 from jaymode/render_search_client

move render search template methods to cluster admin client

time:
2015-10-08T14:37:17Z
class:
comments:
[doc] Make the sentence actually understandable

time:
2015-10-08T14:28:28Z
class:
core/src/main/java/org/elasticsearch/client/ClusterAdminClient.java
core/src/main/java/org/elasticsearch/client/IndicesAdminClient.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/validate/template/RestRenderSearchTemplateAction.java
core/src/test/java/org/elasticsearch/validate/RenderSearchTemplateIT.java
comments:
move render search template methods to cluster admin client

In #13971, the RenderSearchTemplateAction was made a cluster level action but the client methods
were not moved from the IndicesAdminClient. This is an inconsistency and this change cleans up the
inconsistency so that the client methods are now part of the ClusterAdminClient since the action is now
considered a cluster level action.

time:
2015-10-08T14:20:13Z
class:
core/src/test/java/org/elasticsearch/update/UpdateIT.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/package-info.java
comments:
Merge pull request #13947 from jpountz/fix/ungroovy_AliasesRouting+UpdateIT

Remove UpdateTests' dependency on groovy.

time:
2015-10-08T14:19:00Z
class:
core/src/test/java/org/elasticsearch/update/UpdateIT.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/package-info.java
comments:
Remove UpdateTests' dependency on groovy.

This test had to be moved to lang-groovy when groovy has been made a plugin.
I refactored it a bit to use mock plugins instead so that groovy is not
necessary anymore and it can come back to core.

time:
2015-10-08T13:40:12Z
class:
comments:
Packaging: change permissions/ownership of config dir

When generating the rpm and dep package we now set proper group (elasticsearch) and permissions (750) to the conf dir (default /etc/elasticsearch). Same for the scripts subdirectory.

Expanded the assert_file bash function to also optionally check the group of files, so we can actually test that the group was set correctly.

Relates to #11016
Closes #14017

time:
2015-10-08T13:21:23Z
class:
core/src/main/java/org/apache/lucene/search/postingshighlight/CustomPassageFormatter.java
core/src/main/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighter.java
core/src/main/java/org/apache/lucene/search/postingshighlight/Snippet.java
core/src/main/java/org/elasticsearch/common/inject/internal/Nullability.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/tdigest/TDigestState.java
core/src/test/java/org/apache/lucene/search/postingshighlight/CustomPassageFormatterTests.java
core/src/test/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighterTests.java
core/src/test/java/org/apache/lucene/search/postingshighlight/CustomSeparatorBreakIteratorTests.java
comments:
Merge pull request #14020 from jpountz/enhancement/less_lenient_license_checks

Make license checks a bit less lenient.

time:
2015-10-08T12:33:05Z
class:
comments:
Document that Debian 8 and Ubuntu 14 systemd

Fix #13865

time:
2015-10-08T12:30:54Z
class:
core/src/main/java/org/elasticsearch/common/geo/GeoPoint.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/test/java/org/elasticsearch/common/io/stream/BytesStreamsTests.java
core/src/test/java/org/elasticsearch/common/xcontent/builder/XContentBuilderTests.java
comments:
Merge branch 'master' into feature/search-request-refactoring

time:
2015-10-08T12:06:14Z
class:
core/src/main/java/org/elasticsearch/action/ActionModule.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/RenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/RenderSearchTemplateRequest.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/RenderSearchTemplateRequestBuilder.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/RenderSearchTemplateResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/validate/template/TransportRenderSearchTemplateAction.java
core/src/main/java/org/elasticsearch/client/Client.java
core/src/main/java/org/elasticsearch/client/IndicesAdminClient.java
core/src/main/java/org/elasticsearch/client/support/AbstractClient.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/validate/template/RestRenderSearchTemplateAction.java
core/src/test/java/org/elasticsearch/validate/RenderSearchTemplateIT.java
comments:
rename the RenderSearchTemplateAction to be a cluster level action

The RenderSearchTemplateAction is currently a "indices" action, but the action does not really apply to
indices, it is more of a general action that is used to validate the search template. With our current
categorization of actions, `cluster:` and `indices:`, `cluster:` is a more appropriate type as this action
is not associated with indices. The classes are also moved to a cluster package.

time:
2015-10-08T12:05:09Z
class:
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryBuilderTests.java
core/src/test/java/org/elasticsearch/search/basic/TransportSearchFailuresIT.java
core/src/test/java/org/elasticsearch/search/basic/TransportTwoNodesSearchIT.java
comments:
more test fixes

time:
2015-10-08T11:23:29Z
class:
comments:
Remove excess comma in code block

time:
2015-10-08T10:51:53Z
class:
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
comments:
test: removed the usage of String.valueOf(...), java 8 type inference correctly selects String as type during compile time

time:
2015-10-08T10:51:25Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
comments:
Add minimal javadocs for StreamInput#readGeoPoint()

time:
2015-10-08T10:43:26Z
class:
comments:
Fix the link pointing to the repository

time:
2015-10-08T10:39:34Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/UnavailableShardsException.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndexShardSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndexShardStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/IndexShardUpgradeStatus.java
core/src/main/java/org/elasticsearch/action/bulk/BulkResponse.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/get/MultiGetRequest.java
core/src/main/java/org/elasticsearch/action/get/MultiGetResponse.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/percolate/MultiPercolateResponse.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchResponse.java
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationAction.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsResponse.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/cluster/action/index/MappingUpdatedAction.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/common/collect/EvictingQueue.java
core/src/main/java/org/elasticsearch/common/collect/Iterators.java
core/src/main/java/org/elasticsearch/common/io/FileSystemUtils.java
core/src/main/java/org/elasticsearch/common/lucene/uid/Versions.java
core/src/main/java/org/elasticsearch/common/network/InetAddresses.java
core/src/main/java/org/elasticsearch/common/network/NetworkAddress.java
core/src/main/java/org/elasticsearch/common/network/NetworkService.java
core/src/main/java/org/elasticsearch/common/util/CollectionUtils.java
core/src/main/java/org/elasticsearch/index/IndexServicesProvider.java
core/src/main/java/org/elasticsearch/index/LocalNodeId.java
core/src/main/java/org/elasticsearch/index/LocalNodeIdModule.java
core/src/main/java/org/elasticsearch/index/VersionType.java
core/src/main/java/org/elasticsearch/index/codec/postingsformat/Elasticsearch090PostingsFormat.java
core/src/main/java/org/elasticsearch/index/engine/CreateFailedEngineException.java
core/src/main/java/org/elasticsearch/index/engine/DocumentAlreadyExistsException.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/EngineException.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/Segment.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/engine/VersionConflictEngineException.java
core/src/main/java/org/elasticsearch/index/indexing/IndexingOperationListener.java
core/src/main/java/org/elasticsearch/index/indexing/IndexingSlowLog.java
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/Mapper.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/query/functionscore/exp/ExponentialDecayFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/gauss/GaussDecayFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/lin/LinearDecayFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/index/similarity/BM25SimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/DFRSimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/DefaultSimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/IBSimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/LMDirichletSimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/LMJelinekMercerSimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/PreBuiltSimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/Similarities.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityLookupService.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityModule.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityService.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/index/translog/TranslogConfig.java
core/src/main/java/org/elasticsearch/index/translog/TranslogStats.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/monitor/fs/FsInfo.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmStats.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/hotthreads/RestNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/info/RestNodesInfoAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/stats/RestNodesStatsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/stats/RestClusterStatsAction.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/SimulatedAnealingMinimizer.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHits.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/action/index/IndexRequestTests.java
core/src/test/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationActionTests.java
core/src/test/java/org/elasticsearch/common/collect/EvictingQueueTests.java
core/src/test/java/org/elasticsearch/common/collect/IteratorsTests.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/common/network/InetAddressesTests.java
core/src/test/java/org/elasticsearch/common/network/NetworkAddressTests.java
core/src/test/java/org/elasticsearch/gateway/MetaDataStateFormatTests.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/VersionTypeTests.java
core/src/test/java/org/elasticsearch/index/codec/postingformat/Elasticsearch090RWPostingsFormat.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeLookupTests.java
core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
core/src/test/java/org/elasticsearch/index/mapper/id/IdMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/parent/ParentMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/routing/RoutingTypeMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/similarity/SimilarityModuleTests.java
core/src/test/java/org/elasticsearch/index/similarity/SimilarityTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogVersionTests.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerIT.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerPermissionTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgUnitTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffIT.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
core/src/test/java/org/elasticsearch/similarity/SimilarityIT.java
core/src/test/java/org/elasticsearch/test/CompositeTestCluster.java
core/src/test/java/org/elasticsearch/versioning/SimpleVersioningIT.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/network/Ec2NameResolver.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2NetworkTests.java
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeService.java
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeServiceImpl.java
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/GceModule.java
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/network/GceNameResolver.java
plugins/discovery-gce/src/main/java/org/elasticsearch/discovery/gce/GceDiscovery.java
plugins/discovery-gce/src/main/java/org/elasticsearch/discovery/gce/GceUnicastHostsProvider.java
plugins/discovery-gce/src/main/java/org/elasticsearch/plugin/discovery/gce/GceDiscoveryPlugin.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/DiscoveryGCERestIT.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceComputeServiceMock.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoverySettingsTests.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoveryTests.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceNetworkTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/BulkTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/FunctionScoreTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/UpdateTests.java
comments:
Merge branch 'master' into feature/search-request-refactoring

# Conflicts:
#	plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/FunctionScoreTests.java

time:
2015-10-08T10:33:45Z
class:
core/src/main/java/org/elasticsearch/rest/action/cat/RestCountAction.java
core/src/main/java/org/elasticsearch/rest/action/count/RestCountAction.java
core/src/main/java/org/elasticsearch/rest/action/support/RestActions.java
comments:
more fixes from review

time:
2015-10-08T10:33:14Z
class:
core/src/main/java/org/elasticsearch/common/geo/GeoPoint.java
core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
core/src/test/java/org/elasticsearch/common/xcontent/builder/XContentBuilderTests.java
comments:
Remove unnecessary Writeable implementation from GeoPoint

GeoPoint now has native support in StreamOutput/StreamInput
impementing Writable is not necessary. This also adds tests
for XContentBuilder rendering GeoPoint

time:
2015-10-08T10:09:12Z
class:
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
comments:
test: add explicit generic type to get around a strange issue where the inferred type is char[] while Object is expected.

time:
2015-10-08T10:04:08Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/test/java/org/elasticsearch/common/io/stream/BytesStreamsTests.java
comments:
Merge branch 'pr-13632'

time:
2015-10-08T10:02:19Z
class:
core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
core/src/test/java/org/elasticsearch/common/io/stream/BytesStreamsTests.java
comments:
Add unittest for GeoPoint seriazliation and corresponding writeGeoPoint method

time:
2015-10-08T09:47:55Z
class:
comments:
Fix minor typo

time:
2015-10-08T09:41:15Z
class:
core/src/main/java/org/apache/lucene/search/postingshighlight/CustomPassageFormatter.java
core/src/main/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighter.java
core/src/main/java/org/apache/lucene/search/postingshighlight/Snippet.java
core/src/main/java/org/elasticsearch/common/inject/internal/Nullability.java
core/src/main/java/org/elasticsearch/search/aggregations/metrics/percentiles/tdigest/TDigestState.java
core/src/test/java/org/apache/lucene/search/postingshighlight/CustomPassageFormatterTests.java
core/src/test/java/org/apache/lucene/search/postingshighlight/CustomPostingsHighlighterTests.java
core/src/test/java/org/apache/lucene/search/postingshighlight/CustomSeparatorBreakIteratorTests.java
comments:
Make license checks a bit less lenient.

This fixes license checks to apply to all java files under src/ as opposed to
only those in the org.elasticsearch package. It found some license headers that
had to be reformatted. I also added a missing license header to Nullability.java
however this has not be caught by the license checker since it ignores guice
files.

Relates to #13703

time:
2015-10-08T09:16:25Z
class:
core/src/main/java/org/elasticsearch/search/aggregations/metrics/scripted/ScriptedMetricBuilder.java
comments:
Added correct generic type parameter on ScriptedMetricBuilder
Make ScriptedMetricBuilder class declaration consistent with all other Builder declarations

time:
2015-10-08T08:58:19Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerPermissionTests.java
comments:
Tests: Added missing check if permissions are supported on the filesystem

Two test methods didnt have the required check for permissions, so they were
not skipped under windows, leading to CI failures.

time:
2015-10-08T08:30:14Z
class:
core/src/main/java/org/elasticsearch/action/search/SearchRequest.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/indices/cache/request/IndicesRequestCache.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestCountAction.java
core/src/main/java/org/elasticsearch/rest/action/search/RestMultiSearchAction.java
core/src/main/java/org/elasticsearch/rest/action/support/RestActions.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/main/java/org/elasticsearch/search/internal/ShardSearchLocalRequest.java
core/src/main/java/org/elasticsearch/search/warmer/IndexWarmersMetaData.java
core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java
core/src/test/java/org/elasticsearch/indices/IndicesOptionsIntegrationIT.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
comments:
review fixes

time:
2015-10-08T08:04:52Z
class:
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerPermissionTests.java
comments:
PluginManager: Dont leave leftover files on unsuccessful installs

If the plugin manager cannot successfully install a plugin, ensure
that every directory is cleaned up again. This includes

plugins/foo
config/foo
bin/foo

Closes #12749

time:
2015-10-08T07:53:32Z
class:
core/src/main/java/org/elasticsearch/index/IndexServicesProvider.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/translog/TranslogConfig.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerIT.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerTests.java
comments:
Merge pull request #13918 from mikemccand/immediate_shard_active

When shard becomes active again, immediately increase its indexing buffer instead of waiting for up to 30 seconds while indexing with a tiny (500 KB) indexing buffer.

time:
2015-10-08T07:43:56Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/translog/TranslogStats.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
comments:
Merge pull request #14000 from s1monw/issues/12730

Don't pull translog from shadow engine

time:
2015-10-08T07:24:22Z
class:
core/src/main/java/org/elasticsearch/index/translog/TranslogStats.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
comments:
test and fix TranslogStats - you wouldn't believe how hard it is to sum up two values

time:
2015-10-08T06:53:54Z
class:
comments:
Replace cloud-gce with discovery-gce

Related to #13815

time:
2015-10-08T05:04:11Z
class:
comments:
Fix internal link name

Related to #13815

time:
2015-10-08T04:53:37Z
class:
comments:
Add missing breaking doc for azure and aws

time:
2015-10-08T04:53:37Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Security.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeService.java
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeServiceImpl.java
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/GceModule.java
plugins/discovery-gce/src/main/java/org/elasticsearch/cloud/gce/network/GceNameResolver.java
plugins/discovery-gce/src/main/java/org/elasticsearch/discovery/gce/GceDiscovery.java
plugins/discovery-gce/src/main/java/org/elasticsearch/discovery/gce/GceUnicastHostsProvider.java
plugins/discovery-gce/src/main/java/org/elasticsearch/plugin/discovery/gce/GceDiscoveryPlugin.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/DiscoveryGCERestIT.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceComputeServiceMock.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoverySettingsTests.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoveryTests.java
plugins/discovery-gce/src/test/java/org/elasticsearch/discovery/gce/GceNetworkTests.java
comments:
Rename cloud-gce plugin to discovery-gce plugin

Follow up azure and aws splits, we need to be consistent and rename `cloud-gce` to `discovery-gce`.

time:
2015-10-08T01:04:59Z
class:
core/src/main/java/org/elasticsearch/common/collect/EvictingQueue.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/SimulatedAnealingMinimizer.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffPipelineAggregator.java
core/src/test/java/org/elasticsearch/common/collect/EvictingQueueTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgUnitTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffIT.java
comments:
Merge pull request #13903 from jasontedor/evicting-queue-be-gone

Remove and forbid use of com.google.common.collect.EvictingQueue

time:
2015-10-08T00:57:55Z
class:
core/src/test/java/org/elasticsearch/common/network/NetworkAddressTests.java
comments:
Test: add address formatting round trip tests

time:
2015-10-08T00:51:53Z
class:
core/src/main/java/org/elasticsearch/common/collect/EvictingQueue.java
comments:
Add Javadocs for EvictingQueue

time:
2015-10-08T00:51:53Z
class:
core/src/main/java/org/elasticsearch/common/collect/EvictingQueue.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/MovAvgPipelineAggregator.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/movavg/SimulatedAnealingMinimizer.java
core/src/main/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffPipelineAggregator.java
core/src/test/java/org/elasticsearch/common/collect/EvictingQueueTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgIT.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/moving/avg/MovAvgUnitTests.java
core/src/test/java/org/elasticsearch/search/aggregations/pipeline/serialdiff/SerialDiffIT.java
comments:
Remove and forbid use of com.google.common.collect.EvictingQueue

This commit removes and now forbids all uses of
com.google.common.collect.EvictingQueue across the codebase. This is
one of the few remaining steps in the eventual removal of Guava as a
dependency.

Relates #13224

time:
2015-10-08T00:42:20Z
class:
core/src/main/java/org/elasticsearch/action/support/nodes/TransportNodesAction.java
comments:
TransportNodesAction shouldn't hold to cluster state

Long running TransportNodesAction requests can retain old cluster states in memory for much longer than needed. This can cause nodes with frequent cluster state updates and long running requests to run out of memory.

time:
2015-10-08T00:29:48Z
class:
core/src/main/java/org/elasticsearch/common/network/InetAddresses.java
core/src/main/java/org/elasticsearch/common/network/NetworkAddress.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/test/java/org/elasticsearch/common/network/InetAddressesTests.java
comments:
Merge pull request #13905 from jasontedor/replace-inet-addresses

Remove and forbid use of com.google.common.net.InetAddresses

time:
2015-10-08T00:11:48Z
class:
core/src/main/java/org/elasticsearch/common/network/InetAddresses.java
core/src/main/java/org/elasticsearch/common/network/NetworkAddress.java
core/src/main/java/org/elasticsearch/index/mapper/ip/IpFieldMapper.java
core/src/test/java/org/elasticsearch/common/network/InetAddressesTests.java
comments:
Remove and forbid use of com.google.common.net.InetAddresses

This commit removes and now forbids all uses of
com.google.common.net.InetAddresses across the codebase. This is one of
the few remaining steps in the eventual removal of Guava as a
dependency.

Relates #13224

time:
2015-10-07T22:08:35Z
class:
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
comments:
Update TransportClientNodesService.java

time:
2015-10-07T22:07:59Z
class:
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/hotthreads/RestNodesHotThreadsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/info/RestNodesInfoAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/node/stats/RestNodesStatsAction.java
core/src/main/java/org/elasticsearch/rest/action/admin/cluster/stats/RestClusterStatsAction.java
comments:
Expose nodes operation timeout in REST API

Currently it's not possible to specify a timeout for nodes operations (such as node info, node stats, cluster stats and hot threads) via REST-based APIs.

time:
2015-10-07T22:07:31Z
class:
core/src/main/java/org/elasticsearch/client/transport/TransportClientNodesService.java
comments:
Fix ensureNodesAreAvailable's error message

listedNodes are the "configured nodes" and not the empty list of nodes that is passed to the method and causes this exception to be thrown

time:
2015-10-07T21:40:28Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/id/IdMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/parent/ParentMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/routing/RoutingTypeMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
comments:
Merge pull request #14003 from rjernst/fix/13740

Mappings: Enforce metadata fields are not passed in documents

time:
2015-10-07T21:23:13Z
class:
comments:
Merge remote-tracking branch 'origin/master'

time:
2015-10-07T20:42:14Z
class:
comments:
fix smoke test qa test by adding ingest plugin dependency

time:
2015-10-07T20:30:35Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/translog/TranslogStats.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
comments:
add test and fix another bug on the way

time:
2015-10-07T20:13:31Z
class:
comments:
Update update.json

Missing spec for [detect_noop](https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-update.html?q=update%20a#_literal_detect_noop_literal) parameter.

time:
2015-10-07T20:04:34Z
class:
core/src/main/java/org/elasticsearch/common/network/NetworkService.java
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeService.java
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeServiceImpl.java
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/network/GceNameResolver.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/GceComputeServiceMock.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoveryTests.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/GceNetworkTests.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/network/Ec2NameResolver.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2NetworkTests.java
comments:
[discovery-gce] add _gce_ network host setting

When running in GCE platform, an instance has access to:

http://metadata.google.internal/computeMetadata/v1/instance/network-interfaces/0/ip

Which gives back the private IP address, for example `10.240.0.2`.

http://metadata.google.internal/computeMetadata/v1/instance/network-interfaces/0/externalIp

Gives back the public Ip address, for example `130.211.108.21`.

As we have for `ec2`, we can support new network host settings:

* `_gce:privateIp:X_`: The private IP address of the machine for a given network interface.
* `_gce:hostname_`: The hostname of the machine.
* `_gce_`: Same as `_gce:privateIp:0_` (recommended).

Closes #13605.
Closes #13590.

BTW resolveIfPossible now throws IOException so code is also updated for ec2 discovery and
some basic tests have been added.

time:
2015-10-07T19:52:13Z
class:
core/src/main/java/org/elasticsearch/index/mapper/DocumentParser.java
core/src/test/java/org/elasticsearch/index/mapper/DynamicMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/id/IdMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/parent/ParentMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/routing/RoutingTypeMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/timestamp/TimestampMappingTests.java
core/src/test/java/org/elasticsearch/index/mapper/ttl/TTLMappingTests.java
comments:
Mappings: Enforce metadata fields are not passed in documents

We previously removed the ability to specify metadata fields inside
documents in #11074, but the backcompat left leniency that allowed this
to still occur. This change locks down parsing so any metadata field
found while parsing a document results in an exception. This only
affects 2.0+ indexes; backcompat is maintained.

closes #13740

time:
2015-10-07T19:43:12Z
class:
comments:
Update GCE discovery documentation

(cherry picked from commit d4cb81c)
(cherry picked from commit 9af04eb)
(cherry picked from commit b383344)

time:
2015-10-07T18:51:45Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/index/LocalNodeId.java
core/src/main/java/org/elasticsearch/index/LocalNodeIdModule.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/Mapper.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/similarity/BM25SimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/DFRSimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/DefaultSimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/IBSimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/LMDirichletSimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/LMJelinekMercerSimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/PreBuiltSimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/Similarities.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityLookupService.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityModule.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityService.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/similarity/SimilarityModuleTests.java
core/src/test/java/org/elasticsearch/index/similarity/SimilarityTests.java
core/src/test/java/org/elasticsearch/similarity/SimilarityIT.java
comments:
Merge pull request #13942 from s1monw/try_trash_index_guice

Simplify similarity module and friends

time:
2015-10-07T18:47:58Z
class:
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
comments:
Don't pull translog from shadow engine

ShadowEngine doesn't have a translog but instead throws an
UOE when it's requested. ShadowIndexShard should not try to pull
stats for the translog either and should return null instead.

Closes #12730

time:
2015-10-07T18:36:46Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataIndexUpgradeService.java
core/src/main/java/org/elasticsearch/index/LocalNodeId.java
core/src/main/java/org/elasticsearch/index/LocalNodeIdModule.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/FieldMapper.java
core/src/main/java/org/elasticsearch/index/mapper/Mapper.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/core/TypeParsers.java
core/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/similarity/BM25SimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/DFRSimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/DefaultSimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/IBSimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/LMDirichletSimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/LMJelinekMercerSimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/PreBuiltSimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/Similarities.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityLookupService.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityModule.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/SimilarityService.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/query/AbstractQueryTestCase.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryParserTests.java
core/src/test/java/org/elasticsearch/index/similarity/SimilarityModuleTests.java
core/src/test/java/org/elasticsearch/index/similarity/SimilarityTests.java
core/src/test/java/org/elasticsearch/similarity/SimilarityIT.java
comments:
Simplify similarity module and friends

SimilarityModule was binding two different interfaces SimilaritySerivce and SimilarityLookupSerice.
Both used a class Similarities which was holding some default impls etc. Thit commit folds
all the logic into a rather simplified SimilarityService which has not construction time dependency to
any other service in the system anymore. It's soely constructued from custom similarities, the index name
and index settings and SimilarityModule is just trivial glue code with out much logic.
This also adds a simple unittest for basic test coverage of the service.

time:
2015-10-07T17:04:39Z
class:
comments:
Merge pull request #13996 from nik9000/native_scripts

Rewrite native script documentation

time:
2015-10-07T17:03:51Z
class:
comments:
[doc] Rewrite native script documentation

Closes #13811

time:
2015-10-07T16:43:23Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndexShardSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndexShardStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/IndexShardUpgradeStatus.java
core/src/main/java/org/elasticsearch/action/bulk/BulkResponse.java
core/src/main/java/org/elasticsearch/action/get/MultiGetRequest.java
core/src/main/java/org/elasticsearch/action/get/MultiGetResponse.java
core/src/main/java/org/elasticsearch/action/percolate/MultiPercolateResponse.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchResponse.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsResponse.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/common/collect/Iterators.java
core/src/main/java/org/elasticsearch/common/io/FileSystemUtils.java
core/src/main/java/org/elasticsearch/common/util/CollectionUtils.java
core/src/main/java/org/elasticsearch/index/codec/postingsformat/Elasticsearch090PostingsFormat.java
core/src/main/java/org/elasticsearch/index/engine/Segment.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/monitor/fs/FsInfo.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmStats.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHits.java
core/src/test/java/org/elasticsearch/common/collect/IteratorsTests.java
core/src/test/java/org/elasticsearch/gateway/MetaDataStateFormatTests.java
core/src/test/java/org/elasticsearch/index/codec/postingformat/Elasticsearch090RWPostingsFormat.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeLookupTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
core/src/test/java/org/elasticsearch/test/CompositeTestCluster.java
comments:
Merge pull request #13916 from jasontedor/iterator-be-gone

Remove and forbid use of com.google.common.collect.Iterators

time:
2015-10-07T16:41:45Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/segments/IndexShardSegments.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndexShardStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/IndexShardUpgradeStatus.java
core/src/main/java/org/elasticsearch/action/bulk/BulkResponse.java
core/src/main/java/org/elasticsearch/action/get/MultiGetRequest.java
core/src/main/java/org/elasticsearch/action/get/MultiGetResponse.java
core/src/main/java/org/elasticsearch/action/percolate/MultiPercolateResponse.java
core/src/main/java/org/elasticsearch/action/search/MultiSearchResponse.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsRequest.java
core/src/main/java/org/elasticsearch/action/termvectors/MultiTermVectorsResponse.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNode.java
core/src/main/java/org/elasticsearch/cluster/routing/RoutingNodes.java
core/src/main/java/org/elasticsearch/common/collect/Iterators.java
core/src/main/java/org/elasticsearch/common/io/FileSystemUtils.java
core/src/main/java/org/elasticsearch/common/util/CollectionUtils.java
core/src/main/java/org/elasticsearch/index/codec/postingsformat/Elasticsearch090PostingsFormat.java
core/src/main/java/org/elasticsearch/index/engine/Segment.java
core/src/main/java/org/elasticsearch/index/mapper/MapperService.java
core/src/main/java/org/elasticsearch/index/mapper/geo/GeoPointFieldMapper.java
core/src/main/java/org/elasticsearch/monitor/fs/FsInfo.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmStats.java
core/src/main/java/org/elasticsearch/plugins/PluginManager.java
core/src/main/java/org/elasticsearch/search/internal/InternalSearchHits.java
core/src/test/java/org/elasticsearch/common/collect/IteratorsTests.java
core/src/test/java/org/elasticsearch/gateway/MetaDataStateFormatTests.java
core/src/test/java/org/elasticsearch/index/codec/postingformat/Elasticsearch090RWPostingsFormat.java
core/src/test/java/org/elasticsearch/index/mapper/FieldTypeLookupTests.java
core/src/test/java/org/elasticsearch/index/mapper/externalvalues/ExternalMapper.java
core/src/test/java/org/elasticsearch/test/CompositeTestCluster.java
comments:
Remove and forbid use of com.google.common.collect.Iterators

This commit removes and now forbids all uses of
com.google.common.collect.Iterators across the codebase. This is one of
the final steps in the eventual removal of Guava as a dependency.

Relates #13224

time:
2015-10-07T16:20:27Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/UnavailableShardsException.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationAction.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/cluster/action/index/MappingUpdatedAction.java
core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/logging/log4j/TerminalAppender.java
core/src/main/java/org/elasticsearch/common/lucene/uid/Versions.java
core/src/main/java/org/elasticsearch/index/VersionType.java
core/src/main/java/org/elasticsearch/index/engine/CreateFailedEngineException.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/EngineException.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/engine/VersionConflictEngineException.java
core/src/main/java/org/elasticsearch/index/indexing/IndexingOperationListener.java
core/src/main/java/org/elasticsearch/index/indexing/IndexingSlowLog.java
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/exp/ExponentialDecayFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/gauss/GaussDecayFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/lin/LinearDecayFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java
core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptEngineService.java
core/src/main/java/org/elasticsearch/script/mustache/MustacheScriptEngineService.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/action/index/IndexRequestTests.java
core/src/test/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationActionTests.java
core/src/test/java/org/elasticsearch/common/logging/log4j/Log4jESLoggerTests.java
core/src/test/java/org/elasticsearch/common/logging/log4j/LoggingConfigurationTests.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/index/VersionTypeTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogVersionTests.java
core/src/test/java/org/elasticsearch/script/MockScriptEngine.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/script/mustache/MustacheScriptEngineTests.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
core/src/test/java/org/elasticsearch/versioning/SimpleVersioningIT.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
plugins/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/BulkTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/FunctionScoreTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/UpdateTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineTests.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptMultiThreadedTests.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptSecurityTests.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/SimpleBench.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptEngineTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptMultiThreadedTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonSecurityTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/SimpleBench.java
comments:
Merge branch 'master' into immediate_shard_active

Conflicts:
	core/src/main/java/org/elasticsearch/index/engine/Engine.java
	core/src/main/java/org/elasticsearch/index/shard/IndexShard.java

time:
2015-10-07T16:10:29Z
class:
comments:
Docs: Note that plugin removal usually requires node restart

Closes #13301
Closes #13983

time:
2015-10-07T15:59:56Z
class:
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
comments:
re-enables InnerHits Tests

time:
2015-10-07T15:51:30Z
class:
comments:
Docs: Fix example about executing filters

Closes #13979

time:
2015-10-07T15:03:29Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
comments:
Clarify use of System.nanoTime for measuring eviction times

time:
2015-10-07T14:56:42Z
class:
core/src/test/java/org/elasticsearch/common/cache/CacheTests.java
comments:
Add comment clarifying CacheTests.testCacheStats

time:
2015-10-07T14:46:09Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
comments:
Rename Cache.exceedsSize for clarity

time:
2015-10-07T14:43:56Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
comments:
Rename LRU and segment locks for clarity

time:
2015-10-07T14:40:22Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
comments:
Protect against null RemovalListener in setter

time:
2015-10-07T14:36:50Z
class:
comments:
Merge pull request #13977 from nik9000/doc_breaking_java

Add a note about shard failure in the api

time:
2015-10-07T14:36:05Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
comments:
Clarify Javadoc comment regarding CacheSegment locks

time:
2015-10-07T14:34:21Z
class:
core/src/test/java/org/elasticsearch/search/basic/TransportSearchFailuresIT.java
core/src/test/java/org/elasticsearch/search/basic/TransportTwoNodesSearchIT.java
plugins/delete-by-query/src/test/java/org/elasticsearch/action/deletebyquery/TransportDeleteByQueryActionTests.java
comments:
more clean up

time:
2015-10-07T14:29:13Z
class:
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
comments:
more test clean ups

time:
2015-10-07T14:18:52Z
class:
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/translog/TranslogConfig.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerTests.java
comments:
feedback

time:
2015-10-07T14:09:35Z
class:
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
core/src/test/java/org/elasticsearch/search/functionscore/QueryRescorerIT.java
comments:
removed defaultRescoreWindow

time:
2015-10-07T13:13:09Z
class:
core/src/main/java/org/elasticsearch/Version.java
comments:
Added version ID for 2.0.0-rc1

time:
2015-10-07T13:13:08Z
class:
comments:
Added bwc indices for 2.0.0-rc1

time:
2015-10-07T13:02:52Z
class:
comments:
Release: Fix package repo path to only consist of major version

This is fixes the package repo names from 2.0/2.1/etc to 2.x, so that
all major releases are in a single repository.

Closes #12493

time:
2015-10-07T12:51:22Z
class:
core/src/main/java/org/elasticsearch/index/query/functionscore/exp/ExponentialDecayFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/gauss/GaussDecayFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/lin/LinearDecayFunctionBuilder.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreTests.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/FunctionScoreTests.java
comments:
Merge pull request #13961 from brwe/function-score-unit-tests

Convert some messy function score tests to unit tests

time:
2015-10-07T12:46:47Z
class:
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreTests.java
comments:
use searcher.createNormalizedWeight() instead of query.getWeight() and cleanup

time:
2015-10-07T12:42:54Z
class:
comments:
Docs: Update repository docs with new major version structure

time:
2015-10-07T11:27:46Z
class:
comments:
Updated docs for 3.0.0-beta
I see that the deprecation warning has been removed from the page for the `_ttl` field; should I understand that to mean that the deprecation has been reversed?

@leifurhauks thanks for spotting - i've added back the deprecation notice in 6aa1a4930ed412b8bdab6731d169fafbd7e59fd2


time:
2015-10-07T10:54:24Z
class:
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/GeoDistanceRangeQueryTests.java
comments:
GeoDistanceRangeQueryBuilder to not change its state when calling toQuery

The geoPoint gets normalized while calling toQuery. That should happen on a copy of the point though, the state of the request should never change as part of toQuery execution. Also updated corresponding test to support point normalization.

Closes #13984

time:
2015-10-07T10:54:24Z
class:
core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
comments:
Java api: GeoDistanceRangeQueryBuilder#getValidationMethod to not take any argument

time:
2015-10-07T10:53:22Z
class:
core/src/main/java/org/elasticsearch/action/UnavailableShardsException.java
core/src/main/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationAction.java
core/src/test/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationActionTests.java
comments:
Merge pull request #13101 from brwe/update-ang

Send response for update request when it timed out

time:
2015-10-07T10:51:57Z
class:
core/src/main/java/org/elasticsearch/action/UnavailableShardsException.java
core/src/main/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationAction.java
core/src/test/java/org/elasticsearch/action/support/single/instance/TransportInstanceSingleOperationActionTests.java
comments:
send response for update request when it timed out

time:
2015-10-07T10:37:34Z
class:
core/src/main/java/org/elasticsearch/ElasticsearchException.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/cluster/action/index/MappingUpdatedAction.java
core/src/main/java/org/elasticsearch/common/lucene/uid/Versions.java
core/src/main/java/org/elasticsearch/index/VersionType.java
core/src/main/java/org/elasticsearch/index/engine/CreateFailedEngineException.java
core/src/main/java/org/elasticsearch/index/engine/DocumentAlreadyExistsException.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/EngineException.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/engine/VersionConflictEngineException.java
core/src/main/java/org/elasticsearch/index/indexing/IndexingOperationListener.java
core/src/main/java/org/elasticsearch/index/indexing/IndexingSlowLog.java
core/src/main/java/org/elasticsearch/index/indexing/ShardIndexingService.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/index/translog/Translog.java
core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
core/src/test/java/org/elasticsearch/action/index/IndexRequestTests.java
core/src/test/java/org/elasticsearch/get/GetActionIT.java
core/src/test/java/org/elasticsearch/index/VersionTypeTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogTests.java
core/src/test/java/org/elasticsearch/index/translog/TranslogVersionTests.java
core/src/test/java/org/elasticsearch/versioning/SimpleVersioningIT.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/BulkTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/UpdateTests.java
comments:
Engine: Remove Engine.Create

The `_create` API is handy way to specify an index operation should only be done if the document doesn't exist. This is currently implemented in explicit code paths all the way down to the engine. However, conceptually this is no different than any other versioned operation - instead of requiring a document is on a specific version, we require it to be deleted (or non-existent). This PR removes Engine.Create in favor of a slight extension in the VersionType logic.

There are however a couple of side effects:
- DocumentAlreadyExistsException is removed and VersionConflictException is used instead (with an improved error message)
- Update will reject version parameters if the upsert option is used (it doesn't compute anyway).
- Translog.Create is also removed infavor of Translog.Index (that's OK because their binary format was the same, so we can just read Translog.Index of the translog file)

Closes #13955

time:
2015-10-07T08:34:14Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
comments:
Merge pull request #13772 from brwe/remove-CONF_FILE

Remove option to configure custom config file via CONF_FILE or -Des.default.conf

time:
2015-10-06T21:19:39Z
class:
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/translog/TranslogConfig.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerIT.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerTests.java
comments:
fold feedback

time:
2015-10-06T20:24:39Z
class:
comments:
[doc] Add a note about shard failure in the api

Closes #13674

time:
2015-10-06T20:12:45Z
class:
comments:
Enhance plugin-descriptor.properties guide

* extract doc from the descriptor
* make obvious that plugin authors will have to release a new version for each elasticsearch version

time:
2015-10-06T18:37:44Z
class:
comments:
name variables and don't always use the timeout

time:
2015-10-06T18:28:11Z
class:
comments:
Merge pull request #13946 from elastic/fix/indices-get-restspec

Add options for indices.get feature

time:
2015-10-06T17:39:15Z
class:
comments:
Merge pull request #13973 from brwe/conf-file-migration-doc

add paragraph about removal of conf file option

time:
2015-10-06T17:36:48Z
class:
comments:
add paragraph about removal of conf file option

time:
2015-10-06T17:22:21Z
class:
comments:
Docs: Fix typo - datehistogram

date_histogram in place of datehistogram

Closes #13886

time:
2015-10-06T17:02:43Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
comments:
remove option to configure custom config file via CONF_FILE or -Des.default.conf

It is rarely used and was not consistently handled by different distributions anyway.
This commit also adds a test for specifying CONF_DIR when installing plugins and
starting elasticsearch.

relates to #12712 and #12954
closes #5329
closes #13715

time:
2015-10-06T16:55:34Z
class:
comments:
Docs: Removed obsoleted MVEL paragraph

time:
2015-10-06T16:13:05Z
class:
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
comments:
[TEST] Minor SearchSourceBuilderTests infra changes

time:
2015-10-06T15:45:41Z
class:
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
comments:
[TEST] Simplify SearchSourceBuilderTests setup

Mappings and many modules are not needed here compared to AbstractQueryTestCase, as we will never call toQuery in this other test. Parsing is independent from indices and types as well.

time:
2015-10-06T15:37:25Z
class:
comments:
vagrant tests: fix plugin outupt test

package installation creates the plugin directory already so when a plugin
is installed it prints the additional line
Plugins directory [/tmp/elasticsearch/plugins] does not exist. Creating...

time:
2015-10-06T14:21:58Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/logging/log4j/TerminalAppender.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java
core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptEngineService.java
core/src/main/java/org/elasticsearch/script/mustache/MustacheScriptEngineService.java
core/src/test/java/org/elasticsearch/common/logging/log4j/Log4jESLoggerTests.java
core/src/test/java/org/elasticsearch/common/logging/log4j/LoggingConfigurationTests.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/script/MockScriptEngine.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/script/mustache/MustacheScriptEngineTests.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
plugins/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineTests.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptMultiThreadedTests.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptSecurityTests.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/SimpleBench.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptEngineTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptMultiThreadedTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonSecurityTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/SimpleBench.java
comments:
Merge branch 'master' into feature/search-request-refactoring

time:
2015-10-06T14:17:19Z
class:
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonSecurityTests.java
comments:
prevent test failures from jython localization bugs.

see #13967

time:
2015-10-06T14:16:57Z
class:
core/src/main/java/org/elasticsearch/action/count/CountRequest.java
comments:
Count Request: minScore can be null, its getter should be Float rather than float

time:
2015-10-06T14:00:06Z
class:
core/src/test/java/org/elasticsearch/action/count/CountRequestTests.java
comments:
[TEST] move variable assignment one line above

time:
2015-10-06T13:55:34Z
class:
core/src/main/java/org/elasticsearch/action/count/CountRequest.java
core/src/main/java/org/elasticsearch/rest/action/count/RestCountAction.java
comments:
Count api: simplify default handling

For minScore and terminateAfter we can just rely on defaults set to SearchSourceBuilder.

time:
2015-10-06T13:50:48Z
class:
core/src/test/java/org/elasticsearch/index/query/TemplateQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/TemplateQueryIT.java
comments:
more fixes for tests

time:
2015-10-06T13:46:11Z
class:
core/src/main/java/org/elasticsearch/action/count/CountRequest.java
core/src/main/java/org/elasticsearch/action/count/CountRequestBuilder.java
core/src/main/java/org/elasticsearch/action/search/SearchRequestBuilder.java
core/src/test/java/org/elasticsearch/action/count/CountRequestBuilderTests.java
core/src/test/java/org/elasticsearch/action/search/SearchRequestBuilderTests.java
plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequest.java
comments:
Fix some RequestBuilder#toString that produced broken json

Also restored a couple of old tests around search and count request builder that used to get wiped when calling toString.

time:
2015-10-06T13:36:50Z
class:
core/src/test/java/org/elasticsearch/index/query/GeohashCellQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/SimpleQueryStringBuilderTests.java
core/src/test/java/org/elasticsearch/search/fetch/FieldDataFieldsTests.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoFilterIT.java
core/src/test/java/org/elasticsearch/search/geo/GeoShapeIntegrationIT.java
core/src/test/java/org/elasticsearch/search/query/SimpleQueryStringIT.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchFieldsTests.java
comments:
fixed some NORELEASE comments in tests

time:
2015-10-06T13:14:28Z
class:
comments:
Merge pull request #13821 from nik9000/jayatana_test

Test that Jayatana is ignored

time:
2015-10-06T13:13:58Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/logging/log4j/TerminalAppender.java
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java
core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptEngineService.java
core/src/main/java/org/elasticsearch/script/mustache/MustacheScriptEngineService.java
core/src/test/java/org/elasticsearch/common/logging/log4j/Log4jESLoggerTests.java
core/src/test/java/org/elasticsearch/common/logging/log4j/LoggingConfigurationTests.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
core/src/test/java/org/elasticsearch/routing/AliasRoutingIT.java
core/src/test/java/org/elasticsearch/script/MockScriptEngine.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/script/mustache/MustacheScriptEngineTests.java
core/src/test/java/org/elasticsearch/search/functionscore/QueryRescorerIT.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
plugins/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SimpleSortTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/package-info.java
plugins/lang-groovy/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineTests.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptMultiThreadedTests.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptSecurityTests.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/SimpleBench.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptEngineTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptMultiThreadedTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonSecurityTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/SimpleBench.java
comments:
Merge branch 'master' into immutable_map_be_gone

time:
2015-10-06T13:08:19Z
class:
comments:
Ban ImmutableMap$Builder

time:
2015-10-06T12:57:34Z
class:
core/src/main/java/org/elasticsearch/action/count/CountRequest.java
core/src/main/java/org/elasticsearch/action/count/CountRequestBuilder.java
core/src/main/java/org/elasticsearch/rest/action/count/RestCountAction.java
comments:
Revert "Count api: simplify default handling and toString representation"

This reverts commit ef286ce972622b15c212067379f1900869c77811.

time:
2015-10-06T12:56:10Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Data.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/Pipeline.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/Processor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/SimpleProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestModule.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestPlugin.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/PipelineConfigDocReader.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/PipelineStore.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/rest/IngestRestFilter.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilter.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/PipelineConfigDocReaderTests.java
plugins/ingest/src/test/java/org/elasticsearch/plugin/ingest/PipelineStoreTests.java
comments:
only update pipeline if the content has been changed
split the actual fetching of pipeline docs from the pipeline store to make unit testing easier
intoduced factory for builders
replaced hardcoded processor lookups with simple factory based registry

time:
2015-10-06T12:41:03Z
class:
core/src/main/java/org/elasticsearch/action/count/CountRequest.java
core/src/main/java/org/elasticsearch/action/count/CountRequestBuilder.java
core/src/main/java/org/elasticsearch/rest/action/count/RestCountAction.java
comments:
Count api: simplify default handling and toString representation

For minScore and terminateAfter we can just rely on defaults set to SearchSourceBuilder. Also simplified toString representation of CountRequestBuilder

time:
2015-10-06T12:39:35Z
class:
core/src/main/java/org/elasticsearch/rest/action/admin/indices/validate/query/RestValidateQueryAction.java
comments:
pass in QuerySourceBuilder directly to ValidateQueryRequest

time:
2015-10-06T12:28:31Z
class:
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/aliases/IndexAliasesServiceModule.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataModule.java
core/src/main/java/org/elasticsearch/index/mapper/MapperServiceModule.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptEngineService.java
core/src/main/java/org/elasticsearch/script/mustache/MustacheScriptEngineService.java
core/src/test/java/org/elasticsearch/bootstrap/ESPolicyTests.java
core/src/test/java/org/elasticsearch/bootstrap/MockPluginPolicy.java
core/src/test/java/org/elasticsearch/routing/AliasRoutingIT.java
core/src/test/java/org/elasticsearch/script/MockScriptEngine.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/search/builder/SearchSourceBuilderTests.java
core/src/test/java/org/elasticsearch/search/functionscore/QueryRescorerIT.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
plugins/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SimpleSortTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/package-info.java
plugins/lang-groovy/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineTests.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptSecurityTests.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptEngineTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonSecurityTests.java
comments:
Merge branch 'master' into feature/search-request-refactoring

time:
2015-10-06T12:18:36Z
class:
comments:
Merge pull request #13861 from brwe/vagrant-install-groovy

install groovy plugin before running script test

time:
2015-10-06T12:16:13Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java
core/src/main/java/org/elasticsearch/common/blobstore/url/URLBlobContainer.java
comments:
Fully remove and ban ImmutableMap

time:
2015-10-06T12:13:59Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/logging/log4j/TerminalAppender.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java
core/src/test/java/org/elasticsearch/common/logging/log4j/Log4jESLoggerTests.java
core/src/test/java/org/elasticsearch/common/logging/log4j/LoggingConfigurationTests.java
comments:
Merge pull request #13933 from brwe/plugin-cli-logging

plugin cli tool should not create empty log files

time:
2015-10-06T12:13:24Z
class:
core/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java
core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/logging/log4j/TerminalAppender.java
core/src/main/java/org/elasticsearch/node/internal/InternalSettingsPreparer.java
core/src/main/java/org/elasticsearch/plugins/PluginManagerCliParser.java
core/src/test/java/org/elasticsearch/common/logging/log4j/Log4jESLoggerTests.java
core/src/test/java/org/elasticsearch/common/logging/log4j/LoggingConfigurationTests.java
comments:
plugin cli tool should not create empty log files

Plugin cli tools configures logging with whatever is in the logging.yml.
If a file appender is configured for any of the logs this will cause creation
of an empty log file. If a plugin was for example installed as root it will
create empty logs at es.home/logs.
This is problematic when for example plugins are installed as root and es is run
as service. Logs will then be created in /usr/share/elasticsearch/logs
and can later not be removed by for example dpkg -r or -purge.

To avoid this, configure the logger to use an appender that writes to the same
output that plugin cli tool does. This allows other components that are called
from Plugin cli tool to write to the same terminal that plugin cli tool writes to
by using the logging mechanism already in place.
The logging conf is not read at all pb plugin cli tool.

As a side effect, the loging level for components that are called
from the plugin command such as the jar hell check can now be configured
with -Des.logger.level which makes it easier to debug the jar hell check.

time:
2015-10-06T11:53:46Z
class:
core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptEngineService.java
core/src/main/java/org/elasticsearch/script/mustache/MustacheScriptEngineService.java
core/src/test/java/org/elasticsearch/script/MockScriptEngine.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/script/mustache/MustacheScriptEngineTests.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
plugins/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineTests.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptMultiThreadedTests.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptSecurityTests.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/SimpleBench.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptEngineTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptMultiThreadedTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonSecurityTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/SimpleBench.java
comments:
Merge pull request #13956 from jpountz/remove/ScriptEngineService_execute

Remove ScriptEngineService.execute.

time:
2015-10-06T11:27:27Z
class:
core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptEngineService.java
core/src/main/java/org/elasticsearch/script/mustache/MustacheScriptEngineService.java
core/src/test/java/org/elasticsearch/script/MockScriptEngine.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
core/src/test/java/org/elasticsearch/script/mustache/MustacheScriptEngineTests.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
plugins/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineTests.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptMultiThreadedTests.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptSecurityTests.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/SimpleBench.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptEngineTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptMultiThreadedTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonSecurityTests.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/SimpleBench.java
comments:
Remove ScriptEngineService.execute.

This methods was only used in tests and can be replaced by calling
`ScriptEngineService.executable(compiledScript, vars).run()` instead.

time:
2015-10-06T11:23:48Z
class:
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
comments:
Merge pull request #13963 from javanna/fix/geo_shape_strategy_optional

Make strategy optional in GeoShapeQueryBuilder readFrom and writeTo

time:
2015-10-06T11:18:47Z
class:
core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryBuilder.java
core/src/test/java/org/elasticsearch/index/query/GeoShapeQueryBuilderTests.java
comments:
Make strategy optional in GeoShapeQueryBuilder readFrom and writeTo

The field is optional everywhere else but in the serialization methods, which causes problems. Also expanded tests so that they can catch this type of problem.

Closes #13963

time:
2015-10-06T11:16:25Z
class:
comments:
Merge pull request #13962 from Mpdreamz/fix/get-field-mapping-rest-tests

Fix indices.get_field_mapping rest tests

time:
2015-10-06T10:40:08Z
class:
comments:
Fix indices.get_field_mapping rest tests

After `field` has been renamed to `fields` in #13902

time:
2015-10-06T10:18:32Z
class:
comments:
Fix cross links

Related to #13602
(cherry picked from commit ff4cdab)
(cherry picked from commit 8b46a4b)

time:
2015-10-06T10:08:59Z
class:
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/FunctionScoreTests.java
comments:
convert weight functions tests to unit tests

time:
2015-10-06T09:28:47Z
class:
comments:
Merge pull request #13678 from elastic/fix/cluster-health-api

In cluster health REST spec, {index} can be one or many indices and should be typed to list.

time:
2015-10-06T09:28:35Z
class:
comments:
Merge pull request #13711 from elastic/fix/api-delete-search-template

id route value is required

time:
2015-10-06T09:28:13Z
class:
comments:
Merge pull request #13889 from elastic/fix/indices-get-template-restspec

indices get template accepts a list of names

time:
2015-10-06T09:27:52Z
class:
comments:
Merge pull request #13900 from elastic/fix/indices-open-restspec

indices.open takes a list of indices

time:
2015-10-06T09:27:12Z
class:
comments:
Merge pull request #13901 from elastic/fix/indices-close-restspec

 indices.close takes a list of indices

time:
2015-10-06T09:26:46Z
class:
comments:
Merge pull request #13902 from elastic/fix/get-field-mapping-restspec

Get field mapping documented fields as field

time:
2015-10-06T09:20:35Z
class:
core/src/main/java/org/elasticsearch/index/query/functionscore/exp/ExponentialDecayFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/gauss/GaussDecayFunctionBuilder.java
core/src/main/java/org/elasticsearch/index/query/functionscore/lin/LinearDecayFunctionBuilder.java
core/src/test/java/org/elasticsearch/index/query/functionscore/FunctionScoreTests.java
core/src/test/java/org/elasticsearch/search/functionscore/DecayFunctionScoreIT.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/FunctionScoreTests.java
comments:
convert explain function score tests to unit tests

time:
2015-10-06T09:18:47Z
class:
comments:
[discovery-ec2] network.host must be set

 With 2.0, we now bind to `localhost` by default instead of binding to the network card and use its IP address.

 When the discovery plugin gets from AWS API the list of nodes that should form the cluster, this list is pinged then. But as each node is bound to `localhost`, ping does not get an answer and the node elects itself as the master node.

`network.host` must be set.

 Closes #13589.

time:
2015-10-06T08:40:40Z
class:
core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptEngineService.java
core/src/main/java/org/elasticsearch/script/mustache/MustacheScriptEngineService.java
core/src/test/java/org/elasticsearch/script/MockScriptEngine.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
plugins/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineTests.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptEngineTests.java
comments:
Merge pull request #13958 from jpountz/remove/ScriptEngineService_unwrap

Remove ScriptEngineService.unwrap.

time:
2015-10-06T08:30:15Z
class:
core/src/main/java/org/elasticsearch/script/NativeScriptEngineService.java
core/src/main/java/org/elasticsearch/script/ScriptEngineService.java
core/src/main/java/org/elasticsearch/script/mustache/MustacheScriptEngineService.java
core/src/test/java/org/elasticsearch/script/MockScriptEngine.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/script/ScriptServiceTests.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
plugins/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineTests.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonScriptEngineTests.java
comments:
Remove ScriptEngineService.unwrap.

The ability to unwrap script values is already exposed via ExecutableScript.unwrap.

time:
2015-10-06T08:27:52Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
comments:
improve javadocs

time:
2015-10-06T08:19:56Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/TransportUpgradeStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java
core/src/main/java/org/elasticsearch/action/get/TransportShardMultiGetAction.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/common/hash/MessageDigests.java
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexServicesProvider.java
core/src/main/java/org/elasticsearch/index/aliases/IndexAliasesServiceModule.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/IndexSearcherWrapper.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataModule.java
core/src/main/java/org/elasticsearch/index/percolator/PercolateStats.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/percolator/stats/ShardPercolateService.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/main/java/org/elasticsearch/index/shard/IndexSearcherWrapper.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/store/IndexStore.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/indices/IndicesLifecycle.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/IndicesWarmer.java
core/src/main/java/org/elasticsearch/indices/InternalIndicesLifecycle.java
core/src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySource.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/main/java/org/elasticsearch/indices/recovery/SharedFSRecoverySourceHandler.java
core/src/main/java/org/elasticsearch/indices/store/IndicesStore.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreRequestIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/upgrade/UpgradeReallyOldIndexIT.java
core/src/test/java/org/elasticsearch/bootstrap/ESPolicyTests.java
core/src/test/java/org/elasticsearch/bootstrap/MockPluginPolicy.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/operation/hash/murmur3/Murmur3HashFunctionTests.java
core/src/test/java/org/elasticsearch/common/hash/MessageDigestsTests.java
core/src/test/java/org/elasticsearch/common/hashing/MurmurHash3Tests.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/common/logging/log4j/LoggingConfigurationTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/IndexServiceTests.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/MockEngineFactoryPlugin.java
core/src/test/java/org/elasticsearch/index/codec/CodecTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineSettingsTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/search/MultiMatchQueryTests.java
core/src/test/java/org/elasticsearch/index/shard/EngineAccess.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
core/src/test/java/org/elasticsearch/indexing/IndexActionIT.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
core/src/test/java/org/elasticsearch/indices/flush/SyncedFlushSingleNodeTests.java
core/src/test/java/org/elasticsearch/indices/leaks/IndicesLeaksIT.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryIT.java
core/src/test/java/org/elasticsearch/indices/recovery/RecoveryStatusTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/recovery/RecoveriesCollectionTests.java
core/src/test/java/org/elasticsearch/routing/AliasRoutingIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/compress/SearchSourceCompressTests.java
core/src/test/java/org/elasticsearch/search/functionscore/QueryRescorerIT.java
core/src/test/java/org/elasticsearch/test/ESSingleNodeTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
core/src/test/java/org/elasticsearch/test/store/MockFSIndexStore.java
plugins/jvm-example/src/main/java/org/elasticsearch/plugin/example/JvmExamplePlugin.java
plugins/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SimpleSortTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/package-info.java
plugins/lang-groovy/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptSecurityTests.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonSecurityTests.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbmmapfs/SmbMmapFsIndexStore.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbsimplefs/SmbSimpleFsIndexStore.java
comments:
Merge branch 'master' into immediate_shard_active

Conflicts:
	core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
	core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
	core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java

time:
2015-10-06T08:17:59Z
class:
plugins/lang-groovy/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
comments:
[TEST] Simplify SearchQueryIT#testMinScore

This test used indexRandom to index 4 documents. indexRandom introduces also bogus documents which were getting on the way now that we use fieldValueFactor instead of a script to determine the script of the documents. Taken out indexRandom to simplify things and make the tests more predictable.

time:
2015-10-06T07:59:37Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerTests.java
comments:
fold feedback

time:
2015-10-06T07:19:54Z
class:
core/src/test/java/org/elasticsearch/routing/AliasRoutingIT.java
core/src/test/java/org/elasticsearch/search/functionscore/QueryRescorerIT.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SimpleSortTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/package-info.java
plugins/lang-groovy/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
comments:
[TEST] move back some test from groovy plugin to core

Relates to #13837

Closes #13945

time:
2015-10-05T20:37:24Z
class:
core/src/test/java/org/elasticsearch/client/AbstractClientHeadersTestCase.java
core/src/test/java/org/elasticsearch/cluster/serialization/DiffableTests.java
core/src/test/java/org/elasticsearch/common/cli/CliToolTests.java
core/src/test/java/org/elasticsearch/common/lucene/uid/VersionsTests.java
core/src/test/java/org/elasticsearch/script/ScriptModesTests.java
core/src/test/java/org/elasticsearch/search/aggregations/bucket/ShardSizeTermsIT.java
comments:
Remove ImmutableMap$Builder from tests!

time:
2015-10-05T19:42:17Z
class:
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodeInfo.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/info/NodesInfoResponse.java
core/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodeStats.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotIndexStatus.java
core/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/status/SnapshotStatus.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/IndicesStatsResponse.java
core/src/main/java/org/elasticsearch/cluster/ClusterState.java
core/src/main/java/org/elasticsearch/cluster/block/ClusterBlocks.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNode.java
core/src/main/java/org/elasticsearch/cluster/node/DiscoveryNodes.java
core/src/main/java/org/elasticsearch/common/inject/assistedinject/FactoryProvider2.java
core/src/main/java/org/elasticsearch/common/inject/internal/MoreTypes.java
core/src/main/java/org/elasticsearch/index/analysis/NGramTokenizerFactory.java
core/src/main/java/org/elasticsearch/index/mapper/Mapping.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/indices/flush/ShardsSyncedFlushResult.java
core/src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
core/src/main/java/org/elasticsearch/monitor/jvm/DeadlockAnalyzer.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodeAttrsAction.java
core/src/main/java/org/elasticsearch/script/ScriptService.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregationPhase.java
core/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java
core/src/main/java/org/elasticsearch/search/fetch/fielddata/FieldDataFieldsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/script/ScriptFieldsFetchSubPhase.java
core/src/main/java/org/elasticsearch/search/fetch/source/FetchSourceSubPhase.java
core/src/main/java/org/elasticsearch/search/lookup/IndexLookup.java
core/src/main/java/org/elasticsearch/search/lookup/SearchLookup.java
core/src/main/java/org/elasticsearch/search/query/QueryPhase.java
core/src/main/java/org/elasticsearch/search/rescore/RescorePhase.java
core/src/main/java/org/elasticsearch/search/sort/SortParseElement.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestPhase.java
core/src/main/java/org/elasticsearch/search/suggest/completion/Completion090PostingsFormat.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotsService.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
plugins/discovery-multicast/src/main/java/org/elasticsearch/plugin/discovery/multicast/MulticastZenPing.java
comments:
Ban ImmutableMap$Builder in core's main

Almost there!

time:
2015-10-05T18:52:52Z
class:
comments:
[test] remove index= from catch: /regex/ in date math tests

This breaks on some clients and is not required for the actual test

time:
2015-10-05T18:00:53Z
class:
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/TransportUpgradeStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java
core/src/main/java/org/elasticsearch/action/get/TransportShardMultiGetAction.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/common/hash/MessageDigests.java
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexServicesProvider.java
core/src/main/java/org/elasticsearch/index/aliases/IndexAliasesServiceModule.java
core/src/main/java/org/elasticsearch/index/analysis/Analysis.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/IndexSearcherWrapper.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolateStats.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/percolator/stats/ShardPercolateService.java
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/main/java/org/elasticsearch/index/shard/IndexSearcherWrapper.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/store/IndexStore.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/indices/IndicesLifecycle.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/IndicesWarmer.java
core/src/main/java/org/elasticsearch/indices/InternalIndicesLifecycle.java
core/src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySource.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/main/java/org/elasticsearch/indices/recovery/SharedFSRecoverySourceHandler.java
core/src/main/java/org/elasticsearch/indices/store/IndicesStore.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/percolator/MultiDocumentPercolatorIndex.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/percolator/SingleDocumentPercolatorIndex.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/highlight/PlainHighlighter.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestUtils.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionTokenStream.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreRequestIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/upgrade/UpgradeReallyOldIndexIT.java
core/src/test/java/org/elasticsearch/bootstrap/ESPolicyTests.java
core/src/test/java/org/elasticsearch/bootstrap/MockPluginPolicy.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/operation/hash/murmur3/Murmur3HashFunctionTests.java
core/src/test/java/org/elasticsearch/common/hash/MessageDigestsTests.java
core/src/test/java/org/elasticsearch/common/hashing/MurmurHash3Tests.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/common/logging/log4j/LoggingConfigurationTests.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/IndexServiceTests.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/MockEngineFactoryPlugin.java
core/src/test/java/org/elasticsearch/index/codec/CodecTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineSettingsTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/search/MultiMatchQueryTests.java
core/src/test/java/org/elasticsearch/index/shard/EngineAccess.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
core/src/test/java/org/elasticsearch/indexing/IndexActionIT.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
core/src/test/java/org/elasticsearch/indices/flush/SyncedFlushSingleNodeTests.java
core/src/test/java/org/elasticsearch/indices/leaks/IndicesLeaksIT.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryIT.java
core/src/test/java/org/elasticsearch/indices/recovery/RecoveryStatusTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/recovery/RecoveriesCollectionTests.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/compress/SearchSourceCompressTests.java
core/src/test/java/org/elasticsearch/search/suggest/SuggestSearchIT.java
core/src/test/java/org/elasticsearch/test/ESSingleNodeTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
core/src/test/java/org/elasticsearch/test/store/MockFSIndexStore.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/Ec2Module.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/discovery/ec2/Ec2Discovery.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/plugin/discovery/ec2/Ec2DiscoveryPlugin.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoverySettingsTests.java
plugins/jvm-example/src/main/java/org/elasticsearch/plugin/example/JvmExamplePlugin.java
plugins/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchQueryTests.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptSecurityTests.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonSecurityTests.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbmmapfs/SmbMmapFsIndexStore.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbsimplefs/SmbSimpleFsIndexStore.java
comments:
Merge branch 'master' into immutable_map_be_gone

time:
2015-10-05T16:48:30Z
class:
comments:
Add options for indices.get feature

As described here https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-get-index.html?q=get%20index#_filtering_index_information

time:
2015-10-05T15:43:20Z
class:
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/aliases/IndexAliasesServiceModule.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataModule.java
core/src/main/java/org/elasticsearch/index/mapper/MapperServiceModule.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
comments:
Merge pull request #13944 from s1monw/simplify_index_modules

Remove unneeded Module abstractions

time:
2015-10-05T15:33:03Z
class:
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/aliases/IndexAliasesServiceModule.java
core/src/main/java/org/elasticsearch/index/fielddata/IndexFieldDataModule.java
core/src/main/java/org/elasticsearch/index/mapper/MapperServiceModule.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
comments:
Remove unneeded Module abstractions

These abstractions don't really do anything nor can they be extended.
We can just fold them into IndexModule for now. There are more but they
are tricky due to some test dependencies which I need to resolve first.

time:
2015-10-05T15:29:26Z
class:
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/test/java/org/elasticsearch/bootstrap/ESPolicyTests.java
core/src/test/java/org/elasticsearch/bootstrap/MockPluginPolicy.java
plugins/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptSecurityTests.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonSecurityTests.java
comments:
Merge pull request #13924 from rmuir/ireallyhatescripts

lock down javascript and python script engines better

time:
2015-10-05T14:49:27Z
class:
core/src/main/java/org/elasticsearch/client/transport/support/TransportProxyClient.java
core/src/main/java/org/elasticsearch/common/blobstore/fs/FsBlobContainer.java
core/src/main/java/org/elasticsearch/common/collect/MapBuilder.java
core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
core/src/main/java/org/elasticsearch/index/analysis/Analysis.java
core/src/main/java/org/elasticsearch/index/analysis/SnowballAnalyzerProvider.java
core/src/main/java/org/elasticsearch/index/mapper/DocumentMapperParser.java
core/src/main/java/org/elasticsearch/index/mapper/Mapper.java
core/src/main/java/org/elasticsearch/index/similarity/IBSimilarityProvider.java
core/src/main/java/org/elasticsearch/index/similarity/Similarities.java
core/src/main/java/org/elasticsearch/monitor/jvm/JvmMonitorService.java
core/src/main/java/org/elasticsearch/search/aggregations/AggregatorParsers.java
core/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/DateHistogramParser.java
core/src/main/java/org/elasticsearch/tribe/TribeService.java
comments:
Make return type of MapBuilder#immutableMap Map

We won't be removing that method - just deprecating it. So we need to remove
ImmutableMap from it. And the only way to do that is not to return one.

time:
2015-10-05T13:43:04Z
class:
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/compress/SearchSourceCompressTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchQueryTests.java
comments:
Merge branch 'master' into feature/search-request-refactoring

time:
2015-10-05T13:31:45Z
class:
core/src/test/java/org/elasticsearch/action/count/CountRequestBuilderTests.java
comments:
fixes

time:
2015-10-05T13:28:25Z
class:
core/src/main/java/org/elasticsearch/action/count/CountRequest.java
core/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java
comments:
fixes

time:
2015-10-05T13:19:26Z
class:
core/src/main/java/org/elasticsearch/action/count/CountRequest.java
core/src/test/java/org/elasticsearch/action/count/CountRequestBuilderTests.java
core/src/test/java/org/elasticsearch/action/count/CountRequestTests.java
comments:
test fixes

time:
2015-10-05T13:11:59Z
class:
core/src/main/java/org/elasticsearch/rest/action/admin/indices/validate/query/RestValidateQueryAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestCountAction.java
core/src/main/java/org/elasticsearch/rest/action/count/RestCountAction.java
core/src/main/java/org/elasticsearch/rest/action/exists/RestExistsAction.java
core/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
core/src/main/java/org/elasticsearch/rest/action/support/RestActions.java
plugins/delete-by-query/src/main/java/org/elasticsearch/rest/action/deletebyquery/RestDeleteByQueryAction.java
comments:
rename RestActions.parseQuerySource() to RestActions.urlParamsToQueryBuilder()

time:
2015-10-05T13:10:30Z
class:
core/src/main/java/org/elasticsearch/index/query/IdsQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryBuilders.java
core/src/test/java/org/elasticsearch/index/query/IdsQueryBuilderTests.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/compress/SearchSourceCompressTests.java
plugins/lang-groovy/src/test/java/org/elasticsearch/messy/tests/SearchQueryTests.java
comments:
Java api: IdsQueryBuilder to accept only non null ids and types

Types are still optional, but if you do provide them, they can't be null. Split the existing constructor that accepted nnull into two, one that accepts no arguments, and another one that accepts the types argument, which must be not null.

Also trimmed down different ways of setting ids, some were misleading as they would always add the ids to the existing ones and not set them, the add prefix makes that clear. Left `addIds` method that accepts a varargs argument. Added check for ids not be null.

time:
2015-10-05T13:10:16Z
class:
core/src/main/java/org/elasticsearch/action/count/CountRequest.java
core/src/main/java/org/elasticsearch/action/count/CountRequestBuilder.java
comments:
test fixes

time:
2015-10-05T12:52:09Z
class:
plugins/analysis-kuromoji/src/main/java/org/elasticsearch/index/analysis/JapaneseStopTokenFilterFactory.java
comments:
Remove one usage of MapBuilder#immutableMap

It was causing the build to fail.

time:
2015-10-05T12:50:15Z
class:
core/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java
comments:
Query refactoring: simplify IndexQueryParserService parse methods and prepare the field for #13859

Relates to #13859

time:
2015-10-05T12:43:34Z
class:
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
comments:
compile fix

time:
2015-10-05T12:41:30Z
class:
core/src/main/java/org/elasticsearch/common/collect/MapBuilder.java
comments:
Deprecate MapBuilder#immutableMap

I'm not 100% sure we should remove it as part of the pull request to drop
ImmutableMap. It might be more prudent to change its return type to map
and its implementation to an unmodifiable copy of the map being built
and then remove all consumers after banning ImmutableMap.

time:
2015-10-05T12:38:03Z
class:
core/src/main/java/org/elasticsearch/cluster/RestoreInProgress.java
core/src/main/java/org/elasticsearch/common/collect/MapBuilder.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/indices/flush/IndicesSyncedFlushResult.java
core/src/main/java/org/elasticsearch/indices/query/IndicesQueriesRegistry.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/test/java/org/elasticsearch/cluster/ClusterStateDiffIT.java
core/src/test/java/org/elasticsearch/cluster/serialization/DiffableTests.java
core/src/test/java/org/elasticsearch/test/rest/section/ApiCallSection.java
comments:
More progress

time:
2015-10-05T12:31:52Z
class:
core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
core/src/main/java/org/apache/lucene/search/suggest/analyzing/XAnalyzingSuggester.java
core/src/main/java/org/elasticsearch/SpecialPermission.java
core/src/main/java/org/elasticsearch/Version.java
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/TransportUpgradeStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java
core/src/main/java/org/elasticsearch/action/get/TransportShardMultiGetAction.java
core/src/main/java/org/elasticsearch/action/index/IndexRequest.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
core/src/main/java/org/elasticsearch/action/support/replication/ReplicationRequest.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/bootstrap/JarHell.java
core/src/main/java/org/elasticsearch/bootstrap/Seccomp.java
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/main/java/org/elasticsearch/common/hash/MessageDigests.java
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
core/src/main/java/org/elasticsearch/common/util/CancellableThreads.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexServicesProvider.java
core/src/main/java/org/elasticsearch/index/analysis/Analysis.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/IndexSearcherWrapper.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolateStats.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/percolator/stats/ShardPercolateService.java
core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
core/src/main/java/org/elasticsearch/index/query/QueryShardContext.java
core/src/main/java/org/elasticsearch/index/settings/IndexSettingsService.java
core/src/main/java/org/elasticsearch/index/shard/IndexSearcherWrapper.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/shard/StoreRecovery.java
core/src/main/java/org/elasticsearch/index/shard/TranslogRecoveryPerformer.java
core/src/main/java/org/elasticsearch/index/similarity/Similarities.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardSnapshot.java
core/src/main/java/org/elasticsearch/index/store/IndexStore.java
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/main/java/org/elasticsearch/indices/IndicesLifecycle.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/IndicesWarmer.java
core/src/main/java/org/elasticsearch/indices/InternalIndicesLifecycle.java
core/src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySource.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoveryTarget.java
core/src/main/java/org/elasticsearch/indices/recovery/SharedFSRecoverySourceHandler.java
core/src/main/java/org/elasticsearch/indices/store/IndicesStore.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/percolator/MultiDocumentPercolatorIndex.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/percolator/SingleDocumentPercolatorIndex.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginInfo.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestAllocationAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/script/ScriptContextRegistry.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/search/highlight/PlainHighlighter.java
core/src/main/java/org/elasticsearch/search/suggest/SuggestUtils.java
core/src/main/java/org/elasticsearch/search/suggest/completion/CompletionTokenStream.java
core/src/main/java/org/elasticsearch/search/suggest/phrase/PhraseSuggester.java
core/src/main/java/org/elasticsearch/snapshots/RestoreService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/test/java/org/elasticsearch/SpecialPermissionTests.java
core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreRequestIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/upgrade/UpgradeReallyOldIndexIT.java
core/src/test/java/org/elasticsearch/bootstrap/JarHellTests.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
core/src/test/java/org/elasticsearch/cluster/routing/operation/hash/murmur3/Murmur3HashFunctionTests.java
core/src/test/java/org/elasticsearch/common/hash/MessageDigestsTests.java
core/src/test/java/org/elasticsearch/common/hashing/MurmurHash3Tests.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/common/logging/log4j/LoggingConfigurationTests.java
core/src/test/java/org/elasticsearch/document/DocumentActionsIT.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/IndexServiceTests.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/MockEngineFactoryPlugin.java
core/src/test/java/org/elasticsearch/index/codec/CodecTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineSettingsTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
core/src/test/java/org/elasticsearch/index/mapper/core/TokenCountFieldMapperTests.java
core/src/test/java/org/elasticsearch/index/query/GeoPolygonQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/query/HasParentQueryBuilderTests.java
core/src/test/java/org/elasticsearch/index/search/MultiMatchQueryTests.java
core/src/test/java/org/elasticsearch/index/shard/EngineAccess.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/index/snapshots/blobstore/FileInfoTests.java
core/src/test/java/org/elasticsearch/index/store/CorruptedFileIT.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
core/src/test/java/org/elasticsearch/indexing/IndexActionIT.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
core/src/test/java/org/elasticsearch/indices/flush/SyncedFlushSingleNodeTests.java
core/src/test/java/org/elasticsearch/indices/leaks/IndicesLeaksIT.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryIT.java
core/src/test/java/org/elasticsearch/indices/recovery/RecoverySourceHandlerTests.java
core/src/test/java/org/elasticsearch/indices/recovery/RecoveryStatusTests.java
core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
core/src/test/java/org/elasticsearch/plugins/PluginInfoTests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
core/src/test/java/org/elasticsearch/recovery/RecoveriesCollectionTests.java
core/src/test/java/org/elasticsearch/script/MockScriptEngine.java
core/src/test/java/org/elasticsearch/search/aggregations/metrics/TopHitsIT.java
core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
core/src/test/java/org/elasticsearch/search/innerhits/InnerHitsIT.java
core/src/test/java/org/elasticsearch/search/nested/SimpleNestedIT.java
core/src/test/java/org/elasticsearch/search/suggest/SuggestSearchIT.java
core/src/test/java/org/elasticsearch/test/CorruptionUtils.java
core/src/test/java/org/elasticsearch/test/ESSingleNodeTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
core/src/test/java/org/elasticsearch/test/store/MockFSIndexStore.java
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeService.java
plugins/cloud-gce/src/main/java/org/elasticsearch/cloud/gce/GceComputeServiceImpl.java
plugins/cloud-gce/src/main/java/org/elasticsearch/discovery/gce/GceDiscovery.java
plugins/cloud-gce/src/main/java/org/elasticsearch/discovery/gce/GceUnicastHostsProvider.java
plugins/cloud-gce/src/main/java/org/elasticsearch/plugin/cloud/gce/CloudGcePlugin.java
plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoverySettingsTests.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/cloud/aws/Ec2Module.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/discovery/ec2/Ec2Discovery.java
plugins/discovery-ec2/src/main/java/org/elasticsearch/plugin/discovery/ec2/Ec2DiscoveryPlugin.java
plugins/discovery-ec2/src/test/java/org/elasticsearch/discovery/ec2/Ec2DiscoverySettingsTests.java
plugins/jvm-example/src/main/java/org/elasticsearch/plugin/example/JvmExamplePlugin.java
plugins/lang-expression/src/main/java/org/elasticsearch/script/expression/ExpressionScriptEngineService.java
plugins/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
plugins/repository-s3/src/main/java/org/elasticsearch/plugin/repository/s3/S3RepositoryPlugin.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbmmapfs/SmbMmapFsIndexStore.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbsimplefs/SmbSimpleFsIndexStore.java
comments:
Merge branch 'master' into feature/search-request-refactoring

time:
2015-10-05T12:27:14Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/warmer/get/GetWarmersResponse.java
core/src/main/java/org/elasticsearch/action/count/CountRequest.java
core/src/main/java/org/elasticsearch/action/count/CountRequestBuilder.java
core/src/main/java/org/elasticsearch/action/termvectors/dfs/DfsOnlyRequest.java
core/src/main/java/org/elasticsearch/cluster/metadata/IndexMetaData.java
core/src/main/java/org/elasticsearch/rest/action/admin/indices/warmer/put/RestPutWarmerAction.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestCountAction.java
core/src/main/java/org/elasticsearch/rest/action/count/RestCountAction.java
core/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java
core/src/main/java/org/elasticsearch/rest/action/support/RestActions.java
core/src/test/java/org/elasticsearch/action/count/CountRequestBuilderTests.java
comments:
review comment fixes

time:
2015-10-05T12:26:38Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/TransportUpgradeStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java
core/src/main/java/org/elasticsearch/action/get/TransportShardMultiGetAction.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexServicesProvider.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/IndexSearcherWrapper.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/percolator/PercolateStats.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/percolator/stats/ShardPercolateService.java
core/src/main/java/org/elasticsearch/index/shard/IndexSearcherWrapper.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/index/store/IndexStore.java
core/src/main/java/org/elasticsearch/indices/IndicesLifecycle.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/indices/IndicesWarmer.java
core/src/main/java/org/elasticsearch/indices/InternalIndicesLifecycle.java
core/src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySource.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/main/java/org/elasticsearch/indices/recovery/SharedFSRecoverySourceHandler.java
core/src/main/java/org/elasticsearch/indices/store/IndicesStore.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreRequestIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/upgrade/UpgradeReallyOldIndexIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/IndexServiceTests.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/MockEngineFactoryPlugin.java
core/src/test/java/org/elasticsearch/index/codec/CodecTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineSettingsTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
core/src/test/java/org/elasticsearch/index/search/MultiMatchQueryTests.java
core/src/test/java/org/elasticsearch/index/shard/EngineAccess.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
core/src/test/java/org/elasticsearch/indices/flush/SyncedFlushSingleNodeTests.java
core/src/test/java/org/elasticsearch/indices/leaks/IndicesLeaksIT.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryIT.java
core/src/test/java/org/elasticsearch/indices/recovery/RecoveryStatusTests.java
core/src/test/java/org/elasticsearch/recovery/RecoveriesCollectionTests.java
core/src/test/java/org/elasticsearch/test/ESSingleNodeTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
core/src/test/java/org/elasticsearch/test/store/MockFSIndexStore.java
plugins/jvm-example/src/main/java/org/elasticsearch/plugin/example/JvmExamplePlugin.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbmmapfs/SmbMmapFsIndexStore.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbsimplefs/SmbSimpleFsIndexStore.java
comments:
Merge pull request #13881 from s1monw/astalavista_baby

Remove shard-level injector

time:
2015-10-05T12:23:55Z
class:
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
[TEST] Add tests to ensure that Get uses wrapped searcher / reader

time:
2015-10-05T12:07:18Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexSearcherWrapper.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/test/java/org/elasticsearch/common/inject/ModuleTestCase.java
core/src/test/java/org/elasticsearch/index/IndexModuleTests.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
comments:
add tests for IndexSearcherWrapper

time:
2015-10-05T12:07:18Z
class:
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/InternalEngine.java
core/src/main/java/org/elasticsearch/index/engine/ShadowEngine.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
comments:
also wrap searcher when it's used for Get calls

time:
2015-10-05T12:07:17Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/cache/clear/TransportClearIndicesCacheAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportShardFlushAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/optimize/TransportOptimizeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/recovery/TransportRecoveryAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportShardRefreshAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/TransportIndicesStatsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/TransportUpgradeStatusAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/post/TransportUpgradeAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/validate/query/TransportValidateQueryAction.java
core/src/main/java/org/elasticsearch/action/bulk/TransportShardBulkAction.java
core/src/main/java/org/elasticsearch/action/delete/TransportDeleteAction.java
core/src/main/java/org/elasticsearch/action/exists/TransportExistsAction.java
core/src/main/java/org/elasticsearch/action/explain/TransportExplainAction.java
core/src/main/java/org/elasticsearch/action/fieldstats/TransportFieldStatsTransportAction.java
core/src/main/java/org/elasticsearch/action/get/TransportGetAction.java
core/src/main/java/org/elasticsearch/action/get/TransportShardMultiGetAction.java
core/src/main/java/org/elasticsearch/action/index/TransportIndexAction.java
core/src/main/java/org/elasticsearch/action/suggest/TransportSuggestAction.java
core/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportShardMultiTermsVectorAction.java
core/src/main/java/org/elasticsearch/action/termvectors/TransportTermVectorsAction.java
core/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/snapshots/blobstore/BlobStoreIndexShardRepository.java
core/src/main/java/org/elasticsearch/indices/IndicesWarmer.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/main/java/org/elasticsearch/indices/flush/SyncedFlushService.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySource.java
core/src/main/java/org/elasticsearch/indices/store/IndicesStore.java
core/src/main/java/org/elasticsearch/indices/store/TransportNodesListShardStoreMetaData.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/search/SearchService.java
core/src/main/java/org/elasticsearch/snapshots/SnapshotShardsService.java
core/src/test/java/org/elasticsearch/action/admin/indices/shards/IndicesShardStoreRequestIT.java
core/src/test/java/org/elasticsearch/action/admin/indices/upgrade/UpgradeReallyOldIndexIT.java
core/src/test/java/org/elasticsearch/cluster/ClusterInfoServiceIT.java
core/src/test/java/org/elasticsearch/index/IndexWithShadowReplicasIT.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineSettingsTests.java
core/src/test/java/org/elasticsearch/index/mapper/all/SimpleAllMapperTests.java
core/src/test/java/org/elasticsearch/index/search/MultiMatchQueryTests.java
core/src/test/java/org/elasticsearch/index/shard/EngineAccess.java
core/src/test/java/org/elasticsearch/index/shard/IndexShardTests.java
core/src/test/java/org/elasticsearch/indices/IndicesServiceTests.java
core/src/test/java/org/elasticsearch/indices/flush/SyncedFlushSingleNodeTests.java
core/src/test/java/org/elasticsearch/indices/recovery/IndexRecoveryIT.java
core/src/test/java/org/elasticsearch/indices/recovery/RecoveryStatusTests.java
core/src/test/java/org/elasticsearch/recovery/RecoveriesCollectionTests.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
comments:
rename fooSafe into getFoo and getFooOrNull

time:
2015-10-05T12:07:17Z
class:
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexServicesProvider.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/IndicesLifecycle.java
core/src/main/java/org/elasticsearch/indices/InternalIndicesLifecycle.java
core/src/main/java/org/elasticsearch/indices/cluster/IndicesClusterStateService.java
core/src/test/java/org/elasticsearch/index/codec/CodecTests.java
core/src/test/java/org/elasticsearch/index/fielddata/AbstractFieldDataTestCase.java
core/src/test/java/org/elasticsearch/test/ESSingleNodeTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/TestSearchContext.java
comments:
more index level cleanups

time:
2015-10-05T12:07:17Z
class:
core/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsIndices.java
core/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/percolator/PercolateStats.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/percolator/stats/ShardPercolateService.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/NodeIndicesStats.java
core/src/main/java/org/elasticsearch/percolator/PercolateContext.java
core/src/main/java/org/elasticsearch/percolator/PercolatorService.java
core/src/main/java/org/elasticsearch/rest/action/cat/RestNodesAction.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Make Percolator a first class citizen in IndexShard and prevent premature index searcher access

time:
2015-10-05T12:07:17Z
class:
core/src/main/java/org/elasticsearch/action/admin/indices/segments/TransportIndicesSegmentsAction.java
core/src/main/java/org/elasticsearch/action/admin/indices/upgrade/get/TransportUpgradeStatusAction.java
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexServicesProvider.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/IndexSearcherWrapper.java
core/src/main/java/org/elasticsearch/index/percolator/PercolatorQueriesRegistry.java
core/src/main/java/org/elasticsearch/index/shard/IndexSearcherWrapper.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/indices/memory/IndexingMemoryController.java
core/src/main/java/org/elasticsearch/indices/recovery/RecoverySourceHandler.java
core/src/main/java/org/elasticsearch/indices/recovery/SharedFSRecoverySourceHandler.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineSettingsTests.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/shard/EngineAccess.java
core/src/test/java/org/elasticsearch/test/ESSingleNodeTestCase.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
comments:
Hide engine entirely in IndexShard and do searcher wrapping only on top of the engine

time:
2015-10-05T12:07:17Z
class:
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/store/IndexStore.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/test/java/org/elasticsearch/index/IndexServiceTests.java
plugins/jvm-example/src/main/java/org/elasticsearch/plugin/example/JvmExamplePlugin.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbmmapfs/SmbMmapFsIndexStore.java
plugins/store-smb/src/main/java/org/elasticsearch/index/store/smbsimplefs/SmbSimpleFsIndexStore.java
comments:
more cleanups

time:
2015-10-05T12:07:17Z
class:
core/src/main/java/org/elasticsearch/index/IndexModule.java
core/src/main/java/org/elasticsearch/index/IndexService.java
core/src/main/java/org/elasticsearch/index/IndexServicesProvider.java
core/src/main/java/org/elasticsearch/index/engine/Engine.java
core/src/main/java/org/elasticsearch/index/engine/EngineConfig.java
core/src/main/java/org/elasticsearch/index/engine/IndexSearcherWrapper.java
core/src/main/java/org/elasticsearch/index/engine/IndexSearcherWrappingService.java
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/shard/IndexShardModule.java
core/src/main/java/org/elasticsearch/index/shard/ShadowIndexShard.java
core/src/main/java/org/elasticsearch/index/store/IndexStore.java
core/src/main/java/org/elasticsearch/indices/IndicesService.java
core/src/main/java/org/elasticsearch/plugins/Plugin.java
core/src/main/java/org/elasticsearch/plugins/PluginsService.java
core/src/test/java/org/elasticsearch/index/MockEngineFactoryPlugin.java
core/src/test/java/org/elasticsearch/index/engine/InternalEngineTests.java
core/src/test/java/org/elasticsearch/index/engine/ShadowEngineTests.java
core/src/test/java/org/elasticsearch/indices/leaks/IndicesLeaksIT.java
core/src/test/java/org/elasticsearch/test/InternalTestCluster.java
core/src/test/java/org/elasticsearch/test/store/MockFSIndexStore.java
comments:
Remove shard-level injector

Today we use a hirachical injector on the shard level for each shard
created. This commit removes the shard level injetor and replaces
it with good old constructor calls. This also removes all shard level plugin
facilities such that plugins can only have node or index level modules.
For plugins that need to track shard lifecycles they should use the relevant
callback from the lifecycle we already provide.

time:
2015-10-05T12:03:47Z
class:
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
comments:
Merge pull request #13923 from s1monw/off_by_one

Record all bytes of the checksum in VerifyingIndexOutput

time:
2015-10-05T11:49:55Z
class:
core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
core/src/test/java/org/elasticsearch/common/logging/log4j/LoggingConfigurationTests.java
comments:
Merge pull request #13934 from brwe/log-config-order

settings in log config file should not overwrite custom parameters

time:
2015-10-05T11:29:35Z
class:
core/src/main/java/org/elasticsearch/common/logging/log4j/LogConfigurator.java
core/src/test/java/org/elasticsearch/common/logging/log4j/LoggingConfigurationTests.java
comments:
settings in log config file should not overwrite custom parameters

time:
2015-10-05T08:03:25Z
class:
plugins/ingest/src/main/java/org/elasticsearch/ingest/Data.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/Pipeline.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/Processor.java
plugins/ingest/src/main/java/org/elasticsearch/ingest/SimpleProcessor.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestModule.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/IngestPlugin.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/PipelineStore.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/rest/IngestRestFilter.java
plugins/ingest/src/main/java/org/elasticsearch/plugin/ingest/transport/IngestActionFilter.java
plugins/ingest/src/test/java/IngestRunner.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/BasicTests.java
plugins/ingest/src/test/java/org/elasticsearch/ingest/IngestRestIT.java
comments:
wip

time:
2015-10-05T03:20:31Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/test/java/org/elasticsearch/indexing/IndexActionIT.java
comments:
Merge pull request #13862 from xuzha/index_name_dot

Forbid index name `.` and `..`

time:
2015-10-05T03:05:43Z
class:
core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
core/src/test/java/org/elasticsearch/indexing/IndexActionIT.java
comments:
Forbid index name with '.' and '..'.

Fixes #13858

time:
2015-10-05T01:02:50Z
class:
core/src/main/java/org/elasticsearch/common/hash/MessageDigests.java
core/src/test/java/org/elasticsearch/common/hash/MessageDigestsTests.java
comments:
Remove unnecessary call to MessageDigest.reset

time:
2015-10-04T22:23:48Z
class:
comments:
install groovy plugin before running script test

groovy moved to a plugin but the tests rely on it
see #13834

time:
2015-10-04T21:13:47Z
class:
core/src/main/java/org/elasticsearch/bootstrap/BootstrapInfo.java
core/src/main/java/org/elasticsearch/bootstrap/ESPolicy.java
core/src/test/java/org/elasticsearch/bootstrap/ESPolicyTests.java
core/src/test/java/org/elasticsearch/bootstrap/MockPluginPolicy.java
plugins/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
plugins/lang-javascript/src/main/java/org/elasticsearch/script/javascript/JavaScriptScriptEngineService.java
plugins/lang-javascript/src/test/java/org/elasticsearch/script/javascript/JavaScriptSecurityTests.java
plugins/lang-python/src/main/java/org/elasticsearch/script/python/PythonScriptEngineService.java
plugins/lang-python/src/test/java/org/elasticsearch/script/python/PythonSecurityTests.java
comments:
lock down javascript and python permissions

time:
2015-10-04T20:56:15Z
class:
core/src/main/java/org/elasticsearch/common/cache/Cache.java
comments:
Add field for expiration conditions

time:
2015-10-04T20:26:12Z
class:
core/src/main/java/org/elasticsearch/common/hash/MessageDigests.java
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
core/src/test/java/org/elasticsearch/cluster/routing/operation/hash/murmur3/Murmur3HashFunctionTests.java
core/src/test/java/org/elasticsearch/common/hash/MessageDigestsTests.java
core/src/test/java/org/elasticsearch/common/hashing/MurmurHash3Tests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
plugins/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
comments:
Merge pull request #13907 from jasontedor/hash-be-gone

Remove and forbid use of com.google.common.hash.*

time:
2015-10-04T20:01:24Z
class:
core/src/main/java/org/elasticsearch/common/hash/MessageDigests.java
core/src/main/java/org/elasticsearch/common/http/client/HttpDownloadHelper.java
core/src/test/java/org/elasticsearch/cluster/routing/operation/hash/murmur3/Murmur3HashFunctionTests.java
core/src/test/java/org/elasticsearch/common/hash/MessageDigestsTests.java
core/src/test/java/org/elasticsearch/common/hashing/MurmurHash3Tests.java
core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
plugins/lang-groovy/src/main/java/org/elasticsearch/script/groovy/GroovyScriptEngineService.java
comments:
Remove and forbid use of com.google.common.hash.*

This commit removes and now forbids all uses of
com.google.common.hash.HashCode, com.google.common.hash.HashFunction,
and com.google.common.hash.Hashing across the codebase. This is one of
the few remaining steps in the eventual removal of Guava as a
dependency.

Relates #13224

time:
2015-10-04T19:46:40Z
class:
core/src/test/java/org/elasticsearch/index/query/HasChildQueryBuilderTests.java
comments:
[TEST] Work around how OS / GIT handles line separator

time:
2015-10-04T19:11:02Z
class:
core/src/main/java/org/elasticsearch/index/store/Store.java
core/src/test/java/org/elasticsearch/index/store/StoreTests.java
comments:
Record all bytes of the checksum in VerifyingIndexOutput

The fix in #13848 has an off by one issue where the first byte of the checksum
was never written. Unfortunately most tests shadowed the problem and the first
byte of the checksum seems to be very likely a 0 which causes only very rare
failures.

Relates to #13896
Relates to #13848

time:
2015-10-03T23:18:53Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
comments:
Merge pull request #13882 from xuzha/single_datanode_early_terminate

Early terminate high disk watermark checks on single data node cluster

time:
2015-10-03T23:16:51Z
class:
core/src/main/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.java
core/src/test/java/org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDeciderTests.java
comments:
DiskThresholdDecider check data nodes number

Right now, we allow allocation if there is only a single node in the
cluster. it would be nice to fail open when there is only one data node
(instead of only one node total).

closes #9391

time:
2015-10-03T21:29:01Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
comments:
set last indexing time before invoking IMC

time:
2015-10-03T21:15:59Z
class:
core/src/main/java/org/elasticsearch/index/shard/IndexShard.java
core/src/main/java/org/elasticsearch/index/translog/TranslogConfig.java
core/src/test/java/org/elasticsearch/indices/memory/IndexingMemoryControllerTests.java
comments:
fix tests; pull out translog buffer size constant
